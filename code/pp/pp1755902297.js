(function(){var j8=window.location.hostname.endsWith("jampea.com")?2:window.location.hostname=="www.vectorpea.com"?1:0,bI=!0;
(function(){var d;try{d=window.localStorage}catch(cQ){}var v={};if(d){var t=d.getItem("_ppp");if(t)v=JSON.parse(t);
else{var h="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var n=0;n<h.length;n++){var X=d.getItem(h[n]);if(X!=null)v[h[n]]=X}}}var g=window.locStor={};g.setItem=function(Z,Y){v[Z]=Y;
if(d)d.setItem("_ppp",JSON.stringify(v))};g.getItem=function(Z){return v[Z]};g.removeItem=function(Z){delete v[Z];
if(d)d.setItem("_ppp",JSON.stringify(v))};if(j8==0){window.showCap=function(){x(!0)};window.hideCap=function(){x(!1)};
function x(Z){document.getElementById("cap").setAttribute("style",Z?"":"display:none;");window.locStor.setItem("capShown",""+Z)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var iP={a7:0,i_:null,oh:null,aKb:null,Di:null,Uz:null,ai3:!0,al$:0,Dr:!1};iP.event=function(d,v,t){if(j8!=0)return;
if(v!=null&&v<Math.random())return;if(t==null)t=0;var h=new XMLHttpRequest;h.open("GET","/papi/event.php?id="+d+"&g="+t+"&rnd="+Math.random());
h.send()};iP.$j=function(d){if(j8!=0)d="//www.photopea.com/"+d;return d};iP.nv=function(d){var v=location.href;
if(v.indexOf("photopea.com")!=-1||v.indexOf("vectorpea.com")!=-1||v.indexOf("jampea.com")!=-1)return"//vecpea.com/"+d;
return iP.$j(d)};iP.yU=function(){var d=iP.qP();if(d==null)return null;var v=u.jy(24)?" ":"",t=u.hm[u.RI("Uu,"+v)];
t=t[u.RI(v+"$/")];var h=iP.a5T(1,999);if(h&&iP.r0(h)*50>t()/20)return[0,h];var X=d.inTeams;if(X)for(var n=0;
n<X.length;n++)if(X[n][1]*50>t()/20)return[1,X[n]];return null};iP.uD=function(){return iP.af1()!=null};
iP.rI=function(){return iP.r0(iP.a5T(1e3,999999999))};iP.r0=function(d){return d==null?0:d[0]+d[1]*24*60*60};
iP.a5T=function(d,v){var t=iP.qP(),h=t.pmnts,X=0,g=null;if(h==null||h.length==0)return 0;for(var n=0;
n<h.length;n++){var x=h[n],Z=iP.r0(x);if(d<=x[2]&&x[2]<=v)if(X<Z){X=Z;g=x}}return g};iP.qP=function(){return iP.Uz};
iP.B3=function(d){window.addEventListener("message",iP.ain,!1);setInterval(iP.aDE,5e3);if(iP.uD()&&navigator.onLine){iP.i_=d;
iP.Ax()}else setTimeout(d,1)};iP.aDE=function(){if(iP.uD()&&iP.Dr){iP.aAP(iP.ds());iP.Dr=!1}};iP.vC=function(d){iP.i_=d;
var v="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);iP.aKb=window.open(v,"_blank")};
iP.aow=function(){var d=window.locStor;d.removeItem(iP.a7+"_uid");d.removeItem(iP.a7+"_provider");d.removeItem(iP.a7+"_token");
iP.Uz=null};iP.ain=function(d){if(d.data instanceof ArrayBuffer||d.data instanceof Object)return;if(d.data.charAt(0)!="{")return;
var v=JSON.parse(d.data);if(v.prms==null)return;var t=v.prms.split(",");if(t[0]=="papi_logged_in"){var h=window.locStor;
h.setItem(iP.a7+"_uid",t[1]);iP.rh(t[2]);h.setItem(iP.a7+"_provider",t[3]);iP.aKb.close();iP.Ax()}if(t[0]=="payment_complete"){iP.Di.close();
iP.Ax()}};iP.af1=function(){var d=window.locStor.getItem(iP.a7+"_token");if(d!=null&&Date.now()*.001+10<parseInt(d.split("-")[0]))return d;
return null};iP.rh=function(d){var v=window.locStor.getItem(iP.a7+"_token");if(v!=null&&parseInt(d.split("-")[0])<parseInt(v.split("-")[0]))return;
window.locStor.setItem(iP.a7+"_token",d);clearTimeout(iP.al$);iP.al$=setTimeout(iP.acC,Math.min(1e9,parseInt(d.split("-")[0])*1e3-Date.now()-20*1e3))};
iP.aDm=function(d,v,t,h){if(!navigator.onLine)throw"a";var X=new XMLHttpRequest;X.open("POST","https://www.photopea.com/papi/record_new.php",!0);
X.onload=t;var g=iP.R9(0)+"&read=3&tuid="+d+"&tid="+v;if(h)g+="&tpl="+encodeURIComponent(h);X.setRequestHeader("Content-type","application/x-www-form-urlencoded");
X.send(g)};iP.acC=function(){if(!navigator.onLine)throw"a";var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=iP.aJi;var v=iP.R9(0)+"&read=2";d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.send(v)};iP.Ax=function(){if(!navigator.onLine)throw"b";var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=iP.aAQ;var v=iP.R9(0)+"&read=1";d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.send(v)};iP.aAP=function(d){if(!navigator.onLine)throw"c";var v=new XMLHttpRequest;v.open("POST","https://www.photopea.com/papi/record_new.php",!0);
v.onload=iP.aNq;var t=iP.R9(0)+"&read=0&score="+(d.tpl?1:0)+"&spublic="+iP.ai3+"&record="+encodeURIComponent(JSON.stringify(d));
v.setRequestHeader("Content-type","application/x-www-form-urlencoded");v.send(t)};iP.aAQ=function(d){var v=JSON.parse(d.target.response);
if(v.error){}else{iP.Uz=v.user;var t=iP.ds(),h=v.record;if(v.record){iP.ai3=v.spublic;iP.adD(h)}else if(t)iP.aAP(t)}iP.rh(v.token);
var X=iP.i_,g=iP.oh;if(X){iP.i_=null;X()}if(g){iP.oh=null;g()}};iP.aJi=function(d){var v=JSON.parse(d.target.response);
iP.rh(v.token)};iP.aNq=function(d){var v=JSON.parse(d.target.response);iP.rh(v.token);if(iP.oh)iP.Ax()};
iP.R9=function(d){var v=window.locStor;return"app="+d+"&uid="+v.getItem(iP.a7+"_uid")+"&token="+v.getItem(iP.a7+"_token")};
iP.Yp=function(d){if(d){iP.oh=d;iP.Ax()}return iP.ds()};iP.E6=function(d,v){iP.adD(d);iP.Dr=!0;if(v){iP.oh=v;
iP.aDE()}};iP.ds=function(){var d=window.locStor.getItem(iP.a7+"_stateLocal"),v;if(d==null)return null;
try{v=JSON.parse(d)}catch(cQ){return null}return v};iP.adD=function(d){var v=JSON.stringify(d);window.locStor.setItem(iP.a7+"_stateLocal",v)};
iP.order=function(d,v,t){iP.i_=t;var h=window.locStor,X="https://www.photopea.com/papi/order.php?ptype="+v+"&param="+d+"&uid="+h.getItem(iP.a7+"_uid")+"&token="+h.getItem(iP.a7+"_token");
iP.Di=window.open(X,"_blank")};iP.aET=function(d,v){iP.i_=v;var t=window.locStor,h="https://www.photopea.com/papi/insertKey.php?key="+d+"&uid="+t.getItem(iP.a7+"_uid")+"&token="+t.getItem(iP.a7+"_token");
iP.Di=window.open(h,"_blank")};var f4={};f4.apD=function(d,v){if(typeof v!="string")throw"e";var t=u.hm[u.RI("%|xK")];
if(t==null)return"XYP";var h=d.toString(16).slice(0,4),X=h+v+"aQYRDCB";return t(X).slice(5,17)+h.split("").reverse().join("")};
f4.ys=function(){var d=u.hm[u.Rb("3M"+(u.jy(26)?"]K":"fa"))];d=d[u.Rb("]["+(!u.jy(28)?",":"`"))];return Math.floor(d()/1e3)};
f4.jy=function(d){var v=0;for(var n=0;n<d;n++)v+=Math.random();return v/d<Math.PI/4};f4.Rb=function(d){var v="";
if(!f4.jy(28))d+="-3";for(var n=0;n<d.length;n++){var t=d.charCodeAt(n);if(t<32||126<t)throw"e";v+=String.fromCharCode(32+(t-32+17+3*n)%95)}return v};
f4.RI=function(d){var v="";if(!f4.jy(28))d+="-1";for(var n=0;n<d.length;n++){var t=d.charCodeAt(n);t-=32;
t+=95e4;t-=17+3*n;t=t%95;v+=String.fromCharCode(32+t)}return v};f4.xo=f4.Rb("XP");f4.FM=f4.Rb("XYP");
f4.S6=f4.Rb("c[Y");f4.aq4=f4.Rb("][`");f4.nl=f4.Rb("SU_");f4.lF=f4.Rb("b^L");f4.aDp=f4.Rb("61=");f4.Ma=f4.Rb("Q[M_");
f4.YI=f4.Rb("WQJJ");f4.JT=f4.Rb("W^NL");f4.aNs=f4.Rb("[QOZ");f4.rj=f4.Rb("[[JJ");f4.ard=f4.Rb("[[PU");
f4.aK=f4.Rb("^\\NT");f4.adw=f4.Rb("bQUL");f4.wJ=f4.Rb("bQWJ");f4.afK=f4.Rb("3M]K");f4.aFR=f4.Rb("<M]N");
f4.aI3=f4.Rb("][WK");f4.q5=f4.Rb("?;<:");f4.to=f4.Rb("P_bTF");f4.OH=f4.Rb("RXRIN");f4.gz=f4.Rb("aUPNW");
f4.RG=f4.Rb("b`bRH");f4.a5E=f4.Rb("fUMZK");f4.aEJ=f4.Rb("Q[]ZRM");f4.aqg=f4.Rb("WQRMKT");f4.aef=f4.Rb("WUMJHN");
f4.gc=f4.Rb("XR[GPE");f4.a8A=f4.Rb("aMWJRM");f4.$J=f4.Rb("bO[OST");f4.adu=f4.Rb("cM[MHT");f4.aHR=f4.Rb("^Z5OQE");
f4.tS=f4.Rb("^ZUUDD");f4.a8v=f4.Rb("_M[KQT");f4.alO=f4.Rb("POLUXNQ");f4.N1=f4.Rb("R[WLLRJ");f4.agU=f4.Rb("SU\\VOAV");
f4.a6y=f4.Rb("XZMK[/C");f4.agG=f4.Rb("^ZNXUOO");f4.iy=f4.Rb("aQYRDCB");f4.OU=f4.Rb("[[LGWILH");f4.rK=f4.Rb("S[L[PEKN");
f4.adE=f4.Rb("_[\\OWILH");f4.gv=f4.Rb("aQOKURBL");f4.abB=f4.Rb("aQUGWIS?");f4.KX=f4.Rb("aQ\\VRNP?");
f4.aNR=f4.Rb("XZWKU(1'#");f4.aA5=f4.Rb("SQLUGE2, ");f4.aag=f4.Rb("]M_OJAQII");f4.kC=f4.Rb("bQ]:LMBILH");
f4.aLX=f4.Rb("UU[YW#ECC8");f4.aN6=f4.Rb("P^[G\\BR@=9C");f4.uE=f4.Rb("cQaZ&OKN<BE");f4.q3=f4.Rb("P\\YKQD B@@5");
f4.aJl=f4.Rb("aQVUYE B@@5");f4.ach=f4.Rb("bQ]/QTBLM5=");f4.V1=f4.Rb("bQ]'WTOC9IE3");f4.aLR=f4.Rb("XZ\\KUT~?=CC3");
f4.amk=f4.Rb("aQ\\VRNP?+MA3");f4.c7=f4.Rb("R^NGWE\"F<A6<?");f4.aj3=f4.Rb("VQ]+OEJ?EHrGs,");f4.dd=f4.Rb("G95.WTM,<EF3><");
f4.awT=f4.Rb("PZLKVTLL&F:5468");f4.Au=f4.Rb("PPM+YEKN#=DB06*4");f4.aNl=f4.Rb("bQ]8HQR?JHx3,,*4");f4.aeJ=f4.Rb("SQLUGE2, v@;;73'-0");
function cQ(d){this.Y2={};this.aj$=!1;this.AK=0;this.wX();if(d!=!0)window.__kb=this}cQ.Vt=null;cQ.prototype.wX=function(){var d=navigator.keyboard;
if(d&&window.top==window.self)d.getLayoutMap().then(function(v){cQ.Vt=v})};cQ.prototype.aNa=function(d){this.aj$=d};
cQ.prototype.azW=function(){return this.aj$};cQ.prototype.ans=function(d){var v={shiftKey:cQ.cm,altKey:cQ.io,ctrlKey:cQ.LE};
for(var t in v){var h=d[t],X=v[t],g=this.A(X);if(!h&&g){for(var n=0;n<X.Ar.length;n++)this.pS(X.Ar[n])}}};
cQ.prototype.V8=function(d){this.AK++;this.Y2[d]=!0};cQ.prototype.pS=function(d){this.AK--;delete this.Y2[d];
if(this.AK<=0||cQ.L9(d,cQ.a5y))this.reset()};cQ.prototype.A=function(d){for(var n=0;n<d.Ar.length;n++)if(this.Y2[d.Ar[n]])return!0;
return!1};cQ.prototype.reset=function(){this.Y2={};this.AK=0};cQ.prototype.eI=function(d){var v=this,t=v.A(cQ.cm)?10:1,h=0,X=0;
if(v.A(cQ.Qw))h=-t;else if(v.A(cQ.EU))h=t;else if(v.A(cQ.fP))X=-t;else if(v.A(cQ.eq))X=t;var g=new cK(h,X);
if(d!=null){var x=new gi;x.rotate(d);g=x._V(g);if(Math.abs(g.x)<Math.abs(g.y))g.x=0;else g.y=0;g.x=Math.round(g.x);
g.y=Math.round(g.y)}return g};cQ.prototype.aC=function(){var d=this,v=cQ.cf;for(var n=0;n<10;n++)if(d.A(v[n]))return n;
return-1};cQ.L9=function(d,v){return v.Ar.indexOf(d)!=-1};cQ.azq=function(d,v){return cQ.L9(cQ.tC(d),v)};
cQ.DS=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};cQ.aza="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(cQ.DS())cQ.aza.push("ControlLeft","ControlRight");cQ.a8u=function(d){var v=d.code;if(v=="")return!1;
var t=cQ.L9;if(d.altKey&&!d.shiftKey&&!d.ctrlKey){var h=cQ.cf.concat([cQ.P9,cQ.bJ,cQ.i3,cQ.LV]),X=!1;
for(var n=0;n<h.length;n++)if(t(v,h[n]))return!1}if(v=="KeyQ"&&d.metaKey)return!1;if(v=="KeyH"&&d.metaKey&&d.altKey)return!1;
return cQ.aza.indexOf(v)==-1||d.shiftKey&&(v=="F5"||v=="F6")};cQ.aio=function(d){var v=cQ;if(d.ctrlKey&&(v.L9(d.code,v.P9)||v.L9(d.code,v.bJ)))d.preventDefault()};
cQ.Mh=function(d){d.addEventListener("keydown",cQ.aio,!1)};cQ.R3=function(d){if(typeof d=="string")return d;
var v=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(d==null)return"";var t=[];for(var n=0;n<d.length;
n++){var h=d[n].ze?d[n].ze:d[n];if(v&&d[n].ZN)h=d[n].ZN;t.push(h)}if(v||t.length==1)return t.join(" ");
else{var X=t.pop();return t.join("+")+" + "+X}};cQ.tC=function(d){if(cQ.Vt==null)window.__kb.wX();var v=d.code,t=cQ.Vt,h={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(t&&t.get(v)){var X=t.get(v).toLowerCase(),g=X.charCodeAt(0);if(97<=g&&g<=122){var x="Key"+X.toUpperCase();
v=x}else if(h[X])v=h[X];return v}var X=d.key.toLowerCase(),g=X.charCodeAt(0);if(X.length==1){if(97<=g&&g<=122){var x="Key"+X.toUpperCase();
v=x}else if(h[X])v=h[X]}if(X=="control"&&v!="")v="ControlLeft";return v};cQ.a0h=0;cQ.aHu=function(d,v){var t=0;
if(Date.now()-cQ.a0h>1e3){t=v==0?100:v*10}else{if(d%10!=0)d*=10;t=(d+v)%100}cQ.a0h=Date.now();return t};
cQ.a29={nm:"No Touch",Ar:["NoTouch"]};cQ.u0={ze:"Enter",Ar:["Enter","NumpadEnter"]};cQ.cm={ze:"Shift",ZN:"\u21E7",Ar:["ShiftLeft","ShiftRight"]};
cQ.a5y={ze:"Meta",Ar:["MetaLeft","MetaRight","OSLeft","OSRight"]};cQ.LE={ze:"Ctrl",ZN:"\u2318",Ar:cQ.DS()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
cQ.io={ze:"Alt",ZN:"\u2325",Ar:["AltLeft","AltRight"]};cQ.avL={ze:"CtrlOrAlt",Ar:cQ.LE.Ar.concat(cQ.io.Ar)};
cQ.l5={ze:"Escape",Ar:["Escape"]};cQ.uh={ze:"Space",Ar:["Space"]};cQ.$G={ze:"Tab",Ar:["Tab"]};cQ.ek={ze:"Home",Ar:["Home"]};
cQ.a9k={ze:"End",Ar:["End"]};cQ.Qw={ze:"Left",Ar:["ArrowLeft"]};cQ.fP={ze:"Up",Ar:["ArrowUp"]};cQ.EU={ze:"Right",Ar:["ArrowRight"]};
cQ.eq={ze:"Down",Ar:["ArrowDown"]};cQ.P9={ze:"+",Ar:["NumpadAdd","Equal"]};cQ.bJ={ze:"-",Ar:["NumpadSubtract","Minus"]};
cQ.Fr={ze:";",Ar:["Semicolon"]};cQ.a2k={ze:"Dead",Ar:["Dead"]};cQ.abv={ze:"=",Ar:["Equal"]};cQ.SY={ze:"Backspace",Ar:["Backspace"]};
cQ.on={ze:"Delete",Ar:["Delete"]};cQ.aLU={ze:"Backslash",Ar:["Backslash","IntlBackslash"]};cQ.amY={ze:"Slash",Ar:["NumpadDivide","Slash"]};
cQ.aGA={ze:"Backquote",Ar:["Backquote"]};cQ.i3={ze:"[",Ar:["BracketLeft"]};cQ.LV={ze:"]",Ar:["BracketRight"]};
cQ.ok={ze:".",Ar:["Period"]};cQ.ep={ze:",",Ar:["Comma"]};cQ.ww={ze:"'",Ar:["Quote"]};cQ.Y={ze:"A",Ar:["KeyA"]};
cQ.ST={ze:"B",Ar:["KeyB"]};cQ.f9={ze:"C",Ar:["KeyC"]};cQ.J4={ze:"D",Ar:["KeyD"]};cQ.E={ze:"E",Ar:["KeyE"]};
cQ.v_={ze:"F",Ar:["KeyF"]};cQ.sK={ze:"G",Ar:["KeyG"]};cQ.sh={ze:"H",Ar:["KeyH"]};cQ.Fc={ze:"I",Ar:["KeyI"]};
cQ.vq={ze:"J",Ar:["KeyJ"]};cQ.qB={ze:"K",Ar:["KeyK"]};cQ.f0={ze:"L",Ar:["KeyL"]};cQ.wr={ze:"M",Ar:["KeyM"]};
cQ.OW={ze:"N",Ar:["KeyN"]};cQ.lK={ze:"O",Ar:["KeyO"]};cQ._T={ze:"P",Ar:["KeyP"]};cQ.acc={ze:"Q",Ar:["KeyQ"]};
cQ.q2={ze:"R",Ar:["KeyR"]};cQ.AA={ze:"S",Ar:["KeyS"]};cQ.nG={ze:"T",Ar:["KeyT"]};cQ.Yu={ze:"U",Ar:["KeyU"]};
cQ.n6={ze:"V",Ar:["KeyV"]};cQ.aDd={ze:"W",Ar:["KeyW"]};cQ.Hc={ze:"X",Ar:["KeyX"]};cQ.if={ze:"Y",Ar:["KeyY"]};
cQ.eG={ze:"Z",Ar:["KeyZ"]};cQ.Su={ze:"0",Ar:["Numpad0","Digit0"]};cQ.Id={ze:"1",Ar:["Numpad1","Digit1"]};
cQ.a2r={ze:"2",Ar:["Numpad2","Digit2"]};cQ.apv={ze:"3",Ar:["Numpad3","Digit3"]};cQ.axr={ze:"4",Ar:["Numpad4","Digit4"]};
cQ.akA={ze:"5",Ar:["Numpad5","Digit5"]};cQ.awS={ze:"6",Ar:["Numpad6","Digit6"]};cQ.wD={ze:"7",Ar:["Numpad7","Digit7"]};
cQ.aiB={ze:"8",Ar:["Numpad8","Digit8"]};cQ.arH={ze:"9",Ar:["Numpad9","Digit9"]};cQ.cf=[cQ.Su,cQ.Id,cQ.a2r,cQ.apv,cQ.axr,cQ.akA,cQ.awS,cQ.wD,cQ.aiB,cQ.arH];
cQ.aDH={ze:"F1",Ar:["F1"]};cQ.aMi={ze:"F2",Ar:["F2"]};cQ.a7N={ze:"F3",Ar:["F3"]};cQ.aMu={ze:"FF",Ar:["F4"]};
cQ.a9F={ze:"F5",Ar:["F5"]};cQ.ait={ze:"F6",Ar:["F6"]};cQ.aja={ze:"F7",Ar:["F7"]};cQ.adT={ze:"F8",Ar:["F8"]};
cQ.a9e={ze:"F9",Ar:["F9"]};cQ.aMy={ze:"F10",Ar:["F10"]};cQ.a8g={ze:"F11",Ar:["F11"]};cQ.aNZ={ze:"F12",Ar:["F12"]};
function fy(d){this._Z={};this.bF={};this.asO=0;this.aGO={};this.Ae=[];this.aJO=0;this.rj=d;fy.sU=this}fy.aLM=function(d,v){var n=0,t=fy.ZA;
while(n<t.length){if((v>>>n&1)==1)break;n++}if(n!=0&&fy.CV(d,[33,126])>.7)n=0;if(v==0||t[n][1]==""){if((v&15)!=0&&fy.CV(d,[33,126])>.7)n=0;
else if(v==0)n=0;else{n=0}}return t[n][1]};fy.jU=120;fy.Sr=20;fy.cols=16;fy.dO=function(d){var v=d.name.postScriptName;
if(v==null)return null;return v.replace(/ /g,"-")};fy.aAD=function(d){var v=d.name,t=v.typoFamilyName,h=v.typoSubfamilyName,X=t!=null&&h!=null,g=X?t:v.fontFamily,x=X?h:v.fontSubfamily;
if(x==null)x="Regular";var Z=fy.a4x,Y=g.toLowerCase();for(var n=0;n<Z.length;n++){if(Z[n]=="roman")continue;
if(Y.endsWith(" "+Z[n])||Y.endsWith("-"+Z[n])){var a=g.length-Z[n].length,z=g.slice(a);g=g.slice(0,a-1);
if(z!=""){if(x=="Regular"||x==g+" Regular")x=z;else x=z+" "+x}break}}var p="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var n=0;n<p.length;n++)if(g.startsWith(p[n])){var z=g.slice(p[n].length);g=p[n];if(z.startsWith(" ")||z.startsWith("-"))z=z.slice(1);
if(z!=""){if(x=="Regular")x=z;else x=z+" "+x}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},l=U[fy.dO(d)];
if(l)x=l;return[g,x]};fy.prototype.adA=function(d){var v=this.KZ();for(var t in v)if(v[t][0]==d)this.wv(t)};
fy.prototype.aAT=function(){return Object.keys(this.bF).length!=0};fy.prototype.wv=function(d,v){if(this._Z[d])return this._Z[d];
if(this.bF[d])return null;var t=null,h=this.KZ();if(h[d]!=null)t=h[d][5];if(t==null){var X=fy.iy[d];
if(X==null){var g="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),x=d.toLowerCase(),Z=0;
if(x.indexOf("sans")!=-1)Z=0;else if(x.indexOf("serif")!=-1)Z=4;var Y=x.indexOf("bold")!=-1||x.indexOf("-black")!=-1,a=x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1||x.endsWith("-it");
if(Y&&a)Z+=3;else if(a)Z+=2;else if(Y)Z+=1;X=g[Z]}if(v!=null&&v>128)X=this.aCZ(v,X);if(this.aGO[d]==null){this.aGO[d]=1;
var z=Date.now()-this.asO>2e3?2e3:0;this.asO=Date.now();alert(d+" \u27A1 "+X,z)}return this.wv(X,v)}this.bF[d]="a";
if(t=="--loc")fy.nL.load(d);else this.rj(t)};fy.prototype.aCZ=function(d,v,t){var h=this._Z[v];if(h&&Typr.U.codeToGlyph(h,d)!=0)return v;
var X=this.KZ(),g=fy.aFM(d),x=g[0];if(X[v]&&(X[v][3]&x)==0){if(t)for(var n=0;n<t.length;n++){var Z=t[n].Name,Y=X[Z];
if(Y&&(Y[3]&x)!=0)return Z}var Z=fy.ZA[g[1]][4];if(X[Z])return Z}return v};fy.aFM=function(d){var v=fy.ZA,t=[0];
for(var n=0;n<v.length;n++){var h=v[n][2];for(var X=0;X<h.length;X+=2)if(h[X]<=d&&d<=h[X+1]){t[0]+=1<<n;
t.push(n)}}if(t.length==1)t.push(0);return t};fy.prototype.ar4=function(){var d=this.Ae,v=d[0],t=d.length-1,h=Date.now()-this.aFw>2e3?2e3:0;
this.aFw=Date.now();alert(f7.get([22,6,0])+" "+v+(t==0?"":", ... ("+t+")")+" "+f7.get([23,0])+".",1500);
this.Ae=[]};fy.prototype.avU=function(d,v){var t=fy.dO(d),h=this.KZ(),X=h[t],g=fy.aob(d);if(X==null){if(v!=!0){this.Ae.push(d.name.fullName);
clearTimeout(this.aJO);this.aJO=setTimeout(this.ar4.bind(this),300)}g.iZ=fy.ay7(d,g);this.Qm(g)}delete this.bF[t];
this._Z[t]=d};fy.a4s=function(){var d=fy.ZA,v=[];for(var n=0;n<d.length;n++)v.push(d[n][0]);return v};
fy.ay7=function(d,v){var t=document.createElement("canvas"),h=t.getContext("2d"),X=t.width=fy.jU,g=t.height=fy.Sr,x=fy.Sr*1.2/d.head.unitsPerEm;
h.translate(4,fy.Sr*.9);h.scale(x,-x);h.fillStyle="#000000";var Z=Typr.U.shape(d,fy.aLM(d,v[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(d,Z),h);h.fill();var Y=h.getImageData(0,0,X,g).data.buffer,a=b3.bV("PNG").V$([[Y,0]],X,g,{qual:1});
return"data:image/png;base64,"+b3.cq(a)};fy.ZA=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
fy.aob=function(d,v,t){var h=d.name,Y=0;if(fy.dO(d)==null){console.log(d);throw"No postScriptName!"}var X=fy.ZA,g=[];
for(var n=0;n<X.length;n++){var x=X[n][2],Z=X[n][3];g[n]=fy.CV(d,x)>Z?1:0}for(var n=0;n<g.length;n++)Y+=g[n]<<n;
var a=fy.aAD(d);return[a[0],a[1],fy.dO(d),Y,t,v]};fy.CV=function(d,v){var t=0,h=0;for(var X=0;X<v.length;
X+=2){for(var g=v[X];g<=v[X+1];g++){var x=Typr.U.codeToGlyph(d,g);if(x==0)h++;else t++}}return t/(t+h)};
fy.a9z=function(d,v){if(d[2]<v[2])return-1;if(d[2]>v[2])return 1;return 0};fy.af8=function(d,v){if(d[5]=="fs/"+d[2]+".otf")d[5]="";
else if(d[5]=="gf/"+d[2]+".otf")d[5]="a";if(d[2]==(d[0]+"-"+d[1]).replace(/\s/g,"")){d[2]=""}else if(d[2]==d[0].replace(/\s/g,"")){d[2]="a"}if(v){if(d[0]==v[0])d[0]="";
if(d[1]==v[1])d[1]="";if(d[3]==v[3])d[3]="";if(d[4]==v[4])d[4]=""}return d.join(",")};fy.abp=function(d,v){d=d.split(",");
if(d[0]=="")d[0]=v[0];if(d[1]=="")d[1]=v[1];if(d[3]=="")d[3]=v[3];else d[3]=parseInt(d[3]);if(d[4]=="")d[4]=v[4];
else d[4]=parseInt(d[4]);if(d[2]=="")d[2]=(d[0]+"-"+d[1]).replace(/\s/g,"");else if(d[2]=="a")d[2]=d[0].replace(/\s/g,"");
if(d[5]=="")d[5]="fs/"+d[2]+".otf";else if(d[5]=="a")d[5]="gf/"+d[2]+".otf";return d};fy.iy={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
fy.prototype.KZ=function(){if(FNTS.map==null){var d=FNTS.list,v=[];for(var n=0;n<d.length;n++){v[n]=fy.abp(d[n],v[n-1]);
v[n].ja=n;this.Qm(v[n])}}return FNTS.map};fy.prototype.Qm=function(d){var v=d[0],t=d[1],h=d[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[d[2]]=d;if(FNTS.mapFS==null)FNTS.mapFS={};var X=FNTS.mapFS[v+"---"+t];FNTS.mapFS[v+"---"+t]=d;
if(FNTS.mapSub==null)FNTS.mapSub={};var g=FNTS.mapSub[v];if(g==null)g=FNTS.mapSub[v]=[];var x=g.indexOf(t);
if(x==-1)g.push(t);else g[x]=t};fy.aII=function(d,v){return fy.bb(d)-fy.bb(v)};fy.bb=function(d){d=d.toLowerCase();
var v=fy.aKJ(d)+(fy.aiz(d)<<1);if(d.indexOf("cond")==-1)v+=1<<25;return v};fy.aKJ=function(d){return d.indexOf("italic")!=-1||d.indexOf("oblique")!=-1?1:0};
fy.a4x="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
fy.aph=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
fy.aiz=function(d){var v=fy.aph,t=-1,h=-1;for(var n=0;n<v.length;n++){var X=v[n];if(X instanceof Array)for(var g=0;
g<X.length;g++){var x=X[g];if(d.indexOf(x)!=-1&&(t==-1||h<x.length)){t=n;h=x.length}}else if(d.indexOf(X)!=-1&&(t==-1||h<X.length)){t=n;
h=X.length}}if(t==-1)t=8;return t};fy.UT=function(d,v){var t=1e9,h=null,X=fy.bb(v);for(var n=0;n<d.length;
n++){var g=Math.abs(fy.bb(d[n])-X);if(g<t){t=g;h=d[n]}}return h};fy.prototype.e6=function(d,v){this.KZ();
return FNTS.mapFS[d+"---"+v]};fy.prototype.RJ=function(d){this.KZ();return FNTS.mapSub[d]};fy.prototype.Ox=function(){this.KZ();
return FNTS.mapSub};fy.nL={t4:null,u$:null};fy.nL.B3=function(d){fy.nL.u$=d;var v=window.locStor.getItem("localFonts");
if(v){v=b3.CP(v);v=pako.inflate(new Uint8Array(v));v=fy.nL.t4=JSON.parse(B.I$(v));fy.nL.lq()}};fy.nL.load=function(d){var v=window.queryLocalFonts,t=fy.nL.t4.toPSN,h;
for(var bW in t)if(t[bW].indexOf(d)!=-1)h=bW;v({postscriptNames:[h]}).then(fy.nL.aK7)};fy.nL.lq=function(){var d=fy.sU,v=fy.nL.t4,t=v.imap,h=d.KZ();
for(var X in t){if(h[X])continue;var g=t[X].slice(0);g.iZ=v.tmap[X];d.Qm(g)}};fy.nL.VI=function(){var d=fy.nL.t4,v=pako.deflate(B.j9(JSON.stringify(d))),t=b3.cq(v.buffer);
console.log(t.length);window.locStor.setItem("localFonts",t)};fy.nL.f2=function(){var d=fy.nL.t4;return d!=null&&d.added};
fy.nL.$e=function(d,v,t){if(d==!1){fy.nL.t4=null;window.locStor.removeItem("localFonts");return}var h=fy.nL.t4;
if(h){h.added=!h.added;fy.nL.VI();fy.nL.lq();return}var X=window.queryLocalFonts;if(X==null){alert("This feature is not available in your web browser :(");
t();return}X().then(fy.nL.aK7.bind({awa:v,ahf:t}))};fy.nL.aK7=async function(d){if(d.length==0){alert("You didn't allow us to access your fonts.");
this.ahf();return}if(d.length==1){var v=await d[0].blob();v=await v.arrayBuffer();jN.o_({name:"file.otf"},v,fy.nL.u$);
return}var t=new eG(_.E.c,!0),g=!1;t.data={R:_.Y.Wq,jH:"Loading local fonts ..."};fy.nL.u$.J(t);var h=Date.now(),X=fy.nL.t4;
if(X==null)X=fy.nL.t4={toPSN:{},imap:{},tmap:{},added:!0};var x={};for(var n=0;n<d.length;n++){var Z=d[n],Y=Z.postscriptName;
x[Y]=!0;console.log(Y);if(X.toPSN[Y])continue;var v=await Z.blob();v=await v.arrayBuffer();if(b3.IF(v)!="otf")continue;
var a=Typr.parse(v),p=[];for(var U=0;U<a.length;U++){var l=a[U],L=fy.dO(l);p.push(L);if(X.imap[L])continue;
var j=X.imap[L]=fy.aob(l,"--loc",0);X.tmap[L]=fy.ay7(l,j)}X.toPSN[Y]=p;g=!0}for(var Y in X.toPSN)if(x[Y]==null){var O=X.toPSN[Y];
delete X.toPSN[Y];for(var n=0;n<O.length;n++){delete X.imap[O[n]];delete X.tmap[O[n]]}g=!0}if(g){console.log(Date.now()-h);
fy.nL.VI();fy.nL.lq();this.awa()}else console.log("no change");var t=new eG(_.E.c,!0);t.data={R:_.Y.DQ,jH:"Loading local fonts ..."};
fy.nL.u$.J(t);alert("Local fonts loaded!")};var f7={};f7.LZ=0;f7.nQ={};f7.aBw=function(d){var v=LNG.tables,t=v[d];
if(t==null)t=v[0];if(typeof t=="string"){t=v[d]=f7.QB(t)}return t};f7.QB=function(d){var v=[],t=0,h=0,X=[],g=d.length;
while(h!=g){var x=d[h];if(x=="["){v.push(X);X=[];h=t=h+1}else if(x=="]"){X.push(t==h?null:d.substring(t,h));
var Z=X;X=v.pop();X.push(Z);h=t=h+1}else if(x==";"){if(d[h-1]!="]")X.push(t==h?null:d.substring(t,h));
h=t=h+1}else h++}return X};f7.get=function(d){if(typeof d=="string")return d;var v=typeof d[0];if(v=="number"){for(var n=1;
n<d.length;n++)if(typeof d[n]!="number"){console.log(d);throw"e"}return f7.qL(d)}var t=f7.get(d[0]);
for(var n=1;n<d.length;n++){var h=f7.get(d[n]),X=t.indexOf("VAR"+(n-1));t=t.slice(0,X)+h+t.slice(X+4)}return t};
f7.qL=function(d){var v=JSON.stringify(d);if(f7.nQ[v]!=null)return f7.nQ[v];var t=f7.aBw(0),h=f7.aBw(f7.LZ),X=f7.aMr(d,h);
if(X==null)X=f7.aMr(d,t);return X};f7.aMr=function(d,v){for(var n=0;n<d.length;n++){v=v[d[n]];if(v==null)return null;
else if(typeof v=="string")break}if(v instanceof Array)v=v[0];return v.split("::")[0]};f7.aGE=function(){var d=navigator.languages;
for(var n=0;n<d.length;n++)if(d[n]=="zh-HK"||d[n]=="zh-TW"||d[n]=="zh-MO")d[n]="zh-CHT";return d};f7.aeL=function(){var d=f7.aGE(),v=function(h,X){var g=h.code,x=X.code;
if(g=="en")return-1;if(x=="en")return 1;var Z=d.indexOf(g)!=-1,Y=d.indexOf(x)!=-1;if(Z&&Y)return g>x?1:-1;
if(Z)return-1;if(Y)return 1;return g>x?1:-1},t=LNG.langs.slice(0);t.sort(v);return t};f7.agd=function(d,v){f7.LZ=d;
if(LNG.tables[d])v();else{var t=new XMLHttpRequest;t.open("GET",iP.$j("code/lang/"+d+".js"));t.onreadystatechange=function(){LNG.tables[d]=t.responseText;
v()};t.send()}};f7.aMM=function(d,v){for(var t=0;t<2;t++){var h=!1;for(var n=0;n<LNG.langs.length;n++)if(LNG.langs[n].code==d){f7.agd(n,v);
h=!0}if(h)break;d=d.split("-")[0]}};f7.Ou=function(){return LNG.langs[f7.LZ].code};f7.as3=function(d){for(var n=0;
n<d.length;n+=2)if(d[n+1].indexOf(">")==-1)f7.nQ[JSON.stringify(d[n])]=d[n+1]};f7.aO9=function(d){var v=-1,t=LNG.langs;
for(var n=0;n<t.length;n++)if(t[n].code==d)v=n;return v};var li={WA:!1,NM:!1,ao9:!1,fS:null};li.IO=function(){return u.hm[f4.S6]!=u.hm[f4.adw]};
li.Oy=function(){var d=u.hm[f4.OU][f4.awT];if(d==null)d=[u.hm[f4.rK][f4.gv]];for(var n=0;n<d.length;
n++){if(d[n].indexOf(f4.Rb("UUPSDm@ID"))!=-1)return!0;if(d[n].indexOf(f4.Rb("U^JSHR@>Ea4=8"))!=-1)return!0;
if(d[n].indexOf(f4.Rb("U^JSHRj=FA"))!=-1)return!0}return!1};li.x4=function(){var d=u.hm[f4.rK],v=d[f4.Ma],t=0,h=f4.V1,X=u.Rb("PP\\KQSB"),g=u.Rb("Y_5UDDB>idge"),x=d[f4.c7](f4.nl);
x[h](f4.xo,X);x[h](f4.RG,u.Rb("fUMZKyqifDIhJ0*+&$-OG?<y~>"));v[f4.q3](x);x=d[f4.aj3](X);if(x==null){t=2}else{if(!v[u.Rb("R[WZDIKM")](x)){t=3}else if(Math.round(x[u.Rb("VQ](RUK>@B8p71*03m}x'")]()[f4.a5E]-500)>5){t=4}v[f4.aJl](x)}if(li.NM)t=5;
if(li.ao9)t=6;return t};li.a0R=function(d){var v=u.RI("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),t={method:"HEAD",mode:"no-cors"},h=new Request(v,t);
fetch(h).then(function(X){return X}).then(function(X){var g=u.RI("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),h=new Request(g);
fetch(h).then(function(X){X.text().then(function(x){li.NM=x.length<900;d(x.length<900)})}).catch(function(x){li.NM=!0;
console.clear();d(!0)})}).catch(function(X){li.NM=!0;console.clear();d(!0)})};li.a1l=function(){var d=u.Rb("UU[YW#ECC8"),v=u.Rb("VQ](RUK>@B8p71*03m}x'"),t=u.Rb("WQRMKT"),h=this.u4[d][v]();
if(h[t]<4){li.ao9=!0;this.anJ(!0)}};li.aL1=function(){var d=u.hm._cwY,v=u.hm[f4.kC],t="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",h=String.fromCharCode(32);
d(u.Rb(t)+h+h+li.x4());if(!iP.yU())v(li.aL1,Math.round(Math.PI*1e4))};li.agX=function(d){var v=u.hm[f4.rK],t=v[f4.c7](d[0]);
for(var h in d[1]){if(h=="txt")t[f4.uE]=d[1][h];else t[f4.V1](h,d[1][h])}return t};li.aK0=function(d,v,t,h){u.Pl(t);
var X=u.hm[f4.rK],g=u.RI(" u.$%\"86<"),x=u.RI("!#c$,&"),Z=u.hm[g][x],Y=u.hm[u.RI(" u.$%\"86<")][u.RI("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!li.IO()&&!li.x4()&&Z&&d*v>300*300&&!Y){var a=X[u.Rb("VQ]+OEJ?EHDoD{&)l|&z")](f4.YI)[0],z=JSON.parse(u.RI("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var n=0;n<z.length;n++){var p=li.agX(z[z.length-1-n]);a[f4.aLR](p,a[f4.a4J])}var U=u.RI("p}&$2a(:"),l=u.RI("'#!}i0%+"),L=u.RI("ps,}$\"40"),j=u.hm.__cbu=li.agX(JSON.parse(f4.Rb("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
t[f4.q3](j);u.hm.___ggo=function(){u.hm[L](f4.Au,2,function(F,i){if(i&&F[l]==!0){u.hm.__csrf=null;if(!u.hm[U]){u.hm[U]=!0;
var $=li.aAq.bind({uQ:t,head:a,uV:v});$()}}else{u.hm.__csrf=!0}})}}else{var O=li.a9R.bind({u4:t,aJU:h,uV:v});
O();setInterval(O,3e4)}};li.a9R=function(){var d=u.hm[f4.rK],v=this.u4,t=this.aJU,h=li.fS,X=this.uV;
u.Pl(v);var g=u.hm[u.RI(" u.$%\"86<")][u.RI("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,x=h==1?1:li.axI(X),Z=LNKS,Y=d[f4.c7]("a");
Y.textContent=f4.Rb("0PhHOO@E@B8M/-9'\"0}y");Y[f4.V1](f4.JT,f4.Rb("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
Y[f4.V1](f4.adu,f4.RI("pv${,,"));Y[f4.V1](f4.RG,f4.Rb("R[UUUyTB@H6h"));if(!g&&!li.IO())v[f4.q3](Y);for(var n=0;
n<x;n++){var a=Math.random(),z=0,p=0;while(z+Z[p][0]<a){z+=Z[p][0];p++}if(g)p=1;if(Z[p][7]&&Date.now()>Z[p][7])p=0;
var U=Z[p],l=d[f4.c7](f4.FM);l[f4.V1](f4.RG,f4.Rb("Ra[YRRvJF=?B0:_")+f4.Rb(h==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
l[f4.V1](f4.lF,U[h]);console.log(U[h]);if(U.length>3){var L=U[3]+U[3+h],Y=d[f4.c7]("a");Y[f4.V1](f4.JT,L);
Y[f4.V1](f4.adu,f4.RI("pv${,,"));Y[f4.q3](l);v[f4.q3](Y);l[f4.Au](f4.OH,function(){iP.event("sclick_"+this.aHH[6])}.bind({aHH:U.slice(0)}),!1)}else{l[f4.Au](f4.OH,t,!1);
v[f4.q3](l);l[f4.Au](f4.OH,function(){iP.event("sclick_show account")}.bind({aHH:U.slice(0)}),!1)}}};
li.axI=function(d){var v=2;if(d>=3*270+30)v=3;if(d>=4*270+30)v=4;return v};li.aG2=function(d,v){var t=v;
v-=30;var h=[];if(d==0)h.push(9);if(d==1){h.push(1);v-=600+10}if(d==2){if(v-260>0){h.push(2);v-=260}if(v-260>0){h.push(3);
v-=260}if(v-260>0){h.push(4);v-=260}if(v-260>0){h.push(5);v-=260}if(v-260>0){h.push(6);v-=260}if(v-110>0){h.push(7);
v-=110}}return h};li.aAq=function(){var d=f4.q3,v=f4.V1,t=f4.Au,h=f4.iy,X=f4.RG,g=f4.lF,x=u.Rb("P_bTF"),Z=f4.uE,Y=f4.gc,a=u.hm[f4.rK],z=f4.c7,p=f4.$J,U=this.uQ,l=li.fS,L=this.head,j=this.uV,O=u.RI("~u*\"'/P)9ADBCrlnR]"),F=u.hm.__cbu,H=0;
if(F&&l==0)F[f4.V1](f4.RG,"position:absolute; left:124px; bottom:2px");var i=[1/11,10/11,0/12],$=Math.random();
while(i[H]<$&&H<i.length-1){$-=i[H];H++}var b=new URLSearchParams(window.location.search),r=b.get("a"+"dsf"+"rom");
if(r!=null)H=parseFloat(r);var W=a[f4.c7](f4.gc);W[f4.V1](f4.lF,u.Rb("bUMKpHQGC"));u.i(W,"width:"+this.F0+"px; height:"+(this.uV-40)+"px");
U[d](W);if(F)U[d](F);return;var V=li.aG2(l,j);console.log(H);if(H==0){if(!li.WA){li.WA=!0;for(var n=0;
n<2;n++){var y=a[f4.c7](f4.$J),c=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][n];
y[f4.V1](f4.lF,f4.RI(c));y[f4.V1](f4.to,"");L[f4.q3](y)}var S=JSON.parse(f4.RI("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),C=S[2]+"\n";
for(var n=0;n<V.length;n++)C+=S[0][V[n]]+"\n";var y=a[f4.c7](f4.$J);y[f4.uE]=C+S[3];L[f4.q3](y);for(var n=0;
n<V.length;n++){var K=a[f4.c7](f4.nl);K[f4.V1](f4.xo,S[1][V[n]]);if(V[n]!=0)K[f4.V1](f4.RG,S[4][l]);
K[f4.RG].marginBottom="10px";var y=a[f4.c7](f4.$J),C=f4.RI("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+S[1][V[n]]+"'); });";
y[f4.uE]=C;K[f4.q3](y);U[f4.q3](K)}}}else if(H==1){var y=a[z](p);y[v](g,u.RI("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
y[v](f4.to,"");L[d](y);var T=JSON.parse(u.RI("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),D=JSON.parse(u.RI("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var n=0;n<V.length;n++){var K=a[z](u.Rb("SU_")),N=V[n];K[v](f4.xo,T[N]);K[v](X,O+";"+D[N]);U[d](K)}}else{var y=a[f4.c7](f4.$J),c="y),+1ZRU+1>6:GiMGYvX4kKoLOi";
y[f4.V1](f4.lF,f4.RI(c));y[f4.V1](f4.to,"");L[f4.q3](y);var S="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var n=0;n<V.length;n++){var K=a[z](u.Rb("SU_")),N=V[n];K[v]("data-onpage","true");K[v]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+S[N]);
K[v](X,O);U[d](K)}}if(F)U[d](F)};li.vx=function(d,v,t,h){clearInterval(li.yo);li.TR=d;li.xo=t?t:"default";
li.bm=h==null?1:h;if(li.ae1==null){li.ae1=!0;var X=u.hm[f4.rK],g=X[f4.Ma],x=X[u.Rb("VQ]+OEJ?EHDoD{&)l|&z")](f4.YI)[0],Z=window.location.href.indexOf("nuwara")==-1?0:1;
li.alH=Z;console.log("===",Z);if(Z==0){var Y=X[f4.c7](f4.$J);Y[f4.V1](f4.lF,"//www.googletagservices.com/tag/js/gpt.js");
x[f4.q3](Y);var Y=X[f4.c7](f4.$J);Y[f4.uE]="window.googletag = window.googletag || {cmd: []};";x[f4.q3](Y)}else{var Y=X[f4.c7](f4.$J);
Y[f4.V1](f4.lF,"//securepubads.g.doubleclick.net/tag/js/gpt.js");Y[f4.V1](f4.to,"");x[f4.q3](Y);var Y=X[f4.c7](f4.$J);
Y[f4.V1](f4.lF,"//www.nuload.net/photopea/ad.js");Y[f4.V1]("type","module");x[f4.q3](Y);window.addEventListener("loadEnded",function(){window.__nuwara__=!0})}}if(v==null)v="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var a=window.confirm(v);if(!a)return;li.yo=setInterval(li.Tv,50)};li.Tv=function(){var d=li.alH;li.zB=1;
if(d==0){var v={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[li.xo];
if(d==1)v="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var t=window.googletag;if(t==null)return;
t.cmd.push(function(){var X=t.defineOutOfPageSlot(v,t.enums.OutOfPageFormat.REWARDED).addService(t.pubads());
t.enableServices();t.pubads().addEventListener("rewardedSlotReady",function(g){g.makeRewardedVisible()});
t.pubads().addEventListener("rewardedSlotGranted",function(){if(li.zB==1){li.bm--;li.zB=2;if(li.bm==0){if(li.TR)li.TR();
li.TR=null}}});t.pubads().addEventListener("rewardedSlotClosed",function(){if(li.zB==2){li.zB=0;if(li.bm>0)li.Tv()}});
t.display(X);t.pubads().refresh([X])})}else{if(window.__nuwara__==null)return;console.log("calling PlayRewarded");
var h=new CustomEvent("PlayRewarded",{detail:{callback:function(){if(li.zB==2){li.bm--;li.zB=0;if(li.bm>0)li.Tv();
else{if(li.TR)li.TR();li.TR=null}}}}});window.dispatchEvent(h);li.zB=2}clearInterval(li.yo)};var je={tB:-2,AW:{expires_at:0},Sm:[]};
je.tK=function(d){if(d)je.Sm.splice(0,0,d);if(je.tB==-2){je.tB=-1;var v=document.createElement("script");
v.src="//apis.google.com/js/client.js";document.body.appendChild(v);v.onload=function(t){setTimeout(function(){je.tB=0;
je.tK()},100)}}if(je.tB==-1)return;if(je.tB==1)return;if(je.AW.expires_at>Date.now()*.001+30){while(je.Sm.length>0)je.Sm.pop()()}else{if(je.tB==0)je.tB=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:je.tB==2?!1:!0},je.ab6)})}};
je.ab6=function(d){if(d&&!d.error){je.AW=d;je.tB=!1;je.tK()}else if(je.tB==1){je.tB=2;je.tK()}else alert("Error: "+d.error)};
je.a4c=function(){return"access_token="+je.AW.access_token+"&token_type="+je.AW.token_type};je.afY=function(){return je.AW.token_type+" "+je.AW.access_token};
var iT={aJs:null};iT.bE=function(d,v){var t=d.sJ.aG8;if(t==null&&iP.yU()&&!iT.Sk(v))t=window.locStor.getItem("__dak");
return t};iT.aLV=375<<3;iT.aBa=function(d){var v=iP.Yp();if(v==null)v={};var t=v.acc;if(t==null)return 0;
var h="aiu"+iP.qP().id;if(t.aiu&&t[h]==null){t[h]=t.aiu;delete t.aiu;iP.E6(v)}var X=t[h];if(X==null)return 0;
if(X["m"+d]==null)return 0;return X["m"+d]};iT.Ui=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
iT.aqJ=function(d){return d*(365.25*24*60*6e4/12)};iT.Sk=function(d){if(!iP.yU())return!1;return iT.aBa(iT.Ui())+d<=iT.aLV};
iT.aok=function(d){iP.Yp(function(){var v=iP.Yp();if(v==null)v={};if(v.acc==null)v.acc={};var t="aiu"+iP.qP().id,h=v.acc;
if(h[t]==null)h[t]={};var X=h[t],g="m"+iT.Ui();if(X[g]==null)X[g]=0;var x=X[g],Z=X[g]=x+d,Y=20*Math.floor(Z/20);
if(Z>1e3&&x<=Y&&Z>Y)alert(d+" AI credit"+(d==1?"":"s")+" spent. "+(iT.aLV-Z)+" left to use (in this month).",3500);
iP.E6(v,function(){})})};iT.vx=function(d){var v="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(iP.yU())v="Out of AI credits :( Watch";li.vx(d,v+" two short ads to do it for free?","inpa",2)};iT.UX=function(d){if(d&&iT.cU(d)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};iT.cU=function(d){function v(r,W){if((r&W)==0)return r;return r+W+1-(r&W)}var t=d.U[d.l[0]],h=t.add.SoLd&&d.p==null,X=new iW(0,0,d.r,d.$),g=h?t._B():d.p,x=g.S.hL(X),L=7;
if(!0){var Z=0,O=0;while(!0){var Y=1/Math.pow(2,Z),a=x.r*Y,z=x.$*Y;if(Math.max(a,z)<=1024&&a*z*1.2<512*512)break;
Z++}var p=8<<Z,U=x.b(),l=(512<<Z)*(512<<Z),L=1024<<Z;while(!0){var j=U.b();j.o2(1,1);j.hL(X);if(j.k()*1.2<l&&Math.max(j.r,j.$)<L&&j.k()>U.k())U=j;
else break}for(var n=0;n<1e6;n++){var F=U.k(),i=n&3,$=U.r%p,H=U.$%p;if(H!=0&&i==0){U.y--;U.$++}if($!=0&&i==1){U.r++}if(H!=0&&i==2){U.$++}if($!=0&&i==3){U.x--;
U.r++}U=U.hL(X);if(U.k()==F)O++;if(O>1e3)break}var $=U.r%p,H=U.$%p;U.r=Math.min(U.r,L);if($!=0)U.r+=p-$;
U.$=Math.min(U.$,L);if(H!=0)U.$+=p-H;return[U,Z]}if(x.k()>1e3*1e3)return null;var b=v(x.r,7)*v(x.$,7)*1.2>512*512||Math.max(v(x.r,7),v(x.$,7))>1024;
if(Math.max(x.r,x.$)>1024*(b?2:1))return null;var l=512*512;if(b){l=1024*1024;L=15}while(!0){var U=x.b();
U.o2(1,1);U=U.hL(X);var a=v(U.r,L),z=v(U.$,L);if(U.k()>x.k()&&a*z<=l&&Math.max(a,z)<=2048)x=U;else break}x.r=v(x.r,L);
x.$=v(x.$,L);return x};iT.ae5=function(d,v,t,h,X){if(!navigator.onLine){alert("Get online to use this feature.");
return}var g=0,x,Z,Y,a="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",l=!1;
if(t){x=iT.cU(t)[0];g=iT.cU(t)[1]}a=JSON.parse(f4.RI(a));var z={};z[a[0]]=d;z[a[1]]=g>0?2:1;z[a[2]]=30;
z[a[3]]=t?a[4]:a[5];z[a[12]]=a[13];z[a[14]]=a[15];if(X)for(var p in X)z[p]=X[p];console.log(z);var U="nude nudity nudify naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var n=0;n<U.length;n++)if(d.indexOf(U[n])!=-1)l=!0;if(l){var L=iT.Sk(3)?"Premium":"Free";iP.event("dez"+"go_Nu"+"de "+L)}var j=new FormData;
if(t==null)Z=Y=512;else{var O=t.U[t.l[0]],F=t.p;if(O.add.SoLd&&t.p==null)F=O._B();var i=f.m(x.k()*4);
f.wH(f.OO(t.jP(),8),new iW(0,0,t.r,t.$),i,x);var $=f.m(x.k());f.Qb(f.OO(F.N,8),F.S,$,x);f.round($);for(var n=0;
n<$.length;n++)if(i[n*4+3]<128)$[n]=255;for(var n=0;n<g;n++){console.log("downscaling");var H=f.kz(i,x);
i=H.sN;var b=f.rb($,x);$=b.sN;x=b.S}var r=b3.bV("jpg"),W=r.V$([[i.buffer]],x.r,x.$,{qual:85}),V=f.m(x.k()*4);
V.fill(255);f.I0($,V);var y=UPNG.encode([V.buffer],x.r,x.$,null,null,null,!0);j.append(a[9],new Blob([W],{type:"image/jpeg"}));
j.append(a[10],new Blob([y],{type:"image/png"}));Z=x.r>>>g;Y=x.$>>>g}for(var p in z)j.append(p,z[p]);
iT.ale(t==null?a[7]:a[8],j,v,h);iT.aJs=[Z,Y,g,v==null];return 1};iT.ale=function(d,v,t,h){var X=f4.Rb("W`]VVykh8D:[/-?).I{% >"),g=f4.Rb("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),x=new u.hm[f4.dd],Z;
if(t==null){var Y=0,a=f4.Rb("XYJMH"),z=f4.Rb("XZRZBIJ;>9"),prompt=f4.Rb("_^XSST");if(v.get(a))Y+=v.get(a).size;
if(v.get(z))Y+=v.get(z).size;if(v.get(prompt))Y+=v.get(prompt).length;var p=Y*19+47631,U=String.fromCharCode(65+(p&15))+String.fromCharCode(100+(p>>>4&15));
Z=f4.Rb("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+d+f4.Rb("tYNZKOAv")+U;x[f4.aK](f4.q5,Z,!0)}else{Z=X+d;
x[f4.aK](f4.q5,Z,!0);x[f4.aNl](f4.Rb("Gx-K]GLf\"9J"),t?t:g)}x[f4.agG]=h;x[f4.tS]=h;x[f4.amk]=f4.aN6;
x[f4.wJ](v)};iT.o6=function(d,v){var t=iT.Sk(v);iP.event("rembg_"+d+": "+(t?"Premium":"Free"));if(t){for(var n=0;
n<v;n++)iP.event("aiusg_"+iP.qP().id);iT.aok(v)}};function cK(d,v){if(!d)d=0;if(!v)v=0;this.x=d;this.y=v}cK.prototype.add=function(d){return new cK(this.x+d.x,this.y+d.y)};
cK.prototype.b=function(){return new cK(this.x,this.y)};cK.prototype.sY=function(d){this.x=d.x;this.y=d.y};
cK.prototype.fE=function(d){return this.x==d.x&&this.y==d.y};cK.prototype.normalize=function(d){var v=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=d/v;this.y*=d/v};cK.prototype.offset=function(d,v){this.x+=d;this.y+=v};cK.prototype.QG=function(d,v){this.x=d;
this.y=v};cK.prototype.hP=function(d){return new cK(this.x-d.x,this.y-d.y)};cK.A_=function(d,v){return cK.an1(d.x-v.x,d.y-v.y)};
cK.ajV=function(d,v,t){return new cK(d.x+t*(v.x-d.x),d.y+t*(v.y-d.y))};cK.aNO=function(d,v){return new cK(d*Math.cos(v),d*Math.sin(v))};
cK.an1=function(d,v){return Math.sqrt(d*d+v*v)};cK.lJ={};cK.X6={};cK.lJ.create=function(){var d=new Float32Array(4);
return d};cK.X6.create=function(d){var v=new Float32Array(16);v[0]=v[5]=v[10]=v[15]=1;if(d)cK.X6.set(d,v);
return v};cK.lJ.add=function(d,v,t){t[0]=d[0]+v[0];t[1]=d[1]+v[1];t[2]=d[2]+v[2];t[3]=d[3]+v[3]};cK.lJ.set=function(d,v){v[0]=d[0];
v[1]=d[1];v[2]=d[2];v[3]=d[3]};cK.X6.set=function(d,v){v[0]=d[0];v[1]=d[1];v[2]=d[2];v[3]=d[3];v[4]=d[4];
v[5]=d[5];v[6]=d[6];v[7]=d[7];v[8]=d[8];v[9]=d[9];v[10]=d[10];v[11]=d[11];v[12]=d[12];v[13]=d[13];v[14]=d[14];
v[15]=d[15]};cK.X6.multiply=function(d,v,t){var h=d[0],X=d[1],g=d[2],x=d[3],Z=d[4],Y=d[5],a=d[6],z=d[7],p=d[8],U=d[9],l=d[10],L=d[11],j=d[12],O=d[13],F=d[14],i=d[15],$=v[0],H=v[1],b=v[2],r=v[3];
t[0]=$*h+H*Z+b*p+r*j;t[1]=$*X+H*Y+b*U+r*O;t[2]=$*g+H*a+b*l+r*F;t[3]=$*x+H*z+b*L+r*i;$=v[4];H=v[5];b=v[6];
r=v[7];t[4]=$*h+H*Z+b*p+r*j;t[5]=$*X+H*Y+b*U+r*O;t[6]=$*g+H*a+b*l+r*F;t[7]=$*x+H*z+b*L+r*i;$=v[8];H=v[9];
b=v[10];r=v[11];t[8]=$*h+H*Z+b*p+r*j;t[9]=$*X+H*Y+b*U+r*O;t[10]=$*g+H*a+b*l+r*F;t[11]=$*x+H*z+b*L+r*i;
$=v[12];H=v[13];b=v[14];r=v[15];t[12]=$*h+H*Z+b*p+r*j;t[13]=$*X+H*Y+b*U+r*O;t[14]=$*g+H*a+b*l+r*F;t[15]=$*x+H*z+b*L+r*i;
return t};cK.X6.inverse=function(d,v){var t=d[0],h=d[1],X=d[2],g=d[3],x=d[4],Z=d[5],Y=d[6],a=d[7],z=d[8],p=d[9],U=d[10],l=d[11],L=d[12],j=d[13],O=d[14],F=d[15],i=t*Z-h*x,$=t*Y-X*x,H=t*a-g*x,b=h*Y-X*Z,r=h*a-g*Z,W=X*a-g*Y,V=z*j-p*L,y=z*O-U*L,c=z*F-l*L,S=p*O-U*j,C=p*F-l*j,K=U*F-l*O,T=i*K-$*C+H*S+b*c-r*y+W*V;
if(!T){return null}T=1/T;v[0]=(Z*K-Y*C+a*S)*T;v[1]=(X*C-h*K-g*S)*T;v[2]=(j*W-O*r+F*b)*T;v[3]=(U*r-p*W-l*b)*T;
v[4]=(Y*c-x*K-a*y)*T;v[5]=(t*K-X*c+g*y)*T;v[6]=(O*H-L*W-F*$)*T;v[7]=(z*W-U*H+l*$)*T;v[8]=(x*C-Z*c+a*V)*T;
v[9]=(h*c-t*C-g*V)*T;v[10]=(L*r-j*H+F*i)*T;v[11]=(p*H-z*r-l*i)*T;v[12]=(Z*y-x*S-Y*V)*T;v[13]=(t*S-h*y+X*V)*T;
v[14]=(j*$-L*b-O*i)*T;v[15]=(z*b-p*$+U*i)*T;return v};cK.X6.a8t=function(d,v,t){var h=v[0],X=v[1];t[0]=h*d[0]+X*d[4]+d[12];
t[1]=h*d[1]+X*d[5]+d[13]};cK.X6.aF_=function(d,v,t){var h=v[0],X=v[1],g=v[2],x=v[3];t[0]=d[0]*h+d[4]*X+d[8]*g+d[12]*x;
t[1]=d[1]*h+d[5]*X+d[9]*g+d[13]*x;t[2]=d[2]*h+d[6]*X+d[10]*g+d[14]*x;t[3]=d[3]*h+d[7]*X+d[11]*g+d[15]*x};
function iW(d,v,t,h){if(!d)d=0;if(!v)v=0;if(!t)t=0;if(!h)h=0;this.x=d;this.y=v;this.r=t;this.$=h}iW.prototype.k=function(){return this.r*this.$};
iW.prototype.b=function(){return new iW(this.x,this.y,this.r,this.$)};iW.prototype.contains=function(d,v){return d>=this.x&&d<=this.x+this.r&&(v>=this.y&&v<=this.y+this.$)};
iW.prototype.QQ=function(d){return this.contains(d.x,d.y)};iW.prototype.GV=function(d){return this.x<=d.x&&this.y<=d.y&&d.x+d.r<=this.x+this.r&&d.y+d.$<=this.y+this.$};
iW.prototype.sY=function(d){this.x=d.x;this.y=d.y;this.r=d.r;this.$=d.$};iW.prototype.fE=function(d){return this.x==d.x&&this.y==d.y&&this.r==d.r&&this.$==d.$};
iW.prototype.o2=function(d,v){this.x-=d;this.y-=v;this.r+=2*d;this.$+=2*v};iW.prototype.aJ8=function(d){this.o2(d.x,d.y)};
iW.prototype.hL=function(d){var v=Math.max(this.x,d.x),t=Math.max(this.y,d.y),h=Math.min(this.x+this.r,d.x+d.r),X=Math.min(this.y+this.$,d.y+d.$);
if(h<v||X<t)return new iW;else return new iW(v,t,h-v,X-t)};iW.prototype.GD=function(d){if(d.y+d.$<this.y||d.x>this.x+this.r||d.y>this.y+this.$||d.x+d.r<this.x)return!1;
return!0};iW.prototype.HP=function(){return this.r<=0||this.$<=0};iW.prototype.offset=function(d,v){this.x+=d;
this.y+=v};iW.prototype.aBH=function(d){this.offset(d.x,d.y)};iW.prototype.akU=function(){this.x=this.y=this.r=this.$=0};
iW.prototype.QG=function(d,v,t,h){this.x=d;this.y=v;this.r=t;this.$=h};iW.prototype.Ue=function(d){if(this.HP())return d.b();
if(d.HP())return this.b();var v=this.b();v.aFN(d);return v};iW.u9=new Float32Array(2);iW.prototype.aFN=function(d){if(d.HP())return;
if(this.HP()){this.sY(d);return}this.abE(d.x,d.y);this.abE(d.x+d.r,d.y+d.$)};iW.prototype.abE=function(d,v){var t=Math.min(this.x,d),h=Math.min(this.y,v);
this.r=Math.max(this.x+this.r,d)-t;this.$=Math.max(this.y+this.$,v)-h;this.x=t;this.y=h};iW.prototype.aOx=function(d,v){this.x=d;
this.y=v;this.r=this.$=0};function gi(d,v,t,h,X,g){if(typeof d==="undefined"){d=1;v=0;t=0;h=1;X=0;g=0}this.aX=d;
this.X=v;this.Wp=t;this.r7=h;this.r2=X;this.pE=g}gi.prototype.Mk=function(){return Math.sqrt(Math.abs(this.aX*this.r7-this.X*this.Wp))};
gi.prototype.alX=function(){var d=this,v=function(t){return Math.abs(t)<1e-9?0:t};d.aX=v(d.aX);d.X=v(d.X);
d.Wp=v(d.Wp);d.r7=v(d.r7);d.r2=v(d.r2);d.pE=v(d.pE)};gi.prototype._V=function(d){return new cK(d.x*this.aX+d.y*this.Wp+this.r2,d.x*this.X+d.y*this.r7+this.pE)};
gi.prototype.translate=function(d,v){this.r2+=d;this.pE+=v};gi.prototype.rotate=function(d){var v=new gi(Math.cos(d),-Math.sin(d),Math.sin(d),Math.cos(d),0,0);
this.concat(v)};gi.prototype.scale=function(d,v){var t=new gi(d,0,0,v,0,0);this.concat(t)};gi.prototype.concat=function(d){this.sY(new gi(this.aX*d.aX+this.X*d.Wp,this.aX*d.X+this.X*d.r7,this.Wp*d.aX+this.r7*d.Wp,this.Wp*d.X+this.r7*d.r7,this.r2*d.aX+this.pE*d.Wp+d.r2,this.r2*d.X+this.pE*d.r7+d.pE))};
gi.prototype.zJ=function(){var d=this.aX*this.r7-this.X*this.Wp;this.sY(new gi(this.r7/d,-this.X/d,-this.Wp/d,this.aX/d,(this.Wp*this.pE-this.r7*this.r2)/d,(this.X*this.r2-this.aX*this.pE)/d))};
gi.prototype.b=function(){return new gi(this.aX,this.X,this.Wp,this.r7,this.r2,this.pE)};gi.prototype.sY=function(d){this.aX=d.aX;
this.X=d.X;this.Wp=d.Wp;this.r7=d.r7;this.r2=d.r2;this.pE=d.pE};gi.g4=function(d){return[d.aX,d.X,d.Wp,d.r7,d.r2,d.pE]};
gi.aCx=function(d){return new gi(d[0],d[1],d[2],d[3],d[4],d[5])};function b3(){}b3.aBK={ajq:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),asl:"DDS TIFF AVIF TGA EXR BMP ICO DXF RAW EMF PPM".split(" ")};
b3.aEK={ajq:["WAV","QOA"],asl:["PDF","PNG"]};b3.P0=function(n){var d=j8==2?b3.aEK:b3.aBK,v=d.ajq,t=d.asl,h,X=[];
if(n==null)h=v.concat(t);else h=n==0?v:t;for(var n=0;n<h.length;n++)if(b3.bV(h[n]).V$)X.push(h[n]);return X};
b3.ji="psd jpg png gif webp svg bmp".split(" ");b3.ayx=["ai","svg","pdf"];b3.ax=function(d,v){var t=d.memory.buffer.byteLength,h=(v-t>>>16)+1;
try{if(t<v)d.memory.grow(h)}catch(cQ){return h*65536}return 0};b3.qk={E$:function(d,v){fetch(d).then(function(t){return t.arrayBuffer()}).then(function(t){var h=new Uint8Array(t),X=0,Y="";
if(v){X=h.length;var g={level:9},x=pako.deflateRaw(h,g),Z=UZIP.deflateRaw(h,g);console.log(X,x.length,Z.length);
h=x.length<Z.length?x:Z}for(var n=0;n<h.length;n++)Y+=String.fromCharCode(h[n]);var a=btoa(Y);console.log(JSON.stringify([X,a]))})},get:function(d,v){var t=BINDB[d],h=Date.now(),X=atob(t[1]),g=X.length,x=new Uint8Array(g);
for(var n=0;n<g;n++)x[n]=X.charCodeAt(n);if(t[0]!=0){var Z=new Uint8Array(t[0]);UZIP.inflateRaw(x,Z);
x=Z}if(v){var Y=b3.IF(x.buffer);x=b3.bV(Y).CE(x.buffer)}return x}};(function(){var d=b3.qk.get("wasm/dt").buffer;
if(window.WebAssembly==null){window.alert("Your browser is too old (no WebAssembly). Please, update it.");
return}WebAssembly.instantiate(d).then(function(v){b3.aEF=v})}());b3.a6t=function(d,v){return new Promise(function(t,h){d.CE(v,null,function(X,g){t(g)})})};
b3.IF=function(d){if(!(d instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var v=new Uint8Array(d),t=b3.aoU,h,X=0,g=v.length-1;
if(t(v,[239,187,191]))X=3;while(X<v.length&&(v[X]==9||v[X]==10||v[X]==13||v[X]==32))X++;while(g!=0&&(v[g]==9||v[g]==10||v[g]==13||v[g]==32))g--;
if(t(v,[24,70,73,67]))h="gp3";if(t(v,[66,67,70,90]))h="gpx";if(t(v,[77,84,104,100]))h="mid";if(t(v,[56,66,80,83]))h="psd";
if(t(v,[6,6,237,245]))h="indd";if(t(v,[68,73,67,77],128))h="dcm";if(t(v,[99,104,108,118]))h="chlv";if(t(v,[208,207,17,224])){if(B.M5(v,"L\0t\0f\0H\0e\0a\0d\0e\0r")!=-1)h="ufo";
else h="office"}if(t(v,[102,116,121,112,109,105,102,49],4)||t(v,[102,116,121,112,97,118,105,102],4))h="avif";
if(t(v,[102,116,121,112,104,101,105,99],4)||t(v,[102,116,121,112,109,105,102,49],4)||t(v,[102,116,121,112,109,115,102,49],4))h="heic";
if(t(v,[102,116,121,112,105,115,111,109],4))h="mp4";if(t(v,[102,116,121,112,109,112,52,50],4))h="mp4";
if(t(v,[102,116,121,112,113,116,32,32],4))h="mp4";if(t(v,[102,116,121,112,105,115,111,53],4))h="mp4";
if(t(v,[26,69,223,163]))h="mkv";if(t(v,[102,116,121,112,99,114,120,32],4))h="cr3";if(t(v,[0,255,75,65]))h="afphoto";
if(t(v,[67,83,70,67,72,85,78,75]))h="clip";if(t(v,[83,65,73,45,67,65]))h="sai2";if(t(v,[70,82,65,67]))h="frac";
if(t(v,[120])&&[94,156,218].indexOf(v[1])!=-1)h="pxd";if(t(v,[80,68,78,51]))h="pdn";if(t(v,[103,105,109,112,32,120,99,102,32]))h="xcf";
if(t(v,[102,105,103,45,107,105,119,105]))h="fig";if(t(v,[105,99,110,115]))h="icns";if(t(v,[137,80,78,71,13,10,26,10])){h="png";
var x=8;while(x<v.length){var Z=B.BT(v,x);x+=4;var Y=B.o3(v,x,4);x+=4;if(Y=="mkTS")h="fpng";x+=Z+4}}if(t(v,[87,76]))h="cdr";
if(t(v,[82,73,70,70])){var a=gv.lS(v),z=a.$B;if(z=="WEBP")h="webp";else if(z.slice(0,3)=="CDR")h="cdr";
else if(z=="sfbk")h="sf2";else if(z=="WAVE")h="wav";else h=z}if(t(v,[70,79,82,77])||t(v,[70,79,82,52])||t(v,[76,73,83,84])||t(v,[67,65,84,32])){var a=cj.lS(v),z=a.$B;
if(z=="ILBM"||z=="CIMG"||z=="ANIM")h="ilbm";else h=z}if(t(v,[255,216,255]))h="jpg";if(t(v,[0,0,0,12,106,80,32,32]))h="jpg";
if(t(v,[48,0,1,0],4))h="jb2";if(t(v,[71,73,70,56]))h="gif";if(t(v,[255,10])||t(v,[0,0,0,12,74,88,76,32,13,10,135,10]))h="jxl";
if(t(v,[0,0,0,2,121,102,113,76]))h="msh";if(t(v,[0,0,0,3,121,102,113,76]))h="msh";if(t(v,[0,0,0,16]))h="atn";
if(t(v,[0,1]))h="aco";if(t(v,[0,2]))h="aco";if(t(v,[65,83,69,70]))h="aco";if([0,1].indexOf(v[1])!=-1&&[1,2,3,9,10,11].indexOf(v[2])!=-1&&[0,16,24,32].indexOf(v[7])!=-1)h="tga";
if(t(v,[0,2,56,66,83,76]))h="asl";if(t(v,[0,1,0,-1,0,2,0]))h="abr";if(t(v,[0,2,0,-1,0,2,0]))h="abr";
if(t(v,[0,6,0,1]))h="abr";if(t(v,[0,6,0,2]))h="abr";if(t(v,[0,7,0,2]))h="abr";if(t(v,[0,9,0,2]))h="abr";
if(t(v,[0,10,0,2]))h="abr";if(t(v,[56,66,70,83]))h="shc";if(t(v,[56,66,80,84]))h="pat";if(t(v,[56,66,71,82]))h="grd";
if(t(v,[71,73,77,80,32,71,114,97]))h="grd";if(t(v,[56,66,84,80]))h="tpl";if(t(v,[0,4,0,5]))h="acv";if(t(v,[99,117,115,104]))h="csh";
if(t(v,[0,1,0,0,0]))h="otf";if(t(v,[79,84,84,79]))h="otf";if(t(v,[116,116,99,102]))h="otf";if(t(v,[119,79,70,70]))h="otf";
if(t(v,[68,68,83,32]))h="dds";if(t(v,[80,86,82,3]))h="pvr";if(t(v,[86,84,70,0]))h="vtf";if(t(v,[83,73,77,80]))h="fits";
if((t(v,[0,0,1,0])||t(v,[0,0,2,0]))&&v[4]!=0)h="ico";if(t(v,[66,77]))h="bmp";if(t(v,[40,0,0,0]))h="bmp";
if(t(v,[80,49]))h="ppm";if(t(v,[80,50]))h="ppm";if(t(v,[80,51]))h="ppm";if(t(v,[80,52]))h="ppm";if(t(v,[80,53]))h="ppm";
if(t(v,[80,54]))h="ppm";if(t(v,[73,73,42,0]))h="tiff";if(t(v,[77,77,0,42]))h="tiff";if(t(v,[73,73,85,0]))h="tiff";
if(t(v,[73,73,82,83]))h="tiff";if(t(v,[73,73,82,79]))h="tiff";if(h=="tiff"){var p=UTIF.decode(v),U=b3._f.aft(p);
if(U[1])h=U[1];else if(p[0].t37724)h="ptif"}if(t(v,[70,85,74,73,70,73,76,77]))h="raf";if(t(v,[112]))h="lif";
if(t(v,[73,73,26,0]))h="ciff";if(t(v,[83,81,76,105]))h="sketch";if(t(v,[80,75])){var l=UZIP.parse(d,!0);
if(l["document.json"])h="sketch";else if(l.manifest)h="xd";else if(l["maindoc.xml"])h="kra";else if(l["content/root.dat"])h="cdr";
else if(l["content/riffData.cdr"])h="cdr";else if(l["canvas.fig"])h="fig";else if(l["manifest.json"])h="pxz";
else h="zip"}if(v.length>260&&t(v,[117,115,116,97,114,32],257))h="zip";if(t(v,[55,122,188,175]))h="7z";
if(t(v,[123]))h="json";if(B.BT(v,0)==v.length)h="icc";if(t(v,[35])&&h==null)h="icc";if(t(v,[84,73,84,76],X))h="icc";
if(t(v,[76,85,84,95],X))h="icc";if(t(v,[60,63,120,109],X)){if(B.M5(v,"<look>")!=-1)h="icc";else h="svg"}if(t(v,[255,254,60,0],X))h="svg";
if(t(v,[60,115,118,103],X))h="svg";if(t(v,[60,33,100,111],X)||t(v,[60,33,68,79],X)||t(v,[60,33,45,45],X)||t(v,[60,104,116,109],X)||t(v,[60,72,84,77],X)){if(B.M5(v,"<svg")!=-1)h="svg";
else h="html"}if(t(v,[37,33])||t(v,[197,208,211,198])){if(B.M5(v,"%AI9_PrivateDataBegin")!=-1||B.M5(v,"%AI5_BeginLayer")!=-1||B.M5(v,"%AI5_NumLayers")!=-1)h="ai";
else h="eps"}if(t(v,[37,80,68,70],X)){var L=B.M5(v,"/AIMetaData ");if(L!=-1){if(B.M5(v,">>/Encrypt ",L)!=-1)h="pdf";
else h="ai"}else h="pdf"}else if(t(v,[10,69,79,70],g-3))h="dxf";if(t(v,[1,0,9,0]))h="wmf";if(t(v,[215,205,198,154]))h="wmf";
if(t(v,[1,0,0,0]))h="emf";if(t(v,[118,47,49,1]))h="exr";if(t(v,[35,63,82,65]))h="hdr";if(t(v,[35,63,82,71]))h="hdr";
if(t(v,[10,10,10,10]))h="jsx";if(t(v,[77,90]))h="exe";if(h==null){if(t(v,[0,5,22,7]))h="adoub";if(t(v,[113,111,97,102]))h="qoa";
if(t(v,[73,68,51]))h="mp3";if(t(v,[73,103,103,83]))h="ogg";if(t(v,[79,103,103,83]))h="ogg";if(t(v,[91,73,110,116]))h="url";
if(t(v,[98,112,108,105]))h="bpli";if(t(v,[98,118,52,49]))h="lz4";if(t(v,[119,79,70,50]))h="woff2";if(t(v,[60,63,112,104]))h="php";
if(t(v,[82,97,114,33]))h="rar"}if(h==null&&f.raw.B4(v.length)!=null)return"tiff";return h};b3.aoU=function(d,v,t){if(t==null)t=0;
for(var n=0;n<v.length;n++)if(v[n]!=-1&&d[t+n]!=v[n])return!1;return!0};b3.bV=function(d){var v={BMP:b3.a7V,CDR:b3.Dt,DDS:b3.UD,EMF:b3.dW,DXF:b3.Zf,EPS:b3.Vu,FIG:b3.kw,FPNG:b3.qX,INDD:b3.FX,CHLV:b3.aEq,GIF:b3.Mr,ICO:b3.sg,ILBM:b3.aqK,FITS:b3.anG,EXR:b3.Tx,HDR:b3.rm,JPG:b3.$y,LIF:b3.mu,DCM:b3.aKc,PDF:b3.w1,PDN:b3.X9,PNG:b3.CM,ICNS:b3.ajb,PPM:b3.XW,PSD:b3.d9,PXD:b3.jZ,PXZ:b3.ni,RAW:b3.ye,SKETCH:b3.Vm,UFO:b3.Jd,OFFICE:b3.kb,SVG:b3.Zs,TGA:b3.L4,AVIF:b3.X$,HEIC:b3.X$,JXL:b3.X$,TIFF:b3._f,PTIF:b3.P6,DNG:b3._f,CR2:b3._f,NEF:b3._f,ARW:b3._f,RW2:b3._f,ORF:b3._f,FFF:b3._f,RAF:b3.ty,CR3:b3.H0,VTF:b3.adB,WEBP:b3.p6,WMF:b3.m8,XCF:b3.YB,XD:b3.oS,KRA:b3.$q,EXE:b3.avV,AI:b3.JJ,AFPHOTO:b3.Lm,GVDESIGN:b3.EH,CLIP:b3.S7,SAI2:b3.P2,FRAC:b3.QX,MP4:b3.aKx,MKV:b3.aKx,MID:b3.Je,SEQ:b3.ir,OGG:b3.ahO,GP3:b3.tO,GPX:b3.Lk,QOA:b3.awv,WAV:b3.dy};
return v[d.toUpperCase()]};b3.ads=function(){var d;function v(h){var X=h.target,g=X.width,x=X.height,Z=document.createElement("canvas");
Z.width=g;Z.height=x;var Y=Z.getContext("2d");Y.drawImage(X,0,0);d({_S:new iW(0,0,g,x),data:Y.getImageData(0,0,g,x).data.buffer})}function t(h,X,g){d=g;
var x=document.createElement("img");x.onload=v;x.src="data:"+X+";base64,"+b3.cq(h)}return t}();b3.CA=function(d,v,t,h,X){var g=b3.Zx(d,v,t,h,X),x=b3.z3(g);
return x.buffer};b3.z3=function(d){var v=atob(d.split(",").pop()),t=new Uint8Array(v.length);for(var n=0;
n<v.length;n++)t[n]=v.charCodeAt(n);return t};b3.Zx=function(d,v,t,h,X,g){if(!(d instanceof ArrayBuffer))throw"e";
if(h==null)h="png";if(h=="png"&&g==!0){var x=b3.bV("PNG").V$([[d,0]],v,t);return"data:image/png;base64,"+b3.cq(x)}var Z=b3.l1;
if(Z==null)Z=b3.l1=document.createElement("canvas");if(Z.width!=v||Z.height!=t){Z.width=v;Z.height=t}var Y=Z.getContext("2d"),a=new ImageData(new Uint8ClampedArray(d,0,v*t*4),v,t);
Y.putImageData(a,0,0);return Z.toDataURL("image/"+h,X)};b3.acT=function(d,v,t,h,X){if(X==null)X=0;var g="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",x="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+g+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(d==1)x+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
x+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+X+")\" xlink:href=\""+v+"\" x=\""+80*t+"\" y=\""+80*h+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var Z=new Uint8Array(x.length);B.HN(x,Z,0);var Y="data:image/svg+xml;base64,"+b3.cq(Z.buffer);return{MP:Y,BS:new iW(0,0,128,128),h4:new cK(64,64)}};
b3.cq=function(d){var v=new Uint8Array(d),t="";for(var n=0;n<v.length;n++)t+=String.fromCharCode(v[n]);
return btoa(t)};b3.CP=function(d){var v=atob(d),t=v.length,h=new Uint8Array(t);for(var n=0;n<t;n++)h[n]=v.charCodeAt(n);
return h.buffer};b3.aEH=function(d,v,t,h){var X=new Uint8Array(d),g=~~(X.length/(v*t*2)),x;if(h)for(var n=0;
n<X.length;n+=2){var Z=X[n];X[n]=X[n+1];X[n+1]=Z}X=new Uint16Array(X.buffer,0,X.buffer.byteLength>>>1);
if(g==4)x=X.buffer;else if(g==3||g==2||g==1){var Y=new Uint16Array(v*t*4);x=Y.buffer;Y.fill(65535);for(var a=0;
a<Y.length;a+=4){var n=a>>>2,z=a>>>1,p=n*3;if(g==3){Y[a]=X[p];Y[a+1]=X[p+1];Y[a+2]=X[p+2]}else if(g==2){Y[a]=Y[a+1]=Y[a+2]=X[z];
Y[a+3]=X[z+1]}else Y[a]=Y[a+1]=Y[a+2]=X[n]}}else throw g;return x};b3.a2p=function(d){var v=[],t=[];
for(var n=0;n<d.U.length;n++){var h=d.U[n];if(h.getName().slice(0,3)=="_a_"){v.push(n);t.push(h.ZC())}}return[v,t]};
b3.vg=function(d,v,t,h,X,g){if(t==null)t=d.r;if(h==null)h=d.$;var x=new iW(0,0,d.r,d.$),Z=new gi(t/(d.r+.001),0,0,h/(d.$+.001),0,0),a;
d.qi(!0);v=v.toUpperCase();var Y=b3.bV(v);if(j8==2){if(v=="PDF"||v=="PNG"){var z=lD.shape(d),p=X.tabs,U=X.wdth,l=lD.jN(z,U,p),L=new ToPDF,j;
if(v!="PDF"){var O=document.createElement("canvas");j=O.getContext("2d");O.width=Math.ceil(U*2);O.height=Math.ceil(l*2);
L=new ToContext2D(j);j.scale(2,2)}lD.LB(z,L,U,-1,p);if(v=="PDF")a=L.buffer;else{var F=j.getImageData(0,0,O.width,O.height).data.buffer;
a=UPNG.encode([F],O.width,O.height)}}else{var i=d.Y.BP*4*d.Y.AV[0]/d.Y.AV[1],$=Math.ceil(jG.wY(d)/i)*i,H=jG.iE($,d),b=X.srat,r=X.ster,W=Math.round(H*b),V=[new Float32Array(W),new Float32Array(W)],y=Date.now();
fi.Yd(d,g.i5[0],V[0],V[1],0,b);console.log(Date.now()-y,"sampled");y=Date.now();var c=[];if(r)for(var S=0;
S<2;S++){var C=new Int16Array(W),K=V[S];c.push(C);for(var n=0;n<W;n++)C[n]=K[n]*32767}else{var C=new Int16Array(W),T=V[0],D=V[1];
c.push(C);for(var n=0;n<W;n++)C[n]=(T[n]+D[n])*16383}console.log(Date.now()-y,"rounded");y=Date.now();
a=Y.V$({MS:b,gM:c});console.log(Date.now()-y,"encoded");y=Date.now()}}else if(Y.e4){a=Y.V$(d,t,h,X,g)}else if(j8==1){var N=d.pz(g,t,h);
a=Y.V$([[N,0,d.u3,d.VN]],t,h,X)}else{var G=b3.a2p(d),s=G[0],Q=G[1],q=d.yr(),e=null;if(d.depth==32)q=null;
var R=q&&X?X.srgb:!1,m=q&&!R?q[0]:null,E=v=="EXR"?32:X&&X.ke16?16:8;if(d.gM.length!=0){e=[];for(var n=0;
n<d.gM.length;n++)e.push(d.gM[n].NN(x))}if(s.length<2){var w=b3.aBk(d.jP(),q,R,d,E),M;if(t==d.r&&h==d.$)M=w.buffer;
else{var P=A.hZ.Pr([w,x],Z);M=P.buffer.buffer;if(e){var I=f.m(x.k()*4);for(var n=0;n<e.length;n++){f.Gj(e[n],I,3);
var P=A.hZ.Pr([I,x],Z),k=e[n]=f.m(P.S.k());f.Po(P.buffer,k,3)}}}a=Y.V$([[M,0,d.u3,d.VN,e,m]],t,h,X)}else{var o=[];
for(var n=0;n<s.length;n++){var af=s[n],J=d.root.Ty(af),N;if(J.B.h5()){var at=J.children;for(var ke=0;
ke<at.length;ke++){if(s.indexOf(at[ke].index)!=-1)alert("You have a frame inside a folder, which is also a frame. This folder should not be a frame (should not start with _a_).",6e3)}}for(var ke=0;
ke<s.length;ke++)d.U[s[ke]].fF(s[ke]==af);d.nA();d.uM();d.Yn();if(t==d.r&&h==d.$)N=d.jP().slice(0);else{var P=A.hZ.Pr([d.jP(),x],Z);
N=P.buffer}var M=b3.aBk(N,q,R,d,E).buffer,c_=d.U[af].getName().split(",");o.push([M,c_[1]?parseInt(c_[1]):100,d.u3,d.VN,e,m])}for(var n=0;
n<s.length;n++)d.U[s[n]].fF(Q[n]);d.uM();d.Yn();if(X){var ag=X.rvrs,dz=X.bmrn,kL=X.sped/100,aq=1;if(kL!=1)for(var n=0;
n<o.length;n++)o[n][1]=Math.round((o[n][1]==0?16:o[n][1])/kL);if(aq<1){var dh=0,gK=[],lq=0,ke=0;for(var n=0;
n<o.length;++n){dh+=o[n][1];if(n>0){gK.push(gK[gK.length-1]+o[n-1][1])}else{gK.push(0)}}var ad=aq*o.length,dc=dh/ad,hn=[];
for(var n=0;n<ad;++n){var dF=0;while(lq>gK[ke]&&ke+1<o.length){dF+=o[ke][1];++ke}if(dF!=0){var c3=Math.round(Math.min(1,(gK[ke]-lq)/o[ke][1])*dF);
hn[hn.length-1][1]+=dF-c3;if(o[ke][1]<o[ke-1][1]/2){hn.push(o[ke-1])}else{hn.push(o[ke])}hn[hn.length-1][1]=o[ke][1]+c3}else if(ke<o.length){hn.push(o[ke])}lq+=dc;
++ke}while(ke<o.length){hn[hn.length-1][1]+=o[ke][1];++ke}o=hn}if(ag)o.reverse();if(dz){var i8=o.slice(1,o.length-1);
i8.reverse();o=o.concat(i8)}}a=Y.V$(o,t,h,X)}}return a};b3.aBk=function(d,v,t,h,X){var g=h.UR();if(h.depth==32&&X!=32)for(var n=0;
n<d.length;n++)d[n]=Math.min(1,d[n]);if(t){d=d.slice(0);ICC.U.applyLUT(v[3],v[2],d,d)}else if(g&&h.add.fcmy==1){d=d.slice(0);
ICC.U.applyLUT(g[h.add.fcmy==1?5:3],g[2],d,d)}if(h.depth>X){d=f.OO(d,X);alert("Converting "+h.depth+"-bit to "+X+"-bit colors",3e3)}return d};
b3.acH=function(d,v){var t=new Uint8Array(d.data),h=new Uint8Array(v.data),X=0,g=0;for(var x=0;x<t.length;
x+=4){var Z=t[x]-h[x],Y=t[x+1]-h[x+1],a=t[x+2]-h[x+2],z=t[x+3]-h[x+3],p=Z*Z+Y*Y+a*a+z*z>>>2;X+=p;if(p>25)g++}var U=g/d._S.k()<1e-4;
return U};b3.Kv=function(d,v){var t=v[0].IB&&v[0].IB.startsWith("_a_"),h;if(t&&!1){var X=0,g=v.length;
for(var n=0;n<v.length-1;n++){var x=v[n],Z=v[n+1],Y=b3.acH(x,Z);if(Y){var a=parseFloat(x.IB.split(",").pop()),z=parseFloat(Z.IB.split(",").pop());
x.IB=x.IB.split(",")[0]+","+Math.round(a+z);v.splice(n+1,1);n--;X++}}if(X!=0){alert("Deleted "+X+" frames out of "+g+".");
for(var n=0;n<v.length;n++){var p=v[n],U=p.IB;p.IB="_a_frm"+n+","+U.split(",")[1]}}}var l=new hc(d+"."+["psd","ai"][j8]);
if(v[0].depth)l.depth=v[0].depth;var L=new iW(0,0,1,1);if(t){h=l.vv();h.add.lsct=f$.fG;h.qv(d);h.uF="pass";
h.Xw=24;h.fF(!0);l.U.push(l.Rw())}for(var n=0;n<v.length;n++){var j=v[n];L=L.Ue(j._S);var O=l.vv();O.fF(n==0);
O.qv(v.length==1?"Background":"Layer "+n);if(n==0&&j.u3)l.u3=j.u3;if(n==0&&j.VN)l.VN=j.VN;if(j.IB)O.qv(j.IB);
if(j.Og)for(var F=0;F<j.Og.length;F++){var i=j.Og[F],$=hc.$$(i[0]);$.add.vmsk.D=i[1];f.t.kh(i[1],new gi(L.r,0,0,L.$,0,0));
l.S5.push($)}if(j.MQ)l.MQ=j.MQ;O.S=j._S.b();var H=j.depth?j.depth:l.depth;if(H==8)O.buffer=new Uint8Array(j.data);
else if(H==16)O.buffer=new Uint16Array(j.data);else if(H==32)O.buffer=new Float32Array(j.data);O.buffer=f.OO(O.buffer,l.depth);
if(n==0&&j.jk)l.m3(j.jk);f.R2(O,!0);l.U.push(O)}if(t)l.U.push(h);if(v[0].gM){for(var n=0;n<v[0].gM.length;
n++){var r=new jn.Ks;l.gM.push(r);r.S=v[0]._S.b();r.N=v[0].gM[n]}}l.l=[t?l.U.length-1:0];l.r=L.r;l.$=L.$;
if(j8==0)l.buffer=f.m(L.k()*4,l.depth);l.uM();return l};b3.afD=function(d,v,t){var h=d.length-t,X=new Uint8Array(h);
for(var n=0;n<v;n++)X[n]=d[n];for(var n=v;n<h;n++)X[n]=d[n+t];return X};b3.aA4=function(d,v,t){var h=d.length,X=t.length,g=new Uint8Array(h+X);
for(var n=0;n<v;n++)g[n]=d[n];for(var n=v;n<h;n++)g[n+X]=d[n];g.set(t,v);return g};b3.aFP=function(d,v,t,h,X,g,x,Z,Y){var a=new eG(_.E.F,!0);
a.T=A.Hh;a.data={R:"h_stepbck"};var z={};for(var p=1;p<t.length;p++){var U=d.l.slice(0),l=b3.aNP(d,Y,v,t,h,p),L="img"+p,j=t[0].indexOf(x);
if(x!=""){if(j==-1)alert("Column "+x+" not found.");else L=t[p][j]}z[L+"."+X.toLowerCase()]=new Uint8Array(b3.vg(d,X,null,null,g,Z));
for(var n=0;n<l;n++)Y.J(a)}return UZIP.encode(z)};b3.aNP=function(d,v,t,h,X,g){var x=new eG(_.E.c,!0),a=0;
x.data={R:_.Y.z7};var Z=new eG(_.E.F,!0);Z.T=A.EM;Z.data={R:jn.mj,H4:{buffer:null,S:null}};var Y=Z.data.H4;
for(var z=0;z<t.length;z++){var p=t[z],U=p.trait,l=parseInt(p.docRef.slice(4,-2)),L=-1;for(var n=0;n<d.U.length;
n++)if(d.U[n].add.lyid==l)L=n;if(L==-1)continue;var j=h[0].indexOf(p.varName);if(j==-1){alert("Column "+p.varName+" is missing");
return}var O=h[g][j],F=d.U[L];d.l=[L];if(U=="textcontent"){x.data.uq="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(O)+";";
v.J(x);a++}if(U=="visibility"&&F.ZC()+""!=O.toLowerCase()){O=O.trim().toLowerCase();if(O!="true"&&O!="false")O=O==""?"false":"true";
x.data.uq="app.activeDocument.activeLayer.visible = "+O+";";if(F.ZC()+""!=O){v.J(x);a++}}if(U=="fileref"){var i=O.split("/").pop(),$=null;
for(var bW in X)if(bW.split("/").pop()==i)$=X[bW];if($==null){alert("Image "+i+" is missing.")}else{var H=b3.bV(b3.IF($.buffer)).CE($.buffer)[0],b=H._S,r=F.S,S=0,C=0;
if(F.add.SoLd){var V=A.hZ.Q9(F.add.SoLd.nonAffineTransform);r=f.Q.k2(V)}var y=r.r/r.$,c=b.r/b.$;if(y>c){C=r.$;
S=~~(C*c)}else{S=r.r;C=~~(S/c)}x.data.uq="app.activeDocument.activeLayer.visible = false;";v.J(x);a++;
var K=A.hZ.Pr([new Uint8Array(H.data),b],new gi(S/b.r,0,0,C/b.$,0,0));Y.S=K.S;Y.buffer=K.buffer;K.S.x=r.x+(r.r-S>>>1);
K.S.y=r.y+(r.$-C>>>1);v.J(Z);a++;var T=d.U[d.l[0]];T.JS=F.JS;T.cD=F.cD;T.uF=F.uF;T.AU=F.AU}}}return a};
b3.CM={};b3.CM.V$=function(d,v,t,h){if(h==null)h={qual:100,rept:0};var X={sRGB:1,loop:h.rept},g=d[0],x=Math.floor(g[0].byteLength/(v*t*4))*8,U;
if(g[5]!=null){delete X.sRGB;X.iCCP=g[5]}if(g[2]!=null){var Z=Math.round(g[2]*(1e4/254));X.pHYs=[Z,Z,1]}if(g[3]!=null&&h.mtdt&&Object.keys(g[3]).length!=0){X.iTXt={"XML:com.adobe.xmp":gr.Ve(g[3])}}var Y=h.qual,a=Y==100?0:Math.max(2,Math.floor(Y*5));
if(a==5)a=4;var z=[],p=[];for(var n=0;n<d.length;n++){z.push(d[n][0]);p.push(d[n][1])}if(h.ctoa&&d[0][4]){z[0]=z[0].slice(0);
f.Gj(d[0][4][0],new Uint8Array(z[0]),3)}if(x==8)U=UPNG.encode(z,v,t,a,p,X,h.nplt);else{var l=[];for(var L=0;
L<z.length;L++){var j=l[L]=z[L].slice(0),O=new Uint8Array(j);for(var n=0;n<O.length;n+=2){var F=O[n];
O[n]=O[n+1];O[n+1]=F}}U=UPNG.encodeLL(l,v,t,3,1,16,p,X,!1)}return U};b3.CM.LN=function(d,v,t,h){if(h==null)h=8;
if(h==16){d=d.slice(0);var X=new Uint8Array(d);for(var n=0;n<X.length;n+=2){var g=X[n];X[n]=X[n+1];X[n+1]=g}}return UPNG.encodeLL([d],v,t,3,1,h,null,null,!0)};
b3.CM.CE=function(d){var v=Date.now(),t=UPNG.decode(d),h=t.width,X=t.height,g=8,x=t.ctype,Z,Y=0,a=null,z=t.tabs.iCCP;
if(t.tabs.pHYs)Y=Math.round(t.tabs.pHYs[0]*254/1e4);var p=t.tabs.iTXt;if(p&&p["XML:com.adobe.xmp"])a=gr.VX(p["XML:com.adobe.xmp"]);
if(bI&&t.depth==16){Z=[b3.aEH(t.data.buffer.slice(0,h*X*8),h,X,!0)];g=16}else Z=UPNG.toRGBA8(t);if(Z.length==1)return[{_S:new iW(0,0,h,X),data:Z[0],u3:Y,jk:z,VN:a,depth:g}];
var U=[];for(var n=0;n<Z.length;n++){U.push({IB:"_a_frm"+n+","+t.frames[n].delay,_S:new iW(0,0,h,X),data:Z[n],u3:Y,jk:z,VN:a,depth:g})}return U};
b3.XW={};b3.XW.V$=function(d,v,t,h){var X=new Uint8Array(d[0][0]),g=v*t,x=g*3,Z="P6\n"+v+" "+t+"\n255\n",Y=Z.length,a=new Uint8Array(Y+x);
for(var n=0;n<Y;n++)a[n]=Z.charCodeAt(n);for(var n=0;n<g;n++){var z=n*4,p=n*3+Y;a[p]=X[z];a[p+1]=X[z+1];
a[p+2]=X[z+2]}return a.buffer};b3.XW.CE=function(d){d=new Uint8Array(d);var v=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],t=0,h=String.fromCharCode(d[0])+String.fromCharCode(d[1]),X=[],g=0,x=h=="P1"||h=="P4"?2:3;
for(t=2;t<d.length;t++){var Z=d[t],Y=String.fromCharCode(Z);if(Z=="#".charCodeAt(0)){while(d[t]!="\n".charCodeAt(0))t++;
continue}var a=v.indexOf(Z)!=-1;if(g==0&&!a){X.push(Y);g=1;continue}if(g==1&&!a){X[X.length-1]+=Y;continue}if(g==1&&a){g=0;
if(X.length==x)break;continue}}var z=parseInt(X[0]),p=parseInt(X[1]),U=z*p*4,l=h=="P1"||h=="P4"?1:255/parseInt(X[2]),L=f.m(U);
if(h=="P1"||h=="P2"||h=="P3"){var j="",O=0,g=0,F="#".charCodeAt(0);for(var n=t;n<d.length;n++){var Z=d[n],Y=String.fromCharCode(Z),a=v.indexOf(Z)!=-1;
if(Z==F){while(d[n]!="\n".charCodeAt(0))n++}else if(g==0&&!a){j=Y;g=1}else if(g==1){if(a){g=0;var i=parseInt(j);
j="";if(h=="P1"){L[O]=L[O+1]=L[O+2]=(1-i)*255;L[O+3]=255;O+=4}if(h=="P2"){L[O]=L[O+1]=L[O+2]=Math.round(i*l);
L[O+3]=255;O+=4}if(h=="P3"){L[O]=Math.round(i*l);O++;if((O&3)==3){L[O]=255;O++}}}else j+=Y}}}var $=z*p;
if(h=="P4")for(var H=0;H<p;H++){var b=H*8*Math.ceil(z/8);for(var r=0;r<z;r++){var n=b+r,W=d[t+1+(n>>3)];
W=W>>7-(n&7)&1;var V=H*z+r<<2;L[V]=L[V+1]=L[V+2]=(1-W)*255;L[V+3]=255}}if(h=="P5")for(var n=0;n<$;n++){var V=4*n;
L[V]=L[V+1]=L[V+2]=Math.round(d[t+1+n]*l);L[V+3]=255}if(h=="P6")for(var n=0;n<$;n++){var V=4*n,y=t+1+3*n;
L[V]=Math.round(d[y]*l);L[V+1]=Math.round(d[y+1]*l);L[V+2]=Math.round(d[y+2]*l);L[V+3]=255}return[{_S:new iW(0,0,z,p),data:L.buffer}]};
b3.UD={};b3.UD.V$=function(d,v,t,h){if(h==null)h={cmpr:0,mpmp:!0};if(typeof h[0]=="boolean")h[0]=0;var X=new Uint8Array(d[0][0]);
if(h.ctoa&&d[0][4]){X=X.slice(0);f.Gj(d[0][4][0],X,3)}var g=v&3,x=t&3;if(g!=0||x!=0){var Z=v+(g==0?0:4-g),Y=t+(x==0?0:4-x),a=new Uint8Array(Z*Y*4);
f.pl(a,4278190080);f.wH(X,new iW(0,0,v,t),a,new iW(0,0,Z,Y));X=a;v=Z;t=Y}var z=UTEX.DDS.encode(X.buffer,v,t,[h.cmpr,h.mpmp,h.dxsr]);
if(!1){var p=UTEX.DDS.decode(z)[0],a=new Uint8Array(p.Rc),U=0;for(var n=0;n<X.length;n++){var l=X[n]-a[n];
U+=l*l}console.log(U)}return z};b3.UD.CE=function(d){var v=UTEX.DDS.decode(d),t=[];for(var n=0;n<1;n++){var h=v[n],X={_S:new iW(0,0,h.width,h.height),data:h.image};
f.aHq(X);t.push(X)}return t};b3.adB={};b3.adB.CE=function(d){var v=UTEX.VTF.decode(d).pop(),t={_S:new iW(0,0,v.width,v.height),data:v.image};
f.aHq(t);return[t]};b3.$y={};b3.$y.aIv=null;b3.$y.aNV=function(d,v){var t=b3.$y.aIv,h=d.byteLength,X=v.width,g=v.height,x=X*g,Z=5e6+2*h+x*(v.progressive?Math.max(2,v.numComponents)*4+1:8),Y=t.instance.exports;
b3.ax(Y,Z);var a=new Uint8Array(Y.memory.buffer),z=Y.malloc(h);a.set(new Uint8Array(d),z);var p=Y.malloc(4),U=Y.malloc(4),bW=Y.malloc(4),l=Y.stbi_load_from_memory(z,h,p,U,bW,4);
Y.free(z);Y.free(p,U,bW);Y.free(l);var L=a.slice(l,l+x*4);return L};(function(){var d=b3.qk.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(d).then(function(v){b3.$y.aIv=v})}());b3.$y.V$=function(d,v,t,h){if(h==null)h={qual:85,mtdt:!0};
var X=d[0],g=new Uint8Array(X[0]);if(f.jF(g)){var x=new Uint8Array(g.length);x.fill(255);var Z=new iW(0,0,v,t);
f.V.Qe("norm",g,Z,x,Z,Z,1);g=x}var Y=new Uint8Array(b3.CA(g.buffer,v,t,"jpeg",h.qual/100));if(Y.length<2e4||X[5]){var a=B.M5(Y,[255,226]);
if(a!=-1){var z=B.ZT(Y,a+2);Y=b3.afD(Y,a,z+2)}}if(X[5]!=null){var p=4+B.ZT(Y,4),U=X[5].length+16,l=new Uint8Array(U+2);
l[0]=255;l[1]=226;B.PT(l,2,U);B.js(l,4,"ICC_PROFILE");l[16]=l[17]=1;l.set(X[5],18);Y=b3.aA4(Y,p,l)}if(X[2]!=null){var L=b3.$y.uG(Y)[224][0]+2;
L+=9;Y[L]=1;B.PT(Y,L+1,X[2]);B.PT(Y,L+3,X[2])}if(X[3]!=null&&h.mtdt==!0){var j=0,O=0,F=0,i=gr.Kc(X[3]),H="http://ns.adobe.com/xap/1.0/",p=20;
if(X[2]!=null){i.t282=i.t283=[[Math.round(X[2]*1e4),1e4]];i.t296=[2]}var $=new Uint8Array(UTIF.encode([i]));
j=4+6+$.length;var b=gr.Ve(X[3]),r=B.j9(b);O=4+H.length+1+r.length;var W=gr.aBn(X[3]);if(W.length!=0){var V=0,S=0;
for(var n=0;n<W.length;n++)V+=5+W[n][1].length;var y=V+(V&1),c=f.m(14+4+4+4+y);B.js(c,S,"Photoshop 3.0");
S+=14;B.js(c,S,"8BIM");S+=4;c[S++]=4;c[S++]=4;S+=2;B.NI(c,S,V);S+=4;for(var n=0;n<W.length;n++){var C=W[n],K=C[1];
c[S++]=28;c[S++]=2;c[S++]=C[0];B.PT(c,S,K.length);S+=2;B.js(c,S,K);S+=K.length}F=4+c.length}var T=j+O+F,D=new Uint8Array(Y.length+T);
for(var n=0;n<20;n++)D[n]=Y[n];for(var n=20;n<Y.length;n++)D[n+T]=Y[n];D[p]=255;D[p+1]=225;B.PT(D,p+2,j-2);
B.js(D,p+4,"Exif");for(var n=0;n<$.length;n++)D[p+10+n]=$[n];p+=j;D[p]=255;D[p+1]=225;B.PT(D,p+2,O-2);
B.js(D,p+4,H);for(var n=0;n<r.length;n++)D[p+4+H.length+1+n]=r[n];p+=O;if(F!=0){D[p]=255;D[p+1]=237;
B.PT(D,p+2,F-2);for(var n=0;n<c.length;n++)D[p+4+n]=c[n];p+=F}Y=D}return Y.buffer};b3.$y.uG=function(d){var v=0,t=[],h=d.length;
while(v<h){while(d[v]!=255&&v<h)v++;while(d[v]==255)v++;if(v==h)break;var X=d[v];v++;if(t[X]==null)t[X]=[];
t[X].push(v-2);if(X==216)continue;if(X==217)break;if(224<=X&&X<=239||X==218||X==219||X==192||X==193||X==194||X==196||X==221||X==254){var g=B.ZT(d,v);
v+=g;if(X==218)while(v<h&&(d[v]!=255||(d[v+1]==0||208<=d[v+1]&&d[v+1]<=215)))v++;continue}console.log("unknown marker ",X.toString(16),v);
break}if(t[217]==null){console.log("EOI marker missing");var x=d.length-2;d[x]=255;d[x+1]=217;t[217]=[x]}return t};
b3.$y.aoQ=function(d){d=new Uint8Array(d);if(d[0]!=255)return d.buffer;var v=b3.$y.uG(d),t=b3.$y.as2(d,v);
if(t.numComponents!=4)return d.buffer;var h=t.width,X=t.height,g=b3.$y.aAM(d,v,!0);return b3.$y.V$([[g[0].data]],h,X,{qual:85})};
b3.$y.as2=function(d,v){var t=(v[192]?v[192]:v[193]?v[193]:v[194])[0]+4,h={};h.progressive=v[194]!=null;
h.precision=d[t];t++;h.height=B.ZT(d,t);t+=2;h.width=B.ZT(d,t);t+=2;h.numComponents=d[t];t++;if(v[224]){var X=h.jfif={};
t=v[224][0]+2+2+5+2;X.densityUnits=d[t];t++;X.xDensity=B.ZT(d,t);t+=2;X.yDensity=B.ZT(d,t);t+=2}if(v[238]){var X=h.adobe={};
t=v[238][0]+2+2+6;X.version=d[t];t++;X.flags0=B.ZT(d,t);t+=2;X.flags1=B.ZT(d,t);t+=2;X.transform=d[t];
t++}return h};b3.$y.a2d=function(d,v,t){var h=v,X=B.ZT(d,h);h+=2;var g=B.o3(d,h,4);if(g=="Exif"){h+=6;
var x=d.slice(h,h+X-8),Z;try{Z=UTIF.decode(x.buffer,{parseMN:!1,debug:!1})}catch(cQ){}if(Z&&Z.length!=0)t.exif=Z}else if(g=="http"){var Y=0;
while(d[h+Y]!=0)Y++;var a=B.o3(d,h,Y);h+=Y+1;if(a=="http://ns.adobe.com/xmp/extension/"){var z=B.o3(d,h,32);
h+=32;h+=8;var p=v+X-h;while(d[h+p-1]==0)p--;if(t.xmp_extn==null)t.xmp_extn="";try{t.xmp_extn+=B.I$(d,h,p)}catch(cQ){}}else if(a=="http://ns.adobe.com/xap/1.0/"){var U=B.I$(d.slice(h,h+X-Y-3));
if(U[0]=="?")U="<"+U;t.xmp=U}}else console.log(g)};b3.$y.aAM=function(d,v,t){var h=b3.$y.as2(d,v),X=h.width,g=h.height,x=X*g,Z,H=72,b,W,V=null;
if(X*g*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var Y=-1;if(h.adobe)Y=h.adobe.transform;if(t||X*g>16e6||Y==0||Y==2||h.progressive||window.WebAssembly==null){var a=new PDFJS.JpegImage;
a.parse(d);var z=a.getData({width:X,height:g,forceRGB:!0,isSourcePDF:t}),Z=f.m(x*4);for(var n=0;n<x;
n++){var p=n<<2,U=p-n;Z[p]=z[U];Z[p+1]=z[U+1];Z[p+2]=z[U+2];Z[p+3]=255}}else{Z=b3.$y.aNV(d.buffer,h)}var l=v[225];
if(l)for(var n=0;n<l.length;n++)b3.$y.a2d(d,l[n]+2,h);var L=v[226];if(L){for(var n=0;n<L.length;n++){var j=L[n],O=B.ZT(d,j+2),F=B.o3(d,j+4,11);
if(h.icc==null&&F=="ICC_PROFILE"){var i=B.BT(d,j+18);h.icc=d.slice(j+18,j+18+i)}}}var $=v[217][0]+2;
if($!=d.length)h.suffix=d.slice($);var r=[X,g,1,0,0,0,1,0];if(h.exif&&h.exif[0].t282!=null){var y=h.exif[0].t282[0];
H=y[0]/y[1]}else if(h.jfif&&h.jfif.densityUnits!=0){H=Math.round([72,1,2.54][h.jfif.densityUnits]*h.jfif.xDensity)}if(h.exif){var c=h.exif;
b=gr.L6(c[0]);var S=c[0].t274;if(S)S=S[0];if(S!=null&&S>1&&S<20)r=f.raw.aDc(S,X,g)}if(h.xmp){b=gr.VX(h.xmp,b)}if(h.icc)W=h.icc;
var C=v[237],K=[],T=[];if(C){var D=new Uint8Array(65536),N=0,j=0;for(var n=0;n<C.length;n++){j=C[n]+2;
var G=j+B.ZT(d,j);j+=2;var s=j;while(d[j]!=0)j++;j++;var Q=B.o3(d,s,j-s-1),q=G-j;if(q<0)break;while(N+q>D.length){var R=new Uint8Array(D.length*2);
R.set(D);D=R}var m=new Uint8Array(d.buffer,j,q);D.set(m,N);N+=q}j=0;d=D;while(j<N){var E=B.o3(d,j,4);
j+=4;var e=B.ZT(d,j);j+=2;var w=d[j++],M=B.o3(d,j,w);j+=w;if((w&1)==0)j++;var O=B.BT(d,j);j+=4;var $=j+O+(O&1);
if(e==1028){while(j+4<$){var P=d[j++],I=d[j++],k=d[j++],o=B.ZT(d,j);j+=2;if(P==28&&I==2)K.push([k,B.o3(d,j,o)]);
j+=o}}else if(e==1032)V=e4.a6a(d,j);else if((e&2e3)==2e3){var af=g4.Cg(d,j,O);T.push([M,af])}else{}j=$}if(K.length!=0)b=gr.azM(K,b)}var J=[{_S:new iW(0,0,X,g),data:Z.buffer,u3:H,VN:b,jk:W,Og:T.length==0?null:T,MQ:V}],b=h.xmp_extn;
if(b){var at=new DOMParser,ke=at.parseFromString(b,"image/svg+xml"),ke=ke.children[0].children[0].children[0],c_=[ke.getAttribute("GImage:Data"),ke.getAttribute("GDepth:Data")];
for(var n=0;n<c_.length;n++)if(c_[n]){var ag=atob(c_[n]),dz=new Uint8Array(ag.length);B.js(dz,0,ag);
dz=dz.buffer;var kL=b3.IF(dz),aq=b3.bV(kL).CE(dz);J.push(aq[0])}}if(h.suffix){var dh=h.suffix,gK=!1,ad=B.o3(dh,4,4),dc=B.M5(dh,[255,216,255]);
if(b3.aoU(dh,[0,0,1,10,14,0,0,0])){if(gK)console.log("Samsung");var j=0;while(j!=dh.length){var lq=B.kQ(dh,j+2);
j+=4;var hn={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[lq];if(hn!=null){var dF=B.ij(dh,j);j+=4;
var c3=B.o3(dh,j,dF);j+=dF;var i8=B.o3(dh,j,hn);j+=hn;if(lq==2608){var dr=j,jO=B.BT(dh,j+24);j+=jO+24;
var d1=B.BT(dh,j);j+=d1;var h3=dh.slice(dr,j);b3.$y.avO(h3)}}else if(lq==18502){while(B.o3(dh,j,4)!="SEFT")j+=4;
j+=4}else{break;console.log(B.e5(dh,j,128));console.log(dh.slice(j));throw lq.toString(16)}}}else if(ad=="ftyp"){if(gK)console.log("MP4 Video");
b3.$y.avO(dh)}else if(B.o3(dh,0,4)=="fixe"){if(gK)console.log("fixe");alert("Unknown data - "+dh.length+" B - at the end of the file",3e3);
var j=4,O=B.ij(dh,j);j+=4;var d5=B.ij(dh,j);j+=4;var em=B.ij(dh,j);j+=4;console.log(O,d5,em,dh.slice(j,j+84));
j+=84;var fl=B.o3(dh,j,32);j+=32;j+=8;var fl=B.o3(dh,j,32);j+=32}else if(B.o3(dh,8,13)=="FocusShot_Map"){if(gK)console.log("FocusShot_Map");
var lA=B.BT(dh,0),o=B.ij(dh,4),dz=f.m(x*4),av=f.m(x*4);for(var ah=0;ah<g;ah++)for(var gE=0;gE<X;gE++){var n=ah*X+gE,p=n<<2,fj=8+13+((ah>>>1)*X+gE>>>1),bR=dh[fj],bD=dh[fj+(x>>>2)];
dz[p]=dz[p+1]=dz[p+2]=bR;dz[p+3]=255;av[p]=av[p+1]=av[p+2]=bD;av[p+3]=255}J.push({_S:new iW(0,0,X,g),data:dz.buffer},{_S:new iW(0,0,X,g),data:av.buffer})}else if(ad=="edof"){if(gK)console.log("edof");
var S=dh[8+7];console.log(S.toString(16));var j=8+16,e1=B.kQ(dh,j),am=B.kQ(dh,j+2),x=e1*am;j+=4;j+=32+16;
var dj=f.m(x*4);for(var n=0;n<x;n++){var p=n<<2;dj[p]=dj[p+1]=dj[p+2]=dh[j+n];dj[p+3]=255}if(S==16){}else if(S==19){var ja=dj.slice(0);
f.G.zR(dj,ja,e1,am);var aj=e1;e1=am;am=aj;f.G.EN(ja,dj,e1,am)}else throw"Unknown orientation of a depth map";
J.push({_S:new iW(0,0,e1,am),data:dj.buffer})}else if(B.o3(dh,0,64).indexOf("DualShot")!=-1){if(gK)console.log("DualShot");
var dS=B.ij,eW=B.o3,be=B.kQ,j=0;function cI(){var l7=dS(dh,j);if(dS(dh,j+4)!=0)throw"e";j+=8;return l7}var kP=B.BT(dh,j);
j+=4;try{if(kP==45066){j=1226;var X=cI(),g=cI();j=3445}else if(kP==45322){var i0=dS(dh,j);j+=4;var fl=eW(dh,j,i0);
j+=i0;if(fl!="DualShot_DepthMap_1")throw fl;X=1008;g=756;if(J[0]._S.r==4080){X=1020;g=764}}else throw kP;
var ac=f.m(X*g*4);ac.fill(255);f.I0(dh.slice(j,j+X*g),ac);J.push({_S:new iW(0,0,X,g),data:ac.buffer})}catch(cQ){console.log("error reading a depth map")}try{if(dc!=0)dh=dh.slice(dc);
J=J.concat(b3.bV("jpg").CE(dh.buffer))}catch(cQ){}}else if(dc!=-1&&!(dh[0]==255&&dh[1]==129)){if(gK)console.log("another JPG at",dc);
try{if(dc!=0)dh=dh.slice(dc);J=J.concat(b3.bV("jpg").CE(dh.buffer))}catch(cQ){}}else if(B.o3(dh,0,4)=="PMPD"){if(gK)console.log("Xiaomi stuff");
var j=4,jR=B.ij(dh,12),eo=B.ij(dh,16),e1=B.ij(dh,1060),am=B.ij(dh,1064),eP=e1>am,as=J[0]._S.r>J[0]._S.$,kF=dh.slice(dh.length-e1*am-4),kW=f.m(e1*am);
for(var ah=0;ah<am;ah++)for(var gE=0;gE<e1;gE++)kW[ah*e1+gE]=kF[(am-ah-1)*e1+gE];var ac=f.m(e1*am*4);
ac.fill(255);f.I0(kW,ac);if(eP!=as){var ja=ac.slice(0);f.G.zR(ac,ja,e1,am);var aj=e1;e1=am;am=aj;f.G.EN(ja,ac,e1,am)}J.push({_S:new iW(0,0,e1,am),data:ac.buffer})}else console.log(B.o3(dh,0,4),dh)}if(J.length>1){var hs=J[0]._S,fK=!1,lo=!0;
J[0].IB="Main";var gc=[!1];for(var n=1;n<J.length;n++){gc[n]=b3.$y.aKX(new Uint8Array(J[n].data));if(gc[n])fK=!0;
if(!J[n]._S.fE(J[0]._S))lo=!1}if(!fK&&!lo)J=J.slice(0,1);else for(var n=1;n<J.length;n++){J[n].IB=gc[n]?"Depth Map":null;
var cR=J[n]._S;if(!cR.fE(hs)){var fU=hs.r/cR.r,g8=hs.$/cR.$,i2=new gi;i2.scale(fU,g8);var jQ=A.hZ.zL([new Uint8Array(J[n].data),cR],1,f.G.KO(i2));
J[n]._S=jQ.S;J[n].data=jQ.buffer}}}if(b3.$y.nN==1)if(r[2]!=1||r[6]!=1)for(var n=0;n<J.length;n++){var eS=J[n],ji=new Uint8Array(eS.data),X=eS._S.r,g=eS._S.$,e1=r[0],am=r[1],Z=f.m(e1*am*4);
f.G.kg(ji,X,g,Z,r);eS._S=new iW(0,0,e1,am);eS.data=Z.buffer}return J};b3.$y.avO=function(d){if(window.confirm("Photopea found a "+hi.Hb(d.length)+" MP4 video inside your image. Would you like to save it?",4e3)){dY.save(d.slice(0).buffer,"video.mp4")}};
b3.$y.aKX=function(d){var v=!0;for(var n=0;n<d.length;n+=4){v=v&&d[n]==d[n+1]&&d[n+1]==d[n+2]}return v};
b3.$y.nN=0;b3.$y.CE=function(d,v,t){d=new Uint8Array(d);if(d[0]==255){var h=b3.$y.uG(d);if(h[195]==null){b3.$y.nN++;
var X=b3.$y.aAM(d,h,!1);b3.$y.nN--;return X}var g=B.ZT(d,h[195][0]+5),x=B.ZT(d,h[195][0]+7),Z=UTIF.LosslessJpegDecode(d),Y=x*g,a=f.m(Y*4);
for(var n=0;n<Y;n++){var z=n<<2,p=z-n;a[z]=Z[p];a[z+1]=Z[p+1];a[z+2]=Z[p+2];a[z+3]=255}return[{_S:new iW(0,0,x,g),data:a.buffer}]}else if(d[0]==0&&d[4]==48&&d[6]==1){var U=d,l=new PDFJS.Jbig2Image,L=[];
if(v)L.push({data:v,start:0,end:v.length});L.push({data:U,start:0,end:U.length});var Z=l.parseChunks(L);
if(!t)for(var n=0;n<Z.length;n++)Z[n]=~Z[n];var x=B.BT(d,11),g=B.BT(d,15),j=Math.ceil(x/8),O=f.m(x*g*4);
for(var F=0;F<g;F++){var i=F*j;for(var $=0;$<x;$++){var z=(F*x+$)*4,H=Z[i+($>>>3)]>>>7-($&7)&1,b=H*255;
O[z]=b;O[z+1]=b;O[z+2]=b;O[z+3]=255}}return[{_S:new iW(0,0,x,g),data:O.buffer}]}else{var l=new PDFJS.JpxImage;
l.parse(d);var x=l.width,g=l.height,r=l.tiles,W=l.componentsCount,V=new Uint8Array(x*g*4),y=new iW(0,0,x,g);
for(var l=0;l<r.length;l++){var c=r[l],S=c.width,C=c.height,K=S*C,T=c.items,D=new iW(c.left,c.top,S,C),N=new Uint8Array(K*4);
if(W==1)for(var n=0;n<K;n++){var G=T[n],z=n*4;N[z]=G;N[z+1]=G;N[z+2]=G;N[z+3]=255}else if(W==3)for(var n=0;
n<K;n++){var p=n*3,z=n*4;N[z]=T[p];N[z+1]=T[p+1];N[z+2]=T[p+2];N[z+3]=255}else if(W==4)N.set(T);else console.log("Unknown number of components: "+W);
f.wH(N,D,V,y)}return[{_S:y,data:V.buffer}]}};b3.p6={};b3.p6.V$=function(d,v,t,h){if(h==null)h={qual:70,mtdt:!0,rept:0};
var X=h.qual/100,r=0;if(d.length==1){var g=new Uint8Array(b3.CA(d[0][0],v,t,"webp",X)),x=g[20];if(b3.IF(g.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(g.length<2e4){var Z=gv.lS(g.buffer),Y=Z.sub;for(var n=0;n<Y.length;n++)if(Y[n].tj=="ICCP"){var a=Y[n];
if(x&32)x-=32;g=b3.afD(g,a.h-8,a.size+8);B.Bk(g,4,Z.size-(a.size+8));break}}if(h.mtdt&&d[0][3]){var z=d[0][3],p=new Uint8Array(UTIF.encode([gr.Kc(z)])),U=p,l=B.j9(gr.Ve(z)),L=8+U.length;
L+=L&1;var j=8+l.length;j+=j&1;var O=new Uint8Array(L+j);B.js(O,0,"EXIF");B.Bk(O,4,U.length);O.set(U,8);
B.js(O,L,"XMP ");B.Bk(O,L+4,l.length);O.set(l,L+8);var F=new Uint8Array(g.length+O.length),Z=gv.lS(g.buffer),Y=Z.sub;
F.set(g,0);F.set(O,g.length);B.Bk(F,4,B.ij(F,4)+O.length);x|=12;g=F;var i=gv.lS(g.buffer)}if(B.o3(g,12,4)=="VP8X")g[20]=x;
return g.buffer}var $=B.Er,H=B._Q,b=new fe;$(b,r,"RIFF    WEBPVP8X");r+=16;H(b,r,10);r+=4;H(b,r,18);
r+=4;H(b,r,v-1);r+=3;H(b,r,t-1);r+=3;$(b,r,"ANIM");r+=4;H(b,r,6);r+=4;b.fK(r,4);b.data[r+3]=255;B.Li(b,r+4,h.rept);
r+=6;var W=[];for(var n=0;n<d.length;n++){W.push(d[n][0])}var V=UPNG.encode.compress(W,v,t,X==1?0:Math.max(2,Math.floor(X*500)),[!1,!0,!0,0,!0]).frames;
function y(Z,R,m,E){var N=Z.h-8,G=Z.size+8;m.fK(E,G);for(var n=0;n<G;n++)m.data[E+n]=R[N+n];return E+G}for(var n=0;
n<d.length;n++){$(b,r,"ANMF");r+=4;var c=r,N=0,G=0;r+=4;var S=V[n],C=S.rect,K=[C.x>>>1,C.y>>>1,C.width-1,C.height-1,d[n][1]];
for(var T=0;T<5;T++)H(b,r+3*T,K[T]);r+=15;b.fK(r,1);b.data[r]=1-S.blend<<1|S.dispose;r++;var D=new Uint8Array(b3.CA(S.img.buffer,C.width,C.height,"webp",1)),Y=gv.lS(D.buffer).sub,s={};
for(var Q=0;Q<Y.length;Q++)s[Y[Q].tj]=Y[Q];if(s.VP8L)r=y(s.VP8L,D,b,r);else throw"e";var q=r-c-4;H(b,c,q);
if((q&1)==1){b.fK(r,1);r++}}H(b,4,r-8);return b.data.slice(0,r).buffer};(function(){var d=b3.qk.get("wasm/webp").buffer;
WebAssembly.instantiate(d).then(function(v){var t=v.instance.exports;b3.p6.exp=t})}());b3.p6.CE=function(d){var v=new Uint8Array(d),t=b3.p6.aNX,h=null,X=gv.lS(d).sub,g={},x=null;
for(var n=0;n<X.length;n++)g[X[n].tj]=X[n];if(g.EXIF){var Z=g.EXIF,Y=Z.h,a=Y+Z.size;if(v[Z.h]==69)Y+=6;
var z=d.slice(Y,a),Z=UTIF.decode(z)[0];console.log(Z);if(Z)x=gr.L6(Z);console.log(x)}var Z=g["XMP\0"];
if(Z==null)Z=g["XMP "];if(Z){var z=new Uint8Array(d,Z.h,Z.size);if(x==null)x={};x=gr.VX(B.I$(z),x)}var p=g.ANIM,U=g.VP8L,l=g["VP8 "],L=g.VP8X;
if(p==null){var j,O;if(l){j=B.kQ(v,l.h+6);O=B.kQ(v,l.h+8)}else if(U){var F=B.ij(v,U.h+1);j=(F&(1<<14)-1)+1;
O=(F>>>14&(1<<14)-1)+1}else throw"e";var i=t(h,d,{h:0,size:v.length},j,O);i.VN=x;return[i]}var $=L.h,j=1+(B.ij(v,$+4)&16777215),O=1+(B.ij(v,$+7)&16777215),H=[],b=new iW(0,0,j,O),r=f.m(j*O*4);
for(var n=0;n<X.length;n++){var W=X[n];if(W.tj!="ANMF")continue;var V=[];for(var y=0;y<5;y++)V.push(B.ij(v,W.h+y*3)&16777215);
var c=new iW(V[0]*2,V[1]*2,V[2]+1,V[3]+1),S=V[4],C=t(h,d,{h:W.h+16,size:W.size-16},j,O),K=new Uint8Array(C.data),T=v[W.h+15];
if(T>>>1==0)f.V.Qe("norm",K,c,r,b,c,1);else f.wH(K,c,r,b);H.push({IB:"_a_"+H.length+","+S,_S:b.b(),data:r.buffer.slice(0)});
if((T&1)==1){K.fill(0);f.wH(K,c,r,b)}}return H};b3.p6.aNX=function(d,v,t,h,X){var g=b3.p6.exp,x=g.memory,Z=5e6+2*t.size+h*X*10;
b3.ax(g,Z);var Y=new Uint8Array(x.buffer),a=g.malloc(t.size);Y.set(new Uint8Array(v,t.h,t.size),a);var z=g.malloc(8),p=g.WebPDecodeARGB(a,t.size,z,z+4),U=B.ij(Y,z),l=B.ij(Y,z+4),L=U*l*4,j=f.m(L);
for(var n=0;n<L;n+=4){j[n]=Y[p+n+1];j[n+1]=Y[p+n+2];j[n+2]=Y[p+n+3];j[n+3]=Y[p+n]}g.WebPFree(p);g.free(z);
g.free(a);return{_S:new iW(0,0,U,l),data:j.buffer}};b3.a7V=function(){function d(Z,Y,a,z){var p=new Uint8Array(Z[0][0]),U=new Uint32Array(p.buffer),l=[],L={},O=24,F=0,r=0;
for(var n=0;n<U.length;n++){var j=U[n]&16777215;if(L[j]==null){L[j]=l.length;l.push(j);if(l.length>256){l=null;
break}}}if(z&&z.nplt)l=null;if(l){O=1;while(1<<O<l.length)O*=2;if(O==2)O=4}var i={F0:Y,uV:a,yH:1,qx:O,Gi:0,a8W:F},$=4*Math.floor((i.qx*i.F0+31)/32);
i.size=$*i.uV+2;var H=new fe,b=l?(1<<O)*4:0;B.Er(H,r,"BM");r+=2;B._Q(H,r,$*a+16+40+b);r+=4;B._Q(H,r,0);
r+=4;B._Q(H,r,54+b);r+=4;H.fK(r,40);B._Q(H,r,40);r+=4;x(H.data,r,i,$);r+=36;if(l){H.fK(r,b);var W=H.data;
for(var n=0;n<l.length;n++){var V=r+n*4,y=l[n]>>>16,c=l[n]>>>8&255,S=l[n]&255;W[V]=y;W[V+1]=c;W[V+2]=S}r+=b}H.fK(r,$*a);
if(O==24)for(var C=0;C<a;C++){var K=r+(a-1-C)*$;for(var T=0;T<Y;T++){var D=(C*Y+T)*4;H.data[K+T*3+2]=p[D];
H.data[K+T*3+1]=p[D+1];H.data[K+T*3+0]=p[D+2]}}else if(O==8)for(var C=0;C<a;C++){var K=r+(a-1-C)*$;for(var T=0;
T<Y;T++){var D=C*Y+T,N=L[U[D]&16777215];H.data[K+T]|=N}}else if(O==4)for(var C=0;C<a;C++){var K=r+(a-1-C)*$;
for(var T=0;T<Y;T++){var D=C*Y+T,N=L[U[D]&16777215];H.data[K+(T>>>1)]|=N<<4-(T&1)*4}}else if(O==1)for(var C=0;
C<a;C++){var K=r+(a-1-C)*$;for(var T=0;T<Y;T++){var D=C*Y+T,N=L[U[D]&16777215];H.data[K+(T>>>3)]|=N<<7-(T&7)}}r+=$*a+2;
return H.data.slice(0,r).buffer}function v(Z){Z=new Uint8Array(Z);if(B.ij(Z,0)==40)return[t(Z.buffer,0)];
var Y=0,a=B.o3(Z,Y,2);Y+=2;if(a!="BM"){alert("Unsupported BMP format: "+a);return}var z=B.ij(Z,Y);Y+=4;
Y+=4;var p=B.ij(Z,Y);Y+=4;return[t(Z.buffer,Y,p)]}function t(Z,Y,a){Z=new Uint8Array(Z);var z=B.ij(Z,Y),p=g(Z,Y+4);
if(p.yH!=1)alert("unsupported number of color planes: "+p.yH);if(p.Gi!=0&&p.Gi!=1&&p.Gi!=2&&p.Gi!=3&&p.Gi!=861165636){alert("Unsupported BMP compression: "+p.Gi);
return}Y+=z;var U=Y,l=Z;if(a==null)a=Y;if(p.Gi==1||p.Gi==2){var L=X(Z,a,p);p.qx=8;Z=L;a=0}var j=4*Math.floor((p.qx*p.F0+31)/32),O=p.F0,F=Math.abs(p.uV),i=new Uint8Array(O*F*4);
i.fill(255);if(p.qx==32)for(var $=0;$<F;$++){var H=a+(F-1-$)*j;for(var b=0;b<O;b++){var r=($*O+b)*4;
i[r]=Z[H+b*4+2];i[r+1]=Z[H+b*4+1];i[r+2]=Z[H+b*4+0];i[r+3]=Z[H+b*4+3]}}else if(p.qx==24)for(var $=0;
$<F;$++){var H=a+(F-1-$)*j;for(var b=0;b<O;b++){var r=($*O+b)*4;i[r]=Z[H+b*3+2];i[r+1]=Z[H+b*3+1];i[r+2]=Z[H+b*3+0]}}else if(p.qx==16){if(p.Gi==861165636)UTEX.readBC2(Z,a,i,O,F);
else for(var $=0;$<F;$++){var H=a+(F-1-$)*j;for(var b=0;b<O;b++){var r=($*O+b)*4,W=Z[H+b*2+1]<<8|Z[H+b*2];
if(a==Y){i[r]=(W>>>10&31)*(255/31);i[r+1]=(W>>>5&31)*(255/31);i[r+2]=(W&31)*(255/31)}else{i[r]=(W>>>11)*(255/31);
i[r+1]=(W>>>5&63)*(255/63);i[r+2]=(W&31)*(255/31)}}}}else if(p.qx==8)for(var $=0;$<F;$++){var H=a+(F-1-$)*j;
for(var b=0;b<O;b++){var r=($*O+b)*4,V=Z[H+b];i[r]=l[U+4*V+2];i[r+1]=l[U+4*V+1];i[r+2]=l[U+4*V+0]}}else if(p.qx==4)for(var $=0;
$<F;$++){var H=a+(F-1-$)*j;for(var b=0;b<O;b++){var r=($*O+b)*4,V=Z[H+(b>>1)];V=V>>4-4*(b&1);V=V&15;
i[r]=l[U+4*V+2];i[r+1]=l[U+4*V+1];i[r+2]=l[U+4*V+0]}}else if(p.qx==1)for(var $=0;$<F;$++){var H=a+(F-1-$)*j;
for(var b=0;b<O;b++){var r=($*O+b)*4,y=Z[H+(b>>3)];y=y>>7-(b&7);y=y&1;i[r]=l[U+4*y+2];i[r+1]=l[U+4*y+1];
i[r+2]=l[U+4*y+0]}}else throw"Unknown bit depth "+p.qx;if(p.uV<0){var c=new Uint32Array(i.buffer),S=F>>>1;
for(var $=0;$<S;$++){var C=$*O,K=(F-$-1)*O;for(var b=0;b<O;b++){var T=c[C+b];c[C+b]=c[K+b];c[K+b]=T}}}return{_S:new iW(0,0,O,F),data:i.buffer}}function h(Z,n){return Z>>>4-((n&1)<<2)&15}function X(Z,Y,a){var z=a.F0,p=Math.abs(a.uV),U=new Uint8Array(z*p),l=0,L=0,n=0;
while(L<p){var j=Z[Y++],O=Z[Y++],F=L*z+l;if(j>0){if(a.qx==4)for(n=0;n<j;n++){U[F+n]=h(O,n)}else for(n=0;
n<j;n++){U[F+n]=O}l+=j}else if(j==0&&O==0){L++;l=0}else if(j==0&&O==1){break}else if(j==0&&O==2){l+=Z[Y++];
L+=Z[Y++]}else{var i=O;if(a.qx==4){for(n=0;n<O;n++){U[F+n]=h(Z[Y+(n>>>1)],n)}i=Math.ceil(O/2)}else{for(n=0;
n<O;n++){U[F+n]=Z[Y+n]}}if((i&1)!=0)i++;Y+=i;l+=O}}return U}function g(Z,Y){var a=B.ce,z=B.ij,p=B.kQ,U={};
U.F0=a(Z,Y);Y+=4;U.uV=a(Z,Y);Y+=4;U.yH=p(Z,Y);Y+=2;U.qx=p(Z,Y);Y+=2;U.Gi=z(Z,Y);Y+=4;U.size=z(Z,Y);Y+=4;
var l=a(Z,Y);Y+=4;var L=a(Z,Y);Y+=4;U.a8W=z(Z,Y);Y+=4;Y+=4;return U}function x(Z,Y,a,z){B.Bk(Z,Y,a.F0);
Y+=4;B.Bk(Z,Y,a.uV);Y+=4;B.mr(Z,Y,a.yH);Y+=2;B.mr(Z,Y,a.qx);Y+=2;B.Bk(Z,Y,a.Gi);Y+=4;B.Bk(Z,Y,a.size);
Y+=4;B.Bk(Z,Y,2834);Y+=4;B.Bk(Z,Y,2834);Y+=4;B.Bk(Z,Y,a.a8W);Y+=4;Y+=4}return{CE:v,V$:d,aFZ:t}}();b3.Mr={};
b3.Mr.V$=function(d,v,t,h){if(h==null)h={qual:100,dthr:!1};var X=[],g=[],x=v*t*4,j=null;for(var Z=0;
Z<d.length;Z++){var Y=new Uint8Array(d[Z][0].slice(0));for(var n=0;n<x;n+=4){var a=Y[n+3]=Y[n+3]>127?255:0;
if(a==0)Y[n]=Y[n+1]=Y[n+2]=0}X.push(Y.buffer);g.push(d[Z][1])}var z=Math.round(2+254*h.qual/100),p=UPNG.encode.compress(X,v,t,z,[!0,!1,!1,8,!1,h.dthr]),U=p.plte,l=new Uint8Array(4),L=new Uint32Array(l.buffer);
for(var n=0;n<U.length;n++){L[0]=U[n];var O=l[0];l[0]=l[2];l[2]=O;U[n]=L[0];if(L[0]==0&&j==null)j=n}while(U.length<256)U.push(0);
var F=new Uint8Array(2e4+Math.round(1.5*v*t*d.length)),i=h.rept,$={palette:U};if(i!=1)$.loop=i==0?0:i-1;
var H=new GifWriter(F,v,t,$);for(var n=0;n<d.length;n++){var b=p.frames[n],r=b.rect,W=b.blend,V=b.dispose,y=Math.round(g[n]/10);
if(y<2)y=2;H.addFrame(r.x,r.y,r.width,r.height,b.img,{transparent:j,disposal:V+1,delay:y})}return F.slice(0,H.end()).buffer};
b3.Mr.CE=function(d){var v=Date.now(),t=[],h=UGIF.decode(d),X=UGIF.toRGBA8(h),g=new iW(0,0,h.width,h.height);
for(var n=0;n<X.length;n++){var x=h.frames[n];t.push({_S:g.b(),IB:"_a_frm"+n+","+x.delay*10,data:X[n]})}return t};
b3.sg={};b3.sg.V$=function(d,v,t,h){if(v>256||t>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var X=Math.min(v,256),g=Math.min(t,256),x=new iW(0,0,X,g),Z=f.m(x.k()*4),Y=new iW(0,0,v,t),a=new Uint8Array(d[0][0]);
f.wH(a,Y,Z,x);d[0][0]=Z.buffer;v=X;t=g}var z=new Uint8Array(d[0][0]).slice(0),U=0;z[3]=Math.min(z[3],254);
var p=new fe,l=h&&h[0]==!0;B.Li(p,U,0);U+=2;B.Li(p,U,l?2:1);U+=2;B.Li(p,U,1);U+=2;var L=new Uint8Array(UPNG.encode([z.buffer],v,t,null,null,null,!0));
p.fK(U,16);p.data[U]=v==256?0:v;U++;p.data[U]=t==256?0:t;U++;U+=2;B.Li(p,U,l?Math.round(v/2):1);U+=2;
B.Li(p,U,l?Math.round(t/2):32);U+=2;B._Q(p,U,L.length);U+=4;B._Q(p,U,6+16);U+=4;p.fK(U,L.length);p.data.set(L,U);
U+=L.length;return p.data.slice(0,U).buffer};b3.sg.CE=function(d){d=new Uint8Array(d);var v=4,t=B.kQ(d,v);
v+=2;var h=[];for(var n=0;n<t;n++){var X=b3.sg.auY(d,v+n*16),g=d.buffer.slice(X.offset,X.offset+X.size),x=b3.IF(g);
x=x?x:"bmp";if(x=="png"){var Z=b3.bV(x),Y=Z.CE(g);X.PG=Y[0]}else{var a=b3.bV("BMP").aFZ(g,0),g=f.m(X.F0*X.uV*4);
f.wH(new Uint8Array(a.data),new iW(0,0,a._S.r,a._S.$),g,new iW(0,X.uV,X.F0,X.uV));a.data=g.buffer;a._S.$=X.uV;
X.PG=a}h.push(X)}h.sort(function(z,p){if(z.F0!=p.F0)return z.F0-p.F0;return z.aDP-p.aDP});return[h.pop().PG]};
b3.sg.auY=function(d,v){var t={};t.F0=d[v];v++;if(t.F0==0)t.F0=256;t.uV=d[v];v++;if(t.uV==0)t.uV=256;
t.ayL=d[v];v++;v++;t.aqB=B.kQ(d,v);v+=2;t.aDP=B.kQ(d,v);v+=2;t.size=B.ij(d,v);v+=4;t.offset=B.ij(d,v);
v+=4;return t};b3._f={};b3._f.aft=function(d){var v,t="dng";if(d[0].t33421)v=d[0];else if(d[0].subIFD&&d[0].t271&&d[0].t271[0]=="Hasselblad"){t="fff";
v=d[0].subIFD[0];v.t33421=[2,2]}else if(d[0].subIFD&&d[0].subIFD[0].t33421){v=d[0].subIFD[0];if(v.t50706==null){if(v.t258[0]==8)v.t258[0]=12}t=v.t50713||v.t50717?"dng":"arw"}else if(d[0].subIFD&&d[0].subIFD[0]&&d[0].subIFD[0].t262&&d[0].subIFD[0].t262[0]==34892)v=d[0].subIFD[0];
else if(d[0].t50706)v=d[0];else if(d[0].subIFD&&d[0].subIFD[1]&&d[0].subIFD[1].t33421){t="nef";v=d[0].subIFD[1]}else if(d[0].subIFD&&d[0].subIFD[2]&&d[0].subIFD[2].t33421){t="nef";
v=d[0].subIFD[2]}else if(d[3]&&d[3].t50648){t="cr2";var h=d[0].exifIFD,X=h.makerNote;v=d[3];var g=X.t224[1],x=X.t224[2];
v.t256=[g];v.t257=[x];v.t258=[16];v.t259=[7];v.t262=[32803];v.t277=[1];v.t33421=[2,2];var Z=v.t50656[0],Y=f.raw.VU[Z];
if(Y==null)throw"e";v.t33422=Y}else if(d[0].t1&&d[0].t1.length==4){t="rw2";var a=d[0],z={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},p=a.t280==null;
v={};for(var U in z)if(a["t"+U])v["t"+z[U]]=a["t"+U];v.t2=a.t2;v.t3=a.t3;v.t10=a.t10;v.t45=a.t45;v.t258=[16];
v.t33421=[2,2];var l=a.t9[0];if(p)l=2;v.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][l-1];var L=a.t4[0],j=a.t5[0],O=a.t6[0],F=a.t7[0];
v.t50829=[L,j,O,F];var i=a.t36[0],$=a.t37[0],H=a.t38[0];v.t50728=[$/i,$/$,$/H]}else if(d[0].t258&&d[0].t258[0]>=12&&d[0].t258.length==1&&d[0].t271&&(d[0].t271[0].startsWith("OLYMPUS")||d[0].t271[0].startsWith("OM Digital Solutions"))){t="orf";
v=d[0];v.t33421=[2,2]}return[v,v?t:null]};b3._f.CE=function(d){var v=Date.now();if(f.raw.B4(d.byteLength))return[f.raw.a6R(d)];
var t=UTIF.decode(d);console.log(t.slice(0));console.log(t[0]);var h=b3._f.aft(t),X=h[0];if(X){UTIF.decodeImage(d,X,t);
for(var g in t[0])if((g[0]=="t"||g[0]=="e"||g[0]=="d")&&X[g]==null)X[g]=t[0][g];X.e_=t[0].t274?t[0].t274[0]:1;
return[X]}var x=[];for(var n=0;n<t.length;n++){var Z=t[n],a=null,O=72,W,V=8,c=null;UTIF.decodeImage(d,Z,t);
if(Z.width==null)continue;var Y=Z.t262;if(Z.t258&&Z.t258[0]==16&&Z.t277&&Z.t277[0]==1){var z=0,p=0,U=0,l=Z.data;
for(var L=0;L<l.length;L+=2){var j=l[L+1]<<8|l[L];if(j>z)z=j;p+=j;U++}a=1/256*65535/(.5*z+.5*(2*p/U))}var F=Z.t282,i=Z.t296,$=gr.L6(Z),H=Z.t258,b=Z.width,r=Z.height;
if(F!=null&&i!=null){O=F[0][0]/F[0][1];if(i[0]==3)O=Math.round(O/2.54)}if(bI&&H[0]==16){W=b3.aEH(Z.data.buffer,b,r);
V=16;var y=new Uint16Array(W);if(Y&&Y[0]==0)for(var L=0;L<y.length;L+=4){y[L]=65535-y[L];y[L+1]=65535-y[L+1];
y[L+2]=65535-y[L+2]}}else W=UTIF.toRGBA8(Z,a).buffer;if(Z.t338&&Z.t338[0]==0){var S=f.m(b*r,V),c=[S],C=V==16?new Uint16Array(W):new Uint8Array(W),z=f.ay(V);
f.Po(C,S,3);for(var L=0;L<C.length;L+=4)C[L+3]=z}x.push({_S:new iW(0,0,b,r),data:W,u3:O,VN:$,jk:Z.t34675?Z.t34675.slice(0):null,gM:c,depth:V})}return x};
b3._f.V$=function(d,v,t,h){if(h==null)h={mtdt:!0};var X={},g=d[0].slice(0),x=new Uint8Array(g[0]);if(!f.jF(x)&&g[4]&&g[4][0]){x=x.slice(0);
f.Gj(g[4][0],x,3)}if(g[3]!=null&&h.mtdt)X=gr.Kc(g[3]);if(g[2]!=null){X.t282=X.t283=[[Math.round(g[2]),1]];
X.t296=[2]}return UTIF.encodeImage(x.buffer,v,t,X)};b3.P6={};b3.P6.e4=!0;b3.P6.CE=function(d,v){var t=B.M5(new Uint8Array(d),"Alpha 1"),h=UTIF.decode(d),X=h[0],l=0;
console.log(h);var g=v.r=X.t256[0],x=v.$=X.t257[0],Z=g*x;v.buffer=f.m(Z*4);v.na=!1;v.z1=X.t258[0];v.Va=3;
var Y=X.t34377;if(Y){var a=new Uint8Array(Y.length+4);a.set(Y,4);B.NI(a,0,Y.length);d7.alV(v,a,0);d7.ajG(v)}var z=X.t37724.slice(36),p=B.o3(z,0,4)=="MIB8";
kY.Bn(z,0,z.length,v.add,!1,v,p);var U=p?B.ij:B.BT;while(l<z.length){var L=B.y5(z,l,p);l+=4;var j=B.y5(z,l,p);
l+=4;var O=U(z,l);l+=4;if(j=="Layr"){e4.pj(v,z,l,p);for(var n=0;n<v.U.length;n++){var F=v.U[n];if(F.add.vstk)F.tG(v)}}l+=O;
if((O&3)!=0)l+=4-(O&3)}var i=X.t277[0],$=new Uint8Array(d,X.t273[0]);for(var n=3;n<i;n++){var H=f.m(Z);
for(var b=0;b<Z;b++)H[b]=$[b*i+n];var r=new jn.Ks;v.gM.push(r);r.name=v.ZU?v.ZU[n-3]:"Alpha";r.N=H;r.S=new iW(0,0,g,x)}};
b3.ajb={};b3.ajb.CE=function(d){d=new Uint8Array(d);var v=8,t,h=0;while(v<d.length){var X=B.o3(d,v,4),g=B.BT(d,v+4);
if(X.startsWith("ic")){var x=d.slice(v+8,v+g),Z=b3.IF(x.buffer),Y=b3.bV(Z),a=Y.CE(x.buffer),z=a[0]._S.k();
if(z>h){h=z;t=a}}v+=g}return t};b3.d9={};b3.d9.e4=!0;b3.d9.CE=function(d,v){e4.lS(d,v)};b3.d9.ajs=function(d,v,t,h){d.qi(!0);
if(h==null)h=[!1,!1,!1,!1,!1];if(!h[0])d.jP();var X=new fe,g=e4.Al(d,X,h);return[X.data.buffer,g]};b3.d9.V$=function(d,v,t,h){var X=b3.d9.ajs(d,v,t,h),g=X[0],x=X[1];
return g.byteLength==x?g:g.slice(0,x)};b3.jZ={};b3.jZ.e4=!0;b3.jZ.CE=function(d,v){var t=pako.inflate(new Uint8Array(d)),h=B.ZT(t,0),X=B.ZT(t,2),g=4;
v.r=B.BT(t,g);g+=4;v.$=B.BT(t,g);g+=4;v.buffer=f.m(v.r*v.$*4);var x=B.ZT(t,g);g+=2;g+=4;for(var Z=0;
Z<x;Z++){var Y=v.vv(),L=0,N=1,G=2,s=3,Q=0;v.U.push(Y);var a=B.BT(t,g);g+=4;var z=g,p=B.ZT(t,z);z+=2;
var U=B.I$(t,z,p);z+=p;Y.qv(U);var l=t[z];z++;if(l!=0&&l!=1)throw l;Y.S.x=B.vW(t,z);z+=4;Y.S.y=B.vW(t,z);
z+=4;Y.S.r=B.BT(t,z);z+=4;Y.S.$=B.BT(t,z);z+=4;if(h>3){L=B.vW(t,z);z+=4}Y.JS=Math.round(255*t[z]/100);
z++;var j=t[z];z++;Y.fF(j!=0);Y.uF="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[t[z]];
z++;var O=t[z];z++;if(O)Y.add.lspf=1<<31;if(h>3){var F=B.ZT(t,z);z+=2;if(F!=0){var i=JSON.parse(B.I$(t,z,F));
z+=F;var $=i.text,H=i.textSettings,b=H.font,r=H.size,W=H.padding,V=parseInt(H.color.slice(1),16);Y.add.lnsr="rend";
Y.add.TySh=jM.de(0,0);Y.add.TySh.LS=new iW(0,0,100,100);var y=Y.add.TySh.M=new gi,c=Y.S.r/2,S=Y.S.$/2;
y.translate(-c,-S);y.rotate(-L*Math.PI/180);y.translate(c,S);y.translate(Y.S.x+W,Y.S.y+W);var C=Y.add.TySh.Oo;
jM.kM(C,1);jM.eg(C,[0,0,Y.S.r-W*2,Y.S.$]);jM.Uh(C,0,$);var K=jM.Sj(C,0,1);K.Uy.FontSize=r;K.Uy.FillColor={Type:1,Values:[1,(V>>>16&255)/255,(V>>>8&255)/255,(V>>>0&255)/255]};
if(H.bold)b+="-Bold";jM.aW(K,b);K.eE.Justification=["left","right","center"].indexOf(H.align);jM.yx(C,0,$.length,K)}}var T=B.BT(t,z);
z+=4;if(T!=Y.S.k()*4){for(var n=Y.S.r;n>Y.S.r/2;n--){var D=T/(n*4);if(D==Math.round(D)){Y.S.r=n;Y.S.$=D;
break}}}Y.buffer=f.m(Y.S.k()*4);if(h>3){N=0;G=1;s=2;Q=3}for(var n=0;n<T;n+=4){Y.buffer[n]=t[z+n+N];Y.buffer[n+1]=t[z+n+G];
Y.buffer[n+2]=t[z+n+s];Y.buffer[n+3]=t[z+n+Q]}z+=T;var q=B.BT(t,z);z+=4;if(q==0&&h>3){g+=a;continue}var R=t[z];
z++;var m=B.ZT(t,z);z+=2;if(q!=0){Y.AU=new jn.Ks;Y.AU.S=Y.S.b();Y.AU.N=f.m(Y.S.k());for(var n=0;n<q;
n+=4)Y.AU.N[n>>>2]=t[z+n+1];z+=q}if(R!=0){var E=JSON.parse(kV.default);Y.add.lmfx=E;for(var n=0;n<kV.order.length;
n++)E[kV.dv[n]]={t:"VlLs",v:[]};var e={"102":9,"101":2,"103":0,"104":3,"105":8};for(var n=0;n<R;n++){var w=B.ZT(t,z),M=z+w+4,P=t.slice(z,M),I=t[z+2];
z+=3;var k=e[I+""],o=JSON.parse(kV.v0[k]);E[kV.dv[k]].v.push({t:"Objc",v:o});if(k!=0){o.Md.v.BlnM=gL.V6("norm");
o.Opct.v.val=t[z];z++;if(k==9||k==2){o.Dstn.v.val=t[z+1];z+=2}else z+=2;o.blur.v.val=Math.round(t[z]*1.2);
z++;if(k==9||k==2){o.uglg.v=!1;o.lagl.v.val=180-B.ZT(t,z);z+=2}o.Clr.v=f.iF.Zi({C:t[z+1],L:t[z+2],X:t[z+3]})}else{o.hglM.v.BlnM=o.sdwM.v.BlnM=gL.V6("norm");
z+=2;var af=t[z++],J=t[z++];o.blur.v.val=Math.round(Math.sqrt(J*af)*1.3);o.srgR.v.val=Math.round(100*af/J);
o.uglg.v=!1;o.lagl.v.val=180-B.ZT(t,z);z+=2;o.hglO.v.val=t[z++];o.hglC.v=f.iF.Zi({C:t[z+1],L:t[z+2],X:t[z+3]});
z+=4;o.sdwO.v.val=t[z++];o.sdwC.v=f.iF.Zi({C:t[z+1],L:t[z+2],X:t[z+3]});z+=4}z=M}}if(z-g<a){var at=B.BT(t,z),ag=0;
z+=4;z++;var p=B.ZT(t,z);z+=2;var $=B.I$(t,z,p);z+=p;$=$.replace(/\r/g,"\n");var p=B.ZT(t,z);z+=2;var b=B.I$(t,z,p);
z+=p;var r=B.ZT(t,z);z+=2;var ke=Y.S.x,c_=Y.S.r;if(at&4)ag=1;if(at&2)ag=2;var dz=Math.round(r*.4);if(ag==0||ag==2)c_+=dz;
if(ag==1||ag==2){c_+=dz;ke-=dz}Y.add.lnsr="rend";Y.add.TySh=jM.de(0,0);Y.add.TySh.LS=new iW(0,0,100,100);
Y.add.TySh.M=new gi(1,0,0,1,ke,Y.S.y+r*.25);var C=Y.add.TySh.Oo;jM.kM(C,1);jM.eg(C,[0,0,c_,Y.S.$]);jM.Uh(C,0,$);
var K=jM.Sj(C,0,1);K.Uy.FontSize=r;K.Uy.FillColor={Type:1,Values:[1,t[z+1]/255,t[z+2]/255,t[z+3]/255]};
z+=4;if(t[z+5])b+="-Bold";if(t[z+6])b+="-Italic";jM.aW(K,b);K.eE.Justification=ag;z+=8;jM.yx(C,0,$.length,K)}g+=a}};
b3.ni={};b3.ni.e4=!0;b3.ni.CE=function(d,v){var t=UZIP.parse(d),h=JSON.parse(B.I$(t["manifest.json"].buffer));
v.r=h.width;v.$=h.height;v.buffer=f.m(v.r*v.$*4);v.name=h.name+".psd";var X=h.stack;for(var g=0;g<X.length;
g++){var x=X[g],Z=x.type,Y=x.rect,a=x.format,z=a?a.fill:null,p=v.vv();p.qv(x.name);p.fF(x.visible);p.JS=Math.round(255*x.opacity);
var U=p.S=new iW(Y.x,Y.y,Y.w,Y.h),l=Y.r;if(l==null)l=0;v.U.push(p);if(Z=="image"&&l!=0||Z=="shape"&&a.variant=="svg"){var L=v.b0(t[x.content],p.getName(),0,0);
L.Xw=p.Xw;L.JS=p.JS;p=L;v.U.pop();v.U.push(p);var j=f.Q.Ya(U).I;f.Q.M(j,b3.ni.UH(U,l),j);p.add.SoLd.Trnf=A.hZ.gX(j);
p.add.SoLd.nonAffineTransform=A.hZ.gX(j);p.Lc(v,!1)}else if(Z=="image"){if(U.k()!=0){var O=t[x.content].buffer,F=b3.IF(O),$=b3.bV(F),H=$.CE(O)[0];
U.r=H._S.r;U.$=H._S.$;p.buffer=new Uint8Array(H.data)}}else if(Z=="shape"){p.Xw|=16;var b=p.add.vstk=kV.UY.yu(!0),r=p.add.vmsk=new jn.rz,W,V=a.variant;
if(V=="rectangle"||V=="rounded"){W=f.t.I7.Rect(U.x,U.y,U.r,U.$,a.radii)}else if(V=="ellipse"){W=f.t.I7.ZH(U.x,U.y,U.r,U.$)}else if(V=="path"){var y=Typr.U.SVGToPath(x.content),c={s2:y.cmds,I:y.crds};
W=f.Q.Q$(c);var S=f.t.ft(W);f.t.kh(W,new gi(U.r/S.r,0,0,U.$/S.$,U.x,U.y))}else if(V=="line"){var c={s2:["M","L"],I:[U.x,U.y,U.x+U.r,U.y]};
W=f.Q.Q$(c)}else console.log(a);p.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}};
if(z==null){b.fillEnabled.v=!1}else if(z.type=="color"){p.add.SoCo.Clr.v=f.iF.Zi(CSS.bT(z.value))}else if(z.type=="gradient"){delete p.add.SoCo;
p.add.GdFl=b3.ni.ac(z,l)}else console.log(z);var C=b3.ni.UH(U,l);f.t.kh(W,C);var K=x.style;if(K&&K.outline){var T=K.outline;
b.strokeEnabled.v=!0;b.strokeStyleLineWidth.v.val=T.size;b.strokeStyleContent.v.Clr.v=f.iF.Zi(CSS.bT(T.color))}r.D=W;
p.bB();p.tG(v)}else if(Z=="text"){p.add.lnsr="rend";p.add.TySh=jM.de(0,0);p.add.TySh.LS=new iW(0,0,100,100);
var D=p.add.TySh.Oo;jM.kM(D,1);jM.eg(D,[0,0,U.r,U.$]);var N=x.content;jM.Uh(D,0,N);var G=jM.Sj(D,0,Math.min(N.length,1)),s=a.font.name,Q=a.font.content;
if(Q&&t[Q]){var q=t[Q];if(q instanceof Uint8Array)q=t[Q]=Typr.parse(q.buffer)[0];s=q.name.postScriptName}jM.aW(G,s);
var R=G.Uy.FontSize=Math.round(a.size);if(z&&z.value){var m=null;if(z.type=="color")m=z.value;else if(z.type=="gradient")m=z.value.stops[0].color;
if(m){var E=CSS.bT(m);G.Uy.FillColor={Type:1,Values:[1,E.C/255,E.L/255,E.X/255]}}}var e=a.linespace;
if(e){G.Uy.AutoLeading=!1;G.Uy.Leading=Math.round(R*(1.06+parseFloat(e)));console.log(e,G.Uy)}G.Uy.FauxBold=a.bold;
G.eE.Justification=["left","right","center","justify"].indexOf(a.align);jM.yx(D,0,N.length,G);var w=new gi,M=U.r/2,P=U.$/2;
w.translate(Math.round(R*0),Math.round(R*.25));w.translate(-M,-P);w.rotate(-l*Math.PI/180);w.translate(M,P);
w.translate(U.x,U.y);p.add.TySh.M=w;p.S=new iW}else console.log(x)}v.Um=!0};b3.ni.UH=function(d,v){var t=d.x+d.r/2,h=d.y+d.$/2,X=new gi;
X.translate(-t,-h);X.rotate(-v*Math.PI/180);X.translate(t,h);return X};b3.ni.ac=function(d,v){var t=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),h=t.Grad.v;
h.Intr.v=0;var X=[],g=d.value.stops;for(var n=0;n<g.length;n++){var x=g[n],Z=CSS.bT(x.color);X.push([x.position,[Z.C/255,Z.L/255,Z.X/255]])}f.iF.PY(X,h);
t.Angl.v.val=-(d.value.direction+v)+90+180;return t};b3.$q={};b3.$q.e4=!0;b3.$q.CE=function(d,v){hN.lS(d,v)};
var hN=function(){function d(p,U){var l=Date.now(),L=UZIP.parse(p),j=L["maindoc.xml"],O=new DOMParser,F=O.parseFromString(B.I$(j),"image/svg+xml").children[0].children[0],i=F.getAttribute("name"),$=U.r=a(F,"width"),H=U.$=a(F,"height");
U.u3=Math.round(a(F,"x-res"));var b=F.children[0].children;v(b,U,{DU:i,Ml:L,YA:null});console.log(Date.now()-l);
l=Date.now()}function v(p,U,l){for(var L=0;L<p.length;L++){var j=p[p.length-1-L],O=j.getAttribute("nodetype");
if(O=="transparencymask"){l.YA.AU=z(j,l);continue}var F=j.getAttribute("compositeop"),i=j.getAttribute("filename"),$=j.getAttribute("channelflags"),H=j.children;
H=H.length==0?null:H[0].children;var b=U.vv();if(O=="paintlayer"){var r=a(j,"x"),V=a(j,"y"),y=l.Ml[l.DU+"/layers/"+i+".defaultpixel"],c=l.Ml[l.DU+"/layers/"+i],S=Y(c);
b.S=S[0];b.S.offset(r,V);b.buffer=S[1];if(b.S.HP()&&y.join()!="0,0,0,0"){b.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:y[0],L:y[1],X:y[2]})}};
b.tG(U)}}else if(O=="grouplayer"){b.add.lsct=f$.fG;b.uF="pass";b.Xw|=24;U.U.push(U.Rw());var C=l.YA;
l.YA=b;v(H,U,l);l.YA=C}else if(O=="shapelayer"){var c=l.Ml[l.DU+"/layers/"+i+".shapelayer/content.svg"],K=B.I$(c),T=U.b0(c,b.getName(),0,0);
b=T;var D=new iW(0,0,U.r,U.$),N=f.Q.Ya(D).I;b.add.SoLd.Trnf=A.hZ.gX(N);b.add.SoLd.nonAffineTransform=A.hZ.gX(N);
b.Lc(U,!1)}else if(O=="clonelayer"){var n=-1;for(var G=0;G<p.length;G++)if(p[G].getAttribute("name")==j.getAttribute("clonefrom"))n=G;
if(n!=-1){v([p[n]],U,l);b=U.U.pop()}}else console.log(O,j);b.qv(j.getAttribute("name"));if(a(j,"locked")==1)b.add.lspf=1<<31;
b.fF(a(j,"visible")==1);var s={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[F];if(s)b.uF=s;
else console.log(F);b.JS=a(j,"opacity");if($=="1110")b.cD=!0;var Q=H?H[0]:null;if(Q&&Q.tagName=="mask")b.AU=z(Q,l);
U.U.push(b)}}function t(p,U){var l=0,L=0,j=p.length,O,F,i;while(l<j){O=p[l++];if(O>31){F=O>>>5;if(F==7)F=7+p[l++];
i=(O&31)<<8|p[l++];var $=L-i-1,H=F>>>1;U[L++]=U[$++];U[L++]=U[$++];for(var n=0;n<H;n++){U[L++]=U[$++];
U[L++]=U[$++]}if((F&1)==1)U[L++]=U[$++]}else{for(var n=0;n<=O;n++){U[L++]=p[l++]}}}}function h(p,U){var l=0;
while(p[U+l]!=10)l++;return B.o3(p,U,l)}var X=new iW(0,0,64,64),g=new Uint8Array(64*64*4),x=new Uint8Array(64*64*4);
function Z(){for(var n=0;n<4096;n++){var p=n<<2;g[p+0]=x[n+8192];g[p+1]=x[n+4096];g[p+2]=x[n];g[p+3]=x[n+12288]}}function Y(p){var U=0,l={};
for(var n=0;n<5;n++){var L=h(p,U);U+=L.length+1;L=L.split(" ");l[L[0]]=parseInt(L[1])}var j=l.PIXELSIZE,O=[],F=new iW;
while(U<p.length){var L=h(p,U),i=L.split(",");U+=L.length+1;if(i[2]!="LZF")throw i[2];X.x=parseInt(i[0]);
X.y=parseInt(i[1]);F=F.Ue(X);var $=parseInt(i[3]);O.push([X.b(),new Uint8Array(p.buffer,U+1,$-1)]);U+=$}var H=f.m(F.k()*j);
for(var n=0;n<O.length;n++){var b=O[n];t(b[1],x);if(j==4){Z();f.wH(g,b[0],H,F)}else f.Qb(x,b[0],H,F)}return[F,H]}function a(p,U){return parseInt(p.getAttribute(U))}function z(p,U){var l=p.getAttribute("filename"),L=U.Ml[U.DU+"/layers/"+l+".pixelselection"],j=Y(L),O=new jn.Ks;
O.xH=a(p,"visible")==1;O.S=j[0];O.N=j[1];return O}return{lS:d}}();b3.Vm={};b3.Vm.e4=!0;b3.Vm.CE=function(d,v){j7.lS(d,v)};
b3.QX={};b3.QX.CE=function(d){var v=new Uint8Array(d),t=b3.QX.Xv(v,0,0),h=t.sub[2],X=b3.QX.ar7(v,h),g=t.sub[3],x=b3.QX.ar7(v,g);
return[X,x]};b3.QX.ar7=function(d,v){var t=v.sub[v.sub.length-1],h=t.sub[0].h,X=t.sub[1].h,g=d.slice(h,h+16),x=d.slice(X,X+t.sub[1].size),Z=B.ij,Y=d[h],a=Z(d,h+1),z=Z(d,h+5),p=d[h+13],U=new iW(0,0,a,z),l=f.m(a*z*4);
if(p){f.pl(l,4278190080)}else{UTEX.readBC1(d,X,l,a,z)}return{_S:U,data:l}};b3.QX.Xv=function(d,v,t){var h=B.o3,X=B.ij,g=h(d,v,4);
g=g.split("").reverse().join("");var x=X(d,v+4);if(x!=0){console.log(d.slice(v-8));throw x}var Z=X(d,v+8);
while((Z&3)!=0)Z++;var Y={tj:g,h:v+12,size:Z};if(g=="CARF"||g=="CTEX"||g=="CREW"||g=="BMAP"){Y.sub=[];
v+=12;if(g=="CTEX"||g=="CREW")v+=32;var a=Y.h+Y.size;while(v<a){var z=b3.QX.Xv(d,v,t+1);Y.sub.push(z);
v+=12+z.size+(z.size&1)}}return Y};b3.oS={};b3.oS.e4=!0;b3.oS.CE=function(d,v){kD.lS(d,v)};b3.kw={};
b3.kw.e4=!0;b3.kw.CE=function(d,v){hE.lS(d,v)};b3.YB={};b3.YB.e4=!0;b3.YB.CE=function(d,v){kI.lS(d,v)};
b3.qX={};b3.qX.e4=!0;b3.qX.CE=function(d,v){jL.lS(d,v)};b3.Lm={};b3.Lm.e4=!0;b3.Lm.CE=function(d,v){au.lS(d,v)};
b3.EH={};b3.EH.e4=!0;b3.EH.CE=function(){function d(z){var p=z.w,U=z.h,l=new iW(0,0,p,U);if(p==0){for(var n=0;
n<z.$.length;n++){var L=z.$[n];if(L["@"]=="slice")l=new iW(L.x,L.y,L.w,L.h)}}if(l.r==0||l.$==0)l.r=l.$=1024;
return l}function v(z,p){var U=B.I$(new Uint8Array(z)),l=JSON.parse(U),L=l.$,j=new iW,O=[],F=[],b=0;
for(var i=0;i<L.length;i++){var $=L[i],H=d($);if($["@"]!="page")continue;F[i]=new cK(H.x,H.y);H.x=H.y=0;
if(i!=0)H.x+=j.r+40;j=j.Ue(H);O[i]=H}p.r=Math.round(j.r);p.$=Math.round(j.$);p.buffer=f.m(p.r*p.$*4);
for(var i=0;i<L.length;i++){var $=L[i];if($["@"]!="page")continue;var r=new gi;r.translate(O[i].x-F[i].x,-F[i].y);
t($,r,p,l,0);b++}p.q7(b);p.Um=!0}function t(z,p,U,l,L){var j=z["@"],H=!1;if(j=="annlst")return;var O=Z(z);
O.concat(p);var F=U.vv(),i=z.$,$=j=="page"||j=="group"||j=="layer";if(!$&&i&&j!="Compound Shape"){z=f.v(z);
delete z.$;i=[z].concat(i);$=!0;H=!0}if($){F.add.lsct=L<2?f$.fG:f$.wM;F.uF="pass";F.Xw=24;if(H){var b=F.add.vmsk=new jn.rz;
b.D=x(z);F.bB();F.tG(U)}U.U.push(U.Rw());if(j=="page"){var r=d(z),W=new iW(O.r2+r.x,O.pE+r.y,r.r,r.$);
F.In(W);if(z.bck&&z.bop!=0){F.add.artb.Clr={t:"Objc",v:f.iF.Zi(g(z.bck))};F.add.artb.artboardBackgroundType={t:"long",v:4}}else{F.add.artb.artboardBackgroundType={t:"long",v:3}}}if(i)for(var n=0;
n<i.length;n++)t(i[n],p,U,l,L+1)}else if(j=="ellipse"||j=="rectangle"||j=="polygon"||j=="path"||j=="compoundpath"||j=="Compound Shape"){F.Xw|=16;
var b=F.add.vmsk=new jn.rz,y=null,c=null;b.D=x(z);f.t.kh(b.D,p);var V=z._layers?z._layers.$:[];for(var n=0;
n<V.length;n++){if(V[n]["@"]=="borderPaintLayer")c=V[n];if(V[n]["@"]=="fillPaintLayer")y=V[n]}if(y&&y._vs==!1)y=null;
if(c&&c._vs==!1)c=null;if(c&&c._bw==null)c=null;if(c&&c._pt==null)c=null;var S=y!=null,C=c!=null;if(S&&y._op!=null){if(y._op==0)S=!1;
else if(!C)F.JS=Math.round(F.JS*y._op)}var K=F.add.vstk=kV.UY.yu(S,C);if(C){var T=kV.J1.yu();if(c._ba=="I")T.Q0=0;
if(c._ba=="O")T.Q0=2;if(c._bw)T.O8=c._bw;if(c._bds)T.gn=c._bds;if(c._blc)T.ln=["butt","round","square"].indexOf(c._blc);
T.yQ=2;kV.UY.write(K,T);if(c._pt)K.strokeStyleContent.v.Clr.v=f.iF.Zi(g(c._pt));if(c._op!=null)K.strokeStyleOpacity.v.val=Math.round(c._op*100)}var D=S?y._pt:null;
if(D&&D[0]=="L"){var N=JSON.parse(D.slice(2)),G=[];for(var n=0;n<N.x.length;n++){var s=N.x[n],Q=g(s.c);
G.push([s.p,[Q.C/255,Q.L/255,Q.X/255],s.o])}var q=F.add.GdFl=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),R=q.Grad.v;
q.Type.v.GrdT="Lnr";var m=[.5,0,1,0],E=f.t.ft(b.D);E.x=E.y=0;var e=new gi;if(N.r!=null)e.rotate(-N.r);
e.scale(N.s,N.s);e.translate(N.fx,N.fy);e.scale(E.r,E.$);f.Q.M(m,e,m);f.iF.Dv(new cK(m[0],m[1]),new cK(m[2],m[3]),E,q);
f.iF.PY(G,R)}else F.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi(S?g(D):{C:0,L:0,X:0})}};F.bB();
F.tG(U)}else if(j=="text"){var w=JSON.parse(z.content),k=0,o="",af=0;F.add.lnsr="rend";var M=F.add.TySh=jM.de(0,0);
M.LS=new iW(0,0,100,100);var P=M.Oo;jM.Uh(P,0," ");var I=JSON.stringify(jM.Sj(P,0,1));for(var n=0;n<w.length;
n++){var J=w[n],at=J.text.replaceAll(String.fromCharCode(8232),"\n"),ke=JSON.parse(I);ke.Uy.FontSize=J.fontSize;
af=Math.max(af,J.fontSize);jM.aW(ke,X(J));var c_=g(J.fontColor);ke.Uy.FillColor={Type:1,Values:[1,c_.C/255,c_.L/255,c_.X/255]};
if(J.align=="center")ke.eE.Justification=2;if(J.align=="right")ke.eE.Justification=1;if(J.transformation=="uppercase")ke.Uy.FontCaps=2;
if(J.strikeout)ke.Uy.Strikethrough=!0;if(J.lineSpacing!=null){ke.Uy.AutoLeading=!1;ke.Uy.Leading=Math.round(J.lineSpacing*J.fontSize*1.4)}jM.Uh(P,k,at);
jM.yx(P,k,k+at.length,ke);k+=at.length;o+=at}var ag=z.aw==!1&&z.w>10?1:0;if(ag==1){var dz=z.w,kL=z.h,aq=w[0].fontSize;
if(z.ah==!1){}else{var dh=k*aq*.52/dz;kL=Math.max(kL,1.2*aq*Math.ceil(dh))}jM.kM(P,1);jM.eg(P,[0,0,Math.round(dz),Math.round(kL)])}var gK=z.va;
if(z.va==null)gK="t";if(gK=="m")M.s1.VAlign.v=2;if(gK=="b")M.s1.VAlign.v=1;var ad=M.M=new gi,J=w[0];
if(ag==0)ad.translate(J.align=="center"?z.w/2:0,af*.9);else ad.translate(0,af*(gK=="b"?0:gK=="m"?.17:.3));
ad.concat(O)}else if(j=="image"){var dc=z.url,lq=null,hn=l.dictionary.entries;if(dc.startsWith("data:"))lq=dc;
else for(var n=0;n<hn.length;n++)if(dc.endsWith(hn[n].uuid))lq=hn[n].value;var dF=b3.z3(lq);F=U.b0(dF,"hey",0,0);
var c3=f.Q.Ya(new iW(0,0,z.pw,z.ph)).I;f.Q.M(c3,O,c3);F.add.SoLd.Trnf=A.hZ.gX(c3);F.add.SoLd.nonAffineTransform=A.hZ.gX(c3);
F.Lc(U,!1)}else console.log(j,z);if(z._eff){var i8=z._eff.$;for(var n=0;n<i8.length;n++){var dr=i8[n],jO=dr["@"];
if(jO=="overlayEffect"){var d1=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);d1.Clr.v=f.iF.Zi(g(dr.pat));
h(F,"solidFillMulti",d1)}else if(jO=="dropShadowEffect"){var d1=JSON.parse(kV.v0[kV.order.indexOf("DrSh")]);
d1.Clr.v=f.iF.Zi(g(dr.pat));d1.blur.v.val=dr.r==null?5:dr.r;var h3=dr.x,d5=dr.y;if(h3==null)h3=d5=0;
d1.Dstn.v.val=Math.round(Math.sqrt(h3*h3+d5*d5));d1.lagl.v.val=Math.round(Math.atan2(d5,-h3)*180/Math.PI);
d1.uglg.v=!1;h(F,"dropShadowMulti",d1)}else console.log(dr,z)}}if(z.name)F.qv(z.name);else F.qv(j[0].toUpperCase()+j.slice(1));
if(z._stop)F.JS=Math.round(F.JS*z._stop);if(z.vis!=null)F.fF(z.vis);U.U.push(F)}function h(z,p,U){var l=z.add.lmfx;
if(l==null){var l=z.add.lmfx=JSON.parse(kV.default);for(var n=0;n<kV.order.length;n++)l[kV.dv[n]]={t:"VlLs",v:[]}}l[p].v.push({t:"Objc",v:U})}function X(z){var p={"400":"Regular","600":"SemiBold","700":"Bold","800":"ExtraBold"},U=z.fontFamily,l=z.fontWeight;
if(fy&&fy.sU){var L=fy.sU,j=L.Ox(),O=j[U];if(O==null)return U;var F=p[""+l];if(F==null)console.log(l,O);
if(F==null)F=O[0];var i=L.e6(U,F);return i[2]}return U}function g(z){var p=z[0];if(p=="#")return CSS.bT(z);
else if(p=="C"){var bW=z.slice(3,-1).split(",").map(parseFloat);return{C:bW[0],L:bW[1],X:bW[2]}}else if(p=="L"){z=JSON.parse(z.slice(2));
return g(z.x[0].c)}else{console.log(z);return{C:0,L:0,X:0}}}function x(z){var p=z["@"],U=f.t.I7.ZH(-1,-1,2,2).slice(0,2),l=Z(z),L=p=="compoundpath";
if(p=="ellipse"){U=f.t.I7.ZH(-1,-1,2,2);f.t.kh(U,l)}else if(p=="rectangle"){U=f.t.I7.Rect(-1,-1,2,2);
f.t.kh(U,l);var j=z.sl;if(j!=0)f.t.Pi(U,2,[j,j,j,j])}else if(p=="polygon"){var O=z.cx,F=z.cy;U=f.t.I7.WY(O,F,z.or,-.31,z.pts,0,z.ir/z.or);
f.t.kh(U,l)}else if(p=="Compound Shape"||L){var i=z[L?"paths":"$"];for(var n=0;n<i.length;n++){var $=L?JSON.parse(i[n]):i[n],H=L?0:1;
if($.bool==4)H=2;if($.bool==3)H=3;var b=x($),r=b[2];r.qG=n==0?1:H;U=U.concat(b.slice(2))}}else if(p=="path"){U.push({e:z.closed?0:3,qG:n==0?1:0,length:z.pts.length,xu:0,L8:0,Dk:1});
var W=!1,V=[],c=U.length-1;for(var S=0;S<z.pts.length;S++){var C=z.pts[S],K,T,D,N=0;if((C.length&1)==0)C=C.slice(1);
var K=T=D=Y(C[0]);for(var G=3;G<C.length;G+=2){var s=C[G],Q=Y(C[G+1]);if(s=="h")K=Q;else if(s=="H")D=Q;
else if(s=="C"){N=Q.x;W=!0}else console.log(s,Q)}V.push(N);U.push({e:1,dH:l._V(K),Z:l._V(T),KU:l._V(D)})}if(W)f.t.Pi(U,c,V)}else console.log("Unknown path type",p);
return U}function Z(z){var p=z.trf;return p?new gi(p[0],p[1],p[2],p[3],p[4],p[5]):new gi}function Y(z){var p=B.fc,U=a(z);
return new cK(p(U,0),p(U,4))}function a(z){return new Uint8Array(b3.CP(z))}return v}();b3.Zs={};b3.Zs.e4=!0;
b3.Zs.V$=function(d,v,t,h,X,g){if(h==null)h={arst:!0,mini:!0};var x=aF.IT(d,{NY:h.arst,hidden:h.ahid,aHz:h.vtxt,agf:h.rtxt,el:h.mini,a6U:v,aqI:t},X.FP,g);
return x};b3.Zs.CE=function(d,v,t){aF.lS(d,v,t)};b3.Vu={};b3.Vu.e4=!0;b3.Vu.CE=function(d,v){var t=150,h=new gi(1,0,0,-1,0,0);
h.scale(t/72,t/72);v.u3=t;var X=new dU(v,h,!0);FromPS.Parse(d,X)};b3.w1={};b3.w1.e4=!0;b3.w1.V$=function(d,v,t,h,X){if(h==null)h={pags:"",qual:100};
h.fmts=["jpg"];var g=new ToPDF;dW.IT(d,h,g,X.FP,v,t);return g.buffer};b3.w1.CE=function(d,v,t){var h=j8==0?2:1;
while(!0){var X=h*72,g=new gi(1,0,0,-1,0,0);g.scale(X/72,X/72);v.u3=X;var x=new dU(v,g,!0);FromPDF.Parse(d,x);
var Z=Math.max(v.r,v.$);if(t&&Z<Math.max(t[0],t[1])){v.U=[];var Y=h;while(Z*(h/Y)<Math.max(t[0],t[1]))h++}else break}};
b3.m8={};b3.m8.e4=!0;b3.m8.CE=function(d,v){var t=72,h=new gi(1,0,0,1,0,0);h.scale(t/72,t/72);v.u3=t;
var X=new dU(v,h,!1);FromWMF.Parse(d,X)};b3.dW={};b3.dW.$T=!0;b3.dW.e4=!0;b3.dW.V$=function(d,v,t,h,X){if(h==null)h={pags:"",qual:100};
h.fmts=[];var g=new ToEMF;dW.IT(d,h,g,X.FP);return g.buffer};b3.dW.CE=function(d,v){var t=72,h=new gi(1,0,0,1,0,0);
h.scale(t/72,t/72);v.u3=t;var X=new dU(v,h,!1);FromEMF.Parse(d,X)};b3.Dt={};b3.Dt.e4=!0;b3.Dt.CE=function(d,v){return lj.lS(d,v)};
b3.aqK={};b3.aqK.CE=function(){var d,v,t,h,X,g,x=0,Z=0,Y=0,a=0,z=0,i="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",$=null;
function p(H){var b=cj.lS(H),r=b.$B,C=0,T,D;console.log(b);var W=new Uint8Array(H);if(r=="ILBM")return U(b,W);
if(r=="CIMG")return j(b,W);if(r=="ANIM"&&b.sub[0].tj=="ADAT")return F(b,W);if(r!="ANIM")throw r;var V=B.ZT,y=B.BT,c=b.sub,S=U(c[0],W);
for(var N=1;N<c.length-2;N++){var G=S[Math.max(0,N-2)].a2T.slice(0),s=c[N];for(var Q=0;Q<s.sub.length;
Q++){var q=s.sub[Q],R=q.h;if(q.tj=="ANHD"){var m=W[R++];if(m!=5)throw m;var h=W[R++],E=V(W,R),e=V(W,R+2);
if(E!=0&&E!=d)throw E;if(e!=0&&e!=v)throw e;var w=V(W,R+4),M=V(W,R+6);if(w!=0||M!=0)throw w;R+=8;var P=V(W,R);
R+=2;T=V(W,R);R+=2;if(W[R++]!=0)throw"e";if(W[R++]!=0)throw"e";D=V(W,R);R+=2}else if(q.tj=="DLTA"){var I=[],k=R;
for(var n=0;n<16;n++)I.push(y(W,R+n*4));R+=64;var o=g;for(var af=0;af<X;af++){if(I[af]==0)continue;R=k+I[af];
for(var J=0;J<o;J++){var at=W[R++],ke=0;if(at==0)continue;for(var n=0;n<at;n++){var c_=W[R++];if(c_==0){var ag=W[R++],dz=W[R++];
for(var kL=0;kL<ag;kL++){G[(ke*X+af)*o+J]=dz;ke++}}else if(c_<128){ke+=c_}else{c_-=128;for(var kL=0;
kL<c_;kL++){G[(ke*X+af)*o+J]=W[R+kL];ke++}R+=c_}}}}}else console.log(q.tj)}if(N==1&&T>100)T=0;var aq=T==0?17:Math.round((T-C)*1e3/60);
S.push({data:L(W,G).buffer,_S:new iW(0,0,d,v),a2T:G,IB:"_a_frm"+N+","+aq});C=T}if(Y!=0&&d>v*2){var dh=new Uint32Array(d*v*2);
dh.fill(4294967295);for(var N=0;N<S.length;N++){var gK=S[N],ad=new Uint32Array(gK.data);for(var ke=0;
ke<v;ke++){var dc=ke*2;for(var J=0;J<d;J++)dh[dc*d+J]=ad[ke*d+J];dc++;for(var J=0;J<d;J++)dh[dc*d+J]=ad[ke*d+J]}gK._S.$*=2;
gK.data=dh.slice(0).buffer}}return S}function U(H,b){var r,W,V;x=0;Z=0;a=0;z=0;Y=0;for(var y=0;y<H.sub.length;
y++){var c=H.sub[y],S=c.h;if(c.tj=="BMHD"){var C=[];for(var n=0;n<4;n++)C[n]=B.ZT(b,S+2*n);S+=8;var K=C[2],T=C[3];
d=C[0];v=C[1];t=b[S++];h=b[S++];V=b[S++];if(V!=0&&V!=1)throw V;g=d+15>>>4<<1;X=t+h}else if(c.tj=="CMAP")x=S;
else if(c.tj=="CAMG"){var D=B.BT(b,S);Z=D&32768,Y=D&4,a=D&2048;z=D&128}else if(c.tj=="BODY"){W=f.m(g*v*X);
if(V==0)W=b.slice(S,S+W.length);if(V==1)dM.cn(b,S,c.size,W,0,W.length)}else if(c.tj=="PLTP"){console.log(b.slice(S,S+c.size))}}r=L(b,W);
return[{_S:new iW(0,0,d,v),data:r.buffer,a2T:W}]}function l(H,bW){return H[bW>>>3]>>>7-(bW&7)&1}function L(H,b){var r=t-2,W=(1<<r)-1,V=Math.round(255/W),y,c,S,C=g*8;
if(x!=0){var K=1<<t,T=!0;for(var n=1;n<K;n++){var D=x+n*3;if(H[D]!=H[D-3]||H[D+1]!=H[D-2]||H[D+2]!=H[D-1]&&H[D+2]!=H[D-1]+1)T=!1}if(T){for(var n=0;
n<K;n++){var D=x+n*3,N=Math.round(n*255/(K-1));H[D]=H[D+1]=H[D+2]=N}}}var G=f.m(d*v*4);for(var s=0;s<v;
s++)for(var Q=0;Q<d;Q++){var q=0;for(var R=0;R<X;R++){var m=(s*X+R)*C+Q,E=l(b,m);q|=E<<R}q=q&(1<<t)-1;
var n=s*d+Q,e=n<<2;if(x!=0){if(a!=0&&q>>>r!=0){var w=q>>>r,M=(q&W)*V;if(w==1)S=M;else if(w==2)y=M;else if(w==3)c=M}else{var M=x+q*3;
y=H[M+0];c=H[M+1];S=H[M+2]}}else{if(t==24){y=q>>>0&255;c=q>>>8&255;S=q>>>16&255}else if(t==16){var P=0,I=1,o=4;
for(var R=0;R<16;R++)P+=(q>>>R&1)<<15-R;var k=(1<<I)-1,af=(1<<o)-1;y=(P>>>7&k)*(255/k);c=S=y}else throw t}G[e+0]=y;
G[e+1]=c;G[e+2]=S;G[e+3]=255}return G}function j(H,b){var r=1,W=2,V=4,y=B.BT,c=B.ZT,d=200,v=200,S,C,K,T;
for(var D=0;D<H.sub.length;D++){var N=H.sub[D],G=N.h;if(N.tj=="TBHD"){d=y(b,G);G+=4;v=y(b,G);G+=4;T=f.m(d*v*4);
K=new iW(0,0,d,v);G+=4;var s=y(b,G);G+=4;var Q=c(b,G);G+=2;if(Q!=0)throw"e";C=c(b,G);G+=2;var q=y(b,G);
G+=4;if(q!=1)throw q;S=0;if(s&r)S+=3;if(s&W)S+=1}if(N.$B=="TBMP"){var R=N.sub;for(var m=0;m<R.length;
m++){var E=R[m].h,e=R[m].size,w=c(b,E),M=c(b,E+2),P=c(b,E+4)-w+1,I=c(b,E+6)-M+1;E+=8;var k=f.m(P*I*4),o=f.m(P*I);
k.fill(255);for(var n=0;n<4;n++){E=O(b,E,e-8,o,0);f.Gj(o,k,3-n)}if(E!=R[m].h+e)throw"e";f.wH(k,new iW(w,M,P,I),T,K)}}}return[{_S:K,data:T.buffer}]}function O(H,b,r,W,V){var y=b;
while(V<W.length){var c=H[b++],fn=(c&127)+1;if(c&128){c=H[b++];for(var n=0;n<fn;++n)W[V++]=c}else{for(var n=0;
n<fn;++n)W[V++]=H[b++]}}return b}function F(H,b){if($==null){var r=b3.CP(i);$=new Uint32Array(pako.inflate(new Uint8Array(r)).buffer)}var W=B.BT,V=B.ZT,y=H.sub[0],c=H.sub[1],d=V(b,y.h),v=V(b,y.h+2),S=V(b,y.h+4),N,n,G,s,Q,q;
if(S!=3)throw S;var C=new iW(0,0,d,v),K=f.m(d*v*4),T=f.m(d*v);K.fill(255);var D=new Uint32Array(K.buffer),R=c.h;
for(s=0;s<2;s++){q=s;Q=0;N=Math.floor((d*v+2-s-1)/2);while(N>0){n=b[R++];if(n&128){n=257-n;N-=n;G=b[R++];
Q=Q&$[G]|$[G+256];do{D[q]=Q;q+=2}while(--n)}else{n++;N-=n;do{G=b[R++];D[q]=Q=Q&$[G]|$[G+256];q+=2}while(--n)}}}for(var n=0;
n<K.length;n+=4){var m=K[n+3],E=K[n+2],e=K[n+1];K[n]=m;K[n+1]=E;K[n+2]=e;K[n+3]=255}for(var w=0;w<v>>>1;
w++){for(var M=0;M<d;M++){var n=w*d+M,G=(v-1-w)*d+M,P=D[n];D[n]=D[G];D[G]=P}}return[{_S:C,data:K.buffer}]}return p}();
b3.L4={};b3.L4.e4=!1;b3.L4.V$=function(d,v,t,h){var X=null,g=new Uint8Array(d[0][0]),x=2;if(h.ctoa&&d[0][4])X=d[0][4];
else if(f.jF(g)){X=[new Uint8Array(g.length>>>2)];f.Po(g,X[0],3)}var Z=X?!0:!1,Y=Z?4:3,a=new Uint8Array(v*t*Y);
for(var z=0;z<t;z++)for(var p=0;p<v;p++){var U=z*v+p<<2,l=((t-z-1)*v+p)*Y;a[l]=g[U+2];a[l+1]=g[U+1];
a[l+2]=g[U+0];if(Z)a[l+3]=X[0][z*v+p]}if(!0){var L=a.length,j=0,O=new Uint8Array(L*2),F=0,i=0,$=v*Y;
while(i<L){var H=i,b=0,r=$*(Math.floor(i/$)+1);while(H<r&&b<128){var W=!0;for(var n=0;n<Y;n++)W=W&a[i+n]==a[H+n];
if(!W)break;H+=Y;b++}if(b==1){var V=1;while(V<128&&i+(V+1)*Y<r){var W=!0,y=i+V*Y;for(var n=0;n<Y;n++)W=W&a[y+n]==a[y+Y+n];
if(W)break;V++}O[F++]=V-1;for(var c=0;c<V;c++)for(var n=0;n<Y;n++)O[F++]=a[i++]}else{O[F++]=127+b;for(var n=0;
n<Y;n++)O[F+n]=a[i+n];F+=Y;i+=Y*b;j+=b}}a=O.slice(0,F);x+=8}var S=new Uint8Array(18+a.length+26);S[2]=x;
B.mr(S,12,v);B.mr(S,14,t);S[16]=Y*8;S[17]=Y==4?8:0;S.set(a,18);B.js(S,18+a.length+8,"TRUEVISION-XFILE.");
return S.buffer};b3.L4.CE=function(d){var v=new Uint8Array(d),t=0,h=v[0],X=v[1],g=v[2],x=v[4]*256+v[3],Z=v[6]*256+v[5],Y=v[7],a=v[9]*256+v[8],z=v[11]*256+v[10],p=v[13]*256+v[12],U=v[15]*256+v[14],l=v[16],L=v[17],j=L>>>4,O=B.o3(v,18,h),F=f.m(p*U*4),t=18+h+(Z*Y>>>3),i=new Uint8Array(v.buffer,t);
if(g>3){var $=0,H=v,b=new Uint8Array(p*U*l>>>3),r=t,W=0,V=v.length,y=l>>>3;while(W<b.length){var bW=H[r];
r++;if(bW<128)for(var n=0;n<bW+1;n++){for(var c=0;c<y;c++){b[W]=H[r];W++;r++}}else{for(var n=0;n<bW-127;
n++){for(var c=0;c<y;c++){b[W]=H[r+c];W++}}r+=y}}g-=8;i=b;t=r}else t+=p*U*l>>>3;var S=new Uint8Array(4),C=b3.L4.aqy;
for(var K=0;K<U;K++)for(var T=0;T<p;T++){var D=(j&2)==0?(U-K-1)*p+T:K*p+T,N=K*p+T,G,s,Q,q=255,R=D*l>>>3;
if(g==1){var m=0;if(l==8)m=i[R];else throw"e";C(v,18+h+x+(m*Y>>>3),Y,S);G=S[0];s=S[1];Q=S[2];q=S[3]}else if(g==2){C(i,R,l,S);
G=S[0];s=S[1];Q=S[2];q=S[3]}else if(g==3){if(l==8)G=s=Q=i[R];else throw"e"}var E=N*4;F[E]=G;F[E+1]=s;
F[E+2]=Q;F[E+3]=q}var S={_S:new iW(0,0,p,U),data:F.buffer,IB:O};if(f.jF(F)){var e=f.m(p*U);f.Po(F,e,3);
f.Xq(F,1);S.gM=[e]}return[S]};b3.L4.aqy=function(d,v,t,h){var X,g,x,Z=255;if(t==24||t==32){x=d[v];g=d[v+1];
X=d[v+2];if(t==32)Z=d[v+3]}else if(t==16){var Y=d[v+1]<<8|d[v+0];X=Y>>>10&31;g=Y>>>5&31;x=Y>>>0&31;X=Math.round(X*(255/31));
g=Math.round(g*(255/31));x=Math.round(x*(255/31))}else throw"e";h[0]=X;h[1]=g;h[2]=x;h[3]=Z};b3.X$=function(){var d=[],v=!1,t,h=null,X=50,g=10,p;
function x(L,j,O,F){d.push([0,L,F,O]);z()}async function Z(L,j,O,F){X=F.qual;g=F.smlr?5:10;return new Promise(function(i){d.push([1,L,j,O,i]);
z()})}function Y(L){var j=d.shift();j[3](null,[L],j[2]);v=!1;z()}function a(){h=u.q("iframe");h.setAttribute("src","code/ext_formats/formatsLoader.html");
u.i(h,"display:none");window.addEventListener("message",l,!1);document.body.appendChild(h)}function z(){if(v||d.length==0)return;
v=!0;var L=d[0];if(L[0]==0&&b3.IF(L[1])=="avif"){b3.ads(L[1],"image/avif",Y)}else if(h==null)a();else U()}async function U(){var L=d[0],j;
if(L[0]==0){var O=L[1],F=new Uint8Array(O),i=new Blob([O]);j={subject:"open",body:i};var $=B.M5(F,"Exif\0\0MM");
t=null;if($!=-1){var H=UTIF.decode(O.slice($+6));t=gr.L6(H[0])}}else{var b={fmt:"avif",speed:g,quality:X,nochroma:0,lossless:0},r=new ImageData(new Uint8ClampedArray(L[1][0][0]),L[2],L[3]);
j={subject:"save",body:r,prms:b}}p=Date.now();h.contentWindow.postMessage(j)}function l(L){var j=L.data,O=j.subject,F=j.body;
console.log(j);if(O=="rdy"){v=!1;z()}else if(O=="img"){Y({_S:new iW(0,0,F.width,F.height),data:F.data.buffer,VN:t})}else if(O=="file"){console.log(Date.now()-p);
d[0][4](F.buffer);v=!1;d.shift();z()}else console.log(j)}return{e4:!1,fd:!0,CE:x,V$:Z}}();b3.aKx=function(){var d,v=[],t=10,Z,Y,a,z=0,p,U,l;
function h($){var H=b3.IF($);if(H=="mp4")return new jD(new Blob([$]));else return new eB(new Blob([$]))}async function X($,H,b,r,W){d=b;
v.push($,r);var V=h($),y=(await V.rB()).k1;console.log(y);var p=y.width,U=y.height,c=y.Hr,S=c/y.MS,C=c/S,K=p+" \xD7 "+U+" px, "+c+" frames, "+hi.Hb(p*U*4*c)+" decoded<br/>";
K+=S.toFixed(2)+" seconds, "+C.toFixed(2)+" FPS";var T=new eG(_.E.c,!0);T.data={R:_.Y.S8,cG:"setFPS",Mo:t,No:g,aCI:K};
W.J(T)}function g($){t=Math.max(1,Math.min(60,$));var H=window.VideoDecoder;if(H)x();else{alert("WebCodecs not available.");
L()}}async function x(){var $=Date.now(),H=v.shift(),l=[],b=h(H),r=(await b.rB()).k1,p=r.width,U=r.height,W=r.Hr,V=W/r.MS,y=W/V,c=Math.min(y,t),S=Math.max(1,Math.round(y/c));
for(var n=0;n<W;n++){if(n%S!=0)continue;var C=await b.W5(0,n);l.push({IB:"_a_"+l.length+","+Math.round(1e3/c),_S:new iW(0,0,p,U),data:C.buffer})}d(null,l,v.shift());
if(v.length!=0)x()}function L(){if(v.length==0)return;Z=document.createElement("canvas");Y=Z.getContext("2d");
a=document.createElement("video");var $="data:"+"video/mp4"+";base64,"+b3.cq(v.shift());a.src=$;a.muted=!0;
a.currentTime=0;a.addEventListener("canplay",j,!1);a.addEventListener("timeupdate",O,!1)}function j($){a.removeEventListener("canplay",j);
p=Z.width=a.videoWidth;U=Z.height=a.videoHeight;l=[];a.play()}function O($){clearTimeout(z);Y.drawImage(a,0,0);
l.push({IB:"_a_"+l.length+","+Math.round(1e3/t),_S:new iW(0,0,p,U),data:Y.getImageData(0,0,p,U).data.buffer});
var H=a.currentTime+1/t;if(H<a.duration&&$){a.currentTime=H;z=setTimeout(O,1e3)}else{d(null,l,v.shift());
a.removeEventListener("timeupdate",O);L();l=null}}function F(){this.Mp=new Uint8Array(1024);this.h=0}F.prototype.write=function($){var H=this.Mp,b=this.h;
if($ instanceof ArrayBuffer)$=new Uint8Array($);if($ instanceof Uint8Array){while(H.length<b+$.length){var r=new Uint8Array(H.length*2);
r.set(H);H=r}H.set($,b);b+=$.length}else if($.e=="write"){H.set($.data,$.position)}else{console.log($);
throw"e"}this.Mp=H;this.h=b};F.prototype.close=function(){this.Mp=this.Mp.slice(0,this.h)};async function i($,p,U,H){var b=p,r=U;
if((p&1)!=0)p++;if((U&1)!=0)U++;var W=p!=b||U!=r,V=W?f.m(p*U*4):null,y={k1:{O_:1,Hr:$.length,MS:1e3/$[0][1],width:p,height:U}},c=new F,S=.02*(1+Math.pow(3.2*H.qual/100,2.3)),C=new gj(c,y,S);
for(var n=0;n<$.length;n++){var K=$[n],T=new Uint8Array(K[0]),D=T;if(W){f.wH(T,new iW(0,0,b,r),V,new iW(0,0,p,U));
D=V}await C.adO(D,0,n)}await C.finish();return c.Mp.buffer}return{e4:!1,fd:!0,CE:X,V$:i}}();b3.mu={};
b3.mu.CE=function(d){var v=new Uint8Array(d),t=0,h=112,X=42,g=B.ij,z;t+=8;var x=v[t];t++;if(x!=X)throw"e";
var Z=g(v,t);t+=4;var Y=B.Ix(v,t,Z);t+=Z*2;var a=[];while(t<v.length){z=g(v,t);t+=4;if(z!=h)throw z;
t+=4;z=v[t];t++;if(z!=X)throw z;var p=g(v,t);t+=4;var U=v[t];t++;if(U!=X){t-=5;p=g(v,t);t+=8;z=v[t];
t++;if(z!=X)throw z}var l=g(v,t)*2;t+=4;if(p>0)a.push(t+l);t+=l+p}var L=new DOMParser,j=L.parseFromString(Y,"image/svg+xml").firstChild.firstChild,O=[];
b3.mu.anh(j,v,a,O);return O};b3.mu.anh=function(d,v,t,h){var X=d.firstChild.firstChild;if(X.tagName=="Image"){var g=X.getElementsByTagName("ImageDescription")[0],x=g.children[0].children,Z=g.children[1].children,Y=t.shift(),a=[];
for(var n=0;n<Z.length;n++)a.push(parseInt(Z[n].getAttribute("NumberOfElements")));while(a.length>3)a[2]*=a.pop();
var z=x.length,p=a[0],U=a[1],l=a[2],L=parseInt(Z[0].getAttribute("BytesInc"));for(var j=0;j<l;j++){var O=f.m(p*U*4);
O.fill(255);for(var F=0;F<z;F++){var i=f.m(p*U);if(L==1)for(var $=0;$<i.length;$++)i[$]=v[Y+$];else if(L==2)for(var $=0;
$<i.length;$++)i[$]=Math.min(255,(v[Y+$*2+1]<<8|v[Y+$*2])>>>2);else throw L;if(F!=3)f.Gj(i,O,F);if(z==1){f.Gj(i,O,1);
f.Gj(i,O,2)}Y+=p*U*L}h.push({_S:new iW(0,0,p,U),data:O.buffer})}}else{var H=d.children,b=0;while(b<H.length&&H[b].tagName!="Children")b++;
if(b==H.length)throw"e";H=H[b].children;for(var r=0;r<H.length;r++)b3.mu.anh(H[r],v,t,h)}};b3.aKc=function(){function d(x,Z,Y,a,z){var p=new Int8Array(x.buffer),U=new Int8Array(a.buffer),l=Z+Y;
while(Z<l){var bW=p[Z];Z++;if(bW>=0&&bW<128)for(var n=0;n<bW+1;n++){U[z]=p[Z];z++;Z++}if(bW>=-127&&bW<0){for(var n=0;
n<-bW+1;n++){U[z]=p[Z];z++}Z++}}return z}function v(x,Z,Y,a,z,p){var U=Z*Y*a>>>3,l=f.m(U*z),L=h(x,0,0,0)[0];
for(var j=0;j<z;j++){var O=L[j+1];if(p){var F=b3.bV("jpg").CE(O.buffer),$=f.m(U);f.TA(new Uint8Array(F[0].data),$);
l.set($,U*j)}else if(O[0]==255&&O[1]==216&&O[2]==255){var H=UTIF.LosslessJpegDecode(O);l.set(new Uint8Array(H[0].buffer),U*j)}else d(O,64,O.length,l,U*j)}return l}function t(x){var Z=new Uint8Array(x),Y=0,a=B.o3(Z,0,128);
Y+=128;var z=B.o3(Z,Y,4);Y+=4;var p=X(Z,Y,0)[0],U=p.g28;if(U==null){alert("No image.");return[]}var l=U.cols,L=U.rows,j=l*L,O=U.photoInterpret,F=U.bitsAlloc,i=U.bitsStored,$=U.lossyCompr;
if($==null)$=p.g8.lossyCompr;var H=p.g7fe0.pixelData,b=U.numOfFrames;b=b?parseInt(b):1;var r=new Uint8Array(H.buffer),W=j*F>>>3;
if(r.length!=W*b){H=v(H,l,L,F,b,$)}else{}if(F==16)H=new Uint16Array(H.buffer);console.log(U);console.log(p);
var V=[];for(var y=0;y<b;y++){var c=y*W,x=f.m(l*L*4);x.fill(255);if(O=="MONOCHROME2"){var S=0,C=255,K=U.largestValue,T=U.smallestValue;
if(K!=null){C=K;S=T}else if(i!=8){C=0;S=1e9;for(var n=0;n<j;n++){var D=H[c+n];if(D>1<<i-8){if(D>C)C=D;
if(D<S)S=D}}}var N=255/(C-S);for(var n=0;n<j;n++){var D=Math.max(0,Math.min(255,(H[c+n]-S)*N)),G=n*4;
x[G]=x[G+1]=x[G+2]=D}}else if(O=="PALETTE COLOR"){var s=U.pltRed,Q=U.pltGreen,q=U.pltBlue;for(var n=0;
n<j;n++){var R=H[c+n],G=n*4;x[G]=s[R]>>>8;x[G+1]=Q[R]>>>8;x[G+2]=q[R]>>>8}}else throw O;V.push({_S:new iW(0,0,l,L),data:x.buffer})}return V}function h(x,Z,Y,a){if(Y==0)Y=x.length;
var z=B.kQ,p=B.cY,U=B.ij,l=[],L=Z;while(Z<Y){var j=z(x,Z);Z+=2;var O=z(x,Z);Z+=2;var F=U(x,Z);Z+=4;if(j==65534&&O==57344){if(F==4294967295){var i=X(x,Z,a+1);
l.push(i[0]);Z=i[1]}else{l.push(x.slice(Z,Z+F));Z+=F}}else if(j==65534&&O==57357){}else if(j==65534&&O==57565)break;
else throw"e"}return[l,Z]}function X(x,Z,Y){var a=B.kQ,z=B.cY,p=B.ij,U=B.ce,l={},L="\t".repeat(Y);while(Z<x.length){var j=a(x,Z),$="",H=0,r=null;
Z+=2;var O=a(x,Z);Z+=2;var F=j.toString(16),i=O.toString(16);if(j==65532)break;if(j==65534&&O==57357){Z-=4;
break}if(j==65534&&O==57565)throw"e";if(O==0){Z+=8;continue}if(65<=x[Z+1]){$=B.o3(x,Z,2);Z+=2;if($=="OB"||$=="SQ"||$=="OW"){H=p(x,Z+2);
Z+=6}else{H=a(x,Z);Z+=2}}else{$=g[F][i].split(",")[1];H=p(x,Z);Z+=4}var b=g[F][i];if(b)b=b.split(",")[0];
if(b==null){b="t"+i}if($=="SQ"){var W=h(x,Z,Z+H,Y);r=W[0];Z=W[1];H=0}else if($=="US")r=a(x,Z);else if($=="SS")r=z(x,Z);
else if($=="UL")r=p(x,Z);else if($=="SL")r=U(x,Z);else if($=="FL")r=B.fc(x,Z);else if($=="AT")r=[a(x,Z),a(x,Z+2)];
else if($=="OB")r=x.slice(Z,Z+H);else if($=="OW")r=new Uint16Array(x.slice(Z,Z+H).buffer);else if($=="FD")r=new Float64Array(x.slice(Z,Z+H).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf($)!=-1){var V=Z+H;while(x[V-1]==0)V--;
r=B.o3(x,Z,V-Z).trim()}else{console.log(L,JSON.stringify(B.o3(x,Z,Math.min(H,32))));throw $}if(l["g"+F]==null)l["g"+F]={};
l["g"+F][b]=r;Z+=H}return[l,Z]}var g={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"23":{},"25":{},"27":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"32":{},"37":{},"38":{},"40":{},"43":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{CE:t}}();b3.anG={};b3.anG.CE=function(d){var v=new Uint8Array(d),t=0,h={};for(var n=0;n<306;n++){var X=B.o3(v,t,8).trim(),g=B.o3(v,t+9,71).split("/")[0].trim();
h[X]=g;t+=80;if(X=="END"){t=Math.ceil(t/2880)*2880;break}}var x=parseInt(h.NAXIS1),Z=parseInt(h.NAXIS2),Y=x*Z,a=parseInt(h.BITPIX),z=h.BZERO?parseInt(h.BZERO):0,p=h.NAXIS3?parseInt(h.NAXIS3):1,U=new Float32Array(d,t,d.byteLength-t>>>2),l=new Float32Array(Y),L=f.m(Y*4,16);
L.fill(65535);var j=f.m(Y,16);for(var O=0;O<p;O++){var F=1e9,i=-1e9;for(var n=0;n<Y;n++){if(a==-32){var $=v[t+0];
v[t+0]=v[t+3];v[t+3]=$;var $=v[t+1];v[t+1]=v[t+2];v[t+2]=$;l[n]=U[n];t+=4}else if(a==16){l[n]=z+B.Mu(v,t);
t+=2}else throw a;var H=l[n];if(H<F)F=H;if(H>i)i=H}var b=1/i;for(var r=0;r<Z;r++)for(var W=0;W<x;W++){var n=r*x+W,V=(Z-r-1)*x+W,H=l[n]*b;
j[n]=65535*H}if(p==1)f.I0(j,L);else f.Gj(j,L,O)}return[{_S:new iW(0,0,x,Z),data:L,IB:h.OBJECT,depth:16}]};
b3.ty={};b3.ty.CE=function(d){var v=new Uint8Array(d),t=16,h=B.o3(v,t,4),g=32,F=0,i=0,$=!1,s;t+=4;var X=B.o3(v,t,8);
t+=8;while(v[t+g-1]==0)g--;var x=B.o3(v,t,g);t+=32;var Z=B.o3(v,t,4);t+=4;t+=20;var Y=B.BT(v,t);t+=4;
var a=B.BT(v,t);t+=4;var z=B.BT(v,t);t+=4;var p=B.BT(v,t);t+=4;var U=B.BT(v,t);t+=4;var l=B.BT(v,t);
t+=4;var L=x,j=[0,1,1,2];if(L=="X10"){L="FinePix X10";j=[2,1,1,0]}var O={t271:["FujiFilm"],t272:[L],t277:[1],t33421:[2,2],t33422:j,e_:1};
t=z;var H=[],b=B.ZT,r=B.BT(v,t);t+=4;for(var n=0;n<r;n++){var W=b(v,t);t+=2;var V=b(v,t);t+=2;if(W==256){i=b(v,t);
F=b(v,t+2)}else if(W==272){H=[b(v,t),b(v,t+2)]}else if(W==273){H.push(b(v,t),b(v,t+2))}else if(W==304){$=!(v[t]>>>7)}else if(W==305){var y=Math.round(Math.sqrt(V)),c=[];
for(var S=0;S<V;S++)c.push(v[t+S]);c.reverse();O.t33421=[y,y];O.t33422=c}else if(W==12272){var C=b(v,t),K=b(v,t+2),T=b(v,t+6);
O.t50728=[C/K,1,C/T]}t+=V}var D=F<i,N=v.slice(U,U+l),G=Math.round(l*8/(F*i));if(N[0]==73&&N[1]==73&&N[2]==42){s=UTIF.decode(N.buffer)[0].fujiIFD;
G=s.t61443[0];var Q=s.t61454,q=s.t61450;if(q)O.t50714=q;if(Q)O.t50728=[Q[0]/Q[1],1,Q[0]/Q[2]];var R=s.t61447[0];
N=N.slice(R,R+s.t61448[0])}var l=N.length,m=l*8<F*i*G;if(m){console.log("compressed");var E=O.t33422,e=~~Math.sqrt(E.length),w=[];
for(var n=0;n<e;n++)w[n]=E.slice(n*e,n*e+e);N=new Uint8Array(UTIF._decompressRAF(N,w).buffer);l=N.length}function M(af,J,at){at=at<<8-(J&7);
var ke=J>>>3;af[ke]|=at>>>16;af[ke+1]|=at>>>8;af[ke+2]|=at}var P=l*8/(F*i);if(P==16)for(var n=0;n<l;
n+=2){var I=N[n];N[n]=N[n+1];N[n+1]=I}else if(P==14){for(var n=0;n<l;n+=4){var I=N[n];N[n]=N[n+3];N[n+3]=I;
I=N[n+1];N[n+1]=N[n+2];N[n+2]=I}}else if(P==12)for(var n=0;n<l;n+=3){var k=N[n+2]<<16|N[n+1]<<8|N[n+0];
k=k>>>12|(k&4095)<<12;N[n]=k>>>16&255;N[n+1]=k>>>8&255;N[n+2]=k&255}if(D)N=b3.ty.a60(N,F,i);var o=D?2:1;
F*=o;O.t256=[F];O.t257=[i];O.t258=[G];O.t50719=[H[1],H[0]*o];O.t50720=[H[3],H[2]*o];O.width=F;O.height=i;
O.data=new Uint8Array(N.buffer);return[O]};b3.ty.a60=function(d,v,t){d=new Uint16Array(d.buffer);var h=new Uint16Array(v*t*2);
for(var X=0;X<t;X+=2)for(var g=0;g<v;g++){var x=X*v+g,Z=x*2,Y=d[x],a=d[x+v];h[Z+1]=h[Z+2*v]=a;if(((X>>>1)+g&1)==0){h[Z]=Y;
h[Z+2*v+1]=d[x+1]}else{h[Z]=d[x-1];h[Z+2*v+1]=Y}}return h};b3.H0={};b3.H0.aAa=function(d,v,t){t=t<<8-(v&7);
var h=v>>>3;d[h]|=t>>>16;d[h+1]|=t>>>8;d[h+2]|=t};b3.H0.fd=!0;b3.H0.CE=async function(d,v,t,h){var X=new Uint8Array(d),g=0,x=Date.now(),Z=await eF.lS(new Blob([d])),Y=Z.moov.uuid[0],a=new CR3Parser(d),z=a.getTrack().meta,p=Y.CMT1[0],U=p.t256[0]=z.width,l=p.t257[0]=z.height,L=U*l,j=p.exifIFD=Y.CMT2[0],O=j.makerNote=Y.CMT3[0],F=Z.moov.trak[3].mdia.minf.stbl,i=F.co64[0],$=X.slice(i,i+F.stsz[0]),H=0;
while(H<$.length){var b=B.ij($,H);H+=4;var r=B.kQ($,H);H+=2;var W=$[H]==1;H+=2;H+=4;if(r==8||r==9){var V=UTIF.decode($.slice(H+8,H+b-12).buffer)[0];
for(var y in V)O[y]=V[y]}H+=b-12}p.t277=[1];p.t33421=[2,2];p.t33422=[0,1,1,2];p.e_=1;if(p.t274)p.e_=p.t274[0];
var c=a.extractCFA(),S=z.bitDepth;if(S!=14)throw"e";p.t258=[S];var C=new Uint8Array(Math.ceil(L*S/8)),K=16-S;
for(var n=0;n<L;n++)b3.H0.aAa(C,n*14,c[n]<<K);p.width=U;p.height=l;p.data=C;t(null,[p],h)};b3.ye={};
b3.ye.$T=!0;b3.ye.V$=function(d,v,t,h){var X=new Uint8Array(d[0][0]),g=v*t,x=[1,3,4][h.cnum],Z=8+8*h.dpth,Y=h.endi;
if(x==1){var a=new Uint8Array(v*t);f.Po(X,a,0);X=a}if(x==3){var a=new Uint8Array(v*t*3);for(var n=0;
n<g;n++){var z=n*4,p=n*3;a[p]=X[z];a[p+1]=X[z+1];a[p+2]=X[z+2]}X=a}if(Z==16){var U=X.length,a=new Uint8Array(U*2);
for(var n=0;n<U;n++){var l=Math.round(X[n]*(65535/255));a[n*2+Y]=l>>>8;a[n*2+1-Y]=l&255}X=a}return X.buffer};
b3.Tx={};b3.Tx.CE=function(d){if(d.buffer)d=d.buffer;var v=new Uint8Array(d),t=4,h=B.ij(v,t);t+=4;var X={};
t=b3.Tx.J6(v,t,X);var g=X.compression,x=X.channels,Z=x.length,Y=Date.now();if(g==3&&Z>4){var a=X.dataWindow,z=a[2]+1,p=a[3]+1,U=[];
for(var l=0;l<p;l+=16){var L=B.ij(v,t+U.length*8);U.push(L)}function j(I,K){var T=0,bW=I.length>>>1;
for(var n=0;n<I.length;n+=2){K[n]=I[T++];K[n+1]=I[bW++]}}var O=[],F={},i=[];for(var n=0;n<x.length;n++){var $=x[n],H=$[0];
if(H.indexOf(".")==-1)H="main."+H;var b=H.split(".");while(b.length>2)b[0]=b.shift()+"_"+b[0];var r=b[0],W=b[1];
if(F[r]==null){F[r]=O.length;var V=f.m(z*p*4,32);O.push(V);V.fill(255)}i.push([F[r],{R:0,G:1,B:2,A:3}[W]])}for(var n=0;
n<U.length;n++){var y=U[n],l=B.ij(v,y),C;y+=4;var c=n==U.length-1?p-l:16,S=B.ij(v,y);y+=4;if(g==3){var C=new Uint8Array(c*z*Z*4);
UZIP.inflateRaw(v.slice(y+2,y+S),C);for(var K=1;K<C.length;K++){var T=C[K-1]+C[K]-128;C[K]=T}var D=new Uint8Array(C.length);
j(C,D);C=new Float32Array(D.buffer)}for(var N=0;N<Z;N++){var G=i[N],s=O[G[0]],Q=G[1];for(var q=0;q<c;
q++){for(var R=0;R<z;R++){var m=((q+l)*z+R)*4;s[m+Q]=C[q*(Z*z)+N*z+R]}}}}var E=[];for(var H in F){E.push({_S:new iW(0,0,z,p),data:O[F[H]].buffer,depth:32,jk:b3.qk.get("icc/srgb_lin"),IB:H})}return E.reverse()}else{function e(p){var I=(p&32768)>>15,k=(p&31744)>>10,o=p&1023;
if(k===0)return(I?-1:1)*2**-14*(o/2**10);if(k===31)return o?NaN:(I?-1:1)*Infinity;return(I?-1:1)*2**(k-15)*(1+o/2**10)}var w=X.channels[0][1],M=EXRLoader.parse(d,1015),z=M.width,p=M.height,s=f.m(z*p*4,32);
for(var q=0;q<p;q++)for(var R=0;R<z;R++){var n=(q*z+R)*4,P=((p-q-1)*z+R)*4;s[n]=M.data[P+0];s[n+1]=M.data[P+1];
s[n+2]=M.data[P+2];s[n+3]=M.data[P+3]}return[{_S:new iW(0,0,z,p),data:s.buffer,depth:32,jk:b3.qk.get("icc/srgb_lin")}]}};
b3.Tx.V$=function(d,v,t,h,X){if(X==null){X={compression:3,channels:[["A",2,0,1,1],["B",2,0,1,1],["G",2,0,1,1],["R",2,0,1,1]]};
X.dataWindow=X.displayWindow=[0,0,v-1,t-1]}var g=d[0],x,Z=Math.floor(g[0].byteLength/(v*t*4))*8,z=0,V=0;
if(Z==32)x=new Float32Array(g[0]);if(Z==16)x=f.OO(new Uint16Array(g[0]),32);if(Z==8)x=f.OO(new Uint8Array(g[0]),32);
if(Z==8||Z==16){var Y=f.e0;for(var n=0;n<x.length;n+=4){x[n]=Y(x[n]);x[n+1]=Y(x[n+1]);x[n+2]=Y(x[n+2])}}var a=new Uint8Array(5e3);
B.Bk(a,z,20000630);z+=4;B.Bk(a,z,2);z+=4;z=b3.Tx.Eb(a,z,X);function p(K,b){var r=0,bW=K.length>>>1;for(var n=0;
n<K.length;n+=2){K[r++]=b[n];K[bW++]=b[n+1]}}var U=[];for(var l=0;l<t;l+=16){var L=Math.min(16,t-l),j=new Float32Array(L*v*4);
for(var O=0;O<4;O++)for(var F=0;F<L;F++)for(var i=0;i<v;i++){var $=((F+l)*v+i)*4;j[F*(4*v)+O*v+i]=x[$+(3-O)]}var H=new Uint8Array(j.buffer);
j=new Uint8Array(H.length);p(j,H);for(var b=j.length-1;b>0;b--){var r=j[b]-j[b-1]+128;j[b]=r}var W=UZIP.deflate(j);
U.push(W)}for(var n=0;n<U.length;n++)V+=U[n].length;var y=z+U.length*16+V,c=a;a=new Uint8Array(y);a.set(c,0);
var S=z+U.length*8;for(var n=0;n<U.length;n++){B.Bk(a,z,S);z+=8;S+=8+U[n].length}for(var n=0;n<U.length;
n++){var C=U[n];B.Bk(a,z,n*16);z+=4;B.Bk(a,z,C.length);z+=4;a.set(C,z);z+=C.length}return a};b3.Tx.Eb=function(d,v,t){var h={"Exif:ImageHistory":"string",Software:"string",capDate:"string",channels:"chlist",screenWindowCenter:"v2f",dataWindow:"box2i",displayWindow:"box2i",pixelAspectRatio:"float",screenWindowWidth:"float"},X=B.js,g=B.Bk,x=B.CY;
for(var Z in t){var Y=h[Z],a=t[Z],z=0;if(Y==null)Y=Z;X(d,v,Z);v+=Z.length+1;X(d,v,Y);v+=Y.length+1;var p=v;
v+=4;if(Y=="box2i"){for(var n=0;n<4;n++)g(d,v+n*4,a[n]);z=16}else if(Y=="float"){x(d,v,a);z=4}else if(Y=="v2f"){for(var n=0;
n<2;n++)x(d,v+n*4,a[n]);z=8}else if(Y=="string"){X(d,v,a);z=a.length}else if(Y=="chlist"){var U=v;for(var n=0;
n<a.length;n++){var l=a[n];X(d,U,l[0]);U+=l[0].length+1;g(d,U,l[1]);U+=4;g(d,U,l[2]);U+=4;g(d,U,l[3]);
U+=4;g(d,U,l[4]);U+=4}z=U-v+1}else{d[v]=a;z=1}g(d,p,z);v+=z}v++;return v};b3.Tx.J6=function(d,v,t){function h(L,j){var O=j;
while(L[O]!=0)O++;return O-j}while(d[v]!=0){var X=B.o3(d,v,h(d,v));v+=X.length+1;var g=B.o3(d,v,h(d,v));
v+=g.length+1;var x=B.ij(d,v);v+=4;var Z=d.slice(v,v+x);if(x==1)Z=d[v];else if(g=="box2i"){Z=[];for(var n=0;
n<4;n++)Z.push(B.ce(d,v+4*n))}else if(g=="float")Z=B.fc(d,v);else if(g=="v2f"){Z=[];for(var n=0;n<2;
n++)Z.push(B.fc(d,v+4*n))}else if(g=="chlist"){var Y=v;Z=[];while(d[Y]!=0){var a=B.o3(d,Y,h(d,Y));Y+=a.length+1;
var z=B.ij(d,Y);Y+=4;var p=d[Y];Y++;Y+=3;var U=B.ij(d,Y);Y+=4;var l=B.ij(d,Y);Y+=4;Z.push([a,z,p,U,l])}}else if(g=="string"){Z=B.o3(Z,0,Z.length)}else console.log("-----",g);
t[X]=Z;v+=x}return v+1};b3.rm={};b3.rm.CE=function(d,v){var t=new Uint8Array(d),h=0,X=[],g,x,Z;while(!0){var Y=h;
while(t[Y]!=10&&Y-h<80&&t[Y]<128)Y++;if(t[Y]!=10)break;var a=B.o3(t,h,Y-h);if(a.startsWith("-Y")){var z=a.split(" ");
x=parseInt(z[1]);g=parseInt(z[3]);Z=f.m(g*x*4)}h=Y+1}var p=Date.now();b3.rm.anV(t,Z,h,g,x);var U=new Float32Array(g*x*4),l=[];
for(var n=0;n<256;n++)l[n]=1/255*Math.pow(2,n-128);for(var n=0;n<g*x;n++){var L=n*4,j=Z[L+3];if(j!=0){var O=l[j];
U[L]=(Z[L+0]+.5)*O;U[L+1]=(Z[L+1]+.5)*O;U[L+2]=(Z[L+2]+.5)*O}U[L+3]=1}return[{_S:new iW(0,0,g,x),data:U.buffer,depth:32,jk:b3.qk.get("icc/srgb_lin")}]};
b3.rm.anV=function(d,v,t,h,X){var g=new Int8Array(d.buffer);for(var x=0;x<X;x++){var Z=x*h,Y=g[t],a=g[t+1],z=g[t+2];
t+=4;if(Y==2&&a==2&&z>=0){for(var p=0;p<4;p++){var U=Z,l=0;while(l<h){var L=d[t];t++;if(L<=128){for(var n=0;
n<L;n++){v[p+U*4]=d[t];t++;U++}}else{var j=d[t];t++;L-=128;for(n=0;n<L;n++){v[p+U*4]=j;U++}}l+=L}}}else{var U=Z;
for(var l=0;l<h;l++){var Y=0,a=0,z=0,O=0;if(l>0){Y=g[t];a=g[t+1];z=g[t+2];O=g[t+3];t+=4}if(Y==1&&a==1&&z==1){console.log("doing a run");
var L=O&255,F=v[(U-1)*4],i=v[(U-1)*4+1],$=v[(U-1)*4+2],H=v[(U-1)*4+3];for(n=0;n<L;n++){v[U*4+0]=F;v[U*4+1]=i;
v[U*4+2]=$;v[U*4+3]=H;U+=1}l+=L-1}else{v[U*4+0]=d[t-4];v[U*4+1]=d[t-3];v[U*4+2]=d[t-2];v[U*4+3]=d[t-1];
U+=1}}}}};b3.Zf={};b3.Zf.$T=!0;b3.Zf.e4=!0;b3.Zf.V$=function(d,v,t,h,X){h={pags:"",qual:100};h.fmts=["jpg"];
var g=new ToDXF;dW.IT(d,h,g,X.FP);return g.buffer};b3.Zf.CE=function(d,v){var t=72,h=new gi(1,0,0,1,0,0);
h.scale(t/72,t/72);v.u3=t;var X=new dU(v,h,!1);FromDXF.Parse(d,X)};b3.avV={};b3.avV.CE=function(){var d=B.kQ,v=B.ij,t=B.o3,h;
function X(x,Z,Y,a,z){var p=v(x,Y),U=v(x,Y+4),l=v(x,Y+8),L=d(x,Y+12),j=d(x,Y+14);Y+=16;var O={};for(var n=0;
n<L+j;n++){var F=v(x,Y),i=v(x,Y+4),$,H;if(F>>>31==1){F=F&16777215}if(n<L)$=B.Ix(x,Z+F+2,d(x,Z+F));else $="id"+F;
var b=a.slice(0);b.push($);if(i>>>31==1){i=i&268435455;H=X(x,Z,Z+i,b,z)}else{var r=v(x,Z+i),W=v(x,Z+i+4),V=v(x,Z+i+8),y=v(x,Z+i+12);
if(y!=0)throw"e";if(r<z[0]||r>z[0]+z[1])throw"e";var c=z[2]+r-z[0];H=x.slice(c,c+W);var S=b3.IF(H.buffer);
if(S&&["bmp","png","ico"].indexOf(S)!=-1){var C=b3.bV(S);if(!C.e4){var K=null;try{K=C.CE(H.buffer)}catch(cQ){}if(K){K[0].IB=b[1];
h.push(K[0])}}}else if(S)console.log(S)}O[$]=H;Y+=8}return O}function g(x){h=[];var Z=new Uint8Array(x),Y=0,a=d(Z,Y);
Y+=2;Y+=58;var z=v(Z,Y);Y+=4;Y=z;var p=t(Z,Y,4);Y+=4;var U=d(Z,Y);Y+=2;var l=d(Z,Y);Y+=2;var L=v(Z,Y);
Y+=4;var j=v(Z,Y);Y+=4;var O=v(Z,Y);Y+=4;var F=d(Z,Y);Y+=2;var i=d(Z,Y);Y+=2;Y+=F;var $={};for(var n=0;
n<l;n++){var H=Y;while(Z[H]!=0)H++;var b=t(Z,Y,H-Y),r=v(Z,Y+8),W=v(Z,Y+12),V=v(Z,Y+16),y=v(Z,Y+20),c=v(Z,Y+24),S=v(Z,Y+28),C=d(Z,Y+32),K=d(Z,Y+34),i=v(Z,Y+36);
$[b]=[W,r,y,V,i];if(c+S!=0)throw"e";Y+=40}for(var T in $){var D=$[T];Y=D[2];if(T==".rsrc"){var N=X(Z,Y,Y,[],D),G="id134"}}return h}return g}();
b3.JJ={};b3.JJ.e4=!0;b3.JJ.CE=function(d,v,t){if(t&&t.length!=2)t=null;eT.lS(d,v,t)};b3.JJ.V$=function(d,v,t){return eT.IT(d)};
(function(){var d=b3.qk.get("wasm/zstd").buffer;WebAssembly.instantiate(d).then(function(v){var t=v.instance.exports;
b3.JJ.az3=t})}());b3.JJ.tT=function(d,v){var t=b3.JJ.az3,h=d.length,X=t.memory,g=2*h+1e6,Y=4;b3.ax(t,g);
var x=new Uint8Array(X.buffer),Z=t.malloc(h);x.set(d,Z);while(!0){var a=v==null?h*Y:v,z=b3.ax(t,g+a);
if(z!=0){alert("This file is too bif for your browser (WASM memory grow breaks at "+hi.Hb(z)+")",5e3);
return null}var p=t.malloc(a),U=t.ZSTD_decompress(p,a,Z,h);if(U==-70){t.free(p);Y+=Y>>>1;if(v!=null)throw"error"}else{x=new Uint8Array(X.buffer);
d=x.slice(p,p+U);t.free(p);break}}t.free(Z);return d};b3.X9={};b3.X9.e4=!0;b3.X9.CE=function(){var d=0,v=1,t=2,h=3,X=4,g=5,x=6,Z=7,Y=1,a=2,z=7,p=8,U=9,l,L,j,O,F;
function i(){var bW=B.ce(l,L);L+=4;return bW}function $(){var s=0,Q=0;for(var n=0;n<5;n++){var q=l[L++];
s+=(q&127)<<Q;Q+=7;if((q&128)==0)break}return s}function H(){var s=$(),Q=B.I$(l,L,s);L+=s;return Q}function b(){return{typeName:H(),aen:i()}}function r(){var s=i(),Q=H(),q=[],R=i();
for(var n=0;n<R;n++)q.push([H()]);return{id:s,cF:Q,avY:q}}function W(s){var Q=s.avY,q=[];for(var n=0;
n<Q.length;n++)Q[n].push(l[L++]);for(var n=0;n<Q.length;n++){var R=Q[n][1],m;Q[n].push(V(R))}}function V(s){var Q;
if(s==d)Q=l[L++];else if(s==h)Q=H();else if(s==X)Q=b();else if(s==v||s==t||s==x||s==g){}else throw s;
return Q}function y(s,Q,q){var R;if(s==d){if(Q==Y)R=l[L++]==1;else if(Q==a){R=l[L++]}else if(Q==p)R=i();
else if(Q==U){R=i();i()}else throw Q}else if(s==h){R=K(q+1)}else if(s==X){R=K(q+1)}else if(s==g){R=K(q+1)}else if(s==v){R=K(q+1)}else if(s==x){R=K(q+1)}else if(s==t){R=K(q+1)}else throw s;
return R}function c(s,Q){var q=j["c"+s],R=q.avY,m={_class:q.cF};for(var n=0;n<R.length;n++){var E=R[n],e=E[1],w=E[2],M=y(e,w,Q),P=E[0];
m[P]=M}return m}function S(s,Q,q,R){var m=[];for(var n=0;n<s;n++){var E=y(Q,q,R);if(E.o&&E.o=="null_count"){var e=E.k1;
for(var w=0;w<e;w++)m.push(null);n+=e-1}else m.push(E)}return m}function C(){return[i(),i()]}function K(s){if(s==null)throw"e";
var Q=null,q=l[L],R=null;L++;if(q==0){var m=i(),E=i(),e=i(),w=i();Q=[m,E,e,w]}else if(q==1){R=i();var M=i();
Q=c(M,s)}else if(q==4){var P=r();R=P.id;W(P);j["c"+P.id]=P;Q=c(P.id,s)}else if(q==5){var P=r();R=P.id;
W(P);var I=i();j["c"+P.id]=P;Q=c(P.id,s)}else if(q==6){R=i();var k=H();Q=k}else if(q==7){R=i();var o=l[L++];
if(o!=0)throw o;var af=i();if(af!=1)throw af;var J=i(),at=l[L++],ke=V(at);Q=S(J,at,ke,s)}else if(q==9){var c_=i();
Q={o:"ref",k1:c_};F["o"+c_]=!0}else if(q==10){Q={o:"null_count",k1:1}}else if(q==11){Q={o:"end"}}else if(q==12){var I=i(),ag=H()}else if(q==13){var dz=l[L++];
Q={o:"null_count",k1:dz}}else if(q==16){var kL=C();R=kL[0];Q=S(kL[1],X,null,s)}else if(q==17){var kL=C();
R=kL[0];Q=S(kL[1],v,null,s)}else throw"e";if(R!=null&&R>0){if(O["o"+R]!=null)throw"e";O["o"+R]=Q}return Q}function T(s,O){if(s instanceof Array){for(var n=0;
n<s.length;n++)s[n]=D(s[n],O)}else if(s instanceof Object){for(var Q in s)s[Q]=D(s[Q],O)}}function D(s,O){if(s&&s.o&&s.o=="ref")return O["o"+s.k1];
else return s}function N(s,Q,q){var R=Date.now();l=new Uint8Array(s);L=0;j={};O={};F={};var m=B.o3(l,0,4);
if(m!="PDN3")throw m;L+=4;var E=B.kQ(l,L)+l[L+2]*256*256;L+=3;var e=B.o3(l,L,E);L+=E;L+=2;while(!0){var w=K(0);
if(w&&w.o&&w.o=="end")break}for(var M in F)if(O[M]==null)throw M;for(var M in O)T(O[M],O);var P=O.o1;
console.log(P);Q.r=P.width;Q.$=P.height;Q.buffer=f.m(Q.r*Q.$*4);var I=P.layers["ArrayList+_items"];for(var n=0;
n<I.length;n++){var k=I[n];if(k==null)continue;var o=k["Layer+width"],af=k["Layer+height"],J=k["Layer+properties"],at=k.properties,ke=at.blendOp._class.split("+").pop();
ke=ke.slice(0,ke.length-7);var c_={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[ke],ag=Q.vv();
ag.qv(J.name);ag.JS=J.opacity;ag.fF(J.visible);ag.uF=c_;if(l[L]!=0)throw"e";L++;var dz=B.BT(l,L);L+=4;
var kL=Math.ceil(o*af*4/dz);ag.S=new iW(0,0,o,af);var aq=ag.buffer=f.m(o*af*4);for(var dh=0;dh<kL&&L<l.length;
dh++){var gK=G();aq.set(gK[1],gK[0]*dz)}for(var ad=0;ad<aq.length;ad+=4){var dc=aq[ad+0];aq[ad+0]=aq[ad+2];
aq[ad+2]=dc}Q.U.push(ag)}}function G(){var s=B.BT(l,L);L+=4;var Q=B.BT(l,L);L+=4;L+=10;Q-=10;var q=pako.inflateRaw(l.slice(L,L+Q));
L+=Q;return[s,q]}return N}();b3.FX={};b3.FX.e4=!0;b3.FX.CE=function(d,v){fs.lS(d,v)};b3.S7={};b3.S7.e4=!0;
b3.S7.CE=function(){var d,v,O=null,W,V;function t(){var N=d[v];v+=1;return N}function h(){var N=B.ZT(d,v);
v+=2;return N}function X(){var N=B.BT(d,v);v+=4;return N}function g(){var N=B.vW(d,v);v+=4;return N}function x(){var N=B.yJ(d,v);
v+=8;return N}function Z(){var N=X();if(N>200)throw N;var G=B.Kl(d,v,N);v+=N*2;return G}function Y(){var N=B.D_(d,v);
v+=8;return N}function a(){var N=B._1(d,v);v+=4;return N}function z(){var N=X();if(X()!=4)throw"e";var G=[];
for(var n=0;n<N;n++)G.push(X());return G}function p(N,G,s){for(var n=0;n<N.length;n++)if(N[n][G]==s)return N[n]}function U(N,G){var s=Date.now();
d=new Uint8Array(N);v=B.M5(d,"CH"+"NK"+"SQ"+"Li")+8;var Q=x(),q=fu.parse(d.buffer.slice(v,v+Q)),R=fu.a5F(q,!0);
console.log(R);var m=R.Canvas[0],E=m.Width,e=m.Height,w=m.Unit,M=G.u3=m.Resolution;if(w==0){}else if(w==1){E=Math.round(E*M/2.54);
e=Math.round(e*M/2.54)}else if(w==2){E=Math.round(E*M/25.4);e=Math.round(e*M/25.4)}else if(w==3){E=Math.round(E*M);
e=Math.round(e*M)}else if(w==5){E=Math.round(E*M/72);e=Math.round(e*M/72)}else{console.log(m);throw w}G.r=E;
G.$=e;G.buffer=f.m(E*e*4);console.log(Date.now()-s);var P=p(R.Layer,"MainId",m.RootFolder);C(R,d,G,P.FirstChildIndex,0);
console.log(Date.now()-s)}function l(){var N=B.kQ(d,v);v+=2;return N}function L(){var N=B.ij(d,v);v+=4;
return N}function j(){var N=B.ce(d,v);v+=4;return N}function F(N){var G={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},Q=0;
d=N;v=0;var s={};while(v<d.length){var q=L(),R=L(),m=v+R;if(R==0)continue;var E=[];if(q==11){var e=L();
for(var w=0;w<e;w++){var M=[L(),L()];E.push(M);Q+=M[1];var P=v+L()-4;M.push(l(),l(),l(),l());M.push(B.FD(d,v));
v+=8;var I=l();M.push(B.Ix(d,v,I));v+=I*2;if(v!=P)throw"e"}}else if(q==31){E=B.I$(d,v,R);v+=R}else if(q==34)for(var n=0;
n<3;n++)E.push(L()>>>16);else if(q==42)for(var n=0;n<4;n++)E.push(j());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(q)!=-1){if(R!=4)throw"e";
E=L();if([37,45,46,51,53,55,61,62].indexOf(q)!=-1){v=m;continue}}else if(q==47){var k=l();if(L()!=50)throw"e";
if(L()!=0)throw"e";var o=l();E=B.o3(d,v,o);v+=o}else if(q==57){var e=l();for(var n=0;n<e;n++){var af=l(),J=B.o3(d,v,af);
v+=af;var at=l(),ke=B.o3(d,v,at);v+=at;E.push([J,ke])}if(v<m){var c_=L();for(var n=0;n<e;n++)E[n].push(c_)}}else if(q==39||q==63)E.push(L(),L());
else if(q==64){for(var n=0;n<8;n++)E.push(B.ce(d,v+n*4)/100);v+=32}else{E=d.slice(v,m);v+=R}var ag=G[q];
if(ag==null)ag="t"+q;if(s[ag])throw"e";s[ag]=E;if(v!=m)throw q}if(O){}O=s;return s}function i(N){d=N;
v=0;var G=X();if(G!=N.length)throw"e";var s=X(),Q=Z(),q=X(),R=Y(),m=[X()/4294967295,X()/4294967295,X()/4294967295];
return[q,R,m]}function $(N,G){function s(){var e1=[];for(var n=0;n<4;n++)e1.push(B.vW(d,v+n*4));v+=16;
return e1}function Q(bW){var e1=[];for(var n=0;n<bW;n++)e1.push(a());return e1}function q(e1){var am="";
for(var n=v;n<e1;n+=4)am+=d.slice(n,n+4).join(", ")+"\n";return am}d=N;v=G+8;var R=x(),m=v+R;v+=56;if(v==m)return;
var E=[],e=[],w=[],M=[],P=[];while(v<m){var I=X(),aq=1;if(I!=88&&I!=92&&I!=96&&I!=100)throw I;var k=X();
if(k!=72&&k!=76)throw k;var o=X();if(o!=88&&o!=104&&o!=120)throw o;var af=X();if(af!=88)throw af;var J=X(),at=X(),ke=s(),c_=[];
w.push(c_);for(var n=0;n<6;n++){c_.push(H(X()))}var ag=Y();if(k==76)X();var dz=X();if((at&1)==0){console.log("8 extra bytes");
X();dz=X()}var kL=Y();M.push(kL);var dh=X(),gK=(at&256)!=0,ad=[],dc=[],lq={88:1,104:2,120:3}[o];for(var n=0;
n<J;n++){var hn=n==0?1:lq;for(var dF=0;dF<hn;dF++)ad.push(Y(),Y());dc.push(hn==1?n==0?"M":"L":hn==2?"Q":"C");
var c3=s(),i8=X();aq=a();var dr=Q(10),jO=X(),d1=X()}P.push(aq);if(o==104){var h3=Y(),d5=Y();if(gK){dc.push("Q");
ad.push(h3,d5,ad[0],ad[1])}}if(o==120){var h3=Y(),d5=Y(),em=Y(),fl=Y();if(gK){dc.push("C");ad.push(h3,d5,em,fl,ad[0],ad[1])}}if(at&128){var lA=["M"],av=[ad[0],ad[1]],ah=ad.length>>>1,gE=f.Q.afn(ad);
for(var n=0;n<ah;n++){var fj=ad[2*n],bR=ad[2*n+1],bD=.7;for(var dF=0;dF<2;dF++){gE[n*4+dF*2]=bD*gE[n*4+dF*2]+(1-bD)*fj;
gE[n*4+dF*2+1]=bD*gE[n*4+dF*2+1]+(1-bD)*bR}}for(var n=1;n<ah;n++){lA.push("C");av.push(gE[n*4-2],gE[n*4-1],gE[n*4],gE[n*4+1],ad[n*2],ad[n*2+1])}if(gK){lA.push("C");
av.push(gE[ah*4-2],gE[ah*4-1],gE[0],gE[1],ad[0],ad[1])}ad=av;dc=lA}if(gK)dc.push("Z");e=e.concat(ad);
E=E.concat(dc)}if(v!=m)throw"e";return[{I:e,s2:E},w,M,P]}function H(N){return Math.min(255,Math.round(N/16777216))}function b(N){d=N;
v=0;var G=X();if(G!=16)throw G;var s=X();if(s!=102)throw s;var Q=X();if(Q!=42&&Q!=58)throw Q;var q=X();
if(N.length-q!=118+Q)throw N.length-q;var R=Z();if(R!="Parameter")throw R;var m=X(),E=X(),e=X(),w=X(),M=[];
for(var n=0;n<16;n++)M.push(X());var R=Z();if(R!="InitColor")throw R;if(X()!=20)throw"e";var P=X(),I=X(),k=X();
if(X()!=4)throw"e";if(Q==58){var o=[];M.push(o);for(var n=0;n<4;n++)o.push(H(X()))}var R=Z();if(R!="BlockSize")throw R;
var af=X();if(af!=12)throw af;var J=z();if(v!=d.length)throw"e";return[m,E,e,w,P*255,M]}function r(N,G){var s=B.o3(G,0,40),Q=p(N["ExternalC"+"hunk"],"Exte"+"rnalID",s);
if(Q==null){console.log("chnk not found",s)}return Q?Q.Offset:-1}function y(N,G,s,Q){if(W==null){W=f.m(256*256*4);
V=f.m(256*256)}var q=N.Mipmap,R=N.MipmapInfo,m=N.Offscreen,E=p(q,"MainId",s),e=p(R,"MainId",E.BaseMipmapInfo),w=p(m,"MainId",e.Offscreen),M=r(N,w.BlockData),U=null;
if(M==-1)return null;var P=b3.S7.afv(G,M),I=b(w.Attribute),k=I[0],o=I[1],af=I[2],J=I[3],at=I[4],ke=I[5],c_=ke[16],ag=ke[1],dz=ke[2],kL=ag+dz;
if(dz!=ke[5])throw"e";if(ag!=ke[7])throw"e";var aq=f.m(256*(ke[6]+ke[8])),dh=new iW;if(c_)dh=new iW(0,0,k,o);
else{for(var gK=0;gK<J;gK++)for(var ad=0;ad<af;ad++){var dc=P[gK*af+ad];if(dc.length==0)continue;dh=dh.Ue(new iW(ad<<8,gK<<8,256,256))}}var lq=dh.hL(new iW(0,0,k,o)),hn=f.m(lq.k()*(kL==1?1:4));
if(c_)f.pl(hn,255<<24|c_[0]<<16|c_[1]<<8|c_[2]);if(kL==1)hn.fill(at);var dF=new Uint32Array(W.buffer),c3={};
for(var gK=0;gK<J;gK++)for(var ad=0;ad<af;ad++){var dc=P[gK*af+ad];if(dc.length==0)continue;var i8=new Uint8Array(dc.buffer,dc.byteOffset+2,dc.length-6),dr=new iW(ad<<8,gK<<8,256,256),jO=aq;
if(i8.length<2e3){var s=i8.length+","+aq.length+","+i8.slice(0,16).join(":");if(c3[s]==null){UZIP.inflateRaw(i8,aq);
c3[s]=aq.slice(0)}jO=c3[s]}else UZIP.inflateRaw(i8,aq);if(kL==1){if(ke[8]==32){c(jO,0,V);f.Qb(V,dr,hn,lq)}else f.Qb(jO,dr,hn,lq)}else if(kL==2){if(ke[8]==32){f.pl(W,267387135);
c(jO,0,V);f.Gj(V,W,3);c(jO,256*32,V);f.I0(V,W)}else for(var n=0;n<262144;n+=4){var c_=jO[65536+(n>>>2)];
W[n]=c_;W[n+1]=c_;W[n+2]=c_;W[n+3]=jO[n>>>2]}f.wH(W,dr,hn,lq)}else if(kL==5){for(var n=0;n<262144;n+=4){dF[n>>>2]=jO[n>>>2]<<24|jO[65536+n+0]<<16|jO[65536+n+1]<<8|jO[65536+n+2]}f.wH(W,dr,hn,lq)}else throw kL}if(Q&&kL==1){var d1=f.m(k*o*4);
f.Gj(hn,d1,3);hn=d1}return[lq,hn,at]}function c(N,v,G){for(var n=0;n<G.length;n++){G[n]=(N[v+(n>>>3)]>>>7-(n&7)&1)*255}}var S=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function C(N,G,s,Q,q){var R=N.Layer,m=N.Canvas[0];while(Q!=0){var E=p(R,"MainId",Q),e=E.Type,af=!1;console.log(E);
var w=s.vv();w.qv(E.Name);w.JS=Math.min(255,E.Opacity);w.fF((E.Visibility&1)!=0);w.uF=S[E.Composite];
if(w.uF==null){alert("Unknown blend mode "+E.Composite);w.uF="norm"}w.cD=E.Clip==1;s.U.push(w);var M=E.LayerMaskMipmap;
if(M!=0){var P=y(N,G,M,!1);if(P){w.AU=new jn.Ks;w.AU.S=P[0];w.AU.N=P[1];w.AU.color=P[2];K(w.AU.S,E,"Mask","Mask");
w.AU.s4()}}var I=[];for(var n=0;n<3;n++)I.push(H(E["DrawColorMain"+["Red","Green","Blue"][n]]));var k={t:"Objc",v:f.iF.Zi({C:I[0],L:I[1],X:I[2]})},o=JSON.parse(kV.default);
for(var n=0;n<kV.order.length;n++)o[kV.dv[n]]={t:"VlLs",v:[]};if(E.DrawColorEnable==1&&e!=1584){af=!0;
var J=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);J.Clr=k;o.solidFillMulti.v.push({t:"Objc",v:J})}if(E.EffectInfo){var at=i(E.EffectInfo),I=at[2];
if(at[0]==1){af=!0;var J=JSON.parse(kV.v0[kV.order.indexOf("FrFX")]);J.Clr.v=f.iF.Zi({C:I[0]*255,L:I[1]*255,X:I[2]*255});
J.Sz.v.val=Math.round(at[1]);o.frameFXMulti.v.push({t:"Objc",v:J})}}if(E.FilterLayerInfo){d=E.FilterLayerInfo;
v=0;var ke=X(),c_=X();if(c_!=d.length-v)throw"e";var ag={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[ke];
if(ag!=null){var dz=e0.yu(ag);w.add[ag]=dz?dz:{};if(ag=="brit")e0.g4["g"+ag](dz,[g(),g(),!0]);if(ag=="hue2")kg.jq(dz,0,[g(),g(),g()]);
if(ag=="curv"){var kL=[],aq=v;for(var n=0;n<32;n++){v=aq+n*130;var dh=h(),gK=[];kL.push(gK);for(var ad=0;
ad<dh;ad++)gK.push(h()/65535,h()/65535)}for(var n=0;n<4;n++){var gK=kL[n],dc=js.TC(dz,n),lq=dc[0];for(var ad=0;
ad<gK.length;ad+=2){var hn=dc[ad>>>1]=f.v(lq);hn.v.Hrzn.v=Math.round(gK[ad]*255);hn.v.Vrtc.v=Math.round(gK[ad+1]*255)}js.jq(dz,n,dc)}}if(ag=="grdm"){var dF=dz.Grad.v,c3=[],i8=X();
if(i8!=c_-4)throw i8;var dr=X();if(dr!=16&&dr!=24)throw dr;var jO=X();if(jO!=28)throw jO;var d1=X();
for(var n=0;n<d1;n++){var h3=0,d5=[];for(var ad=0;ad<7;ad++)d5.push(X());c3.push([d5[6]/32768,[d5[1]/4294967295,d5[2]/4294967295,d5[3]/4294967295],d5[4]/4294967295])}f.iF.PY(c3,dF)}if(ag=="blnc"){dz.PrsL.v=X()==1;
for(var n=0;n<3;n++){var em=dz[["ShdL","MdtL","HghL"][n]].v;for(var ad=0;ad<3;ad++)em[ad].v=g()}}}else console.log("Unknown adjustment",ke,c_,w.getName())}if(e==1584){w.Xw|=16;
w.add.SoCo={classID:"null",Clr:k};w.tG(s)}else if(e==800){s.U.pop()}else if(E.Folder!=0){w.add.lsct=(E.Folder&16)!=0?f$.wM:f$.fG;
w.uF="pass";s.U.pop();s.U.push(s.Rw());C(N,G,s,E.FirstChildIndex,q+1);s.U.push(w)}else if(e==0||e==1||e==2||e==3){var P=y(N,G,E.RenderMipmap,!0);
if(P){w.S=P[0];w.buffer=P[1];K(w.S,E,"Render","");if(w.S.k()<2e6)w.s4()}if(E.ResizableOriginalMipmap){var fl=y(N,G,E.ResizableOriginalMipmap,!0),lA=fl[0],av;
if(lA.k()>4e6)av=b3.CM.LN(fl[1].buffer,lA.r,lA.$);else av=b3.bV("PNG").V$([[fl[1].buffer,0]],lA.r,lA.$);
var ah=s.b0(new Uint8Array(av),w.getName(),0,0);w.add.SoLd=ah.add.SoLd;w.buffer=ah.buffer;w.S=ah.S;d=E.ResizableImageInfo;
v=0;var gE=[];for(var n=0;n<10;n++)gE.push(X());var fj=[];for(var n=0;n<7;n++)fj.push(Y());for(var n=0;
n<6;n++)gE.push(X());var bR=[];for(var n=0;n<8;n++)bR.push(Y());var bD=bR[4];bR[4]=bR[6];bR[6]=bD;bD=bR[5];
bR[5]=bR[7];bR[7]=bD;for(var n=0;n<8;n+=2){bR[n]+=E.OffsetX;bR[n+1]+=E.OffsetY}w.add.SoLd.Trnf=A.hZ.gX(bR);
w.add.SoLd.nonAffineTransform=A.hZ.gX(bR);if(w.ZC()||f.Q.mo(bR).k()<1e8)w.Lc(s,!1)}if(E.TextLayerType!=null){var e1="TextLayerString",am="TextLayerAttributes",dj=[E[e1]],ja=[E[am]];
if(E[e1+"Array"]){d=E[e1+"Array"];v=0;while(v<d.length){var c_=L();dj.push(d.slice(v,v+c_));v+=c_}d=E[am+"Array"];
v=0;while(v<d.length){var c_=L();ja.push(d.slice(v,v+c_));v+=c_}}var aj=w;s.U.pop();for(var dS=0;dS<dj.length;
dS++){var w=aj.b(),eo=0,eP=0;s.U.push(w);var eW=F(ja[dS]),be=eW.runs,cI=eW.fnts,kP=eW.bplg,i0=eW.bbox,ac=i0[2]-i0[0],jR=i0[3]-i0[1];
if(kP){eo=kP[2]-kP[0];eP=kP[3]-kP[1]}var as=new gi;as.translate(-ac/2,-jR/2);as.rotate(Math.atan2(-eP,eo));
as.translate(ac/2,jR/2);var kF=i0[0]+E.OffsetX,kW=i0[1]+E.OffsetY;as.translate(kF,kW);w.add.lnsr="rend";
w.add.TySh=jM.de(0,0);w.add.TySh.LS=new iW(0,0,500,500);w.add.TySh.M=as;var hs=w.add.TySh.Oo,gc=B.I$(dj[dS]);
w.qv(gc);jM.Uh(hs,0,gc);jM.kM(hs,1);jM.eg(hs,[0,0,ac,jR]);if(be)for(var n=0;n<be.length;n++){var fK=be[n],lo=fK[0],cR=lo+fK[1],fU=fK[2],g8=jM.Sj(hs,lo,cR),i2=s.u3/72*eW.size/100;
if((fU&512)!=0)i2*=fK[6]/100;g8.Uy.FontSize=Math.round(i2);var k=(fU&256)!=0?fK.slice(3):eW.colr;g8.Uy.FillColor={Type:1,Values:[1,k[0]/65535,k[1]/65535,k[2]/65535]};
var jQ=fK[7]==""?eW.font:fK[7];if(cI){if(cI[n])jQ=cI[n][1];else for(var ad=0;ad<cI.length;ad++)if(cI[ad][0]==jQ)jQ=cI[ad][1]}jM.aW(g8,jQ);
jM.yx(hs,lo,cR,g8)}if(w.S.k()==0)s.Um=!0;else{w.S=new iW(kF,kW,ac,jR);w.buffer=f.m(w.S.k()*4);f.wH(aj.buffer,aj.S,w.buffer,w.S)}}}}var eS=N.VectorObjectList;
if(E.VectorNormalType!=null&&eS&&p(eS,"LayerId",Q)){var ji=p(eS,"LayerId",Q).VectorData,l7=r(N,ji),j_=$(G,l7);
if(j_){var hb=null;if(w.add.TySh){var hb=w.b();s.U.push(hb);delete w.add.TySh}T(w,E,j_[0]);if(w.h5()){w.Xw|=24;
var ah=s.vv();ah.qv(w.getName());ah.JS=w.JS;s.U.push(ah);T(ah,E,j_[0]);D(ah,j_);ah.tG(s)}else{D(w,j_,hb!=null)}w.tG(s);
if(hb){hb.add.TySh.M.concat(new gi(1,0,0,1,w.S.x+w.S.r/2,w.S.y+w.S.$/2))}}}if(af)w.add.lmfx=o;if(Q==m.CurrentLayer)s.l=[s.U.indexOf(w)];
Q=E.NextIndex}}function K(N,G,s,Q){N.x+=G[s+"OffscrOffsetX"]+G[Q+"OffsetX"];N.y+=G[s+"OffscrOffsetY"]+G[Q+"OffsetY"]}function T(N,G,s){N.add.vmsk=new jn.rz;
f.Q.M(s.I,new gi(1,0,0,1,G.OffsetX,G.OffsetY),s.I);N.add.vmsk.D=f.Q.Q$(s);N.bB()}function D(N,G,s){var Q=G[1][0],q=G[2][0];
N.Xw|=16;var R=N.add.vstk=kV.UY.yu(!0,!0);R.fillEnabled.v=s==!0;N.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:255,L:255,X:255})}};
R.strokeStyleContent.v.Clr.v=f.iF.Zi({C:Q[0],L:Q[1],X:Q[2]});R.strokeStyleLineWidth.v.val=q*2;R.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return U}();
b3.S7.afv=function(d,v){var t={Mp:d,rZ:v+8},Y=0;function h(c){var S=B.BT(c.Mp,c.rZ);c.rZ+=4;return S}function X(c){var S=h(c);
if(S>200)throw S;var C=B.Kl(c.Mp,c.rZ,S);c.rZ+=S*2;return C}function g(c){var S=h(c);if(h(c)!=4)throw"e";
var a=[];for(var n=0;n<S;n++)a.push(h(c));return a}var x=B.yJ(t.Mp,t.rZ);t.rZ+=8;var Z=t.rZ+x;t.rZ+=56;
var a=[];while(t.rZ<Z){var z=h(t),p=t.rZ+z-4;if(p>Z)throw"e";if(z==11){t.rZ-=4;var U=X(t),l=h(t);if(l!=12)throw"e";
var L=g(t),j=X(t),l=h(t);if(l!=12)throw"e";var O=g(t);if(t.rZ!=Z)throw"e"}else{var F=X(t),$=h(t);if($!=Y)throw $;
Y++;var H=B.ZT(t.Mp,t.rZ);t.rZ+=2;if(H!=0&&H!=1&&H!=2&&H!=5)throw H;var b=t.Mp[t.rZ++];if(b!=0&&b!=32&&b!=64)throw b;
var r=h(t);if(r!=1)throw r;if(h(t)!=1)throw"e";if(t.Mp[t.rZ++]!=0)throw"e";if(h(t)==1){var W=h(t),V=B.ij(t.Mp,t.rZ);
if(W!=V+4)throw"e";a.push(new Uint8Array(t.Mp.buffer,t.rZ+4,V));t.rZ+=W}else a.push(new Uint8Array(0));
var y=X(t);if(t.rZ!=p)throw t.rZ}}return a};b3.P2={};b3.P2.e4=!0;b3.P2.CE=function(d,v){c8.lS(d,v)};
b3.Jd={};b3.Jd.e4=!0;b3.Jd.CE=function(d,v){var t=Date.now(),h=lp.parse(d),X=B.ce,g=B.cY,x=h.LtfHeader,Z=0,Y=X(x,Z);
Z+=4;if(Y!=x.length)throw"e";var a=X(x,Z);Z+=4;if(a!=4609100)throw"e";var z=X(x,Z);Z+=4;if(z!=400&&z!=500&&z!=600)throw z;
var p=g(x,Z);Z+=2;if(p!=2&&p!=4&&p!=32)throw p;var U=g(x,Z);Z+=2;var l=X(x,Z),L=X(x,Z+4);Z+=8;var j=X(x,Z)/1e4;
Z+=8;var z=X(x,Z),p=X(x,Z+4);Z+=8;if(z!=0&&z!=1&&z!=2)throw z;if(z==600)for(var n=0;n<20;n++)if(x[Z+n]!=0)throw n;
Z+=20;var z=X(x,Z);Z+=4;if(z!=0&&z!=1)throw z;var O=X(x,Z);Z+=4;if(O!=0&&O!=1)throw O;for(var n=0;n<476;
n++)if(x[Z+n]!=0)throw n;Z+=476;var F=Z+104;v.r=l;v.$=L;v.buffer=f.m(l*L*4);var i=h.LtfMainPalette,$=h.LtfObjectList;
Z=0;if($){var bW=X($,0);if(X($,4)!=bW)throw"e";for(var H=0;H<bW;H++){Z=8+H*192;var b=Z+128;while($[b]!=0)b+=2;
var r=B.Ix($,Z+128,b-(Z+128)>>>1);b3.Jd.x_(h[r],v,i)}}var W=v.vv();v.U.push(W);W.qv("Background");if(h.LtfMainImage){var V=b3.Jd._8(h.LtfMainImage,null,i);
W.buffer=V[0];W.S=V[1]}else{W.S=new iW(0,0,l,L);var y=X(x,F);b3.Jd.aIP(W,i?X(i,2+y*4):y)}v.U.reverse()};
b3.Jd.aC0=function(d){var v="";for(var n=0;n<d.length;n++){var t=""+d[n];while(t.length<3)t=" "+t;v+=t+", "}return v};
b3.Jd.x_=function(d,v,t){var h=B.ce,X=v.vv(),x=0;v.U.push(X);var g=d.ObjectData;if(h(g,0)!=g.length)throw"e";
x+=4;var Z=x;while(g[Z]!=0)Z++;X.qv(B.o3(g,x,Z-x));x=Z+1;if(Z==5){if(g[x]!=0)throw"e";x++}var Y=d.ObjectMask0,a=d.PathStream;
if(a&&Y==null){var z=X.add.vmsk=new jn.rz;z.D=b3.Jd.ii(a);X.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:g[232],L:g[233],X:g[234]})}};
X.add.vstk=kV.UY.yu(!0);X.tG(v)}if(Y==null)return;X.S=new iW(h(Y,0),h(Y,4),h(Y,8),h(Y,12));if(d.ObjectImage){var p=b3.Jd._8(d.ObjectImage,null,t,X.S.r);
if(p[1].r!=X.S.r)throw"e";X.buffer=p[0]}else b3.Jd.aIP(X,h(g,188));b3.Jd._8(new Uint8Array(Y.buffer,16),X.buffer)};
b3.Jd.aIP=function(d,v){d.buffer=f.m(d.S.k()*4);f.pl(d.buffer,255<<24|v)};b3.Jd.ii=function(d){var v=B.cY,t=B.ce,h=B.fc,x=0;
function X(O,F){var i=v(O,F),$=v(O,F+2);return $}var g=pako.inflate(d.slice(12));x=128;for(var n=0;n<260;
n++)if(g[x+n]!=0)throw n;x+=260;if(t(g,x)!=50)throw"e";x+=4;if(t(g,x)!=0)throw"e";x+=4;if(t(g,x)!=0)throw"e";
x+=4;var Z=t(g,x);x+=4;var Z=t(g,x);if(Z!=106&&Z!=186&&Z!=196&&Z!=236)throw t(g,x);x+=4;if(t(g,x)!=0)throw"e";
x+=4;if(t(g,x)!=24)throw"e";x+=4;if(t(g,x)!=0)throw"e";x+=4;var Z=t(g,x);x+=4;var Y=t(g,x);x+=4;if(t(g,x)!=0)throw"e";
x+=4;if(t(g,x)!=0)throw"e";x+=4;if(t(g,x)!=1280)throw"e";x+=4;for(var n=0;n<24;n++)if(g[x+n]!=0)throw n;
x+=24;var a=t(g,x);x+=4;if(42+a*10!=Y)throw"e";var z=t(g,x);x+=4;var p=t(g,x);x+=4;var U=[{e:6},{e:8,all:0}];
U.push({e:0,length:a,qG:0,Dk:2,xu:0,L8:0});for(var n=0;n<a;n++){var l=X(g,x+2),L=X(g,x+6),j=new cK(l,L);
U.push({e:2,dH:j.b(),Z:j,KU:j.b()});x+=10}return U};b3.Jd._8=function(d,v,t,h){var X=B.ce,g=B.kQ,x=b3.Jd.aC0,Z=0,Y=X(d,Z),L,j=0,D;
Z+=4;var a=X(d,Z);Z+=4;var z=X(d,Z);Z+=4;var p=X(d,Z);Z+=4;var U=X(d,Z);Z+=4;var l=Y*a,O=d.length;if(l==O-20)L=new Uint8Array(d.buffer,20+d.byteOffset);
else if(z==64*64*3||v&&z==64*64){var F=b3.bV("jpg"),i=0,$=0;L=f.m(Y*a);while(Z<d.length){var H=X(d,Z);
Z+=4;var b=F.CE(d.slice(Z,Z+H))[0],p=b._S,r=new Uint8Array(b.data),W=v?Y:Y/3;for(var V=0;V<p.$;V++)for(var y=0;
y<p.r;y++){var c=V*p.r+y,S=(V+$)*W+(y+i);if(v)L[S]=r[c*4];else{L[S*3+0]=r[c*4+2];L[S*3+1]=r[c*4+1];L[S*3+2]=r[c*4+0]}}i+=64;
if(i>W){$+=64;i=0}Z+=H}}else{L=f.m(l);for(var c=0;c<l;c+=z){var C=c+z,K=X(d,Z);Z+=4;while(j<C&&Z<O){var T=d[Z];
Z++;if(T<128)for(var n=0;n<T+1;n++){L[j++]=d[Z++];if(v)continue;L[j++]=d[Z++];L[j++]=d[Z++]}else{T-=127;
for(var n=0;n<T;n++){L[j++]=d[Z+0];if(v)continue;L[j++]=d[Z+1];L[j++]=d[Z+2]}Z+=v?1:3}}}}if(v){for(var n=0;
n<l;n++)v[n*4+3]=L[n];return[L,new iW(0,0,Y,a)]}if(t){D=f.m(l*4);for(var n=0;n<l;n++){var N=n<<2,z=2+L[n]*4;
D[N]=t[z];D[N+1]=t[z+1];D[N+2]=t[z+2];D[N+3]=255}}else if(h!=null&&h==Y){D=f.m(l*4);D.fill(255);for(var n=0;
n<l;n++)D[n*4+0]=D[n*4+1]=D[n*4+2]=L[n]}else{Y=Math.round(Y/3);l=Y*a;D=f.m(l*4);for(var n=0;n<l;n++){var S=n*3,N=n<<2;
D[N]=L[S];D[N+1]=L[S+1];D[N+2]=L[S+2];D[N+3]=255}}return[D,new iW(0,0,Y,a)]};b3.kb={};b3.kb.e4=!0;b3.kb.CE=function(){var d=B.kQ,v=B.ij,t=0;
function h(g,x){t=d(g,x+2);console.log("nFib",t,t.toString(16));x+=32;if(d(g,x)!=14)throw"e";x+=2;x+=28;
if(d(g,x)!=22)throw"e";x+=2;var Z=v(g,x);x+=4;x+=8;var Y=v(g,x);x+=4;var a=v(g,x);x+=4;var z=v(g,x);
x+=4;x+=4;var p=v(g,x);x+=4;var U=v(g,x);x+=4;var l=v(g,x);x+=4;var L=v(g,x);x+=4;x+=11*4;var j=d(g,x);
x+=2;for(var n=0;n<j;n++){var O=v(g,x),F=v(g,x+4);x+=8}}function X(g,x){var Z=lp.parse(g);console.log(Z);
var Y=["WordDocument","Data"],a=new iW;for(var z=0;z<Y.length;z++){var p=Z[Y[z]],U=[],l=0;while(l<p.length){var L=B.M5(p,[255,216,255],l);
if(L==-1)break;U.push(L);l=L+1}var j=[];for(var n=0;n<U.length;n++){var O=p.slice(U[n],U[n+1]),F=b3.$y.CE(O.buffer)[0];
a=a.Ue(F._S);var i=x.vv();x.U.push(i);i.qv("Layer");i.S=F._S;i.buffer=new Uint8Array(F.data)}}if(x.U.length==0){alert("No images found inside a document.");
return}x.r=a.r;x.$=a.$;x.buffer=f.m(a.k()*4)}return X}();b3.aEq={};b3.aEq.CE=function(d){var v=new Uint8Array(d),t=B.ij,x=16;
if(B.o3(v,0,4)!="chlv")throw"e";var h=t(v,4),X=t(v,8),g=t(v,12),Z=[];while(x<v.length){var Y=t(v,x),a=t(v,x+48),z=t(v,x+52),p=a*z,U=a*4,l=f.m(a*z*4);
l.fill(255);for(var L=0;L<z;L++)for(var j=0;j<a;j+=4){var n=L*a+j,O=n*4,F=x+108+(n>>>2)*6;l[O]=v[F+1];
l[O+4]=v[F+3];l[O+8]=v[F+4];l[O+12]=v[F+5];for(var i=0;i<16;i+=4){l[O+i+1]=v[F+0];l[O+i+2]=v[F+2]}}var $=new Int8Array(l.buffer),H=new Uint8ClampedArray(l.buffer);
for(var L=0;L<z;L++)for(var j=0;j<a;j++){var n=(L*a+j)*4,b=l[n],r=$[n+1],W=$[n+2],V=b+(45*W>>5),y=b-(11*r+23*W>>5),c=b+(113*r>>6);
H[n]=V;H[n+1]=y;H[n+2]=c}x+=Y+4;Z.push({_S:new iW(0,0,a,z),data:l.buffer,IB:"_a_"+Z.length})}return Z};
b3.Je={};b3.Je.e4=!0;b3.Je.V$=function(d,v){var t={BP:d.Y.BP,O_:[]},h=[],X=jG.gF(d),g=jG.PP(d),Y=0,F=0;
if(X.length==1&&X[0][3]==120){}else h.push({Y:{jJ:500,list:X}});if(g.length==1&&g[0][3].join(",")=="4,4"){}else h.push({Y:{jJ:501,list:g}});
for(var n=0;n<d.U.length;n++){var x=d.U[n];if(x.Y.jJ<500)h.push(x)}var Z={};Z[200]=9;for(var a=0;a<h.length;
a++){var x=h[a],z=x.Y,p=9,L=0;if(z.jJ<200){p=Z[z.jJ];if(p==null){p=Z[z.jJ]=Math.min(15,Y);Y++;if(Y==9)Y++}}var U={dl:[]};
t.O_.push(U);if(z.jJ<=200){if(z.jJ!=0&&z.jJ!=200)U.dl.push([0,12,p,z.jJ]);var l=Math.round((x.ZC()?1:0)*z.volume*127);
if(l!=127)U.dl.push([0,11,p,7,l]);if(!v)U.dl.push([0,15,15,3,x.getName()])}for(var n=0;n<z.list.length;
n++){var j=z.list[n];if(z.jJ<=200){U.dl.push([j[0],9,p,j[2],j[3]]);U.dl.push([j[0]+j[1],9,p,j[2],0])}else if(z.jJ==300){U.dl.push([j[0],15,15,1,""+j[3]])}else if(z.jJ==500){var O=Math.round(6e7/j[3]);
U.dl.push([j[0],15,15,81,[O>>>16&255,O>>>8&255,O>>>0&255]])}else if(z.jJ==501){var O=j[3];U.dl.push([j[0],15,15,88,[O[0],{1:0,2:1,4:2,8:3,16:4,32:5}[O[1]],24,8]])}else console.log(z.jJ);
L=Math.max(L,j[0]+j[1])}}var i=[];for(var a=0;a<h.length;a++)if(500<=h[a].Y.jJ)F=a+1;for(var n=0;n<=F;
n++)i=i.concat(t.O_[n].dl);t.O_=[{dl:i}].concat(t.O_.slice(F+1));if(v){var $=96,H=$/t.BP;t.BP=$;for(var b=0;
b<t.O_.length;b++){var U=t.O_[b];for(var n=0;n<U.dl.length;n++){U.dl[n][0]=Math.round(U.dl[n][0]*H)}}}for(var n=0;
n<t.O_.length;n++){var U=t.O_[n];U.dl.sort(function(W,V){if(W[0]==V[0]){if(W[1]>9)return-1;if(V[1]>9)return 1;
if(W[2]==V[2])return W[3]-V[3]}return W[0]-V[0]});b3.Je.a1q(U.dl)}var r=he.Al(t);return r.buffer};b3.Je.a1q=function(d){var v=0;
for(var n=0;n<d.length;n++){var t=d[n],h=v;v=t[0];t[0]-=h}};b3.Je.CE=function(d,v,t){var h=he.lS(new Uint8Array(d));
console.log(h);v.Y.BP=h.BP;var X=b3.Je.Sn(JSON.parse(JSON.stringify(h.O_))),g=b3.Je.amO(X,v.Y),x=g[0],Z=g[1],Y=[];
for(var a in x){var z=a.split("/").map(parseFloat),p=z[0],U=z[1];if(Y[U]==null)Y[U]=[];Y[U].push(a)}for(var U=0;
U<Y.length;U++){var l=Y[U];if(l==null)continue;for(var L=0;L<l.length;L++){var a=l[L],z=a.split("/").map(parseFloat),p=z[0],j=x[a];
if(j==null||j.length==0)continue;var O=h.O_[U].name;if(O==null||Y.length<3)O=MIDDB.list[p];var F=v.vv();
v.U.push(F);F.qv(O);F.Y.jJ=p;F.Y.list=j;F.Y.volume=p>200?1:Z[a];if(p<=200&&Z[a]==0){F.fF(!1);F.Y.volume=1}}}v.r=v.$=1;
if(j8==0)v.buffer=f.m(v.r*v.$*4);v.oJ()};b3.Je.Sn=function(d){var v=[];for(var t=0;t<d.length;t++){var h=0,X=d[t].dl;
for(var n=0;n<X.length;n++){var g=X[n];g.push(t);g[0]+=h;h=g[0];v.push(g)}}v.sort(function(x,Z){return x[0]-Z[0]});
return v};b3.Je.amO=function(d,v){var t=new Array(16),h=new Array(16),X=new Array(16);X.fill(1);t.fill(0);
t[9]=200;var g={},x={},Z=g["500/0"]=[],Y=g["300/0"]=[],a=g["501/0"]=[];for(var n=0;n<d.length;n++){var z=d[n],p=z.pop(),U=z[0],l=z[1],L=z[2],j=z[3],O=z[4];
if(l==9&&O==0)l=8;if(!1){}else if(l==15&&L==15){var F=j;j=O;if(!1){}else if(F==1||F==2||F==3||F==4||F==5||F==6){if(j!=null)Y.push([U,100,9,j])}else if(F==32){}else if(F==33){}else if(F==47){}else if(F==75){}else if(F==81){Z.push([U,300,11,6e7/(j[0]<<16|j[1]<<8|j[2])])}else if(F==84){}else if(F==88)a.push([U,300,12,[j[0],1<<j[1]]]);
else if(F==89){}else if(F==127){}else console.log(F.toString(16),j)}else if(l==15&&L==0){}else if(l==11){if(j==-1){}else if(j==0){}else if(j==1){}else if(j==6){}else if(j==7){if(X[L]==1)X[L]=O/127}else if(j==10){}else if(j==11){}else if(30<=j&&j<=33){}else if(j==38){}else if(j==45){}else if(46<=j&&j<=47){}else if(48<=j&&j<=51){}else if(52<=j&&j<=63){}else if(j==64){}else if(j==67){}else if(70<=j&&j<=79){}else if(j==91){}else if(j==92){}else if(j==93){}else if(j==94){}else if(j==95){}else if(j==98){}else if(j==99){}else if(j==100){}else if(j==101){}else if(j==120){}else if(j==121){}else if(j==123){}else{console.log(z);
throw j+":"+O}}else if(l==12){t[L]=L==9?200:j;if(j>127&&j!=200)throw j}else if(l==13){}else if(l==14){}else if(l==9){var i=t[L],$=i+"/"+p;
x[$]=X[L];if(h[L]==null)h[L]=new Array(128);if(g[$]==null)g[$]=[];if(h[L][j])continue;var H=h[L][j]=[U,0,j,O];
g[$].push(H)}else if(l==8){if(h[L]==null)continue;var H=h[L][j];if(H==null)continue;if(H[2]!=j)throw"e";
if(H[1]!=0)throw"e";H[1]=U-H[0];h[L][j]=null}else if(l==10)continue;else{console.log(z);throw l}}if(Z.length==0)Z.push([0,300,11,120]);
return[g,x]};b3.aP={};b3.aP.e4=!0;b3.aP.V$=function(d,v){var t=new Uint8Array(b3.Je.V$(d,!0)),h=B.ZT(t,10),X=B.ZT(t,12),g=new Uint8Array(t.length),x=4,Z=x+4*h,Y=14;
B.PT(g,0,h-1);B.PT(g,2,X);for(var a=0;a<h;a++){var z=B.BT(t,Y+4);B.NI(g,x,z);x+=4;g.set(t.slice(Y+8,Y+8+z),Z);
Z+=z;Y+=8+z}return pako.deflateRaw(g.slice(0,Z),{level:9}).buffer};b3.aP.CE=function(d,v,t){var h=pako.inflateRaw(d),X=B.ZT(h,0)+1,g=B.ZT(h,2),x=4,Z=x+4*X,Y=new Uint8Array(h.length-4+X*4+14),a=0;
B.js(Y,a,"MThd");a+=4;B.NI(Y,a,6);a+=4;B.PT(Y,a,1);a+=2;B.PT(Y,a,X);a+=2;B.PT(Y,a,g);a+=2;for(var n=0;
n<X;n++){var z=B.BT(h,x);x+=4;B.js(Y,a,"MTrk");a+=4;B.NI(Y,a,z);a+=4;Y.set(h.slice(Z,Z+z),a);Z+=z;a+=z}b3.Je.CE(Y.buffer,v)};
b3.tO={};b3.tO.e4=!0;b3.tO.V$=function(d,v,t,h,X){};b3.tO.CE=function(d,v,t){var h=192,j=0,O=0;v.Y.BP=h;
var X=new Uint8Array(d),g=b3.tO.abQ(X);console.log(g);var x=g.Tracks,Z=g.Bars;for(var n=0;n<x.length;
n++){var Y=x[n],a=g.ChannelData[Y.Channel-1],z=v.vv();v.U.push(z);z.qv(Y.Name);z.Y.jJ=Y.Channel==10?200:a[0];
z.Y.volume=a[1]/16}var p=v.vv();v.U.push(p);p.Y.jJ=500;p.qv("Tempo");p.Y.list.push([0,h,11,g.BPM]);var U=v.vv();
v.U.push(U);U.Y.jJ=501;U.qv("Time Signature");var l=g.BPM,L=l;for(var F=0;F<Z.length;F++){var i=Z[F],$=g.MasterBars[F].Time,H=Math.round($[0]*(4/$[1]));
if(H!=j){U.Y.list.push([O*h,h,12,$.slice(0)]);j=H}for(var b=0;b<i.length;b++){var Y=i[b],r=v.U[b].Y.list,W=x[b].Tuning,V=x[b].Values[2];
for(var y=0;y<Y.length;y++){var c=Y[y],$=0;for(var S=0;S<c.length;S++){var C=c[S],K=h*4>>>C.Duration,T=C.Strings,D=C.Tuplet;
if(D){if(D==3||D==6)K=Math.round(K*2/3);else{console.log(b,F)}}if(C.BPM)L=C.BPM;if(C.Dotted)K+=K>>>1;
for(var N=0;N<T.length;N++){var G=T[N],s=6-G[0],Q=G[1],q=G[3],R=G[4],m=Q==3?Math.round(h/16):K;if(R[0]==1)m=m>>>1;
if(Q==2){if(r[r.length-1])r[r.length-1][1]+=m}else r.push([O*h+$,m,W[s]+q+V,128*G[2]/8])}$+=K}}}if(L!=l)p.Y.list.push([O*h,h,11,L]);
l=L;O+=H}if(g.Lyrics){var z=v.vv(),E=g.Lyrics[2];v.U.push(z);z.qv("Lyrics");z.Y.jJ=300;z.Y.list.push([0,50,9,E])}v.oJ()};
b3.tO.abQ=function(){var d=null,v=0,t=new Int8Array(1),h=new Uint8Array(t.buffer);function X(){return d[v++]}function g(){h[0]=X();
return t[0]}function x(){v+=4;return B.ij(d,v-4)}function Z(){v+=4;return B.ce(d,v-4)}function Y(){v+=2;
return B.kQ(d,v-2)}function a(){var L=d[v],j=B.o3(d,v+1,L);v+=1+L;return j}function z(){var L=x();return a()}function p(L,j){for(var n=0;
n<L.length;n++)j[L[n]]=z()}function U(L){d=L;v=31;var j=parseFloat(B.o3(d,21,4)),T=1,D=1,N=0,G=0;console.log("Version: "+j);
var O={},F=O.Score={},i=["Title","SubTitle","Artist","Album"];if(5<=j)i.push("Words Lyricist");i.push("Music Composer","Copyright","Tab Transcriber","Instructions");
p(i,F);var $=x();for(var n=0;n<$;n++){var H=z();console.log("Notice "+n+":",H)}if(j<=4.06)X();if(4<=j){var b=x();
for(var n=0;n<5;n++){var r=x(),W=x();if(W!=0)O.Lyrics=[b,r,B.o3(d,v,W)];v+=W}}if(5<j)v+=4+4+11;if(5<=j){var V=F.PageSetup=[];
for(var n=0;n<6;n++)V.push(x());V.push(x()/100);var y=Y();if(y!=511)throw"e";var i="Title,Subtitle,Artist,Album,Words Lyricist,Music Composer,Words & Music,Copyright L1,Copyright L2,Page Number".split(","),c={};
p(i,c)}if(5<=j){var S=z();if(S!="")F["Tempo String"]=S}O.BPM=x();if(5<j)X();if(4<=j)v+=5;else v+=4;O.ChannelData=[];
for(var n=0;n<64;n++){O.ChannelData.push([x(),X(),X(),X(),X(),X(),X()]);v+=2}if(5<=j)v+=38;if(5<=j)v+=4;
var C=x(),b=x();console.log(C+" bars, "+b+" tracks");var K=O.MasterBars=[];for(var s=0;s<C;s++){var Q=X(),q={};
K.push(q);if(j<3)throw"e";else{if(Q&1)T=X();if(Q&2)D=X();if(Q&4){q.startRepeat=!0}if(Q&8){q.endRepeat=!0;
q.repeatCount=X()}q.Time=[T,D];if(j<5){if(Q&16){q.alternateEnding=X()}if(Q&32){var H=z(),R=x();console.log(H,R)}if(Q&64){var N=X(),G=X();
console.log(N,G)}}else{if(Q&32){var H=z(),R=x()}if(Q&64){N=X();G=X()}if(Q&3){var m=x()}var E=X(),e=X();
if(2<e)throw"e";var w=X()}q.Key=[N,G]}}var M=O.Tracks=[];for(var P=0;P<b;P++){var I={};M.push(I);var Q=X(),k=v+41;
I.Name=a();v=k;var o=x();console.log(I.Name,o);var af=I.Tuning=[];for(var n=0;n<7;n++)af.push(Z());I.Port=x();
I.Channel=x();var J=I.Values=[];for(var n=0;n<3;n++)J.push(x());I.Color=x();if(5<j){v+=6;v+=31;v+=8;
v+=4;var at=z(),ke=z();console.log(at,ke)}if(5==j)v+=45}if(5<=j)X();var c_=O.Bars=[];for(var ag=0;ag<C;
ag++){var q=[];c_.push(q);for(var P=0;P<b;P++){var I=[];q.push(I);for(var dz=0;dz<(5<=j?2:1);dz++){var kL=[];
I.push(kL);var aq=x();if(aq>200)throw aq;for(var s=0;s<aq;s++){var dh={},gK=1;kL.push(dh);var Q=X();
if(Q&1)dh.Dotted=!0;if(Q&64){gK=X();if(gK!=0&&gK!=2)throw gK}dh.Type=gK;var ad=g();dh.Duration=ad+2;
if(ad>4)throw ad;if(Q&32){dh.Tuplet=x()}if(Q&2){var dc=X();if(dc==0){var lq=z(),hn=x();if(hn!=0)throw"e"}else{var dF=X();
v+=3;var c3=X();if(3==j)v+=3;var i8=X();if(3==j)v+=3;var $=X();if(3==j)v+=3;var dr=x(),jO=X();v+=4;var k=v+21,d1=a();
v=k;if(Y()!=0)throw"e";var h3=[];for(var n=0;n<3;n++){h3.push(X());if(3==j)v+=3}var d5=[];for(var n=0;
n<8;n++)d5.push(Z());var em=X(),fl=[[],[],[],[],[]];for(var lA=0;lA<3;lA++){for(var n=0;n<5;n++)fl[n].push(X())}var av=[];
for(var n=0;n<7;n++)av.push(X());if(X()!=0)throw"e";var ah=[];for(var n=0;n<7;n++)ah.push(g());var gE=X()}}if(Q&4)dh.Text=z();
if(Q&8){var fj=X();if(4<=j)fj=fj|X()<<8;if(fj&16){}if(fj&32){var bR=X();if(j<4)x()}if(fj&1024){var bD=l()}if(fj&64){X();
X()}if(fj&512)throw"e"}if(Q&16){var e1=g(),aj=0;if(e1!=-1)console.log("new instrument",e1);if(5<=j){var am=[x(),x(),x(),x()]}var dj=[g(),g(),g(),g(),g(),g()];
if(5<=j)z();var ja=Z(),dS=[];for(var n=0;n<6;n++)dS.push(dj[n]==-1?0:X());if(ja!=-1){aj=X();if(5<j)X();
dh.BPM=ja}if(4<=j)X();if(5<=j)X();if(5<j)console.log(z(),z())}var eW=X(),be=dh.Strings=[];for(var cI=7;
cI>=0;cI--){if((eW&1<<cI)==0)continue;var kP=X(),i0=1,ac=6,hn=0,ah=null,jR=0;if(kP&32)i0=X();if(j<5&&kP&1){X();
X()}if(kP&16)ac=X();if(kP&32)hn=Math.max(0,g());if(kP&128)ah=[X(),X()];if(5<=j&&kP&1)v+=8;if(5<=j)X();
var eo=[cI,i0,ac,hn,[0]];be.push(eo);if(kP&8){var fj=X();if(4<=j)fj=fj|X()<<8;if(fj&1){var eP=l()}if(fj&16){var hn=X(),as=X(),kF=0;
if(5<=j)kF=X();else X();var kW=X();if(5<=j)X()}if(fj&256)eo[4][0]=1;if(fj&1024)throw"e";if(fj&2048){g();
console.log("slide")}if(fj&4096){var hs=X();if(hs==2)v+=3;if(hs==3)v+=1}if(fj&8192)throw"e"}}if(5<=j){var gc=X(),fK=X(),lo=-1;
if(fK==8||fK==10)lo=X()}}}if(5<=j)X()}}return O}function l(){var L=X(),j=x(),O=x(),F=[];for(var n=0;
n<O;n++){var i=x(),$=x(),H=X();F.push([i,$,H])}return[L,j,F]}return U}();b3.Lk={};b3.Lk.e4=!0;b3.Lk.V$=function(d,v,t,h,X){};
b3.Lk.CE=function(d,v,t){var h=new Uint8Array(d);b3.Lk.aqx(h,v)};b3.Lk.aqx=function(){var d,v;function t(z,p){d=a(z);
var U=g(d),l=B.ij(d,8336),L=U["score.gpif"],j=B.I$(L,0,L.length),O=new DOMParser,F=O.parseFromString(j,"image/svg+xml"),i=F.firstChild,$=192,M=0,c_=null;
p.Y.BP=$;var H=h(i,"Tracks").children,b=[],r=[];for(var n=0;n<H.length;n++){var W=H[n],V=h(W,"GeneralMidi"),y=h(W,"Properties"),c=h(W,"Instrument").getAttribute("ref"),N=0;
r.push(n);if(c.endsWith("-gs")||c.endsWith("GrandStaff"))r.push(n);var S=p.vv();p.U.push(S);S.qv(X(W,"Name"));
S.Y.jJ=X(V,"PrimaryChannel",1)==9?200:parseInt(X(V,"Program",1));if(y)for(var K=0;K<y.children.length;
K++){var T=y.children[K];if(T.getAttribute("name")=="Tuning")b[n]=X(T,"Pitches").split(" ").map(parseFloat)}var D=X(h(h(W,"RSE"),"ChannelStrip"),"Parameters").split(" ").map(parseFloat);
for(var K=0;K<D.length;K++)N+=D[K]}var G=h(i,"MasterBars").children,s=h(i,"Bars").children,Q=h(i,"Voices").children,q=h(i,"Beats").children,R=h(i,"Notes").children,m=h(i,"Rhythms").children,E=[];
for(var e=0;e<G.length;e++)E[e]=X(G[e],"Time").split("/").map(parseFloat);var w=[];for(var n=0;n<E.length;
n++){w.push(M);var P=E[n];M+=P[0]*4/P[1]}var I=h(h(i,"MasterTrack"),"Automations").children,k=p.vv();
p.U.push(k);k.Y.jJ=500;k.qv("Tempo");var o=p.vv();p.U.push(o);o.Y.jJ=501;o.qv("Time Signature");var af=p.vv();
p.U.push(af);af.Y.jJ=300;af.qv("Lyrics");for(var n=0;n<I.length;n++){var J=I[n];if(X(J,"Type")!="Tempo")continue;
var at=X(J,"Bar",1),ke=parseFloat(X(J,"Value").split(" ")[0]);k.Y.list.push([w[at]*$,$,11,ke])}for(var n=0;
n<E.length;n++){var M=E[n],ag=M.join("/");if(ag!=c_){o.Y.list.push([w[n]*$,$,12,M]);c_=ag}}var dz=[];
for(var n=0;n<H.length*10;n++)dz.push([]);var kL=[];for(var e=0;e<G.length;e++){var aq=G[e],dh=X(aq,"Bars").split(" ").map(parseFloat),gK=Math.min(dh.length,H.length);
for(var ad=0;ad<dh.length;ad++){var P=r[ad];if(P==-1)continue;var at=s[dh[ad]],dc=X(at,"SimileMark");
if(dc=="Simple")at=kL[ad];else kL[ad]=at;var lq=p.U[P].Y.list,hn=X(at,"Voices").split(" ").map(parseFloat);
for(var dF=0;dF<hn.length;dF++){if(hn[dF]==-1)continue;var c3=Q[hn[dF]],i8=X(c3,"Beats").split(" ").map(parseFloat),dr=0;
for(var jO=0;jO<i8.length;jO++){var d1=q[i8[jO]],h3=X(d1,"Notes"),d5=h(d1,"Lyrics"),em=h(d1,"Rhythm").getAttribute("ref"),fl=X(d1,"Dynamic"),lA={P:.2,MP:.4,MF:.6,F:.8,FF:.9,FFF:1}[fl];
if(lA==null)throw fl;if(d5){var d5=d5.children[0].textContent.trim();if(d5!="")af.Y.list.push([w[e]*$+dr,100,7,d5])}var av=m[em],ah=X(av,"NoteValue"),gE=h(av,"PrimaryTuplet"),fj=h(av,"AugmentationDot")!=null,bR={Whole:0,Half:1,Quarter:2,Eighth:3,"16th":4,"32nd":5}[ah];
if(bR==null)throw ah;bR=($*4>>>bR)*(fj?1.5:1);if(gE){var bD=parseFloat(gE.getAttribute("num")),e1=parseFloat(gE.getAttribute("den"));
bR=Math.round(bR*e1/bD);if(fj)throw"e"}if(h3==null){dr+=bR;continue}h3=h3.split(" ").map(parseFloat);
for(var am=0;am<h3.length;am++){var dj=h(R[h3[am]],"Properties").children,ja=h(R[h3[am]],"Tie"),j=parseFloat(dj[0].textContent),aj=parseFloat(dj[1].textContent),dS=0,eW=dj[0].getAttribute("name");
if(eW=="Tone"){dS=(aj-1)*12+j}else if(eW=="Element"){if(aj==1)continue;var be=[[1],[3,null,2],null,null,null,[14],null,[10],[12],[15],[7,null,11],[9],[14],[22],[20],[16]][j][aj];
if(be==null)throw"e";dS=35+be}else if(eW=="String")dS=(b[P]?b[P]:[38,43,48,53,57,62])[j]+aj;else throw eW;
if(ja&&ja.getAttribute("destination")=="true"){dz[P][dS][1]+=bR}else{var cI=dz[P][dS]=[w[e]*$+dr,bR,dS,Math.round(lA*128)];
lq.push(cI)}}dr+=bR}}}}if(af.Y.list.length==0)p.U.pop();p.oJ()}function h(bW,z){for(var n=0;n<bW.children.length;
n++){var p=bW.children[n];if(p.tagName==z)return p}}function X(bW,z,p){var U=h(bW,z);if(U==null)return null;
var l=U.textContent;return p?parseFloat(l):l}function g(d){var z={},p=4096,U=4+p;while(U+3<d.length){var l=B.ij(d,U);
if(l===2){var L=4,i=0,$=0,b=0;while(d[U+L]!=0)L++;var j=B.o3(d,U+4,L-4),O=B.ij(d,U+140),F=U+148,H=z[j]=new Uint8Array(O);
while(!0){i=B.ij(d,F+4*$++);if(i!=0){U=4+i*p;if(!0){H.set(new Uint8Array(d.buffer,U,Math.min(p,O-b)),b);
b+=p}}else break}}U+=p}return z}function x(){var z=d[v>>>3],p=z>>>7-(v&7)&1;v++;return p}function Z(bW){var z=0;
for(var n=0;n<bW;n++)z=z<<1|x();return z}function Y(bW){var z=0;for(var n=0;n<bW;n++)z=z|x()<<n;return z}function a(z){d=z;
var p=B.ij(d,4),U=[],l=d.length*8;v=8*8;while(v<l){if(x()==0){var L=Y(2);for(var n=0;n<L;n++)U.push(Z(8))}else{var j=Z(4),O=Y(j),F=Y(j),i=U.length-O;
for(var n=0;n<F;n++)U.push(U[i+n])}}return new Uint8Array(U)}return t}();b3.ir={};b3.ir.e4=!0;b3.ir.RD=[1,25,200,81,30,33,88,100,1,61,58,41,43,84,81,82,88,7,46,14,46,115,105,74,65,4,11,39,20,37,51,200,27,108,12,29,200,1,31,200,200,1,200,1,43,43,41,45,33,28,61,58,81,200,33,81,39,51,28,53,200,57];
b3.ir.aaC="Elec. Piano (Classic),Acoustic Gtr (Classic),Drum Kit,Smooth Synth (Classic),Electric Guitar,Bass Guitar (Classic),Synth Pluck,Scifi,Grand Piano (Classic),French Horn (Classic),Trombone (Classic),Violin (Classic),Cello (Classic),8-Bit Sine,8-Bit Square,8-Bit Sawtooth,8-Bit Triangle,Harpsichord,Concert Harp,Xylophone,Pizzicato,Steel Drums,Sitar,Flute,Saxophone,Ragtime Piano,Music Box,Synth Bass (Classic),Church Organ,Slap Bass,Pop Synth (Classic),Electric Drum Kit,Jazz Guitar,Koto,Vibraphone,Muted E-Guitar,808 Drum Kit,808 Bass,Dist. Guitar (Classic),8-Bit Drum Kit,2013 Drum Kit,Grand Piano,909 Drum Kit,Electric Piano,Distortion Guitar,Cello,Violin,Strings,Bass,Clean Guitar,French Horn,Trombone,Smooth Synth,2023 Drum Kit,Bass Guitar,Synthesizer,Synth Bass,Pop Synth,Acoustic Guitar,Lucent Choir,EDM Kit (E),Brass".split(",");
b3.ir.aI$=[35,36,36,39,39,38,40,31,42,46,55,41,45,48,47,56,50,32];b3.ir.auG=[35,40,42,38,38,52];b3.ir.aNW=[35,36,38,40,40,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,49,59,53,40,57,40];
b3.ir.acX=[35,36,36,40,40,38,45,47,47,48,50,50,37,39,42,42,46,46,49,51];b3.ir.an0=[31,35,36,36,36,36,37,38,40,40,40,40,41,45,50,43,47,48,50,46,44,42,49,57,57,51,59,53,53,55,55,52,54,83,34,80,60,61,62,63,64,65,66,67,68,45,50,45,38,37,68,67,76,77,50,50,50,50,50,50,86,86,86,58,84,56,56,56,27,77,76,75];
b3.ir.CE=function(d,v){var t=new Uint8Array(d),h=b3.ir.aIA(t,0,b3.ir.scheme,"Sequence"),X=v.Y.BP,g=h.settings,x=g?g.instrMap:[],Z=h.note,Y=h.marker,l=1;
if(x==null)x=[];var a={};for(var n=0;n<x.length;n++){var z=x[n].id,p=x[n].value;a[z]=p}if(g)v.Y.VC=g.bpm;
var U={};for(var n=0;n<Z.length;n++){var L=Z[n],x=L.instrument;if(x==null)x=43;var j=a[x],O=x%100,F=L.time;
if(F==null)F=0;var i=L.volume;if(i==null||isNaN(i))i=0;i=Math.min(i,1);if(U[x]==null){var $=U[x]=v.vv();
v.U.push($);var H=b3.ir.RD[O];if(H==null)H=1;$.Y.jJ=H==200?200:H-1;if(j&&j.volume!=null)$.Y.volume=Math.min(1,j.volume);
var b=b3.ir.aaC[O];$.qv((b?b:"Track")+" "+x)}var $=U[x],r=L.type;if(O==31)r+=0;else if(O==36)r=b3.ir.aI$[r-27];
else if(O==39)r=b3.ir.auG[r-31];else if(O==40)r=b3.ir.aNW[r-31];else if(O==42)r=b3.ir.acX[r-27];else if(O==53)r=b3.ir.an0[r-24];
else if([6,13,14,15,16,52,55,59].indexOf(O)!=-1)r+=12;if(r==null){r=L.type;i=0}if(j&&j.detune!=null&&$.Y.jJ!=200)r+=Math.round(j.detune/100);
$.Y.list.push([Math.round(F*X/4),Math.round(L.length*X/4),r,Math.round(i*127)])}var W=v.vv();v.U.push(W);
W.Y.jJ=500;W.qv("Tempo");W.Y.list.push([0,X,11,v.Y.VC]);if(Y)for(var n=0;n<Y.length;n++){var V=Y[n],y=V.setting;
if(y==null)W.Y.list.push([Math.round(V.time*X/4),v.Y.BP,11,V.value])}console.log(h);v.oJ()};b3.ir.scheme={Sequence:{1:["SeqSettings","settings",0],2:["Note","note",1],3:["Marker","marker",1]},SeqSettings:{1:["int64","bpm",0],2:["int64","tSign",0],3:["InsMap","instrMap",1],4:["float","oneMinVol",0]},InsMap:{1:["int64","id",0],2:["InsSettings","value",0]},InsSettings:{1:["float","volume",0],2:["int64","delay",0],3:["int64","reverb",0],4:["float","pan",0],5:["int64","enableEq",0],6:["float","eqLow",0],7:["float","eqMid",0],8:["float","eqHihg",0],9:["float","detune",0],10:["int64","reverbType",0],11:["float","iRevVol",0],12:["int64","distortT",0],13:["float","distVol",0],14:["Synth","synth",0],15:["string","name",0],17:["int64","color",0],18:["int64","bitcrusher",0],19:["int64","bitcrDepth",0],20:["float","bitcrLevel",0]},Synth:{1:["int64","type",0],2:["Envelope","volEnv",0],3:["Envelope","fltEnv",0],4:["float","filter",0],5:["float","resonance",0],6:["int64","filterType",0],7:["int64","lfoEnabled",0],8:["int64","lfoType",0],9:["float","lfoFreq",0],10:["float","lfoLevel",0],11:["int64","lfoTarget",0]},Envelope:{1:["int64","enabled",0],2:["float","attack",0],3:["float","hold",0],4:["float","decay",0],5:["float","sustain",0],6:["float","release",0]},Note:{1:["int64","type",0],2:["float","time",0],3:["float","length",0],4:["int64","instrument",0],5:["float","volume",0]},Marker:{1:["float","time",0],2:["int64","setting",0],3:["int64","instrument",0],4:["float","value",0],5:["int64","blend",0]}};
b3.ir.aw0=function(d,v,t){var h="";for(var n=0;n<t;n++)h+=String.fromCharCode(d[v+n]);return h};b3.ir.aIA=function(d,v,t,h){var X=0,g=function(r){var bW=0,n=0;
while(r[X]>127){bW=bW|(r[X]&127)<<n*7;X++;n++}bW=bW|(r[X]&127)<<n*7;X++;return bW},x=b3.ir.aw0,Z=t[h],a="";
if(Z==null)throw h;var Y={};for(var n=0;n<v;n++)a+="    ";while(X<d.length){var z=g(d),p=z&7,U=z>>>3,l=Z[U],O=null;
if(l==null){console.log(h,U);console.log(Y);throw"e"}var L=l[0],j=l[1];if(!1){}else if(p==0){O=g(d)}else if(p==1){X+=8}else if(p==2){var F=g(d),i=L[0].toUpperCase(),$=L[0].toLowerCase();
if(L=="string")O=x(d,X,F);else if(L=="bytes")O=new Uint8Array(d.buffer,d.byteOffset+X,F);else if(L=="float")O=new Float32Array(d.slice(X,X+F).buffer);
else if(L=="double")O=new Float64Array(d.slice(X,X+F).buffer);else if(L=="int64"){O=[];var H=X;while(X-H<F)O.push(g(d));
X=H}else if(L[0]==i&&$!=i){var b=new Uint8Array(d.buffer,d.byteOffset+X,F);O=b3.ir.aIA(b,v+1,t,L)}else throw l+" of "+h;
X+=F}else if(p==5){if(L=="float")O=new Float32Array(d.slice(X,X+4).buffer)[0];else throw l;X+=4}else{console.log(h,p,U);
throw l}if(l[2]==0)Y[j]=O;else{if(Y[j]==null)Y[j]=[];Y[j].push(O)}}return Y};b3.dy={};b3.dy.CE=function(){function d(v){var t=new Uint8Array(v),h=gv.lS(v),X=B.kQ,g=B.ij,x,Z;
for(var n=0;n<h.sub.length;n++){var Y=h.sub[n];if(Y.tj=="fmt ")x=Y;if(Y.tj=="data")Z=Y}var a=x.h,x=X(t,a);
a+=2;if(x!=1)throw x;var z=X(t,a);a+=2;var p=g(t,a);a+=4;var U=g(t,a);a+=4;var l=X(t,a);a+=2;var L=X(t,a);
a+=2;if(L!=16)throw L;a=Z.h;var j=Math.round(Z.size/(z*2)),O=[],F=new Int16Array(v,a);for(var i=0;i<z;
i++){var $=new Int16Array(j);O.push($);for(var n=0;n<j;n++)$[n]=F[n*z+i]}var H={MS:p,gM:O};return H}return d}();
b3.dy.V$=function(d){var v=d.gM,t=v.length,h=v[0].length,X=B.js,g=B.Bk,x=B.mr,Z=new Uint8Array(44+t*h*2),Y=0;
X(Z,Y,"RIFF");Y+=4;g(Z,Y,Z.length-8);Y+=4;X(Z,Y,"WAVE");Y+=4;X(Z,Y,"fmt ");Y+=4;g(Z,Y,16);Y+=4;x(Z,Y,1);
Y+=2;x(Z,Y,t);Y+=2;g(Z,Y,d.MS);Y+=4;g(Z,Y,d.MS*t*2);Y+=4;x(Z,Y,t*2);Y+=2;x(Z,Y,16);Y+=2;X(Z,Y,"data");
Y+=4;g(Z,Y,h*t*2);Y+=4;var a=new Int16Array(Z.buffer,Y);for(var z=0;z<t;z++){var p=v[z];for(var n=0;
n<h;n++)a[n*t+z]=p[n]}return Z.buffer};b3.awv=function(){function d(i){var $=new Uint8Array(i),H=0,b=B.o3($,H,4),W=0,c=0;
H+=4;var r=B.BT($,H);H+=4;var V=$[8],y=[];for(var n=0;n<V;n++)y.push(new Int16Array(r));while(H<$.length){V=$[H];
W=B.BT($,H)&16777215;var S=B.ZT($,H+4),C=B.ZT($,H+6),K=H+C;H+=8;var T=[];for(var n=0;n<V;n++){var D=[];
T.push(D);for(var Y=0;Y<4;Y++)D.push(B.Mu($,H+Y*2));H+=8;for(var Y=0;Y<4;Y++)D.push(B.Mu($,H+Y*2));H+=8}while(H<K){for(var N=0;
N<V;N++){j($,H,T[N],y[N],c,H==48);H+=8}c+=20}}var G={MS:W,gM:y};console.log(G);if(window.ace==null){window.ace=100}return G}var v=new Uint8Array(20),t=[.75,-.75,2.5,-2.5,4.5,-4.5,7,-7],h=[1,7,21,45,84,138,211,304,421,562,731,928,1157,1419,1715,2048],X=[];
for(var n=0;n<h.length;n++)X[n]=1/h[n];var g=new Uint8Array([7,7,7,5,5,3,3,1,0,0,2,2,4,4,6,6,6]),x=new Int16Array(16*8);
for(var n=0;n<16;n++){var Z=h[n];for(var Y=0;Y<8;Y++){var a=Z*t[Y];x[n*8+Y]=a<0?Math.ceil(a-.5):Math.floor(a+.5)}}function z(n,i,$){v[n]=i>>>$&7}function p(i){return i[0]*i[4]+i[1]*i[5]+i[2]*i[6]+i[3]*i[7]>>13}function U(i){return Math.max(-32768,Math.min(i,32767))}function l(i,$,a){var H=a>>4;
i[4]+=i[0]<0?-H:H;i[5]+=i[1]<0?-H:H;i[6]+=i[2]<0?-H:H;i[7]+=i[3]<0?-H:H;i[0]=i[1];i[1]=i[2];i[2]=i[3];
i[3]=$}function L(i){var $=(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]>>16)-2303;return $<0?0:$*$}function j(i,$,H,b,r,W){var V=B.ZT(i,$),y=B.BT(i,$+1),c=B.BT(i,$+4),S=V>>>12;
z(0,V,9);z(1,V,6);z(2,V,3);z(3,V,0);for(var n=0;n<8;n++){z(4+n,y,21-n*3);z(12+n,c,21-n*3)}for(var C=0;
C<20;C++){var a=x[S*8+v[C]],K=p(H),T=b[r+C]=U(K+a);l(H,T,a)}}function O(i,$,H,b,r){var W=1e9,V=0,y,c,E=0,e=0;
for(var S=0;S<17;S++){y=0;c=H;Z=V;if(S!=16){c=H.slice(0);Z=S}for(var C=0;C<20&&y<=W;C++){var K=b[r+C],T=p(c),D=K-T,N=Math.round(D*X[Z]),G=Math.max(-8,Math.min(8,N)),s=v[C]=g[G+8],Q=x[(Z<<3)+s],q=U(T+Q);
l(c,q,Q);var R=K-q;y+=R*R}if(y<=W){W=y;V=Z}}var m=V<<12|v[0]<<9|v[1]<<6|v[2]<<3|v[3]<<0;for(var n=0;
n<8;n++){E|=v[4+n]<<21-n*3;e|=v[12+n]<<21-n*3}B.NI(i,$+4,e);B.NI(i,$+1,E);B.PT(i,$+0,m)}function F(i){var $=i.gM,H=i.gM[0].length,b=i.gM.length,r=new fe,W=0,V=0;
B.Er(r,W,"qoaf");W+=4;B.um(r,W,H);W+=4;var y=[];for(var n=0;n<b;n++)y.push([0,0,0,0,0,0,-8192,16384]);
while(V<H){var c=20*Math.min(256,Math.ceil((H-V)/20));B.um(r,W,i.MS);r.data[W]=b;W+=4;B.mk(r,W,c);W+=2;
B.mk(r,W,8+b*(16+Math.round(8*c/20)));W+=2;for(var n=0;n<b;n++){var S=y[n];for(var Y=0;Y<4;Y++)B.FS(r,W+Y*2,S[Y]);
W+=8;for(var Y=0;Y<4;Y++)B.FS(r,W+Y*2,S[Y+4]);W+=8}var C=V+c;while(V<C){r.fK(W,b*8);for(var K=0;K<b;
K++){O(r.data,W,y[K],$[K],V);W+=8}V+=20}}var T=r.data.slice(0,W);return T.buffer}return{CE:d,V$:F}}();
var fq={};fq.Dz=!1;fq.apB=!1;fq.Mi=!1;fq.$D=document.createElement("canvas");fq.fy=null;fq.En=null;fq.dz=0;
(function(){var d={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},v;if(!v)v=fq.$D.getContext("webgl2",d);
if(v){fq.Dz=!0;fq.apB=!0;fq.fy=v;fq.En=v.createFramebuffer();v.bindFramebuffer(v.FRAMEBUFFER,fq.En);
v.disable(v.BLEND);v.disable(v.DEPTH_TEST);var t=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,t);v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),v.STATIC_DRAW);
v.enableVertexAttribArray(0);v.vertexAttribPointer(0,2,v.FLOAT,!1,0,0)}}());fq.aAz=function(d){d=d.replace(/\s\s+/g," ");
d=d.replace(/; /g,";");d=d.replace(/} /g,"}");d=d.replace(/ }/g,"}");d=d.replace(/{ /g,"{");d=d.replace(/ {/g,"{");
d=d.replace(/= /g,"=");d=d.replace(/ =/g,"=");d=d.replace(/\| /g,"|");d=d.replace(/ \|/g,"|");return d};
fq.eu=function(d,v){var t=fq.fy;if(d>t.getParameter(t.MAX_TEXTURE_SIZE)){fq.Dz=!1;alert("Too big texture ("+d+" px), Disabling WebGL")}if(v==16&&t.getExtension("EXT_texture_norm16")==null){fq.Dz=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};fq.oq=function(d,v){return new Float32Array([(d.x-v.x)/v.r,(d.y-v.y)/v.$,d.r/v.r,d.$/v.$])};
fq.km=function(){return this.$D};fq.Bg=function(d,v){var t=fq.fy;t.bindFramebuffer(t.FRAMEBUFFER,fq.En);
t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,d.gL,0);t.viewport(0,0,d.r,d.$);
if(v){t.enable(t.SCISSOR_TEST);t.scissor(v.x,v.y,v.r,v.$)}else t.disable(t.SCISSOR_TEST)};fq.a1V=function(d,v,t){if(t)throw"error";
var h=fq.fy;h.disable(h.SCISSOR_TEST);h.bindFramebuffer(h.FRAMEBUFFER,null);h.viewport(0,0,d,v);if(t){h.enable(h.SCISSOR_TEST);
h.scissor(t.x,t.y,Math.round(t.r),Math.round(t.$))}else h.disable(h.SCISSOR_TEST)};fq.hH=function(){var d=fq.fy;
d.colorMask(!1,!1,!1,!0);fq.fv(255<<24);d.colorMask(!0,!0,!0,!0)};fq.fv=function(d){var v=fq.fy,t=(d>>>0&255)*(1/255),h=(d>>>8&255)*(1/255),X=(d>>>16&255)*(1/255),g=(d>>>24&255)*(1/255);
v.clearColor(t,h,X,g);v.clear(v.COLOR_BUFFER_BIT)};fq.ua=function(d,v,t,h,X){var g=v.hL(h);if(X)g=g.hL(X);
if(g.HP())return;var x=fq.fy;fq.Bg(d);x.bindTexture(x.TEXTURE_2D,t.gL);x.copyTexSubImage2D(x.TEXTURE_2D,0,g.x-h.x,g.y-h.y,g.x-v.x,g.y-v.y,g.r,g.$)};
fq.IU=function(n,d,v,t){if(t==null)t=8;var h=fq.a0k[n];if(h==null||h.r!=d||h.$!=v||h.depth!=t){if(h)h.delete();
h=new fq.lh(d,v,t)}fq.a0k[n]=h;return h};fq.a0k=[];fq.l8=function(){this.go=null;this.Yu=null};fq.l8.c8=null;
fq.l8.prototype.mR=function(d){if(this.Yu)return;this.Yu={};var v=fq.fy,t=this.go,h=this.Yu;for(var n=0;
n<d.length;n++){var X=d[n];h[X]=v.getUniformLocation(t,X)}};fq.l8.prototype.Ni=function(){};fq.l8.prototype.jW=function(d){var v=fq.fy;
for(var n=0;n<d.length;n+=2){v.uniform1i(d[n],n>>>1);v.activeTexture(v["TEXTURE"+(n>>>1)]);v.bindTexture(v.TEXTURE_2D,d[n+1])}v.activeTexture(v.TEXTURE0)};
fq.l8.prototype.B3=function(d,v){var t=fq.fy,h=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(h,d);
t.compileShader(h);if(!t.getShaderParameter(h,t.COMPILE_STATUS))console.log(t.getShaderInfoLog(h));var X=t.createShader(t.VERTEX_SHADER);
t.shaderSource(X,v);t.compileShader(X);if(!t.getShaderParameter(X,t.COMPILE_STATUS))console.log(t.getShaderInfoLog(X));
var g=t.createProgram();t.attachShader(g,X);t.attachShader(g,h);t.linkProgram(g);if(!t.getProgramParameter(g,t.LINK_STATUS))console.log("Could not initialise shaders");
this.go=g};fq.l8.prototype.R7=function(){if(fq.l8.c8!=this){fq.fy.useProgram(this.go);fq.l8.c8=this}};
fq.lu=function(d,v,t){fq.Kd++;fq.dz+=d*v;if(fq.Mi)console.log("GL.Channels instances: "+fq.Kd+", memory: "+fq.dz);
var h=fq.fy;this.r=d;this.$=v;if(t==null)t=8;if(t==16){h.getExtension("EXT_texture_norm16")}this.depth=t;
this.dE=t==8?h.R8:t==16?33322:h.R32F;this.RU=t==8?h.RED:t==16?h.RED:h.RED;this.bN=t==8?h.UNSIGNED_BYTE:t==16?h.UNSIGNED_SHORT:h.FLOAT;
this.gL=h.createTexture();this.XR=null;this.vV(this.gL,d,v)};fq.lu.prototype.vV=function(d,v,t){var h=fq.fy;
h.bindTexture(h.TEXTURE_2D,d);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);
h.texImage2D(h.TEXTURE_2D,0,this.dE,v,t,0,this.RU,this.bN,null)};fq.lu.prototype.set=function(d,v){var t=fq.fy;
t.bindTexture(t.TEXTURE_2D,this.gL);t.pixelStorei(t.UNPACK_ALIGNMENT,1);var h=this.r*this.$;if(v==null||v.k()*10>h)t.texImage2D(t.TEXTURE_2D,0,this.dE,this.r,this.$,0,this.RU,this.bN,d);
else{var X=new iW(0,0,this.r,this.$),g=f.m(v.k(),this.depth);f.Qb(d,X,g,v);t.texSubImage2D(t.TEXTURE_2D,0,v.x,v.y,v.r,v.$,this.RU,this.bN,g)}t.pixelStorei(t.UNPACK_ALIGNMENT,4)};
fq.lu.prototype.delete=function(){var d=fq.fy;if(this.gL){d.deleteTexture(this.gL);fq.Kd--;fq.dz-=this.r*this.$}if(fq.Mi)if(fq.Mi)console.log("GL.Channels instances: "+fq.Kd+", memory: "+fq.dz*4)};
fq.Kd=0;fq.lh=function(d,v,t,h){if(t==null)t=8;if(h==null)h=!1;fq.Kd++;fq.dz+=d*v*4;if(fq.Mi)console.log("GL.Channels instances: "+fq.Kd+", memory: "+fq.dz);
var X=fq.fy;if(t==16){X.getExtension("EXT_texture_norm16")}if(t==32){X.getExtension("EXT_color_buffer_float");
if(X.getExtension("OES_texture_float_linear")==null)h=!1}this.a8q=h;this.r=d;this.$=v;this.depth=t;this.dE=t==8?X.RGBA:t==16?32859:t==32?X.RGBA32F:X.RGBA16F;
this.RU=t==8?X.RGBA:t==16?X.RGBA:X.RGBA;this.bN=t==8?X.UNSIGNED_BYTE:t==16?X.UNSIGNED_SHORT:X.FLOAT;
this.gL=X.createTexture();this.XR=null;this.vV(this.gL,d,v)};fq.FL=function(){var d=fq.fy;return d.getExtension("OES_texture_float_linear")?32:33};
fq.lh.prototype.set=function(d,v){var t=fq.fy;t.disable(t.SCISSOR_TEST);t.bindTexture(t.TEXTURE_2D,this.gL);
if(d==null||d instanceof Uint8Array||d instanceof Uint16Array||d instanceof Float32Array){var h=this.r,X=this.$,g=h*X;
if((v==null||v.k()*10>g)&&(d==null||d.length>=g*4))t.texImage2D(t.TEXTURE_2D,0,this.dE,h,X,0,this.RU,this.bN,d);
else{var x=d;if(d.length==g*4){var x=f.m(v.k()*4,this.depth);f.wH(d,new iW(0,0,h,X),x,v)}t.texSubImage2D(t.TEXTURE_2D,0,v.x,v.y,v.r,v.$,this.RU,this.bN,x)}}else t.texImage2D(t.TEXTURE_2D,0,this.dE,this.RU,this.bN,d)};
fq.lh.prototype.get=function(d){var v=fq.fy;fq.Bg(this);v.readPixels(0,0,this.r,this.$,this.RU,this.bN,d)};
fq.lh.prototype.f4=function(d){if(d.HP())return;var v=fq.fy;if(this.XR==null){this.XR=v.createTexture();
this.vV(this.XR,this.r,this.$);fq.Kd++;fq.dz+=this.r*this.$*4}v.bindFramebuffer(v.FRAMEBUFFER,fq.En);
v.bindTexture(v.TEXTURE_2D,this.XR);if(d){var t=Math.max(d.x,0),h=Math.max(d.y,0);v.copyTexSubImage2D(v.TEXTURE_2D,0,t,h,t,h,d.r,d.$)}else v.copyTexImage2D(v.TEXTURE_2D,0,this.RU,0,0,this.r,this.$,0)};
fq.lh.prototype.vV=function(d,v,t){var h=fq.fy;h.bindTexture(h.TEXTURE_2D,d);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.a8q?h.LINEAR:h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texImage2D(h.TEXTURE_2D,0,this.dE,v,t,0,this.RU,this.bN,null)};
fq.lh.prototype.delete=function(){var d=fq.fy;if(this.gL){d.deleteTexture(this.gL);fq.Kd--;fq.dz-=this.r*this.$*4}if(this.XR){d.deleteTexture(this.XR);
fq.Kd--;fq.dz-=this.r*this.$*4}if(fq.Mi)if(fq.Mi)console.log("GL.Channels instances: "+fq.Kd+", memory: "+fq.dz)};
fq.lh.prototype.b=function(){var d=fq.fy,v=new fq.lh(this.r,this.$);fq.Bg(this);d.bindTexture(d.TEXTURE_2D,v.gL);
d.copyTexImage2D(d.TEXTURE_2D,0,this.RU,0,0,this.r,this.$,0);return v};fq.Rd={a9W:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a1i:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",fe:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",eY:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aBB:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Pj:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",iP:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",J4:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",akP:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",YM:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a8l:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",JL:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",a2B:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Kt:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",aU:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Tb:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",qZ:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",JY:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Nv:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",as6:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",afu:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",d2:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aDL:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
fq.V={};fq.V.Fi={};fq.V.aEN=null;fq.V.w6=null;fq.V.pD=null;fq.V.aIr=function(d,v,t,h,X,g,x,Z){if(Z==null)Z=lb.Rn();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(d)==-1){x=x*Z.fill;Z.fill=1;Z.style=!1}var Y=v instanceof Array,a=d+(Z.vU?"1":"0")+(Y?"1":"0");
if(fq.V.Fi[a]==null)fq.V.Fi[a]=new fq.V.eU(d,Z.vU!=null,Y);var z=fq.V.Fi[a],p=t.hL(X).hL(g);p.offset(-X.x,-X.y);
if(p.HP())return;var U=fq.fy;fq.Bg(h,p);h.f4(p);z.R7();z.Ni(Y?v[1].gL:v.gL,h.XR,fq.oq(t,X),x,Z.fill,Z.style?1:0,Z.CZ?1:0,Z.vU?new Float32Array(Z.vU):null,Y?v[0]:null);
U.drawArrays(U.TRIANGLES,0,6)};fq.V.je=function(d,v,t,h,X,g,x,Z,Y,a,z){if(fq.V.aOl==null)fq.V.aOl=new fq.V.Wh(!0,!0,1);
if(fq.V.aG3==null)fq.V.aG3=new fq.V.Wh(!0,!0,4);if(fq.V.w6==null)fq.V.w6=new fq.V.Wh(!0,!1,1);if(fq.V.pD==null)fq.V.pD=new fq.V.Wh(!1,!0,1);
var p=a?1:0,U=d?X?X instanceof fq.lu?fq.V.aOl:fq.V.aG3:fq.V.w6:fq.V.pD,l=new Float32Array(z?[z[0],z[1],z[2],1]:[1,1,1,1]),L=v?v.hL(h).hL(Z):h.hL(Z);
if(L.HP())return;L.offset(-h.x,-h.y);var j=fq.fy;fq.Bg(t,L);t.f4(L);U.R7();if(d==null)U.Ni(null,t.XR,X.gL,fq.oq(h,h),fq.oq(g,h),x/255,Y,p,l);
else if(X)U.Ni(d.gL,t.XR,X.gL,fq.oq(v,h),fq.oq(g,h),x/255,Y,p,l);else U.Ni(d.gL,t.XR,null,fq.oq(v,h),null,x/255,Y,p,l);
j.drawArrays(j.TRIANGLES,0,6)};fq.V.arE=function(d,v,t){if(fq.V.aB8==null)fq.V.aB8=new fq.V.xc;var h=fq.V.aB8,X=new iW(0,0,d.r,d.$),g=fq.fy;
fq.Bg(v);v.f4(X);h.R7();h.Ni(X,d.gL,v.XR,t.gL);g.drawArrays(g.TRIANGLES,0,6)};fq.V.v_={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/max(a,vec3(0.000001)), ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
fq.V.eU=function(d,v,t){fq.l8.call(this);var h="\t\t\tprecision highp float;\t\t\t"+fq.Rd.fe+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(t?"uniform vec4 scolor;":"")+"\t\t\t"+(v?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+fq.Rd.Pj+"\t\t\t"+fq.Rd.iP+"\t\t\t"+fq.Rd.J4+"\t\t\t"+fq.Rd.a9W+"\t\t\t"+fq.Rd.a1i+"\t\t\t"+fq.Rd.akP+"\t\t\t"+fq.Rd.YM+"\t\t\t"+fq.Rd.a8l+"\t\t\t"+fq.Rd.JL+"\t\t\t"+fq.Rd.hash+"\t\t\t"+(v?fq.Rd.d2:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+fq.V.v_[d]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(t?"scolor; src.a=texture2D(source, sCoord).r;":"texture2D(source, sCoord);"),X="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(d=="diss")h+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else h+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(v?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.B3(h,X)};fq.V.eU.prototype=new fq.l8;fq.V.eU.prototype.Ni=function(d,v,t,h,X,g,x,Z,Y){this.mR("srct alpha source target fill style keepBGA blIf scolor".split(" "));
var a=fq.fy,z=this.Yu;a.uniform4fv(z.srct,t);a.uniform1f(z.alpha,h);a.uniform1f(z.fill,X);a.uniform1f(z.style,g);
a.uniform1f(z.keepBGA,x);if(Z)a.uniform4fv(z.blIf,Z);if(Y){var p=Y?1/f.ay(f.UJ(Y)):0;a.uniform4fv(z.scolor,new Float32Array([Y[0]*p,Y[1]*p,Y[2]*p,0]))}this.jW([z.source,d,z.target,v])};
fq.V.Wh=function(d,v,t){fq.l8.call(this);this.aw7=d;this.$l=v;var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+fq.Rd.a2B+"\t\t\t"+fq.Rd.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(d?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(v?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(t==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(d?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(v?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.B3(h,X)};fq.V.Wh.prototype=new fq.l8;fq.V.Wh.prototype.Ni=function(d,v,t,h,X,g,x,Z,Y){if(this.$l)this.mR("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.mR("srct awg dissv source target cswitch".split(" "));var a=fq.fy,z=this.Yu;a.uniform4fv(z.srct,h);
if(this.$l){a.uniform4fv(z.wrct,X);a.uniform1f(z.wcolor,g)}else{a.uniform4fv(z.cswitch,Y)}a.uniform1f(z.awg,x);
a.uniform1f(z.dissv,Z);var p=[z.source,d,z.target,v];if(this.$l)p.push(z.weight,t);this.jW(p)};fq.V.xc=function(){fq.l8.call(this);
var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",v="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.B3(d,v)};fq.V.xc.prototype=new fq.l8;fq.V.xc.prototype.Ni=function(d,v,t,h){this.mR(["rct","prev","next","alpha"]);
var X=fq.fy,g=this.Yu;X.uniform4fv(g.rct,[0,0,1,1]);this.jW([g.prev,v,g.next,t,g.alpha,h])};fq.Gm={gf:{},vt:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
fq.Gm.$R=function(d,v){var t=cV.df,h=[t.SL,t.A1,t.yk,t.Lo,t.bi,t.Go,t.DK,t.NP].indexOf(d.e),X=fq.Gm.gf[d.e];
if(X==null)X=fq.Gm.gf[d.e]=new fq.gf[h];X.R7();X.Ni(v,d);fq.fy.drawArrays(fq.fy.TRIANGLES,0,6)};fq.gf=[];
fq.gf[0]=function(){fq.l8.call(this);this.a95={};var d="\t\t\tprecision highp float;\t\t\t"+fq.Rd.iP+"\t\t\t"+fq.Rd.fe+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec4 getC(float x) { \t\t\t\tif(x>1.0) {  \t\t\t\t\tvec4 a = texture2D(map, vec2((254.5/256.0), 0));\t\t\t\t\tvec4 b = texture2D(map, vec2((255.5/256.0), 0));\t\t\t\t\treturn b + (b-a)*(x-1.0)*255.0; \t\t\t\t} \t\t\t\treturn texture2D(map, vec2((0.5/256.0)+x*(255.0/256.0), 0)); \t\t\t}\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = getC(src.r).r;\t\t\t\tfloat g = getC(src.g).g;\t\t\t\tfloat b = getC(src.b).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[0].prototype=new fq.l8;fq.gf[0].prototype.Ni=function(d,v){var t={C:v.Ea,L:v.MJ,X:v.Z3,aX:new Float32Array(v.Ea.length)};
t.aX.fill(1);var h=t.C.length,X=this.a95["m"+h];if(X==null)X=this.a95["m"+h]={abN:new fq.lh(h,1,fq.FL()),sN:f.m(h*4,32)};
f.E4(t,X.sN);var g=X.abN;g.set(X.sN);this.mR(["source","map","toGray","presLum"]);var x=fq.fy,Z=this.Yu;
x.uniform1f(Z.toGray,v.N3?1:0);x.uniform1f(Z.presLum,v.xX?1:0);this.jW([Z.source,d,Z.map,g.gL]);x.activeTexture(x.TEXTURE1);
var Y=x.LINEAR;x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,Y);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,Y);
x.activeTexture(x.TEXTURE0)};fq.gf[1]=function(){fq.l8.call(this);this.xR=new fq.lh(256,1,fq.FL());var d="\t\t\t\tprecision highp float;\t\t\t\t"+fq.Rd.Tb+"\t\t\t\t"+fq.Rd.Kt+"\t\t\t\t"+fq.Rd.aU+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h+0.0015, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359*0.5)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[1].prototype=new fq.l8;fq.gf[1].prototype.Ni=function(d,v){this.xR.set(v.map);
this.mR(["source","map","cfa","cfb","colorize"]);var t=fq.fy,h=this.Yu;t.uniform1f(h.cfa,v.acl);t.uniform1f(h.cfb,v.aqt);
t.uniform1i(h.colorize,v.afH);this.jW([h.source,d,h.map,this.xR.gL]);t.activeTexture(t.TEXTURE1);var X=t.LINEAR;
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,X);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,X);
t.activeTexture(t.TEXTURE0)};fq.gf[2]=function(){fq.l8.call(this);var d="\t\t\tprecision mediump float;\t\t\t"+fq.Rd.Tb+"\t\t\t"+fq.Rd.qZ+"\t\t\t"+fq.Rd.JY+"\t\t\t"+fq.Rd.Kt+"\t\t\t"+fq.Rd.aU+"\t\t\t"+fq.Rd.as6+"\t\t\t"+fq.Rd.afu+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF * vec3(1.0,1.0+sat,1.0+sat)); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\t/*vec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);*/  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[2].prototype=new fq.l8;fq.gf[2].prototype.Ni=function(d,v){this.mR(["source","vib","sat","yF"]);
var t=fq.fy,h=this.Yu;t.uniform1f(h.vib,v.Ic[0]);t.uniform1f(h.sat,v.Ic[1]);t.uniform3fv(h.yF,new Float32Array([v.Ic[2],v.Ic[3],v.Ic[3]]));
this.jW([h.source,d])};fq.gf[3]=function(){fq.l8.call(this);var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[3].prototype=new fq.l8;fq.gf[3].prototype.Ni=function(d,v){this.mR(["source","trf"]);
var t=fq.fy,h=this.Yu;t.uniformMatrix4fv(h.trf,!1,new Float32Array(f.Yh.zR(v.AC)));this.jW([h.source,d])};
fq.gf[4]=function(){fq.l8.call(this);var d="\t\t\tprecision mediump float; \t\t\t"+fq.Rd.Nv+"\t\t\t"+fq.Rd.Tb+"\t\t\t"+fq.Rd.aU+"\t\t\t"+fq.Rd.Kt+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[4].prototype=new fq.l8;fq.gf[4].prototype.Ni=function(d,v){this.mR(["source","mnm","mxm","shift","lim"]);
var t=fq.fy,h=this.Yu;t.uniform3fv(h.mnm,new Float32Array(v.ad));t.uniform3fv(h.mxm,new Float32Array(v.cs));
t.uniform3fv(h.shift,new Float32Array(v.shift));t.uniform1f(h.lim,v.rE);this.jW([h.source,d])};fq.gf[5]=function(){fq.l8.call(this);
var d="\t\t\tprecision mediump float;\t\t\t"+fq.Rd.fe+"\t\t\t"+fq.Rd.eY+"\t\t\t"+fq.Rd.aBB+"\t\t\t"+fq.Rd.Kt+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[5].prototype=new fq.l8;fq.gf[5].prototype.Ni=function(d,v){this.mR(["source","cfs"]);
var t=fq.fy,h=this.Yu;t.uniform3fv(h.cfs,v.a9h);this.jW([h.source,d])};fq.gf[6]=function(){fq.l8.call(this);
var d="\t\t\tprecision mediump float;\t\t\t"+fq.Rd.Tb+"\t\t\t"+fq.Rd.eY+"\t\t\t"+fq.Rd.aBB+"\t\t\t"+fq.Rd.Kt+"\t\t\t"+fq.Rd.aU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[6].prototype=new fq.l8;fq.gf[6].prototype.Ni=function(d,v){this.mR(["source","wght","prms"]);
var t=fq.fy,h=this.Yu,X=[v.H7,v.aFX,v.iP,v.aE4,v.v$,v.aIp];t.uniform1fv(h.wght,new Float32Array(v.a1b));
t.uniform1fv(h.prms,new Float32Array(X));this.jW([h.source,d])};fq.gf[7]=function(){fq.l8.call(this);
this.amL={};var d="\t\t\tprecision mediump float;\t\t\t"+fq.Rd.aDL+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.B3(d,fq.Gm.vt)};fq.gf[7].prototype=new fq.l8;fq.gf[7].prototype.Ni=function(d,v){this.mR(["source","lut","N"]);
var t=fq.fy,h=this.Yu,X=v.OW,g=v.Gw;if(this.amL["m"+X]==null)this.amL["m"+X]=new fq.lh(X,X*X,fq.FL());
var x=this.amL["m"+X];x.set(g);t.uniform1f(h.N,X);this.jW([h.source,d,h.lut,x.gL]);t.activeTexture(t.TEXTURE1);
var Z=t.LINEAR;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,Z);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,Z);
t.activeTexture(t.TEXTURE0)};fq.filter={Ra:{},vt:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aLC:0,a59:1,Jf:2,aF7:8,aNg:3,aap:4,a8G:5,xj:6,aLL:7};
fq.filter.$R=function(d,v){var t=fq.filter,h,X=d.e+":"+(d.IW?d.IW.join(","):""),h=fq.filter.Ra[X];if(h==null)h=fq.filter.Ra[X]=new fq.Ra[d.e](d.IW);
h.R7();h.Ni(v,d);fq.fy.drawArrays(fq.fy.TRIANGLES,0,6)};fq.Ra=[0,0,0,0,0,0,0,0,0,0,0,0];fq.Ra[7]=function(){fq.l8.call(this);
var d="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[7].prototype=new fq.l8;fq.Ra[7].prototype.Ni=function(d,v){this.mR(["source","iwh","kern"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1fv(h.kern,v.a6X);this.jW([h.source,d])};fq.Ra[6]=function(d){fq.l8.call(this);
var v=d[0],t=d[1],h=d[2],X="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|NNrafa%[}=3495/&+&I1)'VgAFAd;wGOE/^PY8ggmsAz zK1",g=f4.RI(X);
g=g.replaceAll("PRC",h+".0");g=g.replaceAll("DIR",["x,0","0,x"][t]);this.B3(g,fq.Gm.vt)};fq.Ra[6].prototype=new fq.l8;
fq.Ra[6].prototype.Ni=function(d,v){this.mR(["source","iwh","rad"]);var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);
t.uniform1f(h.rad,v._9);this.jW([h.source,d])};fq.Ra[4]=function(d){fq.l8.call(this);var v=d[0],t=d[1],h="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+d[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][t]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][v]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][t]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(t==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.B3(h,fq.Gm.vt)};fq.Ra[4].prototype=new fq.l8;fq.Ra[4].prototype.Ni=function(d,v){this.mR(["source","iwh","rrad","tr"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.rrad,v.gl);t.uniform1f(h.tr,v.a50);this.jW([h.source,d]);
var X=t.LINEAR;X=t.NEAREST;t.activeTexture(t.TEXTURE0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,X);
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,X);t.activeTexture(t.TEXTURE0)};fq.Ra[5]=function(){fq.l8.call(this);
var d="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[5].prototype=new fq.l8;fq.Ra[5].prototype.Ni=function(d,v){this.mR(["source","ssum","iwh","amnt","edgf"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.amnt,v.aHS);t.uniform1f(h.edgf,v.a08);this.jW([h.source,d,h.ssum,v.aiV])};
fq.Ra[3]=function(){fq.l8.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[3].prototype=new fq.l8;fq.Ra[3].prototype.Ni=function(d,v){this.mR("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.tdep,v.a1U);t.uniform1f(h.rrad,v.gl);t.uniform2fv(h.spec,v.a5B);
t.uniform3fv(h.nois,v.aC5);t.uniformMatrix4fv(h.poly0,!1,v.aCp);t.uniformMatrix4fv(h.poly1,!1,v.avv);
this.jW([h.source,d]);var X=t.LINEAR;t.activeTexture(t.TEXTURE0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,X);
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,X);t.activeTexture(t.TEXTURE0)};fq.Ra[0]=function(){fq.l8.call(this);
var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[0].prototype=new fq.l8;fq.Ra[0].prototype.Ni=function(d,v){this.mR(["source","iwh","ld","shine"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform3fv(h.ld,v.aEk);t.uniform1f(h.shine,v.agP);this.jW([h.source,d,h.tang,v.ya])};
fq.Ra[1]=function(){fq.l8.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[1].prototype=new fq.l8;fq.Ra[1].prototype.Ni=function(d,v){this.mR(["source","iwh","isc","bristle"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.isc,v.a6f);t.uniform1f(h.bristle,v.ay6);
this.jW([h.source,d])};fq.Ra[2]=function(){fq.l8.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.B3(f4.RI(d),f4.RI(fq.filter.vt))};fq.Ra[2].prototype=new fq.l8;fq.Ra[2].prototype.Ni=function(d,v){this.mR(["source","tang","iwh","sigma","expo"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.sigma,v.AF);t.uniform1f(h.expo,v.a2s);this.jW([h.source,d,h.tang,v.ya]);
var X=t.LINEAR;t.activeTexture(t.TEXTURE0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,X);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,X);
t.activeTexture(t.TEXTURE0)};fq.Ra[8]=function(){fq.l8.call(this);var d="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.B3(f4.Rb(d),f4.RI(fq.filter.vt))};fq.Ra[8].prototype=new fq.l8;fq.Ra[8].prototype.Ni=function(d,v){this.mR(["source","tang","iwh","sigma"]);
var t=fq.fy,h=this.Yu;t.uniform2fv(h.iwh,v.k0);t.uniform1f(h.sigma,v.AF);this.jW([h.source,d,h.tang,v.ya]);
var X=t.LINEAR;t.activeTexture(t.TEXTURE0);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,X);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,X);
t.activeTexture(t.TEXTURE0)};function f(){}f.O={};f.aht={};f.v=function(d){return JSON.parse(JSON.stringify(d))};
f.UJ=function(d){if(d instanceof fq.lh)return d.depth;return d instanceof Float32Array?32:d instanceof Uint16Array?16:8};
f.ay=function(d){return d==8?255:d==16?65535:1};f.OO=function(d,v,t){var h=f.UJ(d),X=d.length;if(h==v)return d;
if(t==null)t=f.m(X,v);if(v==8){if(h==16)for(var n=0;n<X;n++)t[n]=d[n]>>>8;if(h==32)for(var n=0;n<X;n++)t[n]=Math.min(255,~~(.5+255*d[n]))}else if(v==16){if(h==8)for(var n=0;
n<X;n++)t[n]=d[n]<<8|d[n];if(h==32)for(var n=0;n<X;n++)t[n]=Math.min(65535,65535*d[n])}else if(v==32){if(h==8)for(var n=0;
n<X;n++)t[n]=d[n]*(1/255);if(h==16)for(var n=0;n<X;n++)t[n]=d[n]*(1/65535)}return t};f.avp=function(d,v){for(var n=0;
n<d.length;n+=2)d[n]=f.OO(d[n],v)};f.alZ=function(){var d=[64,64,128,256,512,1024,2048],v=[];for(var n=0;
n<d.length;n++){var t=d[n],h=document.createElement("canvas");h.width=t;h.height=t;v.push(h.getContext("2d",{willReadFrequently:!0}))}return v}();
f.km=function(d,v){var t,h=f.alZ,n=1,X=Math.max(d,v);while(n<h.length&&X>h[n].canvas.width)n++;if(n==h.length){t=h[0];
var g=t.canvas;g.width=d;g.height=v}else{t=h[n];t.clearRect(0,0,d,v)}return t};f.uR=function(d,v,t,h){if(h==null)h=new Uint32Array(v*t);
h[0]=d[0];for(var X=1;X<v;X++)h[X]=h[X-1]+d[X];for(var g=1;g<t;g++){var n=g*v;h[n]=h[n-v]+d[n];for(var X=1;
X<v;X++)h[n+X]=d[n+X]+h[n+X-1]+h[n+X-v]-h[n+X-v-1]}return h};f.am=function(d,v,t,h,X,g){var x=(X-1)*v,Z=g*v;
return d[Z+h]-d[Z+t-1]-d[x+h]+d[x+t-1]};f.aqS=function(d,v,t,h){var X=v*4;if(h==null)h=new Uint32Array(v*t*4);
h[0]=d[0];h[1]=d[1];h[2]=d[2];h[3]=d[3];for(var g=1;g<v;g++)f.adX(d,h,4,g<<2);for(var x=1;x<t;x++){var n=x*v<<2;
f.adX(d,h,X,n);for(var g=4;g<X;g+=4){var Z=n+g;h[Z]=d[Z]+h[Z-4]+h[Z-X]-h[Z-X-4];h[Z+1]=d[Z+1]+h[Z-3]+h[Z-X+1]-h[Z-X-3];
h[Z+2]=d[Z+2]+h[Z-2]+h[Z-X+2]-h[Z-X-2];h[Z+3]=d[Z+3]+h[Z-1]+h[Z-X+3]-h[Z-X-1]}}return h};f.adX=function(d,v,t,n){v[n]=v[n-t]+d[n];
v[n+1]=v[n-t+1]+d[n+1];v[n+2]=v[n-t+2]+d[n+2];v[n+3]=v[n-t+3]+d[n+3]};f.ajJ=function(d,v,t,h,X,g){var x=X+t<<2,Z=X+v<<2,Y=h+t<<2,a=h+v<<2;
g[0]+=d[x]-d[Z]-d[Y]+d[a];g[1]+=d[x+1]-d[Z+1]-d[Y+1]+d[a+1];g[2]+=d[x+2]-d[Z+2]-d[Y+2]+d[a+2];g[3]+=d[x+3]-d[Z+3]-d[Y+3]+d[a+3]};
f.p0=function(d,v,t){var h={},X=0,g=0,x=new Uint32Array(d.buffer),Z=x.length,Y=Date.now();for(var a=1;
a<t-1;a++)for(var z=1;z<v-1;z++){var p=a*v+z,U=x[p];if(U>>>24<230)g++;if(h[U]==null){h[U]=!0;X++}}if(g!=0||X<20)return!1;
return!0};f.L1=function(d,v,t,h,X,g){if(X==null)X=g=0;var x=Math.round(Math.log(h)/Math.log(2)),Z=new Uint32Array(d.buffer);
for(var n=0;n<t;n++)for(var Y=0;Y<v;Y++){Z[n*v+Y]=f.aB$(n+g,Y+X,x)}};f.aK5=function(n,d,v){return 255-((n>>>v)+(d>>>v)&1)*51};
f.aB$=function(n,d,v){return 4294967295-((n>>>v)+(d>>>v)&1)*3355443};f.le=function(d,v){var t=v==null?1:v/255;
return{C:(d>>>16&255)*t,L:(d>>>8&255)*t,X:(d&255)*t}};f.Lw=function(d,v){var t=v==null?1:255/v;return Math.round(d.C*t)<<16|Math.round(d.L*t)<<8|Math.round(d.X*t)};
f.Uj=function(d){var v=d.toString(16);while(v.length<6)v="0"+v;return v};f.aAg=function(d){return parseInt(d,16)};
f.iP=function(d){return.3*d.C+.59*d.L+.11*d.X};f.Pj=function(d){return Math.max(d.C,d.L,d.X)-Math.min(d.C,d.L,d.X)};
f.KR=function(d,v,t){return.3*d+.59*v+.11*t};f.aAB=function(d,v,t){return Math.max(d,v,t)-Math.min(d,v,t)};
f.eY=function(d,v){var t=v-d,h=Math.abs(t),X=t-1,g=t+1;if(Math.abs(X)<h)t=X;else if(Math.abs(g)<h)t=g;
return t};f.cP=function(d){return d<.0031308?12.92*d:1.055*Math.pow(d,1/2.4)-.055};f.e0=function(d){return d<.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)};
f.aCd=function(d){var v=new Uint8Array(256);for(var n=0;n<256;n++)v[n]=~~(.5+255*f.cP(n/255));for(var n=0;
n<d.length;n++)d[n]=v[d[n]]};f.Jm=function(d){var v=new Uint8Array(256);for(var n=0;n<256;n++)v[n]=~~(.5+255*f.e0(n/255));
for(var n=0;n<d.length;n++)d[n]=v[d[n]]};f.amu=function(d,v){var t=Math.min(d.length,v.length);for(var n=0;
n<t;n+=4){var h=d[n],X=d[n+1],g=d[n+2];v[n]=16+Math.floor(65.481/255*h+128.553/255*X+24.966/255*g+.5);
v[n+1]=128-Math.floor(37.797/255*h-74.203/255*X+112/255*g+.5);v[n+2]=128+Math.floor(112/255*h-93.786/255*X-18.214/255*g+.5);
v[n+3]=d[n+3]}};f.aac=function(d,v,t){var h,X,g,x=Math.max(d,v,t),Z=Math.min(d,v,t);g=x;if(x!=0)X=(x-Z)/x;
else X=0;if(X==0)h=0;else{var Y=x-Z,a=(x-d)/Y,z=(x-v)/Y,p=(x-t)/Y;if(d==x)h=p-z;else if(v==x)h=2+a-p;
else h=4+z-a;h*=1/6;if(h<0)h=h+1}return{uV:h,Wx:X,X:g}};f.aIc=function(d,v,t){var h=0,X=0,g=0;if(v==0)h=X=g=t;
else{var x=(d-Math.floor(d))*6,Z=Math.floor(x),Y=x-Math.floor(x),a=t*(1-v),z=t*(1-v*Y),p=t*(1-v*(1-Y));
switch(Z){case 0:h=t;X=p;g=a;break;case 1:h=z;X=t;g=a;break;case 2:h=a;X=t;g=p;break;case 3:h=a;X=z;
g=t;break;case 4:h=p;X=a;g=t;break;case 5:h=t;X=a;g=z;break}}return{C:h,L:X,X:g}};f.Kt=function(d,v,t){var h=Math.max(d,v,t),X=Math.min(d,v,t),g=0,x=0,Z=(h+X)*.5;
if(h!=X){var Y=h-X;x=Z>.5?Y/(2-(h+X)):Y/(h+X);switch(h){case d:g=(v-t)/Y+(v<t?6:0);break;case v:g=(t-d)/Y+2;
break;case t:g=(d-v)/Y+4;break}g*=1/6}return{uV:g,Wx:x,Se:Z}};f.aU=function(d,v,t){var h,X,g;if(v==0)h=X=g=t;
else{var x=t<.5?t*(1+v):t+v-t*v,Z=2*t-x;h=f.Tb(Z,x,d+1/3);X=f.Tb(Z,x,d);g=f.Tb(Z,x,d-1/3)}return{C:h,L:X,X:g}};
f.Tb=function(d,v,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return d+(v-d)*6*t;if(t<1/2)return v;if(t<2/3)return d+(v-d)*(2/3-t)*6;
return d};f.qZ=function(d,v,t){var h=Math.max(d,v,t),X=Math.min(d,v,t),g,x,Z=h,Y=h-X;x=h==0?0:Y/h;if(h==X)g=0;
else{switch(h){case d:g=(v-t)/Y+(v<t?6:0);break;case v:g=(t-d)/Y+2;break;case t:g=(d-v)/Y+4;break}g*=1/6}return{uV:g,Wx:x,k1:Z}};
f.JY=function(d,v,t){var h,X,g,n,x,Z,Y,a;n=Math.floor(d*6);x=d*6-n;Z=t*(1-v);Y=t*(1-x*v);a=t*(1-(1-x)*v);
switch(n%6){case 0:h=t,X=a,g=Z;break;case 1:h=Y,X=t,g=Z;break;case 2:h=Z,X=t,g=a;break;case 3:h=Z,X=Y,g=t;
break;case 4:h=a,X=Z,g=t;break;case 5:h=t,X=Z,g=Y;break}return{C:h,L:X,X:g}};f.G9=function(){var d=[],v=[];
for(var n=0;n<8e3;n++){var t=n*(1/4e3);d[n]=f.e0(t);v[n]=t>.008856?Math.pow(t,1/3):(903.3*t+16)*(1/116)}return[d,v]}();
f.Nv=function(d,v,t,h){if(h==null)h=[.9642,1,.8249];var X=f.G9[0],g=f.G9[1];d=X[~~(.5+d*(4e3/255))];
v=X[~~(.5+v*(4e3/255))];t=X[~~(.5+t*(4e3/255))];var x=f.Yh.afJ,Z=x[0]*d+x[1]*v+x[2]*t,Y=x[4]*d+x[5]*v+x[6]*t,a=x[8]*d+x[9]*v+x[10]*t;
Z=Z*(1/h[0]);Y=Y*(1/h[1]);a=a*(1/h[2]);return f.af3(Z,Y,a)};f.af3=function(d,v,t){var h=f.G9[1],X=h[~~(.5+d*4e3)],g=h[~~(.5+v*4e3)],x=h[~~(.5+t*4e3)];
return{f0:116*g-16,aX:500*(X-g),X:200*(g-x)}};f.C3=function(d,v,t){var h=903.3,X=.008856,g=(d+16)/116,x=g*g*g,Z=g-t/200,Y=Z*Z*Z,a=v/500+g,z=a*a*a,p=Y>X?Y:(116*Z-16)/h,U=x>X?x:(116*g-16)/h,l=z>X?z:(116*a-16)/h,L=l*96.42,j=U*100,O=p*82.49,F=f.Yh.ip(f.Yh.Zc,[L/100,j/100,O/100,0]);
for(var n=0;n<4;n++)F[n]=Math.max(0,Math.min(255,f.cP(F[n])*255));return{C:F[0],L:F[1],X:F[2]}};f.aHc=function(d,v,t,h,X){var g=d.f0,x=d.aX,Z=d.X,Y=(g<v.f0?v.f0-g:t.f0<g?t.f0-g:0)*(1/100),a=(x<v.aX?v.aX-x:t.aX<x?t.aX-x:0)*(1/116),z=(Z<v.X?v.X-Z:t.X<Z?t.X-Z:0)*(1/116),p=Math.sqrt(Y*Y+a*a+z*z)*1.35;
return p<=h?Math.min(1,1.17*(1-p*X)):0};f.uP=function(d){var v=f.gV("cmykToRgb"),t=v[2],h=v[3],X=[0,0,0,0];
ICC.U.applyLUT4(h,t,d,X);return X};f.a1e=function(d){var v=f.gV("cmykToRgb"),t=v[2],h=v[3];ICC.U.applyLUT4(h,t,d,d)};
f.atd=function(){var d=function(bW){return Math.round(bW*255)},v="",t=3;for(var n=0;n<tab.length;n++){var h=d(tab[n]);
if(t<=n)h=h-d(tab[n-t])+256&255;v+=h.toString(16).padStart(2,"0")}return v};f.gV=function(d){var v=LUTS["_"+d];
if(v==null){var t=LUTS[d],h=t[0],bW=t[1],X=t[2],g=t[3],x=[];for(var n=0;n<g.length;n+=2)x.push(parseInt(g.slice(n,n+2),16));
for(var n=bW;n<x.length;n++)x[n]=x[n]+x[n-bW]&255;for(var n=0;n<x.length;n++)x[n]*=1/255;v=LUTS["_"+d]=[h,bW,X,x]}return v};
f.aB=function(d){var v=f.gV("rgbToCmyk"),t=v[2],h=v[3],X=[0,0,0,0];ICC.U.applyLUT3to4(h,t,d,X);return X};
f.ae9=function(d){var v=f.gV("rgbToCmyk"),t=v[2],h=v[3];ICC.U.applyLUT3to4(h,t,d,d);f.zJ(d)};f.TA=function(d,v,t){var h=d.length,X=.3,g=.59,x=.11;
if(t){X=t[0];g=t[1];x=t[2]}for(var n=0;n<h;n+=4)v[n>>2]=~~(d[n+0]*X+d[n+1]*g+d[n+2]*x+.5)};f.I0=function(d,v){var t=v.length;
for(var n=0;n<t;n+=4){var h=d[n>>>2];v[n]=h;v[n+1]=h;v[n+2]=h}};f.E4=function(d,v){var t=f.UJ(d.aX),h=f.UJ(v);
if(t!=h)throw"e";if(t==8)f.aee(d,v);else{var X=d.C,g=d.L,x=d.X,Z=d.aX;for(var n=0;n<v.length;n+=4){var Y=n>>>2;
v[n]=X[Y];v[n+1]=g[Y];v[n+2]=x[Y];v[n+3]=Z[Y]}}};f.aee=function(d,v){var t=d.aX,h=d.C,X=d.L,g=d.X,x=Math.min(d.aX.length,v.buffer.byteLength>>>2),Z=4*Math.floor(x/4),Y=new Uint32Array(v.buffer),a=new Uint32Array(t.buffer),z=new Uint32Array(h.buffer),p=new Uint32Array(X.buffer),U=new Uint32Array(g.buffer);
for(var n=0;n<Z;n+=4){var l=a[n>>2],L=U[n>>2],j=p[n>>2],O=z[n>>2];Y[n]=l<<24|(L&255)<<16|(j&255)<<8|O&255;
Y[n+1]=(l&65280)<<16|(L&65280)<<8|j&65280|(O&65280)>>>8;Y[n+2]=(l&16711680)<<8|L&16711680|(j&16711680)>>>8|(O&16711680)>>>16;
Y[n+3]=l&4278190080|(L&4278190080)>>>8|(j&4278190080)>>>16|(O&4278190080)>>>24}for(var n=Z;n<x;n++)Y[n]=t[n]<<24|g[n]<<16|X[n]<<8|h[n]};
f.xI=function(d,v){var t=f.UJ(v.aX),h=f.UJ(d);if(t!=h)throw"e";if(t==8)f.aC2(d,v);else{var X=v.C,g=v.L,x=v.X,Z=v.aX;
for(var n=0;n<d.length;n+=4){var Y=n>>>2;X[Y]=d[n];g[Y]=d[n+1];x[Y]=d[n+2];Z[Y]=d[n+3]}}};f.aC2=function(d,v){var t=v.aX,h=v.C,X=v.L,g=v.X,x=Math.min(v.aX.length,d.buffer.byteLength>>>2),Z=4*Math.floor(x/4),Y=new Uint32Array(d.buffer),a=new Uint32Array(t.buffer),z=new Uint32Array(h.buffer),p=new Uint32Array(X.buffer),U=new Uint32Array(g.buffer);
for(var n=0;n<Z;n+=4){var l=Y[n],L=Y[n+1],j=Y[n+2],O=Y[n+3];z[n>>2]=l&255|(L&255)<<8|(j&255)<<16|O<<24;
p[n>>2]=(l&65280)>>8|L&65280|(j&65280)<<8|(O&65280)<<16;U[n>>2]=(l&16711680)>>16|(L&16711680)>>8|j&16711680|(O&16711680)<<8;
a[n>>2]=l>>>24|L>>>24<<8|j>>>24<<16|O&4278190080}for(var n=Z;n<x;n++){var F=Y[n];h[n]=F>>0&255;X[n]=F>>8&255;
g[n]=F>>16&255;t[n]=F>>24&255}};f.Po=function(d,v,t){var h=Math.min(d.length/4,v.length),X=f.UJ(d);if(X!=f.UJ(v))throw"e";
if(X==8){for(var n=0;n<h;n++){v[n]=d[(n<<2)+t]}}else for(var n=0;n<h;n++){v[n]=d[(n<<2)+t]}};f.Gj=function(d,v,t){var h=f.UJ(d);
if(h!=f.UJ(v))throw"e";var X=Math.min(v.length>>>2,d.length);if(h==8){var g=new Uint8Array(v.buffer),x=new Uint32Array(d.buffer),n=0;
while(n+4<X){var Z=x[n>>>2];g[(n<<2)+t]=Z&255;g[(n<<2)+t+4]=Z>>>8&255;g[(n<<2)+t+8]=Z>>>16&255;g[(n<<2)+t+12]=Z>>>24;
n+=4}while(n<X){g[(n<<2)+t]=d[n];n++}}else{for(var n=0;n<X;n++)v[(n<<2)+t]=d[n]}};f.pl=function(d,v){new Uint32Array(d.buffer).fill(v)};
f.VT=function(d,v,t,h){var X=f.UJ(d),g=f.ay(X),x=d.length,Z=Math.round(v*g),Y=Math.round(t*g),a=Math.round(h*g);
if(X==8)for(var n=0;n<x;n+=4){d[n]=Z;d[n+1]=Y;d[n+2]=a}if(X==16)for(var n=0;n<x;n+=4){d[n]=Z;d[n+1]=Y;
d[n+2]=a}if(X==32)for(var n=0;n<x;n+=4){d[n]=v*g;d[n+1]=t*g;d[n+2]=h*g}};f.Xq=function(d,v){var t=f.UJ(d),h=f.ay(t),X=d.length,g=Math.round(v*h);
if(t==8)for(var n=0;n<X;n+=4){d[n+3]=g}if(t==16)for(var n=0;n<X;n+=4){d[n+3]=g}if(t==32)for(var n=0;
n<X;n+=4){d[n+3]=v*h}};f.aKg=function(d,v,t,h,X){if(X==null)X=0;var g=new Uint32Array(d.buffer);t=t.hL(v);
var x=t.x-v.x,Z=t.y-v.y,Y=t.r,a=t.$,z=v.r;for(var p=0;p<a;p++){var n=(Z+p)*z+x;for(var U=0;U<Y;U++){g[n]=g[n]&X|h;
n++}}};f.Hy=function(d,v){var t=Math.min(d.buffer.byteLength,v.buffer.byteLength),h=t>>>2,X=new Uint32Array(d.buffer,0,h),g=new Uint32Array(v.buffer,0,h);
g.set(X)};f.fE=function(d,v){var t=d.buffer.byteLength,h=v.buffer.byteLength,X=new Uint32Array(d.buffer,0,t>>2),g=new Uint32Array(v.buffer,0,h>>2);
if(t!=h)return!1;var x=X.length;for(var n=0;n<x;n++)if(g[n]!=X[n])return!1;return!0};f.zJ=function(d){var v=f.UJ(d),t=d.length;
if(v==8)for(var n=0;n<t;n++)d[n]=~d[n];if(v==16)for(var n=0;n<t;n++)d[n]=~d[n];if(v==32)for(var n=0;
n<t;n++)d[n]=1-d[n]};f.a9v=function(d){var v=d.length;for(var n=0;n<v;n+=4){d[n]=~d[n];d[n+1]=~d[n+1];
d[n+2]=~d[n+2]}};f.aIk=function(d){var v=d.length;for(var n=3;n<v;n+=4)d[n]=~d[n]};f.ac8=function(d){return d+(d%4==0?0:4-d%4)};
f.m=function(d,v){if(v==null)v=8;var t=v==8?Uint8Array:v==16?Uint16Array:Float32Array;if(v==8)d=f.ac8(d);
if(v==16)d+=d&1;try{var h=new t(d)}catch(cQ){alert("Not enough RAM! (need "+Math.round(d/(1<<20))+" MB)",7e3);
throw"low_ram"}return h};f.aHq=function(d){var v=d._S.r,t=d._S.$,h=v*4,X=v*t,g=new Uint8Array(d.data),x=0,Z=0;
for(var Y=1;Y<t;Y++)for(var a=1;a<v;a++){var n=(Y*v+a)*4;if(g[n-1]==0&&g[n+3]==0&&g[n-h+3]==0){Z++;var z=g[n],p=g[n+1],U=g[n+2],l=z-g[n-4],L=z-g[n-h],j=p-g[n-3],O=p-g[n-h+1],F=U-g[n-2],i=U-g[n-h+2];
if(l*l+j*j+F*F!=0&&L*L+O*O+i*i!=0)x++}}if(Z/X>.01&&x/Z>.05){var $=f.m(v*t);f.Po(g,$,3);d.gM=[$];for(var n=0;
n<g.length;n+=4)g[n+3]=255}};f.a2Z=function(d,v,t,h){if(h==null)h=0;var X=0;while(X+3<d.length&&d[X+3].k()>=h&&v.Mk()*(1<<(X>>>1))<t)X+=2;
var g=d[1],x=d[X+1],Z=new gi;Z.translate(-x.x,-x.y);Z.scale(g.r/x.r,g.$/x.$);Z.translate(g.x,g.y);Z.concat(v);
return[X,Z]};f.vD=function(d){var v=d.length,t=d[v-2],h=d[v-1];while(h.r>=2&&h.$>=2){var X=f.kz(t,h);
d.push(X.sN,X.S);t=X.sN;h=X.S}};f.n7=function(d){var v=d.length,t=d[v-2],h=d[v-1];while(h.r>=2&&h.$>=2){var X=f.rb(t,h);
d.push(X.sN,X.S);t=X.sN;h=X.S}};f.kz=function(d,v,t){var h=v.r,X=v.$,g=h>>1,x=X>>1,Z=new iW(v.x>>>1,v.y>>>1,g,x),Y,a=f.UJ(d);
if(a==8){Y=t&&t.length==g*x*4?t:f.m(g*x*4);var z=new Uint32Array(d.buffer),p=new Uint32Array(Y.buffer);
for(var U=0;U<x;U++)for(var l=0;l<g;l++){var L=U*g+l,j=(U<<1)*h+(l<<1),O=z[j],F=z[j+1],i=z[j+h],$=z[j+h+1],H=O>>>24,b=F>>>24,r=i>>>24,W=$>>>24,V=H+b+r+W;
if(V==1020){var y=(O>>>0&255)+(F>>>0&255)+(i>>>0&255)+($>>>0&255)+2>>>2,c=(O>>>8&255)+(F>>>8&255)+(i>>>8&255)+($>>>8&255)+2>>>2,S=(O>>>16&255)+(F>>>16&255)+(i>>>16&255)+($>>>16&255)+2>>>2;
p[L]=255<<24|S<<16|c<<8|y}else if(V==0)p[L]=0;else{var y=(O>>>0&255)*H+(F>>>0&255)*b+(i>>>0&255)*r+($>>>0&255)*W,c=(O>>>8&255)*H+(F>>>8&255)*b+(i>>>8&255)*r+($>>>8&255)*W,S=(O>>>16&255)*H+(F>>>16&255)*b+(i>>>16&255)*r+($>>>16&255)*W,C=1/V;
y=~~(y*C+.5);c=~~(c*C+.5);S=~~(S*C+.5);p[L]=V+2>>>2<<24|S<<16|c<<8|y}}}else{Y=f.m(g*x*4,a);for(var U=0;
U<x;U++)for(var l=0;l<g;l++){var L=U*g+l<<2,j=(U<<1)*h+(l<<1)<<2,K=j,T=j+4,D=j+h*4,N=j+h*4+4,H=d[K+3],b=d[T+3],r=d[D+3],W=d[N+3],V=H+b+r+W;
if(V==0){}else{var C=1/V;Y[L]=(d[K]*H+d[T]*b+d[D]*r+d[N]*W)*C;Y[L+1]=(d[K+1]*H+d[T+1]*b+d[D+1]*r+d[N+1]*W)*C;
Y[L+2]=(d[K+2]*H+d[T+2]*b+d[D+2]*r+d[N+2]*W)*C;Y[L+3]=V*.25}}}return{S:Z,sN:Y}};f.atu=function(d,v,t){var h=v.r,X=v.$,g=h>>1,x=X>>1,Z=new iW(v.x,v.y,g,x),Y=t&&t.length==g*x*4?t:f.m(g*x*4),a=new Uint32Array(d.buffer),z=new Uint32Array(Y.buffer);
for(var p=0;p<x;p++)for(var U=0;U<g;U++){var l=p*g+U,L=(p<<1)*h+(U<<1),j=a[L],O=a[L+1],F=a[L+h],i=a[L+h+1],$=2+(j>>>0&255)+(O>>>0&255)+(F>>>0&255)+(i>>>0&255)>>>2,H=2+(j>>>8&255)+(O>>>8&255)+(F>>>8&255)+(i>>>8&255)>>>2,b=2+(j>>>16&255)+(O>>>16&255)+(F>>>16&255)+(i>>>16&255)>>>2,r=2+(j>>>24&255)+(O>>>24&255)+(F>>>24&255)+(i>>>24&255)>>>2;
z[l]=r<<24|b<<16|H<<8|$}return{S:Z,sN:Y}};f.asZ=function(d,v,t){var h=v.r,X=v.$,g=2*Math.floor(h/3),x=2*Math.floor(X/3),Z=new iW(v.x,v.y,g,x),Y=t&&t.length==g*x*4?t:f.m(g*x*4),a=new Uint32Array(d.buffer),z=new Uint32Array(Y.buffer);
for(var p=0;p<x;p+=2)for(var U=0;U<g;U+=2){var l=p*g+U,L=(p*3>>>1)*h+(U*3>>>1),j=a[L],O=a[L+1],F=a[L+2],i=a[L+h],$=a[L+1+h],H=a[L+2+h],b=a[L+h+h],r=a[L+1+h+h],W=a[L+2+h+h],V=j>>>24<<2,y=(j>>>16&255)*V,c=(j>>>8&255)*V,S=(j&255)*V,C=O>>>24<<1,K=(O>>>16&255)*C,T=(O>>>8&255)*C,D=(O&255)*C,N=F>>>24<<2,G=(F>>>16&255)*N,s=(F>>>8&255)*N,Q=(F&255)*N,q=i>>>24<<1,R=(i>>>16&255)*q,m=(i>>>8&255)*q,E=(i&255)*q,e=$>>>24,w=($>>>16&255)*e,M=($>>>8&255)*e,P=($&255)*e,I=H>>>24<<1,k=(H>>>16&255)*I,o=(H>>>8&255)*I,af=(H&255)*I,J=b>>>24<<2,at=(b>>>16&255)*J,ke=(b>>>8&255)*J,c_=(b&255)*J,ag=r>>>24<<1,dz=(r>>>16&255)*ag,kL=(r>>>8&255)*ag,aq=(r&255)*ag,dh=W>>>24<<2,gK=(W>>>16&255)*dh,ad=(W>>>8&255)*dh,dc=(W&255)*dh,lq=V+C+q+e,hn=N+C+I+e,dF=J+ag+q+e,c3=dh+ag+I+e,av=lq==0?0:1/lq,ah=hn==0?0:1/hn,gE=dF==0?0:1/dF,fj=c3==0?0:1/c3,bR=0,bD=0,e1=0,am=0;
bR=~~(.5+(S+D+E+P)*av);bD=~~(.5+(c+T+m+M)*av);e1=~~(.5+(y+K+R+w)*av);am=~~(.5+lq*(1/9));z[l]=am<<24|e1<<16|bD<<8|bR;
bR=~~(.5+(Q+D+af+P)*ah);bD=~~(.5+(s+T+o+M)*ah);e1=~~(.5+(G+K+k+w)*ah);am=~~(.5+hn*(1/9));z[l+1]=am<<24|e1<<16|bD<<8|bR;
bR=~~(.5+(c_+aq+E+P)*gE);bD=~~(.5+(ke+kL+m+M)*gE);e1=~~(.5+(at+dz+R+w)*gE);am=~~(.5+dF*(1/9));z[l+g]=am<<24|e1<<16|bD<<8|bR;
bR=~~(.5+(dc+aq+af+P)*fj);bD=~~(.5+(ad+kL+o+M)*fj);e1=~~(.5+(gK+dz+k+w)*fj);am=~~(.5+c3*(1/9));z[l+g+1]=am<<24|e1<<16|bD<<8|bR}return{S:Z,sN:Y}};
f.a56=function(d,v,t){var h=v.r,X=v.$,g=2*Math.floor(h/3),x=2*Math.floor(X/3),Z=new iW(v.x,v.y,g,x),Y=t&&t.length==g*x*4?t:f.m(g*x*4),a=new Uint32Array(d.buffer),z=new Uint32Array(Y.buffer);
for(var p=0;p<x;p+=2)for(var U=0;U<g;U+=2){var l=p*g+U,L=(p*3>>>1)*h+(U*3>>>1),j=a[L],O=a[L+1],F=a[L+2],i=a[L+h],$=a[L+1+h],H=a[L+2+h],b=a[L+h+h],r=a[L+1+h+h],W=a[L+2+h+h],V=(j>>>16&255)<<2,y=(j>>>8&255)<<2,c=(j&255)<<2,S=(O>>>16&255)<<1,C=(O>>>8&255)<<1,K=(O&255)<<1,T=(F>>>16&255)<<2,D=(F>>>8&255)<<2,N=(F&255)<<2,G=(i>>>16&255)<<1,s=(i>>>8&255)<<1,Q=(i&255)<<1,q=$>>>16&255,R=$>>>8&255,m=$&255,E=(H>>>16&255)<<1,e=(H>>>8&255)<<1,w=(H&255)<<1,M=(b>>>16&255)<<2,P=(b>>>8&255)<<2,I=(b&255)<<2,k=(r>>>16&255)<<1,o=(r>>>8&255)<<1,af=(r&255)<<1,J=(W>>>16&255)<<2,at=(W>>>8&255)<<2,ke=(W&255)<<2,c_=0,ag=0,dz=0;
c_=~~(.5+(c+K+Q+m)*(1/9));ag=~~(.5+(y+C+s+R)*(1/9));dz=~~(.5+(V+S+G+q)*(1/9));z[l]=255<<24|dz<<16|ag<<8|c_;
c_=~~(.5+(N+K+w+m)*(1/9));ag=~~(.5+(D+C+e+R)*(1/9));dz=~~(.5+(T+S+E+q)*(1/9));z[l+1]=255<<24|dz<<16|ag<<8|c_;
c_=~~(.5+(I+af+Q+m)*(1/9));ag=~~(.5+(P+o+s+R)*(1/9));dz=~~(.5+(M+k+G+q)*(1/9));z[l+g]=255<<24|dz<<16|ag<<8|c_;
c_=~~(.5+(ke+af+w+m)*(1/9));ag=~~(.5+(at+o+e+R)*(1/9));dz=~~(.5+(J+k+E+q)*(1/9));z[l+g+1]=255<<24|dz<<16|ag<<8|c_}return{S:Z,sN:Y}};
f.jF=function(d){var v=255,t=d.length;t-=t&31;for(var n=3;n<t;n+=32)v=v&d[n]&d[n+4]&d[n+8]&d[n+12]&d[n+16]&d[n+20]&d[n+24]&d[n+28];
return v!=255};f.ayO=function(d,v,t,h){var X=f.kz,g=f.asZ,x={sN:d,S:v},Z=f.anw(t);for(var n=0;n<Z.length;
n++){if(Z[n]==2)x=X(x.sN,x.S,h);else x=g(x.sN,x.S,h)}return x};f.abg=function(d,v,t,h){var X=f.rb,g=f.aDw,x={sN:d,S:v},Z=f.anw(t);
for(var n=0;n<Z.length;n++){if(Z[n]==2)x=X(x.sN,x.S,h);else x=g(x.sN,x.S,h)}return x};f.anw=function(d){var v=[],t=d;
while(t<.499){v.push(2);t*=2}v.push(t<.5001?2:3);return v};f.rb=function(d,v,t){var h=v.r,X=v.$,g=h>>1,x=X>>1,Z=new iW(v.x,v.y,g,x);
if(d==null)return{S:Z};var Y=t&&t.length>=g*x?t:f.m(g*x);for(var a=0;a<x;a++){var z=a*g;for(var p=0;
p<g;p++){var U=(a<<1)*h+(p<<1);Y[z+p]=2+d[U]+d[U+1]+d[U+h]+d[U+h+1]>>>2}}return{S:Z,sN:Y}};f.aDw=function(d,v,t){var h=v.r,X=v.$,g=2*Math.floor(h/3),x=2*Math.floor(X/3),Z=new iW(v.x,v.y,g,x);
if(d==null)return{S:Z};var Y=t&&t.length>=g*x?t:f.m(g*x);for(var a=0;a<x;a+=2)for(var z=0;z<g;z+=2){var p=a*g+z,U=(a*3>>>1)*h+(z*3>>>1),l=d[U]<<2,L=d[U+1]<<1,j=d[U+2]<<2,O=d[U+h]<<1,F=d[U+1+h],i=d[U+2+h]<<1,$=d[U+h+h]<<2,H=d[U+1+h+h]<<1,b=d[U+2+h+h]<<2;
Y[p]=~~(.5+(l+L+O+F)*(1/9));Y[p+1]=~~(.5+(j+L+i+F)*(1/9));Y[p+g]=~~(.5+($+H+O+F)*(1/9));Y[p+g+1]=~~(.5+(b+H+i+F)*(1/9))}return{S:Z,sN:Y}};
f.am5=function(d,v,t,h,X){var g=v.hL(h);if(X)g=g.hL(X);var x=Math.max(0,g.x-v.x),Z=Math.max(0,g.x-h.x),Y=Math.max(0,g.y-v.y),a=Math.max(0,g.y-h.y),z=g.r,p=g.$;
for(var n=0;n<p;n++){var U=(Y+n)*v.r+x,l=(a+n)*h.r+Z;for(var L=0;L<z;L++){t[l+L]=Math.max(t[l+L],d[U+L])}}};
f.Qb=function(d,v,t,h,X){var g=v.hL(h);if(X)g=g.hL(X);var x=Math.max(0,g.x-v.x),Z=Math.max(0,g.x-h.x),Y=Math.max(0,g.y-v.y),a=Math.max(0,g.y-h.y),z=g.r,p=g.$,U=f.UJ(d),l=f.UJ(t);
if(U!=l)throw"e";var L=U>>>3,j=new Uint8Array(t.buffer);for(var n=0;n<p;n++){var O=(Y+n)*v.r+x,F=(a+n)*h.r+Z;
j.set(new Uint8Array(d.buffer,O*L,z*L),F*L)}};f.aID=function(d,v,t,h){if(v.fE(h)){f.Gj(d,t,3);return}var X=v.hL(h),g=Math.max(0,X.x-v.x),x=Math.max(0,X.x-h.x),Z=Math.max(0,X.y-v.y),Y=Math.max(0,X.y-h.y),a=X.r,z=X.$;
for(var n=0;n<z;n++){var p=(Z+n)*v.r+g,U=(Y+n)*h.r+x;for(var l=0;l<a;l++)t[(U+l<<2)+3]=d[p+l]}};f.h1=function(d,v,t,h){var X=v.hL(h),g=Math.max(0,X.x-v.x),x=Math.max(0,X.x-h.x),Z=Math.max(0,X.y-v.y),Y=Math.max(0,X.y-h.y),a=X.r,z=X.$;
for(var n=0;n<z;n++){var p=(Z+n)*v.r+g,U=(Y+n)*h.r+x;for(var l=0;l<a;l++)t[U+l]=d[(p+l<<2)+3]}};f.wH=function(d,v,t,h,X){if(v.fE(h)&&(X==null||X.fE(h))){t.set(d);
return}var g=v.hL(h);if(X)g=g.hL(X);var x=Math.max(0,g.x-v.x),Z=Math.max(0,g.x-h.x),Y=Math.max(0,g.y-v.y),a=Math.max(0,g.y-h.y),z=g.r,p=g.$,U=4*(f.UJ(t)>>>3),l=new Uint8Array(t.buffer);
for(var n=0;n<p;n++){var L=(Y+n)*v.r+x,j=(a+n)*h.r+Z;l.set(new Uint8Array(d.buffer,L*U,z*U),j*U)}};f.ua=function(d,v,t,h){var X=v.hL(h),g=Math.max(0,X.x-v.x),x=Math.max(0,X.x-h.x),Z=Math.max(0,X.y-v.y),Y=Math.max(0,X.y-h.y),a=X.r,z=X.$,p=d.aX,U=d.C,l=d.L,L=d.X,j=t.aX,O=t.C,F=t.L,i=t.X;
for(var n=0;n<z;n++){var $=(Z+n)*v.r+g,H=(Y+n)*h.r+x;for(var b=0;b<a;b++){j[H+b]=p[$+b];O[H+b]=U[$+b];
F[H+b]=l[$+b];i[H+b]=L[$+b]}}};f.Oz=function(d){var v=d.length,t=f.UJ(d),h=f.ay(t),X=1/h;if(t==8)for(var n=0;
n<v;n+=4){var g=d[n+3];if(g==255)continue;d[n]=~~(d[n]*g*(1/255)+.5);d[n+1]=~~(d[n+1]*g*(1/255)+.5);
d[n+2]=~~(d[n+2]*g*(1/255)+.5)}else for(var n=0;n<v;n+=4){var g=d[n+3];if(g==h)continue;d[n]=d[n]*(g*X);
d[n+1]=d[n+1]*(g*X);d[n+2]=d[n+2]*(g*X)}};f.DJ=function(d){var v=d.length,t=f.UJ(d),h=f.ay(t),X=1/h;
if(t==8)for(var n=0;n<v;n+=4){var g=d[n+3];if(g==0||g==255)continue;var x=255/g;d[n]=~~(d[n]*x+.5);d[n+1]=~~(d[n+1]*x+.5);
d[n+2]=~~(d[n+2]*x+.5)}else{for(var n=0;n<v;n+=4){var g=d[n+3];if(g==0||g==h)continue;var x=h/g;d[n]=d[n]*x;
d[n+1]=d[n+1]*x;d[n+2]=d[n+2]*x}}};f.ht=function(d,v){for(var n=0;n<d.length;n++)if(d[n]!=v)return!1;
return!0};f.Ck=function(d){return d+1+(d>>>8)>>>8};f.round=function(d,v){var t=f.UJ(d),h=d.length;if(v==null)v=f.ay(t)>>>1;
if(t==8)for(var n=0;n<h;n++)d[n]=d[n]<v?0:255;if(t==16)for(var n=0;n<h;n++)d[n]=d[n]<v?0:65535;if(t==32)for(var n=0;
n<h;n++)d[n]=d[n]<v?0:1};f.h0=function(d,v){var t=d.length,h=f.UJ(d);if(h==8)for(var n=0;n<t;n++)d[n]=Math.round(d[n]*v);
if(h==16)for(var n=0;n<t;n++)d[n]=Math.round(d[n]*v);if(h==32)for(var n=0;n<t;n++)d[n]=d[n]*v};f.yK=function(d,v){var t=f.UJ(d);
if(t==8){var h=new Uint32Array(d.buffer),X=new Uint32Array(v.buffer),g=h.length;for(var n=0;n<g;n++){var x=h[n],Z=X[n];
X[n]=f.Ck((x>>>24)*(Z>>>24))<<24|f.Ck((x>>>16&255)*(Z>>>16&255))<<16|f.Ck((x>>>8&255)*(Z>>>8&255))<<8|f.Ck((x&255)*(Z&255))}}else{var Y=1/(t==16?65535:1);
for(var n=0;n<d.length;n++)v[n]=v[n]*d[n]*Y}};f.XE=function(d,v){var t=f.UJ(d);if(t!=f.UJ(v))throw"e";
var h=d.length;if(t==8)for(var n=0;n<h;n++)v[(n<<2)+3]=v[(n<<2)+3]*d[n]*(1/255);if(t==16)for(var n=0;
n<h;n++)v[(n<<2)+3]=v[(n<<2)+3]*d[n]*(1/65535);if(t==32)for(var n=0;n<h;n++)v[(n<<2)+3]=v[(n<<2)+3]*d[n]};
f.afB=function(d,v,t,h){var X=Math.max(0,h.x-v.x),g=Math.max(0,v.x-h.x),x=Math.max(0,h.y-v.y),Z=Math.max(0,v.y-h.y),Y=Math.min(v.x+v.r,h.x+h.r)-Math.max(v.x,h.x),a=Math.min(v.y+v.$,h.y+h.$)-Math.max(v.y,h.y);
for(var n=0;n<a;n++){var z=(x+n)*v.r+X,p=(Z+n)*h.r+g;for(var U=0;U<Y;U++){t[p]=f.Ck(t[p]*d[z]);z++;p++}}};
f.Qc=function(d,v,t,h,X){var g=f.UJ(d),x=v.hL(h);if(X)x=x.hL(X);var Z=Math.max(0,x.x-v.x),Y=Math.max(0,x.x-h.x),a=Math.max(0,x.y-v.y),z=Math.max(0,x.y-h.y),p=x.r,U=x.$;
for(var n=0;n<U;n++){var l=(a+n)*v.r+Z,L=((z+n)*h.r+Y<<2)+3;for(var j=0;j<p;j++){if(g==8)t[L]=f.Ck(t[L]*d[l]);
else if(g==16)t[L]=t[L]*d[l]*(1/65535);else if(g==32)t[L]=t[L]*d[l];l++;L+=4}}};f.Z1=function(d,v,t,h,X){var g=f.UJ(d),x=v.hL(h);
if(X)x=x.hL(X);var Z=Math.max(0,x.x-v.x),Y=Math.max(0,x.x-h.x),a=Math.max(0,x.y-v.y),z=Math.max(0,x.y-h.y),p=x.r,U=x.$;
for(var n=0;n<U;n++){var l=((a+n)*v.r+Z<<2)+3,L=((z+n)*h.r+Y<<2)+3;for(var j=0;j<p;j++){if(g==8)t[L]=f.Ck(t[L]*d[l]);
else if(g==16)t[L]=t[L]*d[l]*(1/65535);else if(g==32)t[L]=t[L]*d[l];l+=4;L+=4}}};f.R4=function(d,v){var t=f.UJ(d),h=f.ay(t),X=255/h,U=0;
if(v==null)v=1;var g=4*v,x=d.length>>>2,Z=new Float64Array(256),Y=new Float64Array(256),a=new Float64Array(256),z=new Float64Array(256),p=4*Math.floor(x/v)*v;
for(var n=0;n<p;n+=g){var l=Math.min(255,Math.round(X*d[n+0])),L=Math.min(255,Math.round(X*d[n+1])),j=Math.min(255,Math.round(X*d[n+2])),O=X*d[n+3]*v,F=O*(1/255);
Y[l]+=F;a[L]+=F;z[j]+=F;U+=O}for(var n=0;n<256;n++)Z[n]=Y[n]+a[n]+z[n];return[Z,Y,a,z,x,U/255]};f.aa_=function(d,v){function t(r,W){var V=-1,y=0;
while(y<=W){V++;y+=r[V]}return V}function h(r,W){var V=256,y=0;while(y<=W){V--;y+=r[V]}return V}function X(r){var W=0,V=0;
for(var n=0;n<256;n++){V+=r[n];W+=r[n]*n*(1/255)}return W/V}var g=d[0],x=d[1]/100,Z=d[2]/100,Y=[],a=[];
for(var n=0;n<4;n++){var z=n==0?3:1;Y[n]=t(v[n],z*x*v[5]);a[n]=h(v[n],z*Z*v[5])}var p=[X(v[1]),X(v[2]),X(v[3])],U=p.slice(0);
U.sort(function(r,W){return r-W});var l=p.indexOf(U[1]),L=(p[0]+p[1]+p[2])/3,j=[];for(var n=0;n<4;n++){var O=0,F=255,i=Y[n],$=a[n];
if(g==0&&n==0){O=i;F=$}if(g==1&&n!=0){O=i;F=$}if(g==2&&n!=0){var z=p[n-1]/L;F=Math.max(0,Math.min(255,a[l]*z))}var H=[O,F];
j.push(H);if(g==3&&n==0){var b=255*(1-L);H.push(b)}}return j};f.apA=function(d,v,t,h,X,g,x){var Z=d.length,Y=f.UJ(d),a=Y==8?255:Y==16?65535:1,z=1/a,p=(t.length-1)*.999999,U=f.alj;
if(!x&&!g){if(Y==8&&t.length==256){t=f.OO(t,8);h=f.OO(h,8);X=f.OO(X,8);for(var n=0;n<Z;n+=4){v[n]=t[d[n]];
v[n+1]=h[d[n+1]];v[n+2]=X[d[n+2]];v[n+3]=d[n+3]}}else for(var n=0;n<Z;n+=4){var l=d[n]*z,L=d[n+1]*z,j=d[n+2]*z,O=U(t,p*l),F=U(h,p*L),i=U(X,p*j);
v[n]=O*a;v[n+1]=F*a;v[n+2]=i*a;v[n+3]=d[n+3]}return}for(var n=0;n<Z;n+=4){var l=d[n]*z,L=d[n+1]*z,j=d[n+2]*z;
if(g)l=L=j=l*.3+L*.59+j*.11;var O=U(t,p*l),F=U(h,p*L),i=U(X,p*j);if(x){var $=f.KR(l,L,j),H=f.KR(O,F,i);
if($>H){var b=($-H)/(1-H);O+=b*(1-O);F+=b*(1-F);i+=b*(1-i)}else if(H==0)O=F=i=0;else{var b=$/H;O=b*O;
F=b*F;i=b*i}}v[n]=O*a;v[n+1]=F*a;v[n+2]=i*a;v[n+3]=d[n+3]}};f.alj=function(d,v){var t=d.length;if(v>=t)return d[t-1]+(d[t-1]-d[t-2])*(v-t);
var h=~~v,X=v-h;return d[h]*(1-X)+d[h+(h==t-1?0:1)]*X};f.FY=function(d,v){var t=f.OO(d,8),h=v.r,X=v.$,top=0,g=0,x=0,Z=0,Y=0;
Y=0;for(var a=0;a<X;a++){var z=a*h;for(var n=0;n<h;n++)Y|=t[z+n];if(Y!=0)break;top++}if(top==X)return new iW(0,0,0,0);
Y=0;for(var a=X-1;a>=0;a--){var z=a*h;for(var n=0;n<h;n++)Y|=t[z+n];if(Y!=0)break;x++}var p=X-x;Y=0;
for(var n=0;n<h;n++){for(var a=top;a<p;a++)Y|=t[a*h+n];if(Y!=0)break;g++}Y=0;for(var n=h-1;n>=0;n--){for(var a=top;
a<p;a++)Y|=t[a*h+n];if(Y!=0)break;Z++}var U=new iW(v.x+g,v.y+top,h-g-Z,X-top-x);return U};f.mZ=function(d,v,t,h,X){var g=f.OO(d,8),top=0,a=0,z=0,p=0,U=!1;
if(h==null)h=[!0,!0,!0,!0];if(t==null)t=0;if(X==null)X=4294967295;var x=new Uint32Array(g.buffer),Z=v.r,Y=v.$,l=[x[0],x[x.length-1],0][t];
U=!1;if(h[0])for(var L=0;L<Y;L++){var j=L*Z;for(var n=0;n<Z;n++)if(x[j+n]&X^l)U=!0;if(U)break;top++}U=!1;
if(h[2])for(var L=Y-1;L>=0;L--){var j=L*Z;for(var n=0;n<Z;n++)if(x[j+n]&X^l)U=!0;if(U)break;z++}U=!1;
if(h[1])for(var n=0;n<Z;n++){for(var L=0;L<Y;L++)if(x[L*Z+n]&X^l)U=!0;if(U)break;a++}U=!1;if(h[3])for(var n=Z-1;
n>=0;n--){for(var L=0;L<Y;L++)if(x[L*Z+n]&X^l)U=!0;if(U)break;p++}var O=new iW(v.x+a,v.y+top,Z-a-p,Y-top-z);
return O.HP()?new iW(0,0,0,0):O};f.s4=function(d){var v=f.FY(d.N,d.S);if(v.fE(d.S))return;var t=f.m(v.k(),f.UJ(d.N));
f.Qb(d.N,d.S,t,v);d.N=t;d.S=v};f.R2=function(d,v){var t=f.mZ(d.buffer,d.S,2,null,v?null:4278190080);
if(t.fE(d.S))return;var h=new f.m(t.k()*4,f.UJ(d.buffer));f.wH(d.buffer,d.S,h,t);d.buffer=h;d.S=t};f.extend=function(d,v,t){if(d.S.GV(v))return;
var h=d.S.Ue(v),X=f.UJ(d.N),g=f.m(h.k(),X);if(t!=null)g.fill(f.ay(X)*t);f.Qb(d.N,d.S,g,h);d.S=h;d.N=g};
f.aJB=function(d,v){if(v.HP()||d.S.GV(v))return;var t=d.S.Ue(v),h=f.m(t.k()*4,f.UJ(d.buffer));f.wH(d.buffer,d.S,h,t);
d.S=t;d.buffer=h};f.x6=function(d,v,t){if(!t.QQ(d))return!1;var h=Math.floor(d.x)-t.x,X=Math.floor(d.y)-t.y,n=X*t.r+h;
return v[n]>f.ay(f.UJ(v))/2};f.aru=function(d,v,t){if(!t.QQ(d))return!1;var h=Math.floor(d.x)-t.x,X=Math.floor(d.y)-t.y,n=X*t.r+h;
return v[4*n+3]>f.ay(f.UJ(v))/2};f.lh=function(d){this.aX=f.m(d);this.C=f.m(d);this.L=f.m(d);this.X=f.m(d)};
f.lh.prototype.b=function(){var d=this.aX.length,v=new f.lh(1);v.aX=this.aX.slice(0);v.C=this.C.slice(0);
v.L=this.L.slice(0);v.X=this.X.slice(0);return v};f.O.arq=function(d,v,t,h,X){var g=X[0]+1,x=X[1],Z=Math.abs(x-25)/4,Y=X[2],a=Y%2+Y*Y>>1,z=f.O.B5;
z.B3(v,t);var p=z.Ce(1),U=z.Ce(1),l=z.Ce(1);z.AY(d,h,Y,Y,a);z.AM(h);z.hV(h,p);z.td(p,U,g,g,1);z.td(p,l,g,g,g*g);
z.sub(l,U);z.yK(U,Z);(x<25?z.sub:z.add)(p,U);z.vG(U,h);z.Xa(h)};f.O.aH8=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=X[0]*2.55,Z=X[1],Y=Z>>1,a=X[2]*.25,z=g.Ce(4),p=g.Ce(1),U=g.Ce(1);g._j(d,z,Z,1,!0,Y);
g._j(d,h,Z,1,!1,Y);g.Fn(d,p);g.O6(p,x);g.fH(p,U,3);g.gb(h,U,z);g.Am(z,h,a)};f.O.ayz=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[3]);var x=X[0]*-3+80,Z=X[1]*-3+80,Y=X[2]/2+.5,a=X[4],z=X[5],p=g.Ce(1),U=g.Ce(1),l=g.Ce(1),L=g.Ce(1),j=g.Ce(4),O=g.Ce(4);
g.Fn(d,p);g.Hy(p,U);g.v2(p,Z,5);g.abU(p,.4,0);g.fH(p,l,3);g.bs(l,p,9,3,!0,27);g.Hy(U,l);g.zJ(l);var F=g.yl(x,5,l);
for(var n=0;n<g.dK;n++){U[n]=F[255-U[n]]}g.abU(U,.4,0);g.Hy(U,l);g.fH(l,L,2);g.bs(L,l,5,3,!1,15);g.yK(p,Y);
g.yK(l,Y);g.HZ(h,2155905279);g.HZ(O,a);g.HZ(j,z);g.gb(O,p,h);g.gb(j,l,h)};f.O.amP=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=new Uint8Array(256),Z=5+10*X[1];Z+=X[1]>3?(X[1]-3)*10:0;var Y=~~(X[2]*.73)+50,a=Math.min(Y+Z,128),z=a-Y,p=-255*Y;
for(var n=0;n<256;n++){var U=n*65;x[n]=g.HE(p/z);p+=255}var l=g.Ce(1),L=g.Ce(1),j=g.Ce(1);g.Fn(d,l);
g.Hy(l,j);g.fH(l,L,2*X[0]+1);g.sub(L,l);g.yK(l,65);g.bs(l,L,9,3,!0,20);for(var n=0;n<g.dK;n++){var O=j[n],F=L[n];
l[n]=F>0?~~((F*O+(255-F)*128)/255):128}g.fH(l,L,3);g.bs(L,l,15,2,!0,16);g.bs(L,j,15,2,!1,15);g.z8(l,j);
g.jL(j,L,2);g.vl(L,x);g.fH(L,l,2);g.Ul(l,h)};f.O.aHf=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=2*X[0]+1,Z=g.aEb[X[1]],Y=X[2]*5.1,a=X[3],z=g.Ce(1),p=g.Ce(1),U=g.Ce(4),l=g.Ce(4);
g.HZ(U,a);g.AM(U,h);g.aBb(z,Y);g.vG(z,h);g.Xa(h,U);g.Fn(d,p);g.fH(p,z,x);g.sub(z,p);g.yK(p,Z);g.bs(p,z,9,3,!0,20);
g.gb(d,z,U);g.z5(U,h,3);g._j(h,U,15,2,!0,16);g._j(h,l,15,2,!1,16);g.z8(U,l);g.Am(l,h,2)};f.O.aB4=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=(15-X[0])/4+1,Z=(15-X[1])/4+1,Y=X[2],a=X[3],z=g.ul(X[4]),p=X[5]+1,U=X[6],l=X[7],L=X[8],j=g.Ce(1),O=g.Ce(1),F=g.Ce(1),i=g.Ce(1),$=g.Ce(4),H=g.Ce(4);
g.MB(F,Y,a,U);g.Fn(d,O);g.fH(O,j,5);g.$Y(F,j,i,p,z);g.yK(i,x);g.zf(i,2);g.zJ(j);g.$Y(F,j,O,p,z);g.yK(O,Z);
g.zf(O,2);g.HZ($,2155905279);g.HZ(H,l);g.HZ(h,L);g.gb($,O,H);g.gb(H,i,h)};f.O.aw_=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[3]);var x=X[0],Z=X[1]/10,Y=X[2]/10,a=g.Ce(1),z=g.Ce(1),p=g.Ce(1),U=g.oE(),l=g.oE(),L=g.oE();
g.D6(a);g.fH(a,z,11);g.fH(z,a,11);g.cQ(a,U);g.Tn(d,a);g.Hy(a,p);g.fH(a,z,9);g.fH(z,a,9);g.cQ(a,l);g.oo(l,L,5);
g.oo(L,l,5);g.an_(U,.8);g.aGN(U,l,.8,.9);g.arl(l,a,x);g.td(a,z,2,2,1);g.td(z,a,2,2,3);g.td(a,z,2,2,3);
g.td(p,a,5,5,13);g.hM(z,a,z,Z);g.do(a,z,z,Y);g.$Y(z,z,a,5,1);g.AM(d,h);g.vG(a,h);g.Xa(h)};f.O.aOq=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=X[0],Z=X[1]/2,Y=X[2],a=x/2,z=g.Ce(4),p=g.Ce(4);g.Hy(d,h);for(var U=0;U<Y;U++){g._j(h,z,x,1,!0,a);
g._j(h,p,x,1,!1,a);g.z8(p,z);g.z5(z,p,2);g.Am(p,h,Z)}};f.O.akO=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);
var x=X[0]*10,Z=X[1]*4.9,Y=X[2]*4.9,a=g.Ce(1),z=g.Ce(1),p=g.Ce(4),U=g.Ce(4);g.Fn(d,a);g.O6(a,g.aMg(a,x));
g.fH(a,z,3);g._j(d,p,5,1,!1,1);g._j(d,h,15,2,!0,16);g.gb(h,z,p);g.AM(p,h);g.hV(h,a);g.v2(a,Z,Y);g.vG(a,h);
g.Xa(h)};f.O.ap9=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[4]);var x=X[0]/20,Z=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][X[1]],Y=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][X[2]],a=X[3],z=new Int16Array(256);
for(var n=0;n<256;n++){z[n]=~~((n-128)*x)}var p=g.Ce(1),U=g.Ce(1),l=g.Ce(4);g.Fn(d,p);g.fH(p,U,25);g.yK(U,Z);
g.zf(U,Y);g.fH(U,p,25);g.D6(U);g.alf(p,U,z);g.Hy(d,h);g.HZ(l,a);g.gb(l,p,h)};f.O.a4R=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=X[0]+5,Z=15-X[1],Y=x*x/2,a=1-(3-X[2])/10,z=~~(Z*Z*a-1),p=~~(Z*Z*(1-a));if(p==0)p=1;var U=g.Ce(1),l=g.Ce(1),L=g.Ce(1),j=g.Ce(4);
g.Fn(d,L);g.td(L,U,x,x,Y);g.fH(L,l,x);g.sub(U,l);g.O6(l,1);g.AY(d,j,Z,Z,z);g.AY(d,h,Z,Z,p);g.gb(j,l,h)};
f.O.aey=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[3]);var x=(20-X[0])*.05,Z=X[1]*-2.75+60,Y=65-Z,a=X[2]/10,z=g.Ce(1),p=g.Ce(1);
g.Tn(d,p);var U=g.yl(Z,Y,p);g.AM(d,h);g.hV(h,p);g.D6(z);g.Ed(p,z,x);g.vl(p,U);g.yK(p,X[2]/10);g.add(z,p);
g.vG(p,h);g.Xa(h)};f.O.amo=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=5+X[0],Z=15-X[1],Y=X[2],a=x*x/2+x*x%2*1,z=1-(3-X[2])/10,p=~~(Z*Z*z-1),U=~~(Z*Z*(1-z));
if(U==0)U=1;var l=g.Ce(1),L=g.Ce(1),j=g.Ce(1),O=g.Ce(1),F=g.Ce(1);g.Tn(d,L);g.jL(L,l,3);g.td(l,L,2,2,1);
var i=g.yl(20,20,L);g.vl(L,i);g.fH(L,F,5);g.td(F,l,x,x,a);g.td(F,L,Z,Z,p);g.td(F,j,Z,Z,U);g.fH(F,O,x);
g.sub(l,O);g.O6(O,1);g.al3(L,O,j);g.AM(d,h);g.vG(j,h);g.Xa(h)};f.O.aah=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[5]);var x=g.dK,Z=g.a9,Y=X[0],a=X[1],z=X[2],p=X[3],U=X[4],l=.05*Y+1,L=Y/100,j=Y>>1,O=2*Y-100,F=+(a==9),i=+(a==7),$=[4,1][F],H=[3,2][F],b=[1,2][i],r=[2,1][i],W=[50,75][F],V=a<4?z:(z>>1)+50,y=g.ac4(W,V),c=g.Qn(p),S=g.Qn(U),C=g.Ce(4),K=g.Ce(4),T=g.Ce(1),D=g.Ce(1);
function N(h,y){if(V!=50){g.a2K(h,y)}}function G(d,k){for(var n=0;n<x;n++){d[n]=g.HE(d[n]+(k[n]-128)*L)}}function s(d,k){for(var n=0,o=0;
n<x;n++){d[o]=g.HE(d[o]+(k[o]-128)*L);d[o+1]=g.HE(d[o+1]+(k[o+1]-128)*L);d[o+2]=g.HE(d[o+2]+(k[o+2]-128)*L);
o+=4}}function Q(d,h){g.D6(K);g.Hy(d,h);s(h,K);N(h,y)}function q(k){var o=0;for(var af=0;af<12;af++)o+=g.random();
return g.HE(j*(o-6)+k)}function R(d,h){g.Hy(d,h);for(var n=0;n<Z;n+=4){h[n]=q(h[n]);h[n+1]=q(h[n+1]);
h[n+2]=q(h[n+2])}N(h,y)}function m(d,h){g.Hy(d,h);for(var n=0;n<Z;n+=4){if(g.random()<L){h[n]=c[0];h[n+1]=c[1];
h[n+2]=c[2]}}N(h,y)}function E(d,h){g.D6(C);g.AY(C,K,H,H,$);g.Hy(d,C);s(C,K);g.AY(C,h,5,5,13);N(h,y)}function e(d,h){g.D6(K);
g.Hy(d,C);s(C,K);N(h,y);g.AY(C,h,H,H,$)}function w(d,h){g.Hy(d,C);N(h,y);g.Fn(C,T);for(var n=0,k=0;n<x;
n++){var o=((O-T[n]+255)*128.5+.5)/32767;if(g.random()<=o){h[k++]=S[0];h[k++]=S[1];h[k++]=S[2]}else{h[k++]=c[0];
h[k++]=c[1];h[k++]=c[2]}h[k]=d[k];k++}}function M(d,h){g.AM(d,h);g.hV(h,T);g.jL(T,D,l);g.td(D,T,H,H,$);
g.vl(T,y);g.vG(T,h);g.Xa(h)}function P(d){var k=0;if(a==8){for(var o=0;o<v;o++){d[k++]=~~(g.random()*255)}for(var n=1;
n<t;n++){for(var o=0;o<v;o++){d[k++]=d[o]}}}else{for(var n=0;n<t;n++){var af=~~(g.random()*255);for(var o=0;
o<v;o++){d[k++]=af}}}}function I(d,h){g.Fn(d,T);g.D6(D);G(T,D);P(D);G(T,D);g.z5(d,C,9);g.z5(C,K,9);g.fH(T,D,2);
g.vl(D,y);g.fH(D,T,2);g.AM(K,h);g.vG(T,h);g.Xa(h)}[Q,R,m,E,E,e,w,I,I,M][a](d,h)};f.O.a4$=function(d,v,t,h,X){var g=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],x=f.O.B5,j=0,O,n,b,r,W,V=0,y=1,c=255;
x.B3(v,t);x.Fl(X[3]);var Z=x.Ce(1),Y=x.Ce(1);x.Fn(d,Z);var a=X[0],z=X[1],p=z<=50?g[z]/255:1+(255-g[101-z])/255,U=X[2],l=Z.length,L=new Float32Array(l),F=1+1/10*a,i=(1-1/F)/2,$=16/256,H=v-1;
for(n=0;n<x.dK;n++){L[n]=Z[n]/255;Y[n]=a==1?x.random()<1/255?c:y:y}function S(C,K){var T=C*v+K;if(Y[T]!=y||C>=t||K>=v){return}var r=L[T],D=p-r,N=x.random(),G=N/F+i;
if(j==0||Math.abs(W-r)>$){O=G<=D?V:c;j=~~(x.random()*a)}else if(.1<N){j--}else{j=0}Y[T]=O;W=r}if(U==0){for(n=0;
n<v;n++){for(b=0;b<v;b++){r=n+b;if(r>=v)break;S(b,H-r)}j=0}for(n=1;n<t;n++){for(b=0;b<t;b++){r=n+b;if(r>=t||b>=v)break;
S(r,H-b)}j=0}}else if(U==1){for(n=0;n<t;n++){for(b=0;b<v;b++){S(n,b)}j=0}}else if(U==2){for(n=0;n<v;
n++){for(b=0;b<v;b++){r=n+b;if(r>=v)break;S(b,r)}j=0}for(n=1;n<t;n++){for(b=0;b<t;b++){r=n+b;if(r>=t||b>=v)break;
S(r,b)}j=0}}else{for(n=0;n<v;n++){for(b=0;b<t;b++){S(b,n)}j=0}}x.Ul(Y,h)};f.O.aKq=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=X[0],Z=X[1],Y=X[2],a=g.Ce(1),z=g.Ce(1),p=g.Ce(1),U=g.Ce(1),l=g.Ce(4),L=g.Ce(4);g.hV(d,U,3,4);
g.Fn(d,a);g.td(a,z,3,3,1);g.td(a,p,3,3,9);g.sub(p,z);g.fH(z,a,3);g.v2(a,40,10,U);g._j(d,h,x,2,!1,x);
g._j(d,l,x,2,!0,x);g.HZ(L,255);g.gb(h,a,L);g.gb(L,a,l);g.Am(l,h,1);g.AM(h);g.hV(h,a);g.v2(a,Z,Y,U);g.vG(a,h);
g.Xa(h)};f.O.a0i=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[3]);var x=X[0],Z=X[1],Y=X[2]/10;x=x+Z;
var a=g.Ce(1),z=g.Ce(1),p=g.oE(),U=g.oE();g.D6(a);g.fH(a,z,11);g.fH(z,a,11);g.cQ(a,p);g.oo(p,U,5);g.oo(U,p,5);
g.an_(U,.97);g.arl(U,a,x);g.td(a,z,Z,Z,1);g.Tn(d,a);g.hM(z,a,z,.6);g.do(a,z,z,Y);g.$Y(z,z,a,5,1);g.AM(d,h);
g.vG(a,h);g.Xa(h)};f.O.a3M=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=Math.abs(X[0]),Z=x+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][x],Y=2*x+1,a=X[1]/10,z=a*13/15,p=g.Ce(1),U=g.Ce(1),l=g.Ce(1),L=g.Ce(1),j=g.Ce(4),O=g.Ce(4),F=g.Ce(4),i=g.Ce(4),$=g.Ce(4);
g.Fn(d,p);if(X[0]>=0){g.zJ(p)}g.Hy(p,l);g.fH(p,L,Z);g.fH(L,p,Z);g.yK(p,a);g.Hy(p,U);g.fH(p,L,Y);g.fH(L,p,Y);
g.yK(p,z);g.HZ(F,X[2]);g.HZ(i,X[3]);g.HZ($,X[4]);g.gb(F,p,i,j);g.gb($,U,j,O);g.gb(i,l,O,h);g.hV(d,l,3);
g.vG(l,h,3)};f.O.aLt=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[5]);var x=X[0]*5.1,Z=X[1]/100,Y=g.aqL[X[2]],a=g.Ce(1),z=g.Ce(1),p=g.Ce(1);
g.Fn(d,a);g.aBb(z,255);g.D6(p);g.O6(a,x);g.Ed(z,a,.7);g.Ed(p,a,Z);g.$Y(a,a,z,5,Y);g.Hy(d,h);g.av0(h,x,X[4],X[3]);
g.AM(h);g.vG(z,h);g.Xa(h)};f.O.aJG=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=X[0],Z=4-X[1],Y=11-X[2],a=g.Ce(1),z=g.Ce(1),p=g.Ce(4);
g.Tn(d,z);for(var n=0;n<Z;n++){g.Hy(z,a);g.abZ(a,z,x,x)}g.z5(d,p,x);g.AM(p,p);g.vG(z,p);g.Xa(p,p);(Y<11?g.acx:g.Hy)(p,h,Y)};
f.O.a8r=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[2]);var x=X[0]+5,Z=~~(x/5+1),Y=~~(x/2)+1,a=Y*Y,z=~~(x/3),p=g.aqL[X[1]],U=new Array(256);
for(var n=0;n<256;n++){U[n]=~~(.2*(n-128))}var l=g.Ce(1),L=g.Ce(1);g.apW(d,h,x);g.AM(h);g.hV(h,l);g.D6(L);
g.alf(l,L,U);g.abS(L,x,x,Z,Z);g.hM(l,L,l,1);g.fH(l,L,z);g.fH(L,l,z);g.td(l,L,Y,Y,a);g.$Y(L,L,l,5,p);
g.vG(l,h);g.Xa(h)};f.O.alE=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=g.Ce(1),Z=g.Ce(1),Y=g.Ce(1),a=g.oE(),z=g.oE();
g.Fn(d,x);g.fH(x,Z,X[2]);g.O6(Z,X[0]*5.1);g.td(Z,x,2,2,4);g.fH(x,Z,3);g.fH(Z,x,3);g.Hy(x,Y);g.fH(x,Z,5);
g.fH(Z,x,5);g.cQ(x,a);g.oo(a,z,5);g.oo(z,a,5);g.aqT(a,Z,X[1]);g.zJ(Z);g.hM(Y,Z,Y,1);g.Ul(Y,h)};f.O.a0T=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=1<<7-X[2],Z=g.Ce(1),Y=g.Ce(1),a=g.Ce(1);g.Tn(d,Y);g.fH(Y,Z,3);g.Hy(Z,Y);g.fH(Z,a,X[0]+5);
g.sub(a,Y);g.v2(Y,1,X[1]);g.yK(Z,1/x);g.yK(Z,x);g.sub(Z,Y);g.AM(d,h);g.vG(Y,h);g.Xa(h)};f.O.ah1=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[3]);var x=g.Ce(1),Z=g.Ce(1),Y=g.Ce(1);g.Fn(d,x);g.auc(Z,X[0]/50);g.fH(Z,Y,3);g.td(x,Z,9,9,41);
g.v2(Z,X[1],X[2]);g.hM(Z,Y,Y,.75);g.do(Z,Y,Z,.5);g.Hy(Z,x);g.td(x,Y,3,3,8);g.hM(Y,Z,Y,.75);g.yK(Y,1.2);
g.jL(Y,x,1);g.fH(x,Y,2);g.jL(Y,x,2);g.yK(x,1.2);g.fH(x,Y,2);g.Ul(Y,h)};f.O.a8P=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=X[0]+9,Z=X[1]/2,Y=X[2],a=X[3],z=g.ul(X[4]),p=X[5]+1,U=X[6],l=g.Ce(1),L=g.Ce(1),j=g.Ce(4),O=g.Ce(4);
g.MB(L,Y,a,U);g.asJ(d,h,x,1,1);g.asJ(h,j,x,1,1);g.ajE(j,j,O,7,Z);g.yK(O,1.2);g.zf(O,1.2);g.$Y(L,l,l,p,z);
g.yK(l,3);g.Hy(d,h);g.gb(O,l,h)};f.O.a0F=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[3]);var x=X[0]+4,Z=x*2/5+(x%5|0);
x--;var Y=X[1]*-2.75+60,a=65-Y,z=X[2]/10,p=g.Ce(1),U=g.Ce(1);g.D6(p);g.Tn(d,U);var l=g.yl(Y,a,U);g.AM(d,h);
g.hV(h,U);g.Ed(U,p,.8);g.vl(U,l);g.yK(U,z);g.add(p,U);g.bs(U,p,x,3,!1,Z);g.vG(p,h);g.Xa(h)};f.O.auq=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[3]);var x=X[0]+5,Z=(x*x>>1)+x%2,Y=X[1]/10,a=X[2],z=(a*a>>1)+a%2,p=g.Ce(1),U=g.Ce(1),l=g.Ce(1),L=g.Ce(4),j=g.Ce(4),O=g.Ce(4);
g.D6(l);g.AM(d,O);g.hV(O,p);g.Ed(p,l,.8);g.fH(l,p,3);g.jL(p,l,Y);g.vG(l,O);g.Xa(O,O);g.Fn(O,l);g.td(l,p,x,x,Z);
g.fH(l,U,x);g.sub(p,U);g.O6(U,1);g.AY(O,L,7,7,40);g.AY(O,j,7,7,10);g.gb(L,U,j);g.AY(j,h,a,a,z)};f.O.aH3=function(d,v,t,h,X){var g=f.O.B5,Z=255,n,a;
g.B3(v,t);var x=X[0];if(x<2)Z=x;else if(x<12)Z=5*x-5;else if(x<47)Z=2*x+28;else if(x<50){n=x-47;Z=125+12.5*n+12.5*n*n}var Y=new Uint8Array(256);
for(n=75,a=15;n<256;n++,a+=24)Y[n]=Math.min(255,a);var z=g.Ce(1),p=g.Ce(1),U=g.Ce(1);g.Fn(d,z);g.fH(z,p,11);
g.fH(p,U,11);g.sub(U,z);g.yK(z,8);g.sub(U,z);g.O6(z,Z);g.zJ(z);g.fH(z,p,5);g.O6(p,51);g.fH(p,z,X[1]);
g.fH(z,p,X[1]);g.zJ(p);g.vl(p,Y);g.Ul(p,h)};f.O.awK=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=g.aEb[X[1]],Z=X[2],Y=Z*1.5,a=g.Ce(1),z=g.Ce(1),p=g.Ce(1);
g.Tn(d,a);g.bs(a,z,15,2,!0,15);g.Hy(z,p);g.v2(p,Z,Y);g.fH(p,a,3);g.fH(z,p,X[0]);g.sub(p,z);g.yK(z,x);
g.sub(a,z);g.fH(z,a,3);g.bs(a,z,3,1,!1,1);g.z5(d,h,15);g.AM(h);g.vG(z,h);g.Xa(h)};f.O.aLd=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);g.Fl(X[3]);var x=X[0]*5.1,Z=16-X[1],Y=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][X[2]],a=g.Ce(1),z=g.Ce(1),p=g.Ce(1);
g.Fn(d,a);g.O6(a,x);g.fH(a,z,Z);g.fH(z,a,Z);g.D6(p);g.do(a,p,p,1);g.hM(a,p,a,.75);g.yK(a,Y);g.zf(a,Y);
g.td(a,z,2,2,2);g.Ul(z,h)};f.O.axk=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);var x=X[0]+9,Z=X[1]+9,Y=X[2],a=X[3],z=g.ul(X[4]),p=X[5]+1,U=X[6],l=g.Ce(1),L=g.Ce(1),j=g.Ce(1),O=g.Ce(1),F=g.Ce(1),i=g.Ce(4);
g.Tn(d,l);g.abZ(l,j,x,x);g.fH(j,l,Z);g.Hy(j,F);g.Hy(l,O);g.sub(F,O);g.sub(l,F);g.add(F,O);g.yK(O,10);
g.MB(L,Y,a,U);g.$Y(L,l,F,p,z);g.al3(F,O,j,.8);g.z5(d,i,9);g.z5(i,h,9);g.AM(h);g.vG(j,h);g.Xa(h)};f.O.aCL=function(d,v,t,h,X){var g=f.O.B5;
g.B3(v,t);var x=16-X[0],Z=X[1]*8,Y=1-(3-X[2])/10,a=~~(x*x*Y-1),z=~~(x*x*(1-Y));if(z==0)z=1;var p=g.Ce(1),U=g.Ce(1),l=g.Ce(1),L=g.Ce(4);
g.Fn(d,l);g.td(l,p,7,7,25);g.fH(l,U,7);g.sub(p,U);g.O6(U,1);g.AY(d,L,x,x,a);g.AY(d,h,x,x,z);g.gb(L,U,h);
g.AM(h);g.hV(h,p);g.td(p,l,3,3,1);g.td(p,U,3,3,9);g.sub(U,l);g.Hy(l,U);g.sub(p,l);g.sub(l,U);g.td(U,p,3,3,8);
g.v2(p,Z,1);g.vG(p,h);g.Xa(h)};f.O.a1T=function(d,v,t,h,X){var g=f.O.B5;g.B3(v,t);g.Fl(X[3]);var x=X[0],Z=X[1],Y=X[2],a=x>>1,z=Math.max(~~(x/5),1),p=Math.max(~~(x*2/3),1),U=g.ac4(Z,Y),l=g.Ce(1),L=g.Ce(1),j=g.Ce(1),O=g.Ce(1),F=g.Ce(4);
g.Tn(d,l);g.aM7(2147483647,4,2,2,0,255,L);g.aM7(4,2147483647,2,2,0,255,O);g.D6(j);g.do(L,j,L,1);g.do(O,j,O,1);
g.do(L,l,L,1);g.do(O,l,O,1);g.z5(d,F,a);g.z5(F,h,a);g.td(L,l,1,x,z);g.td(l,L,3,x,p);g.td(O,l,x,1,z);
g.td(l,O,x,3,p);g.z8(L,O);g.AM(h);g.vG(O,h);g.Xa(h);g.a2K(h,U)};f.O.iw=function(d,v,t){var h=t.aNb,X=t.dK,g=t.Ce(1),top=t.Ce(1),x=t.Ce(1),Z=t.Ce(1),Y=t.Ce(1),a=t.Ce(1),z=t.Ce(1),p=t.Ce(1),U=t.Ce(1),l=t.F0,L=t.uV,j=f.mD.HG,O=f.mD.Za;
j(d,g,l,L,O([8,5,2,5,2,-1,2,-1,-4]));j(d,top,l,L,O([5,5,5,2,2,2,-1,-1,-1]));j(d,x,l,L,O([2,5,8,-1,2,5,-4,-1,2]));
j(d,Z,l,L,O([5,2,-1,5,2,-1,5,2,-1]));j(d,Y,l,L,O([2,2,2,2,2,2,2,2,2]));j(d,a,l,L,O([-1,2,5,-1,2,5,-1,2,5]));
j(d,z,l,L,O([2,-1,-4,5,2,-1,8,5,2]));j(d,p,l,L,O([-1,-1,-1,2,2,2,5,5,5]));j(d,U,l,L,O([-4,-1,2,-1,2,5,2,5,8]));
var F=[g,top,x,Z,Y,a,z,p,U];for(var i=0;i<L;i++){for(var $=0;$<l;$++){var H=i*l+$,b=d[H],r=null,W=0;
for(var V=-1;V<2;V++){for(var y=-1;y<2;y++){var c=F[(V+1)*3+y+1],S=Math.max(0,Math.min(i+V,L-1)),C=Math.max(0,Math.min($+y,l-1)),K=c[S*l+C],T=Math.abs(K-b);
if(r==null||T<r){r=T;W=K}}}v[H]=W}}};f.O.aAc=function(d,v,t,h,X){var self=f.O.B5;self.B3(v,t);var g=self.Ce(1),x=self.Ce(1);
for(var n=0;n<4;n++){self.hV(d,g,n);if(n<3){f.O.iw(g,x,self);f.O.iw(x,g,self);f.O.iw(g,x,self);f.O.iw(x,g,self);
f.O.iw(g,x,self);f.O.iw(x,g,self);f.O.iw(g,x,self);f.O.iw(x,g,self);f.O.iw(g,x,self)}else x=g;self.vG(x,h,n)}};
f.O.B5={};f.O.B5.F0=0;f.O.B5.uV=0;f.O.B5.dK=0;f.O.B5.K2=0;f.O.B5.a9=0;f.O.B5.B3=function(d,v){var t=d*v,self=f.O.B5;
self.F0=d;self.uV=v;self.dK=t;self.K2=t<<1;self.a9=t<<2};f.O.B5.Fl=function(d){f.O.B5.random=function(){var v=d+=1831565813;
v=Math.imul(v^v>>>15,v|1);v^=v+Math.imul(v^v>>>7,v|61);return((v^v>>>14)>>>0)/4294967296}};f.O.B5.Ce=function(d){var v=f.O.B5;
return new Uint8Array([-1,v.dK,v.K2,-1,v.a9][d])};f.O.B5.oE=function(){return new Int32Array(f.O.B5.K2)};
f.O.B5.fH=function(d,v,t,h){if(h==null)h=t;var self=f.O.B5,X=self.F0,g=self.uV,x=h,Z=h>>1,Y=t,a=t>>1,z=t*h,p=0;
for(var n=0;n<g;n++){var U=0;for(var l=0;l<x;l++){for(var L=0;L<Y;L++){var j=0-a+L,O=n-Z+l;if(j<0)j=0;
else if(j>=X)j=X-1;if(O<0)O=0;else if(O>=g)O=g-1;U+=d[O*X+j]}}v[p++]=~~(U/z);for(var F=1;F<X;F++){for(var l=0;
l<x;l++){var i=F-a-1,$=i+Y,O=n-Z+l;if(i<0)i=0;if($>=X)$=X-1;if(O<0)O=0;else if(O>=g)O=g-1;U+=d[O*X+$]-d[O*X+i]}v[p++]=~~(U/z)}}};
f.O.B5.oo=function(d,v,t,h){var self=f.O.B5,X=new Int32Array(self.dK),g=new Int32Array(self.dK);for(var n=0;
n<2;n++){self.hV(d,X,n,2);self.fH(X,g,t,h);self.vG(g,v,n,2)}};f.O.B5.z5=function(d,v,t,h){var self=f.O.B5,X=self.Ce(1),g=self.Ce(1);
for(var n=0;n<4;n++){self.hV(d,X,n);if(n<3)self.fH(X,g,t,h);else g=X;self.vG(g,v,n)}};f.O.B5.asJ=function(d,v,t,h,X){var self=f.O.B5,g=self.F0,x=self.uV,Z=t+h-1,Y=t>>1,a=Z>>1,z=0,p=t*h,U=new Int32Array(t);
for(var n=0;n<x;n++){var l=0,L=0,j=0;for(var O=0;O<t;O++){var F=X?Z-O-h:O;for(var i=F,$=h+F;i<$;i++){var H=0-a+i,b=n-Y+O;
if(i==F){U[O]=H}if(H<0)H=0;else if(H>=g)H=g-1;if(b<0)b=0;else if(b>=x)b=x-1;var r=g*b+H<<2;l+=d[r];L+=d[r+1];
j+=d[r+2]}}v[z++]=~~(l/p);v[z++]=~~(L/p);v[z++]=~~(j/p);v[z]=d[z];z++;for(var W=1;W<g;W++){for(var O=0;
O<t;O++){var b=n-Y+O,F=U[O]+1;U[O]=F;var V=F-1,y=F+h-1;if(b<0)b=0;else if(b>=x)b=x-1;if(V<0)V=0;else if(V>=g)V=g-1;
if(y<0)y=0;else if(y>=g)y=g-1;var c=b*g+V<<2,S=b*g+y<<2;l=l+d[S]-d[c];L=L+d[S+1]-d[c+1];j=j+d[S+2]-d[c+2]}v[z++]=~~(l/p);
v[z++]=~~(L/p);v[z++]=~~(j/p);v[z]=d[z];z++}}};f.O.B5.bs=function(d,v,t,h,X,g){var self=f.O.B5,x=self.F0,Z=self.uV,Y=t+h-1,a=t>>1,z=Y>>1,p=0,U=new Int32Array(t),l=new Int32Array(256),L=new Int32Array(16);
for(var n=0;n<Z;n++){for(var j=0;j<256;j++){l[j]=0}for(var j=0;j<16;j++){L[j]=0}for(var O=0;O<t;O++){var F=X?Y-O-h:O;
for(var i=F,$=h+F;i<$;i++){var H=0-z+i,b=n-a+O;if(i==F){U[O]=H}if(H<0)H=0;else if(H>=x)H=x-1;if(b<0)b=0;
else if(b>=Z)b=Z-1;l[d[b*x+H]]++;L[d[b*x+H]>>>4]++}}var r=0,W=0;while(r+L[W>>>4]<g){r+=L[W>>>4];W+=16}for(;
W<256;W++){r+=l[W];if(r>=g)break}v[p++]=W;for(var j=1;j<x;j++){for(var O=0;O<t;O++){var b=n-a+O,F=U[O]+1;
U[O]=F;var V=F-1,y=F+h-1;if(b<0)b=0;else if(b>=Z)b=Z-1;if(V<0)V=0;else if(V>=x)V=x-1;if(y<0)y=0;else if(y>=x)y=x-1;
l[d[b*x+V]]--;l[d[b*x+y]]++;L[d[b*x+V]>>>4]--;L[d[b*x+y]>>>4]++}r=0;W=0;while(r+L[W>>>4]<g){r+=L[W>>>4];
W+=16}for(;W<256;W++){r+=l[W];if(r>=g)break}v[p++]=W}}};f.O.B5._j=function(d,v,t,h,X,g){var self=f.O.B5,x=self.Ce(1),Z=self.Ce(1);
for(var n=0;n<4;n++){self.hV(d,x,n);if(n<3)self.bs(x,Z,t,h,X,g);else Z=x;self.vG(Z,v,n)}};f.O.B5.td=function(d,v,t,h,X){X=Math.min(h*t,X);
var self=f.O.B5,g=self.F0,x=self.uV,Z=h>>1,Y=t>>1,a=0,z=new Int32Array(h),p=new Int32Array(256),U=new Int32Array(16);
for(var n=0;n<x;n++){for(var l=0;l<256;l++){p[l]=0}for(var l=0;l<16;l++){U[l]=0}for(var L=0;L<h;L++){for(var j=0,O=t;
j<O;j++){var F=0-Y+j,i=n-Z+L;if(j==0){z[L]=F}if(F<0)F=0;else if(F>=g)F=g-1;if(i<0)i=0;else if(i>=x)i=x-1;
p[d[i*g+F]]++;U[d[i*g+F]>>>4]++}}var $=0,H=0;while($+U[H>>>4]<X){$+=U[H>>>4];H+=16}for(;H<256;H++){$+=p[H];
if($>=X)break}v[a++]=H;for(var l=1;l<g;l++){for(var L=0;L<h;L++){var i=n-Z+L,b=z[L]+1;z[L]=b;var r=b-1,W=b+t-1;
if(i<0)i=0;else if(i>=x)i=x-1;if(r<0)r=0;else if(r>=g)r=g-1;if(W<0)W=0;else if(W>=g)W=g-1;p[d[i*g+r]]--;
p[d[i*g+W]]++;U[d[i*g+r]>>>4]--;U[d[i*g+W]>>>4]++}$=0;for(H=0;H<256;H++){$+=p[H];if($>=X)break}v[a++]=H}}};
f.O.B5.AY=function(d,v,t,h,X){var self=f.O.B5,g=self.Ce(1),x=self.Ce(1);for(var n=0;n<4;n++){self.hV(d,g,n);
if(n<3)self.td(g,x,t,h,X);else x=g;self.vG(x,v,n)}};f.O.B5.jL=function(d,v,t){var self=f.O.B5,h=self.F0,X=self.uV,g=0;
for(var n=0;n<X;n++){var x=n*h,Z=(n-1)*h,Y=(n+1)*h;if(Z<0)Z=x;if(Y>=X)Y=x;for(var a=0;a<h;a++){var z=a-1,p=a+1;
if(z<0)z=a;if(p>=h)p=a;var U=x+z,l=x+p,L=Z+a,j=Y+a,O=x+a,F=d[U],i=d[l],$=d[L],H=d[j],b=d[O],r=b+(b*4*t+.5);
r=r-((F+i+H+$)*t+.5);v[g++]=self.HE(r)}}};f.O.B5.Am=function(d,v,t){var self=f.O.B5,h=self.Ce(1),X=self.Ce(1);
for(var n=0;n<4;n++){self.hV(d,h,n);if(n<3)self.jL(h,X,t);else X=h;self.vG(X,v,n)}};f.O.B5.acx=function(d,v,t){var self=f.O.B5,h=self.F0,X=self.uV,g=0,x=t+4;
for(var n=0;n<X;n++){var Z=n*h,Y=(n-1)*h,a=(n+1)*h;if(Y<0)Y=Z;if(a>=X)a=Z;for(var z=0;z<h;z++){var p=z-1,U=z+1;
if(p<0)p=z;if(U>=h)U=z;var l=Z+p<<2,L=Z+U<<2,j=Y+z<<2,O=a+z<<2,F=Z+z<<2;for(var i=0;i<3;i++){var $=d[l+i],H=d[L+i],b=d[j+i],r=d[O+i],W=d[F+i];
v[g++]=(W*t+$+H+r+b)/x}v[g]=d[g];g++}}};f.O.B5.abZ=function(d,v,t,h){var self=f.O.B5,X=self.F0,g=self.uV,x=t>>1,Z=h>>1,Y=0,a=new Int32Array(t),z=new Int32Array(256);
for(var n=0;n<g;n++){for(var p=0;p<256;p++){z[p]=0}for(var U=0;U<t;U++){for(var l=0,L=h;l<L;l++){var j=0-Z+l,O=n-x+U;
if(l==0){a[U]=j}if(j<0)j=0;else if(j>=X)j=X-1;if(O<0)O=0;else if(O>=g)O=g-1;z[d[O*X+j]]++}}var F=0,i=0;
for(var $=0;$<256;$++){if(F<z[$]){i=$;F=z[$]}}v[Y++]=i;for(var p=1;p<X;p++){for(var U=0;U<t;U++){var O=n-x+U,H=a[U]+1;
a[U]=H;var b=H-1,r=H+h-1;if(O<0)O=0;else if(O>=g)O=g-1;if(b<0)b=0;else if(b>=X)b=X-1;if(r<0)r=0;else if(r>=X)r=X-1;
z[d[O*X+b]]--;z[d[O*X+r]]++}F=0;i=0;for(var $=0;$<256;$++){if(F<z[$]){i=$;F=z[$]}}v[Y++]=i}}};f.O.B5.aJV=[function(d,v,t,h,X,g,x,Z,Y,a){return X+(d+v+t)*a-(Y+Z+x)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(v+t+g)*a-(Z+x+h)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(t+g+Y)*a-(x+h+d)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(g+Y+Z)*a-(h+d+v)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(Y+Z+x)*a-(d+v+t)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(Z+x+h)*a-(v+t+g)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(x+h+d)*a-(t+g+Y)*a},function(d,v,t,h,X,g,x,Z,Y,a){return X+(h+d+v)*a-(g+Y+Z)*a}];
f.O.B5.$Y=function(d,v,t,h,X){var self=f.O.B5,g=self.F0,x=self.uV,Z=g,Y=self.aJV[h-1];for(var n=0;n<x;
n++){var a=(n>0?n-1:0)*Z,z=n*Z,p=(n<x?n+1:n)*Z;for(var U=0;U<g;U++){var l=U>0?U-1:0,L=U<g?U+1:U,j=z+U,O=d[a+l],F=d[a+U],i=d[a+L],$=d[z+l],H=v[j],b=d[z+L],r=d[p+l],W=d[p+U],V=d[p+L];
t[j]=self.HE(Y(O,F,i,$,H,b,r,W,V,X))}}};f.O.B5.ajE=function(d,v,t,h,X){var self=f.O.B5,g=self.Ce(1),x=self.Ce(1),Z=self.Ce(1);
for(var n=0;n<3;n++){self.hV(d,g,n);self.hV(v,x,n);self.$Y(g,x,Z,h,X);self.vG(Z,t,n)}self.hV(v,g,3);
self.vG(g,t,3)};f.O.B5.Fn=function(d,v){var t=d.length,h=0;for(var n=0;n<t;n++){v[h++]=~~((d[n++]+d[n++]+d[n++]+2)/3)}};
f.O.B5.Ul=function(d,v){var t=v.length,h=0;for(var n=0;n<t;n++){var X=d[n];v[h++]=X;v[h++]=X;v[h++]=X;
v[h++]=255}if(v[0]==255)v[0]--;else v[0]++};f.O.B5.Tn=function(d,v){var t=v.length,h=0;for(var n=0;n<t;
n++){var X=d[h++],g=d[h++],x=d[h++];h++;if(g>X)X=g;if(x>X)X=x;v[n]=X}};f.O.B5.AM=function(d,v){if(v==null)v=d;
var t=d.length;for(var h=0;h<t;h+=4){var X=d[h],g=d[h+1],x=d[h+2],Z=X,Y=0,a=X,p;if(g<=X){X=g}else{Y=1;
a=g}if(x<=a){if(X>x){X=x}}else{Y=2;a=x}var z=a-X;if(z!=0){if(Y==0){p=~~(43*(g-x)/z)}else if(Y==1){p=~~(43*(x+2*z-Z)/z)}else{p=43*(Z+4*z-g)/z}if(p<0){p=255&p-1}v[h]=p;
v[h+1]=~~(255*z/a)}else{v[h]=z;v[h+1]=z}v[h+2]=a;v[h+3]=d[h+3]}};f.O.B5.Xa=function(d,v){if(v==null)v=d;
var t=d.length;for(var h=0;h<t;h+=4){var X=d[h],g=d[h+1],x=d[h+2];if(g){if(X==255)X=0;var Z=~~(6*X/255),Y=~~(-255*Z+6*X);
if(Z==0){v[h]=x;v[h+1]=~~(x*(255-g*(255-Y)/255)/255);v[h+2]=~~(x*(255-g)/255)}else if(Z==1){v[h]=~~(x*(255-g*Y/255)/255);
v[h+1]=x;v[h+2]=~~(x*(255-g)/255)}else if(Z==2){v[h]=~~(x*(255-g)/255);v[h+1]=x;v[h+2]=~~(x*(255-g*(255-Y)/255)/255)}else if(Z==3){v[h]=~~(x*(255-g)/255);
v[h+1]=~~(x*(255-g*Y/255)/255);v[h+2]=x}else if(Z==4){v[h]=~~(x*(255-g*(255-Y)/255)/255);v[h+1]=~~(x*(255-g)/255);
v[h+2]=x}else{v[h]=x;v[h+1]=~~(x*(255-g)/255);v[h+2]=~~(x*(255-g*Y/255)/255)}}else{v[h]=x;v[h+1]=x;v[h+2]=x}v[h+3]=d[h+3]}};
f.O.B5.vG=function(d,v,t,h){if(t==null)t=2;if(h==null)h=4;var X=d.length;for(var n=0;n<X;n++){v[t]=d[n];
t+=h}};f.O.B5.hV=function(d,v,t,h){if(t==null)t=2;if(h==null)h=4;var X=v.length;for(var n=0;n<X;n++){v[n]=d[t];
t+=h}};f.O.B5.al3=function(d,v,t,h){if(h==null)h=1;var X=v.length,g=0,x;for(var g=0;g<X;g++){x=v[g];
if(x){x*=h;t[g]=~~((x*d[g]+(255-x)*t[g])/255)}}};f.O.B5.gb=function(d,v,t,h){if(h==null)h=t;var X=v.length,g=0,x,Z;
for(var n=0;n<X;n++){x=v[n];if(x){Z=255-x;h[g]=~~((x*d[g]+Z*t[g])/255);h[g+1]=~~((x*d[g+1]+Z*t[g+1])/255);
h[g+2]=~~((x*d[g+2]+Z*t[g+2])/255)}h[g+3]=d[g+3];g+=4}};f.O.B5.hM=function(d,v,t,h){var X=~~(h*255),g=t.length;
for(var n=0;n<g;n++){t[n]=((255-X*(255-d[n])/255)*v[n]+d[n]*(X*(255-d[n])/255))/255}};f.O.B5.do=function(d,v,t,h){var X=~~(h*255),g=t.length;
for(var n=0;n<g;n++){t[n]=((255-X*d[n]/255)*v[n]+d[n]*(X*d[n]/255))/255}};f.O.B5.Ed=function(d,v,t){var h=v.length;
for(var n=0;n<h;n++){v[n]=~~(d[n]*t+.5)+(v[n]-~~(v[n]*t+.5))}};f.O.B5.sub=function(d,v){var t=d.length;
for(var n=0;n<t;n++){v[n]=Math.max(d[n]-v[n],0)}};f.O.B5.add=function(d,v){var t=d.length;for(var n=0;
n<t;n++){v[n]=Math.min(d[n]+v[n],255)}};f.O.B5.aNb=function(d,v){var t=d.length;for(var n=0;n<t;n++){v[n]=d[n]+v[n]}};
f.O.B5.z8=function(d,v){var t=d.length;for(var n=0;n<t;n++){v[n]=d[n]+v[n]>>1}};f.O.B5.Hy=function(d,v){var t=d.length;
for(var n=0;n<t;n++){v[n]=d[n]}};f.O.B5.vl=function(d,v){var t=d.length;for(var n=0;n<t;n++){d[n]=v[d[n]]}};
f.O.B5.a2K=function(d,v){var t=f.O.B5.a9;for(var n=0;n<t;n+=4){var h=d[n],X=d[n+1],g=d[n+2],x=h;if(X>h)x=X;
if(g>h)x=g;var Z=v[x];if(Z){d[n]=~~(Z*h/x);d[n+1]=~~(Z*X/x);d[n+2]=~~(Z*g/x)}else{d[n]=Z;d[n+1]=Z;d[n+2]=Z}}};
f.O.B5.yK=function(d,v){for(var n=0,t=d.length;n<t;n++){d[n]=Math.min(255,~~(.5+d[n]*v))}};f.O.B5.zf=function(d,v){for(var n=0,t=d.length;
n<t;n++){d[n]=255-Math.min(255,~~(.5+(255-d[n])*v))}};f.O.B5.zJ=function(d){var v=d.length;for(var n=0;
n<v;n++){d[n]=255-d[n]}};f.O.B5.O6=function(d,v,t,h){if(t==null)t=0;if(h==null)h=255;for(var n=0,X=d.length;
n<X;n++){d[n]=d[n]>=v?h:t}};f.O.B5.Qn=function(d){return[d>>24&255,d>>16&255,d>>8&255,d&255]};f.O.B5.av0=function(d,v,t,h){if(t==null)t=255;
if(h==null)h=4278190335;var X=f.O.B5,g=X.a9,x=X.Qn(t),Z=X.Qn(h);for(var n=0;n<g;n+=4){var Y=~~((d[n]+d[n+1]+d[n+2]+2)/3);
if(Y>=v){d[n]=x[0];d[n+1]=x[1];d[n+2]=x[2]}else{d[n]=Z[0];d[n+1]=Z[1];d[n+2]=Z[2]}}};f.O.B5.HZ=function(d,v){var t=f.O.B5,h=t.a9,X=t.Qn(v);
for(var n=0;n<h;){d[n++]=X[0];d[n++]=X[1];d[n++]=X[2];d[n++]=X[3]}};f.O.B5.aBb=function(d,v){var t=d.length;
for(var n=0;n<t;){d[n++]=v}};f.O.B5.ac4=function(d,v){d=d>5?(100-Math.max(4,d))/100:.95;v=v!=100?Math.max(4,v)/100:.9995;
var t=new Uint8Array(256),h=v>.5?.5/(1-v):v*2,X=~~(h*256),g=~~((.5-d*h)*256)<<8;for(var n=0;n<256;n++){t[n]=f.O.B5.HE(g>>8);
g+=X}return t};f.O.B5.D6=function(d){for(var n=0,v=f.O.B5,t=d.length;n<t;n++){d[n]=~~(v.random()*256)}};
f.O.B5.auc=function(d,v){for(var n=0,t=f.O.B5,h=d.length;n<h;n++){d[n]=t.random()<v?255:0}};f.O.B5.abU=function(d,v,t){for(var n=0,h=f.O.B5,X=d.length;
n<X;n++){if(h.random()<v)d[n]=t}};f.O.B5.alf=function(d,v,t){var h=d.length;for(var n=0;n<h;n++){d[n]=f.O.B5.HE(d[n]+t[v[n]])}};
f.O.B5.Bl=function(d){var v=new Uint32Array(256);for(var n=0,t=d.length;n<t;n++)v[d[n]]++;return v};
f.O.B5.ab4=function(d,v){var t=0,h=0,X=new Uint32Array(256),g=new Float32Array(256);for(var n=0,x=d.length;
n<x;n++){var Z=d[n],Y=v[n];if(Y==255){X[Z]++;t++}else if(Y>0){Y/=255;h+=Y;g[Z]+=Y;if(h>=1){h--;t++}if(g[Z]>=1){g[Z]--;
X[Z]++}}}return[t,X]};f.O.B5.yl=function(d,v,t,h){var self=f.O.B5,X,g,z=0,U=256;if(h){var x=self.ab4(t,h);
X=x[1];g=x[0]/100}else{X=self.Bl(t);g=self.dK/100}var Z=new Uint8Array(256),Y=g*d,a=g*v,p=-1;do{z+=X[++p]}while(z<=Y);
z=0;do{z+=X[--U]}while(z<=a);if(U-p<=0)U=p+1;if(U>255){U=255;p=254}var l=255/(U-p),L=-p;for(var n=0;
n<256;n++){Z[n]=self.HE(l*L+.5);L++}return Z};f.O.B5.v2=function(d,v,t,h){var X=f.O.B5;X.vl(d,X.yl(v,t,d,h))};
f.O.B5.aMg=function(d,v){var self=f.O.B5,t=self.Bl(d),h=self.dK*v/100,X=0,g=-1;do{X+=t[++g]}while(X<=h);
return g};f.O.B5.cQ=function(d,v){var t=0,self=f.O.B5,h=self.F0,X=self.uV,g=1/Math.PI,x=g*255;for(var n=0;
n<X;n++){var Z=n+1;if(Z==X)Z--;var Y=n*h,a=~~((1-(n+1)/X)*255);for(var z=0;z<h;z++){var p=z+1;if(p==h)p--;
var U=d[Y+z],l=d[Y+p],L=d[Z*h+z];if(U-L==0){v[t++]=a}else{var j=U-L+255;if(j==255){j=0}else{j=~~(Math.atan2(1/(255-j),1)*x+.5);
if(j<0)j+=255}v[t++]=j}if(U-l==0){v[t++]=~~((1-(z+1)/h)*255)}else{var j=U-l+255;if(j==255){j=0}else{j=~~(Math.atan2(1/(255-j),1)*x+.5);
if(j<0)j+=255}v[t++]=j}}}};f.O.B5.an_=function(d,v){var self=f.O.B5,t=self.F0,h=self.uV,X=0;for(var n=0;
n<h;n++){for(var g=0;g<t;g++){d[X]=~~(n*v+.5)+~~(d[X]*(1-v)+.5);X++;d[X]=~~(g*v+.5)+~~(d[X]*(1-v)+.5);
X++}}};f.O.B5.aGN=function(d,v,t,h){var self=f.O.B5,X=self.F0,g=self.uV,x=0;for(var n=0;n<g;n++){for(var Z=0;
Z<X;Z++){v[x]=~~(v[x]*(1-t)+.5)+~~(d[x]*h+.5);x++;v[x]=~~(v[x]*(1-t)+.5)+~~(d[x]*h+.5);x++}}};f.O.B5.arl=function(d,v,t){var self=f.O.B5,h=self.F0,X=self.uV,g=0,x=0;
for(var n=0;n<X;n++){for(var Z=0;Z<h;Z++){var Y=d[g++],a=d[g++];v[x++]=a%t>=2&&Y%t>=2?255:0}}};f.O.B5.aM7=function(d,v,t,h,X,g,x){var self=f.O.B5,Z=self.F0,Y=self.uV,a=0,z=0,p=0;
for(var n=0;n<Y;n++){var U=n%d<t||Y-t<=n;for(var l=0;l<Z;l++){x[a++]=U||l%v<h||Z-h<=l?X:g}}};f.O.B5.MB=function(d,v,t,h){var self=f.O.B5,X=self.F0,g=self.uV,x=fH.MB(v),Z=x[1],Y=x[0].r,a=x[0].$,z=100/t;
for(var p=0;p<g;p++)for(var U=0;U<X;U++){var l=f.G.us(U*z,p*z,Z,Y,a);d[p*X+U]=h?255-l:l}};f.O.B5.HE=function(d){return~~Math.min(255,Math.max(0,d))};
f.O.B5.aEb=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];f.O.B5.aqL=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
f.O.B5.ul=function(d){return d>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][d-41]:d/40};f.O.B5.apW=function(d,v,t){var self=f.O.B5,h=self.F0,X=self.uV,g=t,x=t>>1,Z=x-1,Y=g*g,a=0;
for(var n=0;n<X;n++){var z=0,p=0,U=0,l=~~(n/t)*t,L=0;for(var j=0;j<g;j++){for(var O=0;O<g;O++){var F=L+O,i=l+j;
if(F>=h)F=h-1;if(i>=X)i=X-1;z+=d[i*h+F<<2];p+=d[(i*h+F<<2)+1];U+=d[(i*h+F<<2)+2]}}var $=~~(z/Y),H=~~(p/Y),b=~~(U/Y);
v[a]=$;v[a+1]=H;v[a+2]=b;v[a+3]=d[a+3];a+=4;for(var r=1;r<h;r++){for(var j=0;j<g;j++){var W=r-1,V=W+g,i=l+j;
if(V>=h)V=h-1;if(i>=X)i=X-1;var y=i*h,c=y+V<<2,S=y+W<<2;z+=d[c]-d[S];p+=d[c+1]-d[S+1];U+=d[c+2]-d[S+2]}if(r%t==0){$=~~(z/Y);
H=~~(p/Y);b=~~(U/Y)}v[a]=$;v[a+1]=H;v[a+2]=b;v[a+3]=d[a+3];a+=4}}};f.O.B5.abS=function(d,v,t,h,X){var self=f.O.B5,g=self.F0,x=self.uV,Z=0,Y=0,a=0,z=0;
for(var n=z;n<x+z;n++){var p=n%v>=h||n<h||x+z-h<=n;for(var U=0;U<g;U++){d[Z++]=p&&(U%t>=X||U<X||g-X<=U)?255:0}}};
f.O.B5.aqT=function(d,v,t){var h=function(a,z){return z<=a?a/z&1?z-a%z:a%z:a},X=[function(Z,Y){return h(Z,255)/255},function(Z,Y){return(255+h(Z,255)-h(Y,255))/510},function(Z,Y){return(255-h(Y,255))/255},function(Z,Y){return(510-h(Z,255)-h(Y,255))/510},function(Z,Y){return(255-h(Z,255))/255},function(Z,Y){return(255-h(Z,255)+h(Y,255))/510},function(Z,Y){return h(Y,255)/255},function(Z,Y){return(h(Z,255)+h(Y,255))/510}][t],g=0,x=0;
for(var n=0;n<f.O.B5.dK;n++){var Z=d[g++],Y=d[g++];v[x++]=~~(255*X(Z,Y))}};f.O.awn=function(){var d=[],v=new Uint8Array(512),t=new Float32Array(512),h=new Float32Array(512),X=[1,-1,1,-1,1,-1,0,0],g=[1,1,-1,-1,0,0,1,-1],x=0,Z,L=0;
for(;x<256;x++)d[x]=x;while(x!=0){x--;Z=Math.floor(Math.random()*x);d[Z]^=d[x]^(d[x]=d[Z])}function Y(Y){Y=Math.floor(Y*65536);
if(Y<256){Y|=Y<<8}for(var n=0;n<256;n++){var F=n+256,i=d[n]^(n&1?Y:Y>>8)&255;v[n]=v[F]=i;i=i%8;t[n]=t[F]=X[i];
h[n]=h[F]=g[i]}}function a(F){return F*F*F*(F*(F*6-15)+10)}function z(F,i,$){return(1-$)*F+$*i}function p(F,i){return F&i}function U(F,i){return F%i}function l(F,i,$,H,b){var r=Math.floor(F),W=Math.floor(i),x,V,y,c,S,C;
F=F-r;i=i-W;r=r&255;W=W&255;x=r+v[W];c=t[x]*F+h[x]*i;x=r+v[b(W+1,H)];y=t[x]*F+h[x]*(i-1);x=b(r+1,$)+v[W];
S=t[x]*(F-1)+h[x]*i;x=b(r+1,$)+v[b(W+1,H)];C=t[x]*(F-1)+h[x]*(i-1);V=a(F);return z(z(c,S,V),z(y,C,V),a(i))}function j(F,x,i){F[x]=i}function O(F,i,$,H,b,r){var W=Math.min(Math.min(i,256),Math.min(256,$)),V=W==256||W<8,y=8,c=new Uint32Array(y),S=new Uint32Array(y),C=new Float32Array(y),K=new Float32Array(y),T=1,D=1,N=V?p:U,G=j,s;
for(var n=0;n<y;n++){s=D*1/W;if(V){S[n]=(1<<Math.ceil(Math.log2($*s)))-1;c[n]=(1<<Math.ceil(Math.log2(i*s)))-1}else{S[n]=s*$;
c[n]=s*i}C[n]=T;K[n]=s;T*=.5;D=D<<1}Y(r==null?Math.random():r);for(var Q=0,x=0;Q<$;Q++){for(var q=0;
q<i;q++){var R=0;for(var m=0;m<y;m++){s=K[m];R+=l(q*s,Q*s,c[m],S[m],N)*C[m]}G(H,x++,Math.round(Math.max(0,255*Math.min(1,.5+R*.5))))}}}return O}();
f.O.adH=function(){function d(v,t,h,X){var g=new Uint8Array(v.length>>>2),x=new Uint8Array(v.length>>>2),Z=new Uint8Array(v.length);
for(var n=0;n<v.length;n+=4){var Y=v[n+0]*.3+v[n+1]*.59+v[n+2]*.11;x[n>>>2]=Y;Z[n]=v[n];Z[n+1]=v[n+1];
Z[n+2]=v[n+2]}f.mD.apQ(x,g,t,h);f.mD.Rz(v,X,t,h,f.mD.dY[1],!1,!0);for(var n=0;n<v.length;n+=4){Z[n+3]=255-g[n>>>2]}for(var n=0,a=v.length;
n<a;n+=4){var z=Z[n+3]/255;X[n]=Z[n]*z+X[n]*(1-z);X[n+1]=Z[n+1]*z+X[n+1]*(1-z);X[n+2]=Z[n+2]*z+X[n+2]*(1-z)}}return d}();
f.O.a9G=function(){function d(g,x,Z,Y,a){var z=new Uint32Array(g.buffer),p=0;for(var n=0;n<Z;n++){for(var U=0;
U<x;U++,p+=4){var l=z[n*x+U],L=l&255,j=l>>>8&255,O=l>>>16&255,F=l>>>24&255,i=~~(Math.random()*8),$=i%3,H=0,b=0;
if(i<3){b--}else if(i>4){b++}if($==0){H--}else if($==2){H++}var r=U+H,W=n+b;if(r<0)r=0;else if(r>x-1)r=x-1;
if(W<0)W=0;else if(W>Z-1)W=Z-1;var l=z[W*x+r],V=l&255,y=l>>>8&255,c=l>>>16&255,S=l>>>24&255;Y[p]=a(L,V);
Y[p+1]=a(j,y);Y[p+2]=a(O,c);Y[p+3]=a(F,S)}}}function v(g,x){return x}function t(g,x){return g>x?x:g}function h(g,x){return g<x?x:g}function X(g,x,Z,Y,a){var z=a[0];
if(z==0)d(g,x,Z,Y,v);else if(z==1)d(g,x,Z,Y,t);else if(z==2)d(g,x,Z,Y,h);else if(z==3){console.error("Not implemented")}else console.error("Mew mew")}return X}();
f.O.adv=function(){function d(v,t,h,X,g){var x=g&&g[0]?g[0]:4,Z,Y,a,z,p,U,l;for(var n=0;n<h;n++){var L=Math.max(n-x,0),j=Math.min(n+x,h-1);
for(var O=0;O<t;O++){var F=Math.max(O-x,0),i=Math.min(O+x,t-1);Z=L*t+F<<2;z=v[Z];p=v[Z+1];U=v[Z+2];l=v[Z+3];
Z=L*t+i<<2;z+=v[Z];p+=v[Z+1];U+=v[Z+2];l+=v[Z+3];Z=j*t+F<<2;z+=v[Z];p+=v[Z+1];U+=v[Z+2];l+=v[Z+3];Z=j*t+i<<2;
z+=v[Z];p+=v[Z+1];U+=v[Z+2];l+=v[Z+3];Z=n*t+O<<2;X[Z]=z+2>>>2;X[Z+1]=p+2>>>2;X[Z+2]=U+2>>>2;X[Z+3]=l+2>>>2}}}return d}();
f.O.aoN=function(){function d(v,t,h,X){var g=new Uint8Array(v.length),x=new Uint8Array(v.length>>>2),Z=new Uint8Array(v.length>>>2);
f.mD.Rz(v,g,t,h,f.mD.dY[2],!1,!0);for(var n=0;n<v.length;n+=4){var Y=g[n+0]*.3+g[n+1]*.59+g[n+2]*.11;
x[n>>>2]=Y;X[n+0]=v[n+0];X[n+1]=v[n+1];X[n+2]=v[n+2];X[n+3]=v[n+3]}f.mD.apQ(x,Z,t,h);for(var n=0;n<v.length;
n+=4){g[n+3]=~~(Math.max(0,255-Z[n>>>2]-50)*(255/205))}for(var n=0,a=v.length;n<a;n+=4){var z=g[n+3]/255;
X[n]=g[n]*z+X[n]*(1-z);X[n+1]=g[n+1]*z+X[n+1]*(1-z);X[n+2]=g[n+2]*z+X[n+2]*(1-z)}}return d}();f.O.cG=function(){function d(i,$){return i[$]+i[$+1]+i[$+2]+i[$+3]}function v(i,$){return i[$]+i[$+1]+i[$+2]+2*i[$+3]}function t(i,$,H,b){i[$]=H[b];
i[$+1]=H[b+1];i[$+2]=H[b+2];i[$+3]=H[b+3]}function h(i,$,H){i[$]=i[H];i[$+1]=i[H+1];i[$+2]=i[H+2];i[$+3]=i[H+3]}function X(i,$,H){i[H]=$[H];
i[H+1]=$[H+1];i[H+2]=$[H+2];i[H+3]=255-$[H+3]}function g(i){for(var n=0,$=i.length;n<$;n+=4){i[n+3]=255-i[n+3]}}function x(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function Z(i,$,H,b,r,W){i[$]=H[b]+(r[W]-H[b]>>1);i[$+1]=H[b+1]+(r[W+1]-H[b+1]>>1);
i[$+2]=H[b+2]+(r[W+2]-H[b+2]>>1);i[$+3]=H[b+3]+(r[W+3]-H[b+3]>>1)}function Y(i,$,H,b,r,W){i[$]=r[W]+H[b]>>1;
i[$+1]=r[W+1]+H[b+1]>>1;i[$+2]=r[W+2]+H[b+2]>>1;i[$+3]=r[W+3]+H[b+3]>>1}function a(i,$,H,b,r,W,V,y,c){var S=0,C=0,K=0,n,T=r[W],D;
Z(y,0,i,$,i,H);for(n=0;n<T;n++){Z(y,(n+1)*4,y,n*4,i,H)}C=(T+1)*4;K+=T;W--;t(i,$,y,C-4);b[W]=d(i,$);$-=c;
while(W>0&&b[W-1]<b[W]){D=y;y=V;V=D;S=C;Y(y,0,i,$-c,V,0);for(n=4;n<S;n+=4){Y(y,n,y,n-4,V,n)}T=r[W];for(n=K;
n<T;n++){Z(y,C,y,C-4,V,S-4);C+=4;K++}W--;t(i,$,y,C-4);b[W]=d(i,$);$-=c}}function z(i,$,H,b,r){var W=$*4,V=0,y,c,S=new Uint8Array($+1),C=new Uint8Array(10*4),K=new Uint8Array(10*4);
for(var n=0;n<H;n++){X(b,i,V);r[0]=d(b,V);S[0]=x();y=V;V+=4;for(var T=1;T<$;T++){X(b,i,V);r[T]=d(b,V);
c=x();S[T]=c;if(r[T-1]<r[T]&&c>0){a(b,V-4,V,r,S,T,C,K,4)}V+=4}r[$]=r[0];S[$]=S[0];if(r[$-1]<r[$]&&c>0){a(b,V,y,r,S,$,C,K,4)}}g(b)}function p(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function U(i,$,H,b,r,W){var V=p()+1,y=b[r];
for(var n=1;n<V;n++){if(0>r)break;if(b[r-n]<y){h(i,$,H)}else{break}$+=W}}function l(i,$,H,b,r){var W=$*4,V=0;
for(var n=0;n<H;n++){X(b,i,V);r[0]=d(b,V);V+=4;for(var y=1;y<$;y++){X(b,i,V);r[y]=d(i,V);if(r[y-1]<r[y]){U(b,V-4,V,r,y,-4)}V+=4}r[$]=r[0];
if(r[y-1]<r[y]){U(b,V-4,V-W,r,y,-4)}}g(b)}function L(i,$,H,b,r,W){var V=1,y,c,S=new Uint8Array(4),C,K=$;
while(Math.random()<1/V){K=$;if(b<=1)break;y=H[b];c=H[b-1];if(y<=c)break;t(S,0,i,K-W);C=!0;for(var n=b;
n<r;n++){if(c>H[n]){t(i,K-W,S,0);H[n-1]=c;C=!1;break}t(i,K-W,i,K);H[n-1]=H[n];K+=W}if(C){t(i,K-W,S,0);
H[r-1]=c}V++;b--;$-=W}}function j(i,$,H,b,r){var W=0,V=0,y=$*4;for(var n=0;n<H;n++){V=W;for(var c=0;
c<$;c++){X(b,i,W);r[c]=v(b,W);W+=4}W=V;for(var c=1;c<$;c++){if(r[c-1]<r[c]&&Math.random()<.66){L(b,W+4,r,c,$,4)}W+=4}W+=4}g(b)}function O(i,$,H,b,r){var W=r[0],V=r[1],y=new Uint16Array($+1),c=i,S=b,C;
if(V){C=b.slice(0);F(i,b,$,H);c=b;S=C}if(W==0)z(c,$,H,S,y);else if(W==1)l(c,$,H,S,y);else if(W==2)j(c,$,H,S,y);
if(V){F(C,b,$,H)}}function F(i,$,H,b){for(var r=0;r<b;r++)for(var W=0;W<H;W++){var V=r*H+W<<2,y=r*H+(H-1-W)<<2;
$[y]=i[V];$[y+1]=i[V+1];$[y+2]=i[V+2];$[y+3]=i[V+3]}}return O}();f.O.auu=function(d,v,t,h,X){var g=f.O.B5,x=1,O=0,$=0;
g.B3(v,t);g.Fl(X[2]);var Z=3<<13,Y=Math.PI/2.43,a=Y/256,z=Math.PI*2/256;function p(){var W=g.random()*256,V=g.random()*256;
return x*~~(Math.tan(Y-W*a)*325*Math.cos(V*z)*256)+Z>>16}x=X[0];var U=X[1],l=(U+2)/2,L=g.random()*255,j=g.Ce(1);
for(var n=0;n<t;n++){var F=g.HE(p()+L);for(var i=0;i<v;i++){F=g.HE(p()+F);j[O++]=F}}O=v;for(var n=1;
n<t;n++){var H=g.HE(p()+j[$++]);j[O++]=H;for(var i=1;i<v;i++){var b=$+1;if(i+1==v){b--}var r=(l+H+j[b]+j[$]*U)/(U+2);
H=g.HE(p()+r);j[O++]=H;$++}}g.Ul(j,h)};var gt=function(){function d(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;
e=e*668265261;e=e^e>>>15;return e}var v=function(){var v=function(e){if(e){this.aX=e}this.aX=d(this.aX);
return(this.aX&16777215)*(1/16777215)};return v};function t(e,w){if(w==null){w=[0,0]}return Math.sqrt((w[0]-e[0])*(w[0]-e[0])+(w[1]-e[1])*(w[1]-e[1]))}function h(e,w){if(w==null){w=[0,0]}return[-(w[1]-e[1])/t(e,w),(w[0]-e[0])/t(e,w)]}function X(e){return[Math.cos(e),Math.sin(e)]}function g(e){var w=t(e,[0,0]),M=[e[0]/w,e[1]/w],P=Math.atan(M[1]/M[0]);
if(M[0]>0&&M[1]<0){P+=2*Math.PI}else if(M[0]<0&&M[1]<0){P+=Math.PI}else if(M[0]<0&&M[1]>0){P+=Math.PI}return P}function x(e){var x=0;
for(var n=1;n<e.length/2;++n){x+=t([e[2*n],e[2*n+1]],[e[2*(n-1)],e[2*(n-1)+1]])}return x}function Z(e,w,M){var P=new Float32Array(e.length),I=1/(e.length/2),k=b(M);
for(var n=0;n<e.length/2;++n){var o=n*I,af=o/2+.5,J=1,at=0;if(M.shape==2){J=1/(2*af)}if(M.shape==3){af=(1-o)/2+.5;
J=1/(2*af)+.5}if(M.shape==4){af=o;J=Math.sin(3/2*Math.PI*af)/4+1}if(M.shape==5){af=(o-.5)*6;J=(-Math.atan(af)/1.25+1)/5+.6-.2*o}var ke=[null,null];
if(n==0){ke=h([e[2*n],e[2*n+1]],[e[2*(n+1)],e[2*(n+1)+1]])}else if(n==e.length/2-1){ke=h([e[2*(n-1)],e[2*(n-1)+1]],[e[2*n],e[2*n+1]])}else{ke=h([e[2*(n-1)],e[2*(n-1)+1]],[e[2*(n+1)],e[2*(n+1)+1]])}P[2*n]=e[2*n]+(J*w+at)*ke[0];
P[2*n+1]=e[2*n+1]+(J*w+at)*ke[1];if(M.style==2){P[2*n]+=r(2*n/P.length,k,M)}}return P}function Y(e,w,M){var P=new Float32Array(e.length),I=1/(e.length/2);
for(var n=0;n<e.length/2;++n){var k=n*I,o=[null,null],af=.6*M.d$*y(k,w.a4L)*M.a3/100,J=.6*M.d$*y(k,w.ahe)*M.a3/100,at=w.aoY*af+(1-w.aoY)*J;
if(n==0){o=h([e[2*n],e[2*n+1]],[e[2*(n+1)],e[2*(n+1)+1]])}else if(n==e.length/2-1){o=h([e[2*(n-1)],e[2*(n-1)+1]],[e[2*n],e[2*n+1]])}else{o=h([e[2*(n-1)],e[2*(n-1)+1]],[e[2*(n+1)],e[2*(n+1)+1]])}P[2*n]=e[2*n]+at*o[0];
P[2*n+1]=e[2*n+1]+at*o[1]}return P}function a(e){if(e.gx==1){return[.150684932,.205479452,.465753425,.178082192]}else if(e.gx==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var w=[],M=1/(K(e)-1);
for(var n=0;n<K(e)-1;++n){w.push(M)}return w}}function z(e,w,M){var P=[],I=w-e,k=e;for(var n=0;n<M.length-1;
++n){P.push(k+M[n]*I);k=P[n]}return P}function p(e,w,M,P){var I=new Float32Array(M.length),k=0,o={shape:Math.floor(P.random()*2.99),a7h:P.random()*.1+.15};
for(var n=0;n<M.length-1;++n){var af=k+M[n];I[n]=((1-af)*e+af*w)*F(P,af,o);k=af}return I}function U(e,w,M,P){var I=S(P),k=P.random(),o=k*20+(1-k)*26,af=new Float32Array(M.length),J=0;
for(var n=0;n<M.length-1;++n){var at=J+M[n];af[n]=(1-at)*e+at*w+I/o*(2/3*Math.sin(Math.PI*at)+1/3*Math.sqrt(Math.sin(Math.PI*at)));
J=at}return af}function l(e,w,M){var P=[];for(var n=0;n<w.length-1;++n){P.push(w[n].slice());var I=n*(K(M)-1),k=(n+1)*(K(M)-1),o=e[k]-e[I];
for(var af=I+1;af<k;++af){var J=b(M),at=new Float32Array(w[0].length),ke=(e[af]-e[I])/o;for(var c_=0;
c_<w[0].length/2;++c_){at[2*c_]=(1-ke)*w[n][2*c_]+ke*w[n+1][2*c_];at[2*c_+1]=(1-ke)*w[n][2*c_+1]+ke*w[n+1][2*c_+1];
if(M.style==2){at[2*c_]+=r(2*c_/w[0].length,J,M)}}P.push(at)}}P.push(w[w.length-1]);return P}function L(e,w,M){var P=new Array(w.length),I=q(e),o=null;
for(var n=0;n<w.length;++n){P[n]=Z(I,(w[n]-.5)*M.a3,M)}var k=1+.05*M.ad_*S(M)/S({gx:1});for(var n=0;
n<w.length;++n){if(w[n]==0){o=n}}for(var n=0;n<w.length;++n){var af=(M.random()-.5)*2,J=Math.round(M.random()*9+1),at=new Float32Array(J*2+2);
for(var ke=0;ke<=J;++ke){at[2*ke]=P[n][0]-(P[n][2*ke]-P[n][0]);at[2*ke+1]=P[n][1]-(P[n][2*ke+1]-P[n][1])}if(n==o){af*=.1}for(var ke=(P[n].length-1)/2;
ke>J;--ke){P[n][2*ke]=(1-af)*P[n][2*ke]+af*(P[n][2*(ke-J)]+k*(P[n][2*ke]-P[n][2*(ke-J)]));P[n][2*ke+1]=(1-af)*P[n][2*ke+1]+af*(P[n][2*(ke-J)+1]+k*(P[n][2*ke+1]-P[n][2*(ke-J)+1]))}for(var ke=J-1;
ke>=0;--ke){P[n][2*ke]=(1-af)*P[n][2*ke]+af*(at[2*(J-ke)]+k*(P[n][2*ke]-at[2*(J-ke)]));P[n][2*ke+1]=(1-af)*P[n][2*ke+1]+af*(at[2*(J-ke)+1]+k*(P[n][2*ke+1]-at[2*(J-ke)+1]))}}var c_=V(w,M);
if(M.d$>0){var ag=0;for(var n=0;n<w.length;++n){if(n==0){ag+=w[n]}else{ag+=Math.abs(w[n]-w[n-1])}var dz=ag-Math.floor(ag),kL=1;
if(dz==0){kL=0}P[n]=Y(P[n],{a4L:c_[Math.floor(ag)],ahe:c_[Math.floor(ag)+kL],aoY:dz},M)}}return P}function j(e,w){var M=N(w,e),P=G(w,e),I=[],k=[],o=[],af=a(e);
for(var n=0;n<w.length-1;++n){I.push(w[n]);k.push(M[n]);o.push(P[n]);var J=z(w[n],w[n+1],af),at=p(M[n],M[n+1],af,e),ke=U(P[n],P[n+1],af,e);
for(var c_=0;c_<J.length;++c_){I.push(J[c_]);k.push(at[c_]);o.push(ke[c_])}}I.push(w[w.length-1]);k.push(M[M.length-1]);
o.push(P[P.length-1]);return{acM:I,aA_:k,v5:o}}function O(e,w,M,P){var I=new Float32Array(2*P),k=e.length/2,o=k-w,af=M*o,J=af/P;
for(var n=0;n<P;++n){var at=Math.floor(w+n*J),ke=Math.ceil(w+n*J),M=w+n*J,c_=ke-at,ag=1,dz=0;if(c_!=0){ag=(ke-M)/c_;
dz=(M-at)/c_}I[2*n]=ag*e[2*at]+dz*e[2*ke];I[2*n+1]=ag*e[2*at+1]+dz*e[2*ke+1]}return I}function F(e,w,M){var P=M.a7h,I=w*2*Math.PI,k=I,o=0;
if(M.shape==0){o=(Math.sin(2*k+Math.PI/2)+1)/2}else if(M.shape==1){o=(Math.sin(k+Math.PI/2)+1)/2}else{o=(4*Math.sin(3/4*k+Math.PI)+Math.sin(Math.PI/2+2*k)-2*k/Math.PI+6)/7}return Math.min(1,1-P+P*o)}function i(e,w,M,P){var I=[];
for(var n=0;n<e.length;++n){I.push(O(e[n],w[n],M[n],P))}return I}function $(e,w,M){var P=[];for(var n=0;
n<e.length;++n){var I=X(2*Math.PI*M.random()),k=X(2*Math.PI*M.random()),o=M.awU*.5*T({gx:1})/T(M),af=o*M.a3/200,J=o*w/500,at=new Float32Array(e[0].length);
for(var ke=0;ke<e[0].length/2;++ke){var c_=X(2*Math.PI*M.random()),ag=2*ke/e[0].length;at[2*ke]=e[n][2*ke]+af*(c_[0]+((1-ag)*I[0]+ag*k[0]));
at[2*ke+1]=e[n][2*ke+1]+J*(c_[1]+((1-ag)*I[1]+ag*k[1]))}P.push(at)}return P}function H(e,w,M){var P=M.q9,I=2/P,k=[1/10,1/30,1/40,1/45,1/100],o=k[M.gx-1],af=4*(M.JS/25*I*o)*(1-M.awU/150),c_=0,dz=0;
if(M.style==3){return af*.09}var J=2.2*(e-.5),at=J*J*J*J+.27+Math.max(0,(M.JS-50)/15),ke=2*(Math.sin(3*Math.PI*w)/(Math.PI*w+2)+1.1)-w/2;
w=2*w;if(w<.41){var ag=2*Math.PI*w/.41;c_=(Math.sin(ag-Math.PI/2)+1)/4+.5}else if(w<.77){var ag=2*Math.PI*(w-.41)/.36;
c_=(Math.sin(ag-Math.PI/2)+1)/4+.5-ag/2/Math.PI*.5}else{var ag=2*Math.PI*(w-.77)/.23;c_=(Math.sin(ag-Math.PI/2)+1)/2*.12}c_*=3;
c_+=Math.max(0,(M.JS-50)/15);if(M.e==6){dz=ke}else{dz=c_}return af*at*dz}function b(e){return{Y:e.random()*7/2+.5,ST:e.random()*2*Math.PI}}function r(e,w,M){return M.a3/300*K({gx:1})/K(M)*10*(Math.sin(w.Y*2*Math.PI*e+w.ST)+10*(M.random()-.5))}function W(e){var w=Math.exp(-e.d$/25);
return{Y:e.random()*3/2+.5,ST:e.random()*2*Math.PI,f9:(e.random()-.5)*10*w}}function V(e,w){var M=Math.ceil(s(e)),P=[];
for(var n=0;n<=M;++n){P.push(W(w))}return P}function y(e,w){var M=w.Y*4*Math.PI*e+w.ST;return Math.exp(-1/2*Math.PI*e)*Math.cos(M)*Math.cos(M)*Math.cos(M)*Math.cos(M)*Math.cos(M)+e*w.f9-w.f9/4}function c(e,w,M,P,I){var k=0,o=T(w)-1;
for(var n=0;n<o;++n){for(var af=0;af<e.length-1;af+=K(w)-1){for(var J=n;J<e[0].length/2-o;J+=o){for(var at=af;
at<af+(K(w)-1);++at){M[I+k]=H(at*(w.q9-1)/(e.length-1)%1,J/e[0].length,w);var ke=0,c_=0;if(w.e==6&&at!=0&&at!=e.length-1){c_=(e[at][2*(J+1)+1]-e[at][2*J+1])/2;
ke=(e[at][2*(J+1)]-e[at][2*J])/2}P[8*I+8*k]=e[at][2*J]+ke;P[8*I+8*k+1]=e[at][2*J+1]+c_;P[8*I+8*k+2]=e[at][2*(J+o)]+ke;
P[8*I+8*k+3]=e[at][2*(J+o)+1]+c_;P[8*I+8*k+4]=e[at+1][2*(J+o)];P[8*I+8*k+5]=e[at+1][2*(J+o)+1];P[8*I+8*k+6]=e[at+1][2*J];
P[8*I+8*k+7]=e[at+1][2*J+1];++k}}}}}function S(e){var w=[100,300,500,700,1e3];return w[e.gx-1]}function C(e){var w=[30,70,100,140,300];
return w[e.gx-1]}function K(e){var w=[5,7,26,40,100];return w[e.gx-1]}function T(e){if(e.gx==1){return 4}else if(e.gx==2){return 8}else{return Math.floor(C(e)/9)}}function D(e){var w=e.q9,M=new Float32Array(w),P=null;
for(var n=0;n<w;++n){M[n]=e.random()}if(e.q9<=3){M[0]=0;M[e.q9-1]=1}else{for(var n=0;n<2;++n){var I=Math.floor(e.random()*w);
if(P==null||P!=I){M[I]=n;P=I}else{M[I+1]=n}}}return M}function N(e,w){var M=[],P=.2,k=0;for(var n=0;
n<e.length;++n){var I=w.random()*(1-P)+P;M.push(I)}var o=Math.min(3,w.q9);for(var n=0;n<e.length;++n){if(M[n]>.9){++k}}while(k<o){var af=Math.floor(w.random()*e.length);
if(M[af]<=.9){M[af]=.9+.1*w.random();++k}}return M}function G(e,w){var M=S(w),P=S({gx:1}),I=[];for(var n=0;
n<e.length;++n){I.push(Math.max(1,(w.random()*10+2)*M/P))}return I}function s(e){var w=0;for(var n=0;
n<e.length;++n){if(n==0){w+=e[n]}else{w+=Math.abs(e[n]-e[n-1])}}return w}function Q(e,w){if(e.length/2-1==S(w)){return e}var M=new Float32Array(2*(S(w)+1)),P=(e.length-2)/(M.length-2);
for(var n=0;n<M.length/2;++n){var I=n*P,k=Math.floor(I),o=Math.ceil(I),af=o-k,J=1,at=0;if(af!=0){J=(o-I)/af;
at=(I-k)/af}M[2*n]=J*e[2*k]+at*e[2*o];M[2*n+1]=J*e[2*k+1]+at*e[2*o+1]}return M}function q(e,w){var M=e.length/2,P=x(e),I=P/M,k=!1,J=0,at=0,ke=1;
if(w){var o=Math.floor(P/w.aFH),af=w.aFH;if(w.a8_&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]){k=!0;af=P/(o+1)}if(w.e==2&&!k&&af*o+w.length>P){M=o+1}else{M=o+2}I=af}var c_=new Float32Array(M*2);
c_[0]=e[0];c_[1]=e[1];for(var n=1;n<M;++n){while(J<=n*I){at=J;J+=t([e[2*ke],e[2*ke+1]],[e[2*(ke-1)],e[2*(ke-1)+1]]);
++ke}var ag=1-(n*I-at)/(J-at);c_[2*n]=(1-ag)*e[2*ke]+ag*e[2*(ke-1)];c_[2*n+1]=(1-ag)*e[2*ke+1]+ag*e[2*(ke-1)+1]}c_[c_.length-2]=e[e.length-2];
c_[c_.length-1]=e[e.length-1];return c_}function R(e,w){var M=q(e,w),P=[];for(var n=0;n<(M.length-2)/2;
++n){var I=[];I.push(M[2*n]);I.push(M[2*n+1]);var k=t([M[2*(n+1)],M[2*(n+1)+1]],[M[2*n],M[2*n+1]]),o=[(M[2*(n+1)]-M[2*n])/k,(M[2*(n+1)+1]-M[2*n+1])/k],af=X((w.aE6-90)/360*2*Math.PI),J=o;
if(w.e==3){J=af}else if(w.e==4){J=X(g(o)+g(af))}else if(w.e==5){J=X(((w.random()-.5)*w.aE6-90)/360*2*Math.PI)}var at=w.length;
if(w.adp){at=2*w.random()*w.length}I.push(M[2*n]+J[0]*at);I.push(M[2*n+1]+J[1]*at);P.push(I)}return P}function m(e){if(e.aMf){e.G1=100*Math.random()}else{e.G1=e.aiu}e.random=new v;
e.random(e.G1);if(e.e==6){e.q9=2;e.shape=5;e.ad_=0}}function E(e,w){e=Q(e,w);var M=[e],at=0;if(w.e>=2&&w.e<6){M=R(e,w)}var P=T(w)-1,I=C(w)-P,k=(w.q9-1)*(K(w)-1),o=M.length*I*k,af=new Float32Array(o),J=new Float32Array(8*o);
for(var n=0;n<M.length;++n){for(var ke=0;ke<1e4;++ke){w.G1=d(w.G1)}w.random(w.G1);var e=Q(M[n],w),c_=D(w),ag=s(c_),dz=L(e,c_,w),kL=j(w,c_),aq=l(kL.acM,dz,w);
aq=i(aq,kL.v5,kL.aA_,C(w));if(w.awU>0){aq=$(aq,x(M[n]),w)}c(aq,w,af,J,at);at+=I*k}return[af,J]}var gt=function(e){var w=performance.now(),M=e[0],P=e[1];
m(P);var I=[new Float32Array(0),new Float32Array(0)];for(var n=0;n<M.length;++n){P.G1=d(P.G1);var k=E(M[n],P),o=new Float32Array(I[0].length+k[0].length),af=new Float32Array(I[1].length+k[1].length);
o.set(I[0]);o.set(k[0],I[0].length);I[0]=o;af.set(I[1]);af.set(k[1],I[1].length);I[1]=af}var J=performance.now();
if(P.asG){console.rB("Geometry: "+String(J-w)+"ms")}return I};return gt}(),k1=function(){function d(X,g){var x=[],Z=0,Y=g.length,a=0,z=0,p=new iW,U=0,l=1e9;
for(z=0;z<Y;z++){var L=z*8,j=g[z];if(j<l)l=j;var O=X[L+0],F=X[L+1],i=X[L+2],$=X[L+3],H=X[L+4],b=X[L+5],r=X[L+6],W=X[L+7],V=Math.min(O,i,H,r),y=Math.max(O,i,H,r),c=Math.min(F,$,b,W),S=Math.max(F,$,b,W),C=new iW(V,c,y-V,S-c),K=C.Ue(p),T=U+j;
if(z-a<10&&(z==a||K.k()*.8<C.k()+p.k())){p=K;U=T}else{x.push(z-a);a=z;p=C;U=j;l=j}}if(z!=a)x.push(z-a);
return x}function v(X,g,x,Z,Y,a){var z=document.createElement("canvas"),F=0,o=.8;z.width=g;z.height=x;
var p=z.getContext("2d"),U=Y[0],l=Y[1],L=new Float64Array(g*x),j=Date.now(),O=d(l,U);for(var i=0;i<O.length;
i++){var $=F,H=F+O[i],W=1e9,y=1e9,N=0;F=H;var b=$*8,r=H*8,V=-W,c=-y;for(var S=b;S<r;S+=2){var C=l[S],K=l[S+1];
if(C<W)W=C;if(C>V)V=C;if(K<y)y=K;if(K>c)c=K}W=Math.floor(W);V=Math.ceil(V);y=Math.floor(y);c=Math.ceil(c);
var T=V-W,D=c-y;for(var G=$;G<H;G++)N+=U[G];for(var S=b;S<r;S+=8){var s=U[S>>>3],Q=l[S+0],q=l[S+1],R=l[S+2],m=l[S+3],E=l[S+4],e=l[S+5],w=l[S+6],M=l[S+7];
p.fillStyle="rgba(0,0,0,"+s/N+")";p.beginPath();p.moveTo(Q,q);p.lineTo(R,m);p.lineTo(E,e);p.lineTo(w,M);
p.closePath();p.fill()}var P=p.getImageData(W,y,T,D).data;for(var K=0;K<D;K++)for(var C=0;C<T;C++){var n=K*T+C,I=P[n*4+3],k=(y+K)*g+W+C;
if(I!=0)L[k]+=I*N}p.clearRect(W,y,T,D)}var af=a[1].color,J=Math.pow(af.C/255,o),at=Math.pow(af.L/255,o),ke=Math.pow(af.X/255,o),c_=new iW(0,0,g,x),ag=f.m(g*x*4);
for(var K=0;K<x;K++)for(var C=0;C<g;C++){var n=K*g+C,G=n*4,U=L[n]*(1/255);ag[G]=h(J,U);ag[G+1]=h(at,U);
ag[G+2]=h(ke,U);ag[G+3]=Math.min(255,U*255)}f.V.Qe("norm",ag,c_,Z,c_,c_,1)}var t=new Uint8Array(2e3);
for(var n=0;n<2e3;n++)t[n]=255*Math.min(1,Math.log(n/700+1));function h(X,g){return t[Math.min(1500,~~(X*g*1e3))]}return v}(),cn=function(){var d=new Float32Array(3e3),v=new Float32Array(3e3),t=new Float32Array(256),h=new Float32Array(3e3);
function X(){var l=d.length;d[0]=Math.log10(157647e-9);for(var n=1;n<l;++n)d[n]=Math.log10(n/l)}function g(){var l=v.length;
for(var n=0;n<l;++n)v[n]=Math.pow(10,20*(n-l/2)/l)}function x(){var l=t.length;for(var n=0;n<l;++n)t[n]=f.e0(n/255)}function Z(){var l=h.length;
for(var n=0;n<l;++n)h[n]=255*f.cP(n/(l-1))}function Y(l,L){var j=l.length>>>2;for(var n=0;n<j;++n){var O=t[l[4*n]],F=t[l[4*n+1]],i=t[l[4*n+2]],$=.3811*O+.5783*F+.0402*i,H=.1967*O+.7244*F+.0782*i,b=.0241*O+.1288*F+.8444*i;
$=d[~~($*d.length)];H=d[~~(H*d.length)];b=d[~~(b*d.length)];L[3*n]=($+H+b)*.5773502692;L[3*n+1]=($+H-2*b)*.4082482905;
L[3*n+2]=($-H)*.7071067812}}function a(l,L){var j=L.length>>>2,O=h.length-1;for(var n=0;n<j;++n){var F=.5773502692*l[3*n],i=.4082482905*l[3*n+1],$=.7071067812*l[3*n+2],H=v[~~((F+i+$+10)*(3e3/20))],b=v[~~((F+i-$+10)*(3e3/20))],r=v[~~((F-2*i+10)*(3e3/20))],W=4.4679*H-3.5873*b+.1193*r,V=-1.2186*H+2.3809*b-.1624*r,y=.0497*H-.2439*b+1.2045*r;
L[4*n]=h[~~(O*Math.max(0,Math.min(1,W)))];L[4*n+1]=h[~~(O*Math.max(0,Math.min(1,V)))];L[4*n+2]=h[~~(O*Math.max(0,Math.min(1,y)))]}}function z(l){var L=0,j=0,O=0;
for(var n=0;n<l.length;n+=3){L+=l[n];j+=l[n+1];O+=l[n+2]}return[L/(l.length/3),j/(l.length/3),O/(l.length/3)]}function p(l,z){var L=0,j=0,O=0;
for(var n=0;n<l.length;n+=3){var F=l[n]-z[0],i=l[n+1]-z[1],$=l[n+2]-z[2];L+=F*F;j+=i*i;O+=$*$}return[Math.sqrt(L/(l.length/3)),Math.sqrt(j/(l.length/3)),Math.sqrt(O/(l.length/3))]}function U(l,L,j,O){X();
g();x();Z();var F=0,Q,q;if(O[0]>100)F=-(O[0]-100)/100*.13;else if(O[0]>=75)F=(100-O[0])/25*.04;else if(O[0]>=50)F=.04+(75-O[0])/25*.04;
else if(O[0]>=25)F=.08+(50-O[0])/25*.08;else F=.16+(25-O[0])/25*.24;var i=(O[1]-100+100)/100,$=O[2]/100,H=O[3],b=new Float32Array(l.length*3/4),r=new Float32Array(L.length*3/4),W=new Float32Array(j.length*3/4),V=Date.now();
Y(l,b);Y(L,r);Y(j,W);var y=Date.now(),c=z(b),S=z(r),C=Date.now(),K=p(b,c),T=p(r,S),D=Date.now();S[0]*=Math.pow(10,F);
if(T[0]+T[1]+T[2]<.001)T=K.slice(0);var N=[T[0]/K[0],T[1]/K[1],T[2]/K[2]],G=W.length,s=1/-1.1546978950500488;
for(var n=0;n<G;n+=3){if(H){var R=Math.max(0,Math.min(1,W[n]*s));R=1-Math.sqrt(R);Q=R*S[1];q=R*S[2]}else{Q=S[1];
q=S[2]}W[n]=(W[n]-c[0])*N[0]+S[0];W[n+1]=(W[n+1]-c[1])*N[1]*i+Q;W[n+2]=(W[n+2]-c[2])*N[2]*i+q}var m=Date.now(),E=j.slice(0);
a(W,j);var e=j.length>>>2;for(var n=0;n<e;++n){j[4*n]=(1-$)*j[4*n]+$*E[4*n];j[4*n+1]=(1-$)*j[4*n+1]+$*E[4*n+1];
j[4*n+2]=(1-$)*j[4*n+2]+$*E[4*n+2]}}return U}(),cB=function(){function d(v,t,h,X,g){var x=[-1,-1,-1,-1],Z=255,Y=160,a,z=!1,p=new Array(4);
p[0]=new Array(t);p[1]=new Array(h);p[2]=new Array(t);p[3]=new Array(h);var U=new Array(2);U[0]=new Array(h);
U[1]=new Array(h);function l(D,N,G,s,Q){this.start=s;this.axis=Q;this.dir=D;this.end=-1;this.source=N;
this.k=G}function L(D,N,G,s,Q){if(G%2==0){if(!p[G][D])p[G][D]=new Array;p[G][D].push(new l(G,s,Q,N,D))}else{if(!p[G][N])p[G][N]=new Array;
p[G][N].push(new l(G,s,Q,D,N))}var q=Date.now()}function j(n){var D=!1,N=0;if(v[4*n+3]<Z)return D;var G=n%t,s=Math.floor(n/t);
O(G,s);if(n+t<t*h&&v[4*(n+t)+3]<Z&&v[4*(n-t)+3]>=Z&&v[4*(n-2*t)+3]>=Z){var Q=2;if(v[4*(n+t)+3]<=Y)N=-1;
if(v[4*(n+2*t-1)+3]<Z&&v[4*(n+2*t+1)+3]<Z)D=!0;else if(v[4*(n+2*t-1)+3]>=Z&&v[4*(n+1)+3]>=Z)D=!0;else if(v[4*(n+2*t+1)+3]>=Z&&v[4*(n-1)+3]>=Z)D=!0;
L(G,s,Q,N,D)}else if(n-t>=0&&v[4*(n-t)+3]<Z&&v[4*(n+t)+3]>=Z&&v[4*(n+2*t)+3]>=Z){var Q=0;if(v[4*(n-t)+3]<=Y)N=-1;
if(v[4*(n-2*t-1)+3]<Z&&v[4*(n-2*t+1)+3]<Z)D=!0;else if(v[4*(n-2*t-1)+3]>=Z&&v[4*(n+1)+3]>=Z)D=!0;else if(v[4*(n-2*t+1)+3]>=Z&&v[4*(n-1)+3]>=Z)D=!0;
L(G,s,Q,N,D)}N=0;if(n+1<t*h&&v[4*(n+1)+3]<Z&&v[4*(n-1)+3]>=Z&&v[4*(n-2)+3]>=Z){var Q=3;if(v[4*(n+1)+3]<=Y)N=-1;
if(!D&&v[4*(n+t+2)+3]<Z&&v[4*(n-t+2)+3]<Z){D=!0;L(G,s,Q,N,!0)}else L(G,s,Q,N,!1)}else if(n>=1&&v[4*(n-1)+3]<Z&&v[4*(n+1)+3]>=Z&&v[4*(n+2)+3]>=Z){var Q=1;
if(v[4*(n-1)+3]<=Y)N=-1;if(!D&&v[4*(n+t-2)+3]<Z&&v[4*(n-t-2)+3]<Z){D=!0;L(G,s,Q,N,!0)}else L(G,s,Q,N,!1)}return D}function O(n,D){if(x[0]==-1){x[0]=n;
x[1]=D;x[2]=1;x[3]=1}if(n<x[0]){x[2]+=x[0]-n;x[0]=n}if(n>x[0]+x[2])x[2]=n-x[0];if(D<x[1]){x[3]+=x[1]-D;
x[1]=D}if(D>x[1]+x[3])x[3]=D-x[1]}function F(D,n,N,G){if(!N.k)return;var s=(D+2)%4,Q=N.start,q=x[1];
if(D==2)q+=x[3];else if(D==1)q=x[0];else if(D==3)q=x[0]+x[2];var R=N.source;if(p[s][n])for(var m=0;m<p[s][n].length;
++m){if(D>1){var E=Q+Math.floor((p[s][n][m].start-Q)/2);if(p[s][n][m].start>Q&&E<q)q=E}else{var E=Q-Math.floor((Q-p[s][n][m].start)/2);
if(p[s][n][m].start<Q&&E>q)q=E}}for(var e=1;e<Math.abs(q-Q);++e){var m=Q+e;if(D==1||D==0)m=Q-e;for(var w=0;
w<2;++w){var M=2*w,P=!1;if(D%2==0)M+=1;if(p[M][m]){for(var I=0;I<p[M][m].length;++I){if(p[M][m][I].k){var k=p[M][m][I].start,o=n-k,af=m-Q;
if(M==0||M==1)o=-o;if(o<=0)continue;if(D==0||D==1)af=-af;if(af>o){q=m;P=!0;break}}}if(P)break}}}N.end=q;
H(D,n,Q,q,R)}function i(D){for(var n=0;n<p[D].length;++n){if(p[D][n])for(var N=0;N<p[D][n].length;++N){F(D,n,p[D][n][N])}}}function $(){var D=[2,0,3,1];
for(var n=0;n<D.length;++n)i(D[n])}function H(D,n,N,G,s){if(D==2)for(var Q=N;Q<=G;++Q){if(!b(Q*t+n,(N+s)*t+n))return!1}else if(D==0)for(var Q=N;
Q>=G;--Q){if(!b(Q*t+n,(N-s)*t+n))return!1}else if(D==1)for(var Q=N;Q>=G;--Q){if(!b(n*t+Q,n*t+N-s))return!1}else if(D==3)for(var Q=N;
Q<=G;++Q){if(!b(n*t+Q,n*t+N+s))return!1}}function b(D,N){if(!a[D]){X[4*D]=X[4*N];X[4*D+1]=X[4*N+1];X[4*D+2]=X[4*N+2];
if(z)X[4*D+3]=255;a[D]=!0;return!0}return!1}function r(){for(var n=0;n<4;n+=1){for(var D=0;D<p[n].length;
++D){if(p[n][D])for(var N=0;N<p[n][D].length;++N){var G=p[n][D][N];for(var s=1;s<3;s+=2){var Q=(n+s)%4;
if(p[Q][G.start])for(var q=0;q<p[Q][G.start].length;++q){if(p[Q][G.start][q].start==G.axis){var bW=t*G.start+G.axis;
if(n%2==1){bW=G.start+t*G.axis;W(p[Q][G.start][q])}else W(G)}}}}}}}function W(D){if(D.dir%2==0){var bW=t*D.start+D.axis,N=D.start,G=1;
if(!a[bW+1])G=3;else if(a[bW-1])return;var s=X[4*bW],Q=X[4*bW+1],q=X[4*bW+2];while(X[4*bW]==s&&X[4*bW+1]==Q&&X[4*bW+2]==q){if(G==1){if(!U[0][N])U[0][N]=new Array;
U[0][N].push(new l(G,0,!1,D.axis,N))}else{if(!U[1][N])U[1][N]=new Array;U[1][N].push(new l(G,0,!1,D.axis,N))}if(D.dir==2){bW+=t;
N++}else{bW-=t;N--}}}}function V(){for(var D=0;D<2;++D){var N=(D+1)%2;for(var n=0;n<U[D].length;++n){if(U[D][n])for(var G=0;
G<U[D][n].length;++G){var s=x[0];if(D==1)s+=x[2];var Q=U[D][n][G].start;if(U[N][n])for(var q=0;q<U[N][n].length;
++q){var R=U[N][n][q].Wx;if(D==0){if(R>s&&R<Q){s=Q-Math.floor((Q-R)/2)}}else{if(R<s&&R>Q){s=Q+Math.ceil((R-Q)/2)}}}if(D==0)H(U[D][n][G].dir,n,Q-1,s,-1);
else H(U[D][n][G].dir,n,Q+1,s,-1)}}}for(var n=0;n<a.length;++n){if(!a[n]&&n%t>=x[0]&&n%t<=x[0]+x[2]&&Math.floor(n/t)>=x[1]&&Math.floor(n/t)<=x[1]+x[3]){var Q=t;
if(n<Q||!a[n-Q])Q=1;X[4*n]=X[4*(n-Q)];X[4*n+1]=X[4*(n-Q)+1];X[4*n+2]=X[4*(n-Q)+2];a[n]=!0;if(z)X[4*n+3]=255}}}function y(){a=new Array(v.length/4);
for(var n=0;n<X.length/4;++n){a[n]=!1;X[4*n]=v[4*n];X[4*n+1]=v[4*n+1];X[4*n+2]=v[4*n+2];X[4*n+3]=v[4*n+3];
if(X[4*n+3]==255)a[n]=!0;if(j(n))a[n]=!1}if(x[0]>0){x[0]--;x[2]++}if(x[1]>0){x[1]--;x[3]++}if(x[0]+x[2]<t){x[2]++}if(x[1]+x[3]<h){x[3]++}}var c=Date.now();
y();var S=Date.now();$();var C=Date.now();r();var K=Date.now();V();var T=Date.now();console.log("Init: "+String(S-c));
console.log("Filling: "+String(C-S));console.log("Check areas: "+String(K-C));console.log("Fill areas: "+String(T-K))}return d}();
function ir(){}ir.aej=function(d){var v=[f.e0(d[0]),f.e0(d[1]),f.e0(d[2]),0];return f.Yh.ip(f.Yh.afJ,v)};
ir.aew=function(d){var v=f.Yh.ip(f.Yh.Zc,d);return[f.cP(v[0]),f.cP(v[1]),f.cP(v[2])]};ir.ms=function(d,v){var t={},h=5003,X=1667,g=25e3,x=57.4,Z=16.1,Y=1.8,a=0,z=1.54,p=.75,L=0;
if(v>0){d-=v/100*4}if(d<0){Z=22.54;x=80.36;z=.756}if(v>0){Y=1.3;p=.2}var U=Math.min(h+x*d,g),l=Math.max(h-Z*d,X);
if(d<0){U=Math.max(h+Z*d,X);l=Math.min(h-x*d,g)}if(d>0){if(d<=14){L=(d-1)/13*.075+.025}else if(d<=29){L=.1}else if(d<=60){L=.1-.1*(d-29)/(60-29)}else{var j=d-60;
a=-20*(j/40);L=-.3*(j/40)}}else{if(d<-60){var j=d+60;a=-20*(j/40)}}var O=Math.abs(d)/100*z+Math.abs(v)/100*p+L,F=-(v*Y+a),i=fc.i9(U,-F),$=fc.jm(i),H=fc.i9(l,0),b=fc.jm(H),r=fc.aAJ($,b);
t.a98=O;t.ajl=r;if(d==0&&v==0)t.a6G=!0;else t.a6G=!1;return t};ir.a6n=function(d,v,t,h){if(h.a6G){return[d,v,t]}var X=this.aej([d,v,t]),g=X[0],x=X[1],Z=X[2],Y=x+1e-12,a=[g/Y,x/Y,Z/Y,0],z=f.Yh.ip(h.ajl,a),p=0,U=.4;
z[0]*=Y;z[1]*=Y;z[2]*=Y;if(Y>U)p=1/(1-U)*(Y-U);X[0]=(1-p)*z[0]+p*g;X[1]=(1-p)*z[1]+p*x;X[2]=(1-p)*z[2]+p*Z;
return this.aew(X)};f.qA={e7:function(d,v){var n=d.length;d.push(v);var t=n>>>1;while(t!=0&&d[n][0]<d[t][0]){var h=d[n];
d[n]=d[t];d[t]=h;n=t;t=n>>>1}},Az:function(d){if(d.length==2)return d.pop();var top=d[1],n=1;d[1]=d.pop();
var v=d.length;while(!0){var t=n<<1,h=t+1,X=n;if(t<v&&d[t][0]<d[X][0])X=t;if(h<v&&d[h][0]<d[X][0])X=h;
if(X==n)break;var g=d[n];d[n]=d[X];d[X]=g;n=X}return top},a6l:function(d){for(var n=1;n<d.length;n++){var v=n,t=1e9;
while(v!=0){var h=d[v][0];if(h>t){console.log(n);throw"e"}t=h;v=v>>>1}}}};f.V={};f.V.lA=new Float64Array(256);
f.V.pm=new Uint8Array(256*256);f.V.aDt=new Uint8Array(256*256);(function(){for(var n=0;n<256;n++)f.V.lA[n]=255/n;
for(var n=0;n<256;n++)for(var d=0;d<256;d++)f.V.pm[n*256+d]=n==0?0:Math.round(d*255/n);for(var n=0;n<256;
n++)for(var d=0;d<256;d++)f.V.aDt[n*256+d]=Math.round(n*(255-d)/255)}());f.V.Qe=function(d,v,t,h,X,g,x,Z){if(Z==null)Z=lb.Rn();
var Y=f.UJ(v instanceof Array?v[0]:v);if(Y!=f.UJ(h))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(d)==-1){x=x*Z.fill;
Z.fill=1;Z.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),z="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),p=f.V[d+"F"];
if(Y==8){if(Z.vU==null&&d=="norm")f.V.a0d(v,t,h,X,g,x,p,Z.CZ?1:0);else if(d=="diss")f.V.afF(v,t,h,X,g,x,p,Z.CZ?1:0);
else if(a.indexOf(d)!=-1)f.V.aIO(v,t,h,X,g,x,p,Z);else if(z.indexOf(d)!=-1)f.V.a7w(v,t,h,X,g,x,p,Z)}else{if(d=="diss")f.V.a1B(v,t,h,X,g,x,p,Z.CZ?1:0);
else if(a.indexOf(d)!=-1)f.V.apE(v,t,h,X,g,x,p,Z);else if(z.indexOf(d)!=-1)f.V.awA(v,t,h,X,g,x,p,Z)}};
f.V.awY=function(d,v,t){var h=d*t+1-t;return h<.001?0:1-Math.min(1,(1-v)/h)};f.V.aGZ=function(d,v,t){return d*t==1?1:Math.min(1,v/(1-d*t))};
f.V.J4=function(d){return d<=.25?((16*d-12)*d+4)*d:Math.sqrt(d)};f.V.normF=function(d,v,t){return d};
f.V.darkF=function(d,v,t){return Math.min(d,v)};f.V["mul F"]=function(d,v,t){return d*v};f.V.idivF=function(d,v,t){var h=d*t+1-t;
return v==1?1:1-v>=h?0:1-(1-v)/h};f.V.lbrnF=function(d,v,t){return Math.max(0,d*t+v-t)};f.V.dkClF=function(d,v,t){var h=f.iP(d)<f.iP(v)?d:v;
t.C=h.C;t.L=h.L;t.X=h.X;return t};f.V.liteF=function(d,v,t){return Math.max(d,v)};f.V.scrnF=function(d,v,t){return v+d-v*d};
f.V["div F"]=function(d,v,t){d*=t;return v==0?0:v>=1-d?1:v/(1-d)};f.V.lddgF=function(d,v,t){d*=t;return Math.min(1,d+v)};
f.V.lgClF=function(d,v,t){var h=f.iP(d)>f.iP(v)?d:v;t.C=h.C;t.L=h.L;t.X=h.X;return t};f.V.overF=function(d,v,t){return f.V.hLitF(v,d,t)};
f.V.sLitF=function(d,v,t){return d<=.5?v-(1-2*d)*v*(1-v):v+(2*d-1)*(f.V.J4(v)-v)};f.V.hLitF=function(d,v,t){return d<=.5?f.V["mul F"](2*d,v,t):f.V.scrnF(2*d-1,v,t)};
f.V.vLitF=function(d,v,t){return d<=.5?f.V.awY(2*d,v,t):f.V.aGZ(2*d-1,v,t)};f.V.lLitF=function(d,v,t){return d<=.5?f.V.lbrnF(2*d,v,t):f.V.lddgF(2*d-1,v,t)};
f.V.pLitF=function(d,v,t){return d<=.5?f.V.darkF(2*d,v,t):f.V.liteF(2*d-1,v,t)};f.V.hMixF=function(d,v,t){if(t>.99)return d+v<1?0:1;
return Math.min(1,Math.max(0,(v+d*t-t)/(1-t+1e-6)))};f.V.diffF=function(d,v,t){d*=t;return Math.abs(d-v)};
f.V.smudF=function(d,v,t){return d+v-2*d*v};f.V.fsubF=function(d,v,t){return Math.max(v-d,0)};f.V.fdivF=function(d,v,t){return Math.min(v/d,1)};
f.V["hue F"]=function(d,v,t){f.V.YM(d,f.Pj(v),t);f.V.JL(t,f.iP(v),t)};f.V["sat F"]=function(d,v,t){f.V.YM(v,f.Pj(d),t);
f.V.JL(t,f.iP(v),t)};f.V.colrF=function(d,v,t){f.V.JL(d,f.iP(v),t)};f.V["lum F"]=function(d,v,t){f.V.JL(v,f.iP(d),t)};
f.V.JL=function(d,v,t){var h=v-f.iP(d);t.C=d.C+h;t.L=d.L+h;t.X=d.X+h;f.V.ayN(t)};f.V.ayN=function(d){var v=d.C,t=d.L,h=d.X,X=f.KR(v,t,h),bW=Math.min(v,t,h),g=Math.max(v,t,h);
if(bW<0){var x=X/(X-bW);v=X+(v-X)*x;t=X+(t-X)*x;h=X+(h-X)*x}if(g>1){var x=(1-X)/(g-X);v=X+(v-X)*x;t=X+(t-X)*x;
h=X+(h-X)*x}d.C=v;d.L=t;d.X=h};f.V.YM=function(d,v,t){var h=f.V.a2U,X=d.C,g=d.L,x=d.X;if(X==g&&g==x){t.C=t.L=t.X=0}else if(X>g){if(X>x){if(g>x){t.C=v;
t.L=h(X,g,x,v);t.X=0}else{t.C=v;t.X=h(X,x,g,v);t.L=0}}else{t.X=v;t.C=h(x,X,g,v);t.L=0}}else{if(X<x){if(g>x){t.L=v;
t.X=h(g,x,X,v);t.C=0}else{t.X=v;t.L=h(x,g,X,v);t.C=0}}else{t.L=v;t.C=h(g,X,x,v);t.X=0}}};f.V.a2U=function(d,v,t,h){return(v-t)*h/(d-t)};
f.V.a0d=function(d,v,t,h,X,g,x,Z){var Y=v.hL(h).hL(X),a=Math.max(0,Y.x-v.x),z=Math.max(0,Y.x-h.x),p=Math.max(0,Y.y-v.y),U=Math.max(0,Y.y-h.y),l=Y.r,L=Y.$,j=v.r,O=h.r,F=d instanceof Array,i=F?d[1]:null,$=new Uint32Array((F?d[0]:d).buffer),H=new Uint32Array(t.buffer),b=$[0]&16777215;
for(var n=0;n<L;n++){var r=(p+n)*j+a,W=(U+n)*O+z;for(var V=0;V<l;V++){var y=F?b|i[r+V]<<24:$[r+V],s=1;
if(y>>>24==0)continue;if(y>>>24==255&&g==1&&Z==0){H[W+V]=y;continue}var c=H[W+V],S=y&255,C=y>>>8&255,K=y>>>16&255,T=c&255,D=c>>>8&255,N=c>>>16&255,G=g,Q=(c>>>24)*(1/255);
if(Z==0){G=(y>>>24)*g*(1/255);s=Q}var q=s*(1-G),R=G+q,m=1/R;H[W+V]=~~(.5+(Z*Q+(1-Z)*R)*255)<<24|~~(.5+(K*G+N*q)*m)<<16|~~(.5+(C*G+D*q)*m)<<8|~~(.5+(S*G+T*q)*m)}}};
f.V.ate=function(d,v,t,h,X,g){var x=v.hL(h).hL(X),Z=Math.max(0,x.x-v.x),Y=Math.max(0,x.x-h.x),a=Math.max(0,x.y-v.y),z=Math.max(0,x.y-h.y),p=x.r,U=x.$,l=v.r,L=h.r,j=f.V.pm,O=f.V.aDt,F=new Uint32Array(d.buffer),i=new Uint32Array(t.buffer),$=Math.floor(Math.random()*16777215),H=0;
for(var n=0;n<U;n++){var b=(a+n)*l+Z,r=(z+n)*L+Y;for(var W=0;W<p;W++){var V=F[b+W];if(V>>>24==0)continue;
if(V>>24==255&&g==1){i[r+W]=V;continue}var y=i[r+W],c=(V>>>24)*g*(1/255),S=(y>>>24)*(1/255),C=S*(1-c),K=c+C,T=V&255,D=V>>>8&255,N=V>>>16&255,G=y&255,s=y>>>8&255,Q=y>>>16&255;
H>>>=8;if((W&3)==0)H=f.V.X1(r+W+$);var q=K==0?0:1/K,R=Math.floor(K*(256*255))+(H&255)>>>8,m=Math.floor((N*c+Q*C)*q+.5),E=Math.floor((D*c+s*C)*q+.5),e=Math.floor((T*c+G*C)*q+.5);
i[r+W]=R<<24|m<<16|E<<8|e}}};f.V.d2=function(d,v,t,h,X,g,x,Z){var Y=f.KR(d,v,t),a=f.KR(h,X,g),z=Math.min,p=f.V.aj9,U=p(Y,Z,0);
U=z(U,p(d,Z,8));U=z(U,p(v,Z,16));U=z(U,p(t,Z,24));var l=p(a,Z,4);l=z(l,p(h,Z,12));l=z(l,p(X,Z,20));l=z(l,p(g,Z,28));
l=Math.max(l,1-x);var L=Math.min(U,l);return L<0?0:L>1?1:L};f.V.aj9=function(d,v,n){return Math.min((d-v[n])*v[n+1],(d-v[n+3])*v[n+2])};
f.V.q2=function(d){return~~(d+.5)};f.V.aIO=function(d,v,t,h,X,g,x,Z){var Y=1/255,a=Y*g,z=f.V.q2,p=Z.CZ?1:0,U=Z.fill,l=Z.style,L=v.hL(h).hL(X),j=Math.max(0,L.x-v.x),O=Math.max(0,L.x-h.x),F=Math.max(0,L.y-v.y),i=Math.max(0,L.y-h.y),$=L.r,H=L.$,b=v.r,r=h.r,W=d instanceof Array,V=W?d[1]:null,y=new Uint32Array((W?d[0]:d).buffer),c=new Uint32Array(t.buffer),S=y[0]&16777215;
for(var n=0;n<H;n++){var C=(F+n)*b+j,K=(i+n)*r+O;for(var T=0;T<$;T++,C++,K++){var D=W?S|V[C]<<24:y[C],e=1;
if(D>>>24==0)continue;var N=c[K],G=(D&255)*Y,s=(D>>>8&255)*Y,Q=(D>>>16&255)*Y,q=(N&255)*Y,R=(N>>>8&255)*Y,m=(N>>>16&255)*Y,E=g;
if(p==0){E=(D>>>24)*a;e=(N>>>24)*Y}if(Z.vU)E*=f.V.d2(G,s,Q,q,R,m,e,Z.vU);var w=e*(1-E),M=E+w,P=M==0?0:255/M,I=l?1:E,k=((1-e)*E*G+(1-I)*e*q+I*e*x(G,q,(1+E-I)*U))*P,o=((1-e)*E*s+(1-I)*e*R+I*e*x(s,R,(1+E-I)*U))*P,af=((1-e)*E*Q+(1-I)*e*m+I*e*x(Q,m,(1+E-I)*U))*P;
M=E*U+e*(1-E*U);c[K]=z(p*(N>>>24)+(1-p)*z(M*255))<<24|z(af)<<16|z(o)<<8|z(k)}}};f.V.apE=function(d,v,t,h,X,g,x,Z){var Y=f.UJ(t),a=Y==32?1:Y==16?65535:255,z=1/a,p=Z.CZ?1:0,U=Z.fill,l=Z.style,L=f.V.q2,j=v.hL(h).hL(X),O=Math.max(0,j.x-v.x),F=Math.max(0,j.x-h.x),i=Math.max(0,j.y-v.y),$=Math.max(0,j.y-h.y),H=j.r,b=j.$,r=v.r,W=h.r,V=d instanceof Array,y=V?d[1]:null;
if(V)d=d[0];for(var n=0;n<b;n++){var c=(i+n)*r+O,S=($+n)*W+F;for(var C=0;C<H;C++,c++,S++){var K=V?0:c*4,T=S*4,D=d[K]*z,N=d[K+1]*z,G=d[K+2]*z,s=(V?y[c]:d[K+3])*z*g;
if(s==0)continue;var Q=t[T]*z,q=t[T+1]*z,R=t[T+2]*z,m=t[T+3]*z;if(Z.vU)s*=f.V.d2(D,N,G,Q,q,R,m,Z.vU);
var E=m*(1-s),e=s+E,w=e==0?0:a/e,M=l?1:s,P=((1-m)*s*D+(1-M)*m*Q+M*m*x(D,Q,(1+s-M)*U))*w,I=((1-m)*s*N+(1-M)*m*q+M*m*x(N,q,(1+s-M)*U))*w,k=((1-m)*s*G+(1-M)*m*R+M*m*x(G,R,(1+s-M)*U))*w;
e=s*U+m*(1-s*U);if(Y==16){t[T]=L(P);t[T+1]=L(I);t[T+2]=L(k);t[T+3]=L(p*t[T+3]+(1-p)*(e*a))}else{t[T]=P;
t[T+1]=I;t[T+2]=k;t[T+3]=p*t[T+3]+(1-p)*(e*a)}}}};f.V.a7w=function(d,v,t,h,X,g,x,Z){var Y=1/255,a=Y*g,z=Z.CZ?1:0,p=v.hL(h).hL(X),U=Math.max(0,p.x-v.x),l=Math.max(0,p.x-h.x),L=Math.max(0,p.y-v.y),j=Math.max(0,p.y-h.y),O=p.r,F=p.$,i=d instanceof Array,$=i?d[1]:null,H=new Uint32Array((i?d[0]:d).buffer),b=new Uint32Array(t.buffer),r=H[0]&16777215,W={C:0,L:0,X:0},V={C:0,L:0,X:0},y={C:0,L:0,X:0};
for(var n=0;n<F;n++){var c=(L+n)*v.r+U,S=(j+n)*h.r+l;for(var C=0;C<O;C++,c++,S++){var K=i?r|$[c]<<24:H[c],T=b[S],D=(K&255)*Y,N=(K>>>8&255)*Y,G=(K>>>16&255)*Y,s=(T&255)*Y,Q=(T>>>8&255)*Y,q=(T>>>16&255)*Y,R=g,m=1;
if(z==0){R=(K>>>24)*a;m=(T>>>24)*Y}if(Z.vU)R*=f.V.d2(D,N,G,s,Q,q,m,Z.vU);var E=m*(1-R),e=R+E,w=255/e;
W.C=D;W.L=N;W.X=G;V.C=s;V.L=Q;V.X=q;x(W,V,y);var M=(((1-m)*D+m*y.C)*R+s*E)*w,P=(((1-m)*N+m*y.L)*R+Q*E)*w,I=(((1-m)*G+m*y.X)*R+q*E)*w,k=z*(T>>>24)+(1-z)*Math.round(e*255);
b[S]=k<<24|I<<16|P<<8|M}}};f.V.awA=function(d,v,t,h,X,g,x,Z){var Y=f.UJ(t),a=Y==32?1:Y==16?65535:255,z=1/a,p=Z.CZ?1:0,U=v.hL(h).hL(X),l=Math.max(0,U.x-v.x),L=Math.max(0,U.x-h.x),j=Math.max(0,U.y-v.y),O=Math.max(0,U.y-h.y),F=U.r,i=U.$,$={C:0,L:0,X:0},H={C:0,L:0,X:0},b={C:0,L:0,X:0},r=d instanceof Array,W=r?d[1]:null;
if(r)d=d[0];for(var n=0;n<i;n++){var V=(j+n)*v.r+l,y=(O+n)*h.r+L;for(var c=0;c<F;c++,V++,y++){var S=r?0:V*4,C=y*4,K=d[S]*z,T=d[S+1]*z,D=d[S+2]*z,q=1;
if(d[S+3]==0)continue;var N=t[C]*z,G=t[C+1]*z,s=t[C+2]*z,Q=g;if(p==0){Q=(r?W[V]:d[S+3])*z*g;q=t[C+3]*z}if(Z.vU)Q*=f.V.d2(K,T,D,N,G,s,q,Z.vU);
var R=q*(1-Q),m=Q+R,E=a/m;$.C=K;$.L=T;$.X=D;H.C=N;H.L=G;H.X=s;x($,H,b);t[C]=(((1-q)*K+q*b.C)*Q+N*R)*E;
t[C+1]=(((1-q)*T+q*b.L)*Q+G*R)*E;t[C+2]=(((1-q)*D+q*b.X)*Q+s*R)*E;t[C+3]=p*t[C+3]+(1-p)*Math.round(m*a)}}};
f.V.tu=function(d){d=d^61^d>>>16;d=d+(d<<3);d=d^d>>>4;d=d*668265261;d=d^d>>15;return(d&16777215)*(1/16777215)};
f.V.X1=function(d){d=d^61^d>>>16;d=d+(d<<3);d=d^d>>>4;d=d*668265261;d=d^d>>>15;return d};f.V.Pz=function(d){this.Fl=d};
f.V.Pz.prototype.get=function(){var d=this.Fl=f.V.X1(this.Fl);return(d&16777215)*(1/16777215)};f.V.afF=function(d,v,t,h,X,g,x,Z){var Y=Math.round(g*(256*256*256/255)),a=v.hL(h).hL(X),z=Math.max(0,a.x-v.x),p=Math.max(0,a.x-h.x),U=Math.max(0,a.y-v.y),l=Math.max(0,a.y-h.y),L=a.r,j=a.$,O=d instanceof Array,F=O?d[1]:null,i=new Uint32Array((O?d[0]:d).buffer),$=new Uint32Array(t.buffer),H=i[0]&16777215;
for(var n=0;n<j;n++){var b=(U+n)*v.r+z,r=(l+n)*h.r+p;for(var W=0;W<L;W++,b++,r++){var V=O?H|F[b]<<24:i[b],y=$[r],c=Z*255+(1-Z)*(V>>>24);
if((f.V.X1(b)&16777215)>=c*Y)continue;$[r]=V&16777215|Z*(y>>>24)+(1-Z)*255<<24}}};f.V.a1B=function(d,v,t,h,X,g,x,Z){var Y=f.UJ(t),a=Y==32?1:Y==16?65535:255,z=1/a,p=v.hL(h).hL(X),U=Math.max(0,p.x-v.x),l=Math.max(0,p.x-h.x),L=Math.max(0,p.y-v.y),j=Math.max(0,p.y-h.y),O=p.r,F=p.$,i=d instanceof Array,$=i?d[1]:null;
if(i)d=d[0];for(var n=0;n<F;n++){var H=(L+n)*v.r+U,b=(j+n)*h.r+l;for(var r=0;r<O;r++,H++,b++){var W=i?0:H*4,V=b*4,y=(i?$[H]:d[W+3])*z,c=t[V+3]*z;
y=Z+(1-Z)*y;if((f.V.X1(H)&255)*(1/255)>=y*g)continue;t[V]=d[W];t[V+1]=d[W+1];t[V+2]=d[W+2];t[V+3]=(Z*c+(1-Z))*a}}};
f.V.a1_=function(d,v,t){for(var n=0;n<d.length;n+=4){var h=t[n>>>2];if(h==0)continue;var X=h*(1/255),g=1/X,x=v[n],Z=v[n+1],Y=v[n+2],a=d[n],z=d[n+1],p=d[n+2];
v[n]=Math.min(255,Math.max(0,Math.round((x-(1-X)*a)*g)));v[n+1]=Math.min(255,Math.max(0,Math.round((Z-(1-X)*z)*g)));
v[n+2]=Math.min(255,Math.max(0,Math.round((Y-(1-X)*p)*g)));v[n+3]=255}};f.V.cI=function(d,v,t,h,X,g,x,Z,Y,a,z){if(a==null)a=!1;
var p=f.UJ(d),U=p==8?255:p==16?65535:1;if(X&&X.length==g.k()*4){var l=f.m(g.k(),p);f.Po(X,l,3);X=l}if(X&&!v.fE(g)){var L=f.m(v.k(),p);
L.fill(U*x/255);f.Qb(X,g,L,v);X=L;g=v}if(p==8){if(z==null)z=[1,1,1];var j=255<<24|z[2]*16711680|z[1]*65280|z[0]*255,O=~j;
if(a){if(X==null)f.V.aaX(d,v,t,h,X,Z,Y,j,O);else f.V.anz(d,v,t,h,X,Z,Y)}else{if(X==null)f.V.afx(d,v,t,h,X,Z,Y,j,O);
else f.V.a0u(d,v,t,h,X,Z,Y)}}else{if(z&&z.join(",")!="1,1,1")throw"e";if(a)f.V.a1Y(d,v,t,h,X,Z,Y);else f.V.aoE(d,v,t,h,X,Z,Y)}};
f.V.afx=function(d,v,t,h,X,g,x,Z,Y){var a=1/255,z=v.hL(h).hL(g),p=Math.max(0,z.x-v.x),U=Math.max(0,z.x-h.x),l=Math.max(0,z.y-v.y),L=Math.max(0,z.y-h.y),j=z.r,O=z.$,F=new Uint32Array(d.buffer),i=new Uint32Array(t.buffer),$=f.V.pm,H=x*255&255;
for(var n=0;n<O;n++){var b=(l+n)*v.r+p,r=(L+n)*h.r+U;for(var W=0;W<j;W++,b++,r++){var V=F[b],y=i[r],c=V>>>24,S=y>>>24,C=f.Ck(H*c+(255-H)*S),K=f.Ck(c*H),T=f.Ck(S*(255-H)),D=V&255,N=V>>>8&255,G=V>>>16&255,s=y&255,Q=y>>>8&255,q=y>>>16&255,R=K*D+s*T,m=K*N+Q*T,E=K*G+q*T;
R=$[C<<8|f.Ck(R)];m=$[C<<8|f.Ck(m)];E=$[C<<8|f.Ck(E)];var e=C<<24|E<<16|m<<8|R;i[r]=Y&y|Z&e}}};f.V.aaX=function(d,v,t,h,X,g,x,Z,Y){var a=1/255,z=v.hL(h).hL(g),p=Math.max(0,z.x-v.x),U=Math.max(0,z.x-h.x),l=Math.max(0,z.y-v.y),L=Math.max(0,z.y-h.y),j=z.r,O=z.$,F=new Uint32Array(d.buffer),i=new Uint32Array(t.buffer),$=f.V.pm,H=x*16777215&16777215;
for(var n=0;n<O;n++){var b=(l+n)*v.r+p,r=(L+n)*h.r+U;for(var W=0;W<j;W++,b++,r++){if((f.V.X1(b)&16777215)<H){i[r]=Y&i[r]|Z&F[b]}}}};
f.V.aoE=function(d,v,t,h,X,g,x){var Z=f.UJ(d),Y=Z==8?255:Z==16?65535:1,a=1/Y,z=v.hL(h).hL(g),p=Math.max(0,z.x-v.x),U=Math.max(0,z.x-h.x),l=Math.max(0,z.y-v.y),L=Math.max(0,z.y-h.y),j=z.r,O=z.$;
for(var n=0;n<O;n++){var F=(l+n)*v.r+p,i=(L+n)*h.r+U;for(var $=0;$<j;$++,F++,i++){var H=(X?X[F]*a:1)*x,b=F*4,r=i*4,W=d[b+3]*a,V=t[r+3]*a,y=W*H,c=V*(1-H),S=y+c,C=S==0?0:Y/S,K=d[b]*a,T=d[b+1]*a,D=d[b+2]*a,N=t[r]*a,G=t[r+1]*a,s=t[r+2]*a;
t[r]=(y*K+c*N)*C;t[r+1]=(y*T+c*G)*C;t[r+2]=(y*D+c*s)*C;t[r+3]=Y*S}}};f.V.a0u=function(d,v,t,h,X,g,x){var Z=1/255,Y=v.hL(h).hL(g),a=Math.max(0,Y.x-v.x),z=Math.max(0,Y.x-h.x),p=Math.max(0,Y.y-v.y),U=Math.max(0,Y.y-h.y),l=Y.r,L=Y.$,j=new Uint32Array(d.buffer),O=new Uint32Array(t.buffer),F=f.V.pm;
for(var n=0;n<L;n++){var i=(p+n)*v.r+a,$=(U+n)*h.r+z;for(var H=0;H<l;H++,i++,$++){var b=X[i]*x&255;if(b==0)continue;
if(b==255){O[$]=j[i];continue}var r=j[i],W=O[$],V=r>>>24,y=W>>>24,c=f.Ck(b*V+(255-b)*y),S=f.Ck(V*b),C=f.Ck(y*(255-b)),K=r&255,T=r>>>8&255,D=r>>>16&255,N=W&255,G=W>>>8&255,s=W>>>16&255,Q=F[c<<8|f.Ck(S*K+N*C)],q=F[c<<8|f.Ck(S*T+G*C)],R=F[c<<8|f.Ck(S*D+s*C)];
O[$]=c<<24|R<<16|q<<8|Q}}};f.V.a1Y=function(d,v,t,h,X,g,x){var Z=f.UJ(d),Y=Z==8?255:Z==16?65535:1,a=1/Y,z=v.hL(h).hL(g),p=Math.max(0,z.x-v.x),U=Math.max(0,z.x-h.x),l=Math.max(0,z.y-v.y),L=Math.max(0,z.y-h.y),j=z.r,O=z.$,F=x*a*65535;
for(var n=0;n<O;n++){var i=(l+n)*v.r+p,$=(L+n)*h.r+U;for(var H=0;H<j;H++,i++,$++){var b=X[i];if((f.V.X1(i)&65535)<b*F){var r=i*4,W=$*4;
t[W]=d[r];t[W+1]=d[r+1];t[W+2]=d[r+2];t[W+3]=d[r+3]}}}};f.V.anz=function(d,v,t,h,X,g,x){var Z=1/255,Y=v.hL(h).hL(g),a=Math.max(0,Y.x-v.x),z=Math.max(0,Y.x-h.x),p=Math.max(0,Y.y-v.y),U=Math.max(0,Y.y-h.y),l=Y.r,L=Y.$,j=new Uint32Array(d.buffer),O=new Uint32Array(t.buffer),F=f.V.pm,i=Math.round(x*257);
for(var n=0;n<L;n++){var $=(p+n)*v.r+a,H=(U+n)*h.r+z;for(var b=0;b<l;b++,$++,H++){var r=X[$]*i;if((f.V.X1($)&65535)<r)O[H]=j[$]}}};
f.V.asC=function(d,v,t,h,X,g,x){var Z=1/255,Y=v.hL(h).hL(g),a=Math.max(0,Y.x-v.x),z=Math.max(0,Y.x-h.x),p=Math.max(0,Y.y-v.y),U=Math.max(0,Y.y-h.y),l=Y.r,L=Y.$,j=new Uint32Array(d.buffer),O=new Uint32Array(t.buffer),F=Math.floor(Math.random()*h.k()),i=f.V.agu;
for(var n=0;n<L;n++){var $=(p+n)*v.r+a,H=(U+n)*h.r+z;for(var b=0;b<l;b++){var r=X[$+b]*x;if(r==0)continue;
if(r==255){O[H+b]=j[$+b];continue}var W=j[$+b],V=O[H+b],y=W>>>24,c=V>>>24,S=y*r*(1/255),C=c*(255-r)*(1/255),K=W&255,T=W>>>8&255,D=W>>>16&255,N=V&255,G=V>>>8&255,s=V>>>16&255,Q=f.V.X1(H+b+F),q=Math.floor((S+C)*256+.5)+(Q>>>0&255)>>>8,R=q==0?0:256/(S+C),m=K*S+N*C,E=T*S+G*C,e=D*S+s*C,w=Math.floor(m*R+.5)+(Q>>>8&255)>>>8,M=Math.floor(E*R+.5)+(Q>>>16&255)>>>8,P=Math.floor(e*R+.5)+(Q>>>24&255)>>>8;
O[H+b]=q<<24|P<<16|M<<8|w}}};f.V.agu=function(d){return Math.floor(d+Math.random())};f.V.XF=function(d,v,t,h,X,g,x){var Z=1/f.ay(f.UJ(d)),Y=v.hL(h).hL(g),a=Math.max(0,Y.x-v.x),z=Math.max(0,Y.x-h.x),p=Math.max(0,Y.y-v.y),U=Math.max(0,Y.y-h.y),l=Y.r,L=Y.$;
for(var n=0;n<L;n++){var j=(p+n)*v.r+a,O=(U+n)*h.r+z;for(var F=0;F<l;F++,j++,O++){var i=x*X[j]*Z;if(i==0)continue;
if(i==1){t[O]=d[j];continue}t[O]=d[j]*i+t[O]*(1-i)}}};f.auH=function(){function d(g){var x=g*.85;return Math.exp(-(x*x)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function v(g,x){var Z=g<x?1:d((g-x)/Math.pow(1.001-x,.86));
return Z}var t=[];function h(g){if(t[g])return t[g];var x=Math.pow(g,.55),Z=new Float64Array(8e3),Y=0,a=8e3;
for(var n=0;n<8e3;n++){var z=v(n*(1.55/4e3),x);if(z>=1)Y=n;else if(z<=0&&a==8e3)a=n;Z[n]=z}var p=[Z,Y,a];
t[g]=p;return p}function X(g,x,Z){if(g<4)x=1;var Y=1+.55*(1-x),a=Math.round(Z*g*Y)+2,z=new iW(0,0,a,a),p=f.m(a*a),U=[p,z],l=a/2,L=Y/(l-1);
if(g==2)L*=2;if(g==3)L*=1.6;var j=Date.now(),O=h(x),F=Math.round(8e3/l),i=O[0],$=O[1]-F,H=O[2]+F,b=Math.min(a,a+1>>>1),r=L*.4*(4e3/1.55),W=f.m(8e3);
for(var n=0;n<8e3;n++){var V=n,y=n,c=~~Math.max(0,V-r-r),S=~~Math.max(0,V-r),C=~~Math.min(7999,V+r),K=~~Math.min(7999,V+r+r),T=~~(.5+255*(1/5)*(i[y]+i[c]+i[S]+i[C]+i[K]));
W[n]=T;if(T==0)break}for(var n=0;n<b;n++){var D=L*(n-l+.5),N=D*D,G=n*a,s=(a-1-n)*a;for(var Q=0;Q<b;Q++){var q=L*(Q-l+.5),y=~~(Math.sqrt(q*q+N)*(4e3/1.55));
if(H<y)continue;else if(y<$){var T=255;while(Q<b){var R=a-1-Q;p[G+Q]=T;p[G+R]=T;p[s+Q]=T;p[s+R]=T;Q++}break}else{var T=W[y],R=a-1-Q;
p[G+Q]=T;p[G+R]=T;p[s+Q]=T;p[s+R]=T}}}return U}return{akG:X}}();f.YP={};f.YP.awm=function(d,v,t,h,X,g){f.YP.fB(d,v,t,h,X,g,null,0)};
f.YP.aAw=function(d,v,t,h,X){f.YP.fB(d,v,t,h,X,null,null,0)};f.YP.avt=function(d,v,t,h,X,g,x,Z){f.YP.fB(d,v,t,h,X,null,g,x*.5,Z)};
f.YP.fB=function(d,v,t,h,X,g,x,Z,Y){var a=0,m=0,E=1e9,e=0,w=1e9,M=0,P=1e9,I=0,k=0,c=0,o=0;if(g){a=X*.5;
X=3+Math.round((X-3)*.75)}if(x){X=Math.round(X*2.2)}if(Y==null)Y=Math.floor(Math.random()*16777215);
var z=new f.V.Pz(Y*v&16777215),p=1/X,U=Math.floor(v*p)+1,l=Math.floor(t*p)+1,L=[],j=new Uint8Array(U*l*4),O=x?.5:1,F=g?64:0,i=X>>>1;
for(var $=0;$<l;$++){var H=x?.5*($&1):0;for(var b=0;b<U;b++){var r=(b+z.get()*O+H)*X,W=($+z.get()*O)*X;
L.push(r,W);var V=Math.min(v-1,Math.floor(r)),y=Math.min(t-1,Math.floor(W));for(var c=0;c<i;c+=2){var S=Math.max(0,V-c),C=Math.min(v-1,V+c),K=Math.max(0,y-c),T=Math.min(t-1,y+c);
for(var D=K;D<=T;D++)for(var N=S;N<=C;N++){var n=(D*v+N)*4;if(d[n+3]>64){V=N;y=D;N=D=c=1e9}}}var G=(y*v+V)*4,s=($*U+b)*4;
for(var n=0;n<4;n++)j[s+n]=Math.max(0,Math.min(255,Math.floor(d[G+n]+(z.get()-.5)*F)))}}var Q=g?g:x?x:[0,0,0],q=U*l*2,R=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var $=0;$<t;$++){c=0;for(var b=0;b<v;b++){var S=b+.5,K=$+.5,af=Math.floor(K*p),J=Math.floor(S*p),at=af*U+J,ag=0,dz=0;
if(c>1+Z){E=f.YP.aBT(L,m,S,K);I=Math.sqrt(E);c--;o++}else{E=w=P=1e9;for(var n=0;n<R.length;n++){var ke=(at+R[n])*2;
if(ke<0||ke>=q)continue;var c_=f.YP.aBT(L,ke,S,K);if(c_<P){if(c_<w){if(c_<E){M=e;P=w;e=m;w=E;m=ke;E=c_}else{M=e;
P=w;e=ke;w=c_}}else{M=ke;P=c_}}}I=Math.sqrt(E);k=Math.sqrt(w);c=k-(I+k)*.5}if(x==null){var kL=(I+k)*.5,aq=g?Math.max(0,kL-a):0;
ag=Math.max(0,Math.min(1,.5+kL-I-aq));dz=Math.max(0,Math.min(1,1-(.5+kL-I)-aq))}else{var dh=Math.min(f.YP.a0c(L,m,e,S,K),f.YP.a0c(L,m,M,S,K));
ag=Math.max(0,Math.min(1,dh-Z*.5));if(S<Z||v-Z<S||K<Z||t-Z<K)ag=0;dz=0}var gK=1-dz-ag,s=$*v+b<<2,ad=m<<1,dc=e<<1;
h[s+0]=Math.floor(.5+ag*j[ad+0]+dz*j[dc+0]+gK*Q[0]);h[s+1]=Math.floor(.5+ag*j[ad+1]+dz*j[dc+1]+gK*Q[1]);
h[s+2]=Math.floor(.5+ag*j[ad+2]+dz*j[dc+2]+gK*Q[2]);h[s+3]=d[s+3]}}};f.YP.aBT=function(d,v,t,h){var X=t-d[v],g=h-d[v+1];
return X*X+g*g};f.YP.a0c=function(d,v,t,h,X){var g=d[v],x=d[v+1],Z=d[t],Y=d[t+1],a=(g+Z)*.5,z=(x+Y)*.5,p=a+(Y-x),U=z-(Z-g),l=U-z,L=p-a;
return Math.abs(l*h-L*X+p*z-U*a)/Math.sqrt(L*L+l*l)};f.C2=function(){var d=f.m(0);function v(L){if(d.length<L)d=f.m(L);
return d}function t(L,bW){var j=Math.sqrt(12*L*L/bW+1),O=Math.floor(j);if(O%2==0)O--;var F=O+2,i=(12*L*L-bW*O*O-4*bW*O-3*bW)/(-4*O-4),$=Math.round(i),H=[];
for(var n=0;n<bW;n++)H.push(n<$?O:F);return H}function h(L,j,O,F){var i=f.m(j*O,f.UJ(L));for(var n=0;
n<4;n++){f.Po(L,i,n);X(i,j,O,F);f.Gj(i,L,n)}}function X(L,j,O,F){var i=f.UJ(L);for(var $=0;$<F.length;
$++){if(i==8)g(L,j,O,F[$]-1>>1);if(i==16)x(L,j,O,F[$]-1>>1);if(i==32)Z(L,j,O,F[$]-1>>1)}}function g(L,j,O,F){var i=v(j*O);
Y(L,i,j,O,F);p(i,L,j,O,F)}function x(L,j,O,F){var i=new Uint16Array(v(j*O*2).buffer);a(L,i,j,O,F);U(i,L,j,O,F)}function Z(L,j,O,F){var i=new Float32Array(v(j*O*4).buffer);
z(L,i,j,O,F);l(i,L,j,O,F)}function Y(L,j,O,F,i){var $=1/(i+i+1),H=O-i-i-1;for(var n=0;n<F;n++){var b=n*O,r=b,W=b+i,V=L[b],y=L[b+O-1],c=(i+1)*V;
for(var S=0;S<i;S++)c+=L[b+S];for(var S=0;S<=i;S++){c+=L[W+S]-V;j[b+S]=c*$}W+=i+1;b+=i+1;for(var S=0;
S<H;S++){c+=L[W+S]-L[r+S];j[b+S]=c*$}W+=H;r+=H;b+=H;for(var S=O-i;S<O;S++){c+=y-L[r++];j[b++]=c*$}}}function a(L,j,O,F,i){var $=1/(i+i+1),H=O-i-i-1;
for(var n=0;n<F;n++){var b=n*O,r=b,W=b+i,V=L[b],y=L[b+O-1],c=(i+1)*V;for(var S=0;S<i;S++)c+=L[b+S];for(var S=0;
S<=i;S++){c+=L[W+S]-V;j[b+S]=c*$}W+=i+1;b+=i+1;for(var S=0;S<H;S++){c+=L[W+S]-L[r+S];j[b+S]=c*$}W+=H;
r+=H;b+=H;for(var S=O-i;S<O;S++){c+=y-L[r++];j[b++]=c*$}}}function z(L,j,O,F,i){var $=1/(i+i+1),H=O-i-i-1;
for(var n=0;n<F;n++){var b=n*O,r=b,W=b+i,V=L[b],y=L[b+O-1],c=(i+1)*V;for(var S=0;S<i;S++)c+=L[b+S];for(var S=0;
S<=i;S++){c+=L[W+S]-V;j[b+S]=c*$}W+=i+1;b+=i+1;for(var S=0;S<H;S++){c+=L[W+S]-L[r+S];j[b+S]=c*$}W+=H;
r+=H;b+=H;for(var S=O-i;S<O;S++){c+=y-L[r++];j[b++]=c*$}}}function p(L,j,O,F,i){var $=1/(i+i+1),H=F-i-i-1;
for(var n=0;n<O;n++){var b=n,r=b,W=b+i*O,V=L[b],y=L[b+O*(F-1)],c=(i+1)*V;for(var S=0;S<i;S++)c+=L[b+S*O];
for(var S=0;S<=i;S++){c+=L[W]-V;j[b]=c*$;W+=O;b+=O}for(var S=0;S<H;S++){var C=S*O;c+=L[W+C]-L[r+C];j[b+C]=c*$}r+=H*O;
W+=H*O;b+=H*O;for(var S=F-i;S<F;S++){c+=y-L[r];j[b]=c*$;r+=O;b+=O}}}function U(L,j,O,F,i){var $=1/(i+i+1),H=F-i-i-1;
for(var n=0;n<O;n++){var b=n,r=b,W=b+i*O,V=L[b],y=L[b+O*(F-1)],c=(i+1)*V;for(var S=0;S<i;S++)c+=L[b+S*O];
for(var S=0;S<=i;S++){c+=L[W]-V;j[b]=c*$;W+=O;b+=O}for(var S=0;S<H;S++){var C=S*O;c+=L[W+C]-L[r+C];j[b+C]=c*$}r+=H*O;
W+=H*O;b+=H*O;for(var S=F-i;S<F;S++){c+=y-L[r];j[b]=c*$;r+=O;b+=O}}}function l(L,j,O,F,i){var $=1/(i+i+1),H=F-i-i-1;
for(var n=0;n<O;n++){var b=n,r=b,W=b+i*O,V=L[b],y=L[b+O*(F-1)],c=(i+1)*V;for(var S=0;S<i;S++)c+=L[b+S*O];
for(var S=0;S<=i;S++){c+=L[W]-V;j[b]=c*$;W+=O;b+=O}for(var S=0;S<H;S++){var C=S*O;c+=L[W+C]-L[r+C];j[b+C]=c*$}r+=H*O;
W+=H*O;b+=H*O;for(var S=F-i;S<F;S++){c+=y-L[r];j[b]=c*$;r+=O;b+=O}}}return{Hd:function(L,j,O,F){X(L,j.r,j.$,t(O,F?F:3))},ao_:function(L,j,O){h(L,j.r,j.$,t(O,3))},ae8:function(L,j,O){X(L,j.r,j.$,[Math.round(O)*2+1])},anY:function(L,j,O){h(L,j.r,j.$,[Math.round(O)*2+1])},arD:function(L,j,O){var F=j.r,i=j.$;
O=Math.round(O);var $=v(F*i),H=f.m(F*i);for(var n=0;n<4;n++){f.Po(L,H,n);Y(H,$,F,i,O);f.Gj($,L,n)}},aBX:t}}();
f.NJ=function(){var d=[];function v(s,Q,q,R){var m=R.length,E=0,e=0,w=0;for(var n=0;n<m;n++){var M=R[n];
E=Math.max(E,M[2]);e=Math.max(e,M[0],Q-M[0]);w=Math.max(w,M[1],q-M[1])}if(m==1){s.fill(255);return}if(m==2){var P=R[0],I=R[1];
if(P[2]<I[2]){var k=P;P=I;I=k}var o=P[0],af=P[1],J=I[0]-o,at=-(I[1]-af),ke=Math.sqrt(at*at+J*J),c_=1/ke;
at/=ke;J/=ke;var ag=Math.round(255*Math.min(P[2],I[2])/E),dz=[];for(var n=0;n<1100;n++){var kL=Math.pow(n*.001,.82);
dz[n]=~~(.5+kL*ag+(1-kL)*255)}for(var aq=0;aq<q;aq++)for(var dh=0;dh<Q;dh++){var k=(dh-o)*at+(aq-af)*J,gK=o+k*at-dh,ad=af+k*J-aq,dc=Math.sqrt(gK*gK+ad*ad),lq=0;
if(gK*J-ad*at>0)lq=255;else if(dc>ke)lq=ag;else lq=dz[~~(.5+1e3*dc*c_)];s[aq*Q+dh]=lq}return}var hn=Math.round((e*e+w*w)*.021),dF=d.length;
if(dF<hn)for(var n=dF;n<hn;n++)d[n]=1/(1e-6+Math.pow(.02*n,1.57));var c3=260/E;for(var aq=0;aq<q;aq++)for(var dh=0;
dh<Q;dh++){var i8=0,dr=0;for(var n=0;n<m;n++){var jO=R[n],at=dh-jO[0],J=aq-jO[1],dc=d[~~(.02*(at*at+J*J))];
dr+=dc*jO[2];i8+=dc}s[aq*Q+dh]=Math.min(~~(c3*dr/i8),255)}}var t=[];for(var n=0;n<1100;n++)t[n]=Math.pow(.5-.5*Math.cos(n/1e3*Math.PI),2);
function h(s,Q,q,R){var m=X(R),E=1-R[10];for(var e=0;e<q;e++)for(var w=0;w<Q;w++){var M=m.aX*w+m.Wp*e+m.r2,P=m.X*w+m.r7*e+m.pE,I=Math.sqrt(M*M+P*P),k=I<=E?0:I>1?1:(I-E)/(1-E);
s[e*Q+w]=~~(.5+s[e*Q+w]*t[~~(k*1e3)])}}function X(s){var Q=s[0],q=s[1],R=s[2]-Q,m=s[3]-q,E=s[6]-Q,e=s[7]-q,w=Math.sqrt(R*R+m*m),M=Math.sqrt(E*E+e*e),P=new gi;
P.scale(w,M);P.rotate(Math.atan2(-m,R));P.translate(Q,q);P.zJ();P.translate(-.5,-.5);P.scale(2,2);return P}var g=[];
for(var n=0;n<1100;n++)g[n]=Math.pow(.5-.5*Math.cos(n/1e3*Math.PI),.8);function x(s,n,Q){var q=s[n]-s[Q],R=s[n+1]-s[Q+1];
return Math.sqrt(q*q+R*R)}function Z(s,Q,q,R){var m=R[0],E=R[1],e=R[2]-m,w=-(R[3]-E),M=Math.sqrt(w*w+e*e);
w/=M;e/=M;var P=x(R,0,2),I=x(R,0,4),k=x(R,0,6),o=x(R,0,8);for(var af=0;af<q;af++)for(var J=0;J<Q;J++){var at=(J-m)*w+(af-E)*e,ke=m+at*w-J,c_=E+at*e-af,ag=Math.sqrt(ke*ke+c_*c_),dz=0;
if(ke*e-c_*w<0)dz=ag<k?0:ag>P?1:g[~~(1e3*(ag-k)/(P-k))];else dz=ag<o?0:ag>I?1:g[~~(1e3*(ag-o)/(I-o))];
s[af*Q+J]=~~(.5+s[af*Q+J]*dz)}}function Y(s,Q,q){var R=s[0],m=s[1],E=m[0]+m[1]+m[2]+m[3],P=!1;if(E==0)return[f.m(Q*q),E];
var e=R[0],w=R[1],M=R[3];if(P)console.log(e,w,M);var I=Date.now(),k=f.m(Q*q);k.fill(255);if(m[0]!=0)v(k,Q,q,e);
if(P)console.log(Date.now()-I,"field done");I=Date.now();var o=f.m(Q*q);o.fill(255);if(m[1]!=0)for(var n=0;
n<w.length;n++)h(o,Q,q,w[n]);if(P)console.log(Date.now()-I,"iris done");I=Date.now();var af=f.m(Q*q);
af.fill(255);if(m[3]!=0)for(var n=0;n<M.length;n++)Z(af,Q,q,M[n]);if(P)console.log(Date.now()-I,"tilt done");
I=Date.now();var J=m[0]/E,at=m[1]/E,ke=m[3]/E,c_=k,ag=Q*q;for(var n=0;n<ag;n++){c_[n]=J*k[n]+at*o[n]+ke*af[n]}return[c_,E]}function a(s,Q,q,R,m){var E=Date.now(),e=new Uint32Array(5),w=f.aqS(s,Q,q),M=m/255;
for(var P=0;P<q;P++)for(var I=0;I<Q;I++){var n=P*Q+I,k=n<<2,o=R[n]*M,af=~~(o*.948);if(af==0){continue}e[0]=0;
e[1]=0;e[2]=0;e[3]=0;e[4]=0;var J=~~(o*.612);if(1<=I-af&&I+af+1<=Q&&1<=P-af&&P+af+1<=q){var at=I-af,ke=I-J,c_=I+J+1,ag=I+af+1,dz=P-af,kL=P-J,aq=P+J+1,dh=P+af+1;
z(w,Q,ke,c_,dz,kL,e);z(w,Q,at,ag,kL,aq,e);z(w,Q,ke,c_,aq,dh,e)}else{var at=Math.max(1,I-af),ke=Math.max(1,I-J),c_=Math.min(Q,I+J+1),ag=Math.min(Q,I+af+1),dz=Math.max(1,P-af),kL=Math.max(1,P-J),aq=Math.min(q,P+J+1),dh=Math.min(q,P+af+1);
z(w,Q,ke,c_,dz,kL,e);z(w,Q,at,ag,kL,aq,e);z(w,Q,ke,c_,aq,dh,e)}if(e[4]!=0){var gK=1/e[4];s[k]=Math.min(255,~~(e[0]*gK));
s[k+1]=Math.min(255,~~(e[1]*gK));s[k+2]=Math.min(255,~~(e[2]*gK));s[k+3]=Math.min(255,~~(e[3]*gK))}}}function z(s,Q,q,R,m,E,e){var w=(R-q)*(E-m);
if(0<w){f.ajJ(s,q-1,R-1,(m-1)*Q,(E-1)*Q,e);e[4]+=w}}var p="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function U(s){var Q=[!1,!1,!1,!1,!1,!1];for(var n=0;n<6;n++){var q="blurb"+p[n]+"EffectApplied";if(s[q]&&s[q].v)Q[n]=!0}return Q}function l(s,Q){for(var n=0;
n<6;n++){var q="blurb"+p[n]+"EffectApplied";s[q]={t:"bool",v:Q[n]}}}var L=[];for(var j=0;j<6;j++){var O,F="blurbWidgetLocationX",i="blurbWidgetLocationY";
if(j==0)O=[F,i,"blurbGeneralBlurAmount"];if(j==1||j==5){var $="blurb"+(j==1?"IrisBlur":"WheelSpin"),H=$+"Corner",b=$+"Feather";
O=[H+"0x",H+"0y",H+"1x",H+"1y",H+"2x",H+"2y",H+"3x",H+"3y",F,i,b+"0",b+"1",b+"2",b+"3",j==1?$+"Amount":$+"BlurAmount"]}if(j==3){var $="blurbTiltShift",r=$+"InnerPoint",W=$+"OuterPoint";
O=[$+"CenterX",$+"CenterY",W+"1X",W+"1Y",W+"2X",W+"2Y",r+"1X",r+"1Y",r+"2X",r+"2Y",$+"BlurAmount"]}L.push(O)}function V(s,Q){function q(c_,e){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c_},Vrtc:{t:"doub",v:e}}}}var R=[];
for(var j=0;j<6;j++){var m=s[j],O=L[j];for(var n=0;n<m.length;n++){var E=m[n],e={classID:j==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:j}};
R.push({t:"Objc",v:e});if(j==4){Q.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:m[0][4]*100}};var w=e.blurbPathPointList={t:"VlLs",v:[q(E[0],E[1]),q(E[5],E[6])]};
for(var M=0;M<2;M++){var P={classID:"blurbBezierKernel"};e["blurb"+(M==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:P};
var I=E[M*5],k=E[M*5+1],o=E[M*5+2],af=E[M*5+3];P.blurbBezierKernelUIControlPoint=q((I+o)/2,(k+af)/2);
var J=o-I,at=af-k,ke=Math.atan2(-(E[6]-E[1]),E[5]-E[0]);P.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-at,J)-ke+Math.PI)*180/Math.PI};
P.blurbBezierKernelLocation=q(I,k);P.blurbBezierKernelOuterPoint=q(o,af);if(J==0&&at==0)P.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var M=0;
M<O.length;M++)e[O[M]]={t:"doub",v:E[M]}}}delete Q.blurbWidgetList;Q.blurbWidgetList2={t:"VlLs",v:R}}function y(s){var Q=s.blurbWidgetList;
if(Q==null||Q.v.length==0)Q=s.blurbWidgetList2;Q=Q.v;var q=[[],[],[],[],[],[]],R=[0,0,0,0,0,0];for(var n=0;
n<Q.length;n++){var m=Q[n].v,j=m.blurbWidgetType.v,d=[];q[j].push(d);if(j<4||j==5){var O=L[j];for(var E=0;
E<O.length;E++){d[E]=m[O[E]].v}if(j==5){var e=d[0]-d[4],w=d[1]-d[5],M=Math.sqrt(e*e+w*w),P=d[d.length-1]*M*.005;
R[j]=Math.max(R[j],P)}else R[j]=Math.max(R[j],d[d.length-1])}if(j==4){var I=s.blurbPathBlurSpeed.v.val/100;
for(var E=0;E<2;E++){var k=m["blurb"+(E==0?"Start":"End")+"BezierKernel"].v,o=k.blurbBezierKernelIsNull;
for(var af=0;af<2;af++){var J=k["blurbBezierKernel"+(af==0?"Location":"OuterPoint")].v;d.push(J.Hrzn.v,J.Vrtc.v)}var at=d.length-4,ke=d[at],c_=d[at+1],e=d[at+2]-ke,w=d[at+3]-c_,M=Math.sqrt(e*e+w*w);
if(o&&o.v)M=0;d.push(I);R[j]=Math.max(R[j],M*I)}}}return[q,R]}function c(s,Q,q){for(var R=0;R<s.length;
R++)Q[q+R]=s[R]}function S(s,Q){for(var j=0;j<5;j++){var q=s[0][j];for(var n=0;n<q.length;n++){var R=j==0?q[n].slice(0,2):j==4?q[n].slice(0,4).concat(q[n].slice(5,9)):q[n].slice(0,10);
f.Q.M(R,Q,R);if(j==4){c(R.slice(0,4),q[n],0);c(R.slice(4,8),q[n],5)}else c(R,q[n],0)}}}function C(s,Q,q){var R=Q.S.r,m=Q.S.$,E=R*m,e=y(s),w=U(s);
for(var n=0;n<6;n++)if(!w[n])e[1][n]=0;var M=new gi;M.translate(-Q.S.x,-Q.S.y);S(e,M);var P=Date.now(),I=Y(e,R,m),k=I[0],o=I[1];
q.buffer.set(Q.buffer);var af=f.jF(q.buffer);if(af)f.Oz(q.buffer);if(o!=0)a(q.buffer,R,m,k,o);var J=Math.max(e[1][4],e[1][5]);
if(J!=0&&fq.Dz){var P=Date.now(),at=f.m(R*m*4);for(var n=0;n<at.length;n+=4){at[n]=127;at[n+1]=127}if(e[1][4]!=0)T(at,e,R,m,J);
if(e[1][5]!=0)K(at,e,R,m,J);var ke=J*.25,c_=new Float32Array([1/R,1/m]),ag=fq.IU(0,R,m);ag.set(q.buffer);
var dz=fq.IU(1,R,m);dz.set(at);fq.Bg(ag,Q.S);ag.f4(Q.S);fq.filter.$R({e:fq.filter.aF7,ya:dz.gL,k0:c_,AF:ke,a2s:2},ag.XR);
ag.get(q.buffer)}if(af)f.DJ(q.buffer)}function K(s,Q,q,R,m){var E=Q[0][5];if(E.length==0)return;var e=Date.now();
for(var n=0;n<E.length;n++){var w=E[n],M=X(w),P=M.b();P.zJ();var I=1-w[10],k=w[14]*2.15/m;for(var o=0;
o<R;o++)for(var af=0;af<q;af++){var J=M.aX*af+M.Wp*o+M.r2,at=M.X*af+M.r7*o+M.pE,ke=J*J+at*at;if(ke<1){var c_=J-at*k,ag=at+J*k,dz=P._V(new cK(c_,ag)),kL=4*(o*q+af),aq=Math.sqrt(ke),dh=aq<I?0:(aq-I)/(1-I);
s[kL]=Math.max(0,Math.min(255,dh*s[kL]+(1-dh)*(127+dz.x-af)));s[kL+1]=Math.max(0,Math.min(255,dh*s[kL+1]+(1-dh)*(127+dz.y-o)))}}}console.log(Date.now()-e)}function T(s,Q,q,R,m){var E=Q[0][4];
if(E.length==0)return;var e=E[0];for(var n=1;n<E.length;n++)e=e.concat(E[n]);var w=[];for(var n=0;n<e.length;
n+=5){var M=e[n],P=e[n+1],I=e[n+2]-M,k=e[n+3]-e[n+1],o=Math.sqrt(I*I+k*k);if(o!=0){I/=o;k/=o}w.push(M,P,I,k,o,e[n+4])}e=w;
var af=Math.floor(e.length/6),J=127/m;for(var P=0;P<R;P++)for(var M=0;M<q;M++){var at=0,ke=0,c_=0,ag=0;
for(var n=0;n<af;n++){var dz=n*6,kL=e[dz],aq=e[dz+1],I=M-kL,k=P-aq,o=1/Math.pow(I*I+k*k,.5);ke+=o*e[dz+2];
c_+=o*e[dz+3];ag+=o*e[dz+4]*e[dz+5];at+=o}var dh=Math.sqrt(ke*ke+c_*c_),gK=J*ag/(dh*at);s[4*(P*q+M)]=Math.min(ke*gK+127,255);
s[4*(P*q+M)+1]=Math.min(c_*gK+127,255)}}function D(s){var Q=s.blurbOpenPanel;if(Q)return Q.v;else{var q=s.blurbWidgetList2.v;
for(var n=0;n<q.length;n++){var R=q[n].v.blurbWidgetSelected;if(R&&R.v)return q[n].v.blurbWidgetType.v}}return 0}function N(s,Q){if(Q<4)s.blurbOpenPanel={t:"long",v:Q};
else{delete s.blurbOpenPanel;var q=s.blurbWidgetList2.v;for(var n=0;n<q.length;n++){q[n].v.blurbWidgetSelected.v=q[n].v.blurbWidgetType.v==Q}}}function G(s,j,Q,q){var R=y(s)[0],m=R[j],E;
if(j==0){E=m.length;m.push([Q,q,20])}if(j==1||j==5){E=m.length*6+1;var e=100;m.push([Q-e,q-e,Q+e,q-e,Q+e,q+e,Q-e,q+e,Q,q,.8,.8,.8,.8,20])}if(j==3){E=m.length*5;
m.push([Q,q,Q,q-50,Q,q+50,Q,q-20,Q,q+20,20])}if(j==4){E=m.length*4+2;m.push([Q-100,q,Q-50,q,1,Q,q,Q+50,q,1])}V(R,s);
N(s,j);return E}return{apply:C,Xm:y,WL:V,asA:G,asQ:U,ash:l,a1z:X,M:S,a2G:D,aFJ:N}}();f.g_={};f.g_.m=function(d,v,t,h){var X=[];
for(var g=0;g<4;g++)for(var x=0;x<4;x++)X.push(d+t*x/3,v+h*g/3);return X};f.g_.aax=function(d,v){var t=d.slice(0);
for(var n=0;n<4;n++)for(var h=0;h<4;h++){var X=2*(n*4+h),g=2*(h*4+(3-n));if(v){var x=X;X=g;g=x}t[g]=d[X];
t[g+1]=d[X+1]}return t};f.g_.drawImage=function(d,v,t,h,X,g,x){var Z=!1,Y=Date.now(),a=2;if(!h.GV(t))throw"e";
var z=h.b();z.offset(a,a);var p=z.b();p.o2(a,a);var U=f.UJ(v),l=f.m(p.k()*4,U),L=t.b();t.offset(a,a);
f.wH(v,t,l,p);if(Z)console.log(Date.now()-Y,"copy rect");Y=Date.now();f.Oz(l);if(Z)console.log(Date.now()-Y,"multiply alpha");
Y=Date.now();var j=p.r-2*a,O=p.$-2*a,F=Math.max(j,O),i=Math.round(50*j/F),$=Math.round(Math.sqrt(3)*.5*50*O/F),H=i-.5,b=j+2*a,r=O+2*a,W=[],V=[],y=[];
for(var c=0;c<$+1;c++){var S=(c&1)==0;for(var C=0;C<i+1;C++){var K=(C-(S?.5:0))/H,T=c/$;if(C==0)K=0;
if(C==i)K=1;W.push(b*K,r*T);if(C<i&&c<$){var D=c*(i+1)+C,N=D+1,G=D+i+1,s=G+1;if(S)V.push(D,N,G,G,N,s);
else V.push(D,N,s,D,s,G)}var Q=f.g_.aFh(d,K,T);y.push(-Q)}}var q=W.slice(0);f.g_.M(d,q,z);f.Q.M(q,new gi(1,0,0,1,-g.x,-g.y),q);
if(Z)console.log(Date.now()-Y,"mesh built");Y=Date.now();var R=g.r,m=g.$;f.Zb.LB(l,b,r,X,R,m,W,q,y,V,x);
if(Z)console.log(Date.now()-Y,"rendered");Y=Date.now();f.DJ(X);if(Z)console.log(Date.now()-Y,"divided");
Y=Date.now()};f.g_.OT=new Array(10);f.g_.c3=function(d,v){var t=200,h=0,X=0,g=1e9,x=f.g_.OT;for(var Z=0;
Z<t+1;Z++)for(var Y=0;Y<t+1;Y++){var a=Y/t,z=Z/t;f.g_.aex(d,a,z,x);var p=x[8]-v.x,U=x[9]-v.y,l=p*p+U*U;
if(l<g){g=l;h=a;X=z}}return[h,X]};f.g_.M=function(d,v,t){var h=t.x,X=t.y,g=1/t.r,x=1/t.$,Z=f.g_.OT;for(var Y=0;
Y<v.length;Y+=2){var a=(v[Y]-h)*g,z=(v[Y+1]-X)*x;f.g_.aex(d,a,z,Z);v[Y]=Z[8];v[Y+1]=Z[9]}};f.g_.aFh=function(d,v,t){var h,X,g,x,Z=f.g_.OT;
f.g_.asV(d,v,t,Z);h=Z[8];X=Z[9];f.g_.a9w(d,v,t,Z);g=Z[8];x=Z[9];return h*x-X*g};f.g_.AO=function(d,v,t){var h=0,X=0,g=d[2][0],x=d[2][1];
while(h+2<g.length&&g[h+1]<v)h++;v=(v-g[h])/(g[h+1]-g[h]);while(X+2<x.length&&x[X+1]<t)X++;t=(t-x[X])/(x[X+1]-x[X]);
return[h*3,X*3,v,t]};f.g_.aex=function(d,v,t,h){var X=f.g_.AO(d,v,t);f.g_.b1(h,0,X[3]);f.g_.b1(h,4,X[2]);
f.g_.EX(d[3],X[0],X[1],d[0],h)};f.g_.asV=function(d,v,t,h){var X=f.g_.AO(d,v,t);f.g_.b1(h,0,X[3]);f.g_.a6b(h,4,X[2]);
f.g_.EX(d[3],X[0],X[1],d[0],h)};f.g_.a9w=function(d,v,t,h){var X=f.g_.AO(d,v,t);f.g_.a6b(h,0,X[3]);f.g_.b1(h,4,X[2]);
f.g_.EX(d[3],X[0],X[1],d[0],h)};f.g_.a6b=function(d,n,v){var t=1-v;d[n]=-3*(t*t);d[n+1]=3*(t*t)-6*(v*t);
d[n+2]=6*(v*t)-3*(v*v);d[n+3]=3*(v*v)};f.g_.b1=function(d,n,v){var t=1-v;d[n]=t*(t*t);d[n+1]=3*v*(t*t);
d[n+2]=3*(v*v)*t;d[n+3]=v*v*v};f.g_.aKK=function(d,v,t,h,X){var g=f.g_.AO(d,v,t),x=g[0],Z=g[1],Y=g[2],a=g[3],z=d[0],p=Math.floor(Y*3),U=Math.floor(a*3),l=f.g_.OT,L=16,W=0;
f.g_.b1(l,0,a);f.g_.b1(l,4,Y);var j=[],O=[],F=[];for(var i=0;i<4;i++){for(var $=0;$<4;$++){var n=i*4+$,H=l[i]*l[4+$];
j.push(H);O.push((Z+i)*z+x+$);if((i==U||i==U+1)&&($==p||$==p+1)){var b=Y*3-p;if($==p)b=1-b;var r=a*3-U;
if(i==U)r=1-r;F[n]=b*r/H}else F[n]=0}}for(var n=0;n<L;n++)W+=j[n]*F[n];for(var n=0;n<L;n++)F[n]/=W;for(var n=0;
n<L;n++){var H=j[n],V=O[n];d[3][V*2]+=F[n]*h;d[3][V*2+1]+=F[n]*X}};f.g_.zR=function(d){var v=d[0],t=d[1],h=d[2],X=d[3],g=X.slice(0);
for(var x=0;x<t;x++)for(var Z=0;Z<v;Z++){X[(Z*t+x)*2]=g[(x*v+Z)*2];X[(Z*t+x)*2+1]=g[(x*v+Z)*2+1]}d[0]=t;
d[1]=v;d[2]=[h[1],h[0]]};f.g_.split=function(d,v,t){if(v==1)f.g_.zR(d);var h=d[0],X=d[1],g=d[2][0],x=d[3],Z=0;
while(g[Z+1]&&g[Z+1]<t)Z++;var Y=(t-g[Z])/(g[Z+1]-g[Z]),a=1-Y;for(var z=0;z<X;z++){var n=(z*(h+3)+Z*3)*2,p=a*x[n]+Y*x[n+2],U=a*x[n+1]+Y*x[n+3],l=a*x[n+2]+Y*x[n+4],L=a*x[n+3]+Y*x[n+5],j=a*x[n+4]+Y*x[n+6],O=a*x[n+5]+Y*x[n+7],F=a*p+Y*l,i=a*U+Y*L,$=a*l+Y*j,H=a*L+Y*O,b=a*F+Y*$,r=a*i+Y*H;
x.splice(n+2,4,p,U,F,i,b,r,$,H,j,O)}g.push(t);g.sort();d[0]+=3;if(v==1)f.g_.zR(d)};f.g_.EX=function(d,v,t,h,X){var g=0,x=0,Z=0,Y=X[0],a=X[1],z=X[2],p=X[3],U=X[4],l=X[5],L=X[6],j=X[7],n=(t*h+v)*2;
Z=Y*U;g+=d[n+0]*Z;x+=d[n+1]*Z;Z=Y*l;g+=d[n+2]*Z;x+=d[n+3]*Z;Z=Y*L;g+=d[n+4]*Z;x+=d[n+5]*Z;Z=Y*j;g+=d[n+6]*Z;
x+=d[n+7]*Z;n+=h+h;Z=a*U;g+=d[n+0]*Z;x+=d[n+1]*Z;Z=a*l;g+=d[n+2]*Z;x+=d[n+3]*Z;Z=a*L;g+=d[n+4]*Z;x+=d[n+5]*Z;
Z=a*j;g+=d[n+6]*Z;x+=d[n+7]*Z;n+=h+h;Z=z*U;g+=d[n+0]*Z;x+=d[n+1]*Z;Z=z*l;g+=d[n+2]*Z;x+=d[n+3]*Z;Z=z*L;
g+=d[n+4]*Z;x+=d[n+5]*Z;Z=z*j;g+=d[n+6]*Z;x+=d[n+7]*Z;n+=h+h;Z=p*U;g+=d[n+0]*Z;x+=d[n+1]*Z;Z=p*l;g+=d[n+2]*Z;
x+=d[n+3]*Z;Z=p*L;g+=d[n+4]*Z;x+=d[n+5]*Z;Z=p*j;g+=d[n+6]*Z;x+=d[n+7]*Z;n+=h+h;X[8]=g;X[9]=x};f.uj={};
f.uj.aoA=function(d,v,t){var h=Date.now();return f.uj.axv(d,v,t)};f.uj.ahI=function(d,v,t,h){var X=t*h,g=new Uint32Array(X),x=new Uint8Array(X),Z=new Int16Array(X);
g.fill(4294967295);g[v]=0;var Y=new gS(X);Y.push(v,g[v]);var a={Se:d,j7:g,f7:x,tn:Z,f0:Y,aBz:v,bP:[-t-1,-t,-t+1,1,t+1,t,t-1,-1]};
return a};f.uj.FN=function(d,v){var t=d.Se,h=d.j7,X=d.f7,g=d.tn,x=d.f0,Z=d.bP;while(x.xM!=0&&(v==null||X[v]==0)){var Y=x.pop();
if(X[Y]==1)continue;X[Y]=1;for(var n=0;n<8;n++){var a=t[8*Y+n],z=Y+Z[n];if(a==255||X[z]==1)continue;
var p=h[Y]+a;if(p<h[z]){h[z]=p;g[z]=Y-z;x.push(z,p)}}}};function gS(d){this.list=[];this.xM=0;this.ho=4294967295}gS.prototype.push=function(d,v){var t=this.list;
if(t[v]==null)t[v]=[];t[v].push(d);this.xM++;this.ho=Math.min(this.ho,v)};gS.prototype.pop=function(){this.xM--;
var d=this.list,v=this.ho,t=d[v].pop();if(d[v].length==0){d[v]=null;if(this.xM==0)this.ho=4294967295;
else{while(d[v]==null)v++;this.ho=v}}return t};f.uj.ay5=function(d,v,t,h){var X=new Int16Array(h);for(var g=0;
g<t;g++)for(var x=0;x<v;x++){var n=g*v+x,Z=0;if(1<x&&x<v-2&&1<g&&g<t-2){Z+=d[n-v-v];Z+=d[n-v-1]+2*d[n-v]+d[n-v+1];
Z+=d[n-2]+2*d[n-1]-16*d[n]+2*d[n+1]+d[n+2];Z+=d[n+v-1]+2*d[n+v]+d[n+v+1];Z+=d[n+v+v]}else Z=-16*d[n];
X[n]=Z}return X};f.uj.aeT=function(d,v,t,h){if(h==null)h=128;var X=new Uint8Array(v*t);for(var g=1;g<t;
g++)for(var x=1;x<v;x++){var n=g*v+x;f.uj.aFj(d,n,n-1,X,h);f.uj.aFj(d,n,n-v,X,h)}return X};f.uj.aFj=function(d,n,v,t,h){var X=d[n],g=d[v];
if(Math.abs(X-g)>h&&X*g<0){if(Math.abs(X)<Math.abs(g))t[n]=1;else t[v]=1}};f.uj.aay=function(d,v,t,h){var X=new Float32Array(h),g=0;
X.fill(0);for(var x=0;x<t;x++)for(var Z=0;Z<v;Z++){var Y=0,a=0,n=x*v+Z,z=n*3;if(0<Z&&Z<v-1)Y=d[n+1]-d[n-1];
if(0<x&&x<t-1)a=d[n+v]-d[n-v];var p=Y*Y+a*a;if(p!=0){var U=X[z+2]=Math.sqrt(p),l=1/U;X[z]=Y*l;X[z+1]=a*l;
if(U>g)g=U}}var L=3*v*t,j=g==0?0:1/g;for(var n=0;n<L;n+=3)X[n+2]=1-X[n+2]*j;return X};f.uj.axv=function(){function d(Z,Y,a){var z=new ArrayBuffer(Y*a*12),p=Date.now(),U=f.uj.ay5(Z,Y,a,z),l=f.uj.aeT(U,Y,a),L=f.uj.aay(Z,Y,a,z),j=new Uint8Array(Y*a*8);
j.fill(255);var O=[-Y-1,-Y,-Y+1,1];for(var F=1;F<a-1;F++)for(var i=1;i<Y-1;i++){var $=F*Y+i;for(var H=0;
H<4;H++)x($,$+O[H],H,j,l,L)}return j}var v=new Float64Array(256);for(var n=0;n<256;n++)v[n]=Math.acos(-1+2*n/255)*(.95/Math.PI);
var t=[-1,0,1,1,1,0,-1,-1],h=[-1,-1,-1,0,1,1,1,0];for(var n=0;n<8;n++){var X=1/Math.sqrt(t[n]*t[n]+h[n]*h[n]);
t[n]*=X;h[n]*=X}var g=[t[0],h[0],t[1],h[1],t[2],h[2],t[3],h[3]];function x(Z,Y,a,z,p,U){var l=3*Z,L=3*Y,j=1-p[Y],O=1-p[Z],F=(a&1)==0?1:Math.SQRT1_2,i=U[L+2]*F,$=U[l+2]*F,H=U[L+1],b=-U[L],r=U[l+1],W=-U[l],V=g[a+a],y=g[a+a+1],c=r*V+W*y,S=H*V+b*y;
if(c+S<0){c=-c;S=-S}var C=v[~~((.5+.5*c)*255)]+v[~~((.5+.5*S)*255)];z[(Z<<3)+a]=1+~~(.5+20*(.43*j+.43*C+.14*i));
z[(Y<<3)+a+4]=1+~~(.5+20*(.43*O+.43*C+.14*$))}return d}();f.mD={};f.mD.Za=function(d){var v=d.slice(0),t=0;
for(var n=0;n<d.length;n++)t+=d[n];for(var n=0;n<d.length;n++)v[n]/=t;return v};f.mD.dY=[f.mD.Za([1,2,1,2,16,2,1,2,1]),f.mD.Za([1,2,1,2,4,2,1,2,1]),f.mD.Za([0,-1,0,-1,8,-1,0,-1,0]),f.mD.Za([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
f.mD.Rz=function(d,v,t,h,X,g,x){if(x==null)x=!1;var Z=Math.floor(Math.sqrt(X.length)),Y=Z-1>>>1,a=f.UJ(d),z=f.ay(a),p=new Uint32Array(d.buffer),U=new Uint8ClampedArray(v.buffer);
for(var n=0;n<h;n++)for(var l=0;l<t;l++){var L=0,j=0,O=0,F=0;for(var i=0;i<Z;i++)for(var $=0;$<Z;$++){var H=X[i*Z+$];
if(H==0)continue;var b=l-Y+$,r=n-Y+i;if(b<0)b=0;else if(b>t-1)b=t-1;if(r<0)r=0;else if(r>h-1)r=h-1;if(a==8){var W=p[r*t+b];
L+=(W&255)*H;j+=(W>>>8&255)*H;O+=(W>>>16&255)*H;F+=(W>>>24&255)*H}else{var V=r*t+b<<2;L+=d[V]*H;j+=d[V+1]*H;
O+=d[V+2]*H;F+=d[V+3]*H}}if(x){if(L<0)L=-L;if(j<0)j=-j;if(O<0)O=-O;if(F<0)F=-F}var y=n*t+l<<2;if(a==8){U[y]=~~(.5+L);
U[y+1]=~~(.5+j);U[y+2]=~~(.5+O);if(g)U[y+3]=~~(.5+F)}else{v[y]=Math.max(0,Math.min(z,L));v[y+1]=Math.max(0,Math.min(z,j));
v[y+2]=Math.max(0,Math.min(z,O));if(g)v[y+3]=Math.max(0,Math.min(z,F))}}};f.mD.axD=function(d,v,t,h){var X=d.length,g=new Uint8Array(X);
f.mD.Rz(d,v,t,h,f.mD.dY[4],!1,!0);f.mD.Rz(d,g,t,h,f.mD.dY[5],!1,!0);for(var n=0;n<X;n+=4){var x=v[n],Z=v[n+1],Y=v[n+2],a=v[n+3],z=g[n],p=g[n+1],U=g[n+2],l=g[n+3];
v[n]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+z*z)));v[n+1]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+p*p)));
v[n+2]=255-Math.max(0,Math.min(255,Math.sqrt(Y*Y+U*U)))}};f.mD.apQ=function(d,v,t,h){var X=d.length,g=new Uint8Array(X);
f.mD.HG(d,v,t,h,f.mD.dY[4],!0);f.mD.HG(d,g,t,h,f.mD.dY[5],!0);for(var n=0;n<X;n++){var x=v[n],Z=g[n];
v[n]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+Z*Z)))}};f.mD.HG=function(d,v,t,h,X,g){v=new Uint8ClampedArray(v.buffer);
var x=[-t-1,-t,-t+1,-1,0,1,t-1,t,t+1],Z=h-1,Y=t-1;for(var n=1;n<Z;n++)for(var a=1;a<Y;a++){var z=n*t+a,p=f.mD.Dq(d,z,t,X);
if(g){if(p<0)p=-p}v[z]=~~(p+.5)}};f.mD.Dq=function(d,v,t,h){return d[v-t-1]*h[0]+d[v-t]*h[1]+d[v-t+1]*h[2]+d[v-1]*h[3]+d[v]*h[4]+d[v+1]*h[5]+d[v+t-1]*h[6]+d[v+t]*h[7]+d[v+t+1]*h[8]};
f.mD.avD=function(d,v,t,h,X){var g=[-t-1,-t,-t+1,-1,0,1,t-1,t,t+1],x=h-1,Z=t-1;for(var n=1;n<x;n++)for(var Y=1;
Y<Z;Y++){var a=n*t+Y;v[a]=f.mD.a4U(d,a,t,X)}};f.mD.a4U=function(d,v,t,h){return d[v-t-1]*h[0]+d[v-t]*h[1]+d[v-t+1]*h[2]+d[v-1]*h[3]+d[v]*h[4]+d[v+1]*h[5]+d[v+t-1]*h[6]+d[v+t]*h[7]+d[v+t+1]*h[8]};
f.lD={};f.lD.Ba=function(){function d(x,Z,Y,a,z,p){if(z==0){Z.set(x);return}var U=f.m(Y*a),l=f.m(Y*a);
if(f.jF(x)){v(x,Z,Y,a,z,p);f.Po(x,U,3);f.lD.aJM(U,l,Y,a,z,p);f.Gj(l,Z,3)}else{for(var n=0;n<3;n++){f.Po(x,U,n);
f.lD.aJM(U,l,Y,a,z,p);f.Gj(l,Z,n)}}}function v(x,Z,Y,a,z,p){var U=0,l=new ArrayBuffer(512*4*3),L=[new Int32Array(l,0),new Int32Array(l,2048),new Int32Array(l,2*2048)],j=1+2*Math.round(Math.sqrt(z)),O=j>>>1,F=new Array(j),$=new Array(j);
for(var n=0;n<j;n++){var l=new ArrayBuffer(512*4*3);F[n]=[new Int32Array(l,0),new Int32Array(l,2048),new Int32Array(l,2*2048)];
$[n]=F[n][0]}var H=[f.lD.B8,f.lD.zp][p],b=H[0],r=H[1],W=L[0];for(var V=0;V<Y;V++)if(V<z||V>Y-z-j-1){W.fill(0);
var y=Math.max(V-z,0),c=Math.min(Y,V+z+1),S=c-y;for(var C=0;C<z;C++)h(W,x,C*Y+y,C*Y+c,1);for(var C=0;
C<a;C++){var K=C-z-1,T=C+z;if(T<a)h(W,x,T*Y+y,T*Y+c,1);if(K>=0)h(W,x,K*Y+y,K*Y+c,-1);var D=C*Y+V<<2;
U=W[300];if(U!=0)for(var n=0;n<3;n++)Z[D+n]=b(L[n],x[D+n],U)}}else{for(var n=0;n<j;n++)$[n].fill(0);
var y=V-z+O,c=V+z+1+O;for(var C=0;C<z;C++)t($,x,C*Y+y,C*Y+c,1,O);for(var C=0;C<a;C++){var K=C-z-1,T=C+z;
if(K>=0)t($,x,K*Y+y,K*Y+c,-1,O);if(T<a)t($,x,T*Y+y,T*Y+c,1,O);var N=F[O];U=N[0][300];for(var n=0;n<O;
n++){var G=O-1-n,s=O+1+n,Q=F[G],q=F[s],R=U+Q[0][300],m=U+q[0][300],E=C*Y+V+G<<2,e=C*Y+V+s<<2;if(R!=0)for(var w=0;
w<3;w++)Z[E+w]=r(N[w],Q[w],x[E+w],R);if(m!=0)for(var w=0;w<3;w++)Z[e+w]=r(N[w],q[w],x[e+w],m)}var D=C*Y+V+O<<2;
if(U!=0)for(var w=0;w<3;w++)Z[D+w]=b(N[w],x[D+w],U)}V+=j-1}}function t(x,Z,Y,a,z,p){var U=X,l=Y<<2,L=a<<2;
U(x[p-1],Z,Y-1<<2,z);U(x[p-1],Z,a-1<<2,-z);U(x[p+1],Z,a<<2,z);U(x[p+1],Z,Y<<2,-z);for(var n=1;n<p;n++){var j=x[p-n-1],O=x[p+n+1];
for(var F=0;F<=n;F++){var i=F<<2;U(j,Z,Y-1-F<<2,z);U(j,Z,a-1-F<<2,-z);U(O,Z,a+F<<2,z);U(O,Z,Y+F<<2,-z)}}h(x[p],Z,Y,a,z)}function h(x,Z,n,Y,a){var z=n<<2,p=Y<<2;
while(z<p){X(x,Z,z,a);z+=4}}function X(x,Z,Y,a){var z=a*Z[Y+3];x[300]+=z;g(x,Z[Y],0,z);g(x,Z[Y+1],512,z);
g(x,Z[Y+2],1024,z)}function g(x,Z,Y,a){x[Y|Z]+=a;x[Y|256|Z>>>4]+=a}return d}();f.lD.aJM=function(){function d(p,U,l,L,j,O){if(j==0){U.set(p);
return}if(j<=200)v(p,U,l,L,j,O);else g(p,U,l,L,j,O)}function v(p,U,l,L,j,O){var F=0,$=new Int32Array(512),H=1+2*Math.round(Math.sqrt(j)),b=H>>>1,r=new Array(H);
for(var n=0;n<H;n++)r[n]=new Int32Array(512);var W=[f.lD.B8,f.lD.zp][O],V=W[0],y=W[1];for(var c=0;c<l;
c++)if(c<j||c>l-j-H-1){$.fill(0);F=0;var S=Math.max(c-j,0),C=Math.min(l,c+j+1),K=C-S;for(var T=0;T<j;
T++){F+=K;h($,p,T*l+S,T*l+C,1)}for(var T=0;T<L;T++){var D=T-j-1,N=T+j;if(D>=0){F-=K;h($,p,D*l+S,D*l+C,-1)}if(N<L){F+=K;
h($,p,N*l+S,N*l+C,1)}var G=V($,p[T*l+c],F);U[T*l+c]=G}}else{for(var n=0;n<H;n++)r[n].fill(0);F=0;var S=c-j+b,C=c+j+1+b,K=C-S;
for(var T=0;T<j;T++){F+=K;t(r,p,T*l+S,T*l+C,1,b)}for(var T=0;T<L;T++){var D=T-j-1,N=T+j;if(D>=0){F-=K;
t(r,p,D*l+S,D*l+C,-1,b)}if(N<L){F+=K;t(r,p,N*l+S,N*l+C,1,b)}for(var n=0;n<b;n++){var s=b-1-n,Q=b+1+n;
U[T*l+c+s]=y(r[b],r[s],p[T*l+c+s],F);U[T*l+c+Q]=y(r[b],r[Q],p[T*l+c+Q],F)}U[T*l+c+b]=V(r[b],p[T*l+c+b],F)}c+=H-1}}function t(p,U,l,L,j,O){var F=X;
F(p[O-1],U[l-1],0,j);F(p[O-1],U[L-1],0,-j);F(p[O+1],U[L],0,j);F(p[O+1],U[l],0,-j);for(var n=1;n<O;n++){var i=p[O-n-1],$=p[O+n+1];
for(var H=0;H<=n;H++){F(i,U[l-1-H],0,j);F(i,U[L-1-H],0,-j);F($,U[L+H],0,j);F($,U[l+H],0,-j)}}h(p[O],U,l,L,j)}function h(p,U,n,l,L){while(n<l)X(p,U[n++],0,L)}function X(p,U,l,L){p[l|U]+=L;
p[l|256|U>>>4]+=L}function g(p,U,l,L,j,O){var F=0,$=new Int32Array(512),H=new Int32Array(1*l),b=new Int32Array(512*l),r=Math.min(j,l),W=Math.min(j,L),V=[f.lD.B8,f.lD.zp][O],y=V[0];
for(var c=0;c<W;c++)x(b,H,p,l,c,1);for(var c=0;c<L;c++){if(c+j<L)x(b,H,p,l,c+j,1);if(c-j-1>=0)x(b,H,p,l,c-j-1,-1);
$.fill(0);F=0;for(var S=0;S<r;S++){F+=H[S];Z($,b,S)}for(var S=0;S<l;S++){var C=S-j-1,K=S+j;if(C>=0&&H[C]!=0){F-=H[C];
Y($,b,C)}if(K<l&&H[K]!=0){F+=H[K];Z($,b,K)}var T=F==0?0:y($,p[c*l+S],F);U[c*l+S]=T}}}function x(p,U,l,L,j,O){var n=j*L;
for(var F=0;F<L;F++){X(p,l[n+F],F<<9,O);U[F]+=O}}function Z(p,U,l){for(var n=0;n<16;n++){var L=U[l<<9|256|n];
if(L==0)continue;p[256|n]+=L;var j=n<<4,O=l<<9|j;a(p,U,j,O);a(p,U,j+4,O+4);a(p,U,j+8,O+8);a(p,U,j+12,O+12)}}function Y(p,U,l){for(var n=0;
n<16;n++){var L=U[l<<9|256|n];if(L==0)continue;p[256|n]-=L;var j=n<<4,O=l<<9|j;z(p,U,j,O);z(p,U,j+4,O+4);
z(p,U,j+8,O+8);z(p,U,j+12,O+12)}}function a(p,U,l,L){p[l]+=U[L];p[l+1]+=U[L+1];p[l+2]+=U[L+2];p[l+3]+=U[L+3]}function z(p,U,l,L){p[l]-=U[L];
p[l+1]-=U[L+1];p[l+2]-=U[L+2];p[l+3]-=U[L+3]}return d}();f.lD.zu=.5;f.lD.B8=[function(d,v,t){var h=~~(.5+f.lD.zu*t),X=0,n=256;
while(X+d[n]<h)X+=d[n++];n=n-256<<4;while(X<h)X+=d[n++];return n-1},function(d,v,t,h){var X=~~(.5+f.lD.zu*h),g=0,n=256;
while(g+d[n]+v[n]<X){g+=d[n]+v[n];n++}n=n-256<<4;while(g<X){g+=d[n]+v[n];n++}return n-1}];f.lD.q0=100;
f.lD.zp=[function(d,v,t){var h=f.lD.q0,X=0,g=0,n=Math.max(0,v-h),x=Math.min(256,v+h+1);while(n<x){var Z=d[n];
X+=n*Z;g+=Z;n++}return g==0?0:X/g},function(d,v,t,h){var X=f.lD.q0,g=0,x=0,n=Math.max(0,t-X),Z=Math.min(256,t+X+1);
while(n<Z){var Y=d[n]+v[n];g+=n*Y;x+=Y;n++}return x==0?0:g/x}];f.G={};f.G.V0=function(d){var v=A.hZ.Q9(d.Trnf),t=new iW(0,0,1e3,1e3);
if(d.Sz){var h=d.Sz.v;t=new iW(0,0,h.Wdth.v,h.Hght.v)}var X=f.G.ms(v,t);return f.G.B0(X)};f.G.ms=function(d,v){var t=d[0],h=d[1],X=d[2],g=d[3],x=d[6],Z=d[7],Y=d[4],a=d[5],z=0,p=0,U=1,l=0,L=0,j=1,O=1,F=1;
if(v){z=v.x;p=v.y;U=v.x+v.r;l=v.y;L=v.x;j=v.y+v.$;O=v.x+v.r;F=v.y+v.$}return f.G.aeD(d,[z,p,U,l,O,F,L,j])};
f.G.aNo=function(d){function v(X,g){for(var n=0;n<g.length;n+=2)if(!t(X,g[n],g[n+1]))return!1;return!0}function t(X,g,x){return X[2*g]==X[2*x]&&X[2*g+1]==X[2*x+1]}var h=0;
if(v(d,[0,1,2,3]))h+=1;if(v(d,[0,3,1,2]))h+=2;return h};f.G.aeD=function(d,v){function t(N,n,G){var K=N[n*2]-N[G*2],T=N[n*2+1]-N[G*2+1];
return Math.sqrt(K*K+T*T)}var h=d[0],X=d[1],g=d[2],x=d[3],Z=d[6],Y=d[7],a=d[4],z=d[5],p=v[0],U=v[1],l=v[2],L=v[3],j=v[6],O=v[7],F=v[4],i=v[5],$=[[p,U,1,0,0,0,-p*h,-U*h,h],[0,0,0,p,U,1,-p*X,-U*X,X],[l,L,1,0,0,0,-l*g,-L*g,g],[0,0,0,l,L,1,-l*x,-L*x,x],[j,O,1,0,0,0,-j*Z,-O*Z,Z],[0,0,0,j,O,1,-j*Y,-O*Y,Y],[F,i,1,0,0,0,-F*a,-i*a,a],[0,0,0,F,i,1,-F*z,-i*z,z]],H=[0,0,0,0,0,0,0,0],b=f.AC.Y5($,H);
if(b!=0){H=[0,0,0,0,0,0,0,0];var r=f.G.aNo(d),W=f.G.aNo(v);if(r==W&&r!=0){var V=r==1,y=V?3:1,c=t(d,0,y),S=t(v,0,y),C=S/c,K=d[2*y]-d[0],T=d[2*y+1]-d[1],D=new gi;
D.translate(-h,-X);D.rotate(Math.atan2(T,K)-(V?Math.PI/2:0));if(V)D.scale(1,C);else D.scale(C,1);D.translate(p,U);
D.zJ();H=f.G.KO(D)}}return H};f.G.m=function(d,v){if(d==null)d=v=0;return[1,0,d,0,1,v,0,0]};f.G.nU=function(d){return Math.abs(d[6])<1e-18&&Math.abs(d[7])<1e-18};
f.G.B0=function(d){return new gi(d[0],d[3],d[1],d[4],d[2],d[5])};f.G.KO=function(d){return[d.aX,d.Wp,d.r2,d.X,d.r7,d.pE,0,0]};
f.G.M=function(d,v){var t=new Float64Array(2);for(var h=0;h<v.length;h+=2){var X=v[h],g=v[h+1];f.G.kj(X,g,d,t);
v[h]=t[0];v[h+1]=t[1]}};f.G.kj=function(d,v,t,h){var X=1/(t[6]*d+t[7]*v+1);h[0]=(t[0]*d+t[1]*v+t[2])*X;
h[1]=(t[3]*d+t[4]*v+t[5])*X};f.G.ah8=function(d,v){var t=new Float64Array(2);f.G.kj(v.x,v.y,d,t);return new cK(t[0],t[1])};
f.G.zR=function(d,v,t,h){d=new Uint32Array(d.buffer);v=new Uint32Array(v.buffer);for(var X=0;X<h;X++){for(var g=0;
g<t;g++){v[g*h+X]=d[X*t+g]}}};f.G.EN=function(d,v,t,h){d=new Uint32Array(d.buffer);v=new Uint32Array(v.buffer);
for(var X=0;X<h;X++){for(var g=0;g<t;g++){v[X*t+g]=d[X*t+t-1-g]}}};f.G.adW=function(d,v,t,h){d=new Uint32Array(d.buffer);
v=new Uint32Array(v.buffer);for(var X=0;X<h;X++){for(var g=0;g<t;g++){v[X*t+g]=d[(h-1-X)*t+g]}}};f.G.ahw=function(d){return Math.abs(d[6])<1e-9&&Math.abs(d[7])<1e-9};
f.G.apU=function(d){return Math.abs(d[0])<1e-9&&Math.abs(d[4])<1e-9||Math.abs(d[1])<1e-9&&Math.abs(d[3])<1e-9};
f.G.drawImage=function(d,v,t,h,X,g,x,Z){if(x==null)x=!1;var Y=f.G.zJ(d),a=!0,z=0;for(var n=0;n<8;n++){var p=Math.round(d[n]);
if(n!=2&&n!=5)z+=Math.abs(p);if(Math.abs(p-d[n])>1e-9)a=!1}var U=f.G.ahw(d),l=f.G.apU(d)&&U,L=l?1:0;
if(f.UJ(v)!=8){f.G.ant(Y,v,t,h,X,g,U,x||Z);return}if(x||a&&z==t+h&&U){f.G.agw(Y,v,t,h,X,g,U,Z);return}var j=g.r,O=g.$,F=new Float64Array(2);
X=new Uint32Array(X.buffer);v=new Uint32Array(v.buffer);for(var i=0;i<O;i++)for(var $=0;$<j;$++){var H=i*j+$,b,r,W,V,Q=0,q=0,R=0,m=0;
X[H]=0;var y=$+g.x+.5,c=i+g.y+.5;b=y;r=c;W=Y;var S=W[0]*b+W[1]*r+W[2],C=W[3]*b+W[4]*r+W[5];if(!U){V=1/(W[6]*b+W[7]*r+1);
S*=V;C*=V}var K=S*t,T=C*h,D=K<-1||K>t+1||T<-1||T>h+1;if(D)continue;var N=f.G.a78(d,t,h,y,c,S,C),G=Math.round(N*2.3);
if(N<1.1){f.G.Wl(K,T,v,t,h,X,H,L);continue}if(K<.6||K>t-.6||T<.6||T>h-.6){G=Math.max(G,5)}var s=1/G,E=g.x+$,e=g.y+i;
W=Y;for(var n=0;n<G;n++)for(var w=0;w<G;w++){b=E+(n+.5)*s;r=e+(w+.5)*s;var K=W[0]*b+W[1]*r+W[2],T=W[3]*b+W[4]*r+W[5];
if(!U){V=1/(W[6]*b+W[7]*r+1);K*=V;T*=V}if(K<0||K>=1||T<0||T>=1)continue;K=Math.floor(K*t);T=Math.floor(T*h);
var M=T*t+K,P=v[M],I=P>>>24;Q+=(P&255)*I;q+=(P>>>8&255)*I;R+=(P>>>16&255)*I;m+=I}if(m!=0){var k=1/m;
Q=~~(Q*k+.5);q=~~(q*k+.5);R=~~(R*k+.5);m=~~(m*s*s+.5);X[H]=m<<24|R<<16|q<<8|Q}}};f.G.ant=function(d,v,t,h,X,g,x,Z){var Y=g.r,a=g.$,z=new gi;
z.scale(t,h);z.translate(1,1);var p=f.G.Sn(f.G.KO(z),d),U=new iW(0,0,t,h),l=U.b();l.o2(1,1);var L=f.m(l.k()*4,f.UJ(v));
f.wH(v,U,L,l);t=l.r;h=l.$;var j=g.x+.5,O=g.y+.5;f.Oz(L);for(var F=0;F<a;F++)for(var i=0;i<Y;i++){var $=F*Y+i<<2,H=i+j,b=F+O,r=p[0]*H+p[1]*b+p[2],W=p[3]*H+p[4]*b+p[5];
if(!x){var V=1/(p[6]*H+p[7]*b+1);r*=V;W*=V}if(r<.5||r>t-.5||W<.5||W>h-.5){X[$]=0;X[$+1]=0;X[$+2]=0;X[$+3]=0}else if(Z){var y=~~W*t+~~r<<2;
X[$]=L[y];X[$+1]=L[y+1];X[$+2]=L[y+2];X[$+3]=L[y+3]}else f.G.ais(r,W,L,t,X,$)}f.DJ(X)};f.G.a78=function(d,v,t,h,X,g,x){var Z=f.G.a7s(d,h,X,g+1/v,x),Y=f.G.a7s(d,h,X,g,x+1/t);
return 1/Math.sqrt(Math.max(Z,Y))};f.G.a7s=function(d,v,t,h,X){var g=1/(d[6]*h+d[7]*X+1),x=(d[0]*h+d[1]*X+d[2])*g-v,Z=(d[3]*h+d[4]*X+d[5])*g-t;
return x*x+Z*Z};f.G.agw=function(d,v,t,h,X,g,x,Z){if(x&&g.k()>4e6&&Z){f.G.aL3(d,v,t,h,X,g,x,Z);return}var Y=g.x+g.r,a=g.y+g.$,z=0,p=new Uint32Array(X.buffer),U=new Uint32Array(v.buffer),l=d[0]*t,L=d[1]*t,j=d[2]*t,O=d[3]*h,F=d[4]*h,i=d[5]*h,$=d[6],H=d[7];
if(x)for(var b=g.y+.5;b<a;b++)for(var r=g.x+.5;r<Y;r++){var W=l*r+L*b+j,V=O*r+F*b+i;if(0<W&&W<t&&0<V&&V<h){var y=~~V*t+~~W;
p[z]=U[y]}else p[z]=0;z++}else for(var b=g.y+.5;b<a;b++)for(var r=g.x+.5;r<Y;r++){var c=1/($*r+H*b+1),W=(l*r+L*b+j)*c,V=(O*r+F*b+i)*c;
if(0<W&&W<t&&0<V&&V<h){var y=Math.floor(V)*t+Math.floor(W);p[z]=U[y]}else p[z]=0;z++}};f.G.aL3=function(d,v,t,h,X,g,x,Z){var Y=new Uint32Array(X.buffer),a=new Uint32Array(v.buffer),H=0;
if(Z&&(g.r&3)!=0)throw"e";var z=d[0]*t,p=d[1]*t,U=d[2]*t,l=d[3]*h,L=d[4]*h,j=d[5]*h,O=d[6],F=d[7],i=g.r,$=g.$,b=g.x+.5,r=g.y+.5,W=(i>>>2<<2)-1e-9,V=-.1+($>>>1<<1)-1e-9,y=~~t,c=z==0?0:1/z,S=l==0?0:1/l;
for(var C=0;C<$;C++){var K=b*z+p*(C+r)+U,T=b*l+L*(C+r)+j,D=0,N=i;if(z==0){}else if(c>0){D=Math.max(D,-K*c);
N=Math.min(N,(t-K)*c)}else{N=Math.min(N,-K*c);D=Math.max(D,(t-K)*c)}if(l==0){}else if(S>0){D=Math.max(D,-T*S);
N=Math.min(N,(h-T)*S)}else{N=Math.min(N,-T*S);D=Math.max(D,(h-T)*S)}if(N<0)N=0;if(D>N)D=N;D=~~Math.ceil(D);
N=~~N;H=~~(C*i);Y.fill(0,H,H+D);H+=D;for(var G=D;G<N;G+=4){var s=z*G+K,Q=l*G+T,q=~~Q*y+~~s,R=a[q];Y[H]=R;
Y[H+1]=R;Y[H+2]=R;Y[H+3]=R;H+=4}Y.fill(0,H,H+i-N)}};f.G.zJ=function(d){var v=d[4]-d[5]*d[7],t=d[2]*d[7]-d[1],h=d[1]*d[5]-d[2]*d[4],X=d[5]*d[6]-d[3],g=d[0]-d[2]*d[6],x=d[3]*d[2]-d[0]*d[5],Z=d[3]*d[7]-d[4]*d[6],Y=d[1]*d[6]-d[0]*d[7],a=1/(d[0]*d[4]-d[1]*d[3]);
return[v*a,t*a,h*a,X*a,g*a,x*a,Z*a,Y*a]};f.G.Sn=function(d,v){var t=d[0],h=d[1],X=d[2],g=d[3],x=d[4],Z=d[5],Y=d[6],a=d[7],z=v[0],p=v[1],U=v[2],l=v[3],L=v[4],j=v[5],O=v[6],F=v[7],i=[t*z+h*l+X*O,t*p+h*L+X*F,t*U+h*j+X,g*z+x*l+Z*O,g*p+x*L+Z*F,g*U+x*j+Z,Y*z+a*l+O,Y*p+a*L+F],$=1/(Y*U+a*j+1);
for(var n=0;n<8;n++)i[n]*=$;return i};f.G.Wl=function(d,v,t,h,X,g,x,Z){var Y=d,a=v,U=0,l=0,L=0,j=0;d-=.499999;
v-=.499999;var z=Math.floor(d),p=Math.floor(v);if(Z==0){var n=p*h+z,O=z>=0&&z<h,F=z+1>=0&&z+1<h,i=p>=0&&p<X,$=p+1>=0&&p+1<X;
if(O&&i)U=t[n];if(F&&i)l=t[n+1];if(O&&$)L=t[n+h];if(F&&$)j=t[n+h+1]}else if(Z==1){var H=z<0?0:z>h-1?h-1:z,b=z<-1?0:z>h-2?h-1:z+1,r=p<0?0:p>X-1?X-1:p,W=p<-1?0:p>X-2?X-1:p+1;
U=t[r*h+H];l=t[r*h+b];L=t[W*h+H];j=t[W*h+b]}else{var H=(z+50*h)%h,b=(z+50*h+1)%h,r=(p+50*X)%X,W=(p+50*X+1)%X;
U=t[r*h+H];l=t[r*h+b];L=t[W*h+H];j=t[W*h+b]}var V=d-z,y=v-p,c=(1-y)*(1-V)*(U>>>24),S=(1-y)*V*(l>>>24),C=y*(1-V)*(L>>>24),K=y*V*(j>>>24),T=c+S+C+K,D=c*(U&255)+S*(l&255)+C*(L&255)+K*(j&255),N=c*(U>>>8&255)+S*(l>>>8&255)+C*(L>>>8&255)+K*(j>>>8&255),Q=c*(U>>>16&255)+S*(l>>>16&255)+C*(L>>>16&255)+K*(j>>>16&255);
if(T==0)g[x]=0;else{var q=1/T;D=~~(D*q+.5);N=~~(N*q+.5);Q=~~(Q*q+.5);T=~~(T+.5);g[x]=T<<24|Q<<16|N<<8|D}};
f.G.ais=function(d,v,t,h,X,g){var x=d-.499999,Z=v-.499999,Y=~~x,a=~~Z,z=x-Y,p=Z-a,U=(1-p)*(1-z),l=(1-p)*z,L=p*(1-z),j=p*z,O=a*h+Y<<2,F=(a+1)*h+Y<<2;
X[g]=U*t[O]+l*t[O+4]+L*t[F]+j*t[F+4];X[g+1]=U*t[O+1]+l*t[O+5]+L*t[F+1]+j*t[F+5];X[g+2]=U*t[O+2]+l*t[O+6]+L*t[F+2]+j*t[F+6];
X[g+3]=U*t[O+3]+l*t[O+7]+L*t[F+3]+j*t[F+7]};f.G.ad$=function(d,v,t,h,X,g){var x=d-.499999,Z=v-.499999,Y=~~x,a=~~Z,z=x-Y,p=Z-a,U=(1-p)*(1-z),l=(1-p)*z,L=p*(1-z),j=p*z,O=a*h+Y<<2,F=(a+1)*h+Y<<2,i=U*t[O]+l*t[O+4]+L*t[F]+j*t[F+4],$=U*t[O+1]+l*t[O+5]+L*t[F+1]+j*t[F+5],H=U*t[O+2]+l*t[O+6]+L*t[F+2]+j*t[F+6],b=U*t[O+3]+l*t[O+7]+L*t[F+3]+j*t[F+7];
g[0]=i;g[1]=$;g[2]=H;g[3]=b};f.G.us=function(d,v,t,h,X){d-=.499999;v-=.499999;var g=Math.floor(d),x=Math.floor(v),Z=d-g,Y=v-x,a=(1-Y)*(1-Z),z=(1-Y)*Z,p=Y*(1-Z),U=Y*Z,l=(g+50*h)%h,L=(g+1+50*h)%h,j=(x+50*X)%X,O=(x+1+50*X)%X,F=t[j*h+l],i=t[j*h+L],$=t[O*h+l],H=t[O*h+L];
return a*F+z*i+p*$+U*H};f.G.aDI=function(d,v,t,h,X){d-=.499999;v-=.499999;var g=Math.floor(d),x=Math.floor(v),Z=d-g,Y=v-x,a=(1-Y)*(1-Z),z=(1-Y)*Z,p=Y*(1-Z),U=Y*Z,l=x*h+g,L=l+h;
return a*t[l]+z*t[l+1]+p*t[L]+U*t[L+1]};f.G.azx=function(d,v,t,h,X){d-=.499999;v-=.499999;var g=Math.floor(d),x=Math.floor(v),Z=d-g,Y=v-x,a=(1-Y)*(1-Z),z=(1-Y)*Z,p=Y*(1-Z),U=Y*Z,l=x*h+g,L=l+h;
return a*t[l]+z*t[l+1]+p*t[L]+U*t[L+1]};f.G.arR=function(d,v,t,h,X){d-=.499999;v-=.499999;var g=Math.floor(d),x=Math.floor(v),Z=d-g,Y=v-x,a=(1-Y)*(1-Z),z=(1-Y)*Z,p=Y*(1-Z),U=Y*Z,l=x*h+g,L=l+h;
return a*t[l]+z*t[l+1]+p*t[L]+U*t[L+1]};f.G.ab9=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U=new Uint32Array(d.buffer),l=new Uint32Array(h.buffer),L=(1+2*a)/X,j=[],O=[];
for(var F=0;F<X;F++){var i=-.25+a-F*L;j.push(Math.cos(2*Math.PI*i)*p/z);j.push(Math.sin(2*Math.PI*i)/z)}x*=v;
Z*=t;for(var $=0;$<g;$++){var H=Math.pow($/g,Y)*g;for(var F=0;F<X;F++){var b=x+j[F<<1]*H,r=Z+j[(F<<1)+1]*H,W=~~(.5+(b<0?0:b>v-1?v-1:b)),V=~~(.5+(r<0?0:r>t-1?t-1:r));
l[$*X+F]=U[V*v+W]}}};f.G.apy=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U=new Uint32Array(d.buffer),l=new Uint32Array(h.buffer),L=1/p,j=[],O=t*4,F=1/O;
for(var i=0;i<O+10;i++)j.push(Math.pow(i*F,1/Y)*t*z);x*=X;Z*=g;for(var i=0;i<g;i++)for(var $=0;$<X;$++){var H=L*($-x),b=i-Z,r=1.75-Math.atan2(b,H)*(1/(2*Math.PI));
r=r-~~r;r=(r+a)*(1/(1+2*a));var W=Math.sqrt(H*H+b*b);W=j[~~(W*4)];f.G.Wl(r*v+.5,W+.5,U,v,t,l,i*X+$,1)}};
f.G.kg=function(d,v,t,h,X){var g=X[0],x=X[1];for(var Z=0;Z<x;Z++)for(var Y=0;Y<g;Y++){var a=X[2]*Y+X[3]*Z+X[4],z=X[5]*Y+X[6]*Z+X[7],p=Z*g+Y<<2,U=z*v+a<<2;
h[p]=d[U+0];h[p+1]=d[U+1];h[p+2]=d[U+2];h[p+3]=d[U+3]}};f.iF=function(){function d(H,b){var r=~~(.499+H*b);
return r<0?0:(r>b?b:r)<<2}function v(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$,s=new Uint32Array(1),Q=new Uint8Array(s.buffer),q=Math.round(Math.random()*W.k()*100);
for(var R=0,n=0;R<G;R++){for(var m=0;m<N;m++,n++){var E=m+V,e=R+y,w=C*E+K*e,M=T*E+D*e,P=0;if(S==0)P=w+.5;
else if(S==1)P=2*Math.sqrt(w*w+M*M);else if(S==2)P=(Math.PI+Math.atan2(-M,-w))/(2*Math.PI);else if(S==3)P=Math.abs(w*2);
else if(S==4)P=2*(Math.abs(w)+Math.abs(M));var I=d(P,c),k=m*4;s[0]=f.V.X1(n+q);for(var o=0;o<4;o++){var af=b[I+o]*255,J=Math.floor(af);
if(Q[o]<(af-J)*255)J++;H[(n<<2)+o]=J}}}}function t(H,n,b,r,W){var V=n<<2;H[V]=b[r]*W;H[V+1]=b[r+1]*W;
H[V+2]=b[r+2]*W;H[V+3]=b[r+3]*W}var h=[function(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$;
for(var s=0,n=0;s<G;s++)for(var Q=0;Q<N;Q++,n++){var q=Q+V,R=s+y,m=C*q+K*R,E=T*q+D*R,e=m+.5;t(H,n,b,d(e,c),S)}},function(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$;
for(var s=0,n=0;s<G;s++)for(var Q=0;Q<N;Q++,n++){var q=Q+V,R=s+y,m=C*q+K*R,E=T*q+D*R,e=2*Math.sqrt(m*m+E*E);
t(H,n,b,d(e,c),S)}},function(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$;for(var s=0,n=0;
s<G;s++)for(var Q=0;Q<N;Q++,n++){var q=Q+V,R=s+y,m=C*q+K*R,E=T*q+D*R,e=(Math.PI+Math.atan2(-E,-m))/(2*Math.PI);
t(H,n,b,d(e,c),S)}},function(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$;for(var s=0,n=0;
s<G;s++)for(var Q=0;Q<N;Q++,n++){var q=Q+V,R=s+y,m=C*q+K*R,E=T*q+D*R,e=Math.abs(m*2);t(H,n,b,d(e,c),S)}},function(H,b,r,W,V,y,c,S){var C=r[0],K=r[1],T=r[2],D=r[3],N=W.r,G=W.$;
for(var s=0,n=0;s<G;s++)for(var Q=0;Q<N;Q++,n++){var q=Q+V,R=s+y,m=C*q+K*R,E=T*q+D*R,e=2*(Math.abs(m)+Math.abs(E));
t(H,n,b,d(e,c),S)}}];function X(H,b,r,W,V,y,c,S,C,K,T,D,N){var G=1023,s=Z(H,G+1,c,C,K,N),Q=f.UJ(b),q=f.ay(Q);
if(Q==8&&D&&H.Clrs){v(b,s,W,r,r.x-V,r.y-y,G,S)}else if(S<5){h[S](b,s,W,r,r.x-V,r.y-y,G,q)}else{var R=f.OO(s,Q),m=r.r,E=r.$,e=T.G2,w=T.ah,M=e-w,P=1/M,I=T.mz.r-r.r>>1,k=T.mz.$-r.$>>1,o=T.mz.r;
for(var af=0,n=0;af<E;af++)for(var J=0;J<m;J++,n+=4){var at=(af+k)*o+J+I,ke=(T.nY[at]-w)*P,c_=Math.max(0,Math.min(G,Math.round(ke*G)))<<2;
b[n]=R[c_];b[n+1]=R[c_+1];b[n+2]=R[c_+2];b[n+3]=R[c_+3]}}}function g(H,b,r){var W=[H.Clrs.v,H.Trns.v],V=[[],[]],y=255;
for(var c=0;c<2;c++)for(var n=0;n<W[c].length;n++){var S,C=W[c][n].v;if(c==0){var K=C.Type.v.Clry;if(K=="FrgC")S={C:b>>16&255,L:b>>8&255,X:b&255};
else if(K=="BckC")S={C:r>>16&255,L:r>>8&255,X:r&255};else S=x(C.Clr.v)}else{S=C.Opct.v.val*(255/100);
if(S<y)y=S}V[c].push([S,C.Lctn.v/4096,C.Mdpn.v/100])}V.push(y>254);return V}function x(H){var b,r=H.classID;
if(r=="RGBC"){if(H.Rd)b={C:H.Rd.v,L:H.Grn.v,X:H.Bl.v};else b={C:H.redFloat.v*255,L:H.greenFloat.v*255,X:H.blueFloat.v*255};
b.C=Math.max(b.C,0);b.L=Math.max(b.L,0);b.X=Math.max(b.X,0)}else if(r=="HSBC"){b=f.JY(H.H.v.val/360,H.Strt.v/100,H.Brgh.v/100);
b.C*=255;b.L*=255;b.X*=255}else if(r=="CMYC"){var W=H.Cyn.v,V=H.Mgnt.v,y=H.Ylw.v,c=H.Blck.v,S=[W/100,V/100,y/100,c/100],C=f.uP(S);
b={C:C[0]*255,L:C[1]*255,X:C[2]*255}}else if(r=="Grsc")b={C:255-H.Gry.v,L:255-H.Gry.v,X:255-H.Gry.v};
else if(r=="LbCl"){b=f.C3(H.Lmnc.v,H.A.v,H.B.v)}else if(r=="BkCl")b={C:0,L:0,X:0};else console.log(H);
if(isNaN(b.C))b.C=b.L=b.X=0;return b}function Z(H,b,r,W,V,y){if(y==null)y="Gcls";var c;if(H.Clrs){c=g(H,W,V);
for(var n=0;n<c[0].length;n++){var S=c[0][n][0];if(y=="Lnr"){S.C=255*f.e0(S.C/255);S.L=255*f.e0(S.L/255);
S.X=255*f.e0(S.X/255)}if(y=="Perc"||y=="Smoo"){var C=f.Nv(S.C,S.L,S.X);S.C=C.f0*2.55;S.L=127.5+C.aX;
S.X=127.5+C.X}}}var K=H.Clrs?z(H,c,b,r):Y(H,b,r);if(H.Clrs&&y!="Gcls"){var T=1/255,D=c[0],N=c[1];for(var n=0;
n<K.length;n+=4){if(y=="Lnr"){K[n]=f.cP(K[n]);K[n+1]=f.cP(K[n+1]);K[n+2]=f.cP(K[n+2])}if(y=="Perc"||y=="Smoo"){var G=K[n]*100,s=(K[n+1]-.5)*255,Q=(K[n+2]-.5)*255,q=f.C3(G,s,Q);
K[n]=q.C*T;K[n+1]=q.L*T;K[n+2]=q.X*T}if(y=="stripes"){var R=0;while(R<D.length-1&&D[R+1][1]*b<n>>>2)R++;
var q=D[R][0];K[n]=q.C*T;K[n+1]=q.L*T;K[n+2]=q.X*T;R=0;while(R<N.length-1&&N[R+1][1]*b<n>>>2)R++;K[n+3]=N[R][0]*T}}}return K}function Y(H,b,r){var W=new Uint32Array(b),V=new Uint8Array(W.buffer);
W.fill(4278190080);var y=[],c=[],S=H.RndS.v,C=H.Smth.v/4096;for(var n=0;n<4;n++){y[n]=~~(H.Mnm.v[n].v*255/100);
c[n]=~~(H.Mxm.v[n].v*255/100)}var K=f.m(b*4),T=f.m(b);for(var D=0;D<3;D++){f.O.auu(null,b,1,K,[1+Math.round(C*C*C*60),22,S*(2+D)]);
f.Po(K,T,0);f.Gj(T,V,D);var N=y[D],G=c[D];for(var n=0;n<b;n++)V[4*n+D]=Math.max(N,Math.min(G,V[4*n+D]))}if(r)for(var n=0;
n<b/2;n++){var s=W[n];W[n]=W[b-1-n];W[b-1-n]=s}return f.OO(V,32)}function a(H){return{classID:"RGBC",Rd:{t:"doub",v:H.C},Grn:{t:"doub",v:H.L},Bl:{t:"doub",v:H.X}}}function z(H,b,r,W){var V=new Float32Array(r*4),y=1/(r-0);
for(var n=0;n<r;n++){var c=n*4,S=p(H,b,(W?r-1-n:n)*y);V[c]=S[0];V[c+1]=S[1];V[c+2]=S[2];V[c+3]=S[3]}return V}function p(H,b,r){var W=H.Intr.v*(1/4096),V=b[0],y=b[1],c=V.length-1,S=y.length-1,n=-1,C=0,K=0,T=0,D=0;
if(b[2])C=255;else{while(n<S&&y[n+1][1]<=r)n++;if(n==-1){C=y[0][0]}else if(n==S){C=y[n][0]}else{var N=l(y,n,r,W);
C=N*y[n][0]+(1-N)*y[n+1][0]}}n=-1;while(n<c&&V[n+1][1]<=r)n++;if(n==-1){var G=V[0][0];K=G.C;T=G.L;D=G.X}else if(n==c){var G=V[n][0];
K=G.C;T=G.L;D=G.X}else{var s=V[n][0],Q=V[n+1][0],q=l(V,n,r,W);K=Math.min(255,q*s.C+(1-q)*Q.C);T=Math.min(255,q*s.L+(1-q)*Q.L);
D=Math.min(255,q*s.X+(1-q)*Q.X)}return[K*(1/255),T*(1/255),D*(1/255),C*(1/255)]}function U(H,b,r){var W=p(H,b,r),V=~~(.5+W[0]*255),y=~~(.5+W[1]*255),c=~~(.5+W[2]*255),S=~~(.5+W[3]*255);
return S<<24|c<<16|y<<8|V}function l(H,n,b,r){if(H.length==2)r*=.5;var W=H[n][1],V=H[n+1][1],y=W+H[n+1][2]*(V-W),c;
if(b<y)c=.5*(b-W)/(y-W);else c=.5+.5*(b-y)/(V-y);c=.5+.5*(r*Math.cos(Math.PI*c)+(1-r)*(1-2*c));return c}function L(H,b,r){var W=.5*r.$,V=W*(H/b),y=Math.sqrt(W*W+V*V),c=.5*r.r,S=c*(b/H),C=Math.sqrt(c*c+S*S);
return Math.min(y,C)}function j(H,b){var r=Math.PI*H.Angl.v.val/180,W=H.Scl.v.val/100,V=0,y=0;if(H.Ofst){var c=H.Ofst.v;
V=c.Hrzn.v.val/100;y=c.Vrtc.v.val/100}var S=Math.cos(r),C=-Math.sin(r),K=L(S,C,b),T=K*W,D=b.x+b.r/2+V*b.r,N=b.y+b.$/2+y*b.$;
return[new cK(D,N),new cK(D+S*T,N+C*T)]}function O(H,b,r,W){var V=b.x-H.x,y=-(b.y-H.y),c=Math.sqrt(V*V+y*y),S=Math.atan2(y,V),C=Math.cos(S),K=-Math.sin(S),T=L(C,K,r),D=c/T,N=(H.x-r.x-r.r/2)/r.r,G=(H.y-r.y-r.$/2)/r.$;
W.Angl.v.val=180*S/Math.PI;W.Scl.v.val=D*100;var s=W.Ofst.v;s.Hrzn.v.val=N*100;s.Vrtc.v.val=G*100}function F(H,b){for(var n=0;
n<H.length;n++){var r=H[n],W=Math.round(r[0]*4096),V=r[1],y=r[2],c=H[Math.max(0,n-1)][3];if(y==null)y=1;
if(c==null)c=.5;var S=a({C:V[0]*255,L:V[1]*255,X:V[2]*255});b.Clrs.v[n]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Math.round(c*100)},Clr:{t:"Objc",v:S},Type:{t:"enum",v:{Clry:"UsrS"}}}};
b.Trns.v[n]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Math.round(c*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(y*100)}}}}}}function i(H,b,r){if(b){H=f.v(H);
for(var n=0;n<2;n++){var W=H[n==0?"Clrs":"Trns"].v;for(var V=0;V<W.length;V++)W[V].v.Lctn.v=4096-W[V].v.Lctn.v;
W.reverse()}}var y=[],c=1/255,S=H.Clrs.v,C=H.Trns.v,W=S;if(j8==0||S.length!=C.length){if(j8!=0)console.log("strange gradient");
if(r!=!0)W=S.concat(C);var K=g(H,0,0);for(var n=0;n<W.length;n++){var T=W[n].v,D=T.Lctn.v/4096,N=p(H,K,D);
y.push([D,[N[0],N[1],N[2]],N[3],T.Mdpn.v/100])}y.sort(function(s,Q){return s[0]-Q[0]});for(var n=1;n<y.length;
n++)if(y[n][0]-y[n-1][0]<.001){y.splice(n,1);n--}}else{for(var n=0;n<W.length;n++){var T=S[n].v,G=T.Clr.v,D=T.Lctn.v/4096;
y.push([D,[G.Rd.v*c,G.Grn.v*c,G.Bl.v*c],C[n].v.Opct.v.val/100,S[Math.min(n+1,S.length-1)].v.Mdpn.v/100])}}return y}function $(H,b){function r(H,c){H.addColorStop(c[0],CSS.aaI(c[1],c[2]))}function W(c,S,C,K){var T=Math.log(.5)/Math.log(K),D=Math.log(.5)/Math.log(1-K),N=K>.5?Math.pow(C,T):1-Math.pow(1-C,D),G=1-N,s=c[0],Q=c[1],q=S[1],R=[s+(S[0]-s)*C,[Q[0]*G+q[0]*N,Q[1]*G+q[1]*N,Q[2]*G+q[2]*N],c[2]*G+S[2]*N];
return R}r(H,b[0]);for(var n=1;n<b.length;n++){var V=b[n-1][3];if(V!=.5)for(var y=1;y<20;y++)r(H,W(b[n-1],b[n],y/20,V));
r(H,b[n])}}return{fo:X,Zi:a,pq:x,a6v:Z,Dv:O,ajF:j,a4E:$,PY:F,aiq:i,ako:g,oR:U}}();f.ay8={};f.ay8.RM=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U,l,L,j=Date.now(),O=!1,F=x,i=a,$,H,b,r,W=g*255,V=255-Y*255,y=1+X*6,c=1+Z*6,S=1+p*4,C=(S-1)/7,K=0,T=255-0,D,N,G,s,Q,q,R,m,E,e,w,M,P,I=0,k=1,o,af,J,at,ke,c_,ag,dz,kL,aq,dh=1+z,gK,ad=f.m(t*h),dc=f.m(t*h),lq=f.m(t*h),hn=f.m(t*h),dF=255/W,c3=255/(255-V);
for(l=0;l<h;l++){for(U=0;U<t;U++){var n=l*t+U,i8=n<<2;o=f.KR(d[i8],d[i8+1],d[i8+2]);hn[n]=o;if(o<W)ad[n]=255-o*dF;
if(o>V)dc[n]=255-(255-o)*c3}}if(O)console.log("init",Date.now()-j);j=Date.now();if(X*F>0){f.C2.Hd(ad,new iW(0,0,t,h),F,2)}if(Z*i>0){f.C2.Hd(dc,new iW(0,0,t,h),i,2)}if(O)console.log("blur",Date.now()-j);
j=Date.now();var dr=f.m(256),jO=f.m(256);for(var n=0;n<256;n++){var d1=n*(1/255),h3=0;h3=(1-Math.pow(1-d1,y))*255;
dr[n]=Math.max(0,Math.min(255,~~(h3+.5)));h3=Math.pow(d1,c)*255;jO[n]=Math.max(0,Math.min(255,~~(h3+.5)))}var d5=new Uint8ClampedArray(v.buffer),em=new Float32Array(32768);
for(var n=0;n<32768;n++){gK=Math.sqrt(n)*(1/128);if(dh>1)gK=(1-gK)*(dh-1)+1;else gK=gK*(dh-1)+1;em[n]=gK}for(l=0;
l<h;l++){for(U=0;U<t;U++){var n=l*t+U,i8=n<<2,h3=hn[n],fl=ad[n]*(1/255),lA=dc[n]*(1/255);h3=(1-fl)*h3+fl*dr[~~h3];
h3=(1-lA)*h3+lA*jO[~~h3];o=h3;var av=d[i8],ah=d[i8+1],gE=d[i8+2];af=-av*.168736-ah*.331264+gE*.5;J=av*.5-ah*.418688-gE*.081312;
gK=em[~~(.5+af*af+J*J)];at=af*gK;c_=J*gK;k=1-Math.min(2-(fl+lA),1);af=k*af+(1-k)*at;J=k*J+(1-k)*c_;dz=o+1.402*J;
kL=o-.34414*af-.71414*J;aq=o+1.772*af;d5[i8]=~~(.5+dz);d5[i8+1]=~~(.5+kL);d5[i8+2]=~~(.5+aq)}}if(O)console.log("apply masks",Date.now()-j);
j=Date.now()};f.Mm={};f.Mm.oC=function(d,v,t,h,X){var g=Date.now(),x=!1,j=1,T=0,E=0;if(!v.GV(X)){var Z=v.Ue(X),Y=f.m(Z.k()*4);
f.wH(d,v,Y,Z);d=Y;v=Z}var a=f.m(v.k());f.Qb(t,X,a,v);f.round(a);X=X.hL(v);var z=X.r,p=X.$,U=z*3<p?2:1,l=p*3<z?2:1;
if(X.k()*(U*2+1)*(l*2+1)<v.k()){var Z=new iW(X.x-z*U,X.y-p*U,z*(U*2+1),p*(l*2+1)).hL(v),Y=f.m(Z.k()*4);
f.wH(d,v,Y,Z);var L=f.m(Z.k());f.Qb(a,v,L,Z);v=Z;d=Y;a=L}while((v.r+v.$)/2/j>400)j++;var O=d,F=v,i=a,$=Math.floor(F.r/j),H=Math.floor(F.$/j);
d=f.m($*H*4);f.scale.R_(O,F.r,F.$,d,$,H,1/j);a=f.m($*H);f.scale.kg(i,F.r,F.$,a,$,H,1/j);f.round(a,1);
if(x)console.log("scale down:",j,$,H);var b=f.FY(a,new iW(0,0,$,H));if(b.HP())return 1;var r=Math.round((b.r+b.$)/2/15);
if(x)console.log(Date.now()-g,"preprocess");g=Date.now();var W=f.m($*H*4);f.amu(d,W);var V=Int16Array,y=new V($*H*24),c=new V(64),S=new V(64),C=new V(64),K=new V(64);
for(var D=3;D<H-4;D++)for(var N=3;N<$-4;N++){var G=D*$+N;if(a[G]==255)continue;if(f.Mm.aBD(W,a,N,D,$,H,c,S,C)!=0)continue;
f.Mm.KV(c,K);var s=T*24;y[s]=N;y[s+1]=D;f.Mm.Hy(c,y,s+4,12);f.Mm.KV(S,K);f.Mm.Hy(S,y,s+16,4);f.Mm.KV(C,K);
f.Mm.Hy(C,y,s+20,4);var Q=y[s+5],q=y[s+6];y[s+5]=y[s+16];y[s+6]=y[s+20];y[s+16]=Q;y[s+20]=q;T++}if(T==0)return 2;
if(x)console.log(Date.now()-g,"FWHT computed");g=Date.now();var R=[];f.Mm.zn(0,T-1,R,y,new V(2*24));
if(x)console.log(Date.now()-g,"KD tree computed");g=Date.now();var m=new Uint32Array($*H*4);for(var n=0;
n<T;n++){var e=n,w=f.Mm.a8Y(e,y,R,r);if(w==-1)continue;var M=e*24,P=w*24,I=y[M],k=y[M+1],o=y[P],af=y[P+1];
E+=f.Mm.getError(P,M,y,1e99);var J=o-I,at=af-k;m[(H+at)*2*$+($+J)]+=1}if(x)console.log(Date.now()-g,"NN found");
g=Date.now();var ke=[],c_=1/(2*$);for(var n=0;n<m.length;n++){if(m[n]>0){var D=Math.floor(n*c_),N=n-D*2*$;
ke.push({x:N-$,y:D-H,K:m[n],XM:-1})}}ke.sort(function(d5,em){return em.K-d5.K});var ag=new Int32Array($*H),dz=[];
for(var n=0;n<$*H;n++){if(a[n]==255){ag[n]=dz.length>>>1;dz.push(n%$,Math.floor(n/$))}else if(d[(n<<2)+3]<200){ag[n]=-2}else{ag[n]=-1}}var kL=f.Mm.aIb($,H,ke,ag,dz);
if(kL==null){if(x)console.log("no appropriate labeling");return 3}var aq=kL.dB,top=kL.top;aq=f.Mm.agH(aq,d,$,H,top,ag,dz);
if(x)console.log(Date.now()-g,"optimal labeling found");g=Date.now();var Z=X.b();Z.o2(1,1);Z=Z.hL(F);
var dh=f.m(Z.k()*4),gK=f.m(Z.k());f.wH(O,F,dh,Z);var ad=F.r,dc=F.$;for(var D=0;D<dc;D++)for(var N=0;
N<ad;N++){if(i[D*ad+N]==0)continue;var lq=Math.min(Math.floor(N/j),$-1),hn=Math.min(Math.floor(D/j),H-1),dF=ag[hn*$+lq];
if(dF==-1)continue;var c3=aq[dF],i8=top[c3],dr=N+i8.x*j,jO=D+i8.y*j,d1=jO*ad+dr<<2,h3=(D-Z.y+F.y)*Z.r+(N-Z.x+F.x)<<2;
dh[h3]=O[d1];dh[h3+1]=O[d1+1];dh[h3+2]=O[d1+2];dh[h3+3]=O[d1+3];dh[h3+3]=O[d1+3];gK[h3>>2]=c3+1}if(x)console.log(Date.now()-g,"copied back");
g=Date.now();f._L.oC(dh,gK,Z,null,1e3);if(x)console.log(Date.now()-g,"poisson smooth");g=Date.now();
f.wH(dh,Z,h,X);return 0};f.Mm.aoM=function(d,v,t,h,X,g){return f.Mm.T$(d+X.x,v+X.y,t,h,g)?0:1e9};f.Mm.agH=function(d,v,t,h,top,X,g){var x=Date.now(),Z=g.length>>>1,Y=[-1,0,0,-1,1,0,0,1],a=1e99,z=[],p=[],U=2*(Z*2*3+Z*2),l=null,L=0,j=0,O=0,F=1e99;
while(!0&&Date.now()<x+12e3){O++;var i=null,$=a;for(var H=0;H<top.length;H++){var b=top[H],r=0,W=Z+2,V=0;
for(var n=0;n<Z;n++){var y=g[n*2],c=g[n*2+1],S=top[d[n]],C=f.Mm.aoM(y,c,t,h,b,X),K=d[n]==H?1e9:f.Mm.aoM(y,c,t,h,S,X);
for(var bW=0;bW<4;bW++){if(bW==0&&y==0||bW==1&&c==0||bW==2&&y==t-1||bW==3&&c==h-1)continue;var T=Y[2*bW],D=Y[2*bW+1],N=y+T,G=c+D,s=X[G*t+N];
if(s==-2){}else if(s==-1){C+=3*f.Mm.Y4(N+b.x,G+b.y,N,G,t,h,v,X);C+=2*f.Mm.Y4(N+b.x+T,G+b.y+D,N+T,G+D,t,h,v,X);
K+=3*f.Mm.Y4(N+S.x,G+S.y,N,G,t,h,v,X);K+=2*f.Mm.Y4(N+S.x+T,G+S.y+D,N+T,G+D,t,h,v,X)}else if(bW>1){if(d[n]==d[s]){var Q=0;
Q+=f.Mm.Y4(y+S.x,c+S.y,y+b.x,c+b.y,t,h,v,X);Q+=f.Mm.Y4(N+S.x,G+S.y,N+b.x,G+b.y,t,h,v,X);z[r]=n;z[r+1]=s;
p[r]=Q;p[r+1]=Q;r+=2}else{var q=top[d[s]],R=W,m=0,E=0,e=0;W++;m+=f.Mm.Y4(y+S.x,c+S.y,y+b.x,c+b.y,t,h,v,X);
m+=f.Mm.Y4(N+S.x,G+S.y,N+b.x,G+b.y,t,h,v,X);E+=f.Mm.Y4(y+q.x,c+q.y,y+b.x,c+b.y,t,h,v,X);E+=f.Mm.Y4(N+q.x,G+q.y,N+b.x,G+b.y,t,h,v,X);
e+=f.Mm.Y4(y+q.x,c+q.y,y+S.x,c+S.y,t,h,v,X);e+=f.Mm.Y4(N+q.x,G+q.y,N+S.x,G+S.y,t,h,v,X);z[r]=n;z[r+1]=R;
p[r]=m;p[r+1]=m;r+=2;z[r]=s;z[r+1]=R;p[r]=E;p[r+1]=E;r+=2;z[r]=R;z[r+1]=Z+1;p[r]=e;p[r+1]=0;r+=2}}}z[r]=Z;
z[r+1]=n;p[r]=C;p[r+1]=0;r+=2;z[r]=n;z[r+1]=Z+1;p[r]=K;p[r+1]=0;r+=2;V+=Math.min(C,K)}if(V>$)continue;
var w=f.iK.Y5(W,r,Z,Z+1,z,p,$);if(w.j7<$){$=w.j7;var M=d.slice(0);f.Mm.aDS(M,r,z,w.ac0,H,Z);i=M}}if($*1>=a){break}a=$;
d=i;if((O&3)==0){if($*1.03>=F)break;F=$}if((O&3)==0){var P=0*top.length;for(var n=0;n<top.length&&top.length>P;
n++){if(d.indexOf(n)!=-1)continue;top.splice(n,1);for(var s=0;s<d.length;s++)if(d[s]>n)d[s]--;n--}}}return d};
f.Mm.aDS=function(d,v,t,h,X,g){for(var n=0;n<h.length;n++){var x=h[n]<<1,Z=0,Y=0;if(x<v){Z=t[x];Y=t[x+1]}else{Y=t[x];
Z=t[x+1]}if(Z==g&&d[Y]!=X)d[Y]=X}};f.Mm.aoc=function(top,d,v,t,h,X,g,x,Z){for(var n=0;n<v.length;n++){var Y=v[n],a=!0;
if(x!=null&&!f.Mm.T$(x+Y.x,Z+Y.y,X,g,t))continue;if(Y.XM==-1)Y.XM=f.Mm.ab_(Y,t,h,X,g);if(Y.XM<=0)continue;
for(var z=0;z<top.length;z++){var p=top[z],U=Y.x-p.x,l=Y.y-p.y;if(U*U+l*l<d){a=!1;break}}if(a)return Y}return null};
f.Mm.ab_=function(d,v,t,h,X){var g=0;for(var n=0;n<t.length;n+=2){var x=t[n]+d.x,Z=t[n+1]+d.y;if(f.Mm.T$(x,Z,h,X,v))g++}return g/(t.length>>1)};
f.Mm.aIb=function(d,v,t,h,X){var g=X.length>>>1,top=[];for(var n=0;n<60;n++){var x=f.Mm.aoc(top,25,t,h,X,d,v);
if(x==null)break;else top.push(x)}if(top.length==0)return null;var Z=[];for(var n=0;n<g;n++){var Y=X[n*2],a=X[n*2+1],z=-1,p=0;
while(!0){p++;var U=Math.random();z=Math.floor(U*.99999*top.length);var l=top[z],L=Y+l.x,j=a+l.y;if(f.Mm.T$(L,j,d,v,h))break;
if(p>1e3){var x;x=f.Mm.aoc(top,0,t,h,X,d,v,Y,a);if(x==null)for(var O=0;O<4;O++){var F,i,$=0;while(!0){F=~~(Math.random()*d);
i=~~(Math.random()*v);if(f.Mm.T$(F,i,d,v,h))break;$++;if($>500)throw"e"}x={x:F-Y,y:i-a,K:1,XM:-1};t.push(x);
top.push(x)}else top.push(x);p=0}}Z.push(z)}return{top:top,dB:Z}};f.Mm.Y4=function(d,v,t,h,X,g,x,Z){if(d==t&&v==h)return 0;
if(d<0||v<0||d>=X||v>=g||t<0||h<0||t>=X||h>=g||Z[v*X+d]!=-1||Z[h*X+t]!=-1)return 1e7;var Y=v*X+d<<2,a=h*X+t<<2,z=x[Y]-x[a],p=x[Y+1]-x[a+1],U=x[Y+2]-x[a+2];
return 1+(z*z+p*p+U*U)};f.Mm.T$=function(d,v,t,h,X){return d>=0&&d<t&&v>=0&&v<h&&X[v*t+d]==-1};f.Mm.a8Y=function(d,v,t,h){var X=24*d,g=v[X],x=v[X+1],Z=h*h,Y=0,U=1e9;
while(t[Y]!=99)if(v[X+t[Y]]<t[Y+1])Y=t[Y+2];else Y=t[Y+3];var a=t[Y+1],z=t[Y+2],p=-1;for(var n=a;n<=z;
n++){var Y=n,l=Y*24,L=v[l],j=v[l+1];if((L-g)*(L-g)+(j-x)*(j-x)<Z)continue;var O=f.Mm.getError(l,X,v,U);
if(O<U){U=O;p=Y}}return p};f.Mm.getError=function(d,v,t,h){var X=0;for(var g=4;g<24;g+=4){var x=t[v+g]-t[d+g],Z=t[v+g+1]-t[d+g+1],Y=t[v+g+2]-t[d+g+2],a=t[v+g+3]-t[d+g+3];
X+=x*x+Z*Z+Y*Y+a*a;if(X>=h)return X+1}return X};f.Mm.zn=function(d,v,t,h,X){var g=16,U=0;if(v-d<=g){t.push(99,d,v);
return}f.Mm.mo(d,v,h,X);var x=-1,Z=-1;for(var n=4;n<24;n++){var Y=X[2*n+1]-X[2*n];if(Y>Z){Z=Y;x=n}}var a=d+v>>1,z=f.Mm.amU(a,d,v,h,x),p=-1;
for(var n=d;n<=v;n++)if(h[24*n+x]==z){if(p==-1)p=n;U=n}if(d+8<p&&p-d>v-U)a=p;else if(U+1<v-8)a=U+1;else if(v-d<64){t.push(99,d,v);
return}else a=a;var l=t.length;t.push(x,z,0,0);t[l+2]=l+4;f.Mm.zn(d,a-1,t,h,X);t[l+3]=t.length;f.Mm.zn(a,v,t,h,X)};
f.Mm.mo=function(d,v,t,h){for(var n=0;n<48;n+=4){h[n]=3e4;h[n+1]=-3e4;h[n+2]=3e4;h[n+3]=-3e4}for(var n=d;
n<=v;n++){var X=n*24;for(var g=0;g<24;g++){var x=t[X+g],Z=h[g<<1],Y=h[(g<<1)+1];if(x<Z)h[g<<1]=x;if(x>Y)h[(g<<1)+1]=x}}};
f.Mm.ci=function(d,v,t){var h=0,n=0;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;
n++;h=t[d+n];t[d+n]=t[v+n];t[v+n]=h;n++};f.Mm.jw=function(d,v,t,h){var X=t+h>>>1,g=d[24*X+v];while(t<=h){while(d[24*t+v]<g)t++;
while(d[24*h+v]>g)h--;if(t<=h){if(d[24*t+v]!=d[24*h+v])f.Mm.ci(t*24,h*24,d);t++;h--}}return t};f.Mm.amU=function(d,v,t,h,X){var g=0;
while(v!=t){g=f.Mm.jw(h,X,v,t);if(d<g)t=g-1;else v=g}return h[d*24+X]};f.Mm.Hy=function(d,v,t,h){for(var n=0;
n<h;n++)v[t+n]=d[n]};f.Mm.aBD=function(d,v,t,h,X,g,x,Z,Y){var a=(h-3)*X+(t-3),z=a<<2;for(var p=0;p<8;
p++){if(v[a]+v[a+1]+v[a+2]+v[a+3]+v[a+4]+v[a+5]+v[a+6]+v[a+7]!=0||d[z+3]<200||d[z+7]<200||d[z+11]<200||d[z+15]<200||d[z+19]<200||d[z+23]<200||d[z+27]<200||d[z+31]<200)return 1;
var n=p<<3;x[n+0]=d[z+0];Z[n+0]=d[z+1];Y[n+0]=d[z+2];x[n+1]=d[z+4];Z[n+1]=d[z+5];Y[n+1]=d[z+6];x[n+2]=d[z+8];
Z[n+2]=d[z+9];Y[n+2]=d[z+10];x[n+3]=d[z+12];Z[n+3]=d[z+13];Y[n+3]=d[z+14];x[n+4]=d[z+16];Z[n+4]=d[z+17];
Y[n+4]=d[z+18];x[n+5]=d[z+20];Z[n+5]=d[z+21];Y[n+5]=d[z+22];x[n+6]=d[z+24];Z[n+6]=d[z+25];Y[n+6]=d[z+26];
x[n+7]=d[z+28];Z[n+7]=d[z+29];Y[n+7]=d[z+30];z+=X<<2;a+=X}return 0};f.Mm.KV=function(d,v){v[0]=d[32]+d[0];
v[1]=d[33]+d[1];v[2]=d[34]+d[2];v[3]=d[35]+d[3];v[4]=d[36]+d[4];v[5]=d[37]+d[5];v[6]=d[38]+d[6];v[7]=d[39]+d[7];
v[8]=d[40]+d[8];v[9]=d[41]+d[9];v[10]=d[42]+d[10];v[11]=d[43]+d[11];v[12]=d[44]+d[12];v[13]=d[45]+d[13];
v[14]=d[46]+d[14];v[15]=d[47]+d[15];v[16]=d[48]+d[16];v[17]=d[49]+d[17];v[18]=d[50]+d[18];v[19]=d[51]+d[19];
v[20]=d[52]+d[20];v[21]=d[53]+d[21];v[22]=d[54]+d[22];v[23]=d[55]+d[23];v[24]=d[56]+d[24];v[25]=d[57]+d[25];
v[26]=d[58]+d[26];v[27]=d[59]+d[27];v[28]=d[60]+d[28];v[29]=d[61]+d[29];v[30]=d[62]+d[30];v[31]=d[63]+d[31];
v[32]=d[0]-d[32];v[33]=d[1]-d[33];v[34]=d[2]-d[34];v[35]=d[3]-d[35];v[36]=d[4]-d[36];v[37]=d[5]-d[37];
v[38]=d[6]-d[38];v[39]=d[7]-d[39];v[40]=d[8]-d[40];v[41]=d[9]-d[41];v[42]=d[10]-d[42];v[43]=d[11]-d[43];
v[44]=d[12]-d[44];v[45]=d[13]-d[45];v[46]=d[14]-d[46];v[47]=d[15]-d[47];v[48]=d[16]-d[48];v[49]=d[17]-d[49];
v[50]=d[18]-d[50];v[51]=d[19]-d[51];v[52]=d[20]-d[52];v[53]=d[21]-d[53];v[54]=d[22]-d[54];v[55]=d[23]-d[55];
v[56]=d[24]-d[56];v[57]=d[25]-d[57];v[58]=d[26]-d[58];v[59]=d[27]-d[59];v[60]=d[28]-d[60];v[61]=d[29]-d[61];
v[62]=d[30]-d[62];v[63]=d[31]-d[63];d[0]=v[16]+v[0];d[1]=v[17]+v[1];d[2]=v[18]+v[2];d[3]=v[19]+v[3];
d[4]=v[20]+v[4];d[5]=v[21]+v[5];d[6]=v[22]+v[6];d[7]=v[23]+v[7];d[8]=v[24]+v[8];d[9]=v[25]+v[9];d[10]=v[26]+v[10];
d[11]=v[27]+v[11];d[12]=v[28]+v[12];d[13]=v[29]+v[13];d[14]=v[30]+v[14];d[15]=v[31]+v[15];d[16]=v[0]-v[16];
d[17]=v[1]-v[17];d[18]=v[2]-v[18];d[19]=v[3]-v[19];d[20]=v[4]-v[20];d[21]=v[5]-v[21];d[22]=v[6]-v[22];
d[23]=v[7]-v[23];d[24]=v[8]-v[24];d[25]=v[9]-v[25];d[26]=v[10]-v[26];d[27]=v[11]-v[27];d[28]=v[12]-v[28];
d[29]=v[13]-v[29];d[30]=v[14]-v[30];d[31]=v[15]-v[31];v[0]=d[8]+d[0];v[1]=d[9]+d[1];v[2]=d[10]+d[2];
v[3]=d[11]+d[3];v[4]=d[12]+d[4];v[5]=d[13]+d[5];v[6]=d[14]+d[6];v[7]=d[15]+d[7];v[8]=d[0]-d[8];v[9]=d[1]-d[9];
v[10]=d[2]-d[10];v[11]=d[3]-d[11];v[12]=d[4]-d[12];v[13]=d[5]-d[13];v[14]=d[6]-d[14];v[15]=d[7]-d[15];
d[0]=v[4]+v[0];d[1]=v[5]+v[1];d[2]=v[6]+v[2];d[3]=v[7]+v[3];d[4]=v[0]-v[4];d[5]=v[1]-v[5];d[6]=v[2]-v[6];
d[7]=v[3]-v[7];d[8]=v[12]+v[8];d[9]=v[13]+v[9];d[10]=v[14]+v[10];d[11]=v[15]+v[11];d[12]=v[8]-v[12];
d[13]=v[9]-v[13];d[14]=v[10]-v[14];d[15]=v[11]-v[15];v[0]=d[2]+d[0];v[1]=d[3]+d[1];v[2]=d[0]-d[2];v[3]=d[1]-d[3];
v[4]=d[6]+d[4];v[5]=d[7]+d[5];v[6]=d[4]-d[6];v[7]=d[5]-d[7];v[8]=d[10]+d[8];v[9]=d[11]+d[9];v[10]=d[8]-d[10];
v[11]=d[9]-d[11];v[12]=d[14]+d[12];v[13]=d[15]+d[13];v[14]=d[12]-d[14];v[15]=d[13]-d[15];d[0]=v[1]+v[0];
d[1]=v[0]-v[1];d[2]=v[3]+v[2];d[3]=v[2]-v[3];d[4]=v[5]+v[4];d[5]=v[4]-v[5];d[6]=v[7]+v[6];d[7]=v[6]-v[7];
d[8]=v[9]+v[8];d[9]=v[8]-v[9];d[10]=v[11]+v[10];d[11]=v[10]-v[11];d[12]=v[13]+v[12];d[13]=v[12]-v[13];
d[14]=v[15]+v[14];d[15]=v[14]-v[15]};f.Mm.aJ6=function(){var d="",bW=64,v="v",t="t",h="a",X=5,n,g,x;
for(n=bW>>1;n>0;n>>=1,X--){for(g=0;g<bW;g++){x=(g>>X&1)!=0;if(x){d+=t+"["+g+"] = "+v+"["+(-n+g)+"] - "+v+"["+g+"];  "}else{d+=t+"["+g+"] = "+v+"["+(n+g)+"] + "+v+"["+g+"];  "}}h=v;
v=t;t=h;d+="\n"}console.log(d)};f.Mm.apt=function(bW,d,v){var t=d,h=v,X=t,g=0,n,Z,Y;while(bW>>g!=2)g++;
var x=g;for(n=bW>>1;n>0;n>>=1,g--){for(Z=0;Z<bW;Z++){Y=(Z>>g&1)!=0;if(Y)h[Z]=t[-n+Z]-t[Z];else h[Z]=t[n+Z]+t[Z]}X=t;
t=h;h=X}if((x&1)==1)for(n=0;n<bW;n++)v[n]=t[n]};f.wc={};f.wc.Bp=function(d,v,t,h,X,g,x,Z,Y){var a=Date.now(),z=new Uint32Array(d.buffer),p=new Uint32Array(v.buffer),U=x/t,l=Z/h,L=1/U,j=1/l,O=new Float64Array(2),F=3,i=1/F,$=1/(F*F),H=0,b=0,r=t,W=h;
if(X){H=X.x;b=X.y;r=X.r;W=X.$}for(var V=0;V<W;V++)for(var y=0;y<r;y++){var c=H+y,S=b+V,n=S*t+c,C=n<<1,K=n<<2;
f.wc.arC(g,x,Z,(c+.5)*U,(S+.5)*l,O);var T=O[0]*L,D=O[1]*j;if(T==0&&D==0)p[n]=z[n];else{f.G.Wl(c+T+.5,S+D+.5,z,t,h,p,n,Y)}}};
f.wc.arC=function(d,v,t,h,X,g){h-=.499999;X-=.499999;var x=~~h,Z=~~X,Y=h-x,a=X-Z,z=(1-a)*(1-Y),p=(1-a)*Y,U=a*(1-Y),l=a*Y,L=x<v-1?x+1:x,j=Z<t-1?Z+1:Z,O=Z*v+x<<1,F=Z*v+L<<1,i=j*v+x<<1,$=j*v+L<<1;
g[0]=z*d[O]+p*d[F]+U*d[i]+l*d[$];g[1]=z*d[O+1]+p*d[F+1]+U*d[i+1]+l*d[$+1]};f.wc.aJW=function(d,v,t,h,X){var g=1/d,x=[-1,1,-d,d],Z=h.length;
for(var Y=0;Y<Z;Y++){var n=h[Y],a=n<<1,z=Y<<1,p=~~(n*g),U=n-d*p,l=t[a],L=t[a+1],j=0,O=0;if(U!=0&&U!=d-1){var F=n-1<<1,i=n+1<<1,$=t[F],H=t[i],b=t[F+1],r=t[i+1],W=l-($+H)*.5,V=L-(b+r)*.5;
j-=W*X;O-=V*X}if(p!=0&&p!=v-1){var F=n-d<<1,i=n+d<<1,$=t[F],H=t[i],b=t[F+1],r=t[i+1],W=l-($+H)*.5,V=L-(b+r)*.5;
j-=W*X;O-=V*X}t[a]=l+j;t[a+1]=L+O}};f.wc.a20=function(d,v){var t=d+","+v;if(f.wc.aom==t)return f.wc.aCN;
var h=f.wc.aCN=[];f.wc.aom=t;for(var n=0;n<=1e3;n++){var X=n*.001,g=Math.sqrt(X),x=Math.exp(-4*g),Z=.96*(1-g*g),Y=v*((1-d)*x+d*Z);
h[n]=Y}return h};f.wc.aom="";f.wc.aCN=[];f.wc.a1D=function(d,v,t,h,X,g,x,Z,Y,a,z,p,U){var l=Math.max(0,Math.floor(X-x-1)),L=Math.min(v,Math.ceil(X+x+1)),j=Math.max(0,Math.floor(g-x-1)),O=Math.min(t,Math.ceil(g+x+1)),F=2*v,i=x*x,$=1/x,H=0;
if(U&&(h==3||h==6))Y=-Y;var b=f.wc.a20(Z,Y);for(var r=j;r<O;r++)for(var W=l;W<L;W++){var n=r*v+W,V=n<<1,y=(X-W)*$,c=(g-r)*$,S=y*y+c*c;
if(S<1){p[H]=n;var C=b[~~(S*1e3)];if(h==1){d[V]=d[V]*(1-C*.05);d[V+1]=d[V+1]*(1-C*.05)}else{var K=0,T=0,G,s,Q,q;
if(h==0){K=a*C;T=z*C}else if(h==2){}else if(h==3){K=C*c;T=-C*y}else if(h==4){K=C*y;T=C*c}else if(h==5){K=-C*y;
T=-C*c}else if(h==6){K=z*C;T=-a*C}var D=d[V],N=d[V+1];if(W==0||W!=v-1&&K<0){G=1+d[V+2]-D;Q=d[V+3]-N}else{G=D-d[V-2]+1;
Q=N-d[V-1]}if(r==0||r!=t-1&&T<0){s=d[V+F]-D;q=1+d[V+F+1]-N}else{s=D-d[V-F];q=N-d[V-F+1]+1}d[V]=-(G*K+s*T-D);
d[V+1]=-(Q*K+q*T-N)}H++}}};f.wc.aIe=function(d){var v=d[0],t=d[0],h=d[1],X=d[1];for(var n=0;n<d.length;
n+=2){var g=d[n],x=d[n+1];if(g<v)v=g;else if(g>t)t=g;if(x<h)h=x;else if(x>X)X=x}return[v,h,t,X]};f.aca=function(d,v,t,h,X){function g(o,af,J,at){return Math.sqrt((o-J)*(o-J)+(af-at)*(af-at))}function x(o,af){return o>=0&&o<v&&af>=0&&af<t}function Z(o){if(o<0)return 0;
if(o>=v)return v-1;return o}function Y(o){if(o<0)return 0;if(o>=t)return t-1;return o}function a(n,o){var af=o[3]*(1/255),J=h[n]+o[0]*af;
if(J>255)J=255;h[n]=J;J=h[n+1]+o[1]*af;if(J>255)J=255;h[n+1]=J;J=h[n+2]+o[2]*af;if(J>255)J=255;h[n+2]=J}function z(o,af,J){if(!R(o,af))return;
if(J[3]<0)J[3]=0;a((af*v+o)*4,J)}function p(o){var af=o.slice(0,3);af[3]=0;return af}var U=v/800;function l(o){return Math.round(o*U)}function L(){for(var n=0;
n<=300;n++){E[n]=j(n)}}function j(t){var o=.8,af=.2,J=o*af,at=t/60%2-1,ke=J*(1-at*at),c_=af-J,ag;if(t<60){ag=[J+c_,ke,0]}else if(t<120){ag=[ke,J,0]}else if(t<180){ag=[0,J,ke]}else if(t<240){ag=[0,ke,J]}else if(t<300){ag=[ke,0,J]}else{ag=[J,0,ke]}return[(ag[0]+c_)*255,(ag[1]+c_)*255,(ag[2]+c_)*255]}function O(t){return E[~~t]}function F(o){return 1-i(o)}function i(o){return o-~~o}function $(o,af,J,at){Q(o,af,J,0,af+1,1,at)}function H(o,af,J,at,ke,c_){Q(o,af,J,0,at,1,ke,c_)}function b(o){for(var n=0;
n<h.length;n+=4){a(n,o)}}function r(o,af,J,at,ke,c_,ag,dz){W(o,af,J,at,ke,1,c_,ag,dz)}function W(o,af,J,at,ke,c_,ag,dz,kL){if(c_==null)c_=.5;
if(ag==null)ag=0;if(dz==null)dz=0;if(kL==null)kL=!1;var aq=o.x,dh=o.y,gK=J.slice(0),ad=~~(J[3]*w);at=at*w;
if(!kL){af=q(af);ke=q(ke);ag=q(ag);dz=q(dz)}var dc=Z(aq-af),lq=Z(aq+af);for(var hn=dc;hn<=lq;hn++){var dF=hn-aq,c3=Math.floor(Math.sqrt(af*af-dF*dF)),i8=Y(dh-c3),dr=Y(dh);
for(var jO=i8;jO<=dr;jO++){var d1=g(hn,jO,aq,dh);if(d1>af||d1<=af-ke)break;var h3=(d1-af+ke)/ke;gK[3]=ad-at*(c_==1?h3:Math.pow(h3,c_));
a((jO*v+hn)*4,gK)}i8=Y(dh+c3);for(var jO=i8;jO>dr;jO--){var d1=g(hn,jO,aq,dh);if(d1>af||d1<=af-ke)break;
var h3=(d1-af+ke)/ke;gK[3]=ad-at*(c_==1?h3:Math.pow(h3,c_));a((jO*v+hn)*4,gK)}}if(ag>0){Q(o,af+ag,gK,gK[3],ag,1,0,0,!0)}if(dz>0){Q(o,af-ke,m(J),-J[3],dz,1,0,0,!0)}}function V(o,af,J,at,ke,c_){Q(o,af,J,J[3],af+1,1,at,ke,c_)}function y(o,af,J,at,ke){if(ke==null)ke=!1;
var c_=o.x,ag=o.y;at*=w;if(!ke){af=q(af);J=q(J)}var dz=Z(c_-af),kL=Z(c_+af);for(var aq=dz;aq<kL;aq++){var dh=aq-c_,gK=~~Math.sqrt(af*af-dh*dh),ad=Y(ag-gK),dc=Y(ag);
for(var lq=ad;lq<=dc;lq++){var hn=g(aq,lq,c_,ag);if(hn>af||hn<=af-J)break;var dF=(af-hn)/J,c3=O(300*dF);
c3[3]=at;a((lq*v+aq)*4,c3)}ad=Y(ag+gK);for(var lq=ad;lq>dc;lq--){var hn=g(aq,lq,c_,ag);if(hn>af||hn<=af-J)break;
var dF=(af-hn)/J,c3=O(300*dF);c3[3]=at;a((lq*v+aq)*4,c3)}}}function c(e,o){var af=e.LH,J=e.ma,at=o.slice(0),ke=o[3]*w,c_=Math.abs(J.y-af.y)>Math.abs(J.x-af.x);
if(c_){var ag=af.x;af.x=af.y;af.y=ag;ag=J.x;J.x=J.y;J.y=ag}if(af.x>J.x){var ag=af;af=J;J=ag}var dz=J.x-af.x,kL=J.y-af.y,aq=dz==0?1:kL/dz,dh=Math.round(af.x),gK=af.y+aq*(dh-af.x),ad=F(af.x+.5),dc=dh,lq=~~gK;
if(c_){at[3]=ke*F(gK)*ad;z(lq,dc,at);at[3]=ke*i(gK)*ad;z(lq+1,dc,at)}else{at[3]=ke*F(gK)*ad;z(dc,lq,at);
at[3]=ke*i(gK)*ad;z(dc,lq+1,at)}var hn=gK-aq;dh=Math.round(J.x);gK=J.y+aq*(dh-J.x);ad=i(J.x+.5);var dF=dh,c3=~~gK;
if(c_){at[3]=ke*F(gK)*ad;z(c3,dF,at);at[3]=ke*i(gK)*ad;z(c3+1,dF,at)}else{at[3]=ke*F(gK)*ad;z(dF,c3,at);
at[3]=ke*i(gK)*ad;z(dF,c3+1,at)}if(c_){for(var i8=dc+1;i8<=dF-1;i8++){at[3]=ke*F(hn);z(~~hn,i8,at);at[3]=ke*i(hn);
z(~~hn+1,i8,at);hn+=aq}}else{for(var i8=dc+1;i8<=dF-1;i8++){at[3]=ke*F(hn);z(i8,~~hn,at);at[3]=ke*i(hn);
z(i8,~~hn+1,at);hn+=aq}}}function S(o,af,J,at){for(var n=0;n<4;n++){var ke=o.ic(af+1.3*n,J);c(ke,at,1)}}function cK(o,af){this.x=Math.round(o);
this.y=Math.round(af)}var C=Math.PI/180;cK.prototype.ic=function(o,af){o=o*C;var J=this.x+af*Math.cos(o),at=this.y+af*Math.sin(o);
return new K(this.x,this.y,J,at)};cK.prototype.aNO=function(o,af){o=o*C;var J=this.Hc+af*Math.cos(o),at=this.if+af*Math.sin(o);
return new cK(J,at)};function K(o,af,J,at){this.LH=new cK(o,af);this.ma=new cK(J,at)}K.prototype._u=function(o){var af=o*this.LH.x+(1-o)*this.ma.x,J=o*this.LH.y+(1-o)*this.ma.y;
return new cK(af,J)};var T=r,D=V,N=$,G=H,s=y,Q=W,q=l,R=x,m=p,E=[];L();for(var n=0;n<d.length;n++){h[n]=d[n]}var e=new K(v*X[2],t*X[3],v/2,t/2),w=X[1],M=[];
M[0]=function P(){var o=[80,40,15,60],J=0,at=0;N(e._u(1.4),260,o,10);N(e._u(1),100,[240,50,50,30],30);
D(e._u(1),60,[255,40,0,40]);var af=[255,255,255,255];Q(e._u(1),70,af,af[3],58,.5);N(e._u(1),12,af);af[3]=40;
T(e._u(1),150,af,af[3],150);for(var n=0;n<40;n++){J+=Math.random()*25;at=Math.random()*q(300)+q(100);
var ke=e._u(1).ic(J,at);c(e._u(1).ic(J,at),[110,110,110,30])}D(e._u(1),130,[255,255,255,8]);var c_=[170,30,23,70];
G(e._u(1),70,c_,1,3,3);var ag=[60,60,130,40];N(e._u(.47),44,ag,5);N(e._u(.43),22,ag,3);ag[3]=16;N(e._u(.53),15,ag,2);
var dz=[138,94,42,100];N(e._u(.2),16,dz,2);var kL=[130,255,170,180];D(e._u(0),4,kL);D(e._u(-.25),5,kL);
dz=[150,90,0,50];T(e._u(-.45),55,m(dz),-dz[3],40,2);N(e._u(-.42),35,dz,2);N(e._u(-.5),15,dz,2);s(e._u(-1.28),145,11,70);
var aq=O(0);aq[3]=50;T(e._u(-1.28),149,aq,aq[3],4);aq=O(300);aq[3]=50;T(e._u(-1.28),155-1,m(aq),-aq[3],3);
var dh=[130,130,10,50];G(e._u(-1),73,dh,3,2);var gK=[40,130,70,40];T(e._u(-1),70,m(gK),-gK[3],35);gK=[40,170,60,50];
N(e._u(-.7),25,gK,4);var gK=[70,110,50,60];T(e._u(1.3),30,m(gK),-gK[3],11,3);ag=[0,50,210,80];D(e._u(-.72),20,ag)};
M[1]=function I(){D(e._u(1),150,[240,70,70,60]);N(e._u(1),100,[200,60,60,40],30);var o=[255,255,255,255],af=0,J=0;
Q(e._u(1),75,o,o[3],63);N(e._u(1),12,o);D(e._u(1),270,[200,200,200,20],10);for(var n=0;n<10;n++){af+=10+Math.random()*40;
J=Math.random()*q(250)+q(80);var at=e._u(1).ic(af,J);c(at,[110,110,110,35])}af=5;J=100;for(var n=0;n<12;
n++){af+=30;S(e._u(1),af,J,[90,90,90,40])}var ke=[150,40,23,100];G(e._u(1),70,ke,1,3,3);var c_=[30,100,60,40];
D(e._u(-.9),180,[255,255,255,20]);N(e._u(-.9),140,c_,15);var ag=[170,80,25,15];G(e._u(-.9),120,ag,1,4,4);
var dz=[110,240,190,200];D(e._u(-.6),3,dz);dz[3]=100;D(e._u(-.6),7,dz);var kL=[230,120,40,85];D(e._u(-.73),9,kL);
var aq=[60,60,190,50];N(e._u(.3),28,aq,6);aq[3]=25;N(e._u(.34),20,aq,3)};M[2]=function k(){var o=[255,255,255,255],J=0,at=0;
N(e._u(1),13,o);Q(e._u(1),150,o,o[3],137);var af=[120,80,35,20];N(e._u(1.4),260,af,10);for(var n=0;n<40;
n++){J+=5+Math.random()*30;at=Math.random()*q(300);c(e._u(1).ic(J,at),[110,110,110,20])}var ke=[10,30,255,30];
N(e._u(1),70,ke,50);var c_=[15,90,170,15];N(e._u(1.5),60,c_);var ag=[220,220,20,50];N(e._u(-1.15),8,ag,2);
var o=[255,255,255,40];D(e._u(-1.18),6,o);D(e._u(-1.18),4,o);ag=[110,110,10,8];T(e._u(-1.2),32,m(ag),-ag[3],20,3);
var dz=[5,0,16,255];for(var n=0;n<4;n++){N(e._u(-1.36),10,dz,3)}var kL=[90,200,150,20],aq=kL.slice(0);
aq[3]*=2;N(e._u(-1.32),7,aq,3);N(e._u(-1.36),7,aq,3);N(e._u(-1.4),7,aq,3);var o=[230,230,230,100];D(e._u(-1.36),2,o);
o[3]=3;N(e._u(-.55),10,o);ag=[120,100,10,18];N(e._u(-.55),160,ag,8);N(e._u(-.55),80,ag,4);kL[3]=3;aq[3]=6;
T(e._u(-.49),13,m(aq),-aq[3],13,2);T(e._u(-.55),13,m(aq),-aq[3],13,2);kL[3]=20;N(e._u(.15),25,kL,3);
ag[3]=100;D(e._u(-.52),3,ag);ag=[200,200,50,40];N(e._u(.27),1,ag,4);var dh=[150,40,23,30];T(e._u(1),80,m(dh),-dh[3],2,1)};
return M[X[0]]()};f.AC={};f.AC.zR=function(d){var v=d.length,bW=d[0].length,t=new Array(bW);for(var n=0;
n<bW;n++)t[n]=new Array(v);for(var n=0;n<bW;n++)for(var h=0;h<v;h++)t[n][h]=d[h][n];return t};f.AC.hP=function(d,v){var t=d.length,bW=d[0].length,h=new Array(t);
for(var n=0;n<t;n++)h[n]=new Array(bW);for(var n=0;n<t;n++)for(var X=0;X<bW;X++)h[n][X]=d[n][X]-v[n][X];
return h};f.AC.add=function(d,v){var t=d.length,bW=d[0].length,h=new Array(t);for(var n=0;n<t;n++)h[n]=new Array(bW);
for(var n=0;n<t;n++)for(var X=0;X<bW;X++)h[n][X]=d[n][X]+v[n][X];return h};f.AC.multiply=function(d,v){var t=d.length,h=d[0].length,bW=v[0].length;
if(h!=v.length)throw"e";var X=new Array(t);for(var n=0;n<t;n++)X[n]=new Array(bW);if((h&1)!=0)for(var n=0;
n<t;n++){var g=d[n],x=X[n];for(var Z=0;Z<bW;Z++){var Y=0;for(var a=0;a<h;a++)Y+=g[a]*v[a][Z];x[Z]=Y}}else for(var n=0;
n<t;n++){var g=d[n],x=X[n];for(var Z=0;Z<bW;Z++){var Y=0;for(var a=0;a<h;a+=2)Y+=g[a]*v[a][Z]+g[a+1]*v[a+1][Z];
x[Z]=Y}}return X};f.AC.kE=function(d,v){var t=d.length,bW=d[0].length,h=new Array(t);for(var n=0;n<t;
n++){var X=0;for(var g=0;g<bW;g++)X+=d[n][g]*v[g];h[n]=X}return h};f.AC.v5=function(d,v){var t=[];for(var n=0;
n<d;n++){t.push([]);for(var h=0;h<v;h++)t[n].push(0)}return t};f.AC.a39=function(d){for(var n=0;n<d.length;
n++)console.log(JSON.stringify(d[n]))};f.AC.a6P=function(d){var v=[];for(var n=0;n<d.length;n++)v.push(d[n].join(","));
return"["+v.join(";")+"]"};f.AC.Y5=function(d,v){var t=d.length;for(var h=0;h<t;h++){var X=0,g=Number.NEGATIVE_INFINITY;
for(var n=h;n<t;n++)if(Math.abs(d[n][h])>g){X=n;g=Math.abs(d[n][h])}f.AC.aa0(d,h,X);for(var n=h+1;n<t;
n++){if(d[h][h]==0)return 1;var x=d[n][h]/d[h][h];for(var Z=h;Z<t+1;Z++)d[n][Z]-=d[h][Z]*x}}for(var n=t-1;
n>=0;n--){if(d[n][n]==0)return 1;var Y=d[n][t]/d[n][n];v[n]=Y;for(var Z=n-1;Z>=0;Z--){d[Z][t]-=d[Z][n]*Y;
d[Z][n]=0}}return 0};f.AC.aa0=function(d,v,t){var h=d[v];d[v]=d[t];d[t]=h};f.AC.azr=function(d){var v=d.length,t=f.AC.v5(v,v);
for(var n=0;n<v;n++)t[n][n]=d[n];return t};f.AC.aMN=function(d){var v=d.length,t=d[0].length,h=new Array(v);
for(var n=0;n<v;n++){h[n]=0;for(var X=0;X<t;X++)h[n]+=d[n][X];h[n]/=t}return h};f.AC.Q8=function(d){var v=0;
for(var n=0;n<d.length;n++)v+=d[n]*d[n];return Math.sqrt(v)};f.Yh={};f.Yh.Wn=function(d){var v=~~(d+.5);
return v<0?0:v>255?255:v};f.Yh.Fd=function(d,v,t){function h(Y){return Math.max(0,Math.min(1,Y))}var X=d.C.length;
for(var n=0;n<X;n++){var g=d.C[n],x=d.L[n],Z=d.X[n];v.C[n]=h(t[0]*g+t[1]*x+t[2]*Z+t[3]);v.L[n]=h(t[4]*g+t[5]*x+t[6]*Z+t[7]);
v.X[n]=h(t[8]*g+t[9]*x+t[10]*Z+t[11])}};f.Yh.a5b=function(d,v,t){var h=f.UJ(d),X=h==8?255:h==16?65535:1,g=1/X,x=d.length;
function Z(p){return Math.max(0,Math.min(1,p))}for(var n=0;n<x;n+=4){var Y=d[n]*g,a=d[n+1]*g,z=d[n+2]*g;
v[n]=X*Z(t[0]*Y+t[1]*a+t[2]*z+t[3]);v[n+1]=X*Z(t[4]*Y+t[5]*a+t[6]*z+t[7]);v[n+2]=X*Z(t[8]*Y+t[9]*a+t[10]*z+t[11])}};
f.Yh.aLI=function(d){var v=d[0]+d[1]+d[2],t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(v==1){var h=d.indexOf(1);
t[h]=t[h+4]=t[h+8]=1}else{t[0]=d[0];t[5]=d[1];t[10]=d[2]}return t};f.Yh.tm=function(d,v,t){return[1,0,0,d,0,1,0,v,0,0,1,t,0,0,0,1]};
f.Yh.iO=function(d,v,t){return[d,0,0,0,0,v,0,0,0,0,t,0,0,0,0,1]};f.Yh.aIC=function(d){return[d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]]};
f.Yh.Tz=function(d){return[d[0],d[1],d[2],0,d[3],d[4],d[5],0,d[6],d[7],d[8],0,0,0,0,1]};f.Yh.ip=function(d,v){return[d[0]*v[0]+d[1]*v[1]+d[2]*v[2]+d[3]*v[3],d[4]*v[0]+d[5]*v[1]+d[6]*v[2]+d[7]*v[3],d[8]*v[0]+d[9]*v[1]+d[10]*v[2]+d[11]*v[3],d[12]*v[0]+d[13]*v[1]+d[14]*v[2]+d[15]*v[3]]};
f.Yh.zR=function(d){var v=[];v[0]=d[0];v[1]=d[4];v[2]=d[8];v[3]=d[12];v[4]=d[1];v[5]=d[5];v[6]=d[9];
v[7]=d[13];v[8]=d[2];v[9]=d[6];v[10]=d[10];v[11]=d[14];v[12]=d[3];v[13]=d[7];v[14]=d[11];v[15]=d[15];
return v};f.Yh.add=function(d,v){var t=d.slice(0);for(var n=0;n<16;n++)t[n]+=v[n];return t};f.Yh.multiply=function(d,v){var t=[];
t[0]=d[0]*v[0]+d[1]*v[4]+d[2]*v[8]+d[3]*v[12];t[1]=d[0]*v[1]+d[1]*v[5]+d[2]*v[9]+d[3]*v[13];t[2]=d[0]*v[2]+d[1]*v[6]+d[2]*v[10]+d[3]*v[14];
t[3]=d[0]*v[3]+d[1]*v[7]+d[2]*v[11]+d[3]*v[15];t[4]=d[4]*v[0]+d[5]*v[4]+d[6]*v[8]+d[7]*v[12];t[5]=d[4]*v[1]+d[5]*v[5]+d[6]*v[9]+d[7]*v[13];
t[6]=d[4]*v[2]+d[5]*v[6]+d[6]*v[10]+d[7]*v[14];t[7]=d[4]*v[3]+d[5]*v[7]+d[6]*v[11]+d[7]*v[15];t[8]=d[8]*v[0]+d[9]*v[4]+d[10]*v[8]+d[11]*v[12];
t[9]=d[8]*v[1]+d[9]*v[5]+d[10]*v[9]+d[11]*v[13];t[10]=d[8]*v[2]+d[9]*v[6]+d[10]*v[10]+d[11]*v[14];t[11]=d[8]*v[3]+d[9]*v[7]+d[10]*v[11]+d[11]*v[15];
t[12]=d[12]*v[0]+d[13]*v[4]+d[14]*v[8]+d[15]*v[12];t[13]=d[12]*v[1]+d[13]*v[5]+d[14]*v[9]+d[15]*v[13];
t[14]=d[12]*v[2]+d[13]*v[6]+d[14]*v[10]+d[15]*v[14];t[15]=d[12]*v[3]+d[13]*v[7]+d[14]*v[11]+d[15]*v[15];
return t};f.Yh.zJ=function(d){var v=[];v[0]=d[5]*d[10]*d[15]-d[5]*d[14]*d[11]-d[6]*d[9]*d[15]+d[6]*d[13]*d[11]+d[7]*d[9]*d[14]-d[7]*d[13]*d[10];
v[1]=-d[1]*d[10]*d[15]+d[1]*d[14]*d[11]+d[2]*d[9]*d[15]-d[2]*d[13]*d[11]-d[3]*d[9]*d[14]+d[3]*d[13]*d[10];
v[2]=d[1]*d[6]*d[15]-d[1]*d[14]*d[7]-d[2]*d[5]*d[15]+d[2]*d[13]*d[7]+d[3]*d[5]*d[14]-d[3]*d[13]*d[6];
v[3]=-d[1]*d[6]*d[11]+d[1]*d[10]*d[7]+d[2]*d[5]*d[11]-d[2]*d[9]*d[7]-d[3]*d[5]*d[10]+d[3]*d[9]*d[6];
v[4]=-d[4]*d[10]*d[15]+d[4]*d[14]*d[11]+d[6]*d[8]*d[15]-d[6]*d[12]*d[11]-d[7]*d[8]*d[14]+d[7]*d[12]*d[10];
v[5]=d[0]*d[10]*d[15]-d[0]*d[14]*d[11]-d[2]*d[8]*d[15]+d[2]*d[12]*d[11]+d[3]*d[8]*d[14]-d[3]*d[12]*d[10];
v[6]=-d[0]*d[6]*d[15]+d[0]*d[14]*d[7]+d[2]*d[4]*d[15]-d[2]*d[12]*d[7]-d[3]*d[4]*d[14]+d[3]*d[12]*d[6];
v[7]=d[0]*d[6]*d[11]-d[0]*d[10]*d[7]-d[2]*d[4]*d[11]+d[2]*d[8]*d[7]+d[3]*d[4]*d[10]-d[3]*d[8]*d[6];v[8]=d[4]*d[9]*d[15]-d[4]*d[13]*d[11]-d[5]*d[8]*d[15]+d[5]*d[12]*d[11]+d[7]*d[8]*d[13]-d[7]*d[12]*d[9];
v[9]=-d[0]*d[9]*d[15]+d[0]*d[13]*d[11]+d[1]*d[8]*d[15]-d[1]*d[12]*d[11]-d[3]*d[8]*d[13]+d[3]*d[12]*d[9];
v[10]=d[0]*d[5]*d[15]-d[0]*d[13]*d[7]-d[1]*d[4]*d[15]+d[1]*d[12]*d[7]+d[3]*d[4]*d[13]-d[3]*d[12]*d[5];
v[11]=-d[0]*d[5]*d[11]+d[0]*d[9]*d[7]+d[1]*d[4]*d[11]-d[1]*d[8]*d[7]-d[3]*d[4]*d[9]+d[3]*d[8]*d[5];v[12]=-d[4]*d[9]*d[14]+d[4]*d[13]*d[10]+d[5]*d[8]*d[14]-d[5]*d[12]*d[10]-d[6]*d[8]*d[13]+d[6]*d[12]*d[9];
v[13]=d[0]*d[9]*d[14]-d[0]*d[13]*d[10]-d[1]*d[8]*d[14]+d[1]*d[12]*d[10]+d[2]*d[8]*d[13]-d[2]*d[12]*d[9];
v[14]=-d[0]*d[5]*d[14]+d[0]*d[13]*d[6]+d[1]*d[4]*d[14]-d[1]*d[12]*d[6]-d[2]*d[4]*d[13]+d[2]*d[12]*d[5];
v[15]=d[0]*d[5]*d[10]-d[0]*d[9]*d[6]-d[1]*d[4]*d[10]+d[1]*d[8]*d[6]+d[2]*d[4]*d[9]-d[2]*d[8]*d[5];var t=d[0]*v[0]+d[1]*v[4]+d[2]*v[8]+d[3]*v[12];
for(var n=0;n<16;n++)v[n]/=t;return v};f.Yh.agn=function(d){var v=[],t=d[5]*d[10]*d[15]-d[5]*d[14]*d[11]-d[6]*d[9]*d[15]+d[6]*d[13]*d[11]+d[7]*d[9]*d[14]-d[7]*d[13]*d[10],h=-d[4]*d[10]*d[15]+d[4]*d[14]*d[11]+d[6]*d[8]*d[15]-d[6]*d[12]*d[11]-d[7]*d[8]*d[14]+d[7]*d[12]*d[10],X=d[4]*d[9]*d[15]-d[4]*d[13]*d[11]-d[5]*d[8]*d[15]+d[5]*d[12]*d[11]+d[7]*d[8]*d[13]-d[7]*d[12]*d[9],g=-d[4]*d[9]*d[14]+d[4]*d[13]*d[10]+d[5]*d[8]*d[14]-d[5]*d[12]*d[10]-d[6]*d[8]*d[13]+d[6]*d[12]*d[9];
return d[0]*t+d[1]*h+d[2]*X+d[3]*g};f.Yh.UH=function(d,v,t,h){var X=Math.sin(h),g=Math.cos(h),x=1/Math.sqrt(d*d+v*v+t*t);
d*=x;v*=x;t*=x;return f.Yh.Tz([d*d*(1-g)+g,d*v*(1-g)-t*X,d*t*(1-g)+v*X,d*v*(1-g)+t*X,v*v*(1-g)+g,v*t*(1-g)-d*X,d*t*(1-g)-v*X,v*t*(1-g)+d*X,t*t*(1-g)+g])};
f.Yh.Zc=f.Yh.Tz([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
f.Yh.agM=f.Yh.Tz([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
f.Yh.ak$=f.Yh.Tz([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);f.Yh.ap1=f.Yh.Tz([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
f.Yh.afJ=f.Yh.zJ(f.Yh.Zc);f.iK={};f.iK.OZ=new Uint32Array(1);f.iK.aoV=function(d,v,t,h,X,g){var x=new Uint32Array(d),Z=0,Y=f.iK.OZ;
if(Y.length<v*4)f.iK.OZ=Y=new Uint32Array(v*4);var a=new Float64Array(Y.buffer);for(var n=0;n<v;n+=2){var z=X[n],p=X[n+1],U=g[n],l=g[n+1];
Y[Z]=p;a[Z+2>>1]=U;Y[Z+1]=x[z];x[z]=Z+1;Z+=4;Y[Z]=z;a[Z+2>>1]=l;Y[Z+1]=x[p];x[p]=Z+1;Z+=4}return{f7:Y,aoR:a,air:x}};
f.iK.Y5=function(d,v,t,h,X,g,x){var Z=1,Y=f.iK.aoV(d,v,t,h,X,g),a=Y.f7,z=Y.aoR,p=Y.air,U=new Uint32Array(d),l=new f.iK.MN(d),j=1,H=0;
l.push(t);l.push(h);var L=new f.iK.MN(d),O=new Uint8Array(d),F=new Uint32Array(d);O[t]=1;O[h]=2;var i=new Uint32Array(d),$=new Uint32Array(d);
$[t]=$[h]=0;i[t]=i[h]=1;while(!0){var b=-1,C=0,N=1e30;while(!l.kd()&&b==-1){var r=l.top(),W=O[r],V=p[r]-1;
while(V!=-1){var y=a[V],c=O[y],S=V^W-1<<2;if(z[S+2>>1]!=0){if(c==0){f.iK.gO(r,V,y,O,F,$,i);l.push(y)}else if(c==W&&i[y]<=i[r]&&$[y]>$[r])f.iK.gO(r,V,y,O,F,$,i);
else if(c!=W){b=S}}V=a[V+1]-1}if(b!=-1)break;l.pop()}if(b==-1){break}j++;var K=b;while(K!=-1){U[C]=K;
C++;K=F[a[K^4]]-1}var T=C>>1;for(var n=0;n<T;n++){var D=U[n];U[n]=U[C-n-1];U[C-n-1]=D}K=F[a[b]]-1;while(K!=-1){U[C]=K^4;
C++;K=F[a[K^4]]-1}for(var n=0;n<C;n++)N=Math.min(N,z[U[n]+2>>1]);H+=N;if(H>=x)return{ac0:null,j7:H};
for(var n=0;n<C;n++){var G=U[n],s=G^4,r=a[s],y=a[G];z[G+2>>1]-=N;z[s+2>>1]+=N;if(z[G+2>>1]==0&&O[r]==O[y]){if(O[r]==1){F[y]=0;
L.push(y)}if(O[r]==2){F[r]=0;L.push(r)}}}while(!L.kd()){var r=L.pop(),W=O[r],V=p[r]-1,Q=W==1?4:0,q=0,R=0,m=1e9;
while(V!=-1){var y=a[V],E=V^4,S=V^Q;if(O[y]==W&&z[S+2>>1]>0&&f.iK.atY(y,t,h,F,a,j,i,$)+1<m){q=y;R=E;
m=$[y]+1}V=a[V+1]-1}if(R!=0){f.iK.gO(q,R,r,O,F,$,i);continue}V=p[r]-1;while(V!=-1){var y=a[V],S=V^Q;
if(O[y]==W){if(z[S+2>>1]>0){l.push(y)}if(F[y]==V+1){F[y]=0;L.push(y)}}V=a[V+1]-1}O[r]=0;l.remove(r)}}var e=[];
for(var n=0;n<v;n+=2){var r=X[n],y=X[n+1];if(O[r]==1&&O[y]!=1){e.push(n>>1)}if(O[y]==1&&O[r]!=1){e.push(v+n>>1)}}return{ac0:e,j7:H}};
f.iK.gO=function(d,v,t,h,X,g,x){h[t]=h[d];X[t]=v+1;g[t]=g[d]+1;x[t]=x[d]};f.iK.atY=function(d,v,t,h,X,g,x,Z){var Y=d,a=h[d]-1,z=0;
while(a!=-1&&x[d]!=g){d=X[a^4];a=h[d]-1;z++}if(a==-1&&d!=v&&d!=t)return 1e9;var p=Z[d]+z;z=0;a=h[Y]-1;
while(Y!=d){Z[Y]=p-z;z++;x[Y]=g;Y=X[a^4];a=h[Y]-1}return p};f.iK.aEE=function(d,v,t,h,X,g){var x=f.iK.aoV(d,v,t,h,X,g),Z=x.f7,Y=x.aoR,a=x.air,z=0,p=0,U=new Uint32Array(d*2),l=new f.iK.ank(d),L=0;
while(!0){l.reset();l.push(t);for(var n=0;n<d;n++)U[n<<1]=0;while(!l.kd()){var j=l.pop(),O=a[j]-1;while(O!=-1){L=Z[O];
if(U[L<<1]==0&&Y[O+2>>1]>0&&L!=t){U[L<<1]=j+1;U[(L<<1)+1]=O;l.push(L)}O=Z[O+1]-1}if(U[h<<1]!=0){break}}if(U[h<<1]==0){break}var F=1e30;
L=h;while(!0){var i=U[L<<1]-1;if(i==-1)break;var $=U[(L<<1)+1];F=Math.min(F,Y[$+2>>1]);L=i}L=h;while(!0){var i=U[L<<1]-1;
if(i==-1)break;var $=U[(L<<1)+1],H=$^4;Y[$+2>>1]-=F;Y[H+2>>1]+=F;L=i}z+=F}var b=[];for(var n=0;n<v;n+=2){var i=X[n],L=X[n+1];
if((U[i<<1]!=0||i==t)&&U[L<<1]==0&&L!=t){b.push(n>>1)}if((U[L<<1]!=0||L==t)&&U[i<<1]==0&&i!=t){b.push(v+n>>1)}}return{ac0:b,j7:z}};
f.iK.ank=function(d){d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;this.TX=new Uint32Array(d+1);this.ml=d;
this.Wz=0;this.aI=0};f.iK.ank.prototype={push:function(d){var v=this.aI;this.TX[v]=d;this.aI=v+1&this.ml},pop:function(){var d=this.Wz,v=this.TX[d];
this.Wz=d+1&this.ml;return v},kd:function(){return this.Wz==this.aI},reset:function(){this.Wz=0;this.aI=0}};
f.iK.MN=function(d){d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;this.TX=new Uint32Array(d+1);this.yi=new Uint32Array(d+1);
this.ml=d;this.Wz=0;this.aI=0};f.iK.MN.prototype={top:function(){return this.TX[this.Wz]},adM:function(){return this.TX[this.aI]},push:function(d){if(this.yi[d]!=0)return;
this.yi[d]=this.aI+1;var v=this.aI;this.TX[v]=d;this.aI=v+1&this.ml},pop:function(){var d=this.Wz,v=this.TX[d];
this.yi[v]=0;this.Wz=d+1&this.ml;return v},kd:function(){return this.Wz==this.aI},remove:function(d){var v=this.yi[d]-1;
if(v==-1)return;this.yi[d]=0;if(v==this.Wz){this.pop();return}var t=this.pop();this.TX[v]=t;this.yi[t]=v+1},E1:function(n){return n+this.ml+1&this.ml}};
f.iK.aeS=function(d,v,t){var h=f.iK.jw(d,v,t);if(v<h-1)f.iK.aeS(d,v,h-1);if(h<t)f.iK.aeS(d,h,t)};f.iK.jw=function(d,v,t){var h=d[v+t>>>1];
while(v<=t){while(d[v]<h)v++;while(d[t]>h)t--;if(v<=t){f.iK.ci(d,v,t);v++;t--}}return v};f.iK.ci=function(d,v,t){var h=d[v];
d[v]=d[t];d[t]=h};f.eV=function(){var d,v;function t(x,Z,bW){var Y=bW-1,a=Z+bW;d[bW-2]=x[a-2];v[0]=x[a-1];
var z=Math.max;for(var n=1;n<Y;n++){d[bW-2-n]=z(d[bW-1-n],x[a-2-n]);v[n]=z(v[n-1],x[a-1+n])}for(var n=0;
n<Y;n++)x[Z+n]=z(d[n],v[n])}function h(x,Z,bW){var Y=bW-1,a=Math.ceil(Z/Y)*Y;for(var z=0;z<a;z+=Y)t(x,z,bW)}function X(x,Z,Y,a,bW,z){Z.set(x);
if(bW==1)return;d=f.m(bW-1);v=f.m(bW-1);var p=bW>>>1,U=f.m(Math.ceil(Math.max(Y,a)/(bW-1))*(bW-1)+(bW-2)),l=new Uint8Array(U.buffer,0,Y);
if(!z)f.zJ(Z);for(var L=0;L<a;L++){U.fill(0);U.set(new Uint8Array(Z.buffer,L*Y,Y),p);h(U,Y,bW);Z.set(l,L*Y)}for(var j=0;
j<Y;j++){U.fill(0);for(var L=0;L<a;L++)U[L+p]=Z[L*Y+j];h(U,a,bW);for(var L=0;L<a;L++)Z[L*Y+j]=U[L]}if(!z)f.zJ(Z)}function g(x,Z,Y,a,bW,z){var p=f.m(Y*a);
for(var U=0;U<4;U++){f.Po(x,p,U);if(U==3)f.zJ(p);X(p,p,Y,a,bW,z);if(U==3)f.zJ(p);f.Gj(p,Z,U)}}return{RM:X,aLj:g}}();
f._5={};f._5.Z7=function(d){for(var n=0;n<d.length;n++)f._5.j_(d,n)};f._5.j_=function(d,n){d[n].v.keyShapeInvalidated={t:"bool",v:!0}};
f._5.a0s=function(d){for(var n=0;n<d.length;n++)d[n].v.keyOriginIndex.v=n};f._5.sS=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
f._5.zF=function(d,v,t){d=d.v;var h={Rctn:2,Ln:4,Elps:5},X=h[d.classID],g=d.topLeft?f._5.a52(d):null,x=null,Z=0,Y=[!1,!1,0,0,0];
if(X==4){var a=d.Strt.v,z=d.End.v;x=[a.Hrzn.v.val,a.Vrtc.v.val,z.Hrzn.v.val,z.Vrtc.v.val];Z=d.Wdth.v.val;
for(var n=0;n<2;n++){var p=d[n==0?"StrA":"EndA"];if(p==null)continue;p=p.v;Y[n]=p.On.v;Y[2]=p.Wdth.v;
Y[3]=p.Lngt.v;Y[4]=p.Cncv.v.val}}if(X==null)return null;return f._5.cL(X,X==4?null:f._5.$i(d,v,t),g,x,Z,Y)};
f._5.zo=function(d,v,t,h,X,g,x){var Z={classID:d,unitValueQuadVersion:{t:"long",v:1}};if(v)f._5.c0(Z,["Left","Top","Rght","Btom"],v);
if(t)f._5.c0(Z,["topLeft","topRight","bottomRight","bottomLeft"],t);if(d=="Ln"){Z.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[1]}}}},Z.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[3]}}}},Z.Wdth={t:"UntF",v:{type:"#Pxl",val:X}};
for(var n=0;n<2;n++){var Y=n==0?"StrA":"EndA";Z[Y]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:x[n]},Wdth:{t:"doub",v:x[2]},Lngt:{t:"doub",v:x[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:x[4]}}}}}}if(g)Z.Nm={t:"TEXT",v:g};
return{t:"Objc",v:Z}};f._5.aua=function(d,v){var t=f._5.PB(d),h=d[2]-d[0],X=d[3]-d[1],g=Math.sqrt(h*h+X*X),x=[0,0,g,0,g,v,0,v],Z=new gi;
Z.rotate(-t);Z.translate(d[0],d[1]);f.Q.M(x,Z,x);return x};f._5.cL=function(d,v,t,h,X,g){var x=f._5.sS(),Z=x.v,Y;
delete Z.keyShapeInvalidated;Z.keyOriginType={t:"long",v:d};Z.keyOriginResolution={t:"doub",v:75};if(d==4){Z.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[0]},Vrtc:{t:"doub",v:h[1]}}};
Z.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[2]},Vrtc:{t:"doub",v:h[3]}}};Y=f._5.aua(h,X);
var a=f.Q.mo(Y);v=[a.x,a.y,a.x+a.r,a.y+a.$];Z.keyOriginLineWeight={t:"doub",v:X};if(g)f._5.a9b(Z,g)}else Y=[v[0],v[1],v[2],v[1],v[2],v[3],v[0],v[3]];
Z.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};f._5.Pu(Z,"keyOriginBoxCorners",Y);var z={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
Z.keyOriginShapeBBox={t:"Objc",v:z};f._5.aqE(Z,v);if(t!=null){var p={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
Z.keyOriginRRectRadii={t:"Objc",v:p};f._5.gJ(Z,t)}return x};f._5.M=function(d,v,t,h){var X=f.G.apU(v),g=f.G.ahw(v),x=f.G.B0(v),Z=x.aX*x.r7-x.X*x.Wp;
for(var n=0;n<d.length;n++){var Y=d[n].v;if(!f._5.Ye(Y))continue;if(t.length!=0&&t.indexOf(n)==-1)continue;
var a=Y.keyOriginType.v,z=v;if(Z<0&&a==2){var p=f._5.nw(Y),U=0;U=p[0];p[0]=p[1];p[1]=U;U=p[2];p[2]=p[3];
p[3]=U;f._5.gJ(Y,p);var l=f._5._H(Y,"keyOriginBoxCorners"),L=f.Q.mo(l),j=L.x+L.r/2,O=new gi;O.translate(-j,0);
O.scale(-1,1);O.translate(j,0);z=f.G.Sn(z,f.G.KO(O))}var F=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var i=0;i<F.length;i++){var l=f._5._H(Y,F[i]);if(l==null)continue;f.G.M(z,l);f._5.Pu(Y,F[i],l);var L=f.Q.mo(l);
f._5.aqE(Y,[L.x,L.y,L.x+L.r,L.y+L.$]);var $=new gi;$.rotate(-f._5.PB(l));var H={classID:"Trnf"};Y.Trnf={t:"Objc",v:H};
var b="xx xy yx yy tx ty".split(" "),r=[$.aX,$.X,$.Wp,$.r7,$.r2,$.pE];for(var W=0;W<6;W++)H[b[W]]={t:"doub",v:r[W]}}if(a==2&&h){var p=f._5.nw(Y);
for(var i=0;i<4;i++)p[i]=Math.round(p[i]*v[0]);f._5.gJ(Y,p)}var l=f._5._H(Y,"keyOriginBoxCorners"),V=l[2]-l[0],y=l[3]-l[1],c=Math.sqrt(V*V+y*y);
V/=c;y/=c;var S=l[6]-l[0],C=l[7]-l[1],K=Math.sqrt(S*S+C*C);S/=K;C/=K;if(a==4){var T=x.Mk();Y.keyOriginLineWeight.v*=T;
var D=f._5.nr(Y);f.G.M(v,D);f._5.a5R(Y,D);var N=f._5.aNG(Y);N[2]*=T;N[3]*=T;f._5.a9b(Y,N)}var G=V*S+y*C;
if(Math.abs(G)>.001){f._5.j_(d,n)}}};f._5.Ye=function(d){var v=d.keyShapeInvalidated,t=d.keyOriginType;
return(v==null||!v.v)&&t!=null&&t.v!=9};f._5.apx=function(d){var v=d.keyOriginType.v,t=f._5.zy(d),h=t[0],X=t[1],g=t[2],x=t[3],Z=new gi,Y=d.keyOriginPolyCornerRadius,l;
Y=Y?Y.v:0;var a=f._5._H(d,v==7||v==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),z=f._5.bA(a),p=z[2],U=z[3];
h=-p/2;g=p/2;X=-U/2;x=U/2;Z.rotate(-f._5.PB(a));Z.r2=z[0];Z.pE=z[1];if(v==1||v==2){var L=v==1?0:f._5.nw(d);
l=f.t.I7.Rect(h,X,g-h,x-X,L)}else if(v==4){var j=f._5.nr(d),O=f._5.aNG(d);Z=new gi;if(O==null)l=f.t.I7.DY(j[0],j[1],j[2],j[3],d.keyOriginLineWeight.v);
else l=f.t.I7.rv(j[0],j[1],j[2],j[3],d.keyOriginLineWeight.v,O)}else if(v==5){l=f.t.I7.ZH(h,X,g-h,x-X)}else if(v==7||v==8){var F=v==7?3:d.keyOriginPolySides.v;
l=f.t.I7.af(0,0,100,Math.PI/F-Math.PI/2,F,Y,g,x)}f.t.kh(l,Z);return l};f._5.MG=function(d,v){var t=v.D;
for(var n=0;n<d.length;n++){var h=d[n].v;if(!f._5.Ye(h))continue;var X=f._5.apx(h),g=f.t.fn(t,n),x=f.t.WV(t,n);
X[2].qG=t[g].qG;var Z=t;t=t.slice(0,g);for(var Y=2;Y<X.length;Y++)t.push(X[Y]);for(var Y=g+x;Y<Z.length;
Y++)t.push(Z[Y])}v.D=t;v.vF=!0};f._5.ms=function(d){var v=1e9,t=-v,h=1e9,X=-h,g=[],x=d.V9(),Z=x[0],Y=x[1];
for(var a=0;a<Y.length;a++){var z=Z[Y[a]],p=z.add.vogk;if(p==null)continue;var U=z.add.vmsk.l;for(var l=0;
l<p.length;l++){if(Y.length==1&&U.length!=0&&U.indexOf(l)==-1)continue;var L=p[l].v,j=f._5.asW(L);if(j){g.push(j);
var O=j[1];v=Math.min(v,O[0]);h=Math.min(h,O[1]);t=Math.max(t,O[2]);X=Math.max(X,O[3])}}}return g.length==1?g[0]:[0,v<t?[v,h,t,X]:null,0]};
f._5.asW=function(d){if(!f._5.Ye(d))return;var v=d.keyOriginType.v,h=0;if(v==9)return;var t=f._5.zy(d),X=f._5._H(d,"keyOriginBoxCorners");
if(X){var g=f._5.bA(X),x=g[2],Z=g[3];t[2]=t[0]+x;t[3]=t[1]+Z;h=f._5.PB(X)}var Y=[v,t,h],a=d.keyOriginPolyCornerRadius;
if(v==2)Y.push(f._5.nw(d));if(v==7||v==8)Y.push(a?a.v:0);if(v==8)Y.push(d.keyOriginPolySides.v);return Y};
f._5.a2J=function(d,v,t){for(var n=0;n<d.length;n++){if(v.indexOf(n)==-1)continue;var h=d[n].v,X=f._5.asW(h);
if(X){var g=X[0],x=f._5._H(h,g==7||g==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Z=f._5.bA(x);
console.log(g);if(g==2){var Y=[],a=[];for(var z=0;z<4;z++){var p=X[2]+(z+.5)*Math.PI/2,U=Math.max(X[3][z]*Math.sqrt(2),20/t.OI),l=x[2*z]+Math.cos(p)*U,L=x[2*z+1]+Math.sin(p)*U;
a.push(l,L);Y.push(x[2*z],x[2*z+1])}return[n,a,Y,x,Z.slice(0,2)]}if(g==5){return[n,null,null,x,Z.slice(0,2)]}if(g==8){var p=X[2]-Math.PI/2,j=Z[3]*.5,U=j-Math.max(X[3],20/t.OI),O=Math.sin(p),F=Math.cos(p);
return[n,[Z[0]+F*U,Z[1]+O*U],[Z[0]+F*j,Z[1]+O*j],x,Z.slice(0,2)]}}}return null};f._5.PB=function(d){var v=d[2]-d[0],t=d[3]-d[1];
return-Math.atan2(-t,v)};f._5.aiJ=function(d){var v=f._5.zy(d);return f._5.PB(v)};f._5.ayu=function(d,v,t){var h=f._5.ms(d),X=-1;
for(var n=0;n<v.length;n++)if(JSON.stringify(v[n])!=JSON.stringify(h[n]))X=n;if(X==1||X==2){}var g=d.V9(),x=g[0],Z=g[1];
for(var Y=0;Y<Z.length;Y++){var a=x[Z[Y]],z=a.add.vogk;if(z==null)continue;var p=a.add.vmsk.l;for(var U=0;
U<z.length;U++){var l=z[U].v;if(!f._5.Ye(l))continue;if(Z.length==1&&p.length!=0&&p.indexOf(U)==-1)continue;
var L=l.keyOriginType.v;if(X==1||X==2){f._5.M(z,f._5.acm(X,l,h,v),p,!1);break}if(X==3)if(L==2)f._5.gJ(l,v[3]);
else l.keyOriginPolyCornerRadius={t:"doub",v:v[3]};if(X==4)l.keyOriginPolySides.v=v[4];if(t)f._5.j_(z,U)}}};
f._5.acm=function(d,v,t,h){var X=h[1],g=t[1],x=(X[2]-X[0])/(g[2]-g[0]),Z=(X[3]-X[1])/(g[3]-g[1]),Y=new gi;
if(d==1){if(Math.max(Math.abs(x-1),Math.abs(Z-1))>1e-8){var a=X[0],z=X[1];if(h[0]!=0){var p=f._5._H(v,"keyOriginBoxCorners");
a=p[0];z=p[1]}Y.translate(-a,-z);Y.rotate(h[2]);Y.scale(x,Z);Y.rotate(-h[2]);Y.translate(a,z)}else{Y.translate(-g[0],-g[1]);
Y.translate(X[0],X[1])}}else{if(h[0]!=0)X=f._5.zy(v);var a=(X[0]+X[2])/2,z=(X[1]+X[3])/2;Y.translate(-a,-z);
if(t[0]!=0)Y.rotate(t[2]);Y.rotate(-h[2]);Y.translate(a,z)}return f.G.KO(Y)};f._5.bA=function(d){var v=d[0],t=d[1],h=d[2],X=d[3],g=d[4],x=d[5],Z=d[6],Y=d[7],a=h-v,z=X-t,p=Math.sqrt(a*a+z*z),a=g-h,z=x-X,U=Math.sqrt(a*a+z*z);
return[(v+g)/2,(t+x)/2,p,U]};f._5._H=function(d,v){var t=d[v];if(t==null)return null;var h=[];t=t.v;
for(var X=0;X<4;X++){var g=t["rectangleCorner"+["A","B","C","D"][X]].v;h.push(g.Hrzn.v,g.Vrtc.v)}return h};
f._5.Pu=function(d,v,t){var h=d[v];if(h==null)return null;h=h.v;for(var X=0;X<4;X++){var g="rectangleCorner"+["A","B","C","D"][X];
h[g]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:t[2*X]},Vrtc:{t:"doub",v:t[2*X+1]}}}}};f._5.zy=function(d){return f._5.$i(d.keyOriginShapeBBox.v)};
f._5.$i=function(d,v,t){var h=d.classID,X=d.Left.v,g=d.Rght.v,x=d.Top.v,Z=d.Btom.v,Y=X.type;if(X.val!=null){X=X.val;
g=g.val;x=x.val;Z=Z.val}if(Y=="#Prc"&&v){X*=v/100;g*=v/100;x*=t/100;Z*=t/100}return[X,x,g,Z]};f._5.pT=function(d,v,t){var h=f._5.$i(d,v,t);
return new iW(h[0],h[1],h[2]-h[0],h[3]-h[1])};f._5.aqE=function(d,v){f._5.c0(d.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],v)};
f._5.nw=function(d){var v=d.keyOriginRRectRadii;if(v==null)return[0,0,0,0];return f._5.a52(v.v)};f._5.a52=function(d){var v=[],t=["topLeft","topRight","bottomRight","bottomLeft"];
for(var h=0;h<4;h++)v.push(d[t[h]].v.val);return v};f._5.gJ=function(d,v){f._5.c0(d.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],v)};
f._5.c0=function(d,v,t){var h=d.classID;if(h=="unitRect"||h=="radii"||h=="Rctn"){for(var n=0;n<4;n++)if(t[n]!=null)d[v[n]]={t:"UntF",v:{type:"#Pxl",val:t[n]}}}else{for(var n=0;
n<4;n++)if(t[n]!=null)d[v[n]]={t:"doub",v:t[n]}}};f._5.nr=function(d){var v=d.keyOriginLineStart.v,t=d.keyOriginLineEnd.v;
return[v.Hrzn.v,v.Vrtc.v,t.Hrzn.v,t.Vrtc.v]};f._5.a5R=function(d,v){var t=d.keyOriginLineStart.v,h=d.keyOriginLineEnd.v;
t.Hrzn.v=v[0];t.Vrtc.v=v[1];h.Hrzn.v=v[2];h.Vrtc.v=v[3]};f._5.aNG=function(d){var v=[],t=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var n=0;n<5;n++){var h=d["keyOriginLineArr"+t[n]];if(h==null)return null;v[n]=h.v}return v};f._5.a9b=function(d,v){d.keyOriginLineArrowSt={t:"bool",v:v[0]};
d.keyOriginLineArrowEnd={t:"bool",v:v[1]};d.keyOriginLineArrWdth={t:"doub",v:v[2]};d.keyOriginLineArrLngth={t:"doub",v:v[3]};
d.keyOriginLineArrConc={t:"long",v:v[4]}};f._5.ayv=function(d){function v(H,b){return Math.abs(H-b)<.5}function t(H,b){return v(H.x,b.x)&&v(H.y,b.y)}function h(H,b,r,W,V,y,c){for(var n=0;
n<c;n++){var S=H[b+(r+n)%c],C=W[V+(y+n)%c];if(!(t(S.Z,C.Z)&&t(S.dH,C.dH)&&t(S.KU,C.KU)))return!1}return!0}var X=[];
for(var g=0;g<d.length;g++){var x=d[g],Y=null;if(x.e!=0&&x.e!=3||x.qG==-1)continue;var Z=g;if(x.length==4||x.length==8){var a=f.t.ad3(d.slice(0,2).concat(d.slice(Z,Z+x.length+1)));
Z=2;if(x.length==4){var z=f.t.Le(a,Z+1,4),p=z.x,U=z.y,l=p+z.r,L=U+z.$;if(z.k()>4){if(f.t.QD(a.slice(Z-2,Z+5)))Y=f._5.cL(2,[p,U,l,L],[0,0,0,0]);
else{var j=-1;for(var n=0;n<4;n++)if(v(a[Z+1+n].Z.y,L))j=n;if(j!=-1){var O=f.t.I7.ZH(p,U,l-p,L-U),F=h(a,Z+1,j,O,3,0,4);
if(F)Y=f._5.cL(5,[p,U,l,L])}}}}if(x.length==8){var z=f.t.Le(a,Z+1,8),p=z.x,U=z.y,l=p+z.r,L=U+z.$;if(z.k()>4){var j=-1;
for(var n=0;n<8;n++)if(v(a[Z+1+(n+1&7)].Z.y,U)&&v(a[Z+1+(n+2&7)].Z.y,U))j=n;if(j!=-1){var i=Math.abs(a[Z+1+j].Z.y-U),$=[i,i,i,i];
if(i>.5){var O=f.t.I7.Rect(p,U,l-p,L-U,$),F=h(a,Z+1,j,O,3,0,8);if(F)Y=f._5.cL(2,[p,U,l,L],$)}}}}if(d[g+x.length+1]&&d[g+x.length+1].qG==-1)Y=0}X.push(Y?Y:f._5.sS())}return X};
f.Q={};f.Q.b=function(d){return{s2:d.s2.slice(0),I:d.I.slice(0)}};f.Q.al6=function(d){if(d.length<6)return!0;
var v=d.length-4;for(var n=0;n<v;n+=2)if(!f.Q._e(d[n],d[n+1],d[n+2],d[n+3],d[n+4],d[n+5]))return!1;if(!f.Q._e(d[v],d[v+1],d[v+2],d[v+3],d[0],d[1]))return!1;
if(!f.Q._e(d[v+2],d[v+3],d[0],d[1],d[2],d[3]))return!1;return!0};f.Q._e=function(d,v,t,h,X,g){return(v-h)*(X-t)+(t-d)*(g-h)>=0};
f.Q.a8C=function(d,v){function t(m,E,V){var r=E[0]-m[0],W=E[1]-m[1],e=f.Q.G_(V[0],V[1],-W,r,m[0],m[1],r,W);
return[V[0]-W*e,V[1]+r*e]}function h(m,E){var r=m[0]-E[0],W=m[1]-E[1];return Math.sqrt(r*r+W*W)}d=f.Q.aN8(d);
var X=[0,0,0,0],g=d.length,x=[0,0,0,0],Z=Math.PI/2,Y=Math.atan2(-1,0),l=1e9,L,j=0;function a(){for(var n=0;
n<4;n++){var F=X[n],i=(F+2)%g,m=d[i]-d[F],E=d[i+1]-d[F+1],e=Math.atan2(E,m),w=Y+n*Z;if(e<w)w-=2*Math.PI;
x[n]=e-w}}for(var n=0;n<g;n+=2){var z=d[n],p=d[n+1];if(z<d[X[0]])X[0]=n;if(p<d[X[1]+1])X[1]=n;if(z>d[X[2]])X[2]=n;
if(p>d[X[3]+1])X[3]=n}a();var U=f.Q.mo(d).k();while(j<g/2){var O=0;for(var n=0;n<4;n++)if(x[n]<x[O])O=n;
var F=X[O],i=(F+2)%g,$=X[O+2&3],H=X[O+3&3],b=X[O+1&3],z=d[F],r=d[i]-z,p=d[F+1],W=d[i+1]-p,V=d.slice(F,F+2),y=d.slice(i,i+2),c=d.slice($,$+2),S=d.slice(H,H+2),C=d.slice(b,b+2),K=t(V,y,c),T=t(S,[S[0]-W,S[1]+r],C),D=h(K,c),N=h(T,C);
if(N*D<l){l=N*D;var G=t(V,y,S);L=[G[0],G[1],r,W,N,D]}Y+=x[O];X[O]=i;a();j++}var z=L[0],p=L[1],r=L[2],W=L[3],N=L[4],D=L[5],s=Math.sqrt(r*r+W*W);
r/=s;W/=s;var Q=z+r*N,q=p+W*N,R=[z,p,Q,q,Q-W*D,q+r*D,z-W*D,p+r*D];while(R[0]>R[2]||Math.abs((R[3]-R[1])/(R[2]-R[0]))>1){R.push(R.shift(),R.shift())}return R};
f.Q.aN8=function(d){var v=0;for(var n=0;n<d.length;n+=2)if(d[n]<d[v])v=n;var t=[v];while(!0){var h=t[t.length-1],X=d[h],g=d[h+1],x=t.length==1?t[0]:t[t.length-2],Z=d[x],Y=d[x+1],U=0,l=1e9,L=0;
if(t.length==1)Y+=20;var a=Z-X,z=Y-g,p=Math.sqrt(a*a+z*z);a/=p;z/=p;for(var n=0;n<d.length;n+=2){if(n==x||n==h)continue;
var j=d[n],O=d[n+1],F=j-X,i=O-g,$=Math.sqrt(F*F+i*i);F/=$;i/=$;var H=a*F+z*i;if(H<l||H==l&&$>L){l=H;
U=n;L=$}}if(U==t[0])break;t.push(U)}var b=[];for(var n=0;n<t.length;n++)b.push(d[t[n]],d[t[n]+1]);return b};
f.Q.Tl=function(d){var v={},t=0,h={M:2,L:2,Q:4,C:6},X="",g="",x={I:[],s2:[]};for(var n=0;n<d.s2.length;
n++){var Z=d.s2[n];if(Z[0]=="#")X=Z;else if(Z[0]=="X"){var Y=X+g;if(v[Y]==null)v[Y]={I:[],s2:[]};f.Q.concat(v[Y],x);
X="";g="";x={I:[],s2:[]}}else if(Z[0]=="O"&&Z[1]=="-")g=Z;else if(Z=="OX"){if(g!="")g+="-1"}else{x.s2.push(Z);
var a=h[Z];if(a==null)a=0;for(var z=0;z<a;z++)x.I.push(d.I[t+z]);t+=a}}return v};f.Q.aaJ=function(d,v,t){var h=d[v]-d[t-2],X=d[v+1]-d[t-1];
return h*h+X*X<1e-4};f.Q.NR=function(d){var v=[],t=d.I,h=d.s2.length-1;for(var X=0;X<h;X++){var n=X*6,g=t[n+6]-t[n+0],x=t[n+7]-t[n+1],Z=Math.ceil(Math.sqrt(g*g+x*x));
for(var Y=0;Y<Z;Y++){var a=Y/Z,z=1-a,p=z*z*z*t[n+0]+3*z*z*a*t[n+2]+3*z*a*a*t[n+4]+a*a*a*t[n+6],U=z*z*z*t[n+1]+3*z*z*a*t[n+3]+3*z*a*a*t[n+5]+a*a*a*t[n+7];
v.push(p,U)}}return v};f.Q.Q$=function(d,v,t){d=f.Q.jo(d);var h=d.I,X=d.s2,g=0,x="",Z=0,Y=0,g=0,p=null;
for(var n=0;n<X.length;n++){var a=X[n];if(a=="M"){Z=h[g];Y=h[g+1];g+=2;x=a}if(a=="C"){if(x=="Z"){X.splice(n,0,"M");
h.splice(g,0,Z,Y);n--;continue}g+=6;x=a}if(a=="Z"){x=a}}var z=[];g=0;for(var n=0;n<X.length;n++){var a=X[n];
if(a=="M"){p={iu:g,dK:0,d3:!1};z.push(p);g+=2}if(a=="C"){p.dK++;g+=6}if(a=="Z"&&p!=null){p.d3=!0}}var U=[];
for(var n=0;n<z.length;n++)if(z[n].dK!=0)U.push(z[n]);z=U;for(var n=0;n<z.length;n++){var l=z[n],L=l.iu,j=L+2+l.dK*6,F=0;
l.l7=f.Q.mo(h,L,j);var O=f.Q.aaJ(h,L,j);for(var i=0;i<l.dK;i++){var $=L+i*6,H=$+6;F+=(h[H]-h[$])*(h[H+1]+h[$+1])}if(l.dK==2){var b=function(I,k,o){var af=1-o;
return af*af*af*I[k]+3*af*af*o*I[k+2]+3*af*o*o*I[k+4]+o*o*o*I[k+6]},r=h[L],W=h[L+1],V=h[L+6],y=h[L+7],c=h[L+6],S=h[L+7],C=b(h,L,.5),K=b(h,L+1,.5),T=b(h,L+6,.5),D=b(h,L+7,.5);
F=(C-r)*(K-W)+(V-C)*(y-K)+(T-V)*(D-y)+(c-T)*(S-D)}if(!O)F+=(h[L]-h[j-2])*(h[L+1]+h[j-1]);l.A7=F<=0}for(var n=0;
n<z.length-1;n++)for(var $=n+1;$<z.length;$++){var N=z[n],G=z[$];if(G.l7.GV(N.l7)){z[n]=G;z[$]=N}}var s=z.length==0?!0:z[0].A7,Q=[{e:6},{e:8,all:0}];
for(var n=0;n<z.length;n++){var l=z[n],L=l.iu,j=L+2+l.dK*6,O=f.Q.aaJ(h,L,j);if(l.dK==1)O=!1;var q=l.d3||O?0:3,R=l.A7==s&&!v?1:0;
if(!v&&n!=0){if(z[n-1].l7.GV(l.l7)&&z[n-1].A7!=l.A7)R=0;for(var $=0;$<z.length;$++)if($!=n&&z[$].l7.GV(l.l7))R=0}Q.push({e:q,length:l.dK+(O?0:1),qG:t?0:R,Dk:2});
for(var $=0;$<l.dK;$++){var g=L+$*6,m=new cK(h[g],h[g+1]),E=new cK(h[g+2],h[g+3]),e;if($==0){if(O){e=new cK(h[j-4],h[j-3]);
if(cK.A_(e,m)<1e-5)e=m.b()}else e=m.b()}else e=new cK(h[g-2],h[g-1]);Q.push({e:q+2,dH:e,Z:m,KU:E})}if(!O){var w=new cK(h[j-2],h[j-1]);
Q.push({e:q+2,dH:new cK(h[j-4],h[j-3]),Z:w,KU:w.b()})}}for(var $=0;$<Q.length;$++){var M=Q[$];if(M.e>5||M.e==0||M.e==3)continue;
var P=M.dH.fE(M.Z)||M.KU.fE(M.KU);if(!P){var N=M.dH.x*(M.Z.y-M.KU.y)+M.Z.x*(M.KU.y-M.dH.y)+M.KU.x*(M.dH.y-M.Z.y);
if(Math.abs(N)<1e-6)P=!0}if(P)M.e--}return Q};f.Q.YL=function(d,v){var t=f.t.HR(d),h=[];for(var n=2;
n<d.length;n++){var X=d[n].qG;if(X!=null){if(X==2||X==0||X==3||X==-1)h.push(X)}}var g=h.length!=0;if((g||v)&&1<t){console.log(g,v,t,"merge");
if(d.length<5e3&&t<30)d=f.t.T3(d);else alert("Too complex shapes, skipping the merging step.")}var x=f.Q.lR(d);
return{c2:x,rG:t==1?d[2].Dk==2?0:1:g?1:0}};f.Q.lR=function(){function d(h,X,g,x){if(x!=2&&h.KU.fE(h.Z)&&X.dH.fE(X.Z)){g.I.push(X.Z.x,X.Z.y);
g.s2.push("L")}else{var Z=h.Z,Y=h.KU,a=X.dH,z=X.Z,p=3/2*Y.x-1/2*Z.x,U=3/2*Y.y-1/2*Z.y,l=3/2*a.x-1/2*z.x,L=3/2*a.y-1/2*z.y,j=l-p,O=L-U;
if(x==0&&j*j+O*O<.001){g.I.push((p+l)*.5,(U+L)*.5,z.x,z.y);g.s2.push("Q")}else{g.I.push(Y.x,Y.y,a.x,a.y,z.x,z.y);
g.s2.push("C")}}}function v(h,X,n,g,x,Z){var Y=X[n];h.I.push(Y.Z.x,Y.Z.y);h.s2.push("M");for(var a=n;
a<n+g-1;a++)d(X[a],X[a+1],h,Z);if(!x)d(X[a],X[n],h,Z)}function t(h,X){if(X==null)X=0;var g={I:[],s2:[]};
for(var n=0;n<h.length;n++){if(h[n].e>5)continue;var x=h[n].length;if(x==0)continue;if(n==h.length-1)break;
var Z=h[n].e==3;v(g,h,n+1,x,Z,X);if(!Z)g.s2.push("Z");n+=x}return g}return t}();f.Q.a8j=function(d){var v=d.I,t=[],h,X=0;
for(var n=0;n<d.s2.length;n++){var g=d.s2[n];if(g=="C"){h.push(v[X++],v[X++],v[X++],v[X++],v[X++],v[X++])}else if(g=="Z"){}else{h=[];
if(g!="M"){h.push(g);n++}h.push(v[X++],v[X++]);t.push(h)}}return t};f.Q.kq=function(d,v,t,h,X){if(h==null)h=1e9;
if(X==null)X=-1;var g=1e9,x=0;for(var n=0;n<d.length;n+=2){if(n>>>1==X)continue;var Z=v-d[n],Y=t-d[n+1],a=Z*Z+Y*Y;
if(a<g){g=a;x=n>>>1}}return g<h*h?x:-1};f.Q.ajV=function(d,v,t,h){for(var n=0;n<d.length;n+=2){var X=d[n],g=d[n+1],x=v[n],Z=v[n+1];
t[n]=X+(x-X)*h;t[n+1]=g+(Z-g)*h}};f.Q.M=function(d,v,t){for(var n=0;n<d.length;n+=2){var h=d[n],X=d[n+1];
t[n]=h*v.aX+X*v.Wp+v.r2;t[n+1]=h*v.X+X*v.r7+v.pE}};f.Q.mo=function(d,v,t){if(v==null)v=0;if(t==null)t=d.length;
var h=99999999999,X=-h,g=99999999999,x=-g;for(var n=v;n<t;n+=2){var Z=d[n],Y=d[n+1];h=Math.min(h,Z);
g=Math.min(g,Y);X=Math.max(X,Z);x=Math.max(x,Y)}return new iW(h,g,X-h,x-g)};f.Q.aus=function(d,v){var t=Math.max(v.x,Math.min(v.x+v.r,d.x)),h=Math.max(v.y,Math.min(v.y+v.$,d.y)),X=d.x-t,g=d.y-h;
return Math.sqrt(X*X+g*g)};f.Q.kI=function(d,v){var t=Math.floor,h=Math.ceil;if(v){t=Math.ceil;h=Math.floor}var X=t(d.x),g=h(d.x+d.r),x=t(d.y),Z=h(d.y+d.$);
return new iW(X,x,g-X,Z-x)};f.Q.k2=function(d,v){var t=f.Q.mo(d);if(v)t.o2(-1e-9,-1e-9);return f.Q.kI(t)};
f.Q.Ya=function(d,v){var t=d.x,h=d.y,X=d.x+d.r,g=d.y+d.$,x=[t,h,X,h,X,g,t,g];if(v){var Z=v.b();Z.zJ();
f.Q.M(x,Z,x)}return{s2:["M","L","L","L","Z"],I:x}};f.Q.concat=function(d,v,t){if(t==null)t=new gi;for(var n=0;
n<v.I.length;n+=2){var h=v.I[n],X=v.I[n+1];d.I.push(h*t.aX+X*t.Wp+t.r2);d.I.push(h*t.X+X*t.r7+t.pE)}for(var n=0;
n<v.s2.length;n++)d.s2.push(v.s2[n])};f.Q.reverse=function(d){var v=d.s2.slice(1),t=v.pop();if(t!="Z")v.push(t);
v.reverse();v=["M"].concat(v);if(t=="Z")v.push("Z");var h=[],X=d.I.length;for(var g=0;g<X;g+=2){h[g]=d.I[X-2-g];
h[g+1]=d.I[X-2-g+1]}return{I:h,s2:v}};f.Q.ape=function(d,v,t,h,X){function g(U,l,L){return new cK(U.x*(1-L)+l.x*L,U.y*(1-L)+l.y*L)}var x=g(d,v,X),Z=g(t,h,X),Y=g(v,t,X),a=g(x,Y,X),z=g(Y,Z,X),p=g(a,z,X);
return[x,a,p,z,Z]};f.Q.jo=function(d){var v=d.I,t=[],h=[],X=0,g=0,x=0,Z=0,Y=0,a=0,z=0,p=0,U=0,l=0,L=0;
for(var n=0;n<d.s2.length;n++){var j=d.s2[n];if(j=="M"){g=v[X];x=v[X+1];X+=2;h.push(j);t.push(g,x);l=g;
L=x}else if(j=="C"){Z=v[X];Y=v[X+1];a=v[X+2];z=v[X+3];p=v[X+4];U=v[X+5];X+=6;h.push(j);t.push(Z,Y,a,z,p,U);
g=p;x=U}else if(j=="Q"){Z=v[X];Y=v[X+1];a=v[X+2];z=v[X+3];X+=4;var O=Z-g,F=Y-x,i=a-Z,$=z-Y;h.push("C");
t.push(g+2/3*O,x+2/3*F,Z+1/3*i,Y+1/3*$,a,z);g=a;x=z}else if(j=="L"){Z=v[X];Y=v[X+1];X+=2;if(Z!=g||Y!=x){h.push("C");
t.push(g,x,Z,Y,Z,Y);g=Z;x=Y}}else{if(j=="Z"){g=l;x=L}h.push(j)}}return{s2:h,I:t}};f.Q.awZ=function(d){var v=d.I,t=[],h=[],X=0;
for(var n=0;n<d.s2.length;n++){var g=d.s2[n];if(g=="Q"){var x=v[X-2],Z=v[X-1],Y=v[X],a=v[X+1],z=v[X+2],p=v[X+3];
X+=4;var U=Y-x,l=a-Z,L=z-Y,j=p-a;h.push("C");t.push(x+2/3*U,Z+2/3*l,Y+1/3*L,a+1/3*j,z,p)}else{var O=0;
if(g=="M"||g=="L")O=2;else if(g=="C")O=6;for(var F=0;F<O;F++)t.push(v[X+F]);X+=O;h.push(g)}}return{s2:h,I:t}};
f.Q.f5=function(d,v){var t=d.I,h=[],X=[],g=0,x=0,Z=0,Y=0,a=0,z=0,p=0,U=0,l=0;for(var n=0;n<d.s2.length;
n++){var L=d.s2[n];if(L=="M"){x=t[g];Z=t[g+1];g+=2;X.push(L);h.push(x,Z)}else if(L=="C"){Y=t[g];a=t[g+1];
z=t[g+2];p=t[g+3];U=t[g+4];l=t[g+5];g+=6;f.Q.vk(x,Z,Y,a,z,p,U,l,v,X,h,0);x=U;Z=l}else X.push(L)}return{s2:X,I:h}};
f.Q.vk=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U=Math.sqrt((x-d)*(x-d)+(Z-v)*(Z-v)),l=Math.sqrt((x-X)*(x-X)+(Z-g)*(Z-g))+Math.sqrt((X-t)*(X-t)+(g-h)*(g-h))+Math.sqrt((t-d)*(t-d)+(h-v)*(h-v)),L=(U+l)/2;
if(L<=Y){a.push("C");z.push(t,h,X,g,x,Z)}else{var j=0,O=0,F=0,i=0,$=0,H=0,b=0,r=0,W=0,V=0,y=0,c=0,S=0;
O=(d+t)/2;F=(v+h)/2;i=(t+X)/2;$=(h+g)/2;H=(X+x)/2;b=(g+Z)/2;r=(O+i)/2;W=(F+$)/2;V=(i+H)/2;y=($+b)/2;
c=(r+V)/2;S=(W+y)/2;f.Q.vk(d,v,O,F,r,W,c,S,Y,a,z,p+1);f.Q.vk(c,S,V,y,H,b,x,Z,Y,a,z,p+1)}};f.Q.et=function(d,v,t,h,X){var g=Date.now(),x=f.Q.awD(d,v,t);
if(X){console.log("trace polygons",Date.now()-g);g=Date.now()}var Z=[];for(var n=0;n<x.length;n++){var Y=x[n],a=Y[0],z=["M"],p=d[a[1]*v+a[0]];
if(a.length>8)a=f.Q.aKl(a,h,Y[1]);if(a.length<=4)continue;for(var U=2;U<a.length;U+=2)z.push("L");z.push("Z");
Z.push({path:{I:a,s2:z},color:p,parent:-1,l7:f.Q.mo(a)})}if(X){console.log("simplify polygons",Date.now()-g);
g=Date.now()}for(var n=1;n<Z.length;n++){var l=Z[n],L=l.path.I,j=L[0],O=L[1],F=L[2],i=L[3],$=F-j,H=i-O,b=j+.5*$-.001*H,r=O+.5*H+.001*$;
for(var U=n-1;U>=0;U--){var W=Z[U];if(!W.l7.GV(l.l7))continue;if(!bJ.PC(W.path.I,b,r))continue;l.parent=U;
break}}if(X){console.log("checking parents",Date.now()-g);g=Date.now()}return Z};f.Q.awD=function(d,v,t){var h=v*t,X=new Uint16Array(v*t),x=0;
for(var n=0;n<h;n++)X[n]=d[n];var g=new Uint8Array(v*t);g[1*v+1]=g[(t-1)*v+1]=g[1*v+v-1]=g[(t-1)*v+v-1]=1;
for(var Z=1;Z<t;Z++)for(var Y=1;Y<v;Y++){var n=Z*v+Y,a=X[n-v-1],z=X[n-v],p=X[n-1],U=X[n],l=a==U&&z==p&&a!=z,L=0;
if(U<p){x=U;U=p;p=x}if(p<z){x=p;p=z;z=x}if(z<a){x=z;z=a;a=x}if(U<p){x=U;U=p;p=x}if(p<z){x=p;p=z;z=x}if(U<p){x=U;
U=p;p=x}if(a!=z)L++;if(z!=p)L++;if(p!=U)L++;if(U!=a)L++;if(L>=3||l)g[n]=1}var j=[];for(var Z=1;Z<t;Z++)for(var Y=1;
Y<v;Y++){var n=Z*v+Y;if(X[n]!=X[n-1]){var O=f.Q.a7u(X,v,t,Y,Z),F=[];for(var i=0;i<O.length;i+=2)if(g[O[i+1]*v+O[i]]==1)F.push(i>>>1);
j.push([O,F]);f.Q.BQ(X,v,t,Y,Z)}}return j};f.Q.BQ=function(d,v,t,h,X){var g=[X*v+h],x=d[X*v+h];d[X*v+h]=65535;
while(g.length!=0){var n=g.pop();d[n]=0;if(d[n+v]==x){g.push(n+v);d[n+v]=65535}if(d[n-v]==x){g.push(n-v);
d[n-v]=65535}if(d[n-1]==x){g.push(n-1);d[n-1]=65535}if(d[n+1]==x){g.push(n+1);d[n+1]=65535}}};f.Q.a7u=function(d,v,t,h,X){var g=[0,-1,1,0,0,1,-1,0],z=1;
function x(U,l,z){var n=a*v+Y,L=0;if(z==0)L=n-v;else if(z==1)L=n;else if(z==2)L=n-1;else if(z==3)L=n-v-1;
return d[L]}var Z=[],Y=h,a=X,p=x(Y,a,z);do{Z.push(Y,a);Y+=g[z*2];a+=g[z*2+1];if(x(Y,a,z)!=p)z=z+1&3;
else if(x(Y,a,z+3&3)!=p)z=z;else if(x(Y,a,z+2&3)!=p)z=z+3&3}while(Y!=h||a!=X);return Z};f.Q.aKl=function(d,v,t){if(v==null||v==0)return d;
var h=d.length-2;if(t&&t.length!=0){var X=t[0]*2,g=t[t.length-1]*2,x=X==0?h:X-2,Z=d.slice(g);for(var n=0;
n<X;n++)Z.push(d[n]);if(X==g)Z.push(.9*d[X]+.1*d[x],.9*d[X+1]+.1*d[x+1]);else Z.push(d[X],d[X+1]);Z=f.Q.uu(Z,v);
Z.pop();Z.pop();for(var n=0;n<t.length-1;n++){var Y=d.slice(t[n]*2,t[n+1]*2+2);Y=f.Q.uu(Y,v);for(var z=0;
z<Y.length-2;z++)Z.push(Y[z])}return Z}var p=d.slice(0);p.push(.9*d[0]+.1*d[h],.9*d[1]+.1*d[h+1]);p=f.Q.uu(p,v);
p.pop();p.pop();return p};f.Q.uu=function(d,v){var t=d.length-2,h=d[0],X=d[1],g=d[t],x=d[t+1],Z=g-h,Y=x-X,a=1/Math.sqrt(Z*Z+Y*Y),z=g*X-x*h,p=-1,U=-1,l=0;
for(var n=2;n<t;n+=2){var L=d[n],j=d[n+1],O=j*j*1e6+L*L,F=Math.abs(Y*L-Z*j+z)*a;if(F>U||F==U&&O>l){U=F;
p=n;l=O}}if(U<v)return[h,X,g,x];var i=f.Q.uu(d.slice(0,p+2),v),$=f.Q.uu(d.slice(p),v);for(var n=2;n<$.length;
n++)i.push($[n]);return i};f.Q.ark=function(){var d=function(h,X,g,x,Z,Y){return(X-x)*(Z-g)+(g-h)*(Y-x)>=0},v=function(h,X,g,x,Z,Y,a,z){var p=a-g,U=z-x,l=Z-g,L=Y-x,j=h-g,O=X-x,F=p*p+U*U,i=p*l+U*L,$=p*j+U*O,H=l*l+L*L,b=l*j+L*O,r=1/(F*H-i*i),W=(H*$-i*b)*r,V=(F*b-i*$)*r;
return W>=0&&V>=0&&W+V<1},t=function(h){var bW=h.length>>>1,n=0;if(bW<3)return[];var X=[],g=[];for(var n=0;
n<bW;n++)g.push(n);var x=bW;while(x>3){var Z=g[(n+0)%x],Y=g[(n+1)%x],a=g[(n+2)%x],z=h[2*Z],p=h[2*Z+1],U=h[2*Y],l=h[2*Y+1],L=h[2*a],j=h[2*a+1],O=!1;
if(d(z,p,U,l,L,j)){O=!0;for(var F=0;F<x;F++){var i=g[F];if(i==Z||i==Y||i==a)continue;if(v(h[2*i],h[2*i+1],z,p,U,l,L,j)){O=!1;
break}}}if(O){X.push(Z,Y,a);g.splice((n+1)%x,1);x--;n=0}else if(n++>3*x)break}X.push(g[0],g[1],g[2]);
return X};return t}();f.Q.a13=function(d,v){var t={},h={s2:[],I:[]};for(var n=0;n<v.length;n+=3){var X=v[n]*2,g=v[n+1]*2,x=v[n+2]*2;
f.Q.ov(d,X,g,h,t);f.Q.ov(d,X,x,h,t);f.Q.ov(d,g,x,h,t)}return h};f.Q.ov=function(d,v,t,h,X){if(v>t){var g=t;
t=v;v=g}if(X[v+","+t])return;X[v+","+t]=!0;h.s2.push("M","L");h.I.push(d[v],d[v+1],d[t],d[t+1])};f.Q.asE=function(d,v){var t=[],h=d.length;
for(var n=0;n<h;n+=2){var X=d[n],g=d[n+1],x=d[(n+2)%h],Z=d[(n+3)%h];if(Z<g){var Y=g;g=Z;Z=Y}if(g<v&&v<Z){var a=(v-g)/(Z-g);
t.push(X+a*(x-X))}}t.sort(function(z,p){return z-p});return t};f.Q.agq=function(d,v,t,h,X,g,x){var Z=d-t,Y=v-h,a=X-t,z=g-h,p=1/Math.sqrt(Z*Z+Y*Y),U=1/Math.sqrt(a*a+z*z),l=Z*p,L=Y*p,j=a*U,O=z*U,F=L*x,i=-l*x,$=-O*x,H=j*x,b=f.Q.G_(F,i,l,L,$,H,j,O),r=F+l*b,W=i+L*b,b=f.Q.G_(0,0,l,L,r,W,-L,l),V=l*b,y=L*b;
return[Math.sqrt(V*V+y*y),l,L,j,O]};f.Q.ag2=function(d,v,t,h,X,g,x){var Z=f.Q.agq(d,v,t,h,X,g,x),Y=Z[0],a=Z[1],z=Z[2],p=Z[3],U=Z[4],l=Math.atan2(a*U-z*p,a*p+z*U);
if(l<0){l=l*-1}var L=Math.PI-l,j=4/3*Math.tan(L/4),O=t+Y*a,F=h+Y*z,i=t+Y*p,$=h+Y*U,H=O+j*x*-a,b=F+j*x*-z,r=i+j*x*-p,W=$+j*x*-U;
return[0,0,O,F,H,b,r,W,i,$]};f.Q.G_=function(d,v,t,h,X,g,x,Z){var Y=x*(v-g)-Z*(d-X),a=Z*t-x*h;if(a==0)return 0;
return Y/a};f.Q.A2=function(d,v,t,h,X,g){return d*(h-g)+t*(g-v)+X*(v-h)};f.Q.afn=function(d){function v(D,N,G,s,Q,q,R,m,E){var e=f.Q.G_(D,N,G,s,Q,q,R,m);
E.push(D+G*e,N+s*e)}var t=[],h=d.length,X=[];for(var n=0;n<h;n+=2){var g=n==0?h-2:n-2,x=n==h-2?0:n+2,Z=d[n],Y=d[n+1],a=Z-d[g],z=Y-d[g+1],p=d[x]-Z,U=d[x+1]-Y,l=Math.sqrt(a*a+z*z),L=Math.sqrt(p*p+U*U);
X.push(L);var j=l/(l+L),O=Z-a*.5,F=Y-z*.5,i=Z+p*.5,$=Y+U*.5,H=(d[x]+d[g])*.5,b=(d[x+1]+d[g+1])*.5,r=O+j*(i-O),W=F+j*($-F),V=Z-r,y=Y-W,c=(p*-a+U*-z)/(l*L),C=(j-.5)*7,K=1+C*j,T=1-C*(1-j);
t.push(O+V*K,F+y*K,i+V*T,$+y*T)}return t};f._L=function(){};f._L.oC=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=new Int32Array(Z),bW=0;
for(var n=0;n<Z;n++)if(v[n]!=0){Y[n]=bW;bW++}else if(d[(n<<2)+3]<200){Y[n]=-2}else Y[n]=-1;if(bW==0)return;
var a=new f.TD(bW,bW),z=new Array(3*bW),p=new Array(3*bW);for(var n=0;n<p.length;n++)p[n]=z[n]=0;var U=1/255,l=[-g,-1,1,g],L=[],j=[];
for(var O=0;O<x;O++)for(var F=0;F<g;F++){var i=O*g+F,$=i<<2,n=Y[i],H=n*3,b=0,r=0,W=0;if(n==-1||n==-2)continue;
for(var V=0;V<4;V++){if(V==2){r=W;L[W]=0;j[W]=n;W++}var y=i+l[V],c=y<<2,S=Y[y];if(V==0&&O==0||V==1&&F==0||V==2&&F==g-1||V==3&&O==x-1||S==-2)continue;
b++;if(S==-1){z[H+0]+=d[c+0];z[H+1]+=d[c+1];z[H+2]+=d[c+2]}else{L[W]=-1;j[W]=S;W++;if(v[i]==v[y]){z[H+0]+=d[$+0]-d[c+0];
z[H+1]+=d[$+1]-d[c+1];z[H+2]+=d[$+2]-d[c+2]}}}L[r]=b;a.M8(L,j,W)}for(var n=0;n<Z;n++)if(Y[n]!=-1){var C=n<<2,K=Y[n],T=K*3;
p[T]=d[C+0];p[T+1]=d[C+1];p[T+2]=d[C+2]}var D=Date.now();a.a33(p,z,h,X);console.log(Date.now()-D);for(var n=0;
n<Z;n++){var K=Y[n],N=K*3,C=n<<2;if(K==-1||d[C+3]!=255)continue;d[C+0]=~~(.5+Math.max(0,Math.min(255,p[N+0])));
d[C+1]=~~(.5+Math.max(0,Math.min(255,p[N+1])));d[C+2]=~~(.5+Math.max(0,Math.min(255,p[N+2])))}};f.S={};
f.S.a9I=function(d,v){var t=[d],h=[];for(var n=0;n<v.length;n++){var X=v[n],g=!1;for(var x=n+1;x<v.length;
x++){var Z=v[x];if(Z[0]<=X[0]&&Z[1]<=X[1]&&X[2]<=Z[2]&&X[3]<=Z[3]){g=!0;break}}if(!g)h.push(X)}v=h;for(var n=0;
n<v.length;n++){var X=v[n];for(var x=0;x<t.length;x++){var Z=t[x],Y=Math.max(X[0],Z[0]),a=Math.min(X[2],Z[2]),z=Math.max(X[1],Z[1]),p=Math.min(X[3],Z[3]);
if(Y<a&&z<p){var U=[];if(Z[1]<X[1]){var l=Z.slice(0);l[3]=X[1];U.push(l)}if(Z[0]<X[0]){var L=Z.slice(0);
L[1]=z;L[2]=X[0];U.push(L)}if(X[2]<Z[2]){var j=Z.slice(0);j[1]=z;j[0]=X[2];U.push(j)}if(X[3]<Z[3]){var O=[Y,p,a,Z[3]];
U.push(O)}if(U.length!=0){t[x]=U[0];for(var F=1;F<U.length;F++)t.push(U[F])}}}t.push(X);t=f.S.a5i(t)}t.sort(function(X,Z){return X[1]!=Z[1]?X[1]-Z[1]:X[0]-Z[0]});
for(var n=1;n<t.length;n++){var X=t[n-1],Z=t[n];if(X[0]==Z[0]&&X[1]==Z[1]&&X[2]==Z[2]&&X[3]==Z[3]){t.splice(X[4]==null?n-1:n,1);
n--}}return t};f.S.a5i=function(d){d=d.slice(0);for(var n=0;n<d.length;n++){var v=d[n],t=null;if(v[4]!=null)continue;
for(var h=0;h<d.length;h++){var X=d[h];if(n==h||X[4]!=null)continue;var g=v[0]==X[0],x=v[1]==X[1],Z=v[2]==X[2],Y=v[3]==X[3];
if(x&&Y&&(v[2]==X[0]||v[0]==X[2])){t=[Math.min(v[0],X[0]),v[1],Math.max(v[2],X[2]),v[3]]}if(g&&Z&&(v[3]==X[1]||v[1]==X[3])){t=[v[0],Math.min(v[1],X[1]),v[2],Math.max(v[3],X[3])]}if(t){d[n]=t;
d.splice(h,1);break}}if(t){n--}}return d};f.S.rJ=function(d){var v=new iW;for(var n=0;n<d.length;n++)v=v.Ue(d[n]);
return v};f.S.aBC=function(d,v){var t=f.S.rJ,h=new UnionFind(d.length),r=1e3,W=1e3;for(var n=0;n<d.length;
n++)for(var X=n+1;X<d.length;X++){if(!v)continue;var g=d[n],x=d[X],p=1e9,U=1e9;if(g.GD(x)){h.link(n,X);
continue}var Z=g.x+g.r,Y=g.y+g.$,a=x.x+x.r,z=x.y+x.$;if((Z<x.x||a<g.x)&&(Y<x.y||z<g.y))continue;if(!(Y<x.y||z<g.y))p=Math.min(Math.abs(Z-x.x),Math.abs(g.x-a));
if(!(Z<x.x||a<g.x))U=Math.min(Math.abs(Y-x.y),Math.abs(g.y-z));var l=Math.min(p,U),L=Math.min(g.r,g.$,x.r,x.$);
if(l<.3*L)h.link(n,X)}var j=[],O={};for(var n=0;n<d.length;n++){var F=h.find(n),i=d[n];if(O[F]==null){O[F]=j.length;
j.push([])}j[O[F]].push(i)}var $=[],H=[];for(var n=0;n<j.length;n++){$.push(t(j[n]));var b=t(j[n]);b.E1=n;
H.push(b)}H.sort(function(G,s){return Math.max(s.$,s.r)-Math.max(G.$,G.r)});var V=new NETXUS.RectanglePacker(r,W);
while(!0){var y=!1;V.reset(r,W);for(var n=0;n<H.length;n++){var c=V.findCoords(H[n].r,H[n].$);if(c){H[n].x=c.x;
H[n].y=c.y}else{r=Math.floor(r*1.1);W=Math.floor(W*1.1);y=!0;break}}if(y)continue;break}for(var n=0;
n<j.length;n++){var S=H[n],C=S.E1,K=$[C],T=j[C],D=S.x-K.x,N=S.y-K.y;for(var X=0;X<T.length;X++)T[X].offset(D,N)}};
f.S.auD=function(d){var v=[],t=[],h=function(b,r){return b-r};for(var n=0;n<d.length;n++){var X=d[n];
if(v.indexOf(X[0])==-1)v.push(X[0]);if(v.indexOf(X[2])==-1)v.push(X[2]);if(t.indexOf(X[1])==-1)t.push(X[1]);
if(t.indexOf(X[3])==-1)t.push(X[3])}v.sort(h);t.sort(h);v.push(v[v.length-1]+1);t.push(t[t.length-1]+1);
var g=[],x=v.length-1,Z=t.length-1;for(var Y=0;Y<Z;Y++){var a=[];g.push(a);for(var z=0;z<x;z++){var p=v[z],U=v[z+1],l=t[Y],L=t[Y+1],j=(p+U)/2,O=(l+L)/2,F=-1,i=-1;
for(var n=0;n<d.length;n++){var X=d[n];if(X[0]==p&&X[1]==l)F=n;if(X[0]<j&&j<X[2]&&X[1]<O&&O<X[3])i=n}if(F!=-1){var X=d[F],$=1,H=1;
while(v[z+$]<X[2])$++;while(t[Y+H]<X[3])H++;a.push([F,X[2]-X[0],X[3]-X[1],$,H])}else if(i!=-1)continue;
else a.push([-1,U-p,L-l,1,1])}}return[v.pop(),t.pop(),g]};f.S.ade=function(d,v,t,h){var X=f.S.auD(d),g=["<table id=\"Table_01\" width=\""+X[0]+"\" height=\""+X[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],x=X[2];
for(var n=0;n<x.length;n++){var Z=x[n];g.push("\t<tr>");for(var Y=0;Y<Z.length;Y++){var a=Z[Y],z=null,p="",U="",l=a[3],L=a[4],F="";
if(a[0]!=-1){var j=a[0],O=d[j];if(O.length==5){z=t[O[4]].v;p=z.url.v}U="src=\""+v[j]+"\"";if(O[4]==null&&h==2)U=""}if(l!=1)F+=" colspan=\""+l+"\"";
if(L!=1)F+=" rowspan=\""+L+"\"";g.push("\t\t<td"+F+">");if(p!="")g.push("\t\t\t<a href=\""+p+"\" target=\""+z.null.v+"\">");
g.push((p==""?"":"\t")+"\t\t\t<img "+U+" width=\""+a[1]+"\" height=\""+a[2]+"\" alt=\""+(z?z.altTag.v:"")+"\"></td>"+(p==""?"":"</a>"))}if(n==x.length-1){g.pop();
g.pop();g.push("\t\t<td></td>")}g.push("\t</tr>")}g.push("</table>");return g.join("\n")};f.rd=function(){};
f.rd.IK=Math.floor(16*window.devicePixelRatio);f.rd.cC={};f.rd.Kb=0;f.rd.a5=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
f.rd.XS=["px","in","cm","mm","%"];f.rd.LJ=function(d,v,t,h){var X=[1,v,v/2.54,v/25.4,t/100][h];return d*X};
f.rd.MA=function(d,v,t,h){var X=[1,v,v/2.54,v/25.4,t/100][h];return d/X};f.rd.Zm=function(d,v,t,h,X){var g=t.rp.iV,x=[1,v,v/2.54,v/25.4,h/100][g],Z=[2,3,2,1,2][g];
d=d/x;var Y=Math.round(d),a=g==0&&Math.abs(d-Y)<1e-6?Y+"":d.toFixed(Z);if(X)a+=" "+f.rd.XS[g];return a};
f.rd.afI=function(d,v,t,h){var X=t.rp.iV,g=[1,v,v/2.54,v/25.4,h/100][X];d=parseFloat(d)*g;return d};
f.rd.aD_=function(d,v){var t=d+","+v;if(f.rd.cC.clr==t)return;var h=Math.round(f.rd.IK*.5);f.rd.Kb=h;
var X=f.km(h,h);X.save();X.font=h*1.5+"px monospace";var g="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var n=0;
n<g.length;n++){X.fillStyle="#"+f.Uj(v);X.fillRect(0,0,h,h);X.fillStyle="#"+f.Uj(d);X.fillText(g[n],0,h);
f.rd.cC[g[n]]=new Uint8Array(X.getImageData(0,0,h,h).data.buffer)}f.rd.cC.clr=t;X.restore()};f.rd.aDl=function(d,v,t,h){var X=0,g=0,x=4*f.rd.IK;
for(var n=9;n>=0;n--){var Z=Math.pow(10,n);if(5*Z*d<=x){X=5*Z;g=10;break}if(2*Z*d<=x){X=2*Z;g=4;break}if(1*Z*d<=x){X=1*Z;
g=h;break}}if(X==0){X=1;g=h}var Y=Math.ceil(X*d),a=f.m(Y*f.rd.IK*4);f.pl(a,4278190080|t);for(var n=0;
n<f.rd.IK;n++)f.rd.tW(a,4*n*Y,v);for(var n=0;n<Y;n++)f.rd.tW(a,4*((f.rd.IK-1)*Y+n),v);if(X==2)g=2;if(X==5)g=5;
if(X>1||X==1&&Y>20)for(var n=1;n<g;n++)f.rd.aur(a,n*(Y/g),Y,(n&1)==1?.8:.7,v);return{MP:a,step:X}};f.rd.aur=function(d,v,t,h,X){var v=Math.round(v);
for(var g=Math.round(f.rd.IK*h);g<f.rd.IK-1;g++)f.rd.tW(d,4*(g*t+v),X)};f.rd.tW=function(d,v,t){d[v+0]=t>>16&255;
d[v+1]=t>>8&255;d[v+2]=t&255};f.rd.azO=function(d,v,t,h,X,g,x,Z){var Y=d.Yx.r,a=d.Yx.$,z=f.rd.IK,p=v&255,U=v>>8&255,l=v>>16&255;
v=Math.round(p*.6)<<16|Math.round(U*.6)<<8|Math.round(l*.6);f.rd.aD_(Math.round(p*.8)<<16|Math.round(U*.8)<<8|Math.round(l*.8),t);
var L=d.OI,j=d.h,F=d.r$;for(var i=0;i<2;i++){var $=i==0?g:x;d.OI=$[0];d.h=$[1];d.r$=0;var H=this.aDl(d.OI,v,t,Z),b=d.tw(0,0),r=d.tw(Y,a),W=Math.floor(b.x/H.step)*H.step,V=Math.ceil(r.x/H.step)*H.step,y=Math.floor(b.y/H.step)*H.step,c=Math.ceil(r.y/H.step)*H.step,S=d.X4(W,y),C=d.X4(V,y),K=H.step*d.OI,T=Math.ceil(K);
if(i==1){var D=H.MP;H.MP=f.m(D.length*4);f.G.zR(D,H.MP,T,z)}var N=i==0?d.bc.data:d.YE.data,G=new iW(0,0,[Y,z][i],[z,a][i]),s=new iW(0,0,[T,z][i],[z,T][i]),Q=new iW([0,Math.round(z*.2)][i],[Math.round(z*.08),0][i],f.rd.Kb,f.rd.Kb),q=(i==0?V-W:c-y)/H.step;
for(var n=0;n<q;n++){if(i==0)s.x=Math.round(S.x+n*K);else s.y=Math.round(S.y+n*K);f.wH(H.MP,s,N,G,s);
var R=(i==0?W+n*H.step:Math.abs(y+n*H.step)).toString(10);for(var m=0;m<R.length;m++){if(i==0)Q.x=s.x+3+m*Math.round(f.rd.Kb*.8);
else Q.y=s.y+3+m*Math.round(f.rd.Kb*1.15);var E=f.rd.cC[R[m]];f.wH(E,Q,N,G,Q)}}}d.OI=L;d.h=j;d.r$=F;
var e=Math.floor(z*.6),w=new Uint32Array(d.bc.data.buffer),M=new Uint32Array(d.YE.data.buffer),P=p<128?4278190080:4294967295;
if(0<h&&h<Y)for(var n=0;n<e;n++)w[n*Y+h]=P;if(0<X&&X<a)for(var n=0;n<e;n++)M[X*z+n]=P};f.scale={};f.scale.$D=document.createElement("canvas");
f.scale.fy=f.scale.$D.getContext("2d");f.scale.og=function(d,v,t){var h=f.scale.$D,X=f.scale.fy;h.width=v;
h.height=t;var g=new ImageData(new Uint8ClampedArray(d.buffer),v,t);X.putImageData(g,0,0);return X.createPattern(X.canvas,"repeat")};
f.scale.aMH=function(d,v,t,h,X,g,x,Z,Y){var a=f.scale.axu(d,t,h,X,g,x,Z,Y);if(v){v.set(f.OO(a,f.UJ(v)))}return new Uint8Array(a.buffer)};
f.scale.axu=function(d,v,t,h,X,g,x,Z){var Y=f.km(v,t);Y.save();Y.beginPath();Y.rect(0,0,v,t);Y.translate(g,x);
Y.scale(h,X);if(Z!=null)Y.rotate(-Z);Y.fillStyle=d;Y.fill();Y.restore();return new Uint8Array(Y.getImageData(0,0,v,t).data.buffer)};
f.scale.M=function(d,v,t,h,X){var g=f.UJ(d),x=t.X==0&&t.Wp==0,Z=X.r,Y=X.$,a=f.Q.Ya(v,t).I,z=f.Q.k2(a,x).hL(X),p=z.x,U=z.y,l=p+z.r,L=U+z.$,j=~~v.x,O=~~v.y,F=~~v.r,i=~~v.$;
if(t.aX*(l-1+.5)+t.r2-j>F)l--;if(x&&g==8)for(var $=U;$<L;$++){var H=t.r7*($+.5)+t.pE-O,b=~~H*F;for(var r=p;
r<l;r++){var W=t.aX*(r+.5)+t.r2-j,n=b+~~W;h[$*Z+r]=d[n]}}else if(x)for(var $=U;$<L;$++){var H=t.r7*($+.5)+t.pE-O,b=~~H*F;
for(var r=p;r<l;r++){var W=t.aX*(r+.5)+t.r2-j,n=b+~~W;if(g==8)h[$*Z+r]=d[n];else if(g==16)h[$*Z+r]=d[n]>>>8;
else h[$*Z+r]=d[n]*255}}else for(var $=U;$<L;$++)for(var r=p;r<l;r++){var V=r+.5,y=$+.5,W=t.aX*V+t.Wp*y+t.r2-j,H=t.X*V+t.r7*y+t.pE-O;
if(0<=W&&0<=H&&W<F&&H<i){var n=~~H*F+~~W;if(g==8)h[$*Z+r]=d[n];else if(g==16)h[$*Z+r]=d[n]>>>8;else h[$*Z+r]=d[n]*255}}};
f.scale._x=function(d,v,t,h,X,g){function x(q){return 255*q}var Z=f.UJ(d),Y=new Uint32Array(d.buffer),a=new Uint32Array(h.buffer),z=X.r,p=X.$,U=f.Q.Ya(v,t).I,l=g?X:f.Q.k2(U).hL(X),L=l.x,j=l.y,O=L+l.r,F=j+l.$,i=~~v.x,$=~~v.y,H=~~v.r,b=~~v.$;
t=t.b();t.translate(-i,-$);var r=t._V(new cK(1,0)).hP(t._V(new cK(0,0))),W=r.x,V=r.y;for(var y=j;y<F;
y++){var c=t._V(new cK(L+.5,y+.5)),S=c.x,C=c.y,K=(y-X.y)*z+L-X.x;for(var T=L;T<O;T++){if(g){S=((H<<10)+S)%H;
C=((b<<10)+C)%b}if(0<=S&&0<=C&&S<H&&C<b){if(Z==8)a[K]=Y[~~C*H+~~S];else{var D=(~~C*H+~~S)*4,N,G,s,Q;
if(Z==16){N=d[D]>>>8;G=d[D+1]>>>8;s=d[D+2]>>>8;Q=d[D+3]>>>8}else{N=x(d[D]);G=x(d[D+1]);s=x(d[D+2]);Q=x(d[D+3])}a[K]=Q<<24|s<<16|G<<8|N}}S+=W;
C+=V;K++}}};f.scale.kg=function(d,v,t,h,X,g,x){if(x<1)f.scale.aeQ(d,v,t,h,X,g,Math.round(1/x));else f.scale.aoH(d,v,t,h,X,g,x)};
f.scale.R_=function(d,v,t,h,X,g,x,Z){if(Z)Z=Z.hL(new iW(0,0,v,t));d=new Uint32Array(d.buffer);h=new Uint32Array(h.buffer);
if(x<1)f.scale.azP(d,v,t,h,X,g,Math.round(1/x),Z);else f.scale.aiC(d,v,t,h,X,g,x)};f.scale.aoH=function(d,v,t,h,X,g,x){for(var Z=0;
Z<t;Z++)for(var Y=0;Y<v;Y++){var a=d[Z*v+Y],z=Math.min(x,X-Y*x),p=Math.min(x,g-Z*x);for(var n=0;n<p;
n++)for(var U=0;U<z;U++)h[(x*Z+n)*X+x*Y+U]=a}};f.scale.aeQ=function(d,v,t,h,X,g,x){for(var Z=0;Z<g;Z++)for(var Y=0;
Y<X;Y++){var a=0,z=Math.min(x,v-Y*x),p=Math.min(x,t-Z*x);for(var n=0;n<p;n++)for(var U=0;U<z;U++)a+=d[(x*Z+n)*v+(x*Y+U)];
h[Z*X+Y]=Math.round(a/(z*p))}};f.scale.aiC=function(d,v,t,h,X,g,x){for(var Z=0;Z<t;Z++)for(var Y=0;Y<v;
Y++){var a=d[Z*v+Y],z=Math.min(x,X-Y*x),p=Math.min(x,g-Z*x);for(var n=0;n<p;n++)for(var U=0;U<z;U++)h[(x*Z+n)*X+x*Y+U]=a}};
f.scale.aDG=function(d,v,t){return(d>>>t&255)+(v>>>t&255)>>>1};f.scale.MT=function(d,v){var t=f.scale.aDG;
return t(d,v,24)<<24|t(d,v,16)<<16|t(d,v,8)<<8|t(d,v,0)};f.scale.agc=function(d,v,t,h,X,g){var x=f.UJ(d);
if(x==8){var Z=new Uint32Array(d.buffer),Y=new Uint32Array(h.buffer);for(var a=0;a<t;a++){for(var z=0;
z<v;z++){var p=a*v+z,U=Z[p],l=U,L=U,j=U;if(z<v-1)l=f.scale.MT(U,Z[p+1]);if(a<t-1)L=f.scale.MT(U,Z[p+v]);
if(z<v-1&&a<t-1)j=f.scale.MT(U,Z[p+v+1]);var O=(a*X+z)*2;Y[O]=U;Y[O+1]=l;Y[O+X]=L;Y[O+X+1]=j}}if((X&1)==1)for(var a=0;
a<g;a++)Y[a*X+X-1]=Y[a*X+X-2];var F=X*(g-1);if((g&1)==1)for(var z=0;z<X;z++)Y[F+z]=Y[F-X+z]}else{var i=f.scale.aBG,$=f.scale.adU;
for(var a=0;a<t;a++){for(var z=0;z<v;z++){var p=a*v+z,O=(a*X+z)*2;i(d,p,h,O);if(z<v-1)$(d,p,p+1,h,O+1);
else i(d,p,h,O+1);if(a<t-1)$(d,p,p+v,h,O+X);else i(d,p,h,O+X);if(z<v-1&&a<t-1)$(d,p,p+v+1,h,O+X+1);else i(d,p,h,O+X+1)}}if((X&1)==1)for(var a=0;
a<g;a++)i(h,a*X+X-2,h,a*X+X-1);var F=X*(g-1);if((g&1)==1)for(var z=0;z<X;z++)i(h,F-X+z,h,F+z)}};f.scale.aBG=function(d,v,t,h){var X=v<<2,g=h<<2;
t[g]=d[X];t[g+1]=d[X+1];t[g+2]=d[X+2];t[g+3]=d[X+3]};f.scale.adU=function(d,v,t,h,X){var g=v<<2,x=t<<2,Z=X<<2;
h[Z]=(d[g]+d[x])*.5;h[Z+1]=(d[g+1]+d[x+1])*.5;h[Z+2]=(d[g+2]+d[x+2])*.5;h[Z+3]=(d[g+3]+d[x+3])*.5};f.scale.azP=function(d,v,t,h,X,g,x,Z){var Y=0,a=X,z=0,p=g;
if(Z){Y=Math.floor(Z.x/x);a=Math.ceil((Z.x+Z.r)/x);z=Math.floor(Z.y/x);p=Math.ceil((Z.y+Z.$)/x)}for(var U=z;
U<p;U++)for(var l=Y;l<a;l++){var L=0,j=0,O=0,F=0,i=Math.min(x,v-l*x),$=Math.min(x,t-U*x);for(var n=0;
n<$;n++)for(var H=0;H<i;H++){var b=d[(x*U+n)*v+x*l+H],r=b>>>24;L+=r;j+=r*(b>>>16&255);O+=r*(b>>>8&255);
F+=r*(b&255)}if(L!=0){var W=1/L;h[U*X+l]=L/(i*$)<<24|j*W<<16|O*W<<8|F*W}else h[U*X+l]=0}};f.p=function(){function d(Z,Y,n){return(128&Z[n-Y-1]&Z[n-Y]&Z[n-2]&Z[n-1]&Z[n+1]&Z[n+Y-1]&Z[n+Y])==0}function v(Z,Y,n){return(128&Z[n-Y-Y]&Z[n-Y+1]&Z[n+2]&Z[n+Y+1]&Z[n+Y+Y])==0}function t(Z,Y,n){return(Z[n-Y]&Z[n-1]&Z[n+1]&Z[n+Y]&128)==0}function h(Z,n){return(Z[n]&128)!=0}function X(Z,Y,a,z){var n=0,p=a.r,U=a.$;
if(z)for(var l=0;l<U;l++)for(var L=0;L<p;L++){if(h(Z,n)&&(L<2||l<2||L>p-3||l>U-3||((Z[n-1]&128)==0||Y[n-1]!=0)&&d(Z,p,n)||v(Z,p,n)))Y[n]=255;
n++}else for(var l=0;l<U;l++)for(var L=0;L<p;L++){if(h(Z,n)&&(L==0||l==0||L==p-1||l==U-1||t(Z,p,n)))Y[n]=255;
n++}}function g(Z,Y,a,z,p){var U=a.r,l=a.$,L=new Uint8Array(Y.buffer),j=new Uint32Array(Y.buffer);if(p)for(var O=2;
O<l-2;O++)for(var F=2;F<U-2;F++){var n=O*U+F;if(h(Z,n)&&(((Z[n-1]&128)==0||j[n-1]!=0)&&d(Z,U,n)||v(Z,U,n)))j[n]=z[(F+O&4)>>>2]}else for(var O=1;
O<l-1;O++)for(var F=1;F<U-1;F++){var n=O*U+F;if(h(Z,n)&&t(Z,U,n)){j[n]=z[(F+O&4)>>>2]}}}function x(Z,Y,a,z,p){var U=a.r,l=a.$,L=p>>>16,j=p>>>8&255,O=p&255,n=0;
p=O<<16|j<<8|L;var F=new Uint8Array(Y.buffer),i=new Uint32Array(Y.buffer);if(z==1)for(var $=0;$<l;$++)for(var H=0;
H<U;H++,n++){var b=Z[n];i[n]=255-b>>>1<<24|p}else for(var $=0;$<l;$++)for(var H=0;H<U;H++,n++){var b=Z[n];
i[n]=255<<24|(b<<16|b<<8|b)}}return{aHe:X,ak_:g,ao5:x}}();f.wR={};f.wR.Ga=function(d,v,t){var h,X;if(t==0){h=d.S.b();
X=f.wR.aeA}if(t==1){h=d.S.Ue(v.S);X=f.wR.Ue}if(t==2){h=v.S.b();X=f.wR.a6i}if(t==3){h=d.S.hL(v.S);X=f.wR.hL}if(t==4){h=d.S.Ue(v.S);
X=f.wR.agQ}if(h.HP())return null;var g=f.UJ(d.N),x=f.m(h.k(),g);f.Qb(v.N,v.S,x,h);var Z=f.m(h.k(),g);
f.Qb(d.N,d.S,Z,h);X(Z,x,x);var Y=f.FY(x,h);if(Y.HP())return null;if(!Y.fE(h)){var a=f.m(Y.k(),g);f.Qb(x,h,a,Y);
x=a;h=Y}return{N:x,S:h}};f.wR.aeA=function(d,v,t){for(var n=0;n<d.length;n++)t[n]=d[n]};f.wR.Ue=function(d,v,t){var h=f.ay(f.UJ(d));
for(var n=0;n<d.length;n++)t[n]=Math.min(d[n]+v[n],h)};f.wR.a6i=function(d,v,t){for(var n=0;n<d.length;
n++)t[n]=Math.max(v[n]-d[n],0)};f.wR.hL=function(d,v,t){var h=f.ay(f.UJ(d)),X=1/h;for(var n=0;n<d.length;
n++)t[n]=d[n]*v[n]*X};f.wR.agQ=function(d,v,t){var h=f.ay(f.UJ(d)),X=1/h;for(var n=0;n<d.length;n++)t[n]=Math.min(d[n]+v[n],h)-d[n]*v[n]*X};
f.TD=function(d,v){this.Y=[];this.Qo=[0];this.EG=[];this.YH=[];this.m1=[0];this.uy=[];this.C8=[];this.rows=d;
this.cols=v};f.TD.prototype.b=function(){var d=this,v=d.rows,t=d.cols,h=new f.TD(v,t);h.Y=d.Y.slice(0);
h.Qo=d.Qo.slice(0);h.EG=d.EG.slice(0);h.YH=d.YH.slice(0);h.m1=d.m1.slice(0);h.uy=d.uy.slice(0);h.C8=d.C8.slice(0);
return h};f.TD.prototype.M8=function(d,v,t){var h=this.Qo.length-1;for(var n=0;n<t;n++){var X=d[n],g=v[n];
this.Y.push(X);this.EG.push(g);if(g==h){this.C8.push(X==0?0:1/X)}else{this.YH.push(X);this.uy.push(g)}}this.Qo.push(this.Y.length);
this.m1.push(this.YH.length)};f.TD.prototype.kE=function(d,v){var t=this,h=t.rows,X=t.Y,g=t.EG;if(v==null)v=new Array(h);
for(var n=0;n<h;n++){var x=t.Qo[n],Z=t.Qo[n+1],Y=0;while((Z-x&3)!=0){Y+=X[x]*d[g[x]];x++}for(var a=x;
a<Z;a+=4)Y+=X[a]*d[g[a]]+X[a+1]*d[g[a+1]]+X[a+2]*d[g[a+2]]+X[a+3]*d[g[a+3]];v[n]=Y}return v};f.TD.prototype.multiply=function(d){return this.lL(d.zR())};
f.TD.prototype.lL=function(d){var v=this,t=v.rows,h=v.cols,X=d.rows,g=new f.TD(t,X),x=v.EG,Z=d.EG;for(var n=0;
n<t;n++){var Y=[],a=[],z=v.Qo[n],p=v.Qo[n+1];for(var U=0;U<X;U++){var l=d.Qo[U],L=d.Qo[U+1],j=0,O=z,F=l;
while(O<p&&F<L){var i=Math.max(x[O],Z[F]);while(O<p&&x[O]<i)O++;while(F<L&&Z[F]<i)F++;if(O<p&&F<L&&x[O]==Z[F])j+=v.Y[O++]*d.Y[F++]}if(j!=0){Y.push(j);
a.push(U)}}g.M8(Y,a,Y.length)}return g};f.TD.prototype.zR=function(){var d=this.rows,v=this.cols,t=[];
for(var n=0;n<v;n++)t.push([[],[]]);var h=this.Y,X=this.Qo,g=this.EG;for(var n=0;n<d;n++){var x=X[n],Z=X[n+1];
for(var Y=x;Y<Z;Y++){var a=t[g[Y]];a[0].push(h[Y]);a[1].push(n)}}var z=new f.TD(v,d);for(var n=0;n<v;
n++)z.M8(t[n][0],t[n][1],t[n][1].length);return z};f.TD.prototype.aDz=function(){var d=this.rows,v=this.cols,t=new Array(d),h=this.Y,X=this.Qo,g=this.EG;
for(var n=0;n<d;n++){var x=t[n]=new Array(v);for(var Z=0;Z<v;Z++)x[Z]=0;var Y=X[n],a=X[n+1];for(var z=Y;
z<a;z++)x[g[z]]=h[z]}return t};f.TD.prototype.d8=function(d,v,t,h,X){function g(W,v,V,y){var c=W.length;
for(var n=0;n<c;n++)y[n]=W[n]-v[n]*V}function x(W,v,V,y){var c=W.length,S=0;while((c-S&3)!=0){y[S]=W[S]+v[S]*V;
S++}for(var n=S;n<c;n+=4){y[n]=W[n]+v[n]*V;y[n+1]=W[n+1]+v[n+1]*V;y[n+2]=W[n+2]+v[n+2]*V;y[n+3]=W[n+3]+v[n+3]*V}}function Z(W,v,V){var y=W.length;
for(var n=0;n<y;n++)V[n]=W[n]*v[n]}function Y(W,v){var V=W.length,y=0,c=0;while((V-y&3)!=0){c+=W[y]*v[y];
y++}for(var n=y;n<V;n+=4)c+=W[n]*v[n]+W[n+1]*v[n+1]+W[n+2]*v[n+2]+W[n+3]*v[n+3];return c}var a=h!=null?2:1,z=Date.now(),p=0,U=this,l=d.slice(0),L=d.slice(0);
U.kE(d,L);g(v,L,1,l);var j=this.C8;if(a==0){j=l.slice(0);j.fill(1)}var O=l.slice(0);Z(j,l,O);var F=O.slice(0),i=Y(l,O);
while(!0){U.kE(F,L);var $=i/Y(F,L);x(d,F,$,d);g(l,L,$,l);if((p&7)==0&&Math.sqrt(Y(l,l))<t)break;if(a<=1)Z(j,l,O);
else{var H=l.slice(0);h.aCJ(H,l);X.adR(O,H)}var b=Y(l,O),r=b/i;x(O,F,r,F);i=b;p++}};f.TD.prototype.ar5=function(d,v,t,h){var X=Date.now(),g=1.96,Z=0;
if(t==null)t=5e-6;if(h==null)h=1e9;var x=1-g,bW=this.rows,Y=this.YH,a=this.m1,z=this.uy,p=this.C8;while(!0){var U=0;
for(var n=0;n<bW;n++){var l=v[n],L=a[n],j=a[n+1];if(j-L==4)l-=Y[L]*d[z[L]]+Y[L+1]*d[z[L+1]]+Y[L+2]*d[z[L+2]]+Y[L+3]*d[z[L+3]];
else for(var O=L;O<j;O++)l-=Y[O]*d[z[O]];var F=d[n]*x+p[n]*l*g,i=F-d[n];U+=i*i;d[n]=F}if(U/bW<t||Date.now()>X+h)break}};
f.TD.prototype.a33=function(d,v,t,h){var X=Date.now(),g=1.96,Z=0;if(t==null)t=5e-5;if(h==null)h=1e9;
var x=1-g,bW=this.rows,Y=this.YH,a=this.m1,z=this.uy,p=this.C8;while(!0){var U=0;for(var n=0;n<bW;n++){var l=n*3,L=v[l],j=v[l+1],O=v[l+2],F=a[n],i=a[n+1];
for(var $=F;$<i;$++){var H=Y[$],b=z[$]*3;L-=H*d[b+0];j-=H*d[b+1];O-=H*d[b+2]}var r=p[n]*g,W=d[l+0]*x+L*r,V=d[l+1]*x+j*r,y=d[l+2]*x+O*r,c=W-d[l+0],S=V-d[l+1],C=y-d[l+2];
U+=.4*c*c+.5*S*S+.1*C*C;d[l+0]=W;d[l+1]=V;d[l+2]=y}if(U/bW<t||Date.now()>X+h)break}};f.kB={};f.kB.lY=function(d,v,t){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:d},Vrtc:{t:"doub",v:v},Cnty:{t:"bool",v:t}}}};
f.kB.M=function(d,v){for(var n=0;n<d.length;n++){var t=d[n].v,h=v._V(new cK(t.Hrzn.v,t.Vrtc.v));t.Hrzn.v=Math.round(h.x);
t.Vrtc.v=Math.round(h.y)}};f.kB.ac9=function(d,v,t){var bW=d.length-1,h=f.AC.v5(bW+1,bW+2);for(var n=1;
n<bW;n++){h[n][n-1]=1/(d[n]-d[n-1]);h[n][n]=2*(1/(d[n]-d[n-1])+1/(d[n+1]-d[n]));h[n][n+1]=1/(d[n+1]-d[n]);
h[n][bW+1]=3*((v[n]-v[n-1])/((d[n]-d[n-1])*(d[n]-d[n-1]))+(v[n+1]-v[n])/((d[n+1]-d[n])*(d[n+1]-d[n])))}h[0][0]=2/(d[1]-d[0]);
h[0][1]=1/(d[1]-d[0]);h[0][bW+1]=3*(v[1]-v[0])/((d[1]-d[0])*(d[1]-d[0]));h[bW][bW-1]=1/(d[bW]-d[bW-1]);
h[bW][bW]=2/(d[bW]-d[bW-1]);h[bW][bW+1]=3*(v[bW]-v[bW-1])/((d[bW]-d[bW-1])*(d[bW]-d[bW-1]));f.AC.Y5(h,t)};
f.kB.aAj=function(d,v,t,h){if(d<=v[0])return t[0];if(d>=v[v.length-1])return t[v.length-1];var n=1;while(v[n]<d)n++;
var X=v[n],g=v[n-1],x=t[n],Z=t[n-1],Y=(d-g)/(X-g),a=h[n-1]*(X-g)-(x-Z),z=-h[n]*(X-g)+(x-Z),p=(1-Y)*Z+Y*x+Y*(1-Y)*(a*(1-Y)+z*Y);
return p};f.kB.ayD=function(d,v,t,h){var X={Ru:[d[0]],qe:[v[0]],P3:[]};h[0]=X;for(var n=1;n<d.length-1;
n++){X.Ru.push(d[n]);X.qe.push(v[n]);if(t[n]==!1){f.kB.ac9(X.Ru,X.qe,X.P3);X={Ru:[d[n]],qe:[v[n]],P3:[]}}h[n]=X}X.Ru.push(d[n]);
X.qe.push(v[n]);f.kB.ac9(X.Ru,X.qe,X.P3);h[n]=X};f.kB.ayP=function(d,v,t,h){if(d<=v[0])return t[0];if(d>=v[v.length-1])return t[v.length-1];
var n=1;while(v[n]<d)n++;var X=h[n-1];return f.kB.aAj(d,X.Ru,X.qe,X.P3)};f.kB.a7B=function(d){var v={Ru:[],qe:[],aFk:[]};
for(var n=0;n<d.length;n++){v.Ru[n]=d[n].v.Hrzn.v;v.qe[n]=d[n].v.Vrtc.v;v.aFk[n]=d[n].v.Cnty?d[n].v.Cnty.v:!0}return v};
f.kB.hi=function(d,bW,v){var t=0,h=255;if(v){t=-1e9;h=1e9}var X=f.kB.a7B(d),g=[];f.kB.ayD(X.Ru,X.qe,X.aFk,g);
var x=new Float32Array(bW);for(var n=0;n<bW;n++)x[n]=1/255*Math.max(t,Math.min(h,f.kB.ayP(n*(255/(bW-1)),X.Ru,X.qe,g)));
return x};f.kB.aii=function(d,bW,v){var t=Math.round(d.length/20),h=bW-d.length,X=v?(d[t]-d[0])/t:0,g=v?d[0]-h*X:d[d.length-1],x=new Float32Array(bW);
x.set(d,v?h:0);for(var n=0;n<h;n++)x[n+(v?0:h)]=g+n*X;return x};f.kB.akp=function(d,bW,v,t){if(t==null)t=8;
var h=f.kB.hi(d,bW,!1),X;if(t==8){X=new Uint8Array(bW);for(var n=0;n<bW;n++)X[n]=~~(.5+255*h[n])}if(t==16){X=new Uint16Array(bW);
for(var n=0;n<bW;n++)X[n]=~~(.5+65535*h[n])}if(t==32)X=h;if(v&&X[0]!=0){var g=Math.ceil(bW/12);for(var n=0;
n<g;n++)X[n]*=n/g}return X};f.kB.aAK=function(d,v){var t=new Uint8Array(d.length);for(var n=0;n<d.length;
n++)t[n]=v[d[n]];return t};f.kB.aI5=function(d,v){var t=v.length,h=new Float32Array(t);for(var n=0;n<t;
n++)h[n]=v[~~(d[n]*(t-1))];return h};f.kB.tp=function(d,v,t){var h=document.createElement("canvas");
h.width=v;h.height=t;var X=h.getContext("2d"),g=f.kB.akp(d,256);X.scale(v/255,t/255);X.fillStyle="#fff";
X.fillRect(0,0,255,255);X.fillStyle="#333";X.beginPath();X.moveTo(0,255);for(var n=0;n<g.length;n++)X.lineTo(n,255-g[n]);
X.lineTo(255,255);X.closePath();X.fill();return h.toDataURL()};f.style={};f.style.stroke=function(d,v,t,h){var X=t.r,g=t.$,x=f.style.wW(d,X,g);
f.style.ey(v,t,x,t,h)};f.style.ey=function(d,v,t,h,X){var g=f.ay(f.UJ(d)),x=v.hL(h),Z=x.r,Y=x.$;X+=.5;
var a=x.x-v.x,z=x.y-v.y,p=v.r,U=x.x-h.x,l=x.y-h.y,L=h.r;for(var j=0;j<Y;j++){var O=(j+l)*L+U,F=(j+z)*p+a;
for(var i=0;i<Z;i++){var $=Math.max(0,Math.min(1,X-t[O+i]));d[F+i]=g==1?$:Math.round($*g)}}};f.style.aaK=function(d,v,t,h){for(var X=0;
X<t;X++)for(var g=0;g<v;g++){var x=X*v+g,Z=0,Y=0,a=d[x];if(g==0||X==0){Z=d[x+1]-a;Y=d[x+v]-a}else if(g==t-1||X==v-1){Z=a-d[x-1];
Y=a-d[x-v]}else{Z=d[x+1]-d[x-1];Y=d[x+v]-d[x-v]}if(Z!=0||Y!=0){var z=1/Math.sqrt(Z*Z+Y*Y);Z*=z;Y*=z}h[x+x]=Z;
h[x+x+1]=Y}};f.style.wW=function(d,v,t){d=f.OO(d,8);var h=v*t,X=new ArrayBuffer((h+v*4)*4),g=new Float32Array(X,0,h),x=new Uint16Array(X,0,h<<1),Z=new Int32Array(X,h*4,v),Y=new Int32Array(X,(h+v)*4,v),a=new Int32Array(X,(h+v*2)*4,v),z=new Int32Array(X,(h+v*3)*4,v),p=1/255;
for(let n=0;n<v;++n){let U=-t-v,l=0,L=n,j=0;for(;j<t;++j,L+=v){if(d[L]>128)U=j,l=d[L];x[L<<1]=j-U;x[(L<<1)+1]=l}U=x[L+=L-v-v],l=x[L+1];
for(;j>1;--j){if(x[L-=v+v]>U)x[L]=++U,x[L+1]=l;else U=x[L],l=x[L+1]}}for(let O=0;O<h;O+=v){var F=O+v,i=x[O<<1]*x[O<<1],$=0;
let H=Z[0]=O,b=Y[0]=O,r=i,W=r;for(let L=O+1;L<F;++L){var V=x[L<<1]*x[L<<1];while($&&W>(b-L)*(b-L)+V){b=Y[--$],H=Z[$],r=x[H<<1]*x[H<<1],W=(b-H)*(b-H)+r}if($||W<=(b-L)*(b-L)+V){var y=L-H,c=O+Math.floor((y*(L+H-O-O)+V-r)/(y<<1))+1;
if(c<F){b=Y[++$]=c,H=Z[$]=L,r=V,W=(b-H)*(b-H)+r}}else b=O,H=Z[0]=L,r=V,W=(b-H)*(b-H)+r}for(let n=0;n<$;
++n){var S=Z[n]<<1;a[n]=x[S]*x[S];z[n]=x[S+1]}let C=.5-x[(Z[$]<<1)+1]*p;for(let L=F-1;L>=O;--L){g[L]=Math.max(0,Math.sqrt((L-H)*(L-H)+r)+C);
if($&&L==b){b=Y[--$],H=Z[$],r=a[$],C=.5-z[$]*p}}}return g};f.style.a3C=function(d,v,t){var h=new Float64Array(v*t),X=0,g=v*t;
for(var n=0;n<g;n++)X|=d[n];if(X==0){h.fill(1e9);return}var x=f.style.$E(d,v,t);for(var Z=0;Z<t;Z++)for(var Y=0;
Y<v;Y++){var n=Z*v+Y,a=x[n*2],z=x[n*2+1];if(a==0&&z==0){h[n]=0;continue}var p=Math.sqrt(a*a+z*z),U=d[(Z+z)*v+Y+a]*(1/255);
h[n]=p+.5-U}return h};f.style.ad5=function(d,v,t){return(.5-t)*d};f.style.$E=function(d,v,t,h){var X=new Int16Array(v*t*2);
f.style.akR(d,X,v,t,128);return X};f.style.akR=function(d,v,t,h,X){var g=new Int32Array(t*h);f.style.au9(d,g,t,h,X);
f.style.afO(g,v,t,h)};f.style.au9=function(d,v,t,h,X){var g=new Int32Array(h);for(var x=0;x<t;x++){var Z=t+h;
for(var Y=h-1;Y>=0;Y--){if(d[Y*t+x]>X)Z=0;else Z++;g[Y]=Z}Z=t+h;for(var Y=0;Y<h;Y++){if(d[Y*t+x]>X)Z=0;
else Z++;v[Y*t+x]=Z<g[Y]?-Z:g[Y]}}};f.style.afO=function(d,v,t,h){var X=(t+h)*(t+h),g=new Float64Array(t),x=new Uint16Array(t);
for(var Z=0;Z<h;Z++){var Y=Z*t,a=0;x[0]=0;g[0]=-X;g[1]=+X;for(var z=1;z<t;z++){var p=d[z+Y]*d[z+Y]+z*z,U=(p-(d[x[a]+Y]*d[x[a]+Y]+x[a]*x[a]))/(2*z-2*x[a]);
while(U<=g[a]){a--;U=(p-(d[x[a]+Y]*d[x[a]+Y]+x[a]*x[a]))/(2*z-2*x[a])}a++;x[a]=z;g[a]=U;g[a+1]=X}a=0;
for(var z=0;z<t;z++){while(g[a+1]<z)a++;var l=x[a]-z,L=d[x[a]+Y],n=Z*t+z<<1;v[n]=l;v[n+1]=L}}};f.Kr={};
f.Kr.hf=function(d,v,t){var h=d.canvas;if(h.width!=v||h.height!=t){h.width=v;h.height=t}};f.Kr.zI=function(d,v,t,h,X,g){var x=f.UJ(X.N),Z=x==8?255:x==16?65535:1,Y=1/Z;
f.Kr.hf(d,v,t);if(g==null)g=!1;var a=X.N,z=X.S,p=!X.isEnabled;if(v*t==0)return;var U=new ImageData(v,t),l=U.data,L=1/v,j=1/t,O=X.color/255;
for(var n=0;n<t;n++)for(var F=0;F<v;F++){var i=(n*v+F)*4,$=Math.round(h.x+F*L*h.r),H=Math.round(h.y+n*j*h.$),b=0;
if($<z.x||$>=z.x+z.r||H<z.y||H>=z.y+z.$)b=O;else b=a[(H-z.y)*z.r+($-z.x)]*Y;b=255-X.wb+b*X.wb;if(g)b=170+Math.round(.4*(b-170));
l[i]=b;l[i+1]=b;l[i+2]=b;l[i+3]=255}d.putImageData(U,0,0);if(p)f.Kr.a3w(d,v,t)};f.Kr.aAs={};f.Kr.arU=function(d,v,t,h){var X,g,x;
X=Math.ceil(Math.max(v,t)*.35);g=v-X;x=t-X;var Z=h.generativeDocInfo,Y=X+"-"+(Z?1:0),a=f.Kr.aAs[Y];if(a==null){var z=f.km(X,X),p=Math.round(X*.27),U=z.lineWidth=Math.max(1,Math.round(X*.12)),l=U/2;
if(Z){z.fillStyle="black";z.fillRect(0,0,X,X);z.beginPath();for(var L=0;L<1;L++)for(var n=0;n<10;n++){var j=-Math.PI/2+n*2*Math.PI/10,O=((n&1)==0?1:.4)*X*.52,F=.5,i=.52;
F=X*F+Math.cos(j)*O;i=X*i+Math.sin(j)*O;if(n==0)z.moveTo(F,i);else z.lineTo(F,i)}z.closePath();z.fillStyle="white";
z.fill()}else{z.fillStyle="#eeeeee";z.fillRect(0,0,X,X);z.strokeRect(1+l,1+l,X-U-2,X-U-2);z.strokeRect(p+l,p+l,X-p-p-U,X-p-p-U)}a=f.Kr.aAs[Y]=z.getImageData(0,0,X,X)}d.putImageData(a,g,x)};
f.Kr.agV=[];f.Kr.akm=function(d,v,t){var h,X,g;h=Math.ceil(Math.max(v,t)*.35);X=v-h;g=t-h;var x=f.Kr.agV[h];
if(x==null){var Z=f.km(h,h);Z.fillStyle="#eeeeee";Z.fillRect(0,0,h,h);Z.lineWidth=1;Z.strokeRect(2.5,2.5,h-5,h-5);
var Y=new ImageData(3,3),a=Y.data;f.pl(a,4278190080);a[4*4]=a[4*4+1]=a[4*4+2]=238;Z.putImageData(Y,1,1);
Z.putImageData(Y,h-4,1);Z.putImageData(Y,1,h-4);Z.putImageData(Y,h-4,h-4);x=f.Kr.agV[h]=Z.getImageData(0,0,h,h)}d.putImageData(x,X,g)};
f.Kr.abu=function(d,v,t,h,X,g){f.Kr.hf(d,v,t);var x=v/h.r;if(v*t==0)return;d.fillStyle="#999999";d.setTransform(1,0,0,1,0,0);
d.clearRect(0,0,v,t);d.save();var Z=f.Kr.aHm;if(Z==null)Z=f.Kr.aHm=kV.UY.yu(!0,!0);Z.strokeStyleLineWidth.v.val=1/x;
d.fillStyle="#ffffff";d.scale(x,x);f.t.TB(X.D,d,0,0);f.t.TB(X.D,d,0,0,Z);d.restore();if(g){d.save();
var Y=v*.4,a=t*.4;d.fillRect(v-Y,t-a,Y,a);d.beginPath();d.moveTo(v-Y/2,t-a);d.lineTo(v-Y/2,t);d.setLineDash([3,3]);
d.stroke();d.restore()}};f.Kr.akF=function(d,v,t,h,X){f.Kr.hf(d,v,t);if(v*t==0)return;d.setTransform(1,0,0,1,0,0);
d.fillStyle="white";d.fillRect(0,0,v,t);var g=X.B,x;if(g.add.SoLd)x=A.hZ.Q9(g.add.SoLd.nonAffineTransform);
else if(g.add.vmsk)x=g.add.vmsk.Fy();else if(g.add.TySh){if(g.nG.PJ==null)return;x=f.Q.Ya(g.nG.PJ).I;
f.Q.M(x,g.add.TySh.M,x)}else return;var Z=f.Q.mo(x),Y=Math.min(v/Z.r,t/Z.$),a=Z.r*Y,z=Z.$*Y;d.translate(-Z.x*Y+(v-a)*.5,-Z.y*Y+(t-z)*.5);
d.scale(Y,Y);X.ZD(h,d,null,null)};f.Kr.aGK=null;f.Kr.rn=function(d,v,t,h,X,g,x,Z,Y){f.Kr.hf(d,v,t);if(v*t==0)return;
var a=Math.max(v,t),z=f.Kr.aGK;if(z==null||z.width<a||z.height<a){f.Kr.aGK=z=new ImageData(a,a)}a=z.width;
var p=z.data,U=h.r/v,l=h.$/t,L=g.x,j=g.x+g.r,O=g.y,F=g.y+g.$,i=f.UJ(X)-8;for(var n=0;n<t;n++)for(var $=0;
$<v;$++){var H=n*a+$,b=H*4,r=~~(h.x+$*U),W=~~(h.y+n*l),V=f.aK5(n,$,2);if(r<L||r>=j||W<O||W>=F||Y){p[b]=V;
p[b+1]=V;p[b+2]=V;p[b+3]=255}else{var y=(W-g.y)*g.r+(r-g.x)<<2;if(i!=24){var c=(X[y+3]>>>i)*(1/255);
p[b]=(X[y+0]>>>i)*c+V*(1-c);p[b+1]=(X[y+1]>>>i)*c+V*(1-c);p[b+2]=(X[y+2]>>>i)*c+V*(1-c)}else{var c=X[y+3];
p[b]=X[y+0]*c*255+V*(1-c);p[b+1]=X[y+1]*c*255+V*(1-c);p[b+2]=X[y+2]*c*255+V*(1-c)}p[b+3]=255}}if(Z!=null)for(var n=0;
n<p.length;n+=4)p[n]=p[n+1]=p[n+2]=p[n+Z];d.putImageData(z,0,0);if(x)f.Kr.a3w(d,v,t)};f.Kr.ac$=function(d,v,t,h){f.Kr.hf(d,v,t);
d.fillStyle=f.Kr.pq(h.Clr.v);d.fillRect(0,0,v,t);f.Kr.Lq(d,v,t)};f.Kr.yt=null;f.Kr.agh=function(d,v,t,h){f.Kr.hf(d,v,t);
var X=d.canvas.width,g=d.canvas.height,x=f.Kr.yt;if(x==null||x.width!=X||x.height!=g){d.fillStyle="#ffffff";
d.fillRect(0,0,v,t);d.fillStyle="#000000";d.font=""+t*.7+"px serif";d.fillText("T",(v-t*.43)/2,t*.75);
d.fillText("T",(v-t*.43)/2,t*.75);f.Kr.yt=d.getImageData(0,0,X,g)}else d.putImageData(x,0,0)};f.Kr.a11=function(d,v,t){f.Kr.hf(d,v,t);
d.clearRect(0,0,v,t);d.font=t*.7+"px serif";d.fillText(":(",(v-t*.43)/2,t*.7)};f.Kr.a2O=function(d,v,t,h){f.Kr.hf(d,v,t);
var X=cV.get(h),g=d.canvas.width,x=f.Kr.aHw[g+X];if(x==null){var Z=PIMG["adj/"+X],Y=b3.z3(Z),a=UPNG.decode(Y.buffer),z=new Uint8Array(UPNG.toRGBA8(a)[0]),p=new iW(0,0,160,160),U=0,l=g-U*2,L=A.hZ.Pr([z,p],new gi(l/160,0,0,l/160,0,0)),j=new iW(0,0,g,g),O=f.m(j.k()*4);
f.V.Qe("norm",L.buffer,L.S,O,j,L.S,1);x=f.Kr.aHw[g+X]=new ImageData(new Uint8ClampedArray(O.buffer),g,g)}d.putImageData(x,0,0)};
f.Kr.aHw={};f.Kr.aKO=function(d,v,t,h){f.Kr.hf(d,v,t);var X=d.canvas.width,g=d.canvas.height,x=d.getImageData(0,0,X,g);
f.iF.fo(h.Grad.v,new Uint8Array(x.data.buffer),new iW(0,0,X,g),[1/X,0,0,1/g],X/2,g/2,!1,0,16711680,65280);
d.putImageData(x,0,0);f.Kr.Lq(d,v,t)};f.Kr.a9t=function(d,v,t,h,X){f.Kr.hf(d,v,t);var g=d,x=lb.Jg(h.Ptrn.v,X.add.Patt);
if(x==null)return;var Z=x.kv[1];f.Kr.rn(d,v,t,Z,x.kv[0],Z,!1);f.Kr.Lq(g,v,t)};f.Kr.a3w=function(d,v,t){d.strokeStyle="#bb0000";
d.lineWidth=3;d.beginPath();d.moveTo(v*.15,t*.15);d.lineTo(v*.85,t*.85);d.moveTo(v*.85,t*.15);d.lineTo(v*.15,t*.85);
d.closePath();d.stroke()};f.Kr.Lq=function(d,v,t){d.fillStyle="#eeeeee";d.fillRect(0,t*.75,v,t*.25);
d.beginPath();d.moveTo(0,t*.75);d.lineTo(v,t*.75);d.moveTo(v*.1,t*.875);d.lineTo(v*.9,t*.875);d.moveTo(v*.65,t*.825);
d.lineTo(v*.65,t*.95);d.closePath();d.stroke()};f.Kr.pq=function(d){var v=f.iF.pq(d),t=Math.round(v.C)<<16|Math.round(v.L)<<8|Math.round(v.X);
return"#"+f.Uj(t)};f.t={};f.t.Bi=function(d,v,t){var h=[],X=-1;for(var n=0;n<d.length;n++){var g=d[n];
if((g.e==0||g.e==3)&&g.qG!=-1)X++;if(g.e>5||g.e==0||g.e==3)continue;if(v!=null&&v.indexOf(X)==-1)continue;
if(t!=null&&t.indexOf(n)==-1)continue;h.push(g.dH.x);h.push(g.dH.y);h.push(g.Z.x);h.push(g.Z.y);h.push(g.KU.x);
h.push(g.KU.y)}return h};f.t.pC=function(d,v,t,h){var X=0,g=-1;for(var n=0;n<v.length;n++){var x=v[n];
if((x.e==0||x.e==3)&&x.qG!=-1)g++;if(x.e>5||x.e==0||x.e==3)continue;if(t!=null&&t.indexOf(g)==-1)continue;
if(h!=null&&h.indexOf(n)==-1)continue;x.dH.QG(d[X],d[X+1]);x.Z.QG(d[X+2],d[X+3]);x.KU.QG(d[X+4],d[X+5]);
X+=6}};f.t.kh=function(d,v,t,h){var X=f.t.Bi(d,t,h);f.Q.M(X,v,X);f.t.pC(X,d,t,h)};f.t.a6K=function(d,v,t,h){var X=f.t.Bi(d,t,h);
f.G.M(v,X);f.t.pC(X,d,t,h)};f.t.a8$=function(d,v,t,h){if(h==null){var X=f.t.ak4(d,40,t);for(var n=0;
n<X.length;n++)d[n]=X[n]}var g=f.t.Bi(d,t,h);f.g_.M(v,g,f.Q.mo(g));f.t.pC(g,d,t,h)};f.t.ak4=function(d,v,t){var h=[],X=-1;
for(var n=0;n<d.length;n++){var g=d[n],x=g.length;if(g.e>5){h.push(f.v(g));continue}g=f.v(g);h.push(g);
if(g.qG!=-1)X++;if(t&&t.indexOf(X)==-1){h=h.concat(d.slice(n+1,n+1+x))}else{var Z=f.t.aE3(d,n+1,x);Z=f.Q.f5(Z,v);
var Y=f.t.aaa(Z);g.length=Y.length;for(var a=0;a<Y.length;a++)h.push(Y[a])}n+=x}return h};f.t.aE3=function(d,v,t){var h={s2:["M"],I:[]},X=d[v],g=d[v+t-1];
h.I.push(X.Z.x,X.Z.y);for(var n=1;n<t;n++){var x=d[v+n-1],Z=d[v+n];h.s2.push("C");h.I.push(x.KU.x,x.KU.y,Z.dH.x,Z.dH.y,Z.Z.x,Z.Z.y)}h.s2.push("C");
h.I.push(g.KU.x,g.KU.y,X.dH.x,X.dH.y,X.Z.x,X.Z.y);return h};f.t.aaa=function(d){var v=[],t=d.s2,h=d.I,X=0,bW=h.length;
v.push({e:2,dH:new cK(h[bW-4],h[bW-3]),Z:new cK(h[0],h[1]),KU:new cK(h[2],h[3])});for(var n=0;n<t.length-2;
n++){var g=n*6+4;v.push({e:2,dH:new cK(h[g],h[g+1]),Z:new cK(h[g+2],h[g+3]),KU:new cK(h[g+4],h[g+5])})}return v};
f.t.asM=function(d){for(var n=0;n<d.length;n++){if(d[n].e>5)continue;var v=d[n].length;if(!(v==4||v==6||v==8)){n+=v;
continue}for(var t=0;t<v;t++){var h=d[n+1+t],X=d[n+1+(t+1)%v],g=Math.min(h.Z.x,X.Z.x),x=Math.min(h.Z.y,X.Z.y),Z=0,Y=0;
if(h.Z.x<X.Z.x){Z=h.Z.y-x;Y=Z-(X.Z.x-g)}else{Z=X.Z.y-x;Y=Z-(h.Z.x-g)}if(Math.abs(Y)<.2*Z)return Z}}return-1};
f.t.ft=function(d,v,t){function h(U,l){var L=Math.min(U.x,l.x),j=Math.min(U.y,l.y),O=Math.max(U.x+U.r,l.x+l.r),F=Math.max(U.y+U.$,l.y+l.$);
return new iW(L,j,O-L,F-j)}var X=null,g=-1,x=!f.t.v3(d);for(var n=0;n<d.length;n++){var Z=d[n];if(Z.e>5)continue;
if((Z.e==0||Z.e==3)&&Z.qG!=-1)g++;if(v!=null&&v.indexOf(g)==-1)continue;if(n==d.length-1)break;var Y=Z.e==3,a=Z.length,z=Z.qG,p=f.t.Le(d,n+1,a,Y);
if(X==null)X=p;else if(t)X=h(X,p);else if(x){if(v!=null||z==0||z==-1||z==2)X=h(X,p);else if(z==1)X=X;
else if(z==3){X=p;x=!1}}else{if(v!=null||z==0||z==-1||z==1)X=h(X,p);else if(z==2)X=X;else if(z==3)X=X.hL(p)}n+=a}if(X==null||X.r<0||X.$<0)X=new iW(0,0,0,0);
return X};f.t.acR=new Float64Array(4);f.t.Le=function(d,n,v,t){var h=f.t.acR;h[0]=1e30;h[1]=1e30;h[2]=-1e30;
h[3]=-1e30;var X=d[n+v-1];if(!t)f.t.ahg(X.Z.x,X.Z.y,X.KU.x,X.KU.y,d[n].dH.x,d[n].dH.y,d[n].Z.x,d[n].Z.y,h);
for(var g=n;g<n+v-1;g++){var x=d[g],Z=d[g+1];f.t.ahg(x.Z.x,x.Z.y,x.KU.x,x.KU.y,Z.dH.x,Z.dH.y,Z.Z.x,Z.Z.y,h)}return new iW(h[0],h[1],h[2]-h[0],h[3]-h[1])};
f.t.ahg=function(d,v,t,h,X,g,x,Z,Y){if(d==t&&v==h&&X==x&&g==Z){Y[0]=Math.min(Y[0],Math.min(d,x));Y[1]=Math.min(Y[1],Math.min(v,Z));
Y[2]=Math.max(Y[2],Math.max(d,x));Y[3]=Math.max(Y[3],Math.max(v,Z));return}var a=d,z=v,p=d,U=v,l=40,L=1/(l-1);
for(var j=0;j<l;j++){var O=j*L,F=1-O,i=F*F*F,$=3*F*F*O,H=3*F*O*O,b=O*O*O,r=i*d+$*t+H*X+b*x,W=i*v+$*h+H*g+b*Z;
if(r<a)a=r;else if(r>p)p=r;if(W<z)z=W;else if(W>U)U=W}if(a<Y[0])Y[0]=a;if(z<Y[1])Y[1]=z;if(p>Y[2])Y[2]=p;
if(U>Y[3])Y[3]=U};f.t.aEc=function(d,v){var t=d.length-3,h=v%t,X=Math.floor(h);if(v<0||X>=t)return null;
var g=d[3+X],x=d[3+(X+1)%t],Z=g.Z,Y=g.KU,a=x.dH,z=x.Z,p=h-X,U=1-p,l=U*U*U*Z.x+3*U*U*p*Y.x+3*U*p*p*a.x+p*p*p*z.x,L=U*U*U*Z.y+3*U*U*p*Y.y+3*U*p*p*a.y+p*p*p*z.y;
return new cK(l,L)};f.t.lB=function(d,v){var t=f.Q.YL(d),h=t.c2;t.c2=Typr.U.pathToSVG({crds:h.I,cmds:h.s2},v==null?2:v);
return t};f.t.akc=function(d){var v=[],t=d.I,h=0,X=0,g=0,x=0,Z=0,Y=!0;for(var n=0;n<d.s2.length;n++){var a=d.s2[n];
if(a=="M"){if(!Y&&(X!=x||g!=Z))v.push(["L",[X,g],[x,Z]]);x=X=t[h];Z=g=t[h+1];h+=2;Y=!1}else if(a=="L"){v.push(["L",[X,g],[t[h],t[h+1]]]);
X=t[h];g=t[h+1];h+=2}else if(a=="Q"){v.push(["Q",[X,g],[t[h],t[h+1]],[t[h+2],t[h+3]]]);X=t[h+2];g=t[h+3];
h+=4}else if(a=="C"){v.push(["C",[X,g],[t[h],t[h+1]],[t[h+2],t[h+3]],[t[h+4],t[h+5]]]);X=t[h+4];g=t[h+5];
h+=6}else if(a=="Z"){}else throw a}if(!Y&&(X!=x||g!=Z))v.push(["L",[X,g],[x,Z]]);return v};f.t.T3=function(d){var v=Date.now(),t;
f.t.I9();var h=f.t.GQ(d),X=[];for(var n=0;n<h.length;n++){var g=h[n][0],x=h[n][1];if(Math.abs(g.area)<1e-5)X.push(g);
else if(t==null)t=g;else{if(!g.closed)g.closed=!0;t=t[x](g);t.remove()}}if(t==null)t=new paper.CompoundPath(X);
else{if(t.segments)t=new paper.CompoundPath(t);for(var n=0;n<X.length;n++){t.addChild(X[n])}}var Z=d.slice(0,2);
Z=Z.concat(f.t.U3(t));f.t.no(h);f.t.no([[t]]);if(Z[2])Z[2].qG=1;for(var n=3;n<Z.length;n++)if(Z[n].qG!=null)Z[n].qG=-1;
return Z};f.t.I9=function(){if(f.t.a0O==null){var d=document.createElement("canvas");paper.setup(d);
f.t.a0O=!0}};f.t.a5_=function(d,v){f.t.I9();var t=[],h=f.t.GQ(d),X=new paper.Path.Rectangle(new paper.Rectangle(v.x,v.y,v.r,v.$));
X.remove();X.fillColor=new paper.Color(1,0,0);for(var n=0;n<h.length;n++){if(X.intersects(h[n][0])||X.contains(h[n][0].children[0].segments[0].point))t.push(n)}f.t.no(h);
return t};f.t.x6=function(d,v,t,h,X){f.t.I9();var g=t?{curves:!0,tolerance:h}:null,x=new paper.Point(v.x,v.y),Z=f.t.GQ(d,X);
f.t.no(Z);for(var n=Z.length-1;n>=0;n--){var Y=Z[n][0],a=Y.hitTest(x,g);if(a!=null)return{ja:n,nL:t?a.location.index:null,l_:t?a.location.time:0}}return{ja:-1}};
f.t.vi=function(d,v,t,h){var X=[[],[],[]];for(var n=0;n<d.length;n++){var g=d[n];if(g.e>5||g.e==0||g.e==3)continue;
var x=v.QQ(g.Z),Z=v.QQ(g.dH),Y=v.QQ(g.KU);if(t&&t.indexOf(n)==-1){if(h){if(t.indexOf(n-1)==-1)Z=!1;if(t.indexOf(n+1)==-1)Y=!1}else Z=Y=!1}if(x)X[0].push(n);
if(Z)X[1].push(n);if(Y)X[2].push(n)}X[3]=X[0].length+X[1].length+X[2].length;return X};f.t.acw=function(d,v,t){var h=d[v];
for(var X=v+1;X<t;X++)d[X-1]=d[X];d[t-1]=h};f.t.aj5=function(d,v,t,h){var n,X,g,x=0;d=d.slice(0);v.sort(function(L,j){return L-j});
g=-1;for(n=2;n<d.length;){var Z=d[n],Y=Z.length;if(Z.qG!=-1)g++;var a=x;while(a<v.length&&v[a]<n+1+Y)a++;
if(x!=a){var z=v.slice(x,a);x=a;for(X=0;X<Y;X++)if(z.indexOf(n+1+X)!=-1)d[n+1+X]=null;if(Z.e==0){var p=z[0]-(n+1);
while(p!=0){f.t.acw(d,n+1,n+1+Y);p--}}var U=Z;U.length=0;X=0;while(X<Y&&d[n+1+X]==null)X++;while(X<Y){var l=d[n+1+X];
if(l!=null)U.length++;else if(X<Y+1&&d[n+1+X+1]&&h){U=d[n+1+X]={e:0,qG:-1,length:0,xu:0,L8:0,Dk:1}}X++}if(h)for(X=-1;
X<Y;X++)if(d[n+1+X]&&d[n+1+X].e<3)d[n+1+X].e+=3;f._5.j_(t,g)}n+=1+Y}for(n=0;n<d.length;n++)if(d[n]==null){d.splice(n,1);
n--}g=0;for(n=2;n<d.length;n++){var Z=d[n];if(Z.length==0){if(d[n+1]&&d[n+1].qG==-1)d[n+1].qG=Z.qG;else if(Z.qG!=-1)t.splice(g,1);
d.splice(n,1);n--}else if(Z.length!=null&&Z.qG!=-1)g++}return d};f.t.aic=function(d,v){for(var n=0;n<d.length;
n++){var t=d[n];if(t.e==0||t.e==3){t.qG=n==2||v?0:-1;t.Dk=v?1:2}}};f.t.aJR=function(d,v){var t=d.slice(0,2),h=-1;
for(var n=2;n<d.length;n++){if((d[n].e==0||d[n].e==3)&&d[n].qG!=-1)h++;if(v.indexOf(h)==-1)t.push(d[n])}return t};
f.t.aCO=function(d,v){var t=d.slice(0,2),h=-1;for(var n=2;n<d.length;n++){if((d[n].e==0||d[n].e==3)&&d[n].qG!=-1)h++;
if(v.indexOf(h)!=-1)t.push(d[n])}return t};f.t.aNH=function(d){var v=0;for(var n=0;n<d.length;n++)if(d[n].e==0||d[n].e==3)v=n;
return d[v]};f.t.HR=function(d,v){var t=-1;for(var n=0;n<d.length;n++)if((d[n].e==0||d[n].e==3)&&(v||d[n].qG!=-1))t++;
return t+1};f.t.fn=function(d,v,t){var h=-1;for(var n=0;n<d.length;n++)if((d[n].e==0||d[n].e==3)&&(t||d[n].qG!=-1)){h++;
if(h==v)return n}return-1};f.t.Rq=function(d,v,t){var h=-1;for(var n=0;n<d.length;n++)if((d[n].e==0||d[n].e==3)&&(t||d[n].qG!=-1)){if(n>=v)return h;
h++}return h};f.t.WV=function(d,v){var t=-1,h=0;for(var n=0;n<d.length;n++){if((d[n].e==0||d[n].e==3)&&d[n].qG!=-1)t++;
if(t==v)h++}return h};f.t.ayy=function(d){var v=180;for(var n=0;n<d.length;n++){if(d[n].e!=0&&d[n].e!=3)continue;
var t=d[n].length;if(t<3)continue;for(var h=0;h<t;h++){var X=d[n+1+(h-1+t)%t],g=d[n+1+h],x=d[n+1+(h+1)%t],Z=g.Z,Y=g.dH.fE(Z)?X.KU:g.dH,a=g.KU.fE(Z)?x.dH:g.KU;
if(Z.fE(Y)||Z.fE(a))continue;var z=Y.x-Z.x,p=Y.y-Z.y,U=a.x-Z.x,l=a.y-Z.y,Y=Math.atan2(Y.y-Z.y,Y.x-Z.x)*180/Math.PI,a=Math.atan2(a.y-Z.y,a.x-Z.x)*180/Math.PI,L=Math.abs(a-Y)%360,j=L>180?360-L:L;
if(j<v)v=j}}return v*Math.PI/180};f.t.U3=function(d){var v=d.segments?[d]:d.children,t=[];for(var n=0;
n<v.length;n++){var h=v[n],X=h.segments,g=h.closed?0:3,x=t.length,Z=null;if(X.length<=1)continue;t.push({e:g,length:X.length,qG:0,Dk:2});
for(var Y=0;Y<X.length;Y++){var a=X[Y],z=new cK(a.handleIn.x,a.handleIn.y),p=new cK(a.handleOut.x,a.handleOut.y),U=new cK(a.point.x,a.point.y),l={e:g+1,dH:U.add(z),Z:U,KU:U.add(p)};
if(Z==null)Z=l;t.push(l);if(Y+1==X.length&&cK.A_(Z.Z,l.Z)<1e-5){t.pop();t[x].length--;Z.dH=l.dH;if(g==3)for(var L=x;
L<t.length;L++)t[L].e-=3}}}return t};f.t.GQ=function(d,v){f.t.I9();var t=[],h,X=new paper.Color(1,0,0),g=1;
function x(O,a){O.remove();O.closed=!a;O.fillRule=g==2?"nonzero":"evenodd"}for(var n=0;n<d.length;n++){if(5<d[n].e)continue;
var Z=d[n].length,Y;if(n==d.length-1)break;var a=d[n].e==3;if(n==2){if(!f.t.Ft(d))Y="subtract";else Y="unite"}else{if(d[n].qG==0)Y="exclude";
if(d[n].qG==1)Y="unite";if(d[n].qG==2)Y="subtract";if(d[n].qG==3)Y="intersect"}if(v||d[n].qG!=-1){g=d[n].Dk;
h=new paper.CompoundPath;t.push([h,Y]);h.fillRule=g==2?"nonzero":"evenodd";h.fillColor=X}var z=[];for(var p=0;
p<Z;p++){var l=d[n+1+p],L=l.dH.hP(l.Z),j=l.KU.hP(l.Z);z.push([[l.Z.x,l.Z.y],[L.x,L.y],[j.x,j.y]])}var O=new paper.Path(z);
x(O,a);h.addChild(O);n+=Z}return t};f.t.no=function(d){for(var n=0;n<d.length;n++)d[n][0].remove()};
f.t.p8=function(d){for(var n=0;n<d.length;n++){var v=d[n];if(v.Z==null)continue;if(!v.Z.fE(v.dH)||!v.Z.fE(v.KU))return!1}return!0};
f.t.a8m=function(d){if(d.length<=5)return 0;var v=0,t=d.length-3-1;for(var n=0;n<t;n++){var h=d[3+n],X=d[3+n+1];
if(h.e==0||X.e==0)return 0;v+=(X.Z.x-h.Z.x)*(h.Z.y+X.Z.y)}v+=(d[3].Z.x-d[3+t].Z.x)*(d[3+t].Z.y+d[3+1].Z.y);
return-v*.5};f.t.v3=function(d){var v=d[2],t=!1;if(d.length==2)t=d[1].all==0;else if(d[1].all==1){if(v.qG==1||v.qG==3)t=!0;
else t=!1}else{if(v.qG==1||v.qG==3||v.qG==0)t=!0;else t=!1}return t};f.t.Ft=function(d){var v=f.t.v3(d);
for(var n=3;n<d.length;n++)if(d[n].qG==3)v=!0;return v};f.t.azT=0;f.t.aIx=0;f.t.aGG=0;f.t.a3t=function(d,v,t,h){if(t.HP())return;
var X=t.k(),F=16384;f.t.azT+=X;if(X>f.t.aIx){f.t.aIx=X}var g=t.r,x=t.$;if(h==null&&f.t.p8(d)&&d[2]&&d[2].qG!=2){var Z=!0;
for(var n=2;n<d.length;)if(d[n].length==2)n+=3;else{Z=!1;break}if(Z){return}if(f.t.QD(d)){v.fill(255);
var Y=f.t.ft(d);if(Y.k()!=X){var a=1-(Y.x-t.x),z=1-(Y.y-t.y),p=1-(t.x+t.r-(Y.x+Y.r)),U=1-(t.y+t.$-(Y.y+Y.$)),l=~~(a*255),L=~~(p*255),j=~~(z*255),O=~~(U*255);
v.fill(j,0,g);v[0]=~~(a*z*255);v[g-1]=~~(p*z*255);for(var n=g;n<X;n+=g){v[n]=l;v[n+g-1]=L}v.fill(O,(x-1)*g,x*g);
v[X-g]=~~(a*U*255);v[X-1]=~~(p*U*255)}return}}var i=Math.ceil(g/F),$=Math.ceil(x/F),H=Math.ceil(g/i),b=Math.ceil(x/$),r=Date.now();
for(var W=0;W<$;W++)for(var V=0;V<i;V++){var y=V*H,c=W*b,S=H,C=b,K=f.km(S,C);if(!f.t.v3(d))K.fillRect(0,0,S,C);
f.t.TB(d,K,-t.x-y,-t.y-c,h);var T=new Uint8Array(K.getImageData(0,0,S,C).data.buffer);if(S==g&&C==x)f.Po(T,v,3);
else f.h1(T,new iW(y,c,S,C),v,new iW(0,0,g,x))}};f.t.ay0=function(d){var v=!1,t=!1,h=0,X=!1;for(var n=0;
n<d.length;n++){var g=d[n].qG;if(g!=null){h++;if(g==-1)v=!0;if(g==1||g==2||g==3)t=!0;if(d[n].e==0)X=!0}}if(!v&&h<20&&X&&t)d=f.t.T3(d);
return d};f.t.TB=function(d,v,t,h,X,g){if(X!=null){d=f.t.ay0(d)}var x=1;for(var n=0;n<d.length;n++){if(5<d[n].e)continue;
var Z=d[n].length;if(Z==0)continue;if(n==d.length-1)break;var Y=d[n].e==3,a=d[n].qG;if(a!=-1){v.beginPath();
if(X)f.t.hd(kV.UY.ck(X),v);else{x=d[n].Dk;if(a==3&&n==2)a=1;var z=["xor","source-over","destination-out","source-in"][a];
v.globalCompositeOperation=z}}f.t.aIK(v,d,n+1,Z,t,h,Y);if(Y){}else v.closePath();if(d[n+1+Z]==null||d[n+1+Z].qG!=-1){if(X){if(g)v.clip();
v.stroke()}else v.fill(x==2?"nonzero":"evenodd")}n+=Z}v.globalCompositeOperation="source-over";v.setLineDash([])};
f.t.hd=function(d,v){var t=d.O8;v.setLineDash(d.gn);v.lineCap=["butt","round","square"][d.ln];v.lineJoin=["miter","round","bevel"][d.yQ];
v.lineWidth=d.Q0==1?t:t*2;v.miterLimit=d.Ek};f.t.aIK=function(d,v,n,t,h,X,g){var x=v[n],Z=null;d.moveTo(x.Z.x+h,x.Z.y+X);
for(var Y=n;Y<n+t-1;Y++){x=v[Y];Z=v[Y+1];if(x.Z.fE(x.KU)&&Z.dH.fE(Z.Z))d.lineTo(Z.Z.x+h,Z.Z.y+X);else d.bezierCurveTo(x.KU.x+h,x.KU.y+X,Z.dH.x+h,Z.dH.y+X,Z.Z.x+h,Z.Z.y+X)}if(!g){x=v[Y];
Z=v[n];if(x.Z.fE(x.KU)&&Z.dH.fE(Z.Z))d.lineTo(Z.Z.x+h,Z.Z.y+X);else d.bezierCurveTo(x.KU.x+h,x.KU.y+X,Z.dH.x+h,Z.dH.y+X,Z.Z.x+h,Z.Z.y+X)}};
f.t.ald=function(d,v){var t=[],h=v?4:1;for(var n=0;n<d.length;n+=2){var X=new cK(d[n],d[n+1]);t.push({e:h,dH:X.b(),Z:X.b(),KU:X.b()})}return t};
f.t.ave=function(d,v,t){var h=(1-(t!=null?t:25)*.01)*10;if(h>0){for(var n=0;n<v.length;n++){var X=v[n],g=f.t.fn(d,X),x=f.t.WV(d,X),Z=d.slice(g,g+x);
f.t.I9();var Y=new paper.Path;Y.remove();Y.closed=!0;for(var a=1;a<Z.length;a++)Y.add(new paper.Point(Z[a].Z.x,Z[a].Z.y));
var z=Y.simplify(h);if(z)d.splice(g,x,...f.t.U3(Y))}}return d};f.t.TN=function(d,v,t){var h=f.Q.mo(d),X=Math.sqrt(Math.sqrt(h.k()))*.2,g=.2;
d=d.slice(0);var x=d.length,Z=v?0:2;for(var Y=0;Y<5;Y++)for(var n=Z;n<d.length-Z;n+=2){var a=(n-2+x)%x,z=(n+2)%x,p=d[n],U=d[n+1],l=(d[a]+d[z])*.5,L=(d[a+1]+d[z+1])*.5;
d[n]=p+(l-p)*g;d[n+1]=U+(L-U)*g}if(t)return f.t.I7.Iu(d,null,!v);f.t.I9();var j=new paper.Path;j.remove();
j.closed=v;for(var n=0;n<d.length;n+=2)j.add(new paper.Point(d[n],d[n+1]));j.simplify(X);var O=[{e:6},{e:8,all:0}];
O=O.concat(f.t.U3(j));return O};f.t.Pi=function(d,v,t){var h=d[v].length,X=d[v].e,g=0,x=d.slice(v+1,v+1+h);
for(var n=0;n<h;n++){var Z=t[(n-1+h)%h],Y=t[(n+1+h)%h],a=t[n];if(a!=0){var z=x[(n-1+h)%h].Z,p=x[(n+0+h)%h].Z,U=x[(n+1+h)%h].Z,l=cK.A_(p,z),L=cK.A_(p,U),j=f.Q.agq(z.x,z.y,p.x,p.y,U.x,U.y,a)[0],O=Math.min(j,Z==0?l:l/2,Y==0?L:L/2);
a*=O/j;var F=f.Q.ag2(z.x,z.y,p.x,p.y,U.x,U.y,a),i={e:X+1,dH:new cK(F[2],F[3]),Z:new cK(F[2],F[3]),KU:new cK(F[4],F[5])},$={e:X+1,dH:new cK(F[6],F[7]),Z:new cK(F[8],F[9]),KU:new cK(F[8],F[9])};
d.splice(v+g+1,1,i,$);g++;d[v].length++}g++}};f.t.p8=function(d){for(var n=0;n<d.length;n++){var v=d[n],t=v.e;
if(t==1||t==2||t==4||t==5)if(!v.Z.fE(v.dH)||!v.Z.fE(v.KU))return!1}return!0};f.t.QD=function(d){if(d.length!=7||d[2].length!=4||!f.t.p8(d))return!1;
for(var n=0;n<4;n++){var v=!0;for(var t=0;t<4;t++){var h=d[3+(n+t&3)],X=d[3+(n+t+1&3)];if(h.Z.x!=X.Z.x&&h.Z.y!=X.Z.y)v=!1}if(v)return!0}return!1};
f.t.abH=function(d){if(d.length<6)return 0;var v=d.length-2,t=0;for(var n=0;n<v;n+=2)t+=(d[n+2]-d[n])*(d[n+1]+d[n+3]);
t+=(d[0]-d[v])*(d[v+1]+d[1]);return-t*.5};f.t.ad3=function(d){d=jn.rz.Pf(d);var v=f.t.HR(d);for(var t=0;
t<v;t++){var h=f.t.fn(d,t)+1,X=d[h-1].length,g=[];for(var n=0;n<X;n++){var x=d[h+n].Z;g.push(x.x,x.y)}var Z=f.t.abH(g);
if(Z<0)f.t.KW(d,h-1)}return d};f.t.KW=function(d,v){var t=v+1,h=d[v].length,X=[];for(var n=0;n<h;n++){var g=d[t+n],x=g.dH;
g.dH=g.KU;g.KU=x;X.push(g)}for(var n=0;n<h;n++)d[t+n]=X[h-1-n]};f.t.I7={};f.t.I7.Iu=function(d,v,t){var h=[{e:6},{e:8,all:0}],X=null;
h.push({e:t?3:0,qG:1,length:0,xu:0,L8:0,Dk:1});if(v==0||v==null)X=null;else if(v instanceof Array)X=v;
else{X=[];for(var n=0;n<d.length;n+=2)X.push(v)}h=h.concat(f.t.ald(d,t));h[2].length=h.length-3;if(X){f.t.Pi(h,2,X);
h.push(h[3]);h.splice(3,1)}return h};f.t.I7.aEM=function(d,v,t,h,X){var g=[],x=[],Z=.553,Y=1,a=-1;g.push({e:1,dH:new cK(0,Z),Z:new cK(0,0),KU:new cK(0,-Z)});
X+=2;for(var n=0;n<X;n++){var z={e:1};if(n==0){z.Z=new cK(1,-1);z.dH=new cK(1-Z,-1);z.KU=new cK(1+Z,-1)}else{var p=-(n+2)*Math.PI/2,U=1+((n&1)==1?n-1:n),l=Math.sin(p),L=Math.cos(p);
Y+=U*(l-L);a+=U*(L+l);z.Z=new cK(Y,a);z.dH=new cK(Y+U*L*Z,a-U*l*Z);if((n&1)==1)U+=2;z.KU=new cK(Y-U*L*Z,a+U*l*Z)}var j={e:1,dH:new cK(-z.KU.x,-z.KU.y),Z:new cK(-z.Z.x,-z.Z.y),KU:new cK(-z.dH.x,-z.dH.y)};
g.push(z);if(n<X-2)x.push(j)}x.reverse();g=g.concat(x);var O=[{e:6},{e:8,all:0}];O.push({e:0,qG:1,length:g.length,xu:0,L8:0,Dk:1});
O=O.concat(g);var F=new gi(t/X,0,0,t/X,0,0);F.rotate(h);F.translate(d,v);f.t.kh(O,F);return O};f.t.I7.Rect=function(d,v,t,h,X){var g=[d,v,d+t,v,d+t,v+h,d,v+h];
return f.t.I7.Iu(g,X)};f.t.I7.af=function(d,v,t,h,X,g,x,Z){var Y=[],a=2*Math.PI/X;for(var n=0;n<X;n++)Y.push(Math.cos(n*a-h),Math.sin(n*a-h));
if(x!=null){var z=f.Q.mo(Y),p=z.r,U=z.$,l=x/(p/2),L=Z/(U/2);for(var n=0;n<Y.length;n+=2){Y[n]=(Y[n]-(z.x+p/2))*l;
Y[n+1]=(Y[n+1]-(z.y+U/2))*L}t=1}var j=new gi(t,0,0,t,0,0);j.translate(d,v);f.Q.M(Y,j,Y);return f.t.I7.Iu(Y,g)};
f.t.I7.aBA=function(d,v,t,h,X,g,x){var Z=t-d,Y=h-v,a=(Z-x*(g+1))/g,z=(Y-x*(X+1))/X,p={s2:[],I:[]};function U(L,l,j,O){p.s2.push("M","L","L","L","Z");
p.I.push(L,l,L+j,l,L+j,l+O,L,l+O)}U(d,v,Z,Y);for(var l=0;l<X;l++)for(var L=0;L<g;L++)U(d+x+L*(a+x),v+x+l*(z+x),a,z);
return f.Q.Q$(p)};f.t.I7.WY=function(d,v,t,h,X,g,x){var Z=[],Y=Math.PI/X;for(var n=0;n<X*2;n++){var a=(n&1)==0?1:x;
Z.push(a*Math.cos(n*Y),a*Math.sin(n*Y))}var z=new gi(t,0,0,t,0,0);z.rotate(h);z.translate(d,v);f.Q.M(Z,z,Z);
return f.t.I7.Iu(Z,g)};f.t.I7.DY=function(d,v,t,h,X){return f.t.I7.il(0,d,v,t,h,X)};f.t.I7.aAX=function(d,v,t,h,X,g){return f.t.I7.il(1,d,v,t,h,X,g)};
f.t.I7.rv=function(d,v,t,h,X,g){return f.t.I7.il(2,d,v,t,h,X,g)};f.t.I7.il=function(d,v,t,h,X,g,x){var Z=Math.sqrt((h-v)*(h-v)+(X-t)*(X-t)),Y;
g/=2;if(d==0)Y=[-g,0,g,0,g,Z,-g,Z];if(d==1){var a=g*2*x*1.3/1.5,z=g*x;Y=[-g,0,g,0,g,Z-a,z,Z-a,0,Z,-z,Z-a,-g,Z-a]}if(d==2){var a=x[3],z=x[2]/2,p=a*(2/3)*x[4]/100,U=a-p,l=a;
Y=[];if(x[0])Y.push(-g,U,-z,l,0,0,z,l,g,U);else if(g==0)Y.push(0,0);else Y.push(-g,0,g,0);if(x[1])Y.push(g,Z-U,z,Z-l,0,Z,-z,Z-l,-g,Z-U);
else if(g==0)Y.push(0,Z);else Y.push(g,Z,-g,Z)}var L=new gi(1,0,0,1,0,0);L.rotate(Math.atan2(-X+t,h-v)+Math.PI/2);
L.translate(v,t);f.Q.M(Y,L,Y);return f.t.I7.Iu(Y,0)};f.t.I7.ZH=function(d,v,t,h){var X=[{e:6},{e:8,all:0}],p=.553;
X.push({e:0,qG:1,length:4,xu:0,L8:0,Dk:1});var g=d,x=v,Z=d+t,Y=v+h,d=(g+Z)/2,v=(x+Y)/2,a=(g-Z)/2,z=(x-Y)/2;
X.push({e:1,dH:new cK(d-p*a,v-z),Z:new cK(d,v-z),KU:new cK(d+p*a,v-z)});X.push({e:1,dH:new cK(d+a,v-p*z),Z:new cK(d+a,v),KU:new cK(d+a,v+p*z)});
X.push({e:1,dH:new cK(d+p*a,v+z),Z:new cK(d,v+z),KU:new cK(d-p*a,v+z)});X.push({e:1,dH:new cK(d-a,v+p*z),Z:new cK(d-a,v),KU:new cK(d-a,v-p*z)});
return X};f.t.I7.aGP=function(d,v,t,h,X){var g=[{e:6},{e:8,all:0}];g.push({e:3,qG:1,length:5,xu:0,L8:0,Dk:1});
var x=(X-h)/4;for(var n=0;n<5;n++){var Z=n*x,Y=Math.cos(Z),a=Math.sin(Z),z=.553*(x/(Math.PI/2)),p=a*z,U=-Y*z,l=new cK(Y,a);
g.push({e:4,dH:n==0?l.b():new cK(Y+p,a+U),Z:l,KU:n==4?l.b():new cK(Y-p,a-U)})}var L=new gi;L.rotate(-h);
L.scale(t,t);L.translate(d,v);f.t.kh(g,L);return g};f.kk={};f.kk.e={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
f.kk.aNM={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
f.kk.vs=function(d){var v=d.warpStyle.v.warpStyle;if(v=="warpNone")return!0;else if(v=="warpCylinder")return!1;
else if(v=="warpCustom"){var t=!1,h=f.kk.aI8(d);for(var n=0;n<4;n++)for(var X=0;X<4;X++){var g=h[n*2]-h[(X*4+n)*2],x=h[n*4*2+1]-h[(n*4+X)*2+1];
if(g*g>1||x*x>1)t=!0}return!t}else return d.warpValue.v==0&&d.warpPerspective.v==0&&d.warpPerspectiveOther.v==0};
f.kk.a3g=function(d){var v=f.v(d);v.v.classID="quiltWarp";v.v.deformNumRows={t:"long",v:4};v.v.deformNumCols={t:"long",v:4};
if(v.v.customEnvelopeWarp)f.kk.aLe(v.v,[[0,1],[0,1]]);return v};f.kk.aDJ=function(d){var v;if(f.kk.H9(d.v)==16)v=f.v(d);
else v={t:"Objc",v:f.kk.m(f.kk.pT(d.v))};v.v.classID="warp";delete v.v.deformNumRows;delete v.v.deformNumCols;
var t=v.v.customEnvelopeWarp;if(t){delete t.v.quiltSliceX;delete t.v.quiltSliceY}return v};f.kk.H9=function(d){return d.deformNumRows.v*d.deformNumCols.v};
f.kk.m=function(d){var v={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(d){v.classID="quiltWarp";v.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:d.y}},Left:{t:"UntF",v:{type:"#Pxl",val:d.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:d.y+d.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:d.x+d.r}}}};
v.uOrder={t:"long",v:4};v.vOrder={t:"long",v:4};v.deformNumRows={t:"long",v:4};v.deformNumCols={t:"long",v:4}}return v};
f.kk.asK=function(d,v,t){for(var n=0;n<d.length;n+=2){var h=d[n],X=d[n+1],g=(1-v)/2,x=1-g,Z=g+h*(x-g);
X=.5+(X-.5)*Z*2;var Y=(1-t)/2,a=1-Y,z=Y+X*(a-Y);h=.5+(h-.5)*z*2;d[n]=h;d[n+1]=X}};f.kk.uo=function(d,v){return{id:d,type:"UnFl",uID:"#Pxl",arr:v}};
f.kk.aLe=function(d,v){var t=f.kk.pT(d);function h(g,x){g=g.slice(0);var Z=g.length,n;for(n=0;n<Z;n++)g[n]*=x;
g[0]-=.6;g[Z-1]+=.6;return g}var X=d.customEnvelopeWarp.v;X.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[f.kk.uo("quiltSliceX",h(v[0],t.r))]}};
X.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[f.kk.uo("quiltSliceY",h(v[1],t.$))]}}};f.kk.a2I=function(d){var v=f.kk.pT(d);
function t(x,Z){x=x.slice(0);var g=x.length,n,Y=1e9,a=-Y;for(n=0;n<g;n++){if(x[n]<Y)Y=x[n];if(x[n]>a)a=x[n]}for(n=0;
n<g;n++)x[n]=(x[n]-Y)/(a-Y);x[0]=0;x[g-1]=1;return x}var h=d.customEnvelopeWarp.v,X=[],g=["X","Y"];for(var n=0;
n<2;n++)X.push(t(h["quiltSlice"+(n==0?"X":"Y")].v.arr[0].arr.slice(0),n==0?v.r:v.$));return X};f.kk.arn=function(d,v){var t=[],h=[];
for(var n=0;n<v.length;n+=2){t.push(v[n]);h.push(v[n+1])}d.customEnvelopeWarp.v.meshPoints.v.arr=[f.kk.uo("Hrzn",t),f.kk.uo("Vrtc",h)]};
f.kk.aI8=function(d){var v=[],t=d.customEnvelopeWarp.v.meshPoints.v.arr,h=t[0].arr,X=t[1].arr;for(var n=0;
n<h.length;n++)v.push(h[n],X[n]);return v};f.kk.kU=function(d,v){var t,h=d.warpStyle.v.warpStyle;if(h=="warpCustom")t=[d.deformNumCols.v,d.deformNumRows.v,f.kk.a2I(d),f.kk.aI8(d)];
else{if(v==null)v=f.kk.pT(d);if(v.HP())v.r=v.$=1;if(h=="warpCylinder"){var X=A.hZ.Q9(d.warpValues);t=f.kk.kk(h,X)}else{var g="warpPerspective";
t=f.kk.kk(h,d.warpValue.v/100,d.warpRotate.v.Ornt=="Hrzn",d[g].v/100,d[g+"Other"].v/100,v.r/v.$)}f.kk.ahs(t[3],v)}return t};
f.kk.ahs=function(d,v){for(var n=0;n<d.length;n+=2){d[n]=v.x+d[n]*v.r;d[n+1]=v.y+d[n+1]*v.$}};f.kk.at5=function(d){var v=Math.sin(d*Math.PI/2),t=Math.pow(d,1/3.5),h=(1-d)*v+d*t;
h=Math.pow(h,1.045);var X=.1725+.0573*h,g=1-(.96*v+.04*t);g=Math.pow(g,1.27);var x=1/129+(.167684-1/129)*g;
return[X,x]};f.kk.Eu=function(d,v){d.warpStyle.v.warpStyle="warpCustom";d.deformNumCols.v=v[0];d.deformNumRows.v=v[1];
var t="customEnvelopeWarp";if(d[t]==null)d[t]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
f.kk.aLe(d,v[2]);f.kk.arn(d,v[3])};f.kk.pT=function(d){var v=d.bounds.v,t=v.Left.v.val,h=v.Rght.v.val,X=v.Top.v.val,g=v.Btom.v.val;
if(t==null){t=v.Left.v,h=v.Rght.v;X=v.Top.v,g=v.Btom.v}return new iW(t,X,h-t,g-X)};f.kk.kk=function(d,v,t,h,X,g){if(d=="warpCylinder"){var x=v,Z=x[0],Y=x[1],a=x[2],z=x[3],p=x[4],U=x[5],l=x[6],L=[];
for(var j=0;j<4;j++)for(var O=0;O<13;O++)L.push(O/12,j/3);var F=a-Z,i=Y-z,$=p*.5*(F/i),H=U*.5*(F/i),b=f.kk.at5(l),r=[0,0,0,0,0,b[0],.5],W=[0,0,0,0,$*.42,$,$],V=[0,0,0,0,H*.42,H,H];
for(var j=0;j<4;j++)for(var O=0;O<7;O++){var n=j*13+O;L[n*2]=r[O];var y=W[O],c=1+V[O],S=j/3;L[n*2+1]=y*(1-S)+c*S}for(var j=0;
j<4;j++)for(var O=0;O<6;O++){var n=j*13+O,C=j*13+12-O;L[C*2]=1-L[n*2];L[C*2+1]=L[n*2+1]}var S=b[1];return[13,4,[[0,S,.5,1-S,1],[0,1]],L]}var K=f.g_.m(0,0,1,1);
if(d!="warpNone"){if(!t)g=1/g;f.kk.adP(K,d,v,h,X,g);var T=K.slice(0);if(!t)for(var j=0;j<4;j++)for(var O=0;
O<4;O++){K[(j*4+O)*2]=T[(O*4+j)*2+1];K[(j*4+O)*2+1]=T[(O*4+j)*2]}if(v==0)f.kk.asK(K,h,X);else{var D=new gi;
D.translate(-.5,-.5);f.Q.M(K,D,K);f.kk.aBI(K,X,h);D.zJ();f.Q.M(K,D,K)}}return[4,4,[[0,1],[0,1]],K]};
f.kk.adP=function(d,v,t,h,X,g){var x=new iW(0,0,g,1);for(var n=0;n<d.length;n+=2)d[n]*=g;for(var n=0;
n<4;n++){for(var Z=0;Z<4;Z++){var Y=2*(4*n+Z),a=d[Y]-x.x,z=d[Y+1]-x.y,p=a,U=z;if(t!=0){var l=x.r/2,L=x.$/2;
p-=l;U-=L;var j=p,O=p,F=-L,i=L,$=Math.abs(t),H=Math.tan((1-$)*Math.PI/2),b=Math.sqrt(H*H+1),r=Math.atan2(1,H),W=p/l*r,V=l*b,y=l*b+x.$,c=Math.cos(r),S=Math.sin(r),C=f.kk.acL(c,S),K=f.kk.avo(c,S),T=-H*l+C*V;
if(v=="warpArc"){j=Math.sin(W)*y;F=H*l-Math.cos(r)*y+L;O=Math.sin(W)*V;i=H*l-Math.cos(r)*V+L;if(Z==1||Z==2){j=Z==1?-K*y:K*y;
O=Z==1?-K*V:K*V;F=H*l+L-C*y;i=H*l+L-C*V}if(t<0){var D=j;j=O;O=D;D=F;F=-i;i=-D}}if(v=="warpArcLower"){if(Z==1||Z==2){O=Z==1?-K*V:K*V;
i=t<0?L-T:L+T}}if(v=="warpArcUpper"||v=="warpArch"||v=="warpBulge"){if(Z==1||Z==2){j=Z==1?-K*V:K*V;F=t<0?-L+T:-L-T}if(v=="warpArch"){O=j;
i=F+2*L}if(v=="warpBulge"){O=j;i=-F}}if(v=="warpFish"||v=="warpFlag"||v=="warpWave"){var N=Z;if(v=="warpFlag")N=3-Z;
if(N==1){F-=t*4*L;i+=t*4*L}if(N==2){F+=t*4*L;i-=t*4*L}if(v=="warpFlag"||v=="warpWave")F=i-2*L}if(v=="warpRise"){if(Z<2)F=-L+t*L*4;
i=F+2*L}var G=(U+L)/x.$;p=j+G*(O-j);U=F+G*(i-F);if(v=="warpWave"){if(n==0)U=-L;if(n==3)U=L;if(n==1||n==2)U=2*L*(n/3-.5)*(1/3)+U*(2/3)}if(v=="warpFisheye"){if((n==1||n==2)&&(Z==1||Z==2)){p=p+4*p*t;
U=U+4*U*t}}if(v=="warpInflate"){var Q=2/3;if((n==1||n==2)&&(Z==1||Z==2)){p=p+.5*p*t;U=U+.5*U*t}else if(n==1||n==2)p=p+Q*p*t;
else if(Z==1||Z==2)U=U+Q*U*t}if(v=="warpSqueeze"){var Q=2/3;if((n==1||n==2)&&(Z==1||Z==2)){if(t>0)p=p-Q*p*t;
else U=U+Q*U*t}else if(n==1||n==2)p=p-Q*p*t;else if(Z==1||Z==2)U=U+Q*U*t}if(v=="warpTwist"){if((n==1||n==2)&&(Z==1||Z==2)){var q=t*Math.PI/2,b=1+Math.abs(t)*2,R=p*Math.cos(q)-U*Math.sin(q),m=p*Math.sin(q)+U*Math.cos(q);
p=R*b;U=m*b}}if(v=="warpShellLower"||v=="warpShellUpper"){if(v=="warpShellUpper"){n=3-n;U=-U}if(n>2||n==2&&(Z==0||Z==3)){if(t>0){var E=V+n/3*2*L;
p=Math.sin(W)*E;U=-H*l-L+Math.cos(W)*E;if(Z==1||Z==2){p=Z==1?-K*E:K*E;U=-H*l-L+C*E}}else{if((Z==1||Z==2)&&n==3){p=Z==1?-K*V:K*V;
U=H*l-C*V+L}else if(n==2){U=L-L*(2/3)*Math.cos(W);p=p+L*(2/3)*Math.sin(W)}}}if(v=="warpShellUpper"){n=3-n;
U=-U}}p+=l;U+=L}a=p,z=U;d[Y]=a+x.x;d[Y+1]=z+x.y}}for(var n=0;n<d.length;n+=2)d[n]/=g};f.kk.aBI=function(d,v,t){var h=[];
for(var X=0;X<4;X++)h.push(1-t+X/3*2*t);var g=[];for(var X=0;X<4;X++)g.push(1-v+X/3*2*v);var x=[0,0,0,0],Z=[0,0,0,0];
for(var n=0;n<4;n++)for(var X=0;X<4;X++){var Y=2*(4*n+X),a=d[Y],z=d[Y+1];x[X]+=a/4;Z[X]+=z/4}for(var n=0;
n<4;n++)for(var X=0;X<4;X++){var p=h[X],Y=2*(4*n+X),a=d[Y],z=d[Y+1],U=x[X],l=Z[X];d[Y]=U+p*(a-U);d[Y+1]=l+p*(z-l)}var L=d.slice(0);
for(var n=0;n<4;n++)for(var X=1;X<3;X++){var Y=2*(4*n+X),a=d[Y],z=d[Y+1],j=Y+(X==1?-2:2),O=d[j],F=d[j+1];
d[Y]=a-O;d[Y+1]=z-F}var i=d[0],$=d[1],H=d[8],b=d[9],r=d[16],W=d[17],V=d[24],y=d[25],c=d[6],S=d[7],C=d[14],K=d[15],T=d[22],D=d[23],N=d[30],G=d[31],s=c-i,Q=S-$,q=C-H,R=K-b,m=T-r,E=D-W,e=N-V,w=G-y;
for(var n=0;n<4;n++){var M=2*n*4,P=0,I=0,k=n==1?.33:.66,o=1-k;if(n==0){P=s;I=Q}if(n==1){P=o*s+k*-e;I=o*Q+k*-w}if(n==2){P=o*s+k*-e;
I=o*Q+k*-w}if(n==3){P=-e;I=-w}d[M]=d[M]+P/2;d[M+1]=d[M+1]+I/2;d[M+6]=d[M+6]-P/2;d[M+7]=d[M+7]-I/2}for(var n=0;
n<4;n++)for(var X=1;X<3;X++){var Y=2*(4*n+X),a=d[Y],z=d[Y+1],j=Y+(X==1?-2:2),O=d[j],F=d[j+1],p=2*n/3;
d[Y]=O+p*a;d[Y+1]=F+p*z}for(var n=1;n<3;n++)for(var X=1;X<3;X++){var Y=2*(4*n+X),a=d[Y],z=d[Y+1],af=n==1?-8:-16,J=n==1?16:8,at=d[Y+af],ke=d[Y+af+1],c_=d[Y+J],ag=d[Y+J+1],p=n/3;
a=(1-p)*at+p*c_;z=(1-p)*ke+p*ag;d[Y]=a;d[Y+1]=z}f.Q.ajV(L,d,d,v)};f.kk.acL=function(d,v){return(4-d)*(1/3)};
f.kk.avo=function(d,v){return(1-d)*(3-d)/(3*v)};f.xn=function(){function d(t){var h=t.quads.v,X=[];for(var n=0;
n<h.length;n++){var g=h[n].v.indices.v;for(var x=0;x<4;x++)X.push(g[x].v)}var Z=[],Y=[];for(var a=0;
a<2;a++){var z=a==0?Z:Y,p=t[a==0?"vertices":"warpedVertices"].v;for(var n=0;n<p.length;n++){var U=p[n].v;
z.push(U.Hrzn.v.val,U.Vrtc.v.val)}}var l=t.referenceRect.v,L=l.Left.v.val,j=l.Rght.v.val,O=l.Top.v.val,F=l.Btom.v.val,i=[];
for(var $=0;$<4;$++)i.push(t["PuX"+$].v,t["PuY"+$].v);return{$w:Z,_C:Y,E1:X,ajv:new iW(L,O,j-L,F-O),y1:t.Md.v.perspectiveWarpMode=="warp"?1:0,se:i}}function v(t,h){var X=h.quads.v=[],g=t.E1;
for(var n=0;n<g.length;n+=4){var x=[],Z={t:"Objc",v:{classID:"perspectiveWarpQuad",indices:{t:"VlLs",v:x}}};
X.push(Z);for(var Y=0;Y<4;Y++)x.push({t:"long",v:g[n+Y]})}for(var a=0;a<2;a++){var z=a==0?t.$w:t._C,p=h[a==0?"vertices":"warpedVertices"].v;
while(p.length!=0)p.pop();for(var n=0;n<z.length;n+=2){var U={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:z[n]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:z[n+1]}}}};
p.push(U)}}var l=t.se;for(var L=0;L<4;L++){h["PuX"+L].v=l[L*2];h["PuY"+L].v=l[L*2+1]}h.Md.v.perspectiveWarpMode=t.y1==0?"layout":"warp"}return{afh:d,DM:v}}();
var fc={};fc.aHV={x:.34567,y:.3585};fc.agB=[{C:0,zi:.18006,k1:.26352,o:-.24341},{C:10,zi:.18066,k1:.26589,o:-.25479},{C:20,zi:.18133,k1:.26846,o:-.26876},{C:30,zi:.18208,k1:.27119,o:-.28539},{C:40,zi:.18293,k1:.27407,o:-.3047},{C:50,zi:.18388,k1:.27709,o:-.32675},{C:60,zi:.18494,k1:.28021,o:-.35156},{C:70,zi:.18611,k1:.28342,o:-.37915},{C:80,zi:.1874,k1:.28668,o:-.40955},{C:90,zi:.1888,k1:.28997,o:-.44278},{C:100,zi:.19032,k1:.29326,o:-.47888},{C:125,zi:.19462,k1:.30141,o:-.58204},{C:150,zi:.19962,k1:.30921,o:-.70471},{C:175,zi:.20525,k1:.31647,o:-.84901},{C:200,zi:.21142,k1:.32312,o:-1.0182},{C:225,zi:.21807,k1:.32909,o:-1.2168},{C:250,zi:.22511,k1:.33439,o:-1.4512},{C:275,zi:.23247,k1:.33904,o:-1.7298},{C:300,zi:.2401,k1:.34308,o:-2.0637},{C:325,zi:.24792,k1:.34655,o:-2.4681},{C:350,zi:.25591,k1:.34951,o:-2.9641},{C:375,zi:.264,k1:.352,o:-3.5814},{C:400,zi:.27218,k1:.35407,o:-4.3633},{C:425,zi:.28039,k1:.35577,o:-5.3762},{C:450,zi:.28863,k1:.35714,o:-6.7262},{C:475,zi:.29685,k1:.35823,o:-8.5955},{C:500,zi:.30505,k1:.35907,o:-11.324},{C:525,zi:.3132,k1:.35968,o:-15.628},{C:550,zi:.32129,k1:.36011,o:-23.325},{C:575,zi:.32931,k1:.36038,o:-40.77},{C:600,zi:.33724,k1:.36051,o:-116.45}];
fc.ay2=function(d){var v=fc.agB,t=2*d.x/(1.5-d.x+6*d.y),h=3*d.y/(1.5-d.x+6*d.y),X=0,g=0,x=0;for(;x<31;
x++){X=h-v[x].k1-v[x].o*(t-v[x].zi);if(x>0&&X<0){break}g=X}while(x>=v.length)x--;X/=Math.sqrt(1+v[x].o*v[x].o);
g/=Math.sqrt(1+v[x-1].o*v[x-1].o);var Z=g/(g-X),Y=1e6/((v[x].C-v[x-1].C)*Z+v[x-1].C),a=t-((v[x].zi-v[x-1].zi)*Z+v[x-1].zi),z=h-((v[x].k1-v[x-1].k1)*Z+v[x-1].k1),p=Math.sqrt(1+v[x].o*v[x].o),U=1/p,l=v[x].o/p,L=Math.sqrt(1+v[x-1].o*v[x-1].o),j=1/L,O=v[x-1].o/L,F=(U-j)*Z+j,i=(l-O)*Z+O,$=Math.sqrt(F*F+i*i);
F/=$;i/=$;var H=(a*F+z*i)*-3e3;return{aFB:Y,H7:H}};fc.i9=function(d,v){var t=fc.agB,h=1e6/d,X=1;for(;
X<31;X++){if(h<t[X].C){break}}var g=(t[X].C-h)/(t[X].C-t[X-1].C),x=(t[X-1].zi-t[X].zi)*g+t[X].zi,Z=(t[X-1].k1-t[X].k1)*g+t[X].k1,Y=Math.sqrt(1+t[X].o*t[X].o),a=1/Y,z=t[X].o/Y,p=Math.sqrt(1+t[X-1].o*t[X-1].o),U=1/p,l=t[X-1].o/p,L=(U-a)*g+a,j=(l-z)*g+z,O=Math.sqrt(L*L+j*j);
L/=O;j/=O;x+=L*v/-3e3;Z+=j*v/-3e3;return{x:1.5*x/(x-4*Z+2),y:Z/(x-4*Z+2)}};fc.a2j=function(d){var v=d[0]+d[1]+d[2];
return{x:d[0]/v,y:d[1]/v}};fc.jm=function(d){return{x:d.x/d.y,y:1,HC:(1-d.x-d.y)/d.y}};fc.aAJ=function(d,v){var t=f.Yh.Tz([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),h=[d.x,d.y,d.HC,0],X=[v.x,v.y,v.HC,0];
h=f.Yh.ip(t,h);X=f.Yh.ip(t,X);var g=X[0]/h[0],x=X[1]/h[1],Z=X[2]/h[2],Y=f.Yh.Tz([g,0,0,0,x,0,0,0,Z]),a=f.Yh.zJ(t);
return f.Yh.multiply(f.Yh.multiply(a,Y),t)};f.EV={};f.EV.aLK=function(d,v,t,h,X,g,x,Z,Y,a){for(var z=0;
z<Z;z++)for(var p=0;p<x;p++){var U=3*(z*x+p),l=z+g,L=p+X,j=d[l*v+L];h[U]=j;h[U+1]=j;h[U+2]=j}};f.EV.kg=function(d,v,t,h,X,g,x,Z,Y,a){var z=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],p=1/Y,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],l=new Uint32Array(6);
for(var L=0;L<Z;L++){for(var j=0;j<x;j++){var O=3*(L*x+j),F=L+g,i=j+X;l[0]=0;l[1]=0;l[2]=0;l[3]=0;l[4]=0;
l[5]=0;for(var n=0;n<16;n+=2){var $=i+U[n],H=F+U[n+1],b=$-Y*~~($*p),r=H-Y*~~(H*p),W=a[r*Y+b];l[W]+=d[H*v+$];
l[W+3]++}var $=i,H=F,b=$-Y*~~($*p),r=H-Y*~~(H*p),W=a[r*Y+b];l[W]=d[F*v+i];l[W+3]=1;h[O]=l[0]*z[l[3]];
h[O+1]=l[1]*z[l[4]];h[O+2]=l[2]*z[l[5]]}}};f.EV.a68=function(d,v,t,h,X,g,x,Z,Y,a){var z,p,U,l,L,j,O=new Float32Array(8);
function F(U,l){return(U&1)*2+(l&1)}for(z=0;z<t;z++)for(p=0;p<v;p++){if(p==h&&z>=h&&z<t-h)p=v-h;O.fill(0);
for(U=z-1;U!=z+2;U++)for(l=p-1;l!=p+2;l++)if(0<=l&&0<=U&&U<t&&l<v){L=X[F(U,l)];var i=d[(U*v+l)*3+L]=g[(U+a)*x+l+Y];
O[L]+=i;O[L+4]++}L=X[F(z,p)];for(var j=0;j<3;j++)if(j!=L&&O[j+4])d[(z*v+p)*3+j]=O[j]/O[j+4]}};f.EV.Wl=function(){var d,v,t;
function h(Y,n){d[Y]=v[n];d[Y+1]=v[n-t]+v[n-1]+v[n+1]+v[n+t]>>>2;d[Y+2]=v[n-t-1]+v[n-t+1]+v[n+t-1]+v[n+t+1]>>>2}function X(Y,n){d[Y]=v[n-1]+v[n+1]>>>1;
d[Y+1]=v[n];d[Y+2]=v[n-t]+v[n+t]>>>1}function g(Y,n){d[Y]=v[n-t]+v[n+t]>>>1;d[Y+1]=v[n];d[Y+2]=v[n-1]+v[n+1]>>>1}function x(Y,n){d[Y]=v[n-t-1]+v[n-t+1]+v[n+t-1]+v[n+t+1]>>>2;
d[Y+1]=v[n-t]+v[n-1]+v[n+1]+v[n+t]>>>2;d[Y+2]=v[n]}function Z(Y,a,z,p,U,l,L,j,O){d=p;v=Y;t=a;var F=0,i=L,$=0,H=j,b=U>0&&l>0&&t-U>L&&z-l>j,r=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][O];
if(!b){F++;i--;$++;H--;O=[2,3,0,1][O]}var W=Date.now();for(var V=$;V<H;V+=2){var y=(V+l)*t+U;if(O==0)for(var c=F;
c<i;c+=2){var S=y+c,C=(V*L+c)*3;h(C,S);X(C+3,S+1);g(C+3*L,S+t);x(C+3*L+3,S+t+1)}else if(O==1)for(var c=F;
c<i;c+=2){var S=y+c,C=(V*L+c)*3;X(C,S);h(C+3,S+1);x(C+3*L,S+t);g(C+3*L+3,S+t+1)}else if(O==2)for(var c=F;
c<i;c+=2){var S=y+c,C=(V*L+c)*3;x(C,S);g(C+3,S+1);X(C+3*L,S+t);h(C+3*L+3,S+t+1)}else if(O==3)for(var c=F;
c<i;c+=2){var S=y+c,C=(V*L+c)*3;g(C,S);x(C+3,S+1);h(C+3*L,S+t);X(C+3*L+3,S+t+1)}}if(!b)f.EV.a68(d,L,j,1,r,Y,t,z,U,l);
console.log(Date.now()-W);W=Date.now()}return Z}();f.EV.aBZ=function(){function d(Z,n,Y){return Z[n-Y-Y]+Z[n-2]+Z[n+2]+Z[n+Y+Y]}function v(Z,n,Y){return 2*(2*Z[n-Y]+2*Z[n-1]+4*Z[n]+2*Z[n+1]+2*Z[n+Y]-d(Z,n,Y))}function t(Z,n,Y){return Z[n-Y-1]+Z[n-Y+1]+Z[n+Y-1]+Z[n+Y+1]}function h(Z,n,Y){return Z[n-Y-Y]+Z[n+Y+Y]-2*(Z[n-2]+Z[n+2])+8*(Z[n-1]+Z[n+1])}function X(Z,n,Y){return Z[n-1-1]+Z[n+1+1]-2*(Z[n-2*Y]+Z[n+2*Y])+8*(Z[n-Y]+Z[n+Y])}function g(Z,n,Y){return-3*(Z[n-Y-Y]+Z[n-2]+Z[n+2]+Z[n+Y+Y])+4*(Z[n-Y-1]+Z[n-Y+1]+Z[n+Y-1]+Z[n+Y+1])+12*Z[n]}function x(Z,Y,a,z,p,U,l,L,j){var O=2,F=l-2,i=2,$=L-2,H=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][j],b=0;
if(j==1){O++;F--}if(j==2){O++;i++;F--;$--}if(j==3){i++;$--}for(var r=i;r<$;r+=2){for(var W=O;W<F;W+=2){var V=3*(r*l+W),y=(r+U)*Y+W+p;
z[V+0]=Z[y];z[V+1]=v(Z,y,Y)>>4;z[V+2]=g(Z,y,Y)>>4;z[V+3+1]=Z[y+1];b=10*Z[y+1]-2*t(Z,y+1,Y);z[V+3+0]=b+h(Z,y+1,Y)>>4;
z[V+3+2]=b+X(Z,y+1,Y)>>4;V+=3*l;y+=Y;z[V+1]=Z[y];b=10*Z[y]-2*t(Z,y,Y);z[V+0]=b+X(Z,y,Y)>>4;z[V+2]=b+h(Z,y,Y)>>4;
z[V+3+0]=g(Z,y+1,Y)>>4;z[V+3+1]=v(Z,y+1,Y)>>4;z[V+3+2]=Z[y+1]}}f.EV.a68(z,l,L,Math.max(O,i),H,Z,Y,a,p,U)}return x}();
f.raw={};f.raw.aI7=function(d){var v=Date.now(),t=d.width,h=d.height,X=0,g=0,x=t,Z=h;if(d.t50829){var Y=d.t50829;
X=Y[1];g=Y[0];x=Y[3];Z=Y[2]}if(d.t50720&&d.t50720[0]*1.8>t){if(d.t50719){var a=d.t50719;X+=a[0]>>1<<1;
g+=a[1]>>1<<1}if(d.t50720){var z=d.t50720;x=X+z[0];Z=g+z[1]}}var p=x-X,U=Z-g,l=f.raw.aEa(d),L=d.t33422,j=d.t33421;
if(j){var z=j[0],O=L.slice(0);for(var F=0;F<z;F++)for(var i=0;i<z;i++){var $=(i+(X&1))%z,H=(F+(g&1))%z;
O[F*z+i]=L[H*z+$]}L=O}if(d.t277[0]==1&&L)f.raw.aBQ(l,t,h,d,L);f.raw.Uu(2,d,l,t,h);var b=new Float32Array(p*U*3);
if(d.t277[0]==1){if(j==null){f.EV.aLK(l,t,h,b,X,g,p,U)}else if(j.length!=2||j[0]!=2||j[1]!=2){console.log("Unknown CFA pattern size",j);
f.EV.kg(l,t,h,b,X,g,p,U,j[0],L)}else{var r=d.t33422.join(","),W=0;if(r=="0,1,1,2")W=0;else if(r=="1,0,2,1")W=1;
else if(r=="2,1,1,0")W=2;else if(r=="1,2,0,1")W=3;else throw"Unknown CFA pattern "+r;if((p&1)!=0||(U&1)!=0)throw"e";
var v=Date.now(),V=d.t50728;if(V==null)V=[1,1,1];V=V.slice(0);for(var n=0;n<3;n++)V[n]=Math.max(V[n],.5);
var y=1/V[L[0]],c=1/V[L[1]],S=1/V[L[2]],C=1/V[L[3]];for(var F=0;F<h;F+=2)for(var i=0;i<t;i+=2){var n=F*t+i;
l[n]*=y;l[n+1]*=c;l[n+t]*=S;l[n+t+1]*=C}f.EV.aBZ(l,t,h,b,X,g,p,U,W);for(var F=0;F<U;F++)for(var i=0;
i<p;i++){var K=3*(F*p+i);b[K]*=V[0];b[K+1]*=V[1];b[K+2]*=V[2]}}}else{for(var F=0;F<U;F++)for(var i=0;
i<p;i++){var T=((F+g)*t+i+X)*3,K=(F*p+i)*3;b[K+0]=l[T+0];b[K+1]=l[T+1];b[K+2]=l[T+2]}}var D=b,N=b.length,G=f.raw.J3(d),s=1/G;
for(var n=0;n<N;n+=3){b[n]=D[n]*s;b[n+1]=D[n+1]*s;b[n+2]=D[n+2]*s}f.raw.Uu(3,d,b,p,U);var Q=d.e_,q=p,R=U;
if(Q==1||Q==9){}else{var m=f.raw.aDc(Q,p,U),K=0;q=m[0];R=m[1];var E=b.slice(0);for(var F=0;F<R;F++)for(var i=0;
i<q;i++){var e=m[2]*i+m[3]*F+m[4],w=m[5]*i+m[6]*F+m[7],T=(w*p+e)*3;b[K]=E[T];b[K+1]=E[T+1];b[K+2]=E[T+2];
K+=3}}return{sN:b,ack:q,aq$:R}};f.raw.aDc=function(d,v,t){var h=v,X=t;if(!1){}else if(d==0)return[t,v,0,-1,v-1,1,0,0];
else if(d==2)return[v,t,-1,0,v-1,0,1,0];else if(d==3)return[v,t,-1,0,v-1,0,-1,t-1];else if(d==4)return[v,t,1,0,0,0,-1,t-1];
else if(d==5)return[t,v,0,1,0,1,0,0];else if(d==6)return[t,v,0,1,0,-1,0,t-1];else if(d==7)return[t,v,0,-1,v-1,-1,0,t-1];
else if(d==8)return[t,v,0,-1,v-1,1,0,0];else throw"unknown orientation "+d};f.raw.aBQ=function(d,v,t,h,X){var g=Date.now(),l=0;
if(f.raw.J3(h)>4e4){for(var n=0;n<d.length;n++)d[n]>>=1;var x=["t50714","t50715","t50712","t50717"];
for(var n=0;n<x.length;n++){var Z=h[x[n]];if(Z)for(var Y=0;Y<Z.length;Y++)Z[Y]>>>=1}console.log("remapping to lower bit depth")}var a=~~Math.sqrt(X.length),z=~~(.987*f.raw.J3(h)),p=h.t50728;
if(p==null||p[0]==0)p=[1,1,1];var g=Date.now(),U=[];for(var L=1;L<t-1;L++)for(var j=1;j<v-1;j++){var n=L*v+j;
if(z<d[n])U.push(n);l=Math.max(l,d[n])}if(U.length==0)return;var O=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],F=[];
for(var L=0;L<a;L++)for(var j=0;j<a;j++){var n=L*a+j,i=F[L*a+j]=[0,0,0];for(var Y=0;Y<18;Y+=2){var $=(a+j+O[Y])%a,H=(a+L+O[Y+1])%a,b=X[H*a+$];
i[b]=O[Y+1]*v+O[Y]}}var r=p[1]/p[0],W=p[1]/p[2],V=new Float32Array(131072);for(var n=0;n<131072;n++)V[n]=Math.pow(n,1/3);
var y=d.slice(0);for(var c=0;c<U.length;c++){var n=U[c],L=~~(n/v),j=n-L*v,S=L%a*a+j%a,C=X[S];if(C==1){var K=V[~~(d[n+F[S][0]]*r+.5)],T=V[~~(d[n+F[S][2]]*W+.5)],D=(K+T)*.5,N=Math.min(65535,~~(D*D*D));
if(N>y[n])y[n]=N}}d.set(y)};f.raw.a8s=function(d,v,t,h,X,g,x){var Z=Math.max(g[0],g[1],g[2]);g=[g[0]/Z,g[1]/Z,g[2]/Z];
console.log(g);var Y=new Uint32Array(d.length);for(var a=0;a<t;a++){}for(var z=0;z<v;z++){f.raw.a0V(d,Y,v,t,1,1,z,X,x,g,0);
f.raw.a0V(d,Y,v,t,1,-1,z,X,x,g,1)}d.set(Y)};f.raw.a0V=function(d,v,t,h,X,g,x,Z,Y,a,z){var p=1,U=1,l=(X==0?t:h)-1;
if(g==-1){U=l-1;l=0}for(var n=U;n!=l;n+=g){var L=n,j=x;if(X==1){L=x;j=n}var O=j*t+L,F=Y,i=Y,$=X==0?1:t,H=X==0?t:1,b=d[O],r=d[O+g*$];
if(b<F&&r<i&&3<b&&3<r){var W=1;if(n&1)W=b/r;else W=r/b;p=(3*p+W)*.25}if(F<=b&&Z[(j&1)*2+(L&1)]==1){var V=0;
if(r<i){if(n&1)V=r*p;else V=r/p}else{if(p<1){if(n&1)V=b;else V=r/p}else{if(n&1)V=r*p;else V=b}}if(z==0)v[O]=V;
else if(z==1)v[O]=Math.min(65535,(v[O]+V)/2);else v[O]+=V}else v[O]=b}};f.raw.Th=function(d,v,t,h,X){var g=fc.i9(h[0],h[1]),x=f.raw.aOv(t,g),Z=[f.Yh.Zc,f.Yh.agM,f.Yh.ak$,f.Yh.ap1][X],Y=f.Yh.multiply(Z,x),a=Math.pow(2,h[2]+(t.t50730?t.t50730[0]:0));
Y=f.Yh.multiply(Y,f.Yh.iO(a,a,a));var z=f.raw.Th.a6C[X];if(z==null){z=f.raw.Th.a6C[X]=new Float32Array(5e3);
var p=1/[2.4,2.1992,1.8,2.4][X];if(X==0||X==3)for(var n=0;n<5e3;n++)z[n]=f.cP(n*(1/4e3));else for(var n=0;
n<5e3;n++)z[n]=Math.pow(n*(1/4e3),p)}var U=d.length;for(var n=0;n<U;n+=4){var l=d[n],L=d[n+1],j=d[n+2],O=Y[0]*l+Y[1]*L+Y[2]*j,F=Y[4]*l+Y[5]*L+Y[6]*j,i=Y[8]*l+Y[9]*L+Y[10]*j;
if(O<0)O=0;else if(O>1)O=1;if(F<0)F=0;else if(F>1)F=1;if(i<0)i=0;else if(i>1)i=1;v[n]=z[~~(O*4e3)];v[n+1]=z[~~(F*4e3)];
v[n+2]=z[~~(i*4e3)]}};f.raw.Th.a6C=[];f.raw.aEa=function(d){var v=d.width,t=d.height,h=v*t*d.t277,X=new Uint16Array(h),g=null,x=0;
f.raw.abb(d,X);f.raw.Uu(1,d,X,v,t);if(d.t50712){g=d.t50712;x=g.length-1;if(g[x]>65535)throw"too big values"}var Z=f.raw.aMV(d),Y=f.raw.aLb(d);
if(g==null)for(var n=0;n<h;n++)X[n]=Math.max(0,X[n]-Z);else for(var n=0;n<h;n++){var a=X[n];if(a>x)a=x;
a=g[a];X[n]=Math.max(0,a-Z)}return X};f.raw.aMV=function(d){var v=d.t50714,t=v?v[0]:0,h=d.t50715,X=d.t50716;
if(h)t+=h[0][0]/h[0][1];if(X)t+=X[0][0]/X[0][1];return Math.round(t)};f.raw.aLb=function(d){var v=null,t=0;
if(d.t50712){v=d.t50712;t=v.length-1}var h=d.t50717?d.t50717[0]:(1<<d.t258[0])-1;if(v)h=Math.min(h,v[t]);
if(h==1)h=32767;return h};f.raw.J3=function(d){var v=f.raw.aMV(d),t=f.raw.aLb(d);return t-v};f.raw.abb=function(d,v){var t=v.length,h=d.data,X=d.t258[0],x=null;
if(X!=32&&X!=16&&X!=14&&X!=12&&X!=10&&X!=8)throw"Unsupported Bits Per Sample:"+X;X=Math.round(h.length*8/t);
if(d.t272&&d.t272[0]=="COOLPIX B700")for(var n=0;n<h.length;n+=4){var g=h[n];h[n]=h[n+3];h[n+3]=g;var g=h[n+1];
h[n+1]=h[n+2];h[n+2]=g}if(X==16&&d.isLE){f.Hy(h,v);return}for(var n=0;n<t;n+=2){var Z=0,Y=0,a=0;if(X==32){if(x==null)x=new Float32Array(h.buffer);
Y=~~(x[n]*32767);a=~~(x[n+1]*32767)}else if(X==16){Z=n<<1;Y=h[Z]<<8|h[Z+1];a=h[Z+2]<<8|h[Z+3]}else if(X==14){var z=n*14,p=z>>>3,U=h[p]<<24|h[p+1]<<16|h[p+2]<<8|h[p+3];
if((z&7)==0){Y=U>>>18;a=U>>>4&16383}else{Y=U>>>14&16383;a=U&16383}}else if(X==12){Z=n+(n>>>1);Y=h[Z]<<4|h[Z+1]>>4;
a=(h[Z+1]&15)<<8|h[Z+2]}else if(X==10){var z=n*10,p=z>>>3;if((z&7)==0){Y=(h[p]<<2|h[p+1]>>6)&1023;a=(h[p+1]<<4|h[p+2]>>4)&1023}else{Y=(h[p]<<6|h[p+1]>>2)&1023;
a=(h[p+1]<<8|h[p+2]>>0)&1023}}else if(X==8){Z=n;Y=h[Z];a=h[Z+1]}v[n]=Y;v[n+1]=a}};f.raw.anM=function(d,v,t,h,X,g,x){var Z=d-.499999,Y=v-.499999,a=~~Z,z=~~Y,p=Z-a,U=Y-z,l=(1-U)*(1-p),L=(1-U)*p,j=U*(1-p),O=U*p,F=(z*h+a)*3,i=((z+1)*h+a)*3,$=l*t[F]+L*t[F+3]+j*t[i]+O*t[i+3],H=l*t[F+1]+L*t[F+4]+j*t[i+1]+O*t[i+4],b=l*t[F+2]+L*t[F+5]+j*t[i+2]+O*t[i+5];
g[x]=$;g[x+1]=H;g[x+2]=b};f.raw.Uu=function(d,v,t,h,X){var g=v["t"+[51008,51009,51022][d-1]],z=0;if(g==null)return;
var x=h*X,Z=B.BT,Y=B.D_,a=new Uint8Array(g),ko=B.BT(a,z);z+=4;for(var p=0;p<ko;p++){var U=Z(a,z);z+=4;
var l=Z(a,z);z+=4;var L=Z(a,z);z+=4;var j=Z(a,z);z+=4;if(!1){}else if(U==1&&d==3){var O=z,F=Z(a,O);O+=4;
var i=Y(a,O);O+=8;var $=Y(a,O);O+=8;var H=Y(a,O);O+=8;var b=Y(a,O);O+=8;var r=Y(a,O);O+=8;var W=Y(a,O);
O+=8;O+=(F-1)*8*6;var V=Y(a,O);O+=8;var y=Y(a,O);O+=8;var c=V*h,S=y*X,C=Math.max(c,h-c),K=Math.max(S,X-S),T=Math.sqrt(C*C+K*K),D=1/T,N=t.slice(0);
for(var G=0;G<X;G++)for(var s=0;s<h;s++){var Q=(s+.5-c)*D,q=(G+.5-S)*D,R=Q*Q+q*q,m=i+$*R+H*(R*R)+b*(R*R)*R,E=r*(2*Q*q)+W*(R+2*Q*Q),e=W*(2*Q*q)+r*(R+2*q*q),w=Math.min(c+T*(m*Q+E),h-1),M=Math.min(S+T*(m*q+e),X-1),P=(G*h+s)*3;
f.raw.anM(w,M,N,h,X,t,P)}}else if(U==3&&d==3){var O=z,I=Y(a,O);O+=8;var k=Y(a,O);O+=8;var o=Y(a,O);O+=8;
var af=Y(a,O);O+=8;var J=Y(a,O);O+=8;var V=Y(a,O);O+=8;var y=Y(a,O);O+=8;var c=V*h,S=y*X,C=Math.max(c,h-c),K=Math.max(S,X-S),T=Math.sqrt(C*C+K*K),D=1/T;
for(var G=0;G<X;G++)for(var s=0;s<h;s++){var Q=(s+.5-c)*D,q=(G+.5-S)*D,R=Q*Q+q*q,at=1+(I+(k+(o+(af+J*R)*R)*R)*R)*R,P=(G*h+s)*3;
t[P]=at*t[P];t[P+1]=at*t[P+1];t[P+2]=at*t[P+2]}}else if(U==4&&d==1){var O=z,ke=Z(a,O);O+=4;var c_=Z(a,O);
O+=4;for(var n=0;n<x;n++)if(t[n]==ke)t[n]=t[n-2]+t[n+2]>>1}else if(U==5&&d==1){var O=z,ag=Z(a,O);O+=4;
var dz=Z(a,O);O+=4;var kL=Z(a,O);O+=4;for(var n=0;n<dz;n++){var aq=Z(a,O);O+=4;var dh=Z(a,O);O+=4;var n=aq*h+dh;
t[n]=t[n-2]+t[n+2]>>1}}else if(U==7&&d==1){var O=z,gK=B.Lr(a,O);O+=16;var ad=Z(a,O);O+=4;var dc=Z(a,O);
O+=4;var lq=Z(a,O),hn=Z(a,O+4);O+=8;var dF=Z(a,O);O+=4;var c3=new Uint16Array(dF);for(var n=0;n<dF;n++)c3[n]=B.ZT(a,O+2*n);
var i8=gK.r,dr=gK.$;for(var G=0;G<dr;G+=lq)for(var s=0;s<i8;s+=hn){var n=(gK.y+G)*h+(gK.x+s);t[n]=c3[t[n]]}}else if(U==8&&d==2){var O=z,gK=B.Lr(a,O);
O+=16;var ad=Z(a,O);O+=4;var dc=Z(a,O);O+=4;var lq=Z(a,O),hn=Z(a,O+4);O+=8;var jO=Z(a,O);O+=4;var d1=[];
for(var n=0;n<=jO;n++)d1[n]=B.D_(a,O+n*8);var h3=gK.x,d5=gK.x+gK.r,em=gK.y,fl=gK.y+gK.$,lA=v.t50717[0],av=1/lA;
for(var ah=0;ah<dc;ah++)for(var G=em;G<fl;G+=lq){var P=3*G*h+ad+ah;for(var s=h3;s<d5;s+=hn){var n=P+3*s,gE=t[n]*av,fj=d1[jO];
for(var bR=jO;bR>0;bR--)fj=fj*gE+d1[bR-1];t[n]=Math.max(0,Math.min(65535,~~(fj*lA)))}}}else if(U==9&&(d==2||d==3)){var O=z,gK=B.Lr(a,O),cI=!0;
O+=16;var ad=Z(a,O);O+=4;var dc=Z(a,O);O+=4;var lq=Z(a,O),hn=Z(a,O+4);O+=8;var bD=Z(a,O),e1=Z(a,O+4);
O+=8;var am=Y(a,O),dj=Y(a,O+8);O+=16;var ja=Y(a,O),aj=Y(a,O+8);O+=16;var dS=Z(a,O);O+=4;var eW=bD*e1*dS,be=new Float32Array(eW);
for(var bR=0;bR<eW;bR++)be[bR]=B._1(a,O+bR*4);for(var bR=0;bR<eW;bR++)if(be[bR]!=1)cI=!1;if(d==2&&dS!=1)throw"e";
if(d==3&&dS!=3)throw"e";if(!cI){var i8=Math.min(gK.r,h-gK.x),dr=Math.min(gK.$,X-gK.y),kP=.9999*(e1-1)/i8,i0=.9999*(bD-1)/dr;
for(var G=0;G<dr;G+=lq)for(var s=0;s<i8;s+=hn){var n=(gK.y+G)*h+(gK.x+s),ac=s*kP,jR=G*i0,eo=Math.floor(ac),eP=Math.floor(jR),as=ac-eo,kF=jR-eP,P=eP*e1+eo;
if(d==2){var kW=be[P]*(1-as)+be[P+1]*as,hs=be[P+e1]*(1-as)+be[P+1+e1]*as,gc=kW*(1-kF)+hs*kF;t[n]=Math.max(0,Math.min(65535,~~(t[n]*gc+.5)))}if(d==3){for(var fK=0;
fK<3;fK++){var lo=P*3+fK,kW=be[lo]*(1-as)+be[lo+3]*as,hs=be[lo+e1*3]*(1-as)+be[lo+3+e1*3]*as,gc=kW*(1-kF)+hs*kF;
t[3*n+fK]=t[3*n+fK]*gc}}}}}else console.log("Unknown opcode "+U+" in OpcodeList"+d+". Length: "+j);z+=j}};
f.raw.aOv=function(d,v){var t=fc.jm(v),h=f.raw.aov(d,v),X=f.Yh.zJ(h),g=fc.aAJ(t,fc.jm(fc.aHV)),x=f.Yh.multiply(g,X);
return x};f.raw.auw=function(d){var v=d.t50728,t=d.t50729,g=1;if(t)return{x:t[0][0]/t[0][1],y:t[1][0]/t[1][1]};
if(v==null||v[0]==0)v=[1,1,1];var h=v.slice(0);h.push(0);var X={x:.34567,y:.3585};do{var x=f.Yh.zJ(f.raw.aov(d,X)),Z=f.Yh.ip(x,h),Y=fc.a2j(Z);
g=Math.abs(X.x-Y.x)+Math.abs(X.y-Y.y);X=Y}while(g>1e-7);return X};f.raw.aov=function(d,v){var t=fc.ay2(v),h=f.raw.aqR,X=d.t50778?d.t50778[0]:0,g=d.t50779?d.t50779[0]:0,x=d.t50723,Z=d.t50724;
if(x&&x.length==3)x=null;if(Z&&Z.length==3)Z=null;var Y=h(d.t50721,d.t50722,X,g,t.aFB),a=h(x,Z,X,g,t.aFB);
Y=Y||[1,0,0,0,1,0,0,0,1];a=a||[1,0,0,0,1,0,0,0,1];var z=d.t50727?[d.t50727[0],0,0,0,d.t50727[1],0,0,0,d.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return f.Yh.multiply(f.Yh.Tz(z),f.Yh.multiply(f.Yh.Tz(a),f.Yh.Tz(Y)))};f.raw.aqR=function(d,v,t,h,X){if(!d&&!v){return null}else if(d&&!v){return d}else if(X<t){return d}else if(X>h){return v}else{var g=(1/X-1/h)/(1/t-1/h),x=1-g,Z=[];
for(var n=0;n<9;n++)Z[n]=d[n]*g+v[n]*x;return Z}};f.raw.Q8={};f.raw.B4=function(d){d*=8;var v=[8,10,12,14,16];
for(var t in CAMS){var h=CAMS[t];if(h.length==4)continue;var X=h[4],g=h[5];for(var n=0;n<v.length;n++)if(X*g*v[n]==d)return[t,v[n]]}var x=[[4e3,3e3]];
for(var n=0;n<x.length;n++){var h=x[n],X=h[0],g=h[1];for(var n=0;n<v.length;n++)if(X*g*v[n]==d)return[h,v[n]]}return null};
f.raw.a6R=function(d){var d=new Uint8Array(d);for(var n=0;n<d.length;n+=2){var v=d[n];d[n]=d[n+1];d[n+1]=v}var t=f.raw.B4(d.length),h=CAMS[t[0]];
if(h==null)h=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,t[0][0],t[0][1]];var X=h[4],g=h[5],x=Math.max(h[2],116),Z={data:d,e_:1,width:X,height:g,t256:[X],t257:[g],t258:[t[1]],t277:[1],t33421:[2,2],t33422:f.raw.VU[h[1]],t50706:[1,2,0,0],t50714:[x,x,x,x],t50717:[h[3]],t50721:h[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var n=0;n<9;n++)Z.t50721[n]/=1e4;return Z};f.raw.aa7=function(d){if(d==null||d.length==0||typeof d[0]=="number")return d;
var v=[];for(var n=0;n<d.length;n++)v[n]=d[n][1]==0?0:d[n][0]/d[n][1];return v};f.raw.VU=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
f.raw.normalize=function(d,v){if(d.t259&&d.t259[0]==52546)alert("JPEG XL compression is not supported yet.",4e3);
if(d.t50706!=null||d.t271[0].startsWith("Hasselblad")){var t=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var n=0;n<t.length;n++)if(d["t"+t[n]]!=null)d["t"+t[n]]=f.raw.aa7(d["t"+t[n]]);if(d.t271&&d.t271[0].startsWith("Hasselblad")){d.t50706=[1,2,0,0];
d.t33422=f.raw.VU[1];d.t50723=[1,0,0,0,1,0,0,0,1];d.t50778=[17];if(!d.isLE)for(var n=0;n<d.data.length;
n+=2){var h=d.data[n];d.data[n]=d.data[n+1];d.data[n+1]=h}}if(d.t272&&d.t272[0]=="HERO10 Black"){d.t50728=[.469725,1,.739884];
if(!d.t305[0].startsWith("Adobe")){var X=new Uint16Array(d.data.buffer);for(var n=0;n<X.length;n++)X[n]>>>=2}}return}var g=d.t258[0],x=d.exifIFD,v=new Uint8Array(v);
d.t50706=[1,2,0,0];var Z=d.t271[0].trim(),Y=d.t272[0].trim();if(d.t50708==null)d.t50708=[Z+" "+Y];var a=(Z+":"+Y).toLowerCase().trim(),z=CAMS[a];
if(a=="panasonic:dmc-lx2")z[3]=1<<16;if(z==null){alert("Unknown camera:"+a);if(a.startsWith("canon"))z=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(z!=null){var p=z[2],U=z[3];
if(p!=0)d.t50714=[p,p,p,p];if(U!=0)d.t50717=[U];d.t50721=z[0].slice(0);for(var n=0;n<9;n++)d.t50721[n]=d.t50721[n]*(1/1e4)}d.t50723=[1,0,0,0,1,0,0,0,1];
if(d.t50728==null)d.t50728=[.35,1,.6];d.t50778=[17];if(Z.startsWith("OLYMPUS")||Z.startsWith("OM Digital Solutions")){d.t33422=[2,1,1,0];
var l=x.t41730,F;if(l)d.t33422=[l[4],l[5],l[6],l[7]];var L=d.t50341;if(L==null)L=x.t36864;var j=f.raw.aeO(L.buffer,d);
d.data=new Uint8Array(j.buffer);if((d.height&1)==1)d.t50829=[0,0,d.height-1,d.width];var O=x.makerNote,i=O.t8256;
if(i)F=i.t256;else F=O.t12288.t256;if(F)d.t50728=[256/F[0],1,256/F[1]]}else if(d.t271[0].startsWith("SONY")){var $=UTIF["_bin"+(d.isLE?"LE":"BE")],H=d.t28688,S;
if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);if(H&&H.join("")!="0000"){var b=[0,0,0,0,0,4095],r=new Uint16Array(16385);
for(var n=0;n<4;n++){var W=H[n]>>>2;b[n+1]=W;if(W>4095)throw"e"}for(var n=0;n<16385;n++)r[n]=n;for(var n=0;
n<5;n++)for(var V=b[n]+1;V<=b[n+1];V++)r[V]=r[V-1]+(1<<n);var y=v.length*8<d.width*d.height*g;if(y)d.t50712=r}else console.log("no curve");
var c=d.dngPrvt;if(c){var C=c.t29184[0],K=c.t29185[0],T=(d.isLE?B.ij:B.BT)(c.t29217,0),D=new Uint32Array(v.slice(C,C+(K&4294967292)).buffer),N=new Uint32Array(K>>>2);
f.raw.ajH(D,N,K>>>2,T);var G=new Uint8Array(C+K);G.set(new Uint8Array(N.buffer),C);var s=[];UTIF._readIFD($,G,C,s,0,!1);
var Q=s.pop(),q=Q.t29458;d.t50728=[q[1]/q[0],1,q[1]/q[3]];d.t50730=[.5];var R=Q.t29891;d.t50829=[R[1],R[0],R[3],R[2]]}else if(x.makerNote&&x.makerNote.t8208){var S=x.makerNote,m=S.t8208,E=m.length,e=0,w=new Uint8Array(256);
for(var n=249;n<256;n++)w[n]=n;for(var n=0;n<249;n++)w[n*n*n%249]=n;for(var n=0;n<E;n++)m[n]=w[m[n]];
if(E==6604)e=612;else throw"e";var q=[];for(var n=0;n<3;n++)q.push(B.cY(m,e+n*2));console.log(q);d.t50728=[q[1]/q[0],1,q[1]/q[2]]}else console.log("no white balance");
if(d.width*d.height*1.5==d.t279[0]){p=p>>>2;d.t50714=[p,p,p,p];d.t50717=[z[3]>>>2]}}else if(d.t271[0].startsWith("Canon")){var v=d.data,M=v.slice(0),P=d.t50752,I=[],o=0;
if(P==null||P[0]==0&&P[1]==0)I.push(d.width);else{for(var n=0;n<P[0];n++)I.push(P[1]);I.push(P[2])}var k=d.width*2,af=d.t50885&&d.t50885[0]==4;
if(!af)for(var J=0;J<I.length;J++){var at=I[J],ke=2*o,c_=2*at;for(var ag=0;ag<d.height;ag+=2){var dz=ag*k+ke,kL=d.height*ke+ag*c_;
for(var n=0;n<c_;n++){v[dz+n]=M[kL+n];v[dz+n+k]=M[kL+n+c_]}}o+=at}else{var aq=new Uint16Array(M.buffer),dh=new Uint16Array(v.buffer);
function gK(dc,lq){dh[lq*3+0]=aq[dc*3+0];dh[lq*3+1]=aq[dc*3+1];dh[lq*3+2]=aq[dc*3+2]}var ad=(P[0]*P[1]+P[2])/d.width;
for(var J=0;J<I.length;J++){var at=Math.round(I[J]/ad);for(var ag=0;ag<d.height;ag++){var dc=d.height*o+(ad==3?(ag>>>3)*8+[0,4,1,5,2,6,3,7][ag&7]:ag)*at,lq=ag*d.width+o;
for(var hn=0;hn<at;hn++)gK(dc+hn,lq+hn)}o+=at}var dF=new Uint16Array(v.buffer),c3=new Uint16Array(1),i8=new Int16Array(c3.buffer);
for(var n=0;n<dF.length;n+=3){var dr=dF[n],jO=dF[n+1],d1=dF[n+2];c3[0]=jO<<2;jO=i8[0]>>2;c3[0]=d1<<2;
d1=i8[0]>>2;dF[n+0]=Math.max(0,d1+dr);dF[n+1]=Math.max(0,(dr<<12)-jO*778-(d1<<11)>>12);dF[n+2]=Math.max(0,jO+dr)}}var S=x.makerNote,dc=S.t224;
if(dc){var C=d.t50719=[dc[5],dc[6]],h3=d.t50720=[dc[7]+1-dc[5],dc[8]+1-dc[6]],d5=S.t154;if(d5){C[0]+=d5[3];
C[1]+=d5[4];h3[0]=d5[1];h3[1]=d5[2]}}if(S.t16385){var em=S.t16385,fl=em.length,gE=1;if(em instanceof Array)em=new Uint16Array(em);
if(em instanceof Uint8Array)em=new Int16Array(em.slice(0).buffer);var lA=em[0];if(fl==1273||fl==1275)lA=66;
var av=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
av[-3]=[71,264,662];av[-4]=[71,333,1385];av[66]=[63,251,483];av[32]=[85,343,810];av[33]=[85,343,810];
av[34]=[105,363,640];av[48]=[105,363,640];var ah=av[lA];if(ah==null){if(fl==582)ah=[25,166,null];if(fl==653)ah=[34,286,null]}var fj=d.t272?d.t272[0]:"";
if(fj=="Canon EOS DIGITAL REBEL XS"||fj=="Canon EOS 1000D")gE=.25;var e=ah[0],bR=ah[1],bD=ah[2];if(e)d.t50728=[em[e+1]/em[e],1,em[e+1]/em[e+3]];
if(bR)d.t50714=[em[bR]*gE,em[bR]*gE,em[bR]*gE,em[bR]*gE];if(bD)d.t50717=[em[bD]*gE];if(fj=="Canon PowerShot SX50 HS")d.t50717=[3965]}else{d.t50728=[.4,1,.6]}if(af){d.t277=[3];
d.t50728=[1,1,1];d.t50714=[0,0,0,0]}}else if(d.t271[0].startsWith("NIKON")){var S=x.makerNote,e1=d.isLE?B.cY:B.Mu,eW=0,be=0,jR,gc=0;
if(S.t61){var am=S.t61,dj=[];for(var n=0;n<4;n++)dj[n]=am[n]/Math.pow(2,14-g);d.t50714=dj}if(S.t3585){var ja=S.t3585,n=0,C=22;
while(C<ja.length&&n!=-4){var aj=B.ij(ja,C);C+=4;C+=14;n=B.ij(ja,C)-4;C+=4;if(aj==1990472198){if(ja[C]!=0)throw"Flip"}if(aj==1990472199){var dS=B.cY(ja,C);
if(dS==0)d.e_=1;else if(dS==270)d.e_=8;else throw"e "+dS}C+=n}}if(S.t183){var cI=S.t183,h3=[];for(var n=0;
n<6;n++)h3.push(e1(cI,16+n*2));eW=h3[0];be=h3[1]}if(S.t3614){var kP=S.t3614;eW=B.ij(kP,8);be=B.ij(kP,12)}if(eW!=0&&Math.max(eW,be)<Math.max(d.width,d.height)){if(eW<be){var h=eW;
eW=be;be=h}var hn=d.width-eW>>>1,ag=d.height-be>>>1;d.t50829=[ag,hn,ag+be,hn+eW]}else d.t50829=[8,8,d.height-8,d.width-56];
var i0=S.t69;if(i0){var ac=i0[1];if((ac&1)==1)ac++;d.t50829=[ac,i0[0],ac+i0[3],i0[0]+i0[2]]}if(S.t12){var eo=f.raw.aa7(S.t12);
jR=[1/eo[0],1,1/eo[1]]}else if(S.t151){var eP=f.raw.axh(S,151),as=eP[0],fn=eP[1],kF=eP[2];if(as=="0100"&&fn>=80){var kW=[];
for(var n=0;n<4;n++)kW.push(e1(kF,68+n*2));jR=[kW[3]/kW[0],1,kW[3]/kW[1]]}else if(as=="0102"){var kW=[];
for(var n=0;n<4;n++)kW.push(e1(kF,6+n*2));jR=[kW[1]/kW[0],1,kW[1]/kW[3]]}else if(as=="0103"&&fn>=26){var kW=[];
for(var n=0;n<4;n++)kW.push(e1(kF,16+n*2));jR=[kW[1]/kW[0],1,kW[3]/kW[2]]}else if(as=="0204"&&fn>=564||as=="0205"&&fn>=284){var C=as=="0204"?6:14,kW=[];
for(var n=0;n<4;n++)kW.push(e1(kF,C+n*2));jR=[kW[1]/kW[0],1,kW[1]/kW[3]]}else throw"e"}else console.log("no white balance info");
if(Y=="NIKON D1")jR=[1,1,1];if(jR)d.t50728=jR;var hs=S.t150?S.t150:S.t140;if(hs){var fK=hs[gc++],lo=hs[gc++],g8;
if(fK==73||lo==88)gc+=2110;gc+=8;var cR=1<<g&32767,fU=e1(hs,gc);gc+=2;var r=[];if(fU>1)g8=Math.floor(cR/(fU-1));
if(fK==68&&lo==32&&g8>0){for(n=0;n<fU;n++){r[n*g8]=e1(hs,gc);gc+=2}for(n=0;n<cR;n++)r[n]=Math.floor((r[n-n%g8]*(g8-n%g8)+r[n-n%g8+g8]*(n%g8))/g8)}else if(fK!=70&&fU<=16385){cR=fU;
for(var n=0;n<fU;n++)r[n]=e1(hs,gc+2*n);gc+=2*fU}var Y=d.t272[0];if(r.length!=0)d.t50712=new Uint16Array(r);
if(d.t258[0]==14&&d.t50717&&d.t50717[0]<1e4){console.log("fixing white");d.t50717[0]*=4}}}else if(Z.startsWith("FujiFilm")){}else if(Z.startsWith("Panasonic")){if(d.t277==null)d.t277=[1]}else alert("Unknown camera "+Z)};
f.raw.ajH=function(d,v,t,h){if(0==t)return;var X=new Uint32Array(128),g=new Uint8Array(X.buffer),x=127,Z=0,Y=0;
for(var x=0;x<4;x++)X[x]=h=(h*15625>>>0)*3125+1>>>0;X[3]=X[3]<<1|(X[0]^X[2])>>>31;for(var x=4;x<127;
x++)X[x]=(X[x-4]^X[x-2])<<1|(X[x-3]^X[x-1])>>>31;for(var x=0;x<127;x++)X[x]=B.BT(g,x*4);for(;t>0;t--){X[x&127]=X[x+1&127]^X[x+1+64&127];
var a=X[x&127],z=d[Z];z^=a;v[Y]=z;Z++;Y++;x++}};f.raw.aqN=function(d,v){var t=B.o3(v,0,4),h=f.raw.ann;
for(var n=0;n<h.length;n++)if(h[n][0]==d&&t.startsWith(h[n][1])&&(h[n][2]==0||h[n][2]==v.length))return h[n];
throw"e"};f.raw.aEo=function(d){if(d.t29==null)return[];var v=f.raw.ahk,t=f.raw.aE0,h=d.t29[0],X=0,x=0;
for(var n=0;n<h.length;n++){var g=h.charCodeAt(n);X=X*10+(48<=g&&g<=57?g-48:g%10)}var fn=d.t167[0];for(var n=0;
n<4;n++)x^=fn>>>(n<<3)&255;var Z=v[X&255],Y=t[x&255];return[Z,Y,96]};f.raw.axh=function(d,v){var t=d["t"+v],fn=t.length,h=f.raw.aqN(v,t),X=B.o3(t,0,4),g,x=h[4];
if(x==null)g=t.slice(4);else{g=new Uint8Array(fn-x);var Z=f.raw.aEo(d),Y=Z[0],a=Z[1],z=Z[2];for(var n=0;
n<g.length;n++){a=a+Y*z++&255;g[n]=t[x++]^a}}return[X,fn,g]};f.raw.aeO=function(d,v){var t=v.t271[0],h=v.t272[0],X=v.t256[0],g=v.t257[0],x=v.t258[0],Z=v.t273[0],Y=Z,a=new Uint8Array(d),z,p=X-4,U=g,l=a.length-Z,O=0,F=0;
function L(){var r=new Uint16Array(4096),bW=0;r[bW]=3084;for(var n=12;n--;)for(var W=0;W<2048>>n;W++)r[++bW]=n+1<<8|n;
return r}function j(){return a[Y++]}function i(r,W){var V;if(r>25)return 0;if(r==0||F<0)return 0;if(r<0){O=0;
F=0;return 0}while(F<r){V=j();if(V==null)break;O=(O<<8)+(255&V);F+=8}V=F==0?0:O<<32-F>>>32-r;if(W){F-=W[V]>>8;
V=255&W[V]}else F-=r;return V}function $(){var r=L();Y+=7;i(-1);for(var W=0;W<U;W++){var V=[new Int32Array(3),new Int32Array(3)];
for(var y=0;y<X;y++){var c=V[y&1],n=2*(c[2]<3),S;for(S=2+n;(65535&c[0])>>S+n;S++);var C=i(3),K=C&3;C=C<<29>>31;
var T=i(12,r);if(T==12)T=i(16-S)>>>1;var D=i(S);c[0]=T<<S|D;var N=(c[0]^C)+c[1];c[1]=N*3+c[1]>>5;c[2]=c[0]>16?0:c[2]+1;
if(y>=p)continue;var G=z[W*X+y-2],bW=z[(W-2)*X+y],s=z[(W-2)*X+y-2];z[W*X+y]=(W<2&&y<2?0:W<2?G:y<2?bW:G<s&&s<bW||bW<s&&s<G?Math.abs(G-s)>32||Math.abs(bW-s)>32?G+bW-s:G+bW>>1:Math.abs(G-s)>Math.abs(bW-s)?G:bW)+(N<<2|K)}}}function H(){var r=X*x/8,W=g+1>>1,y=0,c=0;
r+=r&6>>7;var V=r*8-X*x;for(var S=0;S<g;S++){var C=S%W*2+~~(S/W);if(C==1){y=0;Y=Z-(-W*r&-2048)}for(var K=0;
K<X;K++){for(y-=x;y<0;y+=8){c<<=8;for(var n=0;n<8;n+=8)c|=j()<<n}var T=c<<64-x-y>>>64-x;z[C*X+K]=T}y-=V}}function b(){var r=!t.startsWith("OLYMPUS")||!t.startsWith("OM Digi")||!t.toLowerCase().startsWith("clauss")&&!h.toLowerCase().startsWith("pix 5oo");
return r&&l<X*g*(x/8)}if(b()){z=new Uint16Array(p*U);$()}else if(X*g*2==v.data.length){z=new Uint16Array(v.data.buffer)}else{z=new Uint16Array(X*g);
H()}return z};f.raw.ann=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
f.raw.ahk=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
f.raw.aE0=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
f.rt={};f.rt.rt=function(d,v,t,h,X){if(h==null)h=3;if(X==null)X=!0;var g=d.r,x=d.$,Z=1/g,Y=g*x,a=Date.now(),z=!1,p=f.rt.atP(t,g,x,255,128),U=f.rt.atP(t,g,x,0,128),k=0;
if(z)console.log("extract contours",Date.now()-a);a=Date.now();var l=function(gE,fj){var bR=gE<<2,bD=fj<<2;
return v[bR]+v[bR+1]+v[bR+2]-(v[bD]+v[bD+1]+v[bD+2])};p.sort(l);U.sort(l);var L=f.m(Y),j=f.m(Y),O=[],F=new Uint32Array(g*x);
F.fill(4294967295);for(var n=0;n<Y;n++)if(t[n]==0)j[n]=255;else if(t[n]==255)L[n]=255;else{F[n]=O.length;
O.push(n)}var i=p.length,$=U.length,H=O.length;function b(gE,fj,bR,bD){var e1=gE.length,am=new Array(e1*2);
for(var n=0;n<e1;n++){var G=gE[n],s=~~(G*bD),Q=G-s*bR,lA=G<<2;am[n*2]=Q<<16|s;am[n*2+1]=fj[lA]<<16|fj[lA+1]<<8|fj[lA+2]}return am}var r=b(p,v,g,Z),W=b(U,v,g,Z),V=b(O,v,g,Z);
if(z)console.log("Itemize",Date.now()-a,"Unknown:",H,i,$);a=Date.now();var y=f.style.$E(L,g,x,!0),c=f.style.$E(j,g,x,!0),S=new Array(H),C=new Array(H),K=new Array(H),T=new Array(H),D=new Array(H);
if(z)console.log("Dist transform",Date.now()-a);a=Date.now();var N=f.rt.j7;for(var n=0;n<H;n++){var G=O[n],s=~~(G*Z),Q=G-s*g,q=y[G<<1],R=y[(G<<1)+1],m=Math.sqrt(q*q+R*R),E=c[G<<1],e=c[(G<<1)+1],w=Math.sqrt(E*E+e*e);
S[n]=1/m;C[n]=1/w;var M=Math.floor(f.V.tu(G*17)*i),P=Math.floor(f.V.tu(G*19)*$);K[n]=M;T[n]=P;D[n]=N(V[n*2],V[n*2+1],r[M*2],r[M*2+1],W[P*2],W[P*2+1],S[n],C[n],1e9)}var I=[-g-1,-g,-g+1,-1,1,g-1,g,g+1];
while(Math.floor(Math.max(i,$)*Math.pow(.5,k))>1)k++;for(var o=0;o<h;o++){var af=0;for(var n=0;n<H;n++){var G=O[n],s=~~(G*Z),Q=G-s*g,J=S[n],at=C[n],ke=V[n*2],c_=V[n*2+1],ag=D[n],M=K[n],P=T[n],ad=1;
if(s!=0&&Q!=0&&Q!=g-1&&s!=x-1)for(var dz=0;dz<8;dz++){var kL=F[G+I[dz]];if(kL==4294967295)continue;var aq=K[kL],dh=T[kL];
if(aq==M&&dh==P)continue;var gK=N(ke,c_,r[aq*2],r[aq*2+1],W[dh*2],W[dh*2+1],J,at,ag);if(gK<ag){ag=gK;
M=aq;P=dh}}for(var dc=0;dc<k;dc++){var lq=~~(i*ad),hn=~~($*ad);ad*=.5;var dF=f.V.tu(G+o*17+dc*31),c3=f.V.tu(G+o*29+dc*63),i8=Math.max(0,M-lq),dr=Math.min(M+lq,i-1),jO=Math.max(0,P-hn),d1=Math.min(P+hn,$-1),aq=i8+~~(dF*(dr-i8)),dh=jO+~~(c3*(d1-jO)),gK=N(ke,c_,r[aq*2],r[aq*2+1],W[dh*2],W[dh*2+1],J,at,ag);
if(gK<ag){ag=gK;M=aq;P=dh}}D[n]=ag;K[n]=M;T[n]=P;af+=ag}}if(z)console.log(af);if(z)console.log("iterations",Date.now()-a);
a=Date.now();var h3=t.slice(0);for(var n=0;n<H;n++){var d5=f.rt.alpha(V[n*2+1],r[K[n]*2+1],W[T[n]*2+1]);
h3[O[n]]=~~(.5+255*d5)}h3=f.Ka.abh(h3,v,new iW(0,0,g,x),16,.01*.01);if(z)console.log("guided filter",Date.now()-a);
a=Date.now();if(X)for(var n=0;n<Y;n++)if(t[n]==255||t[n]==0)h3[n]=t[n];var em=v.slice(0);for(var n=0;
n<H;n++){var fl=O[n],M=p[K[n]],ag=D[n],lA=fl<<2,av=h3[fl],ah=(av>=250?fl:M)<<2;em[lA]=v[ah];em[lA+1]=v[ah+1];
em[lA+2]=v[ah+2]}f.Gj(h3,em,3);if(z)console.log(Date.now()-a);a=Date.now();return em};f.rt.j7=function(d,v,t,h,X,g,x,Z,Y){var a=d>>>16,z=d&65535,p=a-(t>>>16),l=z-(t&65535),L=a-(X>>>16),j=z-(X&65535),O=Math.sqrt(p*p+l*l)*x,F=Math.sqrt(L*L+j*j)*Z;
if(O+F>=Y)return 1e9;var i=f.rt.aEs(v,h,g);return i+O+F};f.rt.aEs=function(d,v,t){var h=d>>>16,X=d>>>8&255,g=d&255,x=v>>>16,Z=v>>>8&255,Y=v&255,a=t>>>16,z=t>>>8&255,l=t&255,L=f.rt.alpha(d,v,t),j=h-(L*x+(1-L)*a),F=X-(L*Z+(1-L)*z),i=g-(L*Y+(1-L)*l);
return Math.sqrt(j*j+F*F+i*i)};f.rt.alpha=function(d,v,t){var h=d>>>16,X=d>>>8&255,g=d&255,x=v>>>16,Z=v>>>8&255,Y=v&255,a=t>>>16,z=t>>>8&255,l=t&255,L=x-a,j=Z-z,F=Y-l,i=h-a,$=X-z,H=g-l,b=L*L+j*j+F*F,r=b==0?.5:(i*L+$*j+H*F)/b;
return Math.max(0,Math.min(1,r))};f.rt.aAt=function(d){};f.rt.atP=function(d,v,t,h,X){var g=[],x=v-1,Z=t-1;
for(var Y=1;Y<Z;Y++)for(var a=1;a<x;a++){var n=Y*v+a;if(d[n]==h&&(d[n-v-1]==X||d[n-v]==X||d[n-v+1]==X||(d[n-1]==X||d[n+1]==X)||(d[n+v-1]==X||d[n+v]==X||d[n+v+1]==X)))g.push(n)}return g};
f.Ka={};f.Ka.a37=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=f.Ka.a5Z,a=f.m(Z*4),z;a.fill(255);var p=t,U=d,l=v,L=h;
f.Gj(d,a,0);z=f.kz(a,t);z=f.kz(z.sN,z.S);p=z.S;L=h>>>2;console.log(p,L);U=f.m(p.k());f.Po(z.sN,U,0);
f.Gj(v,a,0);z=f.kz(a,t);z=f.kz(z.sN,z.S);l=f.m(p.k());f.Po(z.sN,l,0);var j=f.Ka.arO(U,l,p,L,X),O=j[0],F=j[1],i=new iW(0,0,p.r*2,p.$*2);
O=Y(O,p,i,!0);O=Y(O,i,t,!0);F=Y(F,p,i,!0);F=Y(F,i,t,!0);var $=f.m(Z);for(var n=0;n<Z;n++)$[n]=Math.max(0,Math.min(255,Math.floor(.5+(O[n]*v[n]+255*F[n]))));
return $};f.Ka.C2=function(d,v,t,h){v.set(d);f.C2.ae8(v,t,h)};f.Ka.a5Z=function(d,v,t,h){var X=t.r,g=t.$,x=v.r,Z=v.$,Y=f.Ka.Wl,a=new Float32Array(X*g);
for(var z=0;z<Z;z++){var p=(z+z)*X;for(var U=0;U<x;U++){if(!0||U==0||z==0||U==x-1||z==Z-1)a[p]=a[p+1]=a[p+X]=a[p+X+1]=d[z*x+U];
else{a[p]=Y(U+.25,z+.25,d,x,Z);a[p+1]=Y(U+.75,z+.25,d,x,Z);a[p+X]=Y(U+.25,z+.75,d,x,Z);a[p+X+1]=Y(U+.75,z+.75,d,x,Z)}p+=2}}return a};
f.Ka.Wl=function(d,v,t,h,X){d-=.499999;v-=.499999;var g=Math.floor(d),x=Math.floor(v),Z=x*h+g,Y=d-g,a=v-x,z=(1-a)*(1-Y),p=(1-a)*Y,U=a*(1-Y),l=a*Y;
if(t[Z]==null||t[Z+h+1]==null){console.log(d,v,h,X);throw"e"}return z*t[Z+0]+p*t[Z+1]+U*t[Z+h+0]+l*t[Z+h+1]};
f.Ka.arO=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=f.Ka.a4f,a=f.Ka.m,z=f.Ka.C2,p=f.Ka.rw,v=Y(v,Z),d=Y(d,Z),U=a(Z);
z(v,U,t,h);var l=a(Z);z(d,l,t,h);var L=a(Z);p(v,v,L);z(L,L,t,h);var j=a(Z);p(v,d,j);z(j,j,t,h);var O=a(Z),F=a(Z);
for(var n=0;n<Z;n++){var i=U[n],$=l[n],H=L[n]-i*i,b=j[n]-i*$,r=b/(H+X),W=$-r*i;O[n]=r;F[n]=W}var V=a(Z);
z(O,V,t,h);var y=a(Z);z(F,y,t,h);return[V,y]};f.Ka.abh=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=f.Ka.a5Z,a=Date.now(),z=!1,p=t,U=d,l=v,L=h;
p=new iW(0,0,g>>>2,x>>>2);L=h>>>2;U=f.Ka.a62(d,g,x);l=f.Ka.aNw(v,g,x);if(z)console.log(Date.now()-a);
a=Date.now();var j=f.Ka.aIW(U,l,p,L,X),O=j[0],F=j[1],i=j[2],$=j[3];if(z)console.log(Date.now()-a);a=Date.now();
var H=f.m(Z);for(var b=0;b<x;b++)for(var r=0;r<g;r++){var n=b*g+r,W=(b>>>2)*(g>>>2)+(r>>>2),V=n<<2,y=O[W]*v[V]+F[W]*v[V+1]+i[W]*v[V+2]+$[W]*255;
H[n]=Math.max(0,Math.min(255,~~(.5+y)))}if(z)console.log(Date.now()-a);a=Date.now();return H};f.Ka.a62=function(d,v,t){var h=v>>>2,X=t>>>2,g=f.m(h*X);
for(var x=0;x<X;x++)for(var Z=0;Z<h;Z++)g[x*h+Z]=d[x*v+Z<<2];return g};f.Ka.aNw=function(d,v,t){var h=v>>>2,X=t>>>2,g=f.m(h*X*4);
for(var x=0;x<X;x++)for(var Z=0;Z<h;Z++){var Y=x*h+Z<<2,a=x*v+Z<<4;g[Y]=d[a];g[Y+1]=d[a+1];g[Y+2]=d[a+2];
g[Y+3]=d[a+3]}return g};f.Ka.aIW=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=f.Ka.a4f,a=f.Ka.m,z=f.Ka.C2,p=f.Ka.rw,d=Y(d,Z),U=new f.lh(g*x);
f.xI(v,U);var v=[Y(U.C,Z),Y(U.L,Z),Y(U.X,Z)],l=f.Ka.ap7(d,v,t,h,X),L=a(Z);z(d,L,t,h);var j=a(Z);p(v[0],d,j);
z(j,j,t,h);var O=a(Z);p(v[1],d,O);z(O,O,t,h);var F=a(Z);p(v[2],d,F);z(F,F,t,h);var i=a(Z),$=a(Z),H=a(Z),b=a(Z);
for(var n=0;n<Z;n++){var r=L[n],W=l.aG1[n],V=l.ap3[n],y=l.aNi[n],c=j[n]-W*r,S=O[n]-V*r,C=F[n]-y*r;i[n]=l.avW[n]*c+l.alA[n]*S+l.aDT[n]*C;
$[n]=l.alA[n]*c+l.a79[n]*S+l.a8X[n]*C;H[n]=l.aDT[n]*c+l.a8X[n]*S+l.aKN[n]*C;b[n]=r-i[n]*W-$[n]*V-H[n]*y}z(i,i,t,h);
z($,$,t,h);z(H,H,t,h);z(b,b,t,h);return[i,$,H,b]};f.Ka.ap7=function(d,v,t,h,X){var g=t.r,x=t.$,Z=g*x,Y=f.Ka.m,a=f.Ka.C2,z=f.Ka.rw,p={};
p.aG1=Y(Z);a(v[0],p.aG1,t,h);p.ap3=Y(Z);a(v[1],p.ap3,t,h);p.aNi=Y(Z);a(v[2],p.aNi,t,h);var U=Y(Z);z(v[0],v[0],U);
a(U,U,t,h);var l=Y(Z);z(v[0],v[1],l);a(l,l,t,h);var L=Y(Z);z(v[0],v[2],L);a(L,L,t,h);var j=Y(Z);z(v[1],v[1],j);
a(j,j,t,h);var O=Y(Z);z(v[1],v[2],O);a(O,O,t,h);var F=Y(Z);z(v[2],v[2],F);a(F,F,t,h);p.avW=U;p.alA=l;
p.aDT=L;p.a79=j;p.a8X=O;p.aKN=F;for(var n=0;n<Z;n++){var i=p.aG1[n],$=p.ap3[n],H=p.aNi[n],b=U[n]-i*i+X,r=l[n]-i*$,W=L[n]-i*H,V=j[n]-$*$+X,y=O[n]-$*H,c=F[n]-H*H+X,S=V*c-y*y,C=y*W-r*c,K=r*y-V*W,T=b*c-W*W,D=W*r-b*y,N=b*V-r*r,G=S*b+C*r+K*W,s=1/G;
p.avW[n]=S*s;p.alA[n]=C*s;p.aDT[n]=K*s;p.a79[n]=T*s;p.a8X[n]=D*s;p.aKN[n]=N*s}return p};f.Ka.m=function(d){return new Float32Array(d)};
f.Ka.a4f=function(d,v){var t=new Float32Array(v);for(var n=0;n<v;n++)t[n]=d[n]*(1/255);return t};f.Ka.rw=function(d,v,t){for(var n=0;
n<d.length;n++)t[n]=d[n]*v[n]};f.em={};f.em.pK=function(d,v,t,h){var X=d[v]-t[h],g=d[v+1]-t[h+1],x=d[v+2]-t[h+2];
return Math.sqrt(X*X+g*g+x*x)*(1/441.7)};f.em.getSelection=function(d,v,t){var h=v*t,X=f.m(h),g=!1,x=Math.round(t*.7),Z=1,Y=new Uint32Array(12),a=f.m(12);
for(var z=0;z<x;z++)for(var p=0;p<v;p++){if(p<Z||z<Z||p>v-Z-1||z>t-Z-1){var n=z*v+p,U=n<<2,l=0;if(z<Z)l=4;
else if(p>v-Z-1)l=8;Y[l]+=d[U];Y[l+1]+=d[U+1];Y[l+2]+=d[U+2];Y[l+3]++;X[n]=255}}for(var n=0;n<12;n+=4)for(var L=0;
L<3;L++)a[n+L]=Y[n+L]/Y[n+3];var j=new Float32Array(h);for(var n=0;n<h;n++){var U=n*4,O=f.em.pK(d,U,a,0),F=f.em.pK(d,U,a,4),i=f.em.pK(d,U,a,8),$=Math.max(O,Math.max(F,i));
j[n]=O+F+i-$}f.em.aj(j);var H=Date.now(),b=new Float32Array(h),r=[],W=f.m(h);for(var n=0;n<3;n++){f.Po(d,W,n);
var V=new Uint16Array(h);r.push(V);f.em.amn(W,X,v,t,V)}if(g)console.log("MBD",Date.now()-H);H=Date.now();
for(var n=0;n<h;n++)b[n]=r[0][n]+r[1][n]+r[2][n];f.em.aj(b);for(var n=0;n<h;n++)b[n]+=.4*j[n];var y=v>>>1,x=t>>>1,c=1/Math.sqrt(y*y+x*x);
for(var z=0;z<t;z++)for(var p=0;p<v;p++){var S=p-y,C=z-x,K=1-Math.sqrt(S*S+C*C)*c;b[z*v+p]*=K}if(g)console.log("Centeredness",Date.now()-H);
H=Date.now();for(var n=0;n<h;n++)X[n]=b[n]*255;var T=Math.round(v/120),D=Math.round(T*.8);if(g)console.log(T,D);
f.eV.RM(X,X,v,t,T+T+1,!1);if(g)console.log("erosion",Date.now()-H);H=Date.now();for(var n=0;n<h;n++)b[n]=X[n];
f.em.aj(b);var N=f.m(256);for(var n=0;n<256;n++)N[n]=256/(1+Math.exp(-20*(n/255-.5)));for(var n=0;n<h;
n++){var G=~~(b[n]*255+.5);X[n]=N[G]}if(g)console.log("Simoid",Date.now()-H);H=Date.now();return X};
f.em.aj=function(d){var v=d.length,t=0;for(var n=0;n<v;n++)t=Math.max(t,d[n]);var h=1/t;for(var n=0;
n<v;n++)d[n]=d[n]*h};f.em.amn=function(d,v,t,h,X){var g=t*h,x=d.slice(0),Z=d.slice(0);for(var n=0;n<g;
n++)X[n]=v[n]==255?0:65535;f.em.aaH(d,Z,x,X,t,h);f.em.abJ(d,Z,x,X,t,h);f.em.aaH(d,Z,x,X,t,h);f.em.abJ(d,Z,x,X,t,h);
return X};f.em.aaH=function(d,v,t,h,X,g){for(var x=1;x<X;x++)f.em.So(x,-1,d,v,t,h);for(var Z=1;Z<g;Z++){f.em.So(Z*X,-X,d,v,t,h);
for(var x=1;x<X;x++){var n=Z*X+x;f.em.So(n,-1,d,v,t,h);f.em.So(n,-X,d,v,t,h)}}};f.em.abJ=function(d,v,t,h,X,g){for(var x=X-2;
x>=0;x--)f.em.So(X*g-X+x,1,d,v,t,h);for(var Z=g-2;Z>=0;Z--){f.em.So(Z*X+X-1,X,d,v,t,h);for(var x=X-2;
x>=0;x--){var n=Z*X+x;f.em.So(n,1,d,v,t,h);f.em.So(n,X,d,v,t,h)}}};f.em.So=function(n,d,v,t,h,X){var g=n+d,x=v[n],Z=t[g],Y=h[g];
if(Z<x)Z=x;else if(x<Y)Y=x;var a=Z-Y;if(X[g]!=65535&&a<X[n]){X[n]=a;t[n]=Z;h[n]=Y}};f.gr={};f.gr.filter=function(d,v,t,h){var X=v.r,g=v.$,x=X*g,Z=h[0],Y=h[1],a=h[2],z=h[3],p=h[4],U=h[5],l=h[6],L=Date.now(),j=new Float32Array(X*g*4);
f.gr.aup(d,X,g,j);var O=Math.ceil(Z*Math.sqrt(-2*Math.log(.1))),F=new ArrayBuffer(x*4),i=new Float32Array(F),$=new Float32Array(x),H=new Float32Array(x);
for(var n=0;n<x;n++){var b=n*4;i[n]=j[b];$[n]=j[b+1];H[n]=j[b+2]}f.C2.Hd(i,v,O*1/2.4,2);f.C2.Hd($,v,O*1/2.4,2);
f.C2.Hd(H,v,O*1/2.4,2);for(var n=0;n<x;n++){var b=n*4;j[b]=i[n];j[b+1]=$[n];j[b+2]=H[n]}var r=new Uint8Array(F);
for(var n=0;n<x;n++){var b=n*4,W=n*4,i=j[b],$=j[b+1],H=j[b+2],V=Math.sqrt((i-H)*(i-H)+4*$*$),y=(i+H+V)*.5,c=(i+H-V)*.5,S=c-H,C=$,K=S*S+C*C;
if(K!=0){var T=Math.sqrt(K),D=1/T;S*=D;C*=D}r[W]=128+127*S;r[W+1]=128+127*C}var N=1.3*Y+2,G=z*(2/10),s=d.slice();
if(fq.Dz){var Q=new Float32Array([1/X,1/g]),q=fq.IU(0,X,g);q.set(s);var R=fq.IU(1,X,g);R.set(r);fq.Bg(q,v);
if(p){q.f4(v);fq.filter.$R({e:fq.filter.a59,k0:Q,a6f:1/a,ay6:G},q.XR)}q.f4(v);fq.filter.$R({e:fq.filter.Jf,ya:R.gL,k0:Q,AF:N,a2s:2},q.XR);
if(p){q.f4(v);fq.filter.$R({e:fq.filter.aLC,k0:Q,aEk:new Float32Array(l),agP:U},q.XR)}q.get(t)}else{if(p)f.gr.avJ(1/a,G,s,X,g);
f.gr.Jf(s,t,r,X,g,N);if(p)f.gr.aCE(X,g,t,l,U)}var m=x*4;for(var n=3;n<m;n+=4)t[n]=d[n]};f.gr.Jf=function(d,v,t,h,X,g){var x=Math.ceil(2*g),Z=-1/(2*g*g),Y=[],a=1;
for(var n=0;n<x+20;n++)Y[n]=Math.exp(n*n*Z);var z=[0,0,0,0];for(var p=0;p<X;p++){for(var U=0;U<h;U++){var l=p*h+U,L=l*4,j=1,O=d[L],F=d[L+1],i=d[L+2],$=d[L+3],H=(t[L]-128)*(1/127),b=(t[L+1]-128)*(1/127),r=H,W=b,V=U==0?.51:.49,y=p==0?.51:.49;
for(var n=0;n<2;n++){var c=U+V,S=p+y,C=0;while(C<x){if(c<.5||h-.5<c||S<.5||X-.5<S)break;var K=~~c,T=~~S,D=T*h+K,N=D*4,G=(t[N]-128)*(1/127),s=(t[N+1]-128)*(1/127);
if(G*r+s*W<0){G=-G;s=-s}r=G;W=s;c+=a*G;S+=a*s;if(c<.5||h-.5<c||S<.5||X-.5<S)break;var Q=~~c,q=~~S,R=q*h+Q<<2;
C+=a;var m=Y[~~C];f.G.ad$(c,S,d,h,X,z);O+=z[0]*m;F+=z[1]*m;i+=z[2]*m;$+=z[3]*m;j+=m}r=-H;W=-b}var E=1/j;
v[L]=~~(.5+O*E);v[L+1]=~~(.5+F*E);v[L+2]=~~(.5+i*E);v[L+3]=~~(.5+$*E)}}};f.gr.aCE=function(d,v,t,h,X){for(var g=0;
g<v;g++)for(var x=0;x<d;x++){var Z=g*d+x<<2,Y=1+f.gr.aHt(x,g,t,d,v,h)*X;t[Z]=Math.max(0,Math.min(255,t[Z]*Y));
t[Z+1]=Math.max(0,Math.min(255,t[Z+1]*Y));t[Z+2]=Math.max(0,Math.min(255,t[Z+2]*Y))}};f.gr.aHt=function(d,v,t,h,X,g){var x=t[(v*h+Math.max(0,d-1))*4+3],Z=t[(v*h+Math.min(h-1,d+1))*4+3],Y=t[(Math.max(0,v-1)*h+d)*4+3],a=t[(Math.min(X-1,v+1)*h+d)*4+3],z=.7,p=(Z-x)*(1/255),U=.7,l=(a-Y)*(1/255),L=-p*U,j=-z*l,O=z*U,F=Math.sqrt(L*L+j*j+O*O),i=1/F,$=L*i,H=j*i,b=O*i,r=g[0]*$+g[1]*H+g[2]*b;
return r};f.gr.avJ=function(d,v,t,h,X){function g(Z,a,z){return Math.max(a,Math.min(z,Z))}for(var x=0;
x<X;x++)for(var Z=0;Z<h;Z++){var Y=f.gr.aOr(Z+.5,x+.5,d,v);t[(x*h+Z)*4+3]=Math.max(0,Math.min(255,Y*255))}};
f.gr.aOr=function(d,v,t,h){function X(W,V,y){return(1-y)*W+y*V}var g=(d+613)*t,x=(v+117)*t,Z=~~g,Y=~~x,a=g-Z,z=x-Y,p=Math.sin(11),U=Math.cos(Z)*p,l=Math.cos(Z+1)*p,L=Math.cos(Y)*p,j=Math.cos(Y+1)*p,bW=f.gr.hash(U,L),O=f.gr.hash(l,L),F=f.gr.hash(U,j),i=f.gr.hash(l,j),$=X(bW,O,a),H=X(F,i,a),b=X($,H,z);
b=b<.5?0:1;var r=b+h*f.gr.hash(Math.cos(g)*p,Math.cos(x)*p);return r*(1/3)};f.gr.hash=function(d,v){var t=Math.sin(d*11.697096+v*73.32456)*12157.47691;
return t-Math.floor(t)};f.gr.aup=function(d,v,t,h){var X=[-1,0,1,-2,0,2,-1,0,1],g=[-1,-2,-1,0,0,0,1,2,1],x=v-1,Z=t-1,Y=v*4;
for(var a=1;a<Z;a++)for(var z=1;z<x;z++){var n=a*v+z,p=n*4,U=f.gr.Dq(d,p,Y,X),l=f.gr.Dq(d,p,Y,g),L=f.gr.Dq(d,p+1,Y,X),j=f.gr.Dq(d,p+1,Y,g),O=f.gr.Dq(d,p+2,Y,X),F=f.gr.Dq(d,p+2,Y,g);
h[p]=U*U+L*L+O*O;h[p+1]=U*l+L*j+O*F;h[p+2]=l*l+j*j+F*F}f.gr.aHK(h,v,t)};f.gr.Dq=function(d,v,t,h){return d[v-t-4]*h[0]+d[v-t]*h[1]+d[v-t+4]*h[2]+d[v-4]*h[3]+d[v]*h[4]+d[v+4]*h[5]+d[v+t-4]*h[6]+d[v+t]*h[7]+d[v+t+4]*h[8]};
f.gr.aHK=function(d,v,t){function h(Y,n,a){var z=n*4,p=a*4;Y[p]=Y[z];Y[p+1]=Y[z+1];Y[p+2]=Y[z+2]}var X=v-1,g=t-1;
h(d,v+1,0);h(d,2*v-2,v-1);for(var x=1;x<X;x++)h(d,v+x,x);for(var Z=1;Z<g;Z++){h(d,Z*v+1,Z*v);h(d,Z*v+v-2,Z*v+v-1)}for(var x=1;
x<X;x++)h(d,(t-2)*v+x,(t-1)*v+x);h(d,(Z-2)*v+1,(Z-1)*v);h(d,(Z-1)*v-2,Z*v-1)};f.MY=function(){function d(a,z,p,U){var l=new Float32Array(a*a),L=a/2;
for(var j=0;j<a;j++)for(var O=0;O<a;O++){var F=O+p-L,i=j+U-L;l[j*a+O]=Math.max(0,Math.min(1,z+.5-Math.sqrt(F*F+i*i)))}return l}var v=[],h=null;
function t(a,z,p,U){var l=Math.floor(z*10),L=v[l],j=a*8,O=j>>>1;if(L==null){L=v[l]=[];var F=new iW(0,0,j,j),i=a/2/(1+.2*z),$=Math.floor(a*l*.1);
for(var H=0;H<2;H++)for(var b=0;b<2;b++){var r=d(j,i,.25+b*.5,.25+H*.5),W=0;f.C2.Hd(r,F,$);while(r[j*O+W]<.005)W++;
if(W!=0)W--;var V=2*(O-W),y=new iW(W,W,V,V),c=new Float32Array(V*V);for(var S=0;S<V;S++)for(var C=0;
C<V;C++)c[S*V+C]=r[(W+S)*j+W+C];L.push([c,y])}}var K=Math.floor(p),T=Math.floor(U),D=p-K,N=U-T,Q=D<.5?1:0,q=N<.5?1:0;
L=L[q*2+Q];var y=L[1].b();y.x+=K-O;y.y+=T-O;return[L[0],y]}function X(a,z,p){if(h==null){h=new Uint8Array(4e4);
for(var n=0;n<4e4;n++)h[n]=Math.min(255,~~(.5+255*f.e0(n*(1/255))))}var U=a.length;for(var n=0;n<U;n++){var l=a[n],L=~~(255*l);
z[n]=h[L]<<24|p}}function g(a,z,p,U,l){var L=z.hL(U),j=Math.max(0,L.x-z.x),O=Math.max(0,L.x-U.x),F=Math.max(0,L.y-z.y),i=Math.max(0,L.y-U.y),$=L.r,H=L.$;
for(var n=0;n<H;n++){var b=(F+n)*z.r+j,r=(i+n)*U.r+O;for(var W=0;W<$;W++){p[r+W]+=l*a[b+W]}}}var x=-1;
function Z(a,z,p,U,l){var L=Math.round(U[1]*z*p*.01),j=U[2],O=U[3],F=U[4],i=U[5],$=U[6],H=U[7],b=U[8],r=U[9],W=U[10]?U[10]:1,m=!1;
if(j!=x){v=[];x=j}var V=Date.now(),y=new iW(0,0,z,p),c=new Y(U[0]);if(l)a.fill(0);var S=new Float32Array(l?a.buffer:z*p);
for(var n=0;n<L;n++){var C=c.get()*z,K=c.get()*p,T=c.get()*O,D=c.get()*j*4,N=(c.get()+$)*Math.PI*2,G=c.get()*j*4,s=(c.get()+2*$)*Math.PI*2;
C+=r*(D*Math.cos(N)+G*Math.cos(s));K+=r*(D*Math.sin(N)+G*Math.sin(s));if(b)K=K+$*p*W;var Q=t(j,T,C,K%p),q=F,R=c.get();
if(H)q=.5+.5*F*(.5+.5*Math.sin((2*$+R)*2*Math.PI));g(Q[0],Q[1],S,y,q)}if(m)console.log(Date.now()-V,"add floats");
V=Date.now();var E=new Uint8Array(S.buffer);X(S,new Uint32Array(E.buffer),i.X<<16|i.L<<8|i.C);if(m)console.log(Date.now()-V,"toInt");
V=Date.now();if(!l){f.V.Qe("scrn",E,y,a,y,y,1);if(m)console.log(Date.now()-V,"blendOver")}}function Y(a){this.V4=123456789;
this.Ss=987654321;this.AU=4294967295;this.Fl(a)}Y.prototype.Fl=function(n){this.V4=123456789+n&this.AU;
this.Ss=987654321-n&this.AU};Y.prototype.get=function(){this.Ss=36969*(this.Ss&65535)+(this.Ss>>16)&this.AU;
this.V4=18e3*(this.V4&65535)+(this.V4>>16)&this.AU;var a=(this.Ss<<16)+(this.V4&65535)>>>0;a/=4294967296;
return a};return{E$:Z}}();f.wp={};f.wp.j5=function(d,v,t,h){var X=d[v*2],g=d[v*2+1],x=d[t*2],Z=d[t*2+1],Y=d[h*2],a=d[h*2+1];
return X*Z+x*a+Y*g-Y*Z-x*g-X*a};f.wp.aMx=function(d,v){var t=[],h=[],X=[],g={};for(var n=0;n<v.length;
n+=3){var x=~~(n*(1/3)),Z=v[n+0],Y=v[n+1],a=v[n+2],z=f.wp.j5(d,Z,Y,a);if(z>0){var p=Y;Y=a;a=p}var U=g[a+"-"+Y],l=g[Y+"-"+Z],L=g[Z+"-"+a],j=[a,U,x,null],O=[Y,l,x,j],F=[Z,L,x,O];
j[3]=F;if(U)U[1]=j;if(l)l[1]=O;if(L)L[1]=F;g[a+"-"+Z]=F;g[Z+"-"+Y]=O;g[Y+"-"+a]=j;t[Z]=O;X[n]=O;t[Y]=j;
X[n+1]=j;t[a]=F;X[n+2]=F;h[x]=O}return{w8:t,hg:h,te:X}};f.wp.a5A=function(d){var v=[],t=d.hg;for(var n=0;
n<t.length;n++){var h=t[n];v.push(h[0]);h=h[3];v.push(h[0]);h=h[3];v.push(h[0])}return v};f.wp.aMJ=function(d,v,t,h){var X=d[v*2],g=d[v*2+1],x=d[t*2],Z=d[t*2+1],Y=d[h*2],a=d[h*2+1],z=x-X,p=Z-g,U=Y-X,l=a-g,L=z*(X+x)+p*(g+Z),j=U*(X+Y)+l*(g+a),O=2*(z*(a-Z)-p*(Y-x));
if(Math.abs(O)<1e-5){var F=Math.min(X,x,Y),i=Math.min(g,Z,a),$=(Math.max(X,x,Y)-F)*.5,H=(Math.max(g,Z,a)-i)*.5;
return[F+$,i+H,$*$+H*H,1]}var b=(l*L-p*j)/O,r=(z*j-U*L)/O,$=b-X,H=r-g;return[b,r,$*$+H*H,0]};f.wp.a1R=function(d,v,t){var h=t[1],X=t[3],g=X[3],x=h[3],Z=x[3],Y=t[2],a=h[2],z=t[0],p=h[0],U=X[0],l=x[0],L=f.wp.aMJ(d,p,l,U),j=d[z*2]-L[0],O=d[z*2+1]-L[1],F=j*j+O*O>L[2]&&L[3]==0&&f.wp.j5(d,l,z,U)<0&&f.wp.j5(d,U,p,l)<0;
if(F){t[0]=U;h[0]=l;t[3]=g;g[3]=x;x[3]=t;h[3]=Z;Z[3]=X;X[3]=h;X[2]=a;x[2]=Y;v.hg[a]=Z;v.hg[Y]=g;v.w8[p]=x;
v.w8[z]=X}return F};f.wp.aI6=function(d,v,t){var h=d[v*2]-d[t*2],X=d[v*2+1]-d[t*2+1];return Math.sqrt(h*h+X*X)};
f.wp.aNc=function(d,v,t){var h=t[1],X=t[3],g=X[3],x,Z,Y=t[2],a,z=t[0],p=g[0],U=X[0],l;if(h){x=h[3];Z=x[3];
a=h[2];l=x[0]}var L=d.length>>>1;d[2*L]=(d[2*p]+d[2*z])*.5;d[2*L+1]=(d[2*p+1]+d[2*z+1])*.5;if(!0){var j=Y,O=t,F=v.hg.length,i=[L,null,j,O],$=[U,i,F,g];
i[1]=$;var H=[L,null,F,$];X[3]=i;g[3]=H;g[2]=F;v.hg[j]=X;v.hg[F]=H;v.w8[z]=X;v.w8[U]=g;v.te.push(i,$,H)}if(h){var b=a,r=h,W=F+1;
H[1]=r,r[1]=H;var V=[L,null,b,r],y=[l,V,W,Z];V[1]=y;var c=[L,O,W,y];O[1]=c;x[3]=V;Z[3]=c;Z[2]=W;v.hg[b]=x;
v.hg[W]=Z;v.w8[p]=x;v.w8[l]=Z;v.te.push(V,y,c)}v.w8[L]=O};f.wp.apI=function(d,v){var t=0;while(!0){var h=t;
for(var n=0;n<v.te.length;n++){var X=v.te[n];if(X[1]==null)continue;var g=f.wp.a1R(d,v,X);if(g){t++;
break}}if(h==t)break}return t!=0};f.wp.aBp=function(d,v,t,h){var X=0;for(var n=0;n<h;n++){var g=null,x=0;
for(var Z=0;Z<v.te.length;Z++){var Y=v.te[Z],a=f.wp.aI6(d,Y[0],Y[3][3][0])*(Y[1]?1:2);if(a>x){g=Y;x=a}}if(x>t){f.wp.aNc(d,v,g);
X++}}return X!=0};f.wp.aCB=function(d,v){var t=[],U=0;for(var n=0;n<d.length;n++)t.push(0);for(var n=0;
n<v.te.length;n++){var h=v.te[n],X=h[0],g=h[3][3][0],x=d[X*2],Z=d[X*2+1],Y=d[g*2],a=d[g*2+1],z=x-Y,p=Z-a;
t[X*2]+=-z;t[X*2+1]+=-p;t[g*2]+=z;t[g*2+1]+=p}for(var n=0;n<d.length;n+=2){var l=n>>>1,L=v.w8[l],h=L,j=!0;
do{if(h[1]==null){j=!1;break}h=h[1][3]}while(h!=L);if(j){var O=.02;d[n]+=O*t[n];d[n+1]+=O*t[n+1];U+=O*(t[n]*t[n]+t[n+1]*t[n+1])}}return U};
f.wp.a3f=function(d,v,t){var h=f.Q.mo(d),X=f.wp.aMx(d,v);f.wp.apI(d,X);for(var g=0;g<300;g++){var x=!1,Z=!1;
x=f.wp.aBp(d,X,t,5);if(x)Z=f.wp.apI(d,X);var Y=f.wp.aCB(d,X);if(!x&&!Z&&Y<1e-4){break}}return f.wp.a5A(X)};
f.Zb={};f.Zb.amT=function(d){var v=d.Y3,t=d.gI,h=d.Bm,X=d.acI,g=d.Jo,x=d._C,Z=d.c9,Y=f.AC.kE,i,$,H=0;
function a(bW){var af=new Array(bW);for(var n=0;n<bW;n++)af[n]=0;return af}var z=t.length>>>1,p=a(v.a3K*2),U=a(v.a3K),l=a(v.a3K),L=Date.now();
for(var n=0;n<d.Jn.length;n++){var j=v.aFb+n,O=v.F0*(x[n*2]+Z[n*2]),F=v.F0*(x[n*2+1]+Z[n*2+1]);p[j*2]=O;
p[j*2+1]=F;U[j]=O;l[j]=F}v.alo.d8(X,v.azQ.kE(p),.01,i,$);for(var n=0;n<v.akD.te.length;n++){var b=v.akD.te[n],r=b[3][3][0],W=b[0],V=b[3][0],y=b[1]?b[1][3][0]:V;
if(b[1]&&r>W)continue;var c=t[r*2],S=t[r*2+1],C=t[W*2],K=t[W*2+1],T=X[r*2],D=X[r*2+1],N=X[W*2],G=X[W*2+1],s=X[V*2],Q=X[V*2+1],q=X[y*2],R=X[y*2+1],m=[T,D,N,G,s,Q];
if(b[1])m.push(q,R);var E=Y(v.aMp[H],m),e=E[0],w=E[1],M=1/Math.sqrt(e*e+w*w);e*=M;w*=M;var P=C-c,I=K-S;
U[H]=e*P+w*I;l[H]=-w*P+e*I;H++}var k=new Array(z),o=new Array(z);for(var n=0;n<z;n++){k[n]=g[n*2];o[n]=g[n*2+1]}v.apL.d8(k,v.aLA.kE(U),.5);
v.apL.d8(o,v.aLA.kE(l),.5);for(var n=0;n<z;n++){g[n*2]=k[n];g[n*2+1]=o[n]}};f.Zb.akT=function(d){var v=d.gI,t=d.Bm,h=d.Jn,X=f.AC.multiply,g=Date.now(),x=f.wp.aMx(v,t),Z=v.length>>>1,Y=0,L=0,w=1e3;
for(var n=0;n<x.te.length;n++)Y+=x.te[n][1]?.5:1;var a=Y+h.length,z=[],p=new f.TD(a*2,Z*2),U=new f.TD(a,Z),l=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],j=[],O=[];
for(var n=0;n<x.te.length;n++){var F=x.te[n],i=F[3][3][0],$=F[0],H=F[3][0],b=F[1]?F[1][3][0]:H;if(F[1]&&i>$)continue;
var r=v[i*2],W=v[i*2+1],V=v[$*2],y=v[$*2+1],c=v[H*2],S=v[H*2+1],C=v[b*2],K=v[b*2+1],T=[[r,W,1,0],[W,-r,0,1],[V,y,1,0],[y,-V,0,1],[c,S,1,0],[S,-c,0,1]];
if(F[1])T.push([C,K,1,0],[K,-C,0,1]);var D=f.AC.zR(T),N=X(linear.invert(X(D,T)),D);N.pop();N.pop();z.push(N);
var G=V-r,s=y-W,Q=l[F[1]?1:0];Q=f.AC.hP(Q,X([[G,s],[s,-G]],N));var q=[i*2,i*2+1,$*2,$*2+1,H*2,H*2+1,b*2,b*2+1],R=F[1]?8:6,m=[];
for(var E=0;E<R;E++)m.push([q[E],Q[0][E],Q[1][E]]);m.sort(function(af,J){return af[0]-J[0]});for(var e=0;
e<2;e++){for(var E=0;E<R;E++){j[E]=m[E][0];O[E]=m[E][1+e]}p.M8(O,j,R)}if(i<$)U.M8([-1,1],[i,$],2);else U.M8([1,-1],[$,i],2);
L++}for(var n=0;n<h.length;n++){var M=h[n];p.M8([w],[M*2],1);p.M8([w],[M*2+1],1);U.M8([w],[M],1)}var P=p.zR(),I=P.lL(P),k=U.zR(),o=k.lL(k);
return{aFb:Y,a3K:a,azQ:P,alo:I,aLA:k,apL:o,akD:x,aMp:z,F0:w}};f.Zb.av8=function(d,v,t,h,X){var g=new iW(0,0,v,t),x=f.m(g.k());
f.Po(d,x,3);f.round(x,70);var Z=f.FY(x,g),Y=[.1,.065,.035][h]*Math.max(Z.r,Z.$),a=X+1,z=v+a*2,p=t+a*2,U=new iW(-a,-a,z,p),l=f.m(U.k());
f.Qb(x,g,l,U);var L=l.slice(0);for(var j=0;j<X;j++){for(var O=1;O<p-1;O++){for(var F=1;F<z-1;F++){var n=O*z+F;
L[n]=l[n-z]|l[n-1]|l[n]|l[n+1]|l[n+z]}}var i=L;L=l;l=i}var $=bJ.h7(l,z,p,Math.round(Z.k()*5e-4)),H=bJ.V9($),b=new gi(1,0,0,1,-a,-a);
for(var n=0;n<H.length;n++){var r=H[n];f.Q.M(r.path.I,b,r.path.I);r.gI=f.Zb.a6p(r.path);r.Bm=f.Q.ark(r.gI);
r.Bm=f.wp.a3f(r.gI,r.Bm,Y)}return H};f.Zb.a6p=function(d){var v=f.Q.NR(d);v=f.Q.aKl(v,1);var t=[],h=v.length;
for(var n=0;n<h;n+=2){var X=v.pop(),g=v.pop();t.push(g,X)}return t};f.Zb.aD$=function(d,v,t,h){function X(V,y,c,S,C){var K=C[V*2]-C[y*2],T=C[V*2+1]-C[y*2+1],D=Math.sqrt(K*K+T*T);
if(c[V].indexOf(y)==-1){c[V].push(y);S[V].push(D)}if(c[y].indexOf(V)==-1){c[y].push(V);S[y].push(D)}}var g=d.length>>>1,x=new Array(g);
if(t.length==0){x.fill(0);return x}var Z=new Array(g),Y=new Array(g);for(var n=0;n<g;n++){Z[n]=[];Y[n]=[]}for(var n=0;
n<v.length;n+=3){X(v[n],v[n+1],Z,Y,d);X(v[n],v[n+2],Z,Y,d);X(v[n+1],v[n+2],Z,Y,d)}var a=new Float64Array(g*2),z=new Uint32Array(g*2);
a.fill(1e9);var p=new Uint8Array(g);for(var U=0;U<t.length;U++){p.fill(0);var l=["---",[0,t[U]]];while(l.length!=1){var L=f.qA.Az(l),j=L[0],O=L[1];
if(p[O]==1)continue;var F=O<<1;if(j<a[F]){a[F+1]=a[F];z[F+1]=z[F];a[F]=j;z[F]=U}else if(j<a[F+1]){a[F+1]=j;
z[F+1]=U}p[O]=1;var i=Z[O],$=Y[O];for(var n=0;n<i.length;n++){var H=i[n];if(p[H]!=1){f.qA.e7(l,[j+$[n],H])}}}}for(var n=0;
n<g;n++){var F=n<<1,b=a[F],r=a[F+1],W=1/(b+r);x[n]=(1-b*W)*h[z[F]]+(1-r*W)*h[z[F+1]]}return x};f.Zb.alM=function(d){var v={s2:[],I:[]},t=[d];
while(t.length!=0){var h=t.pop(),X=h.l7;if(h.au0 instanceof Array||h.aKL instanceof Array){v.s2.push("M","L","L","L","Z");
v.I.push(X[0],X[1],X[2],X[1],X[2],X[3],X[0],X[3])}else t.push(h.au0,h.aKL)}return v};f.Zb.LB=function(d,v,t,h,X,g,x,Z,Y,a,z){var p=Math.round(a.length/3),U=new Array(p);
for(var n=0;n<p;n++)U[n]=n;if(Y)U.sort(function(L,j){return Y[a[L*3]]-Y[a[j*3]]});for(var n=0;n<p;n++){var l=U[n]*3;
f.Zb.a97(a[l]*2,a[l+1]*2,a[l+2]*2,x,Z,d,v,t,h,X,g,z)}};f.Zb.a97=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U=[d,v,t,1.2,1.2,1.2,0],l=[0,0,0,0],L=X[d],j=X[d+1],O=X[v],F=X[v+1],i=X[t],$=X[t+1],H=O-L,b=F-j,r=i-L,W=$-j,V=H*W-r*b+1e-9,y=1/V,c=Math.max(0,Math.min(x-1,h[d])),S=Math.max(0,Math.min(x-1,h[v])),C=Math.max(0,Math.min(x-1,h[t])),K=Math.max(0,Math.min(Z-1,h[d+1])),T=Math.max(0,Math.min(Z-1,h[v+1])),D=Math.max(0,Math.min(Z-1,h[t+1])),N=L<O?L<i?d:t:O<i?v:t,G=X[N+1]+.5,s=Math.max(0,Math.floor(Math.min(L,O,i))),Q=Math.min(a,Math.ceil(Math.max(L,O,i))),q=Math.max(0,Math.floor(Math.min(j,F,$))),R=Math.min(z,Math.ceil(Math.max(j,F,$))),m=1e9;
for(var E=q;E<R;E++){var e=E>G&&m!=1e9?m:s;m=1e9;for(var w=e;w<Q;w++){var M=w+.5-L,P=E+.5-j,I=(M*W-r*P)*y,k=(H*P-M*b)*y;
if(I>=0&&k>=0&&I+k<=1){if(m==1e9)m=w;var o=1-I-k,af=c*o+S*I+C*k,J=K*o+T*I+D*k;if(p){var at=Math.floor(.5+J)*x+Math.floor(.5+af),ke=at<<2,c_=E*a+w<<2;
Y[c_]=g[ke];Y[c_+1]=g[ke+1];Y[c_+2]=g[ke+2];Y[c_+3]=g[ke+3]}else{f.G.ad$(af,J,g,x,Z,l);f.Zb.a5P(l,Y,E*a+w<<2)}}else if(m!=1e9)break}}};
f.Zb.a5P=function(d,v,t){if(d[3]>250){v[t]=~~(.5+d[0]);v[t+1]=~~(.5+d[1]);v[t+2]=~~(.5+d[2]);v[t+3]=~~(.5+d[3])}else{var h=v[t],X=v[t+1],g=v[t+2],x=v[t+3],Z=1-d[3]*(1/255);
v[t]=~~(.5+d[0]+h*Z);v[t+1]=~~(.5+d[1]+X*Z);v[t+2]=~~(.5+d[2]+g*Z);v[t+3]=~~(.5+d[3]+x*Z)}};f.Zb.amj=function(){var d=function(t,h,X,g){var x=g[0],Z=g[1],Y=g[2],a=t[x+0],z=t[x+1],p=t[Z+0],U=t[Z+1],l=t[Y+0],L=t[Y+1],j=p-a,O=U-z,F=l-a,i=L-z,$=h-a,H=X-z,b=j*i-F*O,r=1/(b+1e-9),W=($*i-F*H)*r,V=(j*H-$*O)*r;
if(W>=0&&V>=0&&W+V<=1){g[3]=1-W-V;g[4]=W;g[5]=V;return 1}return 0},v=function(t,h,X,g){var x=[0,0,0,0,0,0];
for(var n=0;n<h.length;n+=3){x[0]=h[n]*2;x[1]=h[n+1]*2;x[2]=h[n+2]*2;if(d(t,X,g,x)==1)return!0}return!1};
return{ahi:d,ajg:v}}();f.Ua={};f.Ua.aO6=function(d,v,t,h){d=d.slice(0);if(h)for(var n=0;n<d.length;n+=4)d[n+3]=(d[n+3]&254)+(h[n>>>2]<128?0:1);
else for(var n=0;n<d.length;n+=4)d[n+3]=d[n+3]&254;var X=f.m(v*t*4),g=!1;f.G.kg(d,v,t,X,[t,v,0,1,0,1,0,0]);
return[f.Ua.O4(d,v,t,g),f.Ua.O4(X,t,v,g)]};f.Ua.M=function(d,v){var t=!1,h=d[0],X=d[1],g=h[1],x=h[2],Z=h[3],Y=v.r,a=v.$;
if(x==Y&&Z==a)g=g.slice(0);else if(Z!=a){var z=f.m(x*a*4);f.Ua.SH(X,a,z,t);g=f.m(x*a*4);f.G.kg(z,a,x,g,[x,a,0,1,0,1,0,0]);
if(x!=Y){h=f.Ua.O4(g,x,a,t);g=f.m(Y*a*4);f.Ua.SH(h,Y,g,t)}}else if(x!=Y){g=f.m(Y*Z*4);f.Ua.SH(h,Y,g,t)}for(var n=0;
n<g.length;n+=4)if(g[n+3]==254)g[n+3]=255;return g};f.Ua.O4=function(d,v,t,h){var X=Date.now(),g=new Uint16Array(v*t),Y=1;
f.Ua.ahP(d,v,t,g);for(var x=0;x<t;x++)for(var Z=0;Z<v;Z++){var n=x*v+Z;g[n]+=Math.floor((65535-g[n])*(d[n*4+3]&1))}var a=Math.ceil(v/Y),z=new Uint32Array(Y),p=new Uint32Array(Y),a=Math.floor(v/Y);
for(var U=0;U<Y;U++)p[U]=U<Y-1?a:v-(Y-1)*a;for(var x=0;x<t;x++){var n=x*v;for(var U=0;U<Y;U++){var a=p[U];
for(var Z=0;Z<a;Z++)z[U]+=g[n+Z];n+=a}}if(h){console.log(Date.now()-X,"cost");X=Date.now()}var l=new Uint32Array(v),L=new Uint32Array(v),j=new Uint32Array(v*t);
for(var Z=0;Z<v;Z++){j[(t-1)*v+Z]=g[(t-1)*v+Z]}for(var x=t-2;x>=0;x--){var O=x*v;for(var U=0;U<Y;U++){var a=p[U];
j[O]=g[O]+Math.min(j[O+v],j[O+v+1]);for(var Z=1;Z<a-1;Z++){var n=O+Z;j[n]=g[n]+Math.min(j[n+v-1],Math.min(j[n+v],j[n+v+1]))}O+=a-1;
j[O]=g[O]+Math.min(j[O+v-1],j[O+v]);O++}}if(h){console.log(Date.now()-X,"Building M");X=Date.now()}function F(S,C){return S<C?S:C}function i(n,S){var C=L[n],K=j[S],T=~~(C*K*1e-4);
return T}var $=new Uint8Array(v*t),H=new Uint32Array(v);for(var n=0;n<v;n++){l[n]=n;L[n]=g[n]}for(var x=1;
x<t;x++){var b=0,O=x*v;for(var U=0;U<Y;U++){var a=p[U],n=O;H[b]=i(b,n);var r=H[b]+i(b+1,n+1),W=i(b,n+1)+i(b+1,n);
H[b+1]=F(r,W);for(var Z=2;Z<a;Z++){var n=O+Z,V=H[b+Z-1]+i(b+Z-1,n-1),y=H[b+Z-2]+i(b+Z-1,n-2)+i(b+Z-2,n-1);
H[b+Z]=F(V,y)}var Z=a-1;while(Z>=2){var n=O+Z,V=H[b+Z-1]+i(b+Z-1,n-1),y=H[b+Z-2]+i(b+Z-1,n-2)+i(b+Z-2,n-1);
if(H[b+Z]==V){$[n-v]=1;Z-=1}else{$[n-v]=0;$[n-v-1]=2;Z-=2}}var n=O;if(Z==0){$[n-v]=1}else{if(H[b+1]==r){$[n+1-v]=1;
$[n-v]=1}else{$[n+1-v]=0;$[n-v]=2}}O+=a;b+=a}f.Ua.aL9(x,v,$,g,l,L,!0,X)}if(h){console.log(Date.now()-X,"Matching");
X=Date.now()}var c=g;return[UZIP.adler(d,0,d.length),d,v,t,Y,p,z,l,L,$,c]};f.Ua.SH=function(d,v,t,h){var X=d.slice(0),g=X.shift(),x=X.shift(),Z=X.shift(),Y=X.shift(),a=X.shift(),z=X.shift(),p=X.shift(),U=X.shift(),l=X.shift().slice(0),L=X.shift(),j=X.shift(),O=Date.now(),F=Math.abs(Z-v),i=Math.floor(F/a),$=new Uint32Array(a),b=0,r=1e9,V=0,y=0,c=0;
for(var H=0;H<a;H++)$[H]=H<a-1?i:F-(a-1)*i;j.fill(0);for(var W=0;W<Z;W++){b=Math.max(b,l[W]);r=Math.min(r,l[W])}for(var H=0;
H<a;H++){var S=z[H],i=$[H];for(var C=0;C<i;C++){var K=0,T=1e9;for(var W=0;W<S;W++)if(l[y+W]<T){T=l[y+W];
K=y+W}if(v<Z)l[K]=1e9;else l[K]*=1.2;if(c<Z/3)V+=T;var D=U[K],N=j[D],G=N<65280?65280:N+1;if(G<65280)throw"e";
for(var s=0;s<Y;s++){var n=s*Z+D;j[n]=G;D+=L[n]-1}c++}y+=S}if(h){console.log(Date.now()-O,"Removing best seams");
O=Date.now()}function Q(n,R){var m=n<<2,E=R<<2;t[m]=x[E];t[m+1]=x[E+1];t[m+2]=x[E+2];t[m+3]=x[E+3]}for(var s=0;
s<Y;s++){var q=0,n=s*Z;for(var W=0;W<v;W++,q++){if(v<Z){while(j[n+q]==65280)q++;Q(s*v+W,s*Z+q)}else{Q(s*v+W,s*Z+q);
while(j[n+q]>=65280){j[n+q]--;W++;Q(s*v+W,s*Z+q)}}}}if(h){console.log(Date.now()-O,"Shifting image pixels");
O=Date.now()}};f.Ua.aL9=function(d,v,t,h,X,g){var x=0,n=d*v;while(x<v){if(t[n-v]==1){g[x]=g[x]+h[n];
x++;n++}else{var Z=X[x];X[x]=X[x+1];X[x+1]=Z;var Y=g[x];g[x]=g[x+1]+h[n];g[x+1]=Y+h[n+1];x+=2;n+=2}}};
f.Ua.ahP=function(d,v,t,h){function X(d,n,Y){var p=n<<2,U=Y<<2,l=d[p]-d[U],L=d[p+1]-d[U+1],j=d[p+2]-d[U+2];
return Math.abs(l)+Math.abs(L)+Math.abs(j)}for(var g=1;g<v;g++){var x=X(d,g,g-1);h[g-1]+=x;h[g]+=x}for(var Z=1;
Z<t;Z++){var Y=Z*v,x=X(d,Y,Y-v);h[Y]+=x;h[Y-v]+=x;for(var g=1;g<v;g++){var n=Z*v+g,a=X(d,n,n-1),z=X(d,n,n-v);
h[n-v]+=z;h[n-1]+=a;h[n]+=z+a}}for(var Z=0;Z<t;Z++){h[Z*v]*=2;h[Z*v+v-1]*=2}for(var n=0;n<h.length;n++)if(h[n]==0)h[n]=1};
f.uB=function(){function d(){return 1953e6+Math.floor(Math.random()*999999)}function v(T,D){var N=D[0]-T[0],G=D[1]-T[1];
return N*N+G*G}function t(T,D,N,G,s,Q,q,R){var m=N-T,E=G-D,e=f.Q.G_(T,D,m,E,s,Q,q-s,R-Q),w=[T+e*m,D+e*E],M=e>0?[[[T,D],w,!1,0,1],[[s,Q],w,!1,0,5]]:[[[N,G],w,!1,0,1],[[q,R],w,!1,0,5]];
return M}function h(T,D){var N=t(T[0],T[1],T[2],T[3],T[6],T[7],T[4],T[5]),G=t(T[0],T[1],T[6],T[7],T[2],T[3],T[4],T[5]),s=[N,G],Q=[N[0][1],G[0][1]];
for(var n=0;n<2;n++){var q=Q[1-n],R=s[n];if(v(R[0][0],q)<v(R[1][0],q)){var m=R[0];R[0]=R[1];R[1]=m}}var E=[d(),0,-1,0,[0,0],N[0],N[1],G[0],G[1]],e=b(E,D),w=e[1][0];
E[3]=w;E[4]=e[0][w];E[5][3]=E[6][3]=e[0].indexOf(E[5][1]);E[7][3]=E[8][3]=e[0].indexOf(E[7][1]);if((E[6][3]+1)%3!=E[7][3]){var m=E[5];
E[5]=E[7];E[7]=m;var m=E[6];E[6]=E[8];E[8]=m}for(var n=0;n<4;n++)E[5+n][4]=[1,5,7,3][n];return E}function X(T){var D=T[5],N=T[8],G=T[6],s=D[0],Q=N[0],q=G[0],R=D[1],m=N[1],E=Q[0],e=Q[1],w=m[0]-E,M=m[1]-e,P=f.Q.G_(E,e,w,M,q[0],q[1],R[0]-q[0],R[1]-q[1]);
return[s[0],s[1],E,e,E+P*w,e+P*M,q[0],q[1]]}function g(T,D){return T[0]==D[0]&&T[1]==D[1]}function x(T){return{1:0,5:1,7:2,3:3}[T]}function Z(T,D,N){var G=D[5+x(T)],s=G[1],Q=G[0][0]-s[0],q=G[0][1]-s[1],R=Math.sqrt(Q*Q+q*q);
Q/=R;q/=R;for(var m=0;m<N.length;m++){var E=N[m];if(E[0]!=D[1]&&E[1]!=D[0])continue;for(var n=0;n<4;
n++){var e=E[5+n],w=e[0];if(!g(s,e[1]))continue;var M=w[0]-s[0],P=w[1]-s[1];R=Math.sqrt(M*M+P*P);M/=R;
P/=R;var I=M*Q+P*q;if(Math.abs(I-1)<1e-7)return!0}}return!1}function Y(T,D){f.G.M(T,D);return D}function a(T,D){var N=[];
for(var G=0;G<T.length;G++){var s=T[G],Q=s[1];for(var q=0;q<Q.length;q++){if(D&&D[G].indexOf(q)==-1)continue;
var R=Q[q],m=[],E=f.G.ms(X(R),new iW(0,0,1,1));for(var n=1;n<=7;n+=2){m[n]=Z(n,R,Q)}if(!m[1]){if(!m[7])N.push([Y(E,[0,0]),G,q,0]);
N.push([Y(E,[.5,0]),G,q,1])}if(!m[3]){if(!m[1])N.push([Y(E,[1,0]),G,q,2]);N.push([Y(E,[1,.5]),G,q,3])}if(!m[5]){if(!m[3])N.push([Y(E,[1,1]),G,q,4]);
N.push([Y(E,[.5,1]),G,q,5])}if(!m[7]){if(!m[5])N.push([Y(E,[0,1]),G,q,6]);N.push([Y(E,[0,.5]),G,q,7])}}}return N}function z(T){var D=T.length-2,N=0;
for(var n=0;n<D;n+=2)N+=(T[n+2]-T[n])*(T[n+1]+T[n+3]);N+=(T[0]-T[D])*(T[D+1]+T[1]);return-N*.5}function p(T,D,N,G){}function U(T,n){var D=T[n+2&7]-T[n&7],N=T[n+3&7]-T[n+1&7],G=1/Math.sqrt(D*D+N*N);
return[D*G,N*G]}function l(T){var D=T[2];T[2]=T[6];T[6]=D;var D=T[3];T[3]=T[7];T[7]=D}function L(T,D,N,G){if(G==null)G=0;
var s=D[1],Q=X(D),P=null,I,J,at,jO,d1,M,h3;if(s==0){if(z(Q)<0)l(Q);var q=6,R=Q[7]+Q[1];for(var n=0;n<6;
n+=2){var m=Q[n+1]+Q[n+3];if(m<R){R=m;q=n}}Q=Q.slice(q).concat(Q.slice(0,q));var E=A.Fv.B1(Q,N[0],N[1]),e=Math.sqrt(v(Q,Q.slice(2))),w=Math.sqrt(v(Q.slice(4),Q.slice(6))),M=(e+w)*.5;
return[Q,new iW(0,0,M,M/E)]}for(var n=0;n<T.length&&P==null;n++){I=T[n][1];for(var k=0;k<I.length&&P==null;
k++)if(I[k][0]==s)P=I[k]}var o=L(T,P,N,G+1),af=o[0];o=o[1];for(var n=0;n<8;n+=2){var ke=af[n&7],c_=af[n+1&7],ag=af[n+2&7],dz=af[n+3&7];
for(var k=0;k<8;k+=2){var kL=Q[k],aq=Q[k+1],dh=Q[k+2&7],gK=Q[k+3&7],ad=Math.abs(f.Q.A2(ke,c_,ag,dz,kL,aq))+Math.abs(f.Q.A2(ke,c_,ag,dz,dh,gK));
if(ad<=30){J=k;at=n}}}var dc=U(af,at),lq=U(Q,J),hn=dc[0]-lq[0],dF=dc[1]-lq[1],c3=hn*hn+dF*dF;if(c3<.001){l(Q);
J={0:6,2:4,4:2,6:0}[J]}while(J!=(at+4&7)){Q.unshift(Q.pop());J=J+1&7}var E=A.Fv.B1(Q,N[0],N[1]),i8=f.G.ms(af,o);
i8=f.G.zJ(i8);var dr=[Q[J],Q[J+1],Q[J+2&7],Q[J+3&7]];f.G.M(i8,dr);var d5=f.Q.mo(dr);if(at==0||at==4){M=d5.r;
h3=M/E;jO=d5.x;d1=d5.y+(at==0?-h3:0)}else{h3=d5.$;M=h3*E;d1=d5.y;jO=d5.x+(at==6?-M:0)}return[Q,new iW(jO,d1,M,h3)]}function j(T,D){function N(w,M,P,I){var k=Y(w,[M,P]);
k.push(I);return k}var G=[];for(var s=0;s<T.length;s++){var Q=T[s],q=Q[1];for(var R=0;R<q.length;R++){var m=q[R],E=L(T,m,D),e=E[0],w=f.G.ms(e,new iW(0,0,1,1));
G.push(N(w,.5,0,1));G.push(N(w,1,.5,3));G.push(N(w,.5,1,5));G.push(N(w,0,.5,7));G.push(N(w,.5,.5,[E?(E[1].r/E[1].$).toFixed(2):""].join(", ")))}}return G}function O(T,D,N,G){var s=[D],Q=[D];
while(!0){var q=[];for(var n=0;n<T.length;n++){var R=T[n],m=!1;for(var E=0;E<s.length;E++){if(R[1]==T[s[E]][0]||R[0]==T[s[E]][1])q.push(n)}}var e=s.length;
for(var n=0;n<q.length;n++){var w=q[n],R=T[w];if(Q.indexOf(w)!=-1)continue;Q.push(w);var M=L([[10,T]],R,G);
if(M[1].GD(N))s.push(w)}if(e==s.length)break}return s}function F(T,D,N){var G=N[0],s=N[1],Q=D.x-T[0],q=D.y-T[1],R=f.Q.G_(T[0],T[1],Q,q,s[0],s[1],G[0]-s[0],G[1]-s[1]);
return[T[0]+R*Q,T[1]+R*q]}function i(T,D,N){T=f.v(T);var G=T[D[1]][1][D[2]],s=D[3]>=8,Q=D[3]&7;if((Q&1)==0)return T;
var q=x(Q);if(Q==1||Q==7){var R=G[5+q],m=G[5+2-q],E=G[5+(Q==1?3:1)],e=G[5+(Q==1?1:3)],w=R[1],M=F(w,N,m);
if(!s&&v(M,m[1])<v(e[0],m[1]))return T;R[0]=m[0]=M;E[0]=F(w,N,E)}else{var E=G[5+q],w=E[1],R=G[5+(Q==3?0:2)],M=F(w,N,R);
if(!s&&v(M,R[1])>v(R[0],R[1]))return T;if(Math.sign(R[1][0]-R[0][0])!=Math.sign(R[1][0]-M[0]))return T;
E[0]=M}return T}function $(T,D,N){var G=D[0]-T[0],s=D[1]-T[1],Q=f.Q.G_(N[0],N[1],-s,G,T[0],T[1],G,s);
return[N[0]-s*Q,N[1]+G*Q]}function H(T,D,N){var G=N[0],s=N[1],Y=$(T,D,N),Q=Y[0],q=Y[1],R=$(T,N,D),m=f.Q.G_(Q,q,G-Q,s-q,D[0],D[1],R[0]-D[0],R[1]-D[1]);
return[Q+(G-Q)*m,q+(s-q)*m]}function b(T,D){var N=T[5][1],G=T[7][1],s=H(N,G,D),Q=[N,G,s];Q.sort(function(m,E){return m[0]-E[0]});
if(z([Q[0][0],Q[0][1],Q[1][0],Q[1][1],Q[2][0],Q[2][1]])<0){var q=Q[1];Q[1]=Q[2];Q[2]=q}var R=[Q.indexOf(N),Q.indexOf(G),Q.indexOf(s)];
return[Q,R]}function r(T,D,N){T=f.v(T);var G=D[1],s=T[G][1][D[2]],Q=D[3];if((Q&1)!=1)return T;var q=b(s,N),R=q[1][2],m=q[0][R],E=f.v(s);
T[G][1].push(E);E[0]=d();E[1]=s[0];E[2]=-10+Q;E[3]=R;E[4]=m;if(Q==1||Q==5){E[7][3]=E[8][3]=R;E[7][1]=E[8][1]=m;
if(Q==5){E[5][0]=E[7][0]=s[6][0];E[8][0]=X(s).slice(4,6)}}else{E[5][3]=E[6][3]=R;E[5][1]=E[6][1]=m;if(Q==3){E[5][0]=E[7][0]=s[8][0];
E[6][0]=X(s).slice(4,6)}}return T}function W(T,D,N){T=f.v(T);var G=D[1],s=T[G][1][D[2]],Q=s[2]+10,q=Q+4&7,R=Q==1||Q==5,m=s[5+x(R?7:1)][1],E=s[5+x(q)][0],e=s[5+x(Q)][0];
s[2]=(R?90:0)+(v(E,m)<v(e,m)?180:0);var w=h(X(s),N);for(var n=5;n<9;n++)s[n]=w[n];return T}function V(T,D,N){var bW=T.length>>1,G,s=T[2*bW-3]-N,Q=T[2*bW-2]-D,q=T[2*bW-1]-N,R=!1,m=0;
for(var n=0;n<bW;n++){G=Q;s=q;Q=T[2*n]-D;q=T[2*n+1]-N;if(s==q)continue;R=q>s}for(var n=0;n<bW;n++){G=Q;
s=q;Q=T[2*n]-D;q=T[2*n+1]-N;if(s<0&&q<0)continue;if(s>0&&q>0)continue;if(G<0&&Q<0)continue;if(s==q&&Math.min(G,Q)<=0)return!0;
if(s==q)continue;var E=G+(Q-G)*-s/(q-s);if(E==0)return!0;if(E>0)m++;if(s==0&&R&&q>s)m--;if(s==0&&!R&&q<s)m--;
R=q>s}return(m&1)==1}function y(T,D,N,G,s){var Q=null;for(var q=0;q<T.length;q++){var R=T[q][1];for(var m=0;
m<R.length;m++){var E=X(R[m]);if(V(E,D,N)||s&&s[0]==q&&s[1]==m&&Q==null){Q=[q,m];if(G){var e=L(T,R[m],G),w=f.G.ms(e[0],e[1]),M=[D,N];
w=f.G.zJ(w);f.G.M(w,M);Q.push(M)}}}}return Q}function c(T,D){for(var N=0;N<T.length;N++){var G=T[N][1],s=D[N];
if(s.length==0)continue;var Q=S(G,s);for(var q=0;q<G.length;q++){if(Q.indexOf(G[q][0])!=-1){G.splice(q,1);
q--}}}for(var N=0;N<T.length;N++)if(T[N][1].length==0){T.splice(N,1);N--}return T}function S(T,D){var N=[];
for(var n=0;n<10;n++)for(var G=0;G<T.length;G++){var s=T[G];if(D.indexOf(G)!=-1||N.indexOf(s[1])!=-1)if(N.indexOf(s[0])==-1)N.push(s[0])}return N}function C(T){var D=B.o3(T,0,T.length),N=D.split("\n").slice(1);
function G(){return parseFloat(N.shift())}function s(){var kL=[G(),G()];Q(1);return kL}function Q(bW){for(var n=0;
n<bW;n++)N.shift()}var q=[],R=G();for(var m=0;m<R;m++){var E=G(),e=G(),w=[];q.push([E,w]);for(var M=0;
M<e;M++){var P=G(),I=G(),k=G(),o=G(),af=s(),J=[P,I,k,o,af];w.push(J);for(var n=0;n<4;n++){var at=s(),ke=s(),c_=G()==1,ag=G(),dz=G();
J.push([at,ke,c_,ag,dz])}}}return q}function K(T){function D(e){N.push(e[0],e[1],"")}var N=["tNaF203"];
N.push(T.length);for(var G=0;G<T.length;G++){N.push(T[G][0]);var s=T[G][1];N.push(s.length);for(var Q=0;
Q<s.length;Q++){var q=s[Q];N.push(q[0],q[1],q[2],q[3]);D(q[4]);for(var n=0;n<4;n++){var R=q[5+n];D(R[0]);
D(R[1]);N.push(R[2]?1:0,R[3],R[4])}}}var m=N.join("\n"),E=new Uint8Array(m.length);B.js(E,0,m);return E}return{lS:C,Al:K,aAU:X,au8:h,gU:a,aEd:i,zM:j,aOf:function(T,D){return D&&(D[3]&1)==0&&T[D[1]][1].length==1},azn:function(T,D){return D&&(D[3]&1)==1},Qv:L,awz:r,aIV:W,afm:c,ub:S,Vn:y,Ri:O}}();
f.a6N=function(){var d=0,v=0,h=15,g=256;function t(z,p,U,l,L,j){var O=(L-1)*p,F=j*p;return z[F+l]-z[F+U-1]-z[O+l]+z[O+U-1]}var X=Math.round(h/8),x=[];
function Z(z,p){for(var U=0;U<p.length;U++){var l=p[U],L=0,j=0,O=z[l.SU],F=O.VA,i=O.F0,$=O.uV;for(var H=-h;
H<=h;H++)for(var b=-h;b<=h;b++){var r=b+l.a4d,W=H+l.aCn;if(b*b+H*H>h*h||r<0||W<0||r>=i||W>=i)continue;
var V=F[W*i+r];L+=b*V;j+=H*V}l.WD=Math.atan2(j,L)}}function Y(z,p,U,l,L){var j=~~(z+.5),O=~~(p+.5);return t(U,l,j-X,j+X,O-X,O+X)}function a(z,p,U,l,L){d=l;
v=L;if(x.length==0){var j=new f.V.Pz(16200817),$=8,H=0;function O(af){var c=af[0]-af[2],S=af[1]-af[3];
return c*c+S*S}function F(){var af=0,J=0;while(af===0)af=j.get();while(J===0)J=j.get();return Math.sqrt(-2*Math.log(af))*Math.cos(2*Math.PI*J)}var i=F,b=[];
while(H!=g){var r=Math.max(-h,Math.min(h,i()*$)),W=Math.max(-h,Math.min(h,i()*$)),V=Math.max(-h,Math.min(h,i()*$)),y=Math.max(-h,Math.min(h,i()*$)),c=r-V,S=W-y,C=Math.sqrt(c*c+S*S);
if(C<3||C>12)continue;x.push(r,W,V,y);H++}}var K=20;for(var T=0;T<p.length;T++){var D=p[T],N=z[D.SU],G=N.atb,U=N.VA,l=N.F0,L=N.uV,s=D.a4d,Q=D.aCn,q=D.WD,R=Math.cos(q),m=Math.sin(q),E=new Uint8Array(g>>>3);
D.mQ=E;for(var n=0;n<g;n++){var e=n*4,r=x[e+0],W=x[e+1],V=x[e+2],y=x[e+3],w=R*r-m*W,M=m*r+R*W,P=R*V-m*y,I=m*V+R*y,k=Y(s+w,Q+M,G,l,L),o=Y(s+P,Q+I,G,l,L);
E[n>>>3]|=(k<o?0:1)<<(n&7)}}}return{aHD:Z,aCV:a}}();f.a5M=function(){function d(v,t){var h=[[9]],X=Date.now(),g=[];
for(var x=0;x<v.length;x++){var Z=v[x],Y=Z.atb,a=Z.F0,z=Z.uV,l=9,$=1,D=24;if(Y==null)continue;var p=new Float32Array(a*z),U=new Uint8Array(a*z),L=l>>>1,j=L>>>1,O=Math.round(l/3);
if(O!=l/3)throw"e";var F=1/(l*l),i=1.2*(l/9);for(var H=L+1;H<z-L;H+=$)for(var b=L+1;b<a-L;b+=$){var r=f.am(Y,a,b-j,b+j,H-L,H+L)-3*f.am(Y,a,b-j,b+j,H-L+O,H+L-O),W=f.am(Y,a,b-L,b+L,H-j,H+j)-3*f.am(Y,a,b-L+O,b+L-O,H-j,H+j),V=b-L+1,y=b+L-1,c=H-L+1,S=H+L-1,C=f.am(Y,a,V,b-1,c,H-1)+f.am(Y,a,b+1,y,H+1,S)-f.am(Y,a,b+1,y,c,H-1)-f.am(Y,a,V,b-1,H+1,S),K=(W*r-.9*C*(.9*C))*(F*F);
p[H*a+b]=Math.abs(K);U[H*a+b]=K<0?0:1}var T=a*$;for(var H=D;H<z-D;H+=$)for(var b=D;b<a-D;b+=$){var n=H*a+b,N=p[n];
if(N<16)continue;if(p[n-$]>=N||p[n+$]>=N)continue;if(p[n-T-$]>=N||p[n-T]>=N||p[n-T+$]>=N)continue;if(p[n+T-$]>=N||p[n+T]>=N||p[n+T+$]>=N)continue;
g.push({x:~~(b*Z.I6+.5),y:~~(H*Z.I6+.5),a4d:b,aCn:H,SU:x,K:N,ayh:U[n],Wx:i})}}if(t!=null){g.sort(function(e,w){return w.K-e.K});
g=g.slice(0,t)}return g;var G=[];for(var n=0;n<g.length;n++){var s=!0,Q=g[n];for(var q=0;q<g.length;
q++){var R=g[q];if(q!=n&&R.K>Q.K&&(R.SU==Q.SU+1||R.SU==Q.SU-1)){var m=Q.x-R.x,E=Q.y-R.y;if(m*m+E*E<5){s=!1;
break}}}if(s)G.push(Q)}console.log(g.length,G.length);return G}return{ata:d}}();f.vw={};f.vw.avu=function(d){var v=d.length,t=f.vw.afj(d,!1),X=0,g=1;
throw"e";var h=[];for(var n=0;n<v;n++)h[n]=f.vw.azA(t[n]);var x=d[0][1],Z=f.vw.match(t[X],t[g],h[g]);
console.log(Z.length);var Y=Math.max(Math.min(Z.length,40),Z.length*.54);Y=Math.min(Y,200);var a=Z.slice(0,Y),z=f.dk.ae7(t[X],t[g],a,x.r,x.$),p=f.dk.aq5(z,[0,0,0],1),U=x.r/2,l=x.$/2,L=1/Math.max(U,l);
for(var n=0;n<1;n++){var j=a[n],O=t[X][j[0]],F=t[g][j[1]],i=f.dk.aFC(p,L*(O.x-U),L*(O.y-l),L*(F.x-U),L*(F.y-l))}var $=f.dk.axM(z,x),H=[];
for(var n=0;n<2;n++){var b=$[n],r=[b[0][0],b[0][1],b[0][2],b[1][0],b[1][1],b[1][2],b[2][0],b[2][1]],W=A.hZ.zL(d[n],null,r);
H.push([W.buffer,W.S])}return[f.vw.a6d(H[0],H[1],t[X],t[g],a,z,$,x)]};f.vw.SK=function(d,v){var t=d.length,h=!1,X=Date.now(),g=f.vw.afj(d,!1,1e4);
if(h)console.log("Descriptors ready",Date.now()-X);X=Date.now();for(var n=0;n<t;n++){var x=d[n][1];for(var Z=0;
Z<g[n].length;Z++){g[n][Z].x+=x.x;g[n][Z].y+=x.y}}if(h)console.log("shifted",Date.now()-X);X=Date.now();
var Y=[];for(var n=0;n<t;n++)Y[n]=f.vw.azA(g[n]);if(h)console.log("trees built",Date.now()-X);X=Date.now();
var a=[];for(var n=0;n<t-1;n++)for(var Z=n+1;Z<t;Z++){var z=f.vw.match(g[n],g[Z],Y[Z]);if(h)console.log("Matches found",n,Z,z.length);
z=z.slice(0,z.length>>>1);if(z.length<10)continue;var p=f.vw.agS(g[n],g[Z],z,2);a.push([n,Z,z,p])}a.sort(function(y,c){return c[2].length-y[2].length});
if(h)console.log("Matches found",Date.now()-X);X=Date.now();var U=[],l=new UnionFind(t);for(var n=0;
n<a.length;n++){var L=a[n],j=l.find(L[0]),O=l.find(L[1]);if(j!=O){U.push(L);l.link(j,O)}}var F=[];for(var n=0;
n<t;n++)F[n]=[1,0,0,0,1,0,0,0];var i=[0],$=new Uint8Array(t);$[i[0]]=1;while(i.length!=0){var O=i.pop(),p=F[O],H=[];
for(var n=0;n<U.length;n++){var L=U[n],b=L[0],r=L[1];if(b==O&&$[r]==0){F[r]=f.G.Sn(p,L[3]);i.push(r);
$[r]=1}if(r==O&&$[b]==0){F[b]=f.G.Sn(p,f.G.zJ(L[3]));i.push(b);$[b]=1}}}if(v==null){var W=[];for(var n=0;
n<t;n++)W.push([F[n][2],n]);W.sort(function(y,c){return y[0]-c[0]});v=W[W.length>>>1][1]}var V=f.G.zJ(F[v]);
for(var n=0;n<t;n++)F[n]=f.G.Sn(F[n],V);if(h)console.log("Transforms reordered",Date.now()-X);X=Date.now();
return F};f.vw.afj=function(d,v,t){var h=[],X=!1;for(var n=0;n<d.length;n++){var g=d[n][0],x=d[n][1],Z=x.r,Y=x.$,a=f.m(x.k());
f.TA(g,a);var z=Date.now(),p=f.vw.agv(a,x,!0);if(X)console.log("Pyramid built ---------------",Date.now()-z);
z=Date.now();var U=f.a5M.ata(p,t);if(X)console.log("SURF Generation",Date.now()-z);z=Date.now();if(!v){f.a6N.aHD(p,U);
if(X)console.log("ORB Orientations",Date.now()-z);z=Date.now();f.a6N.aCV(p,U,a,Z,Y);if(X)console.log("ORB Descriptors",Date.now()-z);
z=Date.now()}h.push(U)}return h};f.vw.agv=function(d,v,t){var h=[],X=[d,v];f.n7(X);if(t){var g=f.aDw(d,v),x=g.S,Z=[g.sN,x];
f.n7(Z)}for(var n=0;n<X.length;n++){var Y=X[2*n],a=X[2*n+1],z=a.r,p=a.$,U=Math.min(z,p);if(U<30)break;
if(U<1600)h.push({VA:Y,F0:z,uV:p,I6:1<<n,atb:f.uR(Y,z,p)});if(!t)continue;var Y=Z[2*n],a=Z[2*n+1],z=a.r,p=a.$,U=Math.min(z,p);
if(U<30)break;if(U<1600)h.push({VA:Y,F0:z,uV:p,I6:(1<<n)*3/2,atb:f.uR(Y,z,p)})}return h};f.vw.agS=function(d,v,t,h){var X=Date.now(),g,x=0,Z=0,Y=t.length,a=new Float64Array(2);
for(var z=0;z<3e3;z++){var p=~~(Math.random()*Y),U=~~(Math.random()*Y),l=~~(Math.random()*Y),L=~~(Math.random()*Y),T=0,D=0;
if(p==U||p==l||p==L||U==l||U==L||l==L)continue;var j=t[p],O=t[U],F=t[l],i=t[L],$=d[j[0]],H=v[j[1]],b=d[O[0]],r=v[O[1]],W=d[F[0]],V=v[F[1]],y=d[i[0]],c=v[i[1]],S=[$.x,$.y,b.x,b.y,W.x,W.y,y.x,y.y],C=[H.x,H.y,r.x,r.y,V.x,V.y,c.x,c.y],K=f.G.aeD(S,C);
if(K[0]==0&&K[1]==0&&K[3]==0&&K[4]==0)continue;var N=Y-x+2;for(var n=0;n<Y&&n-T<N;n++){var G=d[t[n][0]],s=v[t[n][1]];
f.G.kj(s.x,s.y,K,a);var Q=a[0]-G.x,q=a[1]-G.y,R=Q*Q+q*q;if(R<h){T++;D+=R}}if(T>x||T==x&&D<Z){g=K;x=T;
Z=D}}return g};var ko=new Uint8Array(256);for(var n=0;n<256;n++){var fn=0,bW=n;while(bW!=0){bW=bW&bW-1;
fn++}ko[n]=fn}f.vw.aiE=function(d,v,t){var h=0,X=d.length;for(var n=0;n<X&&h<t;n++)h+=ko[d[n]^v[n]];
return h};f.vw.af9=function(d,v,t,top,h){if(h[t]==1)return;var X=f.vw.aiE(d.mQ,v.mQ,top[0]);if(X<top[0]){if(X<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=X;top[3]=t}else{top[0]=X;top[1]=t}}h[t]=1};f.vw.azA=function(d){var v=[],t=[],h=[[],[]],X=4;
for(var n=0;n<d.length;n++)(d[n].ayh==0?v:t).push(n);for(var g=0;g<2;g++){var x=new Array(X),Z=[],Y=g==0?v:t,a=Y.length/256,z=[];
for(var p=0;p<32;p++){var U=new Array(256),j=0;for(var l=0;l<256;l++)U[l]=[];for(var l=0;l<Y.length;
l++){var L=Y[l];U[d[L].mQ[p]].push(L)}for(var l=0;l<256;l++)j+=Math.abs(U[l].length-a);z.push([j,p,U])}z.sort(function(O,F){return O[0]-F[0]});
var Z=[],x=[];h[g]=[Z,x];for(var n=0;n<X;n++){Z.push(z[n][1]);x.push(z[n][2])}}return h};f.vw.match=function(d,v,t){var h=[],X=new Uint16Array(v.length);
X.fill(65535);var g=new Uint8Array(v.length),top=new Uint32Array(4),x=[];for(var Z=0;Z<d.length;Z++){var Y=d[Z],a=Y.mQ;
top.fill(1e6);g.fill(0);var z=t[Y.ayh];for(var p=0;p<z[1].length;p++){var U=z[1][p][a[z[0][p]]];for(var l=0;
l<U.length;l++){var L=U[l];f.vw.af9(Y,v[L],L,top,g)}}if(top[2]<50&&top[2]<top[0]*.5){var j=X[top[3]];
if(j==65535){X[top[3]]=h.length;h.push([Z,top[3],top[2]])}else if(top[2]<h[j][2]){h[j]=[Z,top[3],top[2]]}}}h.sort(function(O,F){return O[2]-F[2]});
return h};f.vw.acF=function(d){var v=new iW;for(var n=0;n<d.length;n++)v=v.Ue(d[n][1]);var t=f.m(v.k()*4);
for(var n=0;n<d.length;n++)f.V.Qe("norm",d[n][0],d[n][1],t,v,v,1);return[t,v]};f.vw.a6d=function(d,v,t,h,X,g,x,Z){var Y=d[1].b(),a=Y.b();
Y.x=Y.y=0;var z=v[1].b(),p=z.b();z.x=z.y=0;z.x=Y.r;var U=Y.Ue(z),l=p.y-a.y,L=f.m(U.k()*4);f.wH(d[0],Y,L,U);
f.wH(v[0],new iW(z.x,z.y+l,z.r,z.$),L,U);var j=document.createElement("canvas");j.width=U.r;j.height=U.$;
var O=j.getContext("2d");O.lineWidth=.5;O.putImageData(new ImageData(new Uint8ClampedArray(L.buffer),U.r,U.$),0,0);
if(g){var F=g[0],i=f.AC.zR(F),$=Y.r,H=Z.r;for(var n=0;n<X.length;n++){var b=X[n],d=t[b[0]],v=h[b[1]];
O.strokeStyle="#"+"ff0000";O.beginPath();var r=f.dk.aOc(i,x[0],v,0,H),W=f.dk.aOc(F,x[1],d,0,H);O.moveTo(-a.x+r[0],-a.y+r[1]);
O.lineTo(-a.x+r[2],-a.y+r[3]);O.moveTo($-p.x+W[0],-p.y+l+W[1]);O.lineTo($-p.x+W[2],-p.y+l+W[3]);O.stroke()}}if(X){var V=X.length;
for(var n=0;n<V;n++){var b=X[n],d=t[b[0]],v=h[b[1]];O.strokeStyle="#"+"ffff00"}}var y=new Uint8Array(O.getImageData(0,0,U.r,U.$).data.buffer);
if(!1){for(var c=0;c<2;c++){var S=c==0?t:h,C=c*Y.r;for(var n=0;n<S.length;n++){var K=S[n],T=~~K.x,D=~~K.y,N=(D*U.r+T+C)*4;
y[N+1]=y[N+2]=K.aw$*60;y[N+0]=0;y[N+3]=255}}}return[y,U]};f.yB={};f.yB.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
f.yB.awO=["BasicPath","Radial","Mandala","RectangularTile"];f.yB.b2=function(d,v){var t=.28*.5,h=[{s2:["M","L"],I:[.5,.1,.5,.9]},{s2:["M","L"],I:[.1,.5,.9,.5]},{s2:["M","L","M","L"],I:[.5,.1,.5,.9,.1,.5,.9,.5]},{s2:["M","L"],I:[.1,.1,.9,.9]},{s2:["M","C","C"],I:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{s2:["M","C","C","C","C"],I:[.5,.25,.5+t,.25,.75,.5-t,.75,.5,.75,.5+t,.5+t,.75,.5,.75,.5-t,.75,.25,.5+t,.25,.5,.25,.5-t,.5-t,.25,.5,.25]},null,{s2:["M","L","M","L"],I:[.35,.1,.35,.9,.65,.1,.65,.9]}],Z=.4;
if(h[d])return h[d];if(d==6){var X="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",g=Typr.U.SVGToPath(X);
g={I:g.crds,s2:g.cmds};f.Q.M(g.I,new gi(1/840,0,0,1/840,0,0),g.I);return g}var x={s2:[],I:[]},Y=2*Math.PI/v;
for(var n=0;n<v;n++){x.s2.push("M","L");x.I.push(.5,.5,.5+Math.sin(n*Y)*Z,.5-Math.cos(n*Y)*Z)}return x};
f.yB.a2=function(d,v){var t=Math.PI*.5+Math.atan2(d.y-v.y,v.x-d.x),h=new gi;h.translate(-d.x,-d.y);h.rotate(-t);
h.scale(-1,1);h.rotate(t);h.translate(d.x,d.y);return h};f.yB.a5D=function(d,v,t){var h=[new gi];if(t==null)return h;
var X=t[0],g=t[1],x=t[2];if(X==0){var Z=f.t.HR(x,!0),Y=f.t.fn(x,0,!0),a=x[Y].length;if(Z==1){if(a==2){h.push(f.yB.a2(x[Y+1].Z,x[Y+2].Z))}else{var z=f.Q.lR(x);
z=f.Q.jo(z);var p=f.Q.NR(z),U=f.Q.kq(p,d.x,d.y),bW=new cK(p[U*2],p[U*2+1]),l=d.x-bW.x,L=d.y-bW.y,j=new cK(bW.x-L,bW.y+l);
h.push(f.yB.a2(bW,j))}}if(Z==2){var O=f.t.fn(x,1,!0),F=x[O].length;if(a==2&&F==2){var i=x[Y+1].Z,$=x[Y+2].Z,H=x[O+1].Z,b=x[O+2].Z,r=f.Q.G_(i.x,i.y,$.x-i.x,$.y-i.y,H.x,H.y,b.x-H.x,b.y-H.y),W=f.yB.a2(i,$);
h.push(W);var V=f.yB.a2(H,b);h.push(V);if(0<r&&r<1){W=W.b();W.concat(V);h.push(W)}}else alert("two curves")}}if(X==1||X==2){h=[];
var y=x[3].Z,c=x[4].Z;for(var n=0;n<g;n++){var S=new gi;S.translate(-y.x,-y.y);S.rotate(n*Math.PI*2/g);
S.translate(y.x,y.y);h.push(S);if(X==2){S=S.b();S.concat(f.yB.a2(y,c));h.push(S)}}}if(X==3){h=[];for(var C=-1;
C<2;C++)for(var K=-1;K<2;K++){var S=new gi;S.translate(K*v.r,C*v.$);h.push(S)}}return h};f.stack={};
f.stack.stack=function(d,v,t){var h=d.length,X=v.length;if(h==1){v.set(d[0]);return}if(t=="avrg"||t=="stdv"||t=="summ"||t=="vari"){var g=1/h;
for(var n=0;n<X;n++){var x=0;for(var Z=0;Z<h;Z++)x+=d[Z][n];var Y=~~(x*g+.5);if(t=="avrg"||(n&3)==3)v[n]=Y;
else if(t=="summ")v[n]=255*Math.pow(Math.min(255,x)*(1/255),1/2.4);else{var a=0;for(var Z=0;Z<h;Z++){var z=d[Z][n]-Y;
a+=z*z}var p=Math.sqrt(a*g)*(1/255);if(t=="stdv")v[n]=255*Math.pow(p,1/2.4);else v[n]=255*Math.pow(p*p,1/2.4)}}}else if(t=="maxx"){for(var n=0;
n<X;n++){var U=0;for(var Z=0;Z<h;Z++)U=Math.max(U,d[Z][n]);v[n]=U}}else if(t=="minn"){for(var n=0;n<X;
n++){var U=255;for(var Z=0;Z<h;Z++)U=Math.min(U,d[Z][n]);v[n]=U}}else if(t=="medn"||t=="rang"){var l=function(F,i){return F-i},L=new Array(h),j=0,O=0;
if((h&1)==0){O=h>>>1;j=O-1}else{j=O=h>>>1}for(var n=0;n<X;n++){for(var Z=0;Z<h;Z++)L[Z]=d[Z][n];L.sort(l);
if(t=="medn")v[n]=L[j]+L[O]>>>1;else v[n]=(n&3)==3?L[h-1]:L[h-1]-L[0]}}else console.log(t)};f.Db={};
f.Db.a75=function(d,v,t,h){if(h==0)return;var X=Date.now(),g=new Uint32Array(v*t),x=new Uint8Array(v*t);
while(!0){x.fill(0);g.fill(0);var Z=[],Y=0;for(var a=0;a<t;a++){for(var z=0;z<v;z++){var n=a*v+z;if(x[n]==0){var p=Z.length,U=f.Db.BQ(d,v,t,z,a,x,g,p);
Z.push([p,z,a,U[0],U[1],d[n]]);if(U[0]<h)Y++}}}if(Y==0)break;var l=Z.length,L=new UnionFind(l),j=[];
for(var n=0;n<l;n++)j.push([]);for(var n=0;n<l;n++){var U=Z[n],O=U[4],F=0,i=0;if(U[3]>=h)continue;var p=U[0];
for(var $=0;$<O.length;$+=2){var H=g[O[$+1]*v+O[$]],b=Z[H];if(b[3]>i){i=b[3];F=H}}if(L.find(p)!=L.find(F)){L.link(p,F);
j[p].push(F);j[F].push(p)}}var r=new Uint32Array(l);r.fill(4294967295);var W=new Uint32Array(l);for(var n=0;
n<l;n++){if(r[n]!=4294967295||j[n].length==0)continue;var V=[n],y=[n],c=n,S=Z[n][3];while(y.length!=0){var C=y.pop(),K=j[C];
for(var $=0;$<K.length;$++){var T=K[$];if(V.indexOf(T)==-1){V.push(T);y.push(T);var D=Z[T];if(D[3]>S){S=D[3];
c=T}}}}for(var $=0;$<V.length;$++){r[V[$]]=c;var N=Z[c];W[V[$]]=d[N[2]*v+N[1]]}}for(var a=0;a<t;a++)for(var z=0;
z<v;z++){var n=a*v+z,G=r[g[n]];if(G!=4294967295)d[n]=W[G]}}};f.Db.BQ=function(d,v,t,h,X,g,x,Z){var Y=[h,X],a=d[X*v+h],z=0,p=[];
g[X*v+h]=1;while(Y.length!=0){var U=Y.pop(),l=Y.pop(),n=U*v+l;x[n]=Z;z++;if(U!=t-1)if(d[n+v]==a){if(g[n+v]==0){Y.push(l,U+1);
g[n+v]=1}}else p.push(l,U+1);if(U!=0)if(d[n-v]==a){if(g[n-v]==0){Y.push(l,U-1);g[n-v]=1}}else p.push(l,U-1);
if(l!=v-1)if(d[n+1]==a){if(g[n+1]==0){Y.push(l+1,U);g[n+1]=1}}else p.push(l+1,U);if(l!=0)if(d[n-1]==a){if(g[n-1]==0){Y.push(l-1,U);
g[n-1]=1}}else p.push(l-1,U)}return[z,p]};f.Db.a8o=function(d,v,t){var h=new Uint32Array(v*t);for(var n=0;
n<h.length;n++)h[n]=d[n];var X=[];for(var g=0;g<t;g++){for(var x=0;x<v;x++){var n=g*v+x,Z=h[n];if(Z<1e3){var Y=f.Db.a63(h,v,t,x,g,1e3+X.length);
X.push([x,g,Z,Y,0])}}}for(var n=0;n<h.length;n++)h[n]-=1e3;var a=new Float32Array(v*t);a.fill(v+t);for(var g=0;
g<t;g++)for(var x=0;x<v;x++){var n=g*v+x,Z=h[n];if(x==0||g==0||h[n-1]!=Z||h[n-v]!=Z)a[n]=0;else{var z=Math.min(a[n],a[n-1]+1,a[n-v]+1);
if(h[n-v-1]==Z)z=Math.min(z,a[n-v-1]+1.414);a[n]=z}}for(var g=t-1;g>=0;g--)for(var x=v-1;x>=0;x--){var n=g*v+x,Z=h[n];
if(x==v-1||g==t-1||h[n+1]!=Z||h[n+v]!=Z)a[n]=0;else{var z=Math.min(a[n],a[n+1]+1,a[n+v]+1);if(h[n+v+1]==Z)z=Math.min(z,a[n+v+1]+1.414);
a[n]=z}}for(var g=0;g<t;g++)for(var x=0;x<v;x++){var n=g*v+x,p=X[h[n]];if(a[n]>p[4]){p[4]=a[n];p[0]=x;
p[1]=g}}return X};f.Db.a63=function(d,v,t,h,X,g){var x=[h,X],Z=d[X*v+h],Y=0;d[X*v+h]=4294967295;while(x.length!=0){var X=x.pop(),h=x.pop(),n=X*v+h;
Y++;d[n]=g;if(X<t-1&&d[n+v]==Z){x.push(h,X+1);d[n+v]=4294967295}if(X>0&&d[n-v]==Z){x.push(h,X-1);d[n-v]=4294967295}if(h>0&&d[n-1]==Z){x.push(h-1,X);
d[n-1]=4294967295}if(h<v-1&&d[n+1]==Z){x.push(h+1,X);d[n+1]=4294967295}}return Y};f.Db.ana=function(d,v,t,h,X){var g=f.Db.amA(d.buffer,v,t).S1,x=Date.now(),Z=[];
for(var n=0;n<g.length;n++){var Y=g[n],a=1;for(var z=0;z<a;z++)Z.push(Y.Wp)}var p=new Uint32Array(Z),U=UPNG.quantize.getKDtree(new Uint8Array(p.buffer),h),l=[v,1,-v,-1,v+1,-v+1,-v-1,v-1,v+v,2,-v-v,-2,v+v-1,v+v+1,v+2,-v+2,-v-v+1,-v-v-1,-v-2,v-2,v+v+2,-v-v+2-v-v-2,v+v-2],L=new Uint8Array(v*t),j=d;
for(var O=0;O<t;O++)for(var F=0;F<v;F++){var n=O*v+F<<2,i=j[n]*(1/255),$=j[n+1]*(1/255),H=j[n+2]*(1/255),b=j[n+3]*(1/255),r=f.Db.fZ(U,i,$,H,b,X);
if(r==null){var W=[],V=0;while(V<20){var y=O*v+F+l[V]<<2,c=j[y]*(1/255),S=j[y+1]*(1/255),C=j[y+2]*(1/255),K=j[y+3]*(1/255),T=f.Db.fZ(U,c,S,C,K,.005);
if(T!=null){if(W.indexOf(T)==-1){W.push(T);T.Fk=1}else T.Fk++}V++}W.sort(function(b,H){return H.Fk-b.Fk});
while(W.length!=0&&W[W.length-1].Fk<3)W.pop();if(W.length==0)r=f.Db.fZ(U,i,$,H,b,100);else if(W.length==1)r=W[0];
else if(W.length==2){var D=W[0],N=W[1],G=D.est.q,s=N.est.q,Q=s[0]-G[0],q=s[1]-G[1],R=s[2]-G[2],m=s[3]-G[3],E=i-G[0],e=$-G[1],w=H-G[2],M=b-G[3],P=Q*Q+q*q+R*R+m*m,I=E*E+e*e+w*w+M*M,k=(E*Q+e*q+w*R+M*m)/P,o=I-k*k*P;
if(o<.5)r=k<.5?D:N;else{r=f.Db.fZ(U,i,$,H,b,100)}}else{var D=W[0],N=W[1],af=W[2],G=D.est.q,s=N.est.q,J=af.est.q,at=G[0]-J[0],ke=G[1]-J[1],c_=G[2]-J[2],ag=G[3]-J[3],dz=s[0]-J[0],kL=s[1]-J[1],aq=s[2]-J[2],dh=s[3]-J[3],gK=J[0]-i,ad=J[1]-$,dc=J[2]-H,lq=J[3]-b,hn=at*at+ke*ke+c_*c_+ag*ag,dF=at*dz+ke*kL+c_*aq+ag*dh,c3=gK*at+ad*ke+dc*c_+lq*ag,i8=at*dz+ke*kL+c_*aq+ag*dh,dr=dz*dz+kL*kL+aq*aq+dh*dh,jO=gK*dz+ad*kL+dc*aq+lq*dh,d1=1/(dF*i8-hn*dr),k=(dr*c3-jO*dF)*d1,h3=(jO*hn-c3*i8)*d1,d5=1-k-h3,em=Math.max(k,h3,d5);
if(em==k)r=D;else if(em==h3)r=N;else r=af}}L[n>>2]=r.ind}return{Bm:L,S1:U[1]}};f.Db.amA=function(d,v,t){var h=[],X={},g=v-1,x=t-1,Z=0,Y=new Uint32Array(d),a=[-v-1,-v,-v+1,-1,1,v-1,v,v+1,v+v,2,-v-v,-2,v+v-1,v+v+1,v+2,-v+2,-v-v+1,-v-v-1,-v-2,v-2,v+v+2,-v-v+2-v-v-2,v+v-2];
for(var z=1;z<x;z++)for(var p=1;p<g;p++){var U=z*v+p,l=Y[U],L=!0;for(var n=0;n<8;n++)L=L&&Y[U+a[n]]==l;
if(L){Z++;var j=X[l];if(j==null){X[l]=h.length;h.push({Wp:l,OW:1})}else h[j].OW++}}return{S1:h,aLT:Z}};
f.Db.fZ=function(d,v,t,h,X,g){var x=UPNG.quantize.getNearest(d[0],v,t,h,X);return f.Db.axU(x,v,t,h,X)<g?x:null};
f.Db.axU=function(d,v,t,h,X){var g=d.est.q,x=v-g[0],Z=t-g[1],Y=h-g[2],a=X-g[3];return x*x+Z*Z+Y*Y+a*a};
(function(){f.Db.TN=function(Z,Y,a,z,p){var U=Z.qB,l=Y*a,L=Z.YZ,j=Z.Bm,O=h(z,j,U,l),F=new UnionFind(U),W=0;
for(var i=1;i<a;i++)for(var $=1;$<Y;$++){var n=i*Y+$,H=j[n],b=0;if((b=j[n-1])!=H&&O[b]==O[H]&&d(L,0,H*6,b*6)<p)F.link(H,b);
if((b=j[n-Y])!=H&&O[b]==O[H]&&d(L,0,H*6,b*6)<p)F.link(H,b)}var r=new Uint16Array(U);r.fill(65535);var V=new Uint16Array(U);
for(var n=0;n<U;n++){var y=F.find(n);if(r[y]==65535)r[y]=W++;V[n]=r[y]}var c=new Uint16Array(l);for(var n=0;
n<l;n++)c[n]=V[j[n]];return{Bm:c,qB:W}};f.Db.a1u=function(Z,Y,a){var z=f.m(Y),p=Z.length;for(var n=0;
n<p;n++){var U=a[n];if(U==0||U==255){var l=Z[n],L=2-(U>>>7),j=z[l]=z[l]|L;if(j==3)return l}}return-1};
function d(Z,Y,a,z){var p=1/Z[a+5],U=1/Z[z+5],l=Z[a]*p-Z[z]*U,L=Z[a+1]*p-Z[z+1]*U,j=Z[a+2]*p-Z[z+2]*U,O=Z[a+3]*p-Z[z+3]*U,F=Z[a+4]*p-Z[z+4]*U,i=Math.sqrt(l*l+L*L+j*j),$=Math.sqrt(O*O+F*F);
return~~(i+Y*$+.5)}function v(Z,Y){var n=0,a=Z.length;while(n!=a&&Z[n]!=Y)n+=2;return n==a?-1:n}function t(Z,n){if(n==Z.length-2){Z.pop();
Z.pop()}else{Z[n+1]=Z.pop();Z[n]=Z.pop()}}f.Db.a2H=function(Z,Y,a,z,p){var U=new Uint32Array(p*4400),l=[];
for(var n=0;n<p;n++)l.push([]);for(var L=0;L<a;L++)for(var j=0;j<Y;j++){var n=L*Y+j,O=n<<2,F=z[n],i=0,$=Z[O]>>>4,H=Z[O+1]>>>4,b=Z[O+2]>>>4;
U[F*4400+($<<8|H<<4|b)]++;U[F*4400+4096]++;U[F*4400+4100+($<<4|H)]++;U[F*4400+4360+$]++;if(j!=0&&(i=z[n-1])!=F&&v(l[F],i)==-1){l[F].push(i,0);
l[i].push(F,0)}if(L!=0&&(i=z[n-Y])!=F&&v(l[F],i)==-1){l[F].push(i,0);l[i].push(F,0)}}for(var n=0;n<p;
n++){var b=l[n];for(var r=0;r<b.length;r+=2)b[r+1]=x(U,n,b[r])}return[U,l]};function h(Z,Y,a,z){var p=f.m(a);
for(var n=0;n<z;n++){var U=Z[n];if(U==0||U==255)p[Y[n]]=2-(U>>>7)}return p}f.Db.aqu=function(Z,Y,a,z,p,U,l){var L=Y*a,j=l[0],O=l[1],F=new UnionFind(z),i=h(p,Z,z,L),$=-1,H=!0,b=0;
for(var n=0;n<z;n++)if(i[n]==1){if($==-1)$=n;else F.link(n,$)}if($==-1){for(var n=0;n<L;n++)U[n]=p[n]==255?255:0;
return}while(H){while(H){H=!1;for(var n=0;n<z;n++){if(i[n]==0){var r=X(O[n]);if(i[r]==1){i[n]=i[r];H=!0;
F.link(n,r)}}}}H=!0;b=0;while(H){H=!1;for(var n=0;n<z;n++){if(i[n]==0){var r=X(O[n]);if(i[r]==0){var W=n*4400,V=r*4400;
for(var y=0;y<4400;y+=2){j[W+y]+=j[V+y];j[W+y+1]+=j[V+y+1]}g(O,j,n,r);b++;i[r]=3;H=!0;F.link(n,r)}}}}H=b!=0}var c=F.find($);
for(var n=0;n<z;n++)i[n]=F.find(n)==c?255:0;for(var n=0;n<L;n++){U[n]=i[Z[n]]}for(var n=0;n<L;n++){var r=p[n];
if(r==0||r==255)U[n]=r}};function X(Z){var Y=0,a=0,z=Z.length;for(var p=0;p<z;p+=2){var U=Z[p+1];if(U>a){a=U;
Y=p}}return Z[Y]}function g(Z,Y,a,z){var p=Z[a],U=Z[z];t(p,v(p,z));t(U,v(U,a));for(var n=0;n<U.length;
n+=2){var l=U[n],L=Z[l];t(L,v(L,z));if(v(L,a)==-1){L.push(a,0);p.push(l,0)}}for(var n=0;n<p.length;n+=2){var l=p[n],L=Z[l],j=x(Y,a,l);
p[n+1]=j;L[v(L,a)+1]=j}}function x(Z,Y,a){var z=0,p=4096,U=Y*4400,l=a*4400;for(var L=0;L<16;L++){if(Z[U+4360+L]==0||Z[l+4360+L]==0)continue;
for(var j=0;j<16;j++){var O=L<<4|j;if(Z[U+4100+O]==0||Z[l+4100+O]==0)continue;var F=U+(O<<4),i=l+(O<<4);
for(var n=0;n<16;n++)z+=Math.sqrt(Z[F+n]*Z[i+n])}}var $=z/Math.sqrt(Z[U+p]*Z[l+p]);return~~(999.99999*$)}}());
f.Db.ZV=function(){var d,v,t,x=0,Z=0;function h(l,L,j){var O=[],F=j,i=j,$=j>>>2;for(var H=0;H<L;H++)for(var b=0;
b<l;b++){var r=~~((b+.5)*F),W=~~((H+.5)*i),V=1e9,y=Math.max(0,r-$),c=Math.min(v,r+$+1),S=Math.max(0,W-$),C=Math.min(t,W+$+1);
for(var K=S;K<C;K++)for(var T=y;T<c;T++){var D=X(T,K);if(D<V){r=T;W=K;V=D}}O.push(r,W)}return O}function X(l,L){var j=(L*v+l)*4,O=v*4,F=g(j-4,j)+g(j,j+4),i=g(j-O,j)+g(j,j+O);
return F+i}function g(l,L){var j=d[l]-d[L],O=d[l+1]-d[L+1],F=d[l+2]-d[L+2];return j*j+O*O+F*F}function Y(l,L,j,O){Z++;
if(O<x)x=O;l[O].push(L,j)}function a(l){Z--;while(l[x].length==0)x++}function z(l,L,j,O,F){var i=(j*v+L)*4,$=O[F+5],H=1/$,b=d[i]*$-O[F],r=d[i+1]*$-O[F+1],W=d[i+2]*$-O[F+2],V=L*$-O[F+3],y=j*$-O[F+4],c=Math.sqrt(b*b+r*r+W*W),S=Math.sqrt(V*V+y*y);
return~~((c+l*S)*H+.5)}function p(l,L,j,O,F){d=l;v=L;t=j;x=0;Z=0;var i=v*t,$=Math.round(Math.min(v,t)/(O?O:30));
if($==0)$=1;var H=(F?F:30)/$,b=Math.floor(v/$),r=Math.floor(t/$),W=new Uint16Array(i);for(var n=0;n<i;
n++)W[n]=65535;var V=h(b,r,$),y=V.length>>>1;if(y>65535)throw y;var c=new Uint32Array(y*6),S=[];for(var n=0;
n<1e3+t;n++)S.push([]);var C=1e3*700/(v*t),K=Math.floor(r*C);K=Math.min(r,Math.max(4,K));K=r;var c=new Uint32Array(y*6);
for(var T=0;T<r;T+=K){var D=Math.min(T+K,r);for(var N=T;N<D;N++)for(var G=0;G<b;G++){var n=N*b+G;Y(S,V[n*2+1]<<16|V[n*2],n,0)}var s=Math.min(t,D*$);
if(T+K>=r)s=t;U(c,S,W,H,s)}d=null;return{Bm:W,qB:y,YZ:c,a5Y:H}}function U(l,L,j,O,F){while(Z!=0){a(L);
var i=L[x].pop(),$=L[x].pop(),H=$>>>16,b=$&65535,n=H*v+b;if(j[n]==null)throw"e";if(j[n]==65535){var r=i*6,W=n<<2;
j[n]=i;l[r]+=d[W];l[r+1]+=d[W+1];l[r+2]+=d[W+2];l[r+3]+=b;l[r+4]+=H;l[r+5]++;if(H!=F-1&&j[n+v]==65535)Y(L,H+1<<16|b,i,z(O,b,H+1,l,r));
if(H!=0&&j[n-v]==65535)Y(L,H-1<<16|b,i,z(O,b,H-1,l,r));if(b!=0&&j[n-1]==65535)Y(L,H<<16|b-1,i,z(O,b-1,H,l,r));
if(b!=v-1&&j[n+1]==65535)Y(L,H<<16|b+1,i,z(O,b+1,H,l,r))}}}p.f5=function(l,L,j,O,F,i){d=l;v=L;t=j;var $=O.qB=O.qB+1,H=O.Bm,b=O.YZ,r=O.YZ=new Uint32Array($*6);
r.set(b,0);var W=H[F[1]*v+F[0]];for(var n=0;n<H.length;n++)if(H[n]==W)H[n]=65535;for(var n=0;n<6;n++)r[W*6+n]=0;
var V=[];for(var n=0;n<1e3+t;n++)V.push([]);for(var n=0;n<F.length;n+=2)Y(V,F[n+1]<<16|F[n],W,0);for(var n=0;
n<i.length;n+=2)Y(V,i[n+1]<<16|i[n],$-1,0);U(r,V,H,O.a5Y,t);d=null};return p}();f.a0N={};f.a0N.ajW=function(){var d=11,v=7,t=d>>>1,bW=v>>>1,h=2,X=2e3/h,g=[],Z=null,Y="";
function x(z,p,U){var l=(z[p+0]-z[U+0])*(1/255),L=(z[p+1]-z[U+1])*(1/255),j=(z[p+2]-z[U+2])*(1/255),O=(z[p+3]-z[U+3])*(1/255),F=l*l*.125+L*L*.25+j*j*.5+O*O;
return g[~~(F*X)]}function a(z,p,U,l,L,j){var O=Date.now(),F=f.m(p*U);f.TA(z,F);var i=UZIP.adler(F,0,p*U);
if(i!=Y){var $=f.uR(F,p,U);Z=f.m(p*U*4);Y=i;var H=[1,1/9,1/25,1/49,1/81];for(var b=0;b<U;b++)for(var r=0;
r<p;r++)for(var n=0;n<4;n++){var W=Math.max(1,r-n),V=Math.min(p-1,r+n),y=Math.max(1,b-n),c=Math.min(U-1,b+n),S=f.am($,p,W,V,y,c);
if(isNaN(S))throw r+","+b+","+n+","+S;Z[(b*p+r)*4+n]=S*H[n]}}if(fq.Dz){var C=fq.IU(0,p,U);C.set(z);var K=fq.IU(1,p,U);
K.set(Z);var T=fq.IU(2,p,U);fq.Bg(T);fq.filter.$R({e:fq.filter.a8G,k0:new Float32Array([1/p,1/U]),aiV:K.gL,aHS:L,a08:j},C.gL);
T.get(l)}else{for(var n=0;n<2e3;n++)g[n]=Math.exp(-(n/2e3)*h*(100+(1-L)*(1-L)*1e4));var D=bW+2;for(var b=D;
b<U-D;b++)for(var r=D;r<p-D;r++){var N=0,G=0,s=0,Q=0;for(var q=0;q<d;q++)for(var R=0;R<d;R++){var m=r+R-t,E=b+q-t;
if(m==r&&E==b||m<D||E<D||m>=p-D||E>=U-D)continue;var e=x(Z,(b*p+r)*4,(E*p+m)*4),w=E*p+m<<2;N+=e*z[w+0];
G+=e*z[w+1];s+=e*z[w+2];Q+=e}if(Q==0){continue}var M=1/Q,P=(b*p+r)*4;l[P+0]=~~((1-j)*M*N+j*l[P+0]);l[P+1]=~~((1-j)*M*G+j*l[P+1]);
l[P+2]=~~((1-j)*M*s+j*l[P+2])}}}return a}();f.abX=function(){var d=6,v=d>>>1,t=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],h=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function X(j,O){var F=!1,i=j.length,$=O[0],W=5,y=0,c=0;for(var n=1;n<i;n++)$=$.Ue(O[n]);if(($.r&1)!=0)$.r++;
if(($.$&1)!=0)$.$++;var H=$.r,b=$.$,r=Math.max(H,b);while(r>>>W>8&&W<10)W++;var V=1<<W;if(H%V!=0)y=V-H%V;
if(b%V!=0)c=V-b%V;$.o2(y>>>1,c>>>1);H=$.r;b=$.$;if(H%V!=0||b%V!=0)throw"e";var S=Date.now(),C=[],K=f.m($.k()),T=[],D=H*b,N=new Float32Array(H*b*2);
for(var n=0;n<i;n++){var G=O[n],s=f.m(G.k());f.TA(j[n],s);K.fill(0);f.Qb(s,G,K,$);C.push(K.slice(0));
var Q=G.x-$.x,q=G.y-$.y,R=Q+G.r-2,m=q+G.$;for(var E=0;E<G.$;E++){var e=(E+q)*H;for(var w=0;w<Q;w++)K[e+w]=K[e+Q];
for(var w=R;w<H;w++)K[e+w]=K[e+R-1]}for(var w=0;w<H;w++){for(var E=0;E<q;E++)K[E*H+w]=K[q*H+w];for(var E=m;
E<b;E++)K[E*H+w]=K[(m-1)*H+w]}var M=new Float32Array(H*b*2);T.push(M);for(var P=0;P<D;P++)M[P*2]=K[P]*(1/255);
Y(M,N,H,b,W);g(M,H,b,W)}if(F)console.log("to gray, decompose",Date.now()-S);S=Date.now();var I=f.m(H*b);
for(var E=0;E<b;E++)for(var w=0;w<H;w++){var k=0,o=0,af=E*H+w<<1;for(var n=0;n<i;n++){var J=T[n],at=J[af],ke=J[af+1],c_=at*at+ke*ke;
if(c_>o){o=c_;k=n}}I[af>>>1]=k}if(F)console.log("max abs value",Date.now()-S);S=Date.now();x(I,H,b,W);
Z(I,H,b);if(F)console.log("denoise",Date.now()-S);S=Date.now();var ag=N.slice(0);for(var E=0;E<b;E++)for(var w=0;
w<H;w++){var n=E*H+w,af=n<<1,dz=T[I[n]];ag[af]=dz[af];ag[af+1]=dz[af+1]}a(ag,N,H,b,W);if(F)console.log("compose",Date.now()-S);
S=Date.now();for(var P=0;P<D;P++){var c_=ag[P*2]*255,k=0,o=1e9;for(var n=0;n<i;n++){var kL=Math.abs(C[n][P]-c_);
if(kL<o){o=kL;k=n}C[n][P]=0}C[k][P]=255}if(F)console.log("toRGB",Date.now()-S);S=Date.now();return[C,$]}function g(j,O,F,i){var $=O>>>i,H=F>>>i,b=1e-4;
for(var r=0;r<F;r++)for(var W=0;W<O;W++){if(W<$&&r<H)continue;var V=(r*O+W)*2,y=j[V],c=j[V+1],S=y*y+c*c;
if(S<b)y=c=0;else{var C=(S-b)/S;y*=C;c*=C}j[V]=y;j[V+1]=c}}function x(j,O,F,i){for(var $=0;$<i;$++){var H=O>>>$,b=F>>>$,r=H>>>1,W=b>>>1;
for(var V=0;V<W;V++)for(var y=0;y<r;y++){var c=V*O+r+y,S=(V+W)*O+r+y,C=(V+W)*O+y,K=j[c],T=j[S],D=j[C];
if(K==T==D){}else if(K==T)j[C]=K;else if(T==D)j[c]=T;else if(K==D)j[S]=K}}}function Z(j,O,F){for(var i=1;
i<F-1;i++)for(var $=1;$<O-1;$++){var n=i*O+$,H=j[n-O],b=j[n-1],r=j[n],W=j[n+1],V=j[n+O],y=H==b&&H==W||H==W&&W==V||W==V&&b==V||H==b&&V==b;
if(y)j[n]=H==b?H:b==W?b:H;else if(r>H&&r>b&&r>W&&r>V)j[n]=H+b+W+V>>>2;else if(r<H&&r<b&&r<W&&r<V)j[n]=H+b+W+V>>>2}}function Y(j,O,F,i,$){for(var n=0;
n<$;n++){var H=F>>>n,b=i>>>n;z(j,O,F,i,H,b)}}function a(j,O,F,i,$){for(var n=$-1;n>=0;n--){var H=F>>n,b=i>>n;
p(j,O,F,i,H,b)}}function z(j,O,F,i,$,H){l(j,O,F,i,$,H,!0);l(O,j,F,i,$,H,!1)}function p(j,O,F,i,$,H){L(j,O,F,i,$,H,!0);
L(O,j,F,i,$,H,!1)}function U(j,O,F,i,$,H){var b=F*i+O<<1;j[b]=$;j[b+1]=H}function l(j,O,F,i,$,H,b){var fn=b?$:H,r=b?H:$,W=r>>>1;
for(var V=0;V<fn;V++){for(var y=0;y<r;y+=2){var c=0,S=0,C=0,K=0,T=y>>>1;for(var D=0;D<6;D++){var N=y+D-3;
if(N<0)N=r+N;if(N>=r)N=N-r;var G=(b?N*F+V:V*F+N)<<1,s=j[G],Q=j[G+1],q=t[D],R=h[D];c+=s*q[0]-Q*q[1];S+=Q*q[0]+s*q[1];
C+=s*R[0]-Q*R[1];K+=Q*R[0]+s*R[1]}if(b){U(O,V,T,F,c,S);U(O,V,T+W,F,C,K)}else{U(O,T,V,F,c,S);U(O,T+W,V,F,C,K)}}}}function L(j,O,F,i,$,H,b){var fn=b?$:H,r=b?H:$,W=r>>>1,V,y,c,S;
for(var C=0;C<fn;C++){for(var K=0;K<r;K++){var T=0,D=0;for(var N=K+3&1;N<6;N+=2){var G=K-N+3>>1;if(G<0)G=W+G;
if(G>=W)G=G-W;if(b){V=C;y=G;c=C;S=G+W}else{y=C;V=G;S=C;c=G+W}var s=y*F+V<<1,Q=S*F+c<<1,q=j[s],R=j[s+1],m=j[Q],E=j[Q+1],e=t[N],w=h[N];
T+=q*e[0]+m*w[0];T+=R*e[1]+E*w[1];D+=R*e[0]+E*w[0];D-=q*e[1]+m*w[1]}if(b)U(O,C,K,F,T,D);else U(O,K,C,F,T,D)}}}return{RM:X}}();
f.aHo=function(){var d=Math.floor(12e3/8),v,t,h,X;function g(p,U,l,L){var j=UPNG.quantize.findNearest,O=[p,new iW(0,0,U,l)],i;
f.vD(O);var F=Date.now(),$=U+l>>>1;for(var n=$<1e3?2:4;n>=0;n-=2){var H=O[n+1],t=H.r,h=H.$;if(i==null){i=new Uint8Array(t*h);
j(O[n],i,L)}x(O[n],t,h,L,i);if(n!=0){var b=O[n-1],r=b.r,W=b.$,V=new Uint8Array(r*W);for(var y=0;y<W;
y++)for(var c=0;c<r;c++)V[y*r+c]=i[(y>>>1)*t+(c>>>1)];i=V}}return i}function x(p,U,l,L,j){v=p;t=U;h=l;
X=L;var O=X.length>>>2,F=[-1,-t,1,t],i=[-1,-t,-t+1,2,t+1,t],$=[-1,-t,1,t+1,t+t,t-1],H=8,b=t+h>>>1,r=1e9;
while(b>512){H>>=1;b>>=1}H=Math.max(1,Math.min(4,H));for(var W=0;W<H;W++){var V=0;for(var y=0;y<h;y++)for(var c=0;
c<t;c++){if(a(j,c,y)<2)continue;var S=y*t+c,C=j[S],K=1e9,T=0,D=c==0||y==0||c>t-3||y>h-3;if(D){K=1e9;
for(var n=0;n<O;n++){j[S]=n;var N=z(j,c,y,2);if(N<K){K=N;T=n}}j[S]=T;if(T==C&&c+1<t&&j[S+1]==C){K=1e9;
for(var n=0;n<O;n++){j[S]=j[S+1]=n;var N=z(j,c,y,2)+z(j,c+1,y,2);if(N<K){K=N;T=n}}j[S]=j[S+1]=T}if(T==C&&y+1<h&&j[S+t]==C){K=1e9;
for(var n=0;n<O;n++){j[S]=j[S+t]=n;var N=z(j,c,y,2)+z(j,c,y+1,2);if(N<K){K=N;T=n}}j[S]=j[S+t]=T}}else{K=1e9;
T=-1;for(var n=0;n<4;n++){var G=j[S+F[n]];if(G==T)continue;j[S]=G;var N=z(j,c,y,2);if(N<K){K=N;T=G}}j[S]=T;
if(T==C&&c+1<t&&j[S+1]==C){K=1e9;T=-1;for(var n=0;n<6;n++){var G=j[S+i[n]];if(G==T)continue;j[S]=j[S+1]=G;
var N=z(j,c,y,2)+z(j,c+1,y,2);if(N<K){K=N;T=G}}j[S]=j[S+1]=T}if(T==C&&y+1<h&&j[S+t]==C){K=1e9;T=-1;for(var n=0;
n<6;n++){var G=j[S+$[n]];if(G==T)continue;j[S]=j[S+t]=G;var N=z(j,c,y,2)+z(j,c,y+1,2);if(N<K){K=N;T=G}}j[S]=j[S+t]=T}}V+=K}}}function Z(p){var U=0;
for(var l=0;l<h;l++)for(var L=0;L<t;L++)U+=z(p,L,l,1);return U/(t*h)}function Y(p,U,l){var n=l*t+U,L=n*4,j=p[n]*4,O=v[L]-X[j],F=v[L+1]-X[j+1],i=v[L+2]-X[j+2],$=v[L+3]-X[j+3];
return O*O+F*F+i*i+$*$}function a(p,U,l){if(U<0||U>=t||l<0||l>=h)throw"e";var n=l*t+U,L=p[n],j=0;if(l>0&&L!=p[n-t])j+=2;
if(U>0&&L!=p[n-1])j+=2;if(U<t-1&&L!=p[n+1])j+=2;if(l<h-1&&L!=p[n+t])j+=2;if(l>0&&U>0&&L!=p[n-t-1])j++;
if(l<h-1&&U>0&&L!=p[n+t-1])j++;if(l>0&&U<t-1&&L!=p[n-t+1])j++;if(l<h-1&&U<t-1&&L!=p[n+t+1])j++;return j}function z(p,U,l,L){return Y(p,U,l)+a(p,U,l)*L*d}return g}();
var bJ=function(){function d(){this.k=0;this.dK=0;this.OD={};this.Zk=[];this.J2=1e5;this.pc=1e5;this.nP=-1;
this.SN=-1;this.color=0}function v(bW){this.s=bW;this.zh=new Array(bW);this.Wp=new Array(bW*6);this.aOi=0;
this.Op=new Array(bW*2);this.alpha=new Array(bW);this.v6=new Array(bW);this.Hf=new Array(bW)}function t(X,g,x,Z){function Y(O,F,X,g){return X[g*F+O]}function a(n){var W=X.length;
while(n<W&&X[n]==0)n++;return n<W?n:-1}function z(O,F,W){for(var n=2;n<5;n++){var V=0;for(var y=-n+1;
y<=n-1;y++){V+=Y(O+y,F+n-1,X,g)==W?1:-1;V+=Y(O+n-1,F+y-1,X,g)==W?1:-1;V+=Y(O+y-1,F-n,X,g)==W?1:-1;V+=Y(O-n,F+y,X,g)==W?1:-1}if(V>0)return 1;
else if(V<0)return 0}return 0}function p(W,L){var j=new d,O=W,F=L,V=0,y=1,c;j.color=X[L*g+W];j.sign=Y(W,L,X,g)==j.color?"+":"-";
while(1){j.Zk.push(O,F);if(O>j.nP)j.nP=O;if(O<j.J2)j.J2=O;if(F>j.SN)j.SN=F;if(F<j.pc)j.pc=F;j.dK++;O+=V;
F+=y;j.k-=O*y;if(O==W&&F==L)break;var S=Y(O+(V+y-1>>1),F+(y-V-1>>1),X,g)==j.color,C=Y(O+(V-y-1>>1),F+(y+V-1>>1),X,g)==j.color;
if(C&&!S){if(Z.sR=="right"||Z.sR=="black"&&j.sign=="+"||Z.sR=="white"&&j.sign=="-"||Z.sR=="majority"&&z(O,F,j.color)||Z.sR=="minority"&&!z(O,F,j.color)){c=V;
V=-y;y=c}else{c=V;V=y;y=-c}}else if(C){c=V;V=-y;y=c}else if(!S){c=V;V=y;y=-c}}return j}var U=0,l=[];
while(!0){var U=a(U);if(U==-1)break;var L=Math.floor(U/g),j=p(U-L*g,L);for(var n=0;n<j.Zk.length-2;n+=2){var O=j.Zk[n],F=j.Zk[n+1],i=F*g+O;
if(O==j.Zk[n+2]&&F+1==j.Zk[n+3]&&X[i]!=0)bJ.fill(i,X,g,0)}if(j.k>Z.a4e)l.push(j)}for(var n=0;n<l.length;
n++)l[n].parent=-1;var $=Date.now();for(var n=1;n<l.length;n++){var H=l[n];for(var b=n-1;b>=0;b--){var r=l[b];
if(H.J2<r.J2||H.nP>r.nP||H.pc<r.pc||H.SN>r.SN)continue;if(!bJ.PC(r.Zk,H.Zk[0]+.5,H.Zk[1]+.5))continue;
H.parent=b;break}}return l}function h(X,g){function x(V,y,c,S,C){this.x=V;this.y=y;this.be=c;this.mm=S;
this.o$=C}function Z(V,bW){return(bW+V)%bW}function Y(V,y,c,S){return V*S-c*y}function a(V,y,c,S){return V*c+y*S}function z(V,y,c){if(V<=c)return V<=y&&y<c;
else return V<=y||y<c}function p(V,y,c){var S=0;S+=y*V[0]*y;S+=y*V[1]*c;S+=y*V[2];S+=c*V[3]*y;S+=c*V[4]*c;
S+=c*V[5];S+=V[6]*y;S+=V[7]*c;S+=V[8];return S}function U(V,y,c){return y+V*(c-y)}function l(V,y,c,S){var C=Math.sign(c-V),K=-Math.sign(S-y);
return C*(c-V)-K*(S-y)}function L(V,y){return Math.sqrt(V*V+y*y)}function j(V,y,c,S,C){var K=1-V;return K*K*K*y+3*(K*K*V)*c+3*(V*V*K)*S+V*V*V*C}function O(V,y,c,S,C,K,T,D){var N=Y(V,y,T,D),G=Y(c,S,T,D),s=Y(C,K,T,D),Q=N-2*G+s,q=-2*N+2*G,R=N,m=q*q-4*Q*R;
if(Q==0||m<0)return-1;var E=Math.sqrt(m),e=(-q+E)/(2*Q),w=(-q-E)/(2*Q);if(e>=0&&e<=1)return e;else if(w>=0&&w<=1)return w;
else return-1}function F(W){var n,V,y;W.v$=W.Zk[0];W.a9Y=W.Zk[1];W.aBs=[];var c=W.aBs;c.push(new x(0,0,0,0,0));
for(n=0;n<W.dK;n++){V=W.Zk[n<<1]-W.v$;y=W.Zk[(n<<1)+1]-W.a9Y;c.push(new x(c[n].x+V,c[n].y+y,c[n].be+V*y,c[n].mm+V*V,c[n].o$+y*y))}}function i(W){var bW=W.dK,V=W.Zk,y,c=new Array(bW),S=new Array(bW),C=new Array(4),K,T,D,N,G,s,Q,q,R,m,E,n,e,w,M,P,I,k,o=0;
W.vZ=new Array(bW);for(n=bW-1;n>=0;n--){if(V[n<<1]!=V[o<<1]&&V[(n<<1)+1]!=V[(o<<1)+1])o=n+1;S[n]=o}for(n=bW-1;
n>=0;n--){var af=Z(n+1,bW)<<1;C[0]=C[1]=C[2]=C[3]=0;y=(3+3*(V[af]-V[n<<1])+(V[af+1]-V[(n<<1)+1]))/2;
C[y]++;K=0;T=0;D=0;N=0;o=S[n];w=n;while(1){E=0;y=(3+3*Math.sign(V[o*2]-V[w*2])+Math.sign(V[o*2+1]-V[w*2+1]))/2;
C[y]++;if(C[0]&&C[1]&&C[2]&&C[3]){c[n]=w;E=1;break}R=V[o*2]-V[n*2];m=V[o*2+1]-V[n*2+1];if(Y(K,T,R,m)<0||Y(D,N,R,m)>0){break}if(Math.abs(R)<=1&&Math.abs(m)<=1){}else{G=R+(m>=0&&(m>0||R<0)?1:-1);
s=m+(R<=0&&(R<0||m<0)?1:-1);if(Y(K,T,G,s)>=0){K=G;T=s}G=R+(m<=0&&(m<0||R<0)?1:-1);s=m+(R>=0&&(R>0||m<0)?1:-1);
if(Y(D,N,G,s)<=0){D=G;N=s}}w=o;o=S[w];if(!z(o,n,w)){break}}if(E==0){Q=Math.sign(V[o*2]-V[w*2]);q=Math.sign(V[o*2+1]-V[w*2+1]);
R=V[w*2]-V[n*2];m=V[w*2+1]-V[n*2+1];M=Y(K,T,R,m);P=Y(K,T,Q,q);I=Y(D,N,R,m);k=Y(D,N,Q,q);e=1e7;if(P<0){e=Math.floor(M/-P)}if(k>0){e=Math.min(e,Math.floor(-I/k))}c[n]=Z(w+e,bW)}}e=c[bW-1];
W.vZ[bW-1]=e;for(n=bW-2;n>=0;n--){if(z(n+1,c[n],e)){e=c[n]}W.vZ[n]=e}for(n=bW-1;z(Z(n+1,bW),e,W.vZ[n]);
n--){W.vZ[n]=e}}function $(W){function V(W,n,y){var bW=W.dK,R=W.Zk,m=W.aBs,E,e,w,M,P,S,I,k,q,o,af,J,at,ke,c_=0;
if(y>=bW){y-=bW;c_=1}if(c_==0){E=m[y+1].x-m[n].x;e=m[y+1].y-m[n].y;M=m[y+1].mm-m[n].mm;w=m[y+1].be-m[n].be;
P=m[y+1].o$-m[n].o$;S=y+1-n}else{E=m[y+1].x-m[n].x+m[bW].x;e=m[y+1].y-m[n].y+m[bW].y;M=m[y+1].mm-m[n].mm+m[bW].mm;
w=m[y+1].be-m[n].be+m[bW].be;P=m[y+1].o$-m[n].o$+m[bW].o$;S=y+1-n+bW}af=(R[n<<1]+R[y<<1])/2-R[0];J=(R[(n<<1)+1]+R[(y<<1)+1])/2-R[1];
ke=R[y<<1]-R[n<<1];at=-(R[(y<<1)+1]-R[(n<<1)+1]);I=(M-2*E*af)/S+af*af;k=(w-E*J-e*af)/S+af*J;q=(P-2*e*J)/S+J*J;
o=at*at*I+2*at*ke*k+ke*ke*q;return Math.sqrt(o)}var n,y,c,S,bW=W.dK,C=new Array(bW+1),K=new Array(bW+1),T=new Array(bW),D=new Array(bW+1),N=new Array(bW+1),G=new Array(bW+1),s,Q,q;
for(n=0;n<bW;n++){q=Z(W.vZ[Z(n-1,bW)]-1,bW);if(q==n){q=Z(n+1,bW)}if(q<n){T[n]=bW}else{T[n]=q}}y=1;for(n=0;
n<bW;n++){while(y<=T[n]){D[y]=n;y++}}n=0;for(y=0;n<bW;y++){N[y]=n;n=T[n]}N[y]=bW;c=y;n=bW;for(y=c;y>0;
y--){G[y]=n;n=D[n]}G[0]=0;C[0]=0;for(y=1;y<=c;y++){for(n=G[y];n<=N[y];n++){Q=-1;for(S=N[y-1];S>=D[n];
S--){s=V(W,S,n)+C[S];if(Q<0||s<Q){K[n]=S;Q=s}}C[n]=Q}}W.u=c;W.aaf=new Array(c);for(n=bW,y=c-1;n>0;y--){n=K[n];
W.aaf[y]=n}}function H(W){function V(W,n,s,T,D,ag){var bW=W.dK,dz=W.aBs,kL=0,q;while(s>=bW){s-=bW;kL+=1}while(n>=bW){n-=bW;
kL-=1}while(s<0){s+=bW;kL-=1}while(n<0){n+=bW;kL+=1}var aq=dz[s+1].x-dz[n].x+kL*dz[bW].x,dh=dz[s+1].y-dz[n].y+kL*dz[bW].y,gK=dz[s+1].mm-dz[n].mm+kL*dz[bW].mm,ad=dz[s+1].be-dz[n].be+kL*dz[bW].be,dc=dz[s+1].o$-dz[n].o$+kL*dz[bW].o$,Q=s+1-n+kL*bW;
T[ag]=aq/Q;T[ag+1]=dh/Q;var lq=(gK-aq*aq/Q)/Q,hn=(ad-aq*dh/Q)/Q,dF=(dc-dh*dh/Q)/Q,c3=(lq+dF+Math.sqrt((lq-dF)*(lq-dF)+4*hn*hn))/2;
lq-=c3;dF-=c3;if(Math.abs(lq)>=Math.abs(dF)){q=Math.sqrt(lq*lq+hn*hn);if(q!=0){D[ag]=-hn/q;D[ag+1]=lq/q}}else{q=Math.sqrt(dF*dF+hn*hn);
if(q!=0){D[ag]=-dF/q;D[ag+1]=hn/q}}if(q==0){D[ag]=D[ag+1]=0}}var y=W.u,c=W.aaf,bW=W.dK,S=W.Zk,C=W.v$,K=W.a9Y,T=new Array(y*2),D=new Array(y*2),N=new Array(y),G=new Array(3),n,s,Q,q,e,w,M,P,I,k,o;
W.OD=new v(y);for(n=0;n<y;n++){s=c[Z(n+1,y)];s=Z(s-c[n],bW)+c[n];T[n<<1]=0;T[(n<<1)+1]=0;D[n<<1]=0;D[(n<<1)+1]=0;
V(W,c[n],s,T,D,n<<1)}for(n=0;n<y;n++){N[n]=[0,0,0,0,0,0,0,0,0];var R=D[n<<1]*D[n<<1]+D[(n<<1)+1]*D[(n<<1)+1],m=1/R;
if(R!=0){G[0]=D[(n<<1)+1];G[1]=-D[n<<1];G[2]=-G[1]*T[(n<<1)+1]-G[0]*T[n<<1];for(q=0;q<3;q++){N[n][q*3+0]=G[q]*G[0]*m;
N[n][q*3+1]=G[q]*G[1]*m;N[n][q*3+2]=G[q]*G[2]*m}}}var E=[0,0,0,0,0,0,0,0,0];for(n=0;n<y;n++){E[0]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=0;
var af=S[c[n]<<1]-C,J=S[(c[n]<<1)+1]-K,at=0,ke=0;s=Z(n-1,y);for(q=0;q<9;q+=3){E[q+0]=N[s][q+0]+N[n][q+0];
E[q+1]=N[s][q+1]+N[n][q+1];E[q+2]=N[s][q+2]+N[n][q+2]}while(1){var c_=E[0]*E[4]-E[1]*E[3];if(c_!=0){at=(-E[2]*E[4]+E[5]*E[0])/c_;
ke=(E[2]*E[3]-E[5]*E[0])/c_;break}if(E[0]>E[4]){G[0]=-E[1];G[1]=E[0]}else if(E[4]){G[0]=-E[4];G[1]=E[3]}else{G[0]=1;
G[1]=0}var R=G[0]*G[0]+G[1]*G[1],m=1/R;G[2]=-G[1]*J-G[0]*af;for(q=0;q<3;q++){E[q*3+0]+=G[q]*G[0]*m;E[q*3+1]+=G[q]*G[1]*m;
E[q*3+2]+=G[q]*G[2]*m}}e=Math.abs(at-af);w=Math.abs(ke-J);if(e<=.5&&w<=.5){W.OD.Op[n<<1]=at+C;W.OD.Op[(n<<1)+1]=ke+K;
continue}M=p(E,af,J);I=af;k=J;if(E[0]!=0){for(o=0;o<2;o++){ke=J-.5+o;at=-(E[1]*ke+E[2])/E[0];e=Math.abs(at-af);
P=p(E,at,ke);if(e<=.5&&P<M){M=P;I=at;k=ke}}}if(E[4]!=0){for(o=0;o<2;o++){at=af-.5+o;ke=-(E[3]*at+E[5])/E[4];
w=Math.abs(ke-J);P=p(E,at,ke);if(w<=.5&&P<M){M=P;I=at;k=ke}}}for(q=0;q<2;q++){for(Q=0;Q<2;Q++){at=af-.5+q;
ke=J-.5+Q;P=p(E,at,ke);if(P<M){M=P;I=at;k=ke}}}W.OD.Op[n<<1]=I+C;W.OD.Op[(n<<1)+1]=k+K}}function b(W){var V=W.OD.s,y=W.OD,n,c,S,C,K,T,D,N,G;
for(n=0;n<V;n++){c=Z(n+1,V);S=Z(n+2,V);var s=y.Op[n<<1],Q=y.Op[(n<<1)+1],q=y.Op[S<<1],R=y.Op[(S<<1)+1],m=y.Op[c<<1],E=y.Op[(c<<1)+1],e=U(.5,q,m),w=U(.5,R,E);
K=l(s,Q,q,R);if(K!=0){C=Y(m-s,E-Q,q-s,R-Q)/K;C=Math.abs(C);T=C>1?1-1/C:0;T=T*(1/.75)}else{T=4/3}y.v6[c]=T;
var M=3*c<<1;if(T>=g.aj0){y.zh[c]=0;y.Wp[M+0]=y.Wp[M+1]=0;y.Wp[M+2]=m;y.Wp[M+3]=E;y.Wp[M+4]=e;y.Wp[M+5]=w}else{if(T<.55){T=.55}else if(T>1){T=1}var P=.5+.5*T;
y.zh[c]=1;y.Wp[M]=U(P,s,m);y.Wp[M+1]=U(P,Q,E);y.Wp[M+2]=U(P,q,m);y.Wp[M+3]=U(P,R,E);y.Wp[M+4]=e;y.Wp[M+5]=w}y.alpha[c]=T;
y.Hf[c]=.5}y.awb=1}function r(W){function V(){this.tP=0;this.al9=0;this.a8x=0;this.acz=0;this.aH0=0;
this.o=0;this.Wx=0;this.alpha=0}function y(W,n,s,dr,jO,I,k){var S=W.OD.s,d1=W.OD.Wp,h3=W.OD.Op;if(n==s)return 1;
var d5=n,m=Z(n+1,S),em=Z(d5+1,S),ad=h3[n<<1],dc=h3[(n<<1)+1],fl=h3[m<<1],lA=h3[(m<<1)+1],av=I[em];if(av==0)return 1;
var ah=L(ad-fl,dc-lA);for(d5=em;d5!=s;d5=em){var em=Z(d5+1,S),gE=Z(d5+2,S),fj=h3[em<<1],bR=h3[(em<<1)+1],bD=h3[gE<<1],e1=h3[(gE<<1)+1];
if(I[em]!=av)return 1;if(Math.sign(Y(fl-ad,lA-dc,bD-fj,e1-bR))!=av)return 1;if(a(fl-ad,lA-dc,bD-fj,e1-bR)<ah*L(fj-bD,bR-e1)*-.999847695156)return 1}var am=Z(n,S)*3+2<<1,dj=Z(n+1,S)<<1,ja=Z(s,S)<<1,aj=Z(s,S)*3+2<<1,ag=d1[am],dz=d1[am+1],dS=h3[dj],eW=h3[dj+1],be=h3[ja],cI=h3[ja+1],kP=d1[aj],i0=d1[aj+1],o=h3[0],af=h3[1];
am=s*3+2<<1;var ac=d1[am],jR=d1[am+1],E=k[s]-k[n];E-=Y(ac-o,jR-af,ac-o,jR-af)/2;if(n>=s){E+=k[S]}var eo=dS-ag,eP=eW-dz,as=be-ag,kF=cI-dz,kW=kP-ag,hs=i0-dz,gc=Y(eo,eP,as,kF),fK=Y(eo,eP,kW,hs),lo=Y(as,kF,kW,hs),cR=gc+lo-fK;
if(fK==gc)return 1;var P=lo/(lo-cR),M=fK/(fK-gc),fU=fK*P/2;if(fU==0)return 1;var g8=E/fU,e=2-Math.sqrt(4-g8/.3);
dr.al9=U(P*e,ag,dS);dr.a8x=U(P*e,dz,eW);dr.acz=U(M*e,kP,be);dr.aH0=U(M*e,i0,cI);dr.alpha=e;dr.o=P;dr.Wx=M;
dS=dr.al9;eW=dr.a8x;be=dr.acz;cI=dr.aH0;dr.tP=0;for(d5=Z(n+1,S);d5!=s;d5=em){em=Z(d5+1,S);var i2=h3[d5<<1],jQ=h3[(d5<<1)+1],fj=h3[em<<1],bR=h3[(em<<1)+1];
P=O(dS-ag,eW-dz,be-dS,cI-eW,kP-be,i0-cI,fj-i2,bR-jQ);if(P<-.5)return 1;var eS=j(P,ag,dS,be,kP),ji=j(P,dz,eW,cI,i0),ah=L(fj-i2,bR-jQ);
if(ah==0)return 1;var l7=Y(fj-i2,bR-jQ,eS-i2,ji-jQ)/ah;if(Math.abs(l7)>jO)return 1;if(a(fj-i2,bR-jQ,eS-i2,ji-jQ)<0||a(i2-fj,jQ-bR,eS-fj,ji-bR)<0){return 1}dr.tP+=l7*l7}for(d5=n;
d5!=s;d5=em){em=Z(d5+1,S);var am=d5*3+2<<1,dj=em*3+2<<1,j_=d1[am],hb=d1[am+1],fL=d1[dj],dE=d1[dj+1];
P=O(dS-ag,eW-dz,be-dS,cI-eW,kP-be,i0-cI,fL-j_,dE-hb);if(P<-.5)return 1;var eS=j(P,ag,dS,be,kP),ji=j(P,dz,eW,cI,i0),ah=L(fL-j_,dE-hb);
if(ah==0)return 1;var l7=Y(fL-j_,dE-hb,eS-j_,ji-hb)/ah,gF=Y(fL-j_,dE-hb,h3[em<<1]-j_,h3[(em<<1)+1]-hb)/ah;
gF*=.75*W.OD.alpha[em];if(gF<0){l7=-l7;gF=-gF}if(l7<gF-jO)return 1;if(l7<gF){dr.tP+=(l7-gF)*(l7-gF)}}return 0}var c=W.OD,S=c.s,C=c.Op,K=new Array(S+1),T=new Array(S+1),D=new Array(S+1),N=new Array(S+1),G,n,s,Q,q=new V,R,m,E,e,w,M,P,I=new Array(S),k=new Array(S+1);
for(n=0;n<S;n++){if(c.zh[n]=="CURVE"){var o=C[Z(n-1,S)<<1],af=C[(Z(n-1,S)<<1)+1],J=C[n<<1],at=C[(n<<1)+1],ke=C[Z(n+1,S)<<1],c_=C[(Z(n+1,S)<<1)+1];
I[n]=Math.sign(Y(J-o,at-af,ke-J,c_-at))}else{I[n]=0}}E=0;k[0]=0;var ag=c.Op[0],dz=c.Op[1];for(n=0;n<S;
n++){m=Z(n+1,S);if(c.zh[m]=="CURVE"){e=c.alpha[m];var kL=n*3+2<<1,aq=m*3+2<<1,dh=c.Wp[kL],gK=c.Wp[kL+1],ad=C[m<<1],dc=C[(m<<1)+1],lq=c.Wp[aq],hn=c.Wp[aq+1];
E+=.3*e*(4-e)*Y(ad-dh,dc-gK,lq-dh,hn-gK)/2;E+=Y(dh-ag,gK-dz,lq-ag,hn-dz)/2}k[n+1]=E}K[0]=-1;T[0]=0;D[0]=0;
for(s=1;s<=S;s++){K[s]=s-1;T[s]=T[s-1];D[s]=D[s-1]+1;for(n=s-2;n>=0;n--){Q=y(W,n,Z(s,S),q,g.a7U,I,k);
if(Q){break}if(D[s]>D[n]+1||D[s]==D[n]+1&&T[s]>T[n]+q.tP){K[s]=n;T[s]=T[n]+q.tP;D[s]=D[n]+1;N[s]=q;q=new V}}}G=D[S];
w=new v(G);M=new Array(G);P=new Array(G);s=S;for(n=G-1;n>=0;n--){var dF=Z(s,S),c3=n*3+0<<1,i8=dF*3+0<<1;
if(K[s]==s-1){w.zh[n]=c.zh[dF];w.Wp[c3]=c.Wp[i8];w.Wp[c3+1]=c.Wp[i8+1];w.Wp[c3+2]=c.Wp[i8+2];w.Wp[c3+3]=c.Wp[i8+3];
w.Wp[c3+4]=c.Wp[i8+4];w.Wp[c3+5]=c.Wp[i8+5];w.Op[n<<1]=c.Op[dF<<1];w.Op[(n<<1)+1]=c.Op[(dF<<1)+1];w.alpha[n]=c.alpha[dF];
w.v6[n]=c.v6[dF];w.Hf[n]=c.Hf[dF];M[n]=P[n]=1}else{w.zh[n]="CURVE";w.Wp[c3]=N[s].al9;w.Wp[c3+1]=N[s].a8x;
w.Wp[c3+2]=N[s].acz;w.Wp[c3+3]=N[s].aH0;w.Wp[c3+4]=c.Wp[i8+4];w.Wp[c3+5]=c.Wp[i8+5];w.Op[n<<1]=U(N[s].Wx,c.Wp[i8+4],C[dF<<1]);
w.Op[(n<<1)+1]=U(N[s].Wx,c.Wp[i8+5],C[(dF<<1)+1]);w.alpha[n]=N[s].alpha;w.v6[n]=N[s].alpha;M[n]=N[s].Wx;
P[n]=N[s].o}s=K[s]}for(n=0;n<G;n++){m=Z(n+1,G);w.Hf[n]=M[n]/(M[n]+P[m])}w.awb=1;W.OD=w}for(var n=0;n<X.length;
n++){var W=X[n];F(W);i(W);$(W);H(W);b(W);if(g.afw)r(W)}}return{ay_:t,akW:h}}();bJ.h7=function(d,v,t,h){var X={sR:"minority",a4e:h,afw:!0,aj0:1,a7U:.2},g=bJ.ay_(d,v,t,X);
bJ.akW(g,X);return g};bJ.V9=function(d){var v=[];for(var n=0;n<d.length;n++){var t=d[n],h=t.OD,X=["M"],g=[h.Wp[(h.s-1)*6+4],h.Wp[(h.s-1)*6+5]];
for(var x=0;x<h.s;x++){var Z=x*6;if(h.zh[x]==1){X.push("C");for(var Y=0;Y<6;Y++)g.push(h.Wp[Z+Y])}else if(h.zh[x]==0){X.push("L");
for(var Y=2;Y<4;Y++)g.push(h.Wp[Z+Y])}}X.push("Z");v.push({parent:t.parent,color:t.color,path:{I:g,s2:X}})}return v};
bJ.PC=function(d,v,t){var bW=d.length>>1,h,X=d[2*bW-3]-t,g=d[2*bW-2]-v,x=d[2*bW-1]-t,Z=x>X,Y=0;for(var n=0;
n<bW;n++){h=g;X=x;g=d[2*n]-v;x=d[2*n+1]-t;if(X==x)continue;Z=x>X}for(var n=0;n<bW;n++){h=g;X=x;g=d[2*n]-v;
x=d[2*n+1]-t;if(X<0&&x<0)continue;if(X>0&&x>0)continue;if(h<0&&g<0)continue;if(X==x&&Math.min(h,g)<=0)return!0;
if(X==x)continue;var a=h+(g-h)*-X/(x-X);if(a==0)return!0;if(a>0)Y++;if(X==0&&Z&&x>X)Y--;if(X==0&&!Z&&x<X)Y--;
Z=x>X}return(Y&1)==1};bJ.fill=function(d,v,t,h){var X=v[d],g=[d],x=0;while(x<g.length){var Z=g[x];x++;
v[Z]=h;if(v[Z-t]==X){g.push(Z-t);v[Z-t]=254}if(v[Z-1]==X){g.push(Z-1);v[Z-1]=254}if(v[Z+1]==X){g.push(Z+1);
v[Z+1]=254}if(v[Z+t]==X){g.push(Z+t);v[Z+t]=254}}};var fX=function(){function d(a){return Math.max(0,Math.min(1,a))}function v(a,z){var p=z<0?-z:z;
if(a>1)a=.99;a=a*.99;var U=Math.pow(p/5,.16),l=Math.pow(2,p<1?p:1+(p-1)*.8);if(z<0)l=1/l;a=U*(1-Math.pow(1-a,l))+(1-U)*a;
return a}function t(a,z){var p=z/100;a=a*.99;a=p*(.5-.5*Math.cos(a*Math.PI))+(1-p)*a;return a}function h(a,z){var p=z*.01,U=Math.abs(p);
if(z<0)a=Math.max(0,-U*.33+a*(1+U*.33));else{var l=.25+.15*U;if(a<.25)a*=l/.25;else a=l+(1-l)*((a-.25)/(1-.25))}return a}function X(a,z){if(z<0)a=a*(1+862e-6*z);
else a=a*(1+.012*z);return a}var g=f.Yh.UH(1,1,1,-.3),x=f.Yh.zJ(g);function Z(a,z,p,U,l,L,j,O,F,i){var $=a[p],H=a[p+1],b=a[p+2],r=f.Yh.ip(g,[$,H,b,1]);
$=r[0];H=r[1];b=r[2];$=v($,U);H=v(H,U);b=v(b,U);var r=f.Yh.ip(x,[$,H,b,1]);$=r[0];H=r[1];b=r[2];$=d($);
H=d(H);b=d(b);$=t($,l);H=t(H,l);b=t(b,l);$=h($,j);H=h(H,j);b=h(b,j);$=X($,L);H=X(H,L);b=X(b,L);var W=ir.a6n($,H,b,O);
$=W[0];H=W[1];b=W[2];$=d($);H=d(H);b=d(b);if(F||i){var V=new Float32Array(4),y=new iW(0,0,1,1);V[0]=$;
V[1]=H;V[2]=b;if(F)cV.yh(F,V,V,y);if(i)cV.yh(i,V,V,y);$=V[0];H=V[1];b=V[2]}z[p]=$;z[p+1]=H;z[p+2]=b}function Y(a,z,p,U,l){var L=l.Ex12?l.Ex12.v:0,j=l.Cr12?l.Cr12.v:0,O=l.Wh12?l.Wh12.v:0,F=l.Bk12?l.Bk12.v:0,i=l.Temp?l.Temp.v:0,$=l.Tint?l.Tint.v:0,H=l.Vibr?l.Vibr.v:0,b=l.Strt?l.Strt.v:0,r=ir.ms(i,$),W=null,V=null;
L+=r.a98;if(H!=0||b!=0)W=cV.MM("vibA",{Strt:l.Strt,vibrance:l.Vibr});if(l.Crv){var y=e0.yu("curv"),c=!1;
for(var S=0;S<4;S++){var C=["Crv","CrvR","CrvG","CrvB"][S];if(l[C]==null)continue;var K=l[C].v,T=[],D=[];
for(var n=0;n<K.length;n+=2){var N=K[n].v,G=K[n+1].v;D.push(N,G);T.push(f.kB.lY(N,G,!0))}if(D.join("-")=="0-0-255-255")continue;
js.jq(y,S,T);c=!0}if(c)V=cV.MM("curv",y)}var s=Date.now();if(U!=a)U.set(a);if(L!=0||j!=0||O!=0||F!=0||i!=0||$!=0||W||V){console.log(L,j,O,F,i,$,W);
var Q=17,q=1/(Q-1),R=Q*Q*Q,m=new Array(R*3);for(var E=0;E<Q;E++)for(var e=0;e<Q;e++)for(var w=0;w<Q;
w++){var n=E*Q*Q+e*Q+w,M=n*3;m[M]=E*q;m[M+1]=e*q;m[M+2]=w*q}for(var n=0;n<R;n++)Z(m,m,n*3,L,j,O,F,r,W,V);
console.log(Date.now()-s,"making LUT");s=Date.now();ICC.U.applyLUT(m,Q,U,U);console.log(Date.now()-s,"applying LUT");
s=Date.now()}var P=(l.Hi12?l.Hi12.v:0)*.01,I=(l.Sh12?l.Sh12.v:0)*.01;if(P!=0||I!=0){var s=Date.now(),k=!1,o=f.m(z*p,32),af=U.length,J=.3,at=.59,ke=.11;
for(var n=0;n<af;n+=4){var c_=U[n+0]*J+U[n+1]*at+U[n+2]*ke;o[n>>2]=c_<.3?I*3*(.3-c_):P*.7*(c_-.3)}if(k)console.log(0,Date.now()-s);
s=Date.now();f.C2.Hd(o,new iW(0,0,z,p),8);if(k)console.log(1,Date.now()-s);s=Date.now();for(var G=0;
G<p;G++)for(var N=0;N<z;N++){var n=G*z+N,ag=n*4,dz=1+o[n];U[ag]=d(U[ag]*dz);U[ag+1]=d(U[ag+1]*dz);U[ag+2]=d(U[ag+2]*dz)}if(k)console.log(2,Date.now()-s,z,p);
s=Date.now()}var kL=(l.CrTx?l.CrTx.v:0)*.01,aq=(l.Cl12?l.Cl12.v:0)*.01,dh=(l.Dhze?l.Dhze.v:0)*.01;if(kL!=0||aq!=0){var o=f.m(z*p,32);
for(var n=0;n<U.length;n+=4)o[n>>2]=(U[n+0]+U[n+1]+U[n+2])*.333333;var gK=o.slice(0);f.C2.Hd(gK,new iW(0,0,z,p),16);
if(k)console.log(1,Date.now()-s);s=Date.now();for(var G=0;G<p;G++)for(var N=0;N<z;N++){var n=G*z+N,ag=n*4,c_=o[n],ad=gK[n],E=U[ag],e=U[ag+1],w=U[ag+2],dc=ad+(c_-ad)*(1+kL*.3)-c_;
E=E+dc;e=e+dc;w=w+dc;E=E*(1+aq*(c_-ad));e=e*(1+aq*(c_-ad));w=w*(1+aq*(c_-ad));U[ag]=d(E);U[ag+1]=d(e);
U[ag+2]=d(w)}}var lq=z*p;if(dh!=0){var s=Date.now(),hn=f.m(lq),o=f.m(lq),i8=0;for(var n=0;n<lq;n++){var ag=n<<2;
hn[n]=~~(255*Math.min(U[ag],U[ag+1],U[ag+2]));o[n]=~~(255*(U[ag]+U[ag+1]+U[ag+2])*(1/3))}var dF=Math.round(Math.min(z,p)/80),c3=hn.slice(0);
f.eV.RM(c3,hn,z,p,dF);hn=f.Ka.a37(hn,o,new iW(0,0,z,p),Math.round(dF*3),.1);var dr=-1;for(var n=0;n<lq;
n++)if(hn[n]>dr){dr=hn[n];i8=n}var jO=U[i8*4],d1=U[i8*4+1],h3=U[i8*4+2],d5=(jO+d1+h3)/3;for(var n=0;
n<lq;n++){var ag=n*4,em=hn[n]*(1/255),fl=1-.9*dh*em,lA=1/Math.max(fl,.1);U[ag]=d((U[ag]-jO)*lA+jO);U[ag+1]=d((U[ag+1]-d1)*lA+d1);
U[ag+2]=d((U[ag+2]-h3)*lA+h3)}}}return Y}();function a5(){}a5.lS=function(d,v){var t=new Uint8Array(d),h=0,X=v.split("/").pop().split(".")[0];
function g(O){for(var n=0;n<O.length;n++)O[n].v.Nm.v=X+"/"+O[n].v.Nm.v.split("/").pop()}var x={Qt:[],ku:[],list:[]},Z=B.ZT(t,h);
h+=2;if(Z<=2){x=a5.a5t(t);g(x.list);return x}var Y=B.ZT(t,h);h+=2;var a=B.o3(t,h,8);h+=8;var z=B.BT(t,h);
h+=4;if(z>0)x.Qt=a5.aGU(t,h,z,Y,Z);h+=z;var p=B.o3(t,h,8);h+=8;var U=B.BT(t,h);h+=4;if(U>0)x.ku=fJ.p4(t,h,U);
h+=U;var l=B.o3(t,h,8);h+=8;var L=B.BT(t,h);h+=4;if(L>0){var j={};bi.Bj(t,j,h+4);x.list=j.Brsh.v}h+=L;
var O=x.list;for(var n=0;n<O.length;n++){ip.Q8.check(O[n].v)}g(O);return x};a5.vJ=function(d,v){d.v.Nm.v=v};
a5.a5t=function(d){var v={Qt:[],ku:[],list:[]},t=0,h=B.ZT(d,t);t+=2;var X=B.ZT(d,t);t+=2;for(var n=0;
n<X;n++){var g=B.ZT(d,t);t+=2;var x=B.BT(d,t);t+=4;var Z=t;if(g==2){var Y={};v.Qt.push(Y);var a=B.BT(d,Z);
Z+=4;var z=B.ZT(d,Z);Z+=2;if(h==2){var p=B.QU(d,Z);Z+=4+p.length*2+2}Y.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";
Z++;Z+=8;Y.BS=B.Lr(d,Z);Z+=16;var U=B.ZT(d,Z);Z+=2;var l=d[Z];Z++;var L=dM.Os(!1,U,d,Y.BS.r,Y.BS.$,Z,l);
L=f.OO(L,8);a5.aCW(Y,L);var j=ip.kf(Y.id),O=j.Brsh.v;O.Dmtr.v.val=Y.BS.r;O.Spcn.v.val=z;v.list.push({t:"Objc",v:j})}t+=x}return v};
a5.IT=function(d){var v=new fe,t=0,h=0;B.mk(v,t,6);t+=2;B.mk(v,t,2);t+=2;var X={},g=[],x={},Z=[];for(var n=0;
n<d.list.length;n++){var Y=d.list[n].v,a=Y.Brsh.v;if(a.classID=="sampledBrush")X[a.sampledData.v]=!0;
if(Y.Txtr)x[Y.Txtr.v.Idnt.v]=!0}for(var n=0;n<d.Qt.length;n++)if(X[d.Qt[n].id])g.push(d.Qt[n]);for(var n=0;
n<d.ku.length;n++)if(X[d.ku[n].id])Z.push(d.ku[n]);B.Er(v,t,"8BIMsamp");t+=8;t+=4;h=t;t=a5.awg(v,t,g);
B.um(v,h-4,t-h);B.Er(v,t,"8BIMpatt");t+=8;t+=4;h=t;t=fJ.hh(v,t,Z);B.um(v,h-4,t-h);var z=f.v(d.list);
for(var n=0;n<z.length;n++)z[n].v.Nm.v=z[n].v.Nm.v.split("/").pop();var p={classID:"null",Brsh:{t:"VlLs",v:z}};
B.Er(v,t,"8BIMdesc");t+=8;t+=4;h=t;B.um(v,t,16);t+=4;t+=bi.ct(v,p,t);B.um(v,h-4,t-h);return v.data.slice(0,t).buffer};
a5.aGU=function(d,v,t,h,X){var g=B.BT,x=B.Lr,Z=v+t,Y=[];while(v<Z){var a={};Y.push(a);var z=g(d,v);v+=4;
var p=v,U=B.pN(d,v);v+=U.length;a.id=U.wK;if(h==1){v+=9;a.BS=x(d,v);v+=16}else{v+=7;var l=g(d,v);v+=4;
a.BS=x(d,v);v+=16;var L=g(d,v);v+=4;v+=L*4;var j=g(d,v);v+=4;var O=g(d,v);v+=4;var F=x(d,v);v+=16}var i=B.ZT(d,v);
v+=2;var $=d[v];v+=1;var H=dM.Os(!1,i,d,a.BS.r,a.BS.$,v,$);H=f.OO(H,8);a5.aCW(a,H);if(z%4!=0)z+=4-z%4;
v=p+z}return Y};a5.aCW=function(d,v){var t=d.BS.b();t.x=t.y=0;d.kv=[v,t]};a5.awg=function(d,v,t){var h=B.um,X=B.k5;
for(var n=0;n<t.length;n++){var g=t[n],x=v+4,Y=56,z=1;v+=4;B.gw(d,v,g.id);v+=g.id.length+2;d.fK(v,1);
d.data[v]=1;v+=3;h(d,v,3);v+=4;var Z=v;v+=4;X(d,v,g.BS);v+=16;h(d,v,Y);v+=4;v+=Y*4;h(d,v-4,1);var a=v;
v+=4;h(d,v,8);v+=4;X(d,v,g.BS);v+=16;B.mk(d,v,8);v+=2;d.fK(v,1);d.data[v]=z;v++;var p=g.kv[0];d.fK(v,g.BS.k()*2);
v=dM.u1(!1,p,d.data,g.BS.r,g.BS.$,v,z);d.fK(v,8);v+=8;var U=v-x;h(d,x-4,U);h(d,Z,U-49);h(d,a,U-305);
if(U%4!=0)v+=4-U%4}return v};function js(){}js.lS=function(d,v){var t=new Uint8Array(d),h=[],X=0,g=B.ZT(t,X);
X+=2;if(g!=4){throw"Unknown version of curves: "+g}var x=B.ZT(t,X);X+=2;for(var n=0;n<x;n++){var Z=js.a9x(t,X);
X+=2+2*Z.length;h.push(Z)}if(X!=t.length){var Y=B.o3(t,X,4);X+=4;var a=B.ZT(t,X);X+=2;var z=B.ZT(t,X);
X+=2;if(z!=0)throw"extra curves for channels"}var p=js.axJ(h,0);p.presetKind={t:"long",v:3};p.presetFileName={t:"TEXT",v:v.split("/").pop().split(".")[0]};
return[p]};js.nJ=function(d,v,t,h){var X=h?B.ij:B.BT,g=v,x=[],Z=d[v];v+=3;var Y=X(d,v);v+=4;for(var n=0;
n<4;n++){var a=Y>>>n&1;if(a){if(Z==0){var z=js.a9x(d,v,h);v+=2+2*z.length}else{var z=js.aFn(d,v);v+=256}x.push(z)}else x.push(Z==0?[0,0,255,255]:js.a9N())}var p=js.axJ(x,Z);
return p};js.axJ=function(d,v){var t=e0.yu("curv");for(var n=0;n<4;n++){if(v==0){var h=d[n],X=[];for(var g=0;
g<h.length;g+=2)X.push(f.kB.lY(h[g],h[g+1],!0));js.jq(t,n,X)}else js.jq(t,n,d[n])}return t};js.R1=function(d,v,t){var h=[];
for(var n=0;n<4;n++){var X=js.TC(t,n);if(X.length==256)h.push(X);else{var g=[];for(var x=0;x<X.length;
x++)g.push(X[x].v.Hrzn.v,X[x].v.Vrtc.v);h.push(g)}}var Z=v,Y=h[0].length==256?1:0;d.fK(v,3);d.data[v]=Y;
d.data[v+1]=0;d.data[v+2]=1;v+=3;B.um(d,v,15);v+=4;for(var n=0;n<4;n++){var a=h[n];if(Y==0){js.aye(d,v,a);
v+=2+2*a.length}else{js.aj1(d,v,a);v+=256}}return v-Z};js.a9N=function(){var d=[];for(var n=0;n<256;
n++)d.push(n);return d};js.jq=function(d,v,t){var h=k9.yX("CrvA",v);if(t.length<256)h.Crv={t:"VlLs",v:t};
else{h.Mpng={t:"VlLs",v:[]};for(var n=0;n<256;n++)h.Mpng.v[n]={t:"long",v:t[n]}}h={t:"Objc",v:h};if(d.Adjs==null)d.Adjs={t:"VlLs",v:[]};
var X=d.Adjs.v,g=k9.VO(X,v);if(g==-1)X.push(h);else X[g]=h};js.TC=function(d,v){var t=d.Adjs?d.Adjs.v:[],h=k9.VO(t,v);
if(h==-1){if(t.length==0||t[0].v.Crv)return[f.kB.lY(0,0,!0),f.kB.lY(255,255,!0)];if(t[0].v.autoMachineLearning||t[0].v.AuCo)return[f.kB.lY(0,0,!0),f.kB.lY(128,160,!0),f.kB.lY(255,255,!0)];
var X=[];for(var n=0;n<256;n++)X.push(n);return X}var g=t[h].v;if(g.Crv)return g.Crv.v;if(g.Mpng){var X=[];
for(var n=0;n<256;n++)X.push(g.Mpng.v[n].v);return X}return[f.kB.lY(0,0,!0),f.kB.lY(255,255,!0)]};js.a9x=function(d,v,t){var h=t?B.kQ:B.ZT,X=[],g=h(d,v);
v+=2;for(var x=0;x<g;x++){var Z=h(d,v);v+=2;var Y=h(d,v);v+=2;X.push(Y,Z)}return X};js.aye=function(d,v,t){var h=t.length/2;
B.mk(d,v,h);v+=2;for(var X=0;X<h;X++){B.mk(d,v,t[X*2+1]);v+=2;B.mk(d,v,t[X*2+0]);v+=2}};js.aFn=function(d,v){var t=[];
for(var n=0;n<256;n++)t.push(d[v+n]);return t};js.aj1=function(d,v,t){d.fK(v,256);for(var n=0;n<256;
n++)d.data[v+n]=t[n]};function kg(){}kg.nJ=function(d,v,t,h){var X={},g=h?B.kQ:B.ZT,x=h?B.cY:B.Mu,Z=g(d,v);
v+=2;X.y$=d[v]==1;v++;v++;X.dr=[x(d,v),x(d,v+2),x(d,v+4)];v+=6;X.SI=[x(d,v),x(d,v+2),x(d,v+4)];v+=6;
X.jg=[];for(var n=0;n<6;n++){var Y={};Y.Cy=[x(d,v),x(d,v+2),x(d,v+4),x(d,v+6)];v+=8;Y.I5=[x(d,v),x(d,v+2),x(d,v+4)];
v+=6;X.jg.push(Y)}var a=e0.yu("hue2"),z=X;if(a.Clrz==null)a.Clrz={t:"bool",v:!1};a.Clrz.v=z.y$;for(var n=0;
n<7;n++){var p=n==0?z.y$?z.dr:z.SI:z.jg[n-1];kg.jq(a,n,p)}return a};kg.aBO=function(d){return{classID:"Hst2",H:{t:"long",v:d[0]},Strt:{t:"long",v:d[1]},Lght:{t:"long",v:d[2]}}};
kg.VO=function(d,v){for(var n=0;n<d.length;n++){var t=d[n].v.LclR;if(v==0&&t==null||t!=null&&t.v==v)return n}return-1};
kg.jq=function(d,v,t){var h=v==0?t:t.I5,X=kg.aBO(h);if(v!=0){var g=t.Cy;X.LclR={t:"long",v:v},X.BgnR={t:"long",v:g[0]};
X.BgnS={t:"long",v:g[1]};X.EndS={t:"long",v:g[2]};X.EndR={t:"long",v:g[3]}}X={t:"Objc",v:X};var x=d.Adjs.v,Z=kg.VO(x,v);
if(Z==-1)x.push(X);else x[Z]=X};kg.TC=function(d,v){var t=d.Adjs.v,h=kg.VO(t,v);if(h==-1){if(v==0)return[0,0,0];
else return[{Cy:[315,345,15,45],I5:[0,0,0]},{Cy:[15,45,75,105],I5:[0,0,0]},{Cy:[75,105,135,165],I5:[0,0,0]},{Cy:[135,165,195,225],I5:[0,0,0]},{Cy:[195,225,255,285],I5:[0,0,0]},{Cy:[255,285,315,345],I5:[0,0,0]}][v-1]}var X=t[h].v,g=[X.H.v,X.Strt.v,X.Lght.v];
if(v==0)return g;return{I5:g,Cy:[X.BgnR.v,X.BgnS.v,X.EndS.v,X.EndR.v]}};kg.R1=function(d,v,t){var h={y$:t.Clrz?t.Clrz.v:!1,jg:[]};
h.dr=h.SI=kg.TC(t,0);for(var n=1;n<7;n++)h.jg.push(kg.TC(t,n));var X=2+2+12+6*14,g=d.data;d.fK(v,X);
B.PT(g,v,2);v+=2;g[v]=h.y$?1:0;v++;v++;B.EE(g,v+0,h.dr[0]);B.EE(g,v+2,h.dr[1]);B.EE(g,v+4,h.dr[2]);v+=6;
B.EE(g,v+0,h.SI[0]);B.EE(g,v+2,h.SI[1]);B.EE(g,v+4,h.SI[2]);v+=6;for(var n=0;n<6;n++){var x=h.jg[n].Cy,Z=h.jg[n].I5;
B.EE(g,v+0,x[0]);B.EE(g,v+2,x[1]);B.EE(g,v+4,x[2]);B.EE(g,v+6,x[3]);v+=8;B.EE(g,v+0,Z[0]);B.EE(g,v+2,Z[1]);
B.EE(g,v+4,Z[2]);v+=6}return X};function k9(){}k9.lS=function(d,v){var t=new Uint8Array(d),h=2,X=v?B.kQ:B.ZT,g=[];
for(var n=0;n<29;n++){var x=[];g.push(x);for(var Z=0;Z<5;Z++)x.push(X(t,h+n*10+Z*2))}h+=29*10;if(h<t.length){var Y=B.y5(t,h,v);
h+=4;var a=X(t,h);h+=2;var z=X(t,h);h+=2;var p=z-29;for(var n=0;n<p;n++){var x=[];g.push(x);for(var Z=0;
Z<5;Z++)x.push(X(t,h+n*10+Z*2))}}var U=e0.yu("levl");for(var n=0;n<4;n++)k9.jq(U,n,g[n]);return U};k9.yX=function(d,n){var v=["Cmps","Rd","Grn","Bl"],t={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v[n]}}]};
return{classID:d,Chnl:t}};k9.VO=function(d,v){var t={Cmps:0,Rd:1,Grn:2,Bl:3,Trgt:0};for(var n=0;n<d.length;
n++){var h=d[n].v,X=t[h.Chnl.v[0].v.enum];if(X==v)return n}return-1};k9.jq=function(d,v,t){var h=k9.yX("LvlA",v);
h.Inpt={t:"VlLs",v:[{t:"long",v:t[0]},{t:"long",v:t[1]}]};h.Otpt={t:"VlLs",v:[{t:"long",v:t[2]},{t:"long",v:t[3]}]};
h.Gmm={t:"doub",v:t[4]/100};h={t:"Objc",v:h};var X=d.Adjs.v,g=k9.VO(X,v);if(g==-1)X.push(h);else X[g]=h};
k9.TC=function(d,v){var t=[0,255,0,255,100],h=d.Adjs.v,X=k9.VO(h,v);if(X==-1)return t;var g=h[X].v;if(g.Inpt){t[0]=g.Inpt.v[0].v;
t[1]=g.Inpt.v[1].v}if(g.Otpt){t[2]=g.Otpt.v[0].v;t[3]=g.Otpt.v[1].v}if(g.Gmm){t[4]=Math.round(g.Gmm.v*100)}return t};
k9.IT=function(d,v){var t=[],h=0;for(var n=0;n<4;n++)t.push(k9.TC(v,n));while(t.length<29)t.push([0,255,0,255,100]);
d.fK(0,2+10*29);B.PT(d.data,h,2);h+=2;for(var n=0;n<29;n++){var X=t[n];for(var g=0;g<5;g++)B.PT(d.data,h+n*10+g*2,X[g])}h+=29*10;
if(t.length==29)return h;d.fK(h,8+10*(t.length-29));B.js(d.data,h,"Lvls");h+=4;B.PT(d.data,h,3);h+=2;
B.PT(d.data,h,t.length);h+=2;var x=t.length-29;for(var n=0;n<x;n++){var X=t[29+n];for(var g=0;g<5;g++)B.PT(d.data,h+n*10+g*2,X[g])}h+=10*x;
return h};function cu(){}cu.lS=function(d,v){var t=new Uint8Array(d),h=2,X=v.split("/").pop().split(".")[0],g={qF:[],st:[]},x=B.o3(t,h,4);
h+=4;var Z=B.ZT(t,h);h+=2;var Y=B.BT(t,h);h+=4;g.qF=fJ.p4(t,h,Y);h+=Y;var a=B.BT(t,h);h+=4;for(var n=0;
n<a;n++){var z=B.BT(t,h);h+=4;var p=h,U={Me:{},m9:{}};g.st.push(U);h+=4;h+=bi.Bj(t,U.Me,h);U.Me.Nm.v=X+"/"+U.Me.Nm.v.split("=").pop();
h+=4;h+=bi.Bj(t,U.m9,h);h=p+z;var l=U.m9.blendOptions,L=U.m9.Lefx;if(l&&Object.keys(l.v).length>1){}if(L){if(L.v.masterFXSwitch==null)L.v.masterFXSwitch={t:"bool",v:!0};
kY.ru(L.v)}}return g};cu.vJ=function(d,v){d.Me.Nm.v=v};cu.IT=function(d){var v=new fe,t=0;B.mk(v,t,2);
t+=2;B.Er(v,t,"8BSL");t+=4;B.mk(v,t,3);t+=2;var h=t;t+=4;t=fJ.hh(v,t,d.qF);B.um(v,h,t-h-4);var X=d.st.length;
B.um(v,t,X);t+=4;for(var n=0;n<X;n++){t+=4;var g=t,x=d.st[n];B.um(v,t,16);t+=4;var Z=x.Me.Nm.v;x.Me.Nm.v=x.Me.Nm.v.split("/").pop();
t+=bi.ct(v,x.Me,t);x.Me.Nm.v=Z;var Y=x.m9.Lefx;if(Y){x.m9.Lefx=f.v(Y);kY.oB(x.m9.Lefx.v)}B.um(v,t,16);
t+=4;t+=bi.ct(v,x.m9,t);if(Y)x.m9.Lefx=Y;B.um(v,g-4,t-g)}return v.data.slice(0,t).buffer};function g5(){}g5.nJ=function(d,v,t,h){var X=h?B.kQ:B.ZT,g=h?B.cY:B.Mu,x=X(d,v);
v+=2;var Z={};Z.apM=X(d,v)==1;v+=2;Z.q4=[];for(var n=0;n<10;n++){var Y=[];Z.q4.push(Y);for(var a=0;a<4;
a++)Y.push(g(d,v+a*2));v+=8}var z=e0.yu("selc");z.Mthd.v.CrcM=Z.apM?"Absl":"Rltv";for(var n=1;n<10;n++)g5.jq(z,n-1,Z.q4[n]);
return z};g5.Q4="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");g5.yX=function(d,n){var v=["Cmps","Rd","Grn","Bl"],t={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v[n]}}]};
return{classID:d,Chnl:t}};g5.VO=function(d,v){var t=g5.Q4;for(var n=0;n<d.length;n++){var h=d[n].v,X=t.indexOf(h.Clrs.v.Clrs);
if(X==v)return n}return-1};g5.jq=function(d,v,t){var h=["Cyn","Mgnt","Ylw","Blck"],X={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:g5.Q4[v]}}};
for(var g=0;g<4;g++)X[h[g]]={t:"UntF",v:{type:"#Prc",val:t[g]}};X={t:"Objc",v:X};var x=d.ClrC.v,Z=g5.VO(x,v);
if(Z==-1)x.push(X);else x[Z]=X};g5.TC=function(d,v){var t=[0,0,0,0],h=d.ClrC.v,X=g5.VO(h,v);if(X==-1)return t;
var g=["Cyn","Mgnt","Ylw","Blck"];for(var n=0;n<4;n++)if(h[X].v[g[n]])t[n]=h[X].v[g[n]].v.val;return t};
g5.R1=function(d,v,t){var h={apM:t.Mthd.v.CrcM=="Absl",q4:[[0,0,0,0]]};for(var n=0;n<9;n++)h.q4.push(g5.TC(t,n));
d.fK(v,84);B.PT(d.data,v,1);v+=2;B.PT(d.data,v,h.apM?1:0);v+=2;for(var n=0;n<10;n++){var X=h.q4[n];for(var g=0;
g<4;g++)B.EE(d.data,v+g*2,X[g]);v+=8}return 84};function g4(){}g4.yu=function(){return{l7:new iW(0,0,50,50),Me:"",ar:"play",D:f.t.I7.Iu([.1,.1,.9,.5,.1,.9],0)}};
g4.lS=function(d,v){d=new Uint8Array(d);var t=0,h=[],X=v.split("/").pop().split(".")[0],g=Date.now(),x=B.o3(d,0,4);
t+=4;var Z=B.BT(d,t);t+=4;var Y=B.BT(d,t);t+=4;for(var n=0;n<Y;n++){var a=B.QU(d,t);t+=a.length*2+4+2;
if((a.length&1)==0)t+=2;t=g4.a2b(d,t,a,h);h[n].ar=X+"/"+h[n].ar}return h};g4.a2b=function(d,v,t,h){var X=B.BT(d,v);
v+=4;var g=B.BT(d,v);v+=4;var x=v,Z=B.pN(d,x).wK;x+=Z.length+1;var Y=B.Lr(d,x);x+=16;var a=g4.Cg(d,x,g-(x-v)),z=f.t.Bi(a),p=f.Q.mo(z),U=1/p.r,l=1/p.$;
f.t.kh(a,new gi(U,0,0,l,-p.x*U,-p.y*l));h.push({ar:t,Me:Z,D:a,l7:Y});v+=g;return v};g4.vJ=function(d,v){d.ar=v};
g4.IT=function(d){var v=new fe,t=0;B.Er(v,t,"cush");t+=4;B.um(v,t,2);t+=4;B.um(v,t,d.length);t+=4;for(var n=0;
n<d.length;n++){var h=d[n],X=h.ar.split("/").pop()+"\0";B.PD(v,t,X);t+=4+X.length*2;if((X.length&1)==1)t+=2;
B.um(v,t,1);t+=4;t+=4;var g=t;B.gw(v,t,h.Me);t+=h.Me.length+1;B.k5(v,t,h.l7);t+=16;v.fK(t,h.D.length*26);
g4.Aa(v.data,t,h.D,1,1);t+=h.D.length*26;var x=t-g;if((x&3)!=0)x+=4-(x&3);B.um(v,g-4,x);t=g+x}return v.data.slice(0,t).buffer};
g4.aiO=function(d){var v=[];for(var n=0;n<d.length;n++){var t=d[n],h=t.e,X={type:h};v.push(X);if(h==6){}else if(h==8)X.all=t.all;
else if(h==0||h==3){X.length=t.length;X.boolop=t.qG;X.frule=t.Dk;X.prmA=t.xu;X.prmB=t.L8}else{X.c=[t.dH.x,t.dH.y,t.Z.x,t.Z.y,t.KU.x,t.KU.y]}}return v};
g4.ake=function(d){var v=[];for(var n=0;n<d.length;n++){var t=d[n],h=t.type,X={e:h};v.push(X);if(h==6){}else if(h==8)X.all=t.all;
else if(h==0||h==3){X.length=t.length;X.qG=t.boolop;X.Dk=t.frule;X.xu=t.prmA;X.L8=t.prmB}else{var g=t.c;
X.dH=new cK(g[0],g[1]);X.Z=new cK(g[2],g[3]);X.KU=new cK(g[4],g[5])}}return v};g4.Cg=function(d,v,t,h,X,g){if(h==null)h=1;
if(X==null)X=1;var x=g?B.a0L:B.aHC;function Z(i,$,H){var b=x(i,$)*H,r=Math.round(b);return Math.abs(b-r)<1e-4?r:b}var Y=g?B.cY:B.Mu,a=g?B.ij:B.BT,z=[],p=Math.floor(t/26);
for(var n=0;n<p;n++){var U=v+n*26,l={},L=0;z.push(l);l.e=Y(d,U);U+=2;if(l.e==6){L=24}if(l.e==8){l.all=Y(d,U);
U+=2;L=22}if(l.e==0||l.e==3){l.length=Y(d,U);U+=2;l.qG=Y(d,U);U+=2;l.Dk=Y(d,U);U+=2;l.xu=a(d,U);U+=4;
l.L8=a(d,U);U+=4;L=10}if(l.e==1||l.e==2||l.e==4||l.e==5){var j,O;O=Z(d,U,X);U+=4;j=Z(d,U,h);U+=4;l.dH=new cK(j,O);
O=Z(d,U,X);U+=4;j=Z(d,U,h);U+=4;l.Z=new cK(j,O);O=Z(d,U,X);U+=4;j=Z(d,U,h);U+=4;l.KU=new cK(j,O);L=0}for(var F=0;
F<L;F++)if(d[U+F]!=0){console.log("Unexpected non-zero byte!",l,F,d[U+F])}}return z};g4.Aa=function(d,v,t,h,X){var g=B.EE,x=B.a0g,Z=t.length;
for(var n=0;n<Z;n++){var Y=v+n*26,a=t[n];g(d,Y,a.e);Y+=2;if(a.e==6){}if(a.e==8)g(d,Y,a.all);if(a.e==0||a.e==3){g(d,Y,a.length);
Y+=2;g(d,Y,a.qG);Y+=2;g(d,Y,a.Dk);Y+=2}if(a.e==1||a.e==2||a.e==4||a.e==5){x(d,Y,a.dH.y/X);Y+=4;x(d,Y,a.dH.x/h);
Y+=4;x(d,Y,a.Z.y/X);Y+=4;x(d,Y,a.Z.x/h);Y+=4;x(d,Y,a.KU.y/X);Y+=4;x(d,Y,a.KU.x/h);Y+=4}}};function aC(){}aC.anq=function(d,v,t,h){var X=h.split(".")[0],g=!1;
if(v+3<d.length){var x={};kY.Bn(d,v,d.length,x);var Z=x.phry.hierarchy.v;if(Z.length!=0){var Y=[[]],a=0;
for(var n=0;n<Z.length;n++){var top=Y[Y.length-1],z=Z[n].v,p=z.classID;if(p=="Grup"){var U=[];Y.push(U);
top.push([z.Nm.v,null,U,!0])}else if(p=="preset"){top.push(t[a]);a++}else if(p=="groupEnd"){Y.pop()}}var l=aC.Af(Y[0],aC);
return[[X,null,Y[0],!0]]}else g=!0}else g=!0;if(g){for(var n=0;n<t.length;n++){var L=t[n][0].split("/");
if(L.length>1){X=L[L.length-2];t[n][0]=L.pop().split("=").pop()}}return[[X,null,t,!0]]}};aC.Af=function(d,v){var t=[],h=[];
aC.$H(d,t,h);var X=new Uint8Array(v.IT(t)),g=new fe;g.fK(0,X.length);g.data.set(X,0);var x={phry:{classID:"null",hierarchy:{t:"VlLs",v:h}}},Z=kY.Gl(g,X.length,x);
return g.data.slice(0,Z)};aC.$H=function(d,v,t){for(var n=0;n<d.length;n++){var h=d[n];if(h[1]==null){t.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:h[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
aC.$H(h[2],v,t);t.push({t:"Objc",v:{classID:"groupEnd"}})}else{t.push({t:"Objc",v:{classID:"preset"}});
v.push(h)}}};aC.lS=function(d,v){var t=new Uint8Array(d),h=[],X=0;if(B.o3(t,0,4)=="ASEF")X=aC.apN(t,h);
else{X=aC.aB3(t,X,h);if(X+3<t.length){h=[];X=aC.aB3(t,X,h)}}return aC.anq(t,X,h,v)};aC.apN=function(d,v){var t=8,h=B.BT(d,t),X,g=null,x,Z,Y,a;
t+=4;for(var z=0;z<h;z++){var p=B.ZT(d,t);t+=2;var U=B.BT(d,t);t+=4;var l=t+U;if(p==49153||p==1){var L=B.ZT(d,t);
t+=2;var j=B.Kl(d,t,L-1);t+=L*2;if(p==1)X=j;else g=j}if(p==1){var O=B.o3(d,t,4);t+=4;x=B._1(d,t);t+=4;
Z=B._1(d,t);t+=4;Y=B._1(d,t);t+=4;if(O=="RGB "){}else if(O=="CMYK"){a=B._1(d,t);t+=4;var F=UDOC.C.cmykToRgb([x,Z,Y,a]);
x=F[0];Z=F[1];Y=F[2]}else alert("Unknown color space: "+O);v.push([(g?g+" : ":"")+X,{C:x*255,L:Z*255,X:Y*255}])}t=l}return t};
aC.aB3=function(d,v,t){var h=B.ZT,X=B.Mu,g=h(d,v);v+=2;var x=h(d,v);v+=2;for(var n=0;n<x;n++){var Z=aC.bT(d,v),Y="clr"+n;
v+=10;if(g==2){Y=B.QU(d,v);v+=4+Y.length*2+2}t.push([Y,Z])}return v};aC.bT=function(d,v,t){var h=t?B.kQ:B.ZT,X=t?B.cY:B.Mu,g=h(d,v),L=null;
v+=2;var x=h(d,v);v+=2;var Z=h(d,v);v+=2;var Y=h(d,v);v+=2;var a=h(d,v);v+=2;var z=1/65535,p=255/65535,U=100/65535,l=255/1e4;
if(g==0)L={C:x*p,L:Z*p,X:Y*p};else if(g==1){L=f.JY(x*z,Z*z,Y*z);L.C*=255;L.L*=255;L.X*=255}else if(g==2)L=f.iF.pq({classID:"CMYC",Cyn:{t:"doub",v:100-x*U},Mgnt:{t:"doub",v:100-Z*U},Ylw:{t:"doub",v:100-Y*U},Blck:{t:"doub",v:100-a*U}});
else if(g==7){var j=f.C3(x/100,X(d,v-6)/100,X(d,v-4)/100);L=j}else if(g==8){L={C:255-x*l,L:255-Z*l,X:255-Y*l}}else if(g==18){var O=255*x/16384;
L={C:O,L:O,X:O}}else if(g==65535)L={C:255,L:255,X:255};else{throw g}return L};aC.IT=function(d){var v=new fe,t=0,h=B.mk;
for(var X=1;X<3;X++){h(v,t,X);t+=2;h(v,t,d.length);t+=2;for(var n=0;n<d.length;n++){var g=d[n];v.fK(t,10);
aC.cZ(v.data,t,g[1]);t+=10;if(X==2){var x=g[0]+"\0";B.PD(v,t,x);t+=4+x.length*2}}}return v.data.slice(0,t).buffer};
aC.cZ=function(d,v,t){var h=65535/255,X=B.PT;X(d,v,0);X(d,v+2,Math.round(t.C*h));X(d,v+4,Math.round(t.L*h));
X(d,v+6,Math.round(t.X*h));X(d,v+8,0)};aC.tp=function(d,v,t){var h=d[1],X=255<<24|h.X<<16|h.L<<8|h.C,g=new Uint32Array(v*t);
g.fill(X);var x=new Uint8Array(g.buffer),Z=h.aX==null?1:h.aX/255;if(Z!=1)for(var Y=0;Y<t;Y++)for(var a=0;
a<v;a++){var z=(Y*v+a)*4,p=255-50*((a>>>3^Y>>>3)&1);x[z]=Z*h.C+(1-Z)*p;x[z+1]=Z*h.L+(1-Z)*p;x[z+2]=Z*h.X+(1-Z)*p}var U=UPNG.encode([g.buffer],v,t);
return"data:image/png;base64,"+b3.cq(U)};function fI(){}fI.lS=function(d){var v=new Uint8Array(d),t=B.ZT(v,256*3);
console.log(v);var h=[];for(var n=0;n<t;n++)h.push(["",{C:v[n*3],L:v[n*3+1],X:v[n*3+2],aX:255}]);return[h]};
fI.IT=function(d){d=d[0];var v=new Uint8Array(256*3+4);B.PT(v,256*3,d.length);B.PT(v,256*3+2,65535);
for(var n=0;n<d.length;n++){var t=d[n][1];v[3*n]=t.C;v[3*n+1]=t.L;v[3*n+2]=t.X}return v.buffer};function bN(){}bN.lS=function(d){var v=new Uint8Array(d),t=4,h={};
h.qq=B.QU(v,t);t+=4+h.qq.length*2+2;h.exp=v[t++]==1;h.Yx=[];var X=B.BT(v,t);t+=4;for(var n=0;n<X;n++){var g={};
h.Yx.push(g);g.ja=B.ZT(v,t);t+=2;g.shift=v[t++]==1;g.a3_=v[t++]==1;g.color=B.ZT(v,t);t+=2;g.qq=B.QU(v,t);
t+=4+g.qq.length*2+2;g.exp=v[t++]==1;g.Yx=[];var x=B.BT(v,t);t+=4;for(var Z=0;Z<x;Z++){var Y={};g.Yx.push(Y);
Y.exp=v[t++]==1;Y.f=v[t++]==1;Y.an$=v[t++]==1;Y.apo=v[t++];var a=B.o3(v,t,4);t+=4;if(a=="TEXT"){Y.oN=bN.a92(v,t);
t+=4+Y.oN.length}else if(a=="long"){Y.oN=B.o3(v,t,4);t+=4}else throw"e";Y.Ry=bN.a92(v,t);t+=4+Y.Ry.length;
var z=B.vW(v,t);t+=4;if(z==-1){Y.mQ={};var p=bi.Bj(v,Y.mQ,t);t+=p}}}console.log(h);var U=new Uint8Array(bN.IT([h]));
for(var n=0;n<U.length;n++)if(U[n]!=v[n]&&B.o3(v,n+1,4)!="None"){console.log(v.length,U.length);var l=4*(n>>>2)-16;
console.log(B.e5(v,l,64));console.log(B.e5(U,l,64));console.log(v.slice(l,l+64));console.log(U.slice(l,l+64));
throw"i"}return[h]};bN.a92=function(d,v){var t=B.BT(d,v);return B.o3(d,v+4,t)};bN.a4k=function(d,v,t){B.um(d,v,t.length);
B.Er(d,v+4,t)};bN.IT=function(d){var v=d[0],t=new fe,h=0;B.um(t,h,16);h+=4;B.PD(t,h,v.qq+"\0");h+=4+v.qq.length*2+2;
t.fK(h,1);t.data[h++]=v.exp?1:0;var X=v.Yx.length;B.um(t,h,X);h+=4;for(var n=0;n<X;n++){var g=v.Yx[n];
B.mk(t,h,g.ja);h+=2;t.fK(h,2);t.data[h++]=g.shift?1:0;t.data[h++]=g.a3_?1:0;B.mk(t,h,g.color);h+=2;B.PD(t,h,g.qq+"\0");
h+=4+g.qq.length*2+2;t.fK(h,1);t.data[h++]=g.exp?1:0;var x=g.Yx.length;B.um(t,h,x);h+=4;for(var Z=0;
Z<x;Z++){var Y=g.Yx[Z];t.fK(h,4);t.data[h++]=Y.exp?1:0;t.data[h++]=Y.f?1:0;t.data[h++]=Y.an$?1:0;t.data[h++]=Y.apo;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(Y.oN)!=-1;B.Er(t,h,a?"long":"TEXT");
h+=4;if(!a){bN.a4k(t,h,Y.oN);h+=4+Y.oN.length}else{B.Er(t,h,Y.oN);h+=4}bN.a4k(t,h,Y.Ry);h+=4+Y.Ry.length;
B.Pb(t,h,Y.mQ?-1:0);h+=4;if(Y.mQ){var z=bi.ct(t,Y.mQ,h);h+=z}}}return t.data.slice(0,h).buffer};function l5(){}l5.lS=function(d){var v=new Uint8Array(d),t=0,h=B.BT(v,t),Y;
t+=4;var X=B.o3(v,t,8);t+=8;var g=B.ij(v,t);t+=4;var x=B.ij(v,t);t+=4;var Z=B.ij(v,t);t+=4;console.log(g,x,Z);
if(h==2){Y=new Float32Array(d,32,d.byteLength-32>>>2)}else if(h==3||h==4){Y=new Float32Array(x*Z*2);
var a=0,z=0,p=!0;t=h==3?32:16+8+40;while(t<v.length){var U=B.ij(v,t);t+=4;if(p)z+=U;else{for(var n=0;
n<U;n++){Y[a+z+n<<1]=B.fc(v,t);Y[(a+z+n<<1)+1]=B.fc(v,t+4);t+=8}z+=U}p=!p;if(U!=0&&z==x){a+=x;z=0;p=!0;
if(a==x*Z)break}}}else throw"unknown Mesh version: "+h;return{F0:x,uV:Z,map:Y}};l5.Al=function(d){var v=d.F0,t=d.uV,h=d.map,X=new Uint8Array(32+t*v*8+t*8),g=0,x=0;
B.NI(X,g,3);g+=4;B.js(X,g,"yfqLhseM");g+=8;B.Bk(X,g,2);g+=4;B.Bk(X,g,v);g+=4;B.Bk(X,g,t);g+=4;B.Bk(X,g,0);
g+=4;B.Bk(X,g,1);g+=4;for(var Z=0;Z<t;Z++){B.Bk(X,g,0);g+=4;B.Bk(X,g,v);g+=4;for(var Y=0;Y<v;Y++){B.CY(X,g,h[x]);
B.CY(X,g+4,h[x+1]);x+=2;g+=8}}return X.buffer};function k$(){}k$.lS=function(d){var v=new Uint8Array(d),t=0,h=B.o3(v,t,4);
t+=4;var X=B.ZT(v,t);t+=2;var g=B.BT(v,t);t+=4;var x=[];for(var n=0;n<g;n++){var Z=B.BT(v,t);t+=4;var Y={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
x.push(Y);var a=B.QU(v,t);Y.Nm.v=a;t+=4+a.length*2+2;var z=B.ZT(v,t);t+=2;var p=B.ZT(v,t);t+=2;for(var U=0;
U<p;U++){var l=f.kB.lY(0,0,!0);l.v.Vrtc.v=B.ZT(v,t);t+=2;l.v.Hrzn.v=B.ZT(v,t);t+=2;Y.Crv.v.push(l)}if(Z==1){}else if(Z==2){for(var U=0;
U<p;U++){Y.Crv.v[U].v.Cnty.v=v[t]==1;t+=1}}else throw"error";var L=B.BT(v,t);t+=4;var j=B.BT(v,t);t+=4}return x};
k$.vJ=function(d,v){d.Nm.v=v};k$.IT=function(d){var v=new fe,t=0;B.Er(v,t,"8BFS");t+=4;B.mk(v,t,1);t+=2;
B.um(v,t,d.length);t+=4;for(var n=0;n<d.length;n++){B.um(v,t,2);t+=4;var h=d[n];B.PD(v,t,h.Nm.v+"\0");
t+=4+h.Nm.v.length*2+2;B.mk(v,t,2);t+=2;var X=h.Crv.v.length;B.mk(v,t,X);t+=2;for(var g=0;g<X;g++){var x=h.Crv.v[g];
B.mk(v,t,x.v.Vrtc.v);t+=2;B.mk(v,t,x.v.Hrzn.v);t+=2}v.fK(t,X);for(var g=0;g<X;g++){v.data[t]=h.Crv.v[g].v.Cnty.v;
t++}B.um(v,t,0);t+=4;B.um(v,t,0);t+=4}return v.data.slice(0,t).buffer};function fJ(){}fJ.lS=function(d,v){var t=new Uint8Array(d),h=4,X=v.split("/").pop().split(".")[0],g=B.ZT(t,h);
h+=2;var x=B.BT(t,h);h+=4;var Z=[];for(var n=0;n<x;n++){var Y={};Z.push(Y);h=fJ.aGC(t,h,Y);Y.name=X+"/"+Y.name.split("=").pop()}return Z};
fJ.vJ=function(d,v){d.name=v};fJ.IT=function(d){var v=new fe,t=0;B.Er(v,t,"8BPT");t+=4;B.mk(v,t,1);t+=2;
B.um(v,t,d.length);t+=4;for(var n=0;n<d.length;n++){var h=d[n],X=h.name;h.name=h.name.split("/").pop();
t=fJ.a9S(v,t,h);h.name=X}return v.data.slice(0,t).buffer};fJ.p4=function(d,v,t,h){var X=h?B.ij:B.BT,g=v+t,x=[];
while(v<g){var Z={},Y=X(d,v);v+=4;var a=v;v=fJ.aGC(d,v,Z,h);if(!Z.kv[1].HP())x.push(Z);if(Y%4!=0)Y+=4-Y%4;
v=a+Y}return x};fJ.hh=function(d,v,t){for(var n=0;n<t.length;n++){var h=t[n];v+=4;var X=v;v=fJ.a9S(d,v,h);
var g=v-X;B.um(d,X-4,g);if(g%4!=0)X+=4-g%4;v=X+g}return v};fJ.aGC=function(d,v,t,h){var X=h?B.ij:B.BT,g=h?B.kQ:B.ZT,x=h?B.xw:B.QU,Z=X(d,v);
v+=4;if(Z!=1)alert("Unknown version of pattern");var Y=X(d,v);v+=4;if(Y!=1&&Y!=2&&Y!=3)console.log("Unsupported mode of pattern: "+Y);
var a=g(d,v);v+=2;var z=g(d,v);v+=2;var p=new iW(0,0,z,a);t.name=x(d,v);v+=4+2*t.name.length+2;var U=d[v];
v++;t.id=B.o3(d,v,U);v+=t.id.length;var l=-1;if(Y==2){l=v;v+=3*256+4}var L=new f.lh(z*a);v=fJ.aKf(d,v,L,h);
if(p.k()>1e8){t.kv=[f.m(4),new iW(0,0,1,1)];return v}if(Y==2){for(var n=0;n<L.C.length;n++){var j=3*L.C[n];
L.C[n]=d[l+j+0];L.L[n]=d[l+j+1];L.X[n]=d[l+j+2]}}var O=f.m(p.k()*4);f.E4(L,O);t.kv=[O,p];return v};fJ.a9S=function(d,v,t){var h=t.kv[0],X=t.kv[1];
B.um(d,v,1);v+=4;B.um(d,v,3);v+=4;B.mk(d,v,X.$);v+=2;B.mk(d,v,X.r);v+=2;B.PD(d,v,t.name+"\0");v+=4+2*t.name.length+2;
B.wu(d,v,t.id.length);v++;B.Er(d,v,t.id);v+=t.id.length;var g=new f.lh(X.k());f.xI(h,g);v=fJ.aqV(d,v,g,X);
return v};fJ.aKf=function(d,v,t,h){var X=h?B.ij:B.BT,g=h?B.kQ:B.ZT,x=v,Z={BS:null,b$:[],aFg:null,mi:null},Y=X(d,v);
v+=4;var a=X(d,v);v+=4;Z.BS=B.Lr(d,v,h);v+=16;var z=X(d,v);v+=4;for(var n=0;n<z+2;n++){var p=X(d,v);
v+=4;if(p==0)continue;var U=X(d,v);v+=4;if(U==0)continue;var l=X(d,v);v+=4;var L=B.Lr(d,v,h);v+=16;var j=g(d,v);
v+=2;var O=d[v];v++;var F=dM.Os(!1,l,d,L.r,L.$,v,O,U,h);F=f.OO(F,8);if(n<z)Z.b$.push(F);if(n==z)Z.aFg=F;
if(n==z+1)Z.mi=F;v+=U-23}if(!Z.BS.HP()){if(Z.b$[0])t.C=Z.b$[0];if(Z.b$[1])t.L=Z.b$[1];else t.L=Z.b$[0].slice(0);
if(Z.b$[2])t.X=Z.b$[2];else t.X=Z.b$[0].slice(0);if(Z.mi)t.aX=Z.mi;else t.aX.fill(255)}return v};fJ.aqV=function(d,v,t,h){var X=v,g={BS:h,b$:[t.C,t.L,t.X],aFg:null,mi:t.aX};
B.um(d,v,3);v+=4;B.um(d,v,0);v+=4;B.k5(d,v,h);v+=16;B.um(d,v,24);v+=4;for(var n=0;n<24+2;n++){var x=v,Z=n<3||n==25?1:0;
B.um(d,v,Z);v+=4;if(Z==0)continue;B.um(d,v,0);v+=4;B.um(d,v,8);v+=4;B.k5(d,v,h);v+=16;B.mk(d,v,8);v+=2;
B.wu(d,v,1,1);v++;var Y=n<3?g.b$[n]:g.mi;d.fK(v,h.k()+2);v=dM.u1(!1,Y,d.data,h.r,h.$,v,1);B.um(d,x+4,v-x-8)}B.um(d,X+4,v-X-8);
return v};function iU(){}iU.lS=function(d,v){var t=new Uint8Array(d),X=0;if(t[0]==71)return iU.a0a(t);
var h=v.split("/").pop().split(".")[0],g=B.o3(t,X,4);X+=4;var x=B.ZT(t,X);X+=2;var Z=[];if(x<=3){var Y=B.ZT(t,X);
X+=2;for(var n=0;n<Y;n++){var a=t[X++],z=B.o3(t,X,a);X+=a;var p=iU.aim(t,X,z),U=p[0];X=p[1];Z.push(U)}}else{var p={},l=bi.Bj(t,p,X+4),L=p.GrdL.v;
for(var n=0;n<L.length;n++)Z[n]=L[n].v.Grad.v;X+=4+l}for(var n=0;n<Z.length;n++)Z[n]=[Z[n].Nm.v,Z[n]];
return aC.anq(t,X,Z,v)};iU.vJ=function(d,v){d.Nm.v=v};iU.IT=function(d){var v=new fe,t=0;B.Er(v,t,"8BGR");
t+=4;B.mk(v,t,5);t+=2;B.um(v,t,16);t+=4;var h={classID:"null",GrdL:{t:"VlLs",v:[]}},X=h.GrdL.v;for(var n=0;
n<d.length;n++){var g=f.v(d[n]);g[1].Nm.v=g[0];X[n]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:g[1]}}}}t+=bi.ct(v,h,t);
return v.data.slice(0,t).buffer};iU.aim=function(d,v,t,h){var X={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:t},Trns:{t:"VlLs",v:[]}},g=h?B.kQ:B.ZT,x=h?B.ij:B.BT,Z=g(d,v);
v+=2;if(Z==0)throw"e";for(var n=0;n<Z;n++){var Y=x(d,v),a=x(d,v+4),z=aC.bT(d,v+8,h),p={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:z.C},Grn:{t:"doub",v:z.L},Bl:{t:"doub",v:z.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:a}}};
X.Clrs.v.push(p);v+=20}var U=g(d,v);v+=2;for(var n=0;n<U;n++){var Y=x(d,v),a=x(d,v+4),l=g(d,v+8),p={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*l/255)}},Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:a}}};
X.Trns.v.push(p);v+=10}var L=g(d,v);v+=2;X.Intr.v=L==2?g(d,v):4096;v+=2;var j=g(d,v);v+=2;return[X,v]};
iU.atU=function(d,v,t){var h=t.Clrs.v.length;B.mk(d,v,h);v+=2;for(var n=0;n<h;n++){var X=t.Clrs.v[n];
B.um(d,v,X.v.Lctn.v);B.um(d,v+4,X.v.Mdpn.v);B.mk(d,v+8,0);var g=f.iF.Zi(f.iF.pq(X.v.Clr.v)),x=[g.Rd.v,g.Grn.v,g.Bl.v,0];
for(var Z=0;Z<4;Z++)B.mk(d,v+10+Z*2,Math.round(65535*(x[Z]/255)));v+=20}var Y=t.Trns.v.length;B.mk(d,v,Y);
v+=2;for(var n=0;n<Y;n++){var X=t.Trns.v[n];B.um(d,v,X.v.Lctn.v);B.um(d,v+4,X.v.Mdpn.v);B.mk(d,v+8,Math.round(255*X.v.Opct.v.val/100));
v+=10}B.mk(d,v,2);v+=2;B.mk(d,v,t.Intr.v);v+=2;B.mk(d,v,32);v+=2;return v};iU.a0a=function(d){var v=B.I$(d,0,d.length).split("\n"),t=parseFloat(v[2]),h=[],X=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]).Grad.v;
X.Intr.v=0;X.Nm.v=v[1];for(var n=0;n<t;n++){var g=v[3+n].split(" ").map(parseFloat),x=g[11],Z=g[12];
h.push([g[0],g.slice(3,6),g[6]]);if(Z!=0){var Y=f.qZ(g[3],g[4],g[5]),a=f.qZ(g[7],g[8],g[9]),z=Y.uV,p=a.uV;
if(Z==1&&z>p)p++;if(Z==2&&z<p)z++;var U=Math.round(Math.abs(p-z)*7);if(U>1)for(var l=0;l<U;l++){var L=1-(l+1)/(U+1),j=1-L,O=f.JY(L*z+j*p,L*Y.Wx+j*a.Wx,L*Y.k1+j*a.k1);
h.push([L*g[0]+j*g[2],[O.C,O.L,O.X],L*g[6]+j*g[10]])}}h.push([g[2],g.slice(7,10),g[10]])}h.sort(function(F,i){return F[0]-i[0]});
f.iF.PY(h,X);return[X]};iU.tp=function(d,v,t){var h=A.qy.tp(d[1],v,t,Math.PI/4,16777215,0);return h};
function l6(){}l6.lS=function(d){var v=new Uint8Array(d),t=[],h=[],X=[],g=[],x=[],Z=0,Y=B.o3(v,Z,4);
Z+=4;var a=B.BT(v,Z);Z+=4;var z=B.BT(v,Z);Z+=4;while(Z<v.length){var p=B.o3(v,Z,4);Z+=4;var U=B.o3(v,Z,4);
Z+=4;var l=B.BT(v,Z);Z+=4;if(U=="tppa"){h=fJ.p4(v,Z,l);Z+=l}else if(U=="tpbd"){X=a5.aGU(v,Z,l,1,1);Z+=l}else if(U=="tptp"){var L=B.BT(v,Z);
Z+=4;for(var n=0;n<L;n++){var j=B.QU(v,Z);Z+=6+j.length*2;Z+=4;var O={};Z+=bi.Bj(v,O,Z);t.push([j,O])}while((Z&3)!=0)Z++}else if(U=="tpsh"){var F=Z,i=v.slice(Z,Z+l);
while(Z<F+l){var $=B.BT(v,Z);Z+=4;Z=g4.a2b(v,Z,"Shape",g)}Z=F+l}else if(U=="tpst"){var F=Z;Z+=4;while(Z<F+l){var H=B.BT(v,Z);
Z+=4;var b=Z,r=B.BT(v,Z);Z+=4;var O={Me:{},m9:{}};x.push(O);Z+=4;Z+=bi.Bj(v,O.Me,Z);Z+=4;Z+=bi.Bj(v,O.m9,Z);
Z=b+H;var W=O.m9.Lefx;if(W){if(W.v.masterFXSwitch==null)W.v.masterFXSwitch={t:"bool",v:!0};kY.ru(W.v)}}Z=F+l}else{console.log(v.slice(Z-8,Z+64));
console.log(B.o3(v,Z-8,64));throw U}}return{Qt:X,ku:h,list:t,aba:g,st:x}};l6.vJ=function(d,v){d[0]=v};
l6.IT=function(d){var v=new fe,t=0;B.Er(v,t,"8BTP");t+=4;B.um(v,t,3);t+=4;B.um(v,t,1);t+=4;var h=[d.ku,d.Qt,d.list];
for(var n=0;n<3;n++){if(h[n].length==0)continue;B.Er(v,t,"8BIM");t+=4;var X=["tppa","tpbd","tptp"][n];
B.Er(v,t,X);t+=4;var g=t;t+=4;if(X=="tppa"){t=fJ.hh(v,t,d.ku)}else if(X=="tpbd"){t=a5.awg(v,t,d.Qt)}else if(X=="tptp"){B.um(v,t,d.list.length);
t+=4;for(var x=0;x<d.list.length;x++){var Z=d.list[x];B.PD(v,t,Z[0]+"\0");t+=6+Z[0].length*2;B.um(v,t,16);
t+=4;t+=bi.ct(v,Z[1],t)}}B.um(v,g,t-g-4);while((t&3)!=0)t++;v.fK(t,0)}return v.data.slice(0,t).buffer};
function ce(){}ce.lS=function(d,v){var t=new Uint8Array(d),h;if(B.BT(t,0)==t.length)h="icc";else if(t[0]=="<".charCodeAt(0))h="look";
else if(B.M5(t,"LUT_3D_SIZE")!=-1)h="cube";else h="3DL";if(h!="icc"){var X=ce.a4j(t,h),g=ce.amv(X[0],X[1]);
t=g}var x=[];for(var n=0;n<t.length;n++)x.push(t[n]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:v?v:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:x}}]};
ce.IT=function(d){var v=d[0],t=new Uint8Array(v.profile.v);return t.buffer};ce.vJ=function(d,v){d.Nm.v=v};
ce.amv=function(d,v){var t=new fe,h=128;t.fK(0,128);var X=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var n=0;n<X.length;n++)t.data[n]=X[n];var g=["desc","A2B0"],x=g.length,Z=128+4+x*12;B.um(t,h,x);
h+=4;for(var Y=0;Y<x;Y++){var a=g[Y];B.Er(t,h,a);h+=4;B.um(t,h,Z);h+=4;var z=Z;if(a=="desc"){B.Er(t,z,"mluc");
z+=4;z+=4;B.um(t,z,1);z+=4;B.um(t,z,12);z+=4;B.Er(t,z,"enUS");z+=4;var p="ICC by Photopea\0",U=p.length*2+2;
B.um(t,z,U);z+=4;B.um(t,z,28);z+=4;t.fK(z,U);for(var n=0;n<p.length;n++)t.data[z+n*2+1]=p.charCodeAt(n);
z+=U}if(a=="A2B0"){B.Er(t,z,"mAB ");z+=4;z+=4;t.fK(z,4);t.data[z]=3;t.data[z+1]=3;z+=4;t.fK(z,4*5);z+=4*3;
B.um(t,z,z+8-Z);z+=4;z+=4;t.fK(z,20);t.data[z]=d;t.data[z+1]=d;t.data[z+2]=d;z+=16;t.data[z]=2;z+=4;
var l=d*d*d*3;t.fK(z,l*2);for(var n=0;n<l;n++)B.PT(t.data,z+n*2,Math.max(0,Math.min(65535,Math.round(v[n]*65535))));
z+=l*2}var L=z-Z;while((L&3)!=0)L++;B.um(t,h,L);h+=4;Z+=L}B.um(t,0,Z);return t.data.slice(0,Z)};ce.a4j=function(d,v){v="LUTFormat"+v.toUpperCase();
var t=[],h=0,X=B.I$(d,0,d.length),g="";for(var n=0;n<d.length&&g=="";n++){if(d[n]==10)g="\n";else if(d[n]==13){g="\r";
if(d[n+1]==10)g+="\n"}}if(v=="LUTFormatCUBE"){var x=X.split(g);for(var n=0;n<x.length;n++){if(x[n]==""||x[n][0]=="#")continue;
var Z=x[n].split(" "),Y=Z[0];if(Y=="LUT_3D_SIZE"){h=parseInt(Z[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(Y)!=-1)continue;
t.push(parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2]))}t=ce.aNx(h,t)}else if(v=="LUTFormat3DL"){var x=X.split(g),a=1/4095;
for(var n=0;n<x.length;n++){var z=x[n];if(z==""||z=="3DMESH"||z.startsWith("Mesh")||z[0]=="#")continue;
var Z=z.split(" "),Y=Z[0];if(h==0){h=Z.length;continue}t.push(parseFloat(Z[0])*a,parseFloat(Z[1])*a,parseFloat(Z[2])*a)}}else if(v=="LUTFormatLOOK"){var p=new DOMParser,U=p.parseFromString(X,"text/xml"),l=U.getElementsByTagName("LUT")[0],L=l.children[0].textContent;
h=parseInt(JSON.parse(L));var j=l.children[1].textContent;j=j.replace(/"/g,"").replace(/\s/g,"");var O=3*h*h*h,F=O*4,i=new Uint8Array(F);for(var n=0;n<F;n++){var $=j.charCodeAt(n*2),H=j.charCodeAt(n*2+1),b=$<58?$-48:$-55,r=H<58?H-48:H-55;i[n]=(b<<4)+r}for(var n=0;n<O;n++)t.push(B.fc(i,n<<2));t=ce.aNx(h,t)}else throw v;return[h,t]};ce.a3V=function(d,v,t){var h=["#Created by www.Photopea.com","TITLE \""+t+"\"","","#LUT size","LUT_3D_SIZE "+v,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],X=6;
for(var n=0;n<d.length;n+=3){h.push(d[n].toFixed(X)+" "+d[n+1].toFixed(X)+" "+d[n+2].toFixed(X))}h.push("");
return B.j9(h.join("\n")).buffer};ce.aNx=function(d,v){var t=[],h=d*d*d;for(var n=0;n<h;n++)t.push(0,0,0);
for(var X=0;X<d;X++)for(var g=0;g<d;g++)for(var x=0;x<d;x++){var n=3*(x+g*d+X*d*d),Z=3*(X+g*d+x*d*d);
t[Z]=v[n];t[Z+1]=v[n+1];t[Z+2]=v[n+2]}return t};function bi(){}bi.Bj=function(d,v,t,h,X,g){var x=t,z;
if(X==null)X=0;var Z=g?B.ij:B.BT,Y=g?B.ce:B.vW,a=g?B.xw:B.QU,p=Z(d,t);if(p==0){z="";t+=4}else{z=a(d,t);
t+=4+2*z.length+2}if(z!="")v.__name=z;v.classID=bi.OF(d,t,g);if(h)console.log("\t".repeat(X),"- reading descriptor",v.classID,t);
t+=bi.ig(d,t,g);var U=Y(d,t);t+=4;for(var n=0;n<U;n++){var l=bi.OF(d,t,g);t+=bi.ig(d,t,g);var L=bi.akz(d,t,h,X,g);
v[l]=L;t+=L.size;delete L.size}return t-x};bi.ct=function(d,v,t,h){var X=t,g=v.__name;if(g==null)g="";
g+="\0";B.PD(d,t,g);t+=4+2*g.length;bi.$F(d,t,v.classID);t+=bi.ig(d.data,t);B.Pb(d,t,Object.keys(v).length-1-(v.__name==null?0:1));
t+=4;for(var x in v){if(x=="classID")continue;if(x=="__name")continue;bi.$F(d,t,x);t+=bi.ig(d.data,t);
t+=bi.akt(d,t,v[x])}return t-X};bi.akz=function(d,v,t,h,X){var g=v,x=B.y5(d,v,X);v+=4;var Z=X?B.FD:B.D_,Y=X?B.ij:B.BT,a=X?B.ce:B.vW,z=X?B.xw:B.QU,p={size:0,t:x,v:null};
if(t)console.log("\t".repeat(h),"reading key",x,g);switch(x){case"obj ":case"VlLs":p.v=[];var U=Y(d,v);
v+=4;for(var n=0;n<U;n++){var l=bi.akz(d,v,t,h+1,X);v+=l.size;delete l.size;p.v.push(l)}break;case"UntF":p.v={type:B.y5(d,v,X),val:Z(d,v+4)};
v+=12;break;case"doub":{p.v=Z(d,v);v+=8;break}case"bool":p.v=d[v]==1;v+=1;break;case"long":p.v=a(d,v);
v+=4;break;case"comp":p.v=a(d,v+4);v+=8;break;case"Objc":p.v={};var L=bi.Bj(d,p.v,v,t,h+1,X);v+=L;break;
case"TEXT":var j=Y(d,v);if(j==0){p.v="";v+=4}else{p.v=z(d,v);v+=4+p.v.length*2+2}break;case"enum":var O=bi.OF(d,v,X);
v+=bi.ig(d,v,X);var F=bi.OF(d,v,X);v+=bi.ig(d,v,X);p.v={};p.v[O]=F;break;case"tdta":var i=a(d,v);v+=4;
p.v=Array.from(d.slice(v,v+i));v+=i;break;case"ObAr":var $=Y(d,v);v+=4;var H=z(d,v);v+=4+2*H.length+2;
if(H!="")throw H;var b=bi.OF(d,v,X);v+=4+Math.max(4,b.length);p.v={classID:b,arr:[]};var r=Y(d,v);v+=4;
for(var n=0;n<r;n++){var b=bi.OF(d,v,X);v+=4+Math.max(4,b.length);var O=B.y5(d,v,X);v+=4;var W=B.y5(d,v,X);
v+=4;var V={id:b,type:O,uID:W,arr:[]};p.v.arr.push(V);var y=Y(d,v,4);v+=4;for(var c=0;c<y;c++){var S=Z(d,v);
v+=8;V.arr.push(S)}}break;case"Pth ":if(X)throw"e";var C=v,i=B.BT(d,v);v+=4;var K=B.o3(d,v,4);v+=4;var T=B.ij(d,v);
v+=4;var D=B.ab$(d,v);v+=4+D.length*2;p.v={sig:K,pth:D};break;case"Clss":case"type":case"rele":var D=z(d,v);
v+=4+D.length*2+2;var N=bi.OF(d,v,X);v+=4+Math.max(4,N.length);p.v={classID:N};if(D!="")p.v.__name=D;
if(x=="rele"){p.v.val=a(d,v);v+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var G=bi.pO[x],D=z(d,v);
v+=4+D.length*2+2;if(D.length!=0){console.log("String found",x,D)}p.v={};for(var n=0;n<G.length;n++){var N=bi.OF(d,v,X);
v+=4+Math.max(4,N.length);p.v[G[n]]=N}if(x=="name"){var D=z(d,v);v+=4+D.length*2+2;p.v.val=D}if(x=="indx"||x=="Idnt"){p.v.val=Y(d,v);
v+=4}break;case"alis":var i=Y(d,v);v+=4;p.v=B.o3(d,v,i);v+=i;break;default:{console.log("unknown oskey: "+x+", "+g);
throw"e";return p}}if(t){console.log("\t".repeat(h),p.v);console.log("\t".repeat(h),"======",v)}p.size=v-g;
return p};bi.pO={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
bi.akt=function(d,v,t){var h=v,X=t.t;t=t.v;B.Er(d,v,X);v+=4;switch(X){case"obj ":case"VlLs":B.Pb(d,v,t.length);
v+=4;for(var g=0;g<t.length;g++){var x=bi.akt(d,v,t[g]);v+=x}break;case"UntF":B.Er(d,v,t.type);B.B_(d,v+4,t.val);
v+=12;break;case"doub":B.B_(d,v,t);v+=8;break;case"bool":B.wu(d,v,t?1:0,1);v+=1;break;case"long":B.Pb(d,v,t);
v+=4;break;case"comp":B.Pb(d,v+4,t);v+=8;break;case"Objc":var x=bi.ct(d,t,v);v+=x;break;case"TEXT":B.PD(d,v,t+"\0");
v+=4+t.length*2+2;break;case"enum":var Z=Object.keys(t)[0],Y=t[Z];bi.$F(d,v,Z);v+=bi.ig(d.data,v);bi.$F(d,v,Y);
v+=bi.ig(d.data,v);break;case"tdta":B.um(d,v,t.length);v+=4;B.RP(d,v,t);v+=t.length;break;case"ObAr":B.um(d,v,t.arr[0].arr.length);
v+=4;B.PD(d,v,"\0");v+=6;bi.$F(d,v,t.classID);v+=4+Math.max(4,t.classID.length);B.um(d,v,t.arr.length);
v+=4;for(var n=0;n<t.arr.length;n++){var a=t.arr[n];bi.$F(d,v,a.id);v+=4+Math.max(4,a.id.length);B.Er(d,v,a.type);
v+=4;B.Er(d,v,a.uID);v+=4;B.um(d,v,a.arr.length);v+=4;for(var g=0;g<a.arr.length;g++){B.B_(d,v,a.arr[g]);
v+=8}}break;case"Pth ":var z=t.pth.length*2+4+8;B.um(d,v,z);v+=4;B.Er(d,v,t.sig);v+=4;B._Q(d,v,z);v+=4;
B.a5W(d,v,t.pth);v+=t.pth.length*2+4;break;case"Clss":case"type":case"rele":var p=t.__name;if(p==null)p="";
B.PD(d,v,p+"\0");v+=4+p.length*2+2;var U=t.classID;bi.$F(d,v,U);v+=4+Math.max(4,U.length);if(X=="rele"){B.Pb(d,v,t.val);
v+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var l=bi.pO[X],L="";if(X=="name"&&t.classID=="Grdn")L="Gradient";
B.PD(d,v,L+"\0");v+=4+L.length*2+2;for(var n=0;n<l.length;n++){var U=t[l[n]];bi.$F(d,v,U);v+=4+Math.max(4,U.length)}if(X=="name"){B.PD(d,v,t.val+"\0");
v+=4+t.val.length*2+2}if(X=="indx"||X=="Idnt"){B.um(d,v,t.val);v+=4}break;case"alis":var z=t.length;
B.um(d,v,z);v+=4;B.Er(d,v,t);v+=z;break;default:console.log("unknown oskey: "+X);v=h;break}return v-h};
bi.OF=function(d,v,t){var h=t?B.ce:B.vW,X=h(d,v);if(X>1e3)throw"e";if(X==0)return B.y5(d,v+4,t).trim();
return B.o3(d,v+4,X).trim()};bi.ig=function(d,v,t){var h=t?B.ce:B.vW,X=h(d,v);return X==0?8:4+X};bi.$F=function(d,v,t){var h="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold clio trim then else".split(" "),X=4<t.length||h.indexOf(t)!=-1;
B.Pb(d,v,X?t.length:0);B.Er(d,v+4,t);if(t.length<4&&!X){var g="";for(var n=t.length;n<4;n++)g+=" ";B.Er(d,v+4+t.length,g)}};
bi.ajP=function(d){var v={};for(var t in d){if(t=="classID")v[t]=d[t];else if(t=="__name")v[t]=d[t];
else v[t]=bi.aq1(d[t])}return v};bi.aq1=function(d){if(d.o=="Objc")return bi.ajP(d.v);else if(d.o=="VlLs"){var v=[];
for(var n=0;n<d.v.length;n++)v.push(bi.aq1(d.v[n]));return v}else if(d.o=="UntF")return d.v.val;else return d.v};
function kY(){}kY.Bn=function(d,v,t,h,X,g,x){var Z=x?B.ij:B.BT,Y=x?B.ce:B.vW,a=x?B.kQ:B.ZT,z=x?B.cY:B.Mu,p=x?B.aBY:B.yJ,U=x?B.FD:B.D_,l=x?B.fc:B._1,L=x?B.ab$:B.y9;
while(v<t){var j=B.y5(d,v,x);v+=4;if(j!="8BIM"&&j!="8B64"){console.log("layer information signature error! "+j,"PSB = "+X);
alert("Error in PSD file: wrong signature.");return t}var O=B.y5(d,v,x);v+=4;var F=Z(d,v);v+=4;var i=X&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(O)!=-1;
if(i){F=F<<32|Y(d,v);v+=4}var $=["lrFX","PlLd"];if($.indexOf(O)!=-1){if(O!="lrFX"&&F%4!=0)F+=4-F%4;v+=F;
continue}switch(O){case"iOpa":h[O]=d[v];break;case"brst":h[O]=[1,1,1];for(var n=0;n<F;n+=4)h[O][Z(d,v+n)]=0;
break;case"knko":h[O]=d[v];break;case"infx":h[O]=d[v];break;case"clbl":h[O]=d[v];break;case"lmgm":h[O]=d[v];
break;case"vmgm":h[O]=d[v];break;case"fcmy":h[O]=d[v];break;case"lyid":h[O]=Z(d,v);break;case"lsct":h[O]={e:Z(d,v)};
if(F>=12)h[O].uF=B.y5(d,v+8,x);break;case"lsdk":h.lsct={e:Z(d,v)};break;case"lyvr":h[O]=Z(d,v);break;
case"lnsr":var H={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};h[O]=B.y5(d,v,x);
break;case"lspf":h[O]=Z(d,v);break;case"lclr":h[O]=a(d,v);break;case"luni":h[O]=L(d,v);break;case"fxrp":h[O]=new cK(U(d,v),U(d,v+8));
break;case"phry":case"artb":case"artd":h[O]={};bi.Bj(d,h[O],v+4,!1,null,x);break;case"SoCo":h[O]={};
bi.Bj(d,h[O],v+4,!1,null,x);break;case"GdFl":h[O]={};bi.Bj(d,h[O],v+4,!1,null,x);kY.tE(h[O],O);break;
case"PtFl":h[O]={};bi.Bj(d,h[O],v+4,!1,null,x);kY.tE(h[O],O);break;case"CgEd":h[O]={};bi.Bj(d,h[O],v+4,!1,null,x);
break;case"brit":var b=h.brit=e0.yu("brit"),r={};b.Brgh.v=z(d,v);b.Cntr.v=z(d,v+2);b.useLegacy.v=!0;
break;case"levl":var W=d.buffer.slice(v,v+F);h[O]=k9.lS(W,x);break;case"curv":h[O]=js.nJ(d,v,F,x);break;
case"expA":var V=z(d,v),y=h[O]=e0.yu("expA");y.Exps.v=l(d,v+2);y.Ofst.v=l(d,v+6);y.gammaCorrection.v=l(d,v+10);
break;case"vibA":h[O]={};bi.Bj(d,h[O],v+4,!1,null,x);break;case"hue2":h[O]=kg.nJ(d,v,F,x);break;case"blnc":var y=h[O]=e0.yu(O);
y.PrsL.v=d[v+18]==1;var c=["ShdL","MdtL","HghL"];for(var n=0;n<3;n++)for(var S=0;S<3;S++)y[c[n]].v[S].v=z(d,v+n*6+S*2);
break;case"blwh":var C={};bi.Bj(d,C,v+4,!1,null,x);var y=e0.yu(O),K="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<K.length;n++){y[K[n]]=C[K[n]];delete C[K[n]]}h[O]=y;break;case"phfl":var y=h[O]=e0.yu(O),T=y.Clr.v,V=a(d,v);
if(V==3){var D=[Z(d,v+2),Z(d,v+6),Z(d,v+10)],N=32768,G=f.af3(D[0]/N,D[1]/N,D[2]/N);T.Lmnc.v=G.f0;T.A.v=G.aX;
T.B.v=G.X}if(V==2){var s=a(d,v+2);if(s!=7)throw"e";T.Lmnc.v=z(d,v+4)/100;T.A.v=z(d,v+6)/100;T.B.v=z(d,v+8)/100}var Q=v+2+(V==3?12:10);
y.Dnst.v=Z(d,Q);Q+=4;y.PrsL.v=d[Q]==1;break;case"mixr":var q={I4:a(d,v+2)==1,K:[]};for(var n=0;n<20;
n++)q.K.push(z(d,v+4+n*2));h[O]=cV.kL(q);break;case"clrL":case"rplc":h[O]={};bi.Bj(d,h[O],v+6,!1,null,x);
break;case"nvrt":h[O]={};break;case"post":h[O]=e0.yu("post");h[O].Lvls.v=a(d,v);break;case"thrs":h[O]=e0.yu("thrs");
h[O].Lvl.v=a(d,v);break;case"grdm":var R=v,m=a(d,R),w="Gcls";R+=2;var E=d[R]==1,e=d[R+1]==1;R+=2;if(m>=3){var M=B.y5(d,R,x);
R+=4;w={Perc:"Perc",Gcls:"Gcls","Lnr ":"Lnr",Smoo:"Smoo"}[M];if(w==null)w="stripes"}var P=L(d,R);R+=4+P.length*2;
var I=iU.aim(d,R,P,x),k=I[0];R=I[1];var o=a(d,R);R+=2;var af=Z(d,R);R+=4;var J=a(d,R)==1;R+=2;var at=a(d,R)==1;
R+=2;var ke=Z(d,R);R+=4;var c_=a(d,R);R+=2;var ag=[],dz=[];for(var n=0;n<4;n++){ag.push({t:"long",v:~~(a(d,R+n*2)*100/32768)});
dz.push({t:"long",v:~~(a(d,R+n*2+8)*100/32768)})}R+=16;var kL=a(d,R);R+=2;if(o==1)k={classID:"Grdn",Nm:{t:"TEXT",v:P},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:J},VctC:{t:"bool",v:at},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:af},Smth:{t:"long",v:ke},Mnm:{t:"VlLs",v:ag},Mxm:{t:"VlLs",v:dz}};
var aq=e0.yu("grdm");aq.Rvrs.v=E;aq.Dthr.v=e;aq.Grad.v=k;aq.gs99.v={gradientInterpolationMethodType:w};
h[O]=aq;break;case"selc":h[O]=g5.nJ(d,v,F,x);break;case"vmsk":case"vsms":var dh=h.vmsk=new jn.rz,gK=Y(d,v+4),ad=(gK>>0&1)==1;
dh.az=(gK>>1&1)==0;dh.isEnabled=(gK>>2&1)==0;dh.D=g4.Cg(d,v+8,F-8,g.r,g.$,x);break;case"shmd":h[O]={};
var dc=Z(d,v),Q=v+4;for(var n=0;n<dc;n++){var j=B.y5(d,Q,x);Q+=4;var lq=B.y5(d,Q,x);Q+=4;var hn=d[Q];
Q++;if(Math.max(d[Q],d[Q+1])!=0)throw"e";Q+=3;var dF=Z(d,Q);Q+=4;if(lq=="cust"||lq=="cmls"||lq=="extn"||lq=="mlst"){var c3=Z(d,Q);
if(c3!=16)Q+=4;if(Z(d,Q)==16){var C={};bi.Bj(d,C,Q+4,!1,null,x);h[O][lq]=C;if(lq=="cmls")A.Qi.agr(h[O][lq])}}else{console.log("unknown shmd key: "+lq+", size: "+dF)}Q+=dF}break;
case"shpa":var V=Z(d,v),i8=Z(d,v+4);if(i8!=0)console.log("some patterns present!");break;case"TySh":var dr=h[O]={},V=a(d,v);
dr.M=B.mp(d,v+2,x);var jO=a(d,v+2+48);dr.s1={};try{var d1=bi.Bj(d,dr.s1,v+56)}catch(cQ){h[O]=null;break}var h3=jM.au_();
for(var d5 in h3)if(dr.s1[d5]==null)dr.s1[d5]=h3[d5];dr.yv={};var em=bi.Bj(d,dr.yv,v+56+d1+6,!1,null,x);
dr.LS=B.ayY(d,v+56+d1+6+em);dr.Oo=b1.lS(dr.s1.EngineData.v);jM.aav(dr.Oo.EngineDict.StyleRun.RunArray);
if(dr.Oo.ResourceDict==null)dr.Oo.ResourceDict=f.v(dr.Oo.DocumentResources);delete dr.s1.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var fl=Z(d,v),lA=Z(d,v+4);h.lmfx={};var d1=bi.Bj(d,h.lmfx,v+8,!1,null,x);
kY.ru(h.lmfx);break;case"FMsk":h[O]=d.slice(v,v+F);break;case"Txt2":h[O]={};h[O].raw=d.slice(v,v+F);
h[O].Wk=hD.lS(h[O].raw);break;case"Patt":case"Pat2":case"Pat3":h.Patt=fJ.p4(d,v,F,x);break;case"SoLd":var av=B.y5(d,v,x),ah=Z(d,v+4),gE=Z(d,v+8),fj=h[O]={},bR=bi.Bj(d,fj,v+12,null,null,x),bD=fj.warp,e1=fj.quiltWarp;
if(e1==null)e1=fj.quiltWarp=f.kk.a3g(bD);delete fj.warp;var am=e1.v.warpStyle.v.warpStyle,dj=e1.v.warpValues;
if(am!="warpCylinder"&&dj){e1.v.warpValue={t:"doub",v:dj.v[0].v};delete e1.v.warpValues}if(fj.nonAffineTransform==null)fj.nonAffineTransform=f.v(fj.Trnf);
if(fj.Impr==null)fj.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var ah=Z(d,v);
h[O]={};var bR=bi.Bj(d,h[O],v+4,!1,null,x);break;case"vscg":var lq=B.y5(d,v,x),ah=Z(d,v+4);h[lq]={};
var bR=bi.Bj(d,h[lq],v+8,!1,null,x);kY.tE(h[lq],lq);break;case"vogk":var ja=Z(d,v),ah=Z(d,v+4);h[O]={};
var bR=bi.Bj(d,h[O],v+8,!1,null,x);h[O]=h[O].keyDescriptorList.v;for(var n=0;n<h[O].length;n++){var aj=h[O][n].v;
if(!f._5.Ye(aj))continue;if(aj.keyOriginBoxCorners==null){var dS=f._5.zy(aj);aj.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var eW=[dS[0],dS[1],dS[2],dS[1],dS[2],dS[3],dS[0],dS[3]];if(aj.keyOriginType.v==4)eW=f._5.aua(f._5.nr(aj),aj.keyOriginLineWeight.v);
f._5.Pu(aj,"keyOriginBoxCorners",eW)}}break;case"lnk2":case"lnkD__":case"lnk3":h.lnk2=[];var R=v;while(R<v+F){var be=new jn.Tq;
h.lnk2.push(be);var cI=p(d,R);R+=8;var kP=R;be.e=B.y5(d,R,x);R+=4;if(be.e!="liFD"){alert("Unknown Linked Layer type: "+be.e);
break;throw be.e}be.uZ=Z(d,R);R+=4;var i0=B.pN(d,R);R+=1+i0.wK.length;be.tj=i0.wK;var ac=x?B.xw:B.QU;
be.Ps=ac(d,R);R+=4+be.Ps.length*2+2;be.Ci=B.y5(d,R,x);R+=4;be.Cd=B.y5(d,R,x);R+=4;var jR=p(d,R);R+=8;
be.open=d[R];R+=1;if(be.open!=0){var eo={},d1=bi.Bj(d,eo,R+4,null,null,x);if(d1%4!=0)d1+=4-d1%4;console.log(eo);
R+=d1+4}be.open=0;be.raw=d.slice(R,R+jR);R=kP+cI;if(cI%4!=0)R+=4-cI%4}break;case"FEid":var R=v;h[O]=[];
var eP=R+F,V=Z(d,R);R+=4;while(R<eP){var cI=p(d,R);R+=8;var I={};h[O].push(I);I.id=B.pN(d,R).wK;R+=I.id.length+1;
var V=Z(d,R);R+=4;R+=4;var as=Z(d,R);R+=4;I.S=B.Lr(d,R,x);R+=16;var kF=Z(d,R);R+=4;var kW=Z(d,R);R+=4;
var hs=new f.lh(0);for(var n=0;n<kW+2;n++){var gc=Z(d,R);R+=4;if(gc!=0){var fK=p(d,R),lo=null;R+=8;if(n<3||n==25){lo=dM.nu(!0,kF,d,I.S.r,I.S.$,R,fK,x)}if(n==0)hs.C=lo;
if(n==1)hs.L=lo;if(n==2)hs.X=lo;if(n==25)hs.aX=lo;R+=fK}}I.buffer=f.m(I.S.k()*4,kF);f.E4(hs,I.buffer);
var cR=d[R];R++;if(cR!=0){I.AU=new jn.Ks;I.AU.S=B.Lr(d,R,x);R+=16;var fU=p(d,R);R+=8;var lo=dM.nu(!0,kF,d,I.AU.S.r,I.AU.S.$,R,fU,x);
I.AU.N=lo;I.AU.color=255;I.AU.s4();R+=fU}if(cI%4!=0)R+=4-cI%4}break;case"Lr16":e4.pj(g,d,v,x);break;
case"Lr32":e4.pj(g,d,v,x);break;case"Anno":h[O]=[];var g8=v,i2=v+4,i8=Z(d,i2);i2+=4;for(var n=0;n<i8;
n++){var cI=Z(d,i2);i2+=4;var jQ=B.y5(d,i2,x);i2+=4;if(jQ!="txtA")throw jQ;var eS=d[i2++],ji=d[i2++],l7=a(d,i2);
i2+=2;var j_=B.Lr(d,i2,x);i2+=16;var hb=B.Lr(d,i2,x);i2+=16;var T=aC.bT(d,i2,x);i2+=10;var fL=B.pN(d,i2);
i2+=fL.length;var dE=B.pN(d,i2);i2+=dE.length;var gF=B.pN(d,i2);i2+=gF.length;var gA=Z(d,i2);i2+=4;var gP=B.y5(d,i2,x);
i2+=4;var km=Z(d,i2);i2+=4;var jA=x?B.Ix:B.Kl,cD=jA(d,i2+2,km-2>>1);i2+=km;h[O].push([j_.x,j_.y,T,fL.wK,cD])}break;
default:console.log("unknown layer tag: "+O+", size: "+F);break}var i4="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry,vmsk,vstk".split(",");
if(i4.indexOf(O)==-1)if(F%4!=0)console.log("size not multiple of 4!!!",O);if(O!="luni"&&O!="TySh"&&O!="tySh"&&O!="lfx2"&&O!="iOpa"&&O!="SoCo"&&O!="vmsk"&&O!="vstk")if(F%4!=0)F+=4-F%4;
v+=F}var r=h.CgEd;if(r){var b=h.brit;if(b){b.Brgh.v=r.Brgh?r.Brgh.v:0;b.Cntr.v=r.Cntr?r.Cntr.v:0;b.useLegacy.v=r.useLegacy?r.useLegacy.v:0}delete h.CgEd}var dv=[];
for(var n=0;n<dv.length;n++)delete h[dv[n]];return v};kY.Gl=function(d,v,t,h,X){if(t.SoLd){var g={};
for(var x in t){if(x=="SoLd")g.PlLd={};g[x]=t[x]}t=g}for(var Z in t)if(t[Z]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+Z+"\" tag was present with a null value.");delete t[Z]}for(var Z in t){var Y=h&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Z)!=-1,z=0;
B.Er(d,v,Y?"8B64":"8BIM");v+=4;var a=v;B.Er(d,v,Z);v+=4;B.Pb(d,v,0);v+=Y?8:4;switch(Z){case"iOpa":B.wu(d,v,t[Z],1);
z=4;break;case"brst":z=0;for(var n=0;n<3;n++)if(t[Z][n]==0){B.um(d,v+z,n);z+=4}break;case"knko":B.wu(d,v,t[Z],1);
z=4;break;case"infx":B.wu(d,v,t[Z],1);z=4;break;case"clbl":B.wu(d,v,t[Z],1);z=4;break;case"lmgm":B.wu(d,v,t[Z],1);
z=4;break;case"vmgm":B.wu(d,v,t[Z],1);z=4;break;case"fcmy":B.wu(d,v,t[Z],1);z=4;break;case"lyid":B.um(d,v,t[Z]);
z=4;break;case"lsct":B.um(d,v,t[Z].e);z=4;if(t[Z].uF){B.Er(d,v+4,"8BIM");B.Er(d,v+8,t[Z].uF);z=12}break;
case"lyvr":B.um(d,v,t[Z]);z=4;break;case"lnsr":B.Er(d,v,t[Z]);z=4;break;case"lspf":B.um(d,v,t[Z]);z=4;
break;case"lclr":B.mk(d,v,t[Z]);z=8;break;case"luni":B.PD(d,v,t[Z]);z=4+2*t[Z].length;break;case"fxrp":B.B_(d,v,t[Z].x);
B.B_(d,v+8,t[Z].y);z=16;break;case"phry":case"artb":case"artd":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;break;
case"SoCo":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;break;case"GdFl":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;break;
case"PtFl":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;break;case"CgEd":var p={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=p,l=t[Z];
U.Brgh.v=l.Brgh.v;U.Cntr.v=l.Cntr.v;U.useLegacy.v=l.useLegacy.v;B.um(d,v,16);z=bi.ct(d,p,v+4)+4;break;
case"brit":d.fK(v,8);z=8;break;case"levl":var L=new fe;z=k9.IT(L,t[Z]);B.RP(d,v,L.data);break;case"curv":z=js.R1(d,v,t[Z]);
break;case"expA":z=14;d.fK(v,14);B.PT(d.data,v,1);B.Wv(d.data,v+2,t[Z].Exps?t[Z].Exps.v:0);B.Wv(d.data,v+6,t[Z].Ofst?t[Z].Ofst.v:0);
B.Wv(d.data,v+10,t[Z].gammaCorrection?t[Z].gammaCorrection.v:1);break;case"vibA":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;
break;case"hue2":z=kg.R1(d,v,t[Z]);break;case"blnc":z=19;d.fK(v,z);var j=["ShdL","MdtL","HghL"];for(var n=0;
n<3;n++){var O=t[Z][j[n]].v;for(var F=0;F<3;F++)O.push(B.EE(d.data,v+n*6+F*2,O[F].v))}d.data[v+18]=t[Z].PrsL.v?1:0;
break;case"blwh":var p={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},i="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<i.length;n++){p[i[n]]=t[Z][i[n]]}B.um(d,v,16);z=bi.ct(d,p,v+4)+4;break;case"phfl":B.mk(d,v,2);
var $=t[Z].Clr.v;B.mk(d,v+2,7);B.mk(d,v+4,Math.round($.Lmnc.v*100));B.mk(d,v+6,Math.round($.A.v*100));
B.mk(d,v+8,Math.round($.B.v*100));B.mk(d,v+10,0);var H=v+2+10;d.fK(H,5);B.NI(d.data,H,t[Z].Dnst.v);H+=4;
d.data[H]=t[Z].PrsL.v?1:0;H++;z=H-v;break;case"mixr":z=44;d.fK(v,z);var b=cV._m(t[Z]);B.PT(d.data,v,1);
B.PT(d.data,v+2,b.I4?1:0);for(var n=0;n<20;n++)B.EE(d.data,v+4+n*2,b.K[n]);break;case"clrL":case"rplc":B.mk(d,v,1);
B.um(d,v+2,16);z=bi.ct(d,t[Z],v+6)+6;break;case"nvrt":z=0;break;case"post":B.mk(d,v,t[Z].Lvls.v);z=2;
break;case"thrs":B.mk(d,v,t[Z].Lvl.v);z=2;break;case"grdm":var r=t[Z].Rvrs?t[Z].Rvrs.v:!1,W=t[Z].Dthr?t[Z].Dthr.v:!1,V=t[Z].gs99?t[Z].gs99.v.gradientInterpolationMethodType:"Gcls",y=867527939,c=!1,S=!1,C=2048,N,G;
if(V=="Lnr")V="Lnr ";if(V=="stripes")V="\0\0\fm";var K=[0,0,0,0],T=[32768,32768,32768,32768],D=t[Z].Grad.v,s=D.Clrs==null?1:0;
if(s==0){N=D;G=JSON.parse(kV.CU.aEP).v}else{N=e0.yu("grdm").Grad.v;G=D}d.fK(v,8);B.PT(d.data,v,3);d.data[v+2]=r?1:0;
d.data[v+3]=W?1:0;B.js(d.data,v+4,V);var Q=v+8;B.PD(d,Q,D.Nm.v);Q+=4+D.Nm.v.length*2;Q=iU.atU(d,Q,N);
B.mk(d,Q,s);Q+=2;B.um(d,Q,G.RndS.v);Q+=4;B.mk(d,Q,G.ShTr.v?1:0);Q+=2;B.mk(d,Q,G.VctC.v?1:0);Q+=2;B.um(d,Q,G.Smth.v);
Q+=4;B.mk(d,Q,3);Q+=2;for(var n=0;n<4;n++)B.mk(d,Q+n*2,K[n]);Q+=8;for(var n=0;n<4;n++)B.mk(d,Q+n*2,T[n]);
Q+=8;Q+=2;z=Q-v;break;case"selc":z=g5.R1(d,v,t[Z]);break;case"FMsk":B.RP(d,v,t[Z]);z=t[Z].length;break;
case"Txt2":var q=new fe,R=hD.Al(t[Z].Wk,q),m=q.data.slice(0,R);B.RP(d,v,m);z=m.length;break;case"vmsk":var E=t[Z],e=0;
B.um(d,v,3);if(!E.az)e+=1<<1;if(!E.isEnabled)e+=1<<2;B.um(d,v+4,e);z=8;var w=E.D.length;d.fK(v+8,w*26);
g4.Aa(d.data,v+8,E.D,X.r,X.$);z+=w*26;break;case"shmd":B.um(d,v,Object.keys(t[Z]).length);var H=v+4;
for(var M in t[Z]){B.Er(d,H,"8BIM");H+=4;B.Er(d,H,M);H+=4;B.um(d,H,0);H+=4;B.um(d,H,0);H+=4;B.um(d,H,16);
H+=4;var P=bi.ct(d,t[Z][M],H);if(P%4!=0)P+=4-P%4;B.um(d,H-8,P+4);H+=P}z=H-v;break;case"TySh":var H=v;
B.FS(d,H,1);H+=2;var I=t[Z],q=new fe;I.Oo.DocumentResources=f.v(I.Oo.ResourceDict);var R=b1.Al(I.Oo,q),m=q.data.slice(0,R);
I.s1.EngineData={t:"tdta",v:m};var k=I.Oo.EngineDict.Editor.Text;I.s1.Txt.v=k.substring(0,k.length-1);
B.ajL(d,H,I.M);H+=48;B.FS(d,H,50);H+=2;B.um(d,H,16);H+=4;H+=bi.ct(d,I.s1,H);B.FS(d,H,1);H+=2;B.um(d,H,16);
H+=4;H+=bi.ct(d,I.yv,H);B.a25(d,H,I.LS);H+=16;z=H-v;break;case"lmfx":B.um(d,v,0);B.um(d,v+4,16);var p=f.v(t[Z]),o=!1;
kY.oB(p);for(var n=0;n<kV.dv.length;n++)if(p[kV.dv[n]]!=null)o=!0;B.Er(d,a,o?"lmfx":"lfx2");z=bi.ct(d,p,v+8)+8;
break;case"Patt":var H=fJ.hh(d,v,t[Z]);z=H-v;break;case"PlLd":var af=v;d.fK(v,60);var O=t.SoLd;B.Er(d,v,"plcL");
B.um(d,v+4,3);var J=d.data[v+8]=O.Idnt.v.length;B.Er(d,v+9,O.Idnt.v);var H=v+9+J,at=[1,1,16,2];for(var n=0;
n<4;n++)B.um(d,H+n*4,at[n]);H+=16;at=A.hZ.Q9(O.nonAffineTransform);for(var n=0;n<8;n++)B.B_(d,H+n*8,at[n]);
H+=64;B.um(d,H,0);B.um(d,H+4,16);var ke=f.kk.aDJ(O.quiltWarp).v;H+=8+bi.ct(d,ke,H+8);z=H-v;break;case"SoLd":var O=t[Z],c_=O.quiltWarp;
O.warp=f.kk.aDJ(c_);if(f.kk.H9(c_.v)==16)delete O.quiltWarp;B.Er(d,v,"soLD");B.um(d,v+4,4);B.um(d,v+8,16);
z=bi.ct(d,O,v+12)+12;O.quiltWarp=c_;delete O.warp;break;case"vstk":case"pths":B.um(d,v,16);z=bi.ct(d,t[Z],v+4)+4;
break;case"vscg__":B.Er(d,v,t[Z].key);B.um(d,v+4,16);z=bi.ct(d,t[Z].K,v+8)+8;break;case"vogk":B.um(d,v,1);
B.um(d,v+4,16);f._5.a0s(t[Z]);for(var n=0;n<t[Z].length;n++){var ag=t[Z][n].v.keyOriginResolution;if(ag)ag.v=X.u3}var dz={classID:"null",keyDescriptorList:{t:"VlLs",v:t[Z]}};
z=bi.ct(d,dz,v+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Q=v;for(var n=0;n<t[Z].length;n++){var kL=t[Z][n],aq=Q;
B.Bt(d,Q,0);Q+=8;B.Er(d,Q,kL.e);Q+=4;B.um(d,Q,kL.uZ);Q+=4;d.fK(Q,1);d.data[Q]=kL.tj.length;Q++;B.Er(d,Q,kL.tj);
Q+=kL.tj.length;B.PD(d,Q,kL.Ps+"\0");Q+=4+kL.Ps.length*2+2;B.Er(d,Q,kL.Ci);Q+=4;B.Er(d,Q,kL.Cd);Q+=4;
B.Bt(d,Q,kL.raw.length);Q+=8;d.fK(Q,1);d.data[Q]=kL.open;Q++;B.RP(d,Q,kL.raw);Q+=kL.raw.length;B.um(d,Q,1);
Q+=4;Q+=11;var dh=Q-aq-8;B.Bt(d,aq,dh);if(dh%4!=0){d.fK(Q,4-dh%4);Q+=4-dh%4}}z=Q-v;break;case"FEid":var Q=v;
B.um(d,Q,3);Q+=4;for(var gK=0;gK<t[Z].length;gK++){var ad=t[Z][gK];Q+=4;var dc=Q;Q+=4;B.gw(d,Q,ad.id);
Q+=ad.id.length+1;B.um(d,Q,1);Q+=4;var lq=f.m(ad.S.k(),X.depth),hn=ad.S,dF=f.m(hn.k(),X.depth);Q+=4;
var c3=Q;Q+=4;B.k5(d,Q,hn);Q+=16;B.um(d,Q,X.depth);Q+=4;B.um(d,Q,24);Q+=4;for(var n=0;n<24+2;n++){var i8=-1;
if(n==0)i8=0;if(n==1)i8=1;if(n==2)i8=2;if(n==25)i8=3;B.um(d,Q,i8!=-1?1:0);Q+=4;if(i8!=-1){f.Po(ad.buffer,lq,i8);
f.Qb(lq,ad.S,dF,hn);Q+=4;var dr=Q;Q+=4;d.fK(Q,hn.k()*(X.depth>>>3)+200);Q=dM.ug(!0,dF,d.data,hn.r,hn.$,Q,3);
B.um(d,dr,Q-(dr+4))}}B.um(d,c3,Q-(c3+4));d.fK(Q,1);d.data[Q]=ad.AU?1:0;Q++;if(ad.AU!=null){var jO=hn,d1=f.m(jO.k(),X.depth);
d1.fill(f.ay(X.depth)*ad.AU.color/255);f.Qb(ad.AU.N,ad.AU.S,d1,jO);B.k5(d,Q,jO);Q+=16;Q+=4;var h3=Q;
Q+=4;d.fK(Q,jO.k()+2);Q=dM.ug(!0,d1,d.data,jO.r,jO.$,Q,3);B.um(d,h3,Q-(h3+4))}var dh=Q-(dc+4);B.um(d,dc,dh);
if(dh%4!=0)Q+=4-dh%4}z=Q-v;break;case"Lr16":case"Lr32":var d5=e4.awX(X,d,v,[],!1);z=d5-v;break;case"Anno":var d5=v,em=t[Z].length;
B.mk(d,d5,2);B.mk(d,d5+2,1);d5+=4;B.um(d,d5,em);d5+=4;for(var n=0;n<em;n++){var fl=t[Z][n],lA=fl[0],av=fl[1],ah=d5;
d5+=4;B.Er(d,d5,"txtA");d5+=4;d.fK(d5,2);d.data[d5]=1;d.data[d5+1]=28;d5+=2;B.mk(d,d5,1);d5+=2;B.k5(d,d5,new iW(lA,av,17,21));
d5+=16;B.k5(d,d5,new iW(lA+8,av+10,241,141));d5+=16;d.fK(d5,10);aC.cZ(d.data,d5,fl[2]);d5+=10;d5+=B.gw(d,d5,fl[3]);
d5+=B.gw(d,d5,"");d5+=B.gw(d,d5,"D:20211012120233+01'00'");var gE=fl[4].length*2;B.um(d,d5,12+2+gE);
d5+=4;B.Er(d,d5,"txtC");d5+=4;B.um(d,d5,2+gE);d5+=4;d.fK(d5,2);d.data[d5]=254;d.data[d5+1]=255;d5+=2;
B.aL4(d,d5,fl[4]);d5+=gE;B.um(d,ah,d5-ah)}z=d5-v;break;default:console.log("unknown layer tag: "+Z+", size: "+z);
v-=12;continue}var fj=["Txt2","artd","extd","pths"];if(fj.indexOf(Z)==-1)if(z%4!=0)z+=4-z%4;if(Y)B.Bt(d,v-8,z);
else B.um(d,v-4,z);if(Z!="luni"&&Z!="TySh")if(z%4!=0)z+=4-z%4;v+=z}return v};kY.ru=function(d){for(var n=0;
n<kV.order.length;n++){var v=kV.order[n],t=kV.dv[n];if(d[t]==null)d[t]={t:"VlLs",v:[]};if(d[v]!=null){d[t].v.push(d[v]);
delete d[v]}var h=[];for(var X=0;X<d[t].v.length;X++){var g=d[t].v[X];if(g.v.present==null||g.v.present.v==!0)h.push(g)}d[t].v=h}};
kY.oB=function(d){for(var n=0;n<kV.order.length;n++){var v=kV.order[n],t=kV.dv[n],h=d[t].v.length;if(h==0){delete d[t];
continue}if(h==1){d[v]=d[t].v[0];delete d[t];continue}}};kY.tE=function(d,v){if(v=="GdFl"){if(d.Angl==null)d.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(d.Algn==null)d.Algn={v:!0,t:"bool"};if(d.Scl==null)d.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(d.Ofst==null)d.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(d.Rvrs==null)d.Rvrs={v:!1,t:"bool"};if(d.Dthr==null)d.Dthr={v:!1,t:"bool"}}if(v=="PtFl"){if(d.Algn==null)d.Algn={v:!0,t:"bool"};
if(d.Angl==null)d.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(d.Scl==null)d.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(d.phase==null)d.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};kY.b=function(d,v){var t={};
if(d=="TySh"){t.M=v.M.b();t.s1=f.v(v.s1);t.yv=f.v(v.yv);t.LS=v.LS.b();t.Oo=f.v(v.Oo);if(v.add)t.add={vmsk:v.add.vmsk.b(),vogk:f.v(v.add.vogk)};
return t}else if(d=="fxrp")return v.b();else if(d=="vmsk")return v.b();else return f.v(v)};function hr(d,v){}hr.lS=function(d,v,t,h,X){h=hr.adc(d,v,t,h,X);
return h};hr.Al=function(d,v,t,h,X){h=hr.aF3(d,v,t,h,X);return h};hr.adc=function(d,v,t,h,X){var g=h;
d.S=B.Lr(t,h,X);h+=16;var x=X?B.kQ:B.ZT,Z=X?B.cY:B.Mu,Y=x(t,h);h+=2;d.yZ=[];var a=v.na,z=X?B.aBY:B.yJ,p=X?B.ij:B.BT,U=a?z:p;
for(var n=0;n<Y;n++){d.yZ[n]={id:Z(t,h),length:U(t,h+2)};h+=a?10:6}var l=B.y5(t,h,X);h+=4;if(l!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(l));
alert("Error in Photoshop file: wrong signature.");throw"e"}d.uF=B.y5(t,h,X);h+=4;d.JS=t[h];h+=1;d.cD=t[h]==1;
h+=1;d.Xw=t[h];h+=1;if(t[h]!=0)console.log("error in filler!");h+=1;var L=p(t,h);h+=4;var j=h;h=hr.atM(d,t,h,X);
h=hr.agz(d,t,h,X);var O=B.pN(t,h);d.name=O.wK;h+=O.length;if(O.length%4!=0)h+=4-O.length%4;h=kY.Bn(t,h,j+L,d.add,a,v,X);
if(d.add.lsct){if(d.add.lsct.uF)d.uF=d.add.lsct.uF;d.add.lsct=d.add.lsct.e}return h};hr.aF3=function(d,v,t,h,X){var g=h;
B.k5(t,h,d.S);h+=16;var x=v.add.fcmy==1,Z=d.a1a(x);B.mk(t,h,Z.length);h+=2;var Y=v.na;X.push(h);for(var n=0;
n<Z.length;n++){B.FS(t,h,Z[n]);if(Y)B.Bt(t,h+2,0);else B.um(t,h+2,0);h+=Y?10:6}B.Er(t,h,"8BIM");h+=4;
B.Er(t,h,d.uF);h+=4;B.wu(t,h,d.JS,1);h+=1;B.wu(t,h,d.cD?1:0,1);h+=1;B.wu(t,h,d.Xw,1);h+=1;B.wu(t,h,0,1);
h+=1;var a=h;B.um(t,h,0);h+=4;var z=h;h=hr.az4(d,t,h);h=hr.azj(d,t,h);var p=B.gw(t,h,d.name.slice(0,255));
h+=p;if(p%4!=0)h+=4-p%4;if(d.add.lsct){d.add.lsct={e:d.add.lsct};if(d.uF=="pass"){d.add.lsct.uF="pass";
d.uF="norm"}}if(d.uF=="pass")d.add.lsct={e:d.add.lsct,uF:"pass"};if(d.add.brit)d.add.CgEd=d.add.brit;
h=kY.Gl(t,h,d.add,Y,v);delete d.add.CgEd;if(d.add.lsct){if(d.add.lsct.uF)d.uF=d.add.lsct.uF;d.add.lsct=d.add.lsct.e}var U=h-z;
B.um(t,a,U);return h};hr.atM=function(d,v,t,h){var X=h?B.ij:B.BT,g=X(v,t);t+=4;if(g==0)return t;var x=t;
d.AU=new jn.Ks;d.AU.S=B.Lr(v,t,h);t+=16;d.AU.color=v[t];t+=1;var Z=hr.a6_(d.AU,v,t);t+=1;if(Z){var Y=!1,a=255,z=0,p=255,U=0;
for(var n=0;n<d.yZ.length;n++)if(d.yZ[n].id==-3)Y=!0;if(Y){d._k=hr.aIq(v,t,h);t+=18}var l=t,L=v[t];t++;
var j=h?B.FD:B.D_;if(L>>0&1){a=v[t];t++}if(L>>1&1){z=j(v,t);t+=8}if(L>>2&1){p=v[t];t++}if(L>>3&1){U=j(v,t);
t+=8}if((t-l&1)==1)t++;d.eX=[a,z,p,U]}else{if(g==20)t+=2;else{d._k=hr.aIq(v,t,h);t+=18}}return x+g};
hr.az4=function(d,v,t){B.um(v,t,0);t+=4;if(d.AU==null)return t;var h=d._B(),X=d.add.vmsk,g=t,x=!0;B.um(v,t,0);
B.k5(v,t,d.AU.S);t+=16;B.wu(v,t,d.AU.color);t+=1;hr.aez(d.AU,v,t,x);t+=1;if(x){if(d._k){hr.aMK(v,t,d._k);
t+=18}var Z=t;B.wu(v,t,X?15:3);t+=1;B.wu(v,t,h?h.wb:255);t+=1;B.B_(v,t,h?h.mO:0);t+=8;if(X){B.wu(v,t,X?X.wb:255);
t+=1;B.B_(v,t,X?X.mO:0);t+=8}if((t-Z&1)==1)t++}B.um(v,g-4,t-g);return t};hr.aIq=function(d,v,t){var h=new jn.Ks;
hr.a6_(h,d,v);v+=1;h.color=d[v];v+=1;h.S=B.Lr(d,v,t);v+=16;return h};hr.aMK=function(d,v,t){hr.aez(t,d,v,!1);
v+=1;B.wu(d,v,t.color);v+=1;B.k5(d,v,t.S);v+=16};hr.a6_=function(d,v,t){var h=v[t];d.az=(h>>0&1)==0;
d.isEnabled=(h>>1&1)==0;d.Ku=(h>>3&1)==1;return h>>4&1};hr.aez=function(d,v,t,h){var X=0;if(!d.az)X+=1<<0;
if(!d.isEnabled)X+=1<<1;if(d.Ku)X+=1<<3;if(h)X+=1<<4;B.wu(v,t,X)};hr.agz=function(d,v,t,h){var X=h?B.ij:B.BT,g=X(v,t);
t+=4;for(var n=0;n<g;n++)d._F[n]=v[t+n];return t+g};hr.azj=function(d,v,t){B.um(v,t,d._F.length);t+=4;
v.fK(t,40);for(var n=0;n<40;n++){v.data[t+n]=d._F[n]}return t+40};function dM(){}dM.lS=function(d,v,t,h,X){h=dM.a1M(d,v,t,h,X);
return h};dM.IT=function(d,v,t,h,X,g,x){h=dM.ajh(d,v,t,h,X,g,x);return h};dM.a1M=function(d,v,t,h,X){var g=v.Va,x=d.yZ,Z={},Y=h;
for(var n=0;n<x.length;n++){var a=x[n],z=a.id,p=a.length,U;if(z==-2&&d.AU==null)z=-1;if(z==-3)U=d._k.S;
else if(z==-2)U=d.AU.S;else U=d.S;var l=dM.nu(v.na,v.z1,t,U.r,U.$,h,p,X);l=f.OO(l,v.depth);h+=p;if(z==-3)d._k.N=l;
else if(z==-2)d.AU.N=l;else Z["c"+z]=l}var L=new f.lh(0);L.aX=null;if(g==3){L.C=Z.c0;L.L=Z.c1;L.X=Z.c2;
L.aX=Z["c-1"]}else if(g==1){L.C=Z.c0;L.L=Z.c0;L.X=Z.c0;L.aX=Z["c-1"]}else if(g==4){var j=v._t.r1039,O=null,F=Z.c0,i=Z.c1,$=Z.c2,H=Z.c3;
if(j){var O=j.azs,b=17;if(O==null){var r=ICC.R(j.buffer);if(r.header.spaceIn=="RGB "){}else O=j.azs=ICC.U.sampleLUT(r,b)}}if(O){var W={C:F,L:i,X:$,aX:H},V=f.m(F.length*4,v.depth);
f.E4(W,V);f.zJ(V);ICC.U.applyLUT4(O,b,V,V);f.xI(V,W)}else{var W={C:F,L:i,X:$,aX:H},V=f.m(F.length*4,v.depth);
f.E4(W,V);f.zJ(V);f.a1e(V);f.xI(V,W)}L.C=F;L.L=i;L.X=$;L.aX=Z["c-1"]}if(L.C==null)L.C=f.m(0);if(L.aX==null&&L.C!=null){L.aX=L.C.slice(0);
L.aX.fill(f.ay(f.UJ(L.aX)))}if(L.L==null)L.L=L.C.slice(0);if(L.X==null)L.X=L.C.slice(0);d.buffer=f.m(Math.max(0,d.S.k()*4),v.depth);
f.E4(L,d.buffer);return h};dM.ajh=function(d,v,t,h,X,g,x){var Z=v.a1a(x),Y=v.buffer,a=null,z=f.UJ(Y),p=f.m(v.S.k(),z);
if(x){a=f.m(v.S.k(),z);f.Po(Y,a,3);Y=Y.slice(0);f.ae9(Y)}for(var n=0;n<Z.length;n++){var U=Z[n],l;if(U==-3)l=v._k.S;
else if(U==-2)l=v.AU.S;else l=v.S;var L=p;if(U==-3)L=v._k.N;if(U==-2)L=v.AU.N;if(U==-1){if(a)L=a;else f.Po(Y,p,3)}if(U==0)f.Po(Y,p,0);
if(U==1)f.Po(Y,p,1);if(U==2)f.Po(Y,p,2);if(U==3)f.Po(Y,p,3);t.fK(h,Math.round(l.k()*(z>>>3)*1.2)+4);
var j=h;h=dM.ug(d,L,t.data,l.r,l.$,h,z!=8||g[1]?3:1);var O=h-j;if(d)B.aOd(t.data,X+n*10+2,O);else B.NI(t.data,X+n*6+2,O)}return h};
dM.nu=function(d,v,t,h,X,g,x,Z){var Y=Z?B.kQ:B.ZT,a=Y(t,g);g+=2;var z=dM.Os(d,v,t,h,X,g,a,x-2,Z);return z};
dM.ug=function(d,v,t,h,X,g,x){B.EE(t,g,x);g+=2;g=dM.u1(d,v,t,h,X,g,x);return g};dM.Os=function(d,v,t,h,X,g,x,Z,Y){var a,z=h*X*(v>>>3),p=z&3,U=z+(p==0?0:4-p);
if(Z<=0){return f.m(U,v)}if(x==0){a=f.m(z);a.set(new Uint8Array(t.buffer,g,Math.min(z,t.buffer.byteLength-g)));
if(v==16)for(var n=0;n<z;n+=2){var l=a[n];a[n]=a[n+1];a[n+1]=l}if(v==32)for(var n=0;n<z;n+=4){var l=a[n];
a[n]=a[n+3];a[n+3]=l;l=a[n+1];a[n+1]=a[n+2];a[n+2]=l}g+=z}else if(x==1){a=f.m(z);var L=d?4:2,j=dM.aaj(t,a,h,X,g,g+L*X,L,Y);
g+=L*X+j}else if(x==2||x==3){var O=new Uint8Array(t.buffer,g+2,Z-6),F=f.m(U);UZIP.inflateRaw(O,F);if(x==3){if(v==8)for(var i=0;
i<X;i++){var $=i*h+1,H=$+h-1,b=F[$-1];for(var r=$;r<H;r++){b+=F[r];F[r]=b&255}}else if(v==16)for(var i=0;
i<X;i++){var $=i*h,H=$+h,b=0;for(var r=$;r<H;r++){var W=r<<1;b+=F[W]<<8|F[W+1];F[W]=b&255;F[W+1]=b>>>8}}else{var V=h,y=F.slice(0,V*4);
for(var i=0;i<X;i++){var $=i*V*4+1,H=$+V*4-1,b=F[$-1];for(var r=$;r<H;r++){b+=F[r];F[r]=b&255}var c=i*V*4;
for(var r=0;r<V;r++){y[4*r+3]=F[c+r];y[4*r+2]=F[c+V+r];y[4*r+1]=F[c+V+V+r];y[4*r]=F[c+V+V+V+r]}F.set(y,c)}}}if(F.length==U)a=F;
else{a=f.m(U);for(var n=0;n<F.length;n++)a[n]=F[n]}}else a=f.m(U);if(v==16)a=new Uint16Array(a.buffer);
if(v==32)a=new Float32Array(a.buffer);return a};dM.u1=function(d,v,t,h,X,g,x){var Z=h*X,Y=f.UJ(v);if(Y!=8)v=new Uint8Array(v.buffer);
var a=v;if(x==0)for(var n=0;n<Z;n++)t[g++]=a[n];else if(x==1){var z=d?4:2,p=dM.akg(a,t,h,X,g,g+z*X,z);
g+=z*X+p}else if(x==2||x==3){function U(y,n){return y[n+1]<<8|y[n]}if(x==3){a=a.slice(0);if(Y==8)for(var l=0;
l<X;l++){var L=l*h,j=L+h;for(var O=j-1;O>L;O--)a[O]=a[O]-a[O-1]+256&255}else if(Y==16)for(var l=0;l<X;
l++){var L=l*h,j=L+h;for(var O=j-1;O>L;O--){var F=O<<1,i=U(a,F)-U(a,F-2)+65536&65535;a[F]=i>>>8;a[F+1]=i&255}var $=a[L*2];
a[L*2]=a[L*2+1];a[L*2+1]=$}else if(Y==32){var H=h,b=a.slice(0,H*4);for(var l=0;l<X;l++){var r=l*H*4;
for(var O=0;O<H;O++){var W=r+4*O;b[O]=a[W+3];b[H+O]=a[W+2];b[H+H+O]=a[W+1];b[H+H+H+O]=a[W]}for(var O=H*4-1;
O>0;O--)b[O]=b[O]-b[O-1]+256&255;a.set(b,r)}}}t[g]=120;t[g+1]=156;g+=2;var V=pako.deflateRaw(a,{ajR:4});
t.set(V,g);g+=V.length+4}else console.log("Unknown compression: "+x);return g};dM.aaj=function(d,v,t,h,X,g,x,Z){if(!(d instanceof Uint8Array)||!(v instanceof Uint8Array))throw"e";
var Y=g,a=h|0;if(Z){if(x==2)for(var n=0;n<a;n++){var z=B.kQ(d,X+(n<<1));dM.cn(d,g,z,v,n*t,t);g+=z}else for(var n=0;
n<a;n++){var z=B.ij(d,X+(n<<2));dM.cn(d,g,z,v,n*t,t);g+=z}}else{if(x==2)for(var n=0;n<a;n++){var z=B.ZT(d,X+(n<<1));
dM.cn(d,g,z,v,n*t,t);g+=z}else for(var n=0;n<a;n++){var z=B.BT(d,X+(n<<2));dM.cn(d,g,z,v,n*t,t);g+=z}}return g-Y};
dM.akg=function(d,v,t,h,X,g,x){var Z=g;if(x==2)for(var n=0;n<h;n++){var Y=dM.ahn(d,n*t,t,v,g);B.PT(v,X+n*2,Y);
g+=Y}else for(var n=0;n<h;n++){var Y=dM.ahn(d,n*t,t,v,g);B.NI(v,X+n*4,Y);g+=Y}return g-Z};dM.ahn=function(d,v,bW,t,h){var X,g,x,Z,Y,fn,a;
Z=v+bW;for(x=v,g=h;bW>0;x=X,bW-=fn){a=bW<128?bW:128;if(x<=Z-3&&d[x+1]==d[x+0]&&d[x+2]==d[x+0]){for(X=x+3;
X<x+a&&d[X]==d[x+0];)++X;fn=X-x;t[g++]=1+256-fn;t[g++]=d[x+0]}else{for(X=x;X<x+a;)if(X<=Z-3&&d[X+1]==d[X+0]&&d[X+2]==d[X+0])break;
else++X;fn=X-x;t[g++]=fn-1;for(var n=0;n<fn;n++)t[g+n]=d[x+n];g+=fn}}return g-h};dM.cn=function(d,v,t,h,X,g){for(var x=0;
x<t;){var bW=d[v++];if(bW>=128){var Z=d[v++],Y=X+(257-bW);h.fill(Z,X,Y);X=Y;x+=2}else{for(var n=0;n<=bW;
n++)h[X+n]=d[v+n];v+=bW+1;X+=bW+1;x+=1+1+bW}}};function d7(){}d7.ajG=function(d){if(d._t.r1005){d.u3=B.zv(d._t.r1005,0)}if(d._t.r1025){var v=d._t.r1025;
delete d._t.r1025;var t=g4.Cg(v,0,v.length,d.r,d.$),h=new jn.rz;h.D=t;d.S5[0]=hc.$$("Work Path",{vmsk:h})}if(d._t.r1026){var X=d._t.r1026;
for(var n=0;n<X.length;n+=2){var g=d.U[n>>>1];if(g)g.aT=B.ZT(X,n)}delete d._t.r1026}if(d._t.r1032){d.MQ=e4.a6a(d._t.r1032,0)}delete d._t.r1036;
d.m3(d._t.r1039);if(d._t.r1045){d.ZU=[];var x=d._t.r1045,Z=0;while(Z<x.length){var Y=B.QU(x,Z);d.ZU.push(Y);
Z+=4+2+Y.length*2}}if(d._t.r1050){var a=B.BT,z=d._t.r1050,p=B.BT(z,0);if(p==6){var Z=4,U=B.Lr(z,Z);Z+=16;
var l=B.y9(z,Z);Z+=4+l.length*2;var L=a(z,Z);Z+=4;var j=d.Wc;for(var n=0;n<L;n++){var O=A.Jp.K8(),i;
j.push(O);O=O.v;O.sliceID.v=a(z,Z);Z+=4;O.groupID.v=a(z,Z);Z+=4;var F=a(z,Z);Z+=4;if(F==1){i=a(z,Z);
Z+=4}var l=B.y9(z,Z);Z+=4+l.length*2;var $=a(z,Z);Z+=4;var H=[a(z,Z),a(z,Z+4),a(z,Z+8),a(z,Z+12)];Z+=16;
A.Jp.J7(j,j.length-1,H);var b=O.url.v=B.y9(z,Z);Z+=4+b.length*2;var r=O.null.v=B.y9(z,Z);Z+=4+r.length*2;
var W=O.Msge.v=B.y9(z,Z);Z+=4+W.length*2;var V=O.altTag.v=B.y9(z,Z);Z+=4+V.length*2;O.cellTextIsHTML.v=z[Z]==1;
Z++;var y=O.cellText.v=B.y9(z,Z);Z+=4+y.length*2;var c=a(z,Z);Z+=4;var S=a(z,Z);Z+=4;var C=z.slice(Z,Z+4);
Z+=4;if(F!=2)j.pop()}}else if(p==8){var K={},T=new iW(0,0,d.r,d.$);bi.Bj(z,K,8,!1);var z=d.Wc=K.slices.v;
for(var n=0;n<z.length;n++){var D=A.Jp.qa(z,n),N=new iW(D[0],D[1],D[2]-D[0],D[3]-D[1]);if(z[n].v.origin.v.ESliceOrigin!="userGenerated"||N.hL(T).HP()){z.splice(n,1);
n--}}}}if(d._t.r1058){var G=d._t.r1058,s=UTIF.decode(G.buffer,{parseMN:!1,debug:!1});gr.L6(s[0],d.VN);
delete d._t.r1058}if(d._t.r1060){var Q=B.I$(d._t.r1060);gr.VX(Q,d.VN);delete d._t.r1060}if(d._t.r1065){var X=d._t.r1065;
d.cc={};bi.Bj(X,d.cc,4,!1)}if(d._t.r1069){var X=d._t.r1069,q=[];for(var n=2;n<X.length;n+=4){var i=B.BT(X,n);
for(var R=0;R<d.U.length;R++){var g=d.U[R];if(g.add.lyid==i&&g.add.lsct!=3&&q.indexOf(R)==-1)q.push(R)}}d.l=q}if(d._t.r1072){var X=d._t.r1072;
for(var n=0;n<X.length;n++){var g=d.U[n];if(g)g.mv=X[n]==1}delete d._t.r1072}if(d._t.r1073){var X=d._t.r1073,Z=0,m=B.vW(X,Z);
Z+=4;var E=B.vW(X,Z);Z+=4;for(var n=0;n<E;n++){d.Aw.push({y:m>=2?B._1(X,Z+2):B.zv(X,Z+2),x:m>=2?B._1(X,Z+6):B.zv(X,Z+6)});
Z+=14}delete d._t.r1073}if(d._t.r1074){d.ZR={};bi.Bj(d._t.r1074,d.ZR,4,!1);delete d._t.r1074}var e,w,ke=null;
if(d._t.r3000){e={};bi.Bj(d._t.r3000,e,4,!1);delete d._t.r3000}if(d.add.pths){w=d.add.pths;delete d.add.pths}for(var M=0;
M<=997;M++){var P="r"+(2e3+M),v=d._t[P];if(v==null)break;var t=g4.Cg(v,0,v.length,d.r,d.$),I="Path "+M,k=[0,0];
if(w){var o=w.pathList.v[M].v,af=o.pathSymmetryClass;if(af){af=af.v;var J=af.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),L=af.pathSymmetryCount;
k=[f.yB.awO.indexOf(J),L?L.v:0]}I=o.pathUnicodeName.v}var at=e?e.keyRootDescriptorList.v[M].v.keyDescriptorList.v:jn.bB(t),h=new jn.rz;
h.D=t;d.S5.push(hc.$$(I,{vmsk:h,vogk:at},k));delete d._t[P]}if(w){var c_=w.pathSymmetrySelectedPath;
if(c_)ke=d.S5[c_.v+1]}for(var n=0;n<d.S5.length;n++)if(d.S5[n]._$[0]==3){d.S5.splice(n,1);n--}if(ke){if(ke._$[0]==3)d.Dw=!0;
else d.v1=d.S5.indexOf(ke)}if(d._t.r4000){d.uB=f.uB.lS(d._t.r4000)}var ag=d._t.r7000,dz=d._t.r7001;if(ag){var Y=B.I$(ag);
d.a1=e4.aHb(Y)}if(dz){var Y=B.I$(dz);d.YD=e4.a2u(Y)}delete d._t.r7000;delete d._t.r7001};d7.a9V=function(d,v,t){d._t.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
B.arQ(d._t.r1005,0,d.u3);B.arQ(d._t.r1005,8,d.u3);if(d.Aw.length>0){var h=d.Aw;d._t.r1073=new Uint8Array(8+h.length*14);
B.By(d._t.r1073,0,3);B.By(d._t.r1073,4,h.length);for(var n=0;n<h.length;n++){var X=8+14*n;B.EE(d._t.r1073,X,14);
B.Wv(d._t.r1073,X+2,h[n].y);B.Wv(d._t.r1073,X+6,h[n].x);B.EE(d._t.r1073,X+10,-1);B.EE(d._t.r1073,X+12,8)}}if(d.PW()){d._t.r1022=new Uint8Array([0,3+d.gM.length-1,0])}else delete d._t.r1022;
var g=new Uint8Array(d.U.length*2),x=0,Z=new Uint8Array(d.U.length),Y=1,X=16;for(var n=0;n<d.U.length;
n++){var a=d.U[n],z=a.aT,p=a.mv?1:0;B.PT(g,n*2,z);Z[n]=p;if(z>x)x=z;if(p==0)Y=0}if(x>0)d._t.r1026=g;
if(Y<1)d._t.r1072=Z;var U=d.MQ,l=U.length,L=d._t.r1032=new Uint8Array(16+5*l);B.NI(L,0,1);B.NI(L,4,576);
B.NI(L,8,576);B.NI(L,12,l);for(var n=0;n<l;n++){B.By(L,X,Math.round(U[n][1]*32));L[X+4]=U[n][0];X+=5}if(v[4]!=!0){var j=[d.jP(),new iW(0,0,d.r,d.$)],O=0;
f.vD(j);while(j[O+1].k()>200*200)O+=2;var F=b3.bV("jpg"),i=j[O+1],$=new Uint8Array(F.V$([[j[O].buffer,null,d.u3]],i.r,i.$)),L=d._t.r1036=new Uint8Array(28+$.length);
B.NI(L,0,1);B.NI(L,4,i.r);B.NI(L,8,i.$);B.NI(L,12,i.r*3);B.NI(L,16,i.k()*3);B.NI(L,20,$.length);B.PT(L,24,24);
B.PT(L,26,1);L.set($,28)}delete d._t.r1045;delete d._t.r1006;delete d._t.r1077;var H=new fe;X=0;var b=new Uint8Array(4+t.length*13);
b[3]=1;for(var n=0;n<t.length;n++){var r=t[n],W=r.name+"\0";B.PD(H,X,W);X+=4+W.length*2;var V=4+n*13;
aC.cZ(b,V,r.EJ);b[V+11]=r.TF;b[V+12]=r.tJ}if(X!=0)d._t.r1045=H.data.slice(0,X);d._t.r1077=b;for(var n=0;
n<d.Wc.length;n++)d.Wc[d.Wc.length-n-1].v.sliceID.v=2+n*3;var y={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:d.Wc}},H=new fe;
B.um(H,0,8);B.um(H,4,16);var c=bi.ct(H,y,8);d._t.r1050=H.data.slice(0,c+8);var H=new fe;B.um(H,0,16);
var c=bi.ct(H,d.cc,4);d._t.r1065=H.data.slice(0,c+4);if(d.ZR){var H=new fe;B.um(H,0,16);var c=bi.ct(H,d.ZR,4);
d._t.r1074=H.data.slice(0,c+4)}var S=d.l;L=d._t.r1069=new Uint8Array(2+S.length*4);B.PT(L,0,S.length);
for(var n=0;n<S.length;n++)B.NI(L,2+4*n,d.U[S[n]].add.lyid);delete d._t.r1058;delete d._t.r1060;if(Object.keys(d.VN).length!=0){var C=[[Math.round(d.u3*1e4),1e4]],K=[{t274:[1],t282:C,t283:C,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
gr.Kc(d.VN,K[0],v[0]&&v[1]);d._t.r1058=new Uint8Array(UTIF.encode(K));var T=gr.Ve(d.VN);d._t.r1060=B.j9(T)}var D=[],N=[],G=d.S5.slice(0);
if(d.Dw){var s=g4.ake([{type:6},{type:8,all:0},{type:3,length:5,boolop:1,frule:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),Q=new jn.rz;
Q.D=s;G.push(hc.$$("Tile Symmetry 1",{vmsk:Q,vogk:jn.bB(s)},[3,1]))}var q=d.Dw?d.S5.length-1:d.v1-1;
for(var n=0;n<G.length;n++){var R=G[n],s=R.add.vmsk.D;if(n==0&&s.length==2)continue;var m=f.m(s.length*26);
g4.Aa(m,0,s,d.r,d.$);var E=n==0?1025:2e3+n-1;d._t["r"+E]=m;if(n!=0){var e={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:R.name}},w=e.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+f.yB.awO[R._$[0]]}}}};
if(R._$[1]!=0)w.v.pathSymmetryCount={t:"long",v:R._$[1]};D.push({t:"Objc",v:e});N.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:R.add.vogk}}})}}if(D.length!=0){d.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:D}};
if(q!=-1)d.add.pths.pathSymmetrySelectedPath={t:"long",v:q};N={classID:"null",keyRootDescriptorList:{t:"VlLs",v:N}};
var H=new fe;B.um(H,0,16);var c=bi.ct(H,N,4);d._t.r3000=H.data.slice(0,c+4)}else{delete d.add.pths;delete d._t.r3000}if(d.uB&&d.uB.length!=0){d._t.r4000=f.uB.Al(d.uB)}if(d.a1.length!=0){var M="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var n=0;n<d.a1.length;n++){var P=d.a1[n],I=[];for(var E in P)I.push(E+"=\""+P[E]+"\"");M+="<variable "+I.join(" ")+">\n</variable>\n"}M+="</variables>\n</variableSet>\n</variableSets>";
d._t.r7000=B.j9(M)}if(d.YD.length!=0){var M="<sampleDataSets psdPath=\""+d.name+"\">\n";for(var n=1;
n<d.YD.length;n++){var k=d.YD[n];M+="<sampleDataSet dataSetName=\"Data Set "+n+"\">\n";for(var o=0;o<k.length;
o++)M+="<"+d.YD[0][o]+">"+k[o].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+d.YD[0][o]+">\n";M+="</sampleDataSet>\n"}M+="</sampleDataSets>";
d._t.r7001=B.j9(M)}};d7.alV=function(d,v,t){var h=B.BT(v,t),X=0;t+=4;var g=[];while(X<h){var x=B.o3(v,t+X,4);
X+=4;var Z=B.ZT(v,t+X);X+=2;var Y=B.pN(v,t+X);X+=Y.length;if(x=="MeSa"&&(Z==7e3||Z==7001)){}else if(x!="8BIM"){g.push(Z);
console.log("Unknown Image Resources signature: "+x+", ID: "+Z)}var a=B.BT(v,t+X);X+=4;if(d._t["r"+Z]!=null)console.log("--- two resources with same ID");
d._t["r"+Z]=B.mn(v,t+X,a);X+=a+(a&1)}for(var n=0;n<g.length;n++)delete d._t["r"+g[n]];delete d._t.r1092;
return t+h};d7.aEO=function(d,v,t){var h=t,x=0;t+=4;var X=[];for(var g in d._t){X.push(parseInt(g.slice(1)))}X.sort(function(p,U){return p-U});
for(var n=0;n<X.length;n++){var Z=X[n];B.Er(v,t+x,Z==7e3||Z==7001?"MeSa":"8BIM");x+=4;B.mk(v,t+x,Z);
x+=2;var Y=B.gw(v,t+x,"");x+=Y;var a=d._t["r"+Z],z=a.length;B.um(v,t+x,z);x+=4;B.RP(v,t+x,a);x+=z;if(z%2==1)x++}B.um(v,h,x);
return t+x};function e4(){}e4.GZ=function(d,v,t){return;var h="",X=v;while(X!=0){var g=X%1e3+"";while(g.length<3)g="0"+g;
h=(h==""?g:g+" ")+h;X=Math.floor(X/1e3)}while(h.startsWith("0")&&h!="0")h=h.slice(1);while(h.length<11)h=" "+h;
console.log("===",h,"\t".repeat(d),": "+t)};e4.awM=function(d){var v={_t:{},add:{},depth:8},h=0,X=0,Z;
v.na=!1;v.z1=8;var t=new Uint8Array(d);X=e4.J6(v,t,h);h=X;X=e4.aJd(v,t,h);h=X;var g=B.BT(t,h);h+=4+g;
var x=v.na?8:4;if(v.na)Z=B.yJ(t,h);else Z=B.BT(t,h);h+=x+Z;X=e4.aNy(v,t,h);return[{_S:new iW(0,0,v.r,v.$),data:v.buffer.buffer}]};
e4.lS=function(d,v){v.na=!1;var t=new Uint8Array(d),h=0,X=0,Z=0,U=!1,l=!0,L=!1,j=0,bR=0;X=e4.J6(v,t,h);
e4.GZ(0,X-h,"PSD Header");h=X;X=e4.aJd(v,t,h);e4.GZ(0,X-h,"Color Mode Data");h=X;X=d7.alV(v,t,h);e4.GZ(0,X-h,"Image Resources");
h=X;var g=h;X=e4.arS(v,t,h);e4.GZ(0,X-h,"Layer And Mask Info");h=X;d7.ajG(v);var g=h;X=e4.aNy(v,t,h);
e4.GZ(0,X-h,"Merged Image");h=X;delete v.na;if(v.U.length==0){var x=v.vv();x.qv("Background");v.U.push(x);
x.buffer=v.buffer.slice(0);x.S=new iW(0,0,v.r,v.$)}for(var n=0;n<v.U.length;n++){var X=v.U[n],Y=X.add.lsct;
if(Y==f$.Xr)Z++;else if(Y==f$.fG||Y==f$.wM)Z--}while(Z<0){v.U.unshift(v.Rw());Z++}var a=new iW(0,0,v.r,v.$),z=v.add.Txt2,p=z;
if(p){p=p.Wk;if(p._DocumentResources==null)p=f6.aw9(p)}var O=-1;for(var n=0;n<v.U.length;n++){var X=v.U[n],F=X.add.lsct,i=X.add.vmsk,$=X._B();
if(F==f$.Xr){j++;X.add.lspf=0}else if(F==f$.fG||F==f$.wM)j--;if(X.name==""){X.name="Layer "+(n+1);L=!0}if(L&&X.h5()&&X.uF=="norm")X.uF="pass";
if(X.l4()&&X.Ip(v)==null)delete X.add.SoLd;if(X.l4()&&X.Ip(v).AU){var H=X.Ip(v);H.AU.isEnabled=X.add.SoLd.filterFX.v.filterMaskEnable.v}if(i&&X.c5()){var b=kV.UY.yu(!0);
if(X.add.vstk==null)X.add.vstk=f.v(b);else{var r="strokeStyleLineDashSet";if(X.add.vstk[r]==null)X.add.vstk[r]=f.v(b[r])}X.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
X.add.vstk.strokeStyleResolution.v=v.u3}if(i&&(X.add.vogk==null||f.t.HR(i.D)!=X.add.vogk.length))X.bB();
if(i&&X.add.vogk){var W=i.D,V=X.add.vogk,y=0;for(var c=0;c<W.length;c++){var S=W[c];if(S.e==0||S.e==3)if(S.qG!=-1){if(W[c+1+S.length]&&W[c+1+S.length].qG==-1&&V[y].v.keyOriginType){X.bB();
break}y++}}}if(!1){var C=X.add.vogk,K=!0;for(var y=0;y<C.length;y++){var T=C[y].v.keyShapeInvalidated;
if(T==null||T.v==!1)K=!1}if(K)X.bB()}if(X.add.SoLd&&X.S.HP()){console.log("redrawing smart instance");
X.Lc(v,null,null,!0,!0)}if($==null&&X.AU!=null){if(X.AU.Ku==!1){X.AU.Ku=!0;X._k=X.AU.b()}}$=X._B();if(X.eX){var b=X.eX,D=i;
if($){$.wb=b[0];$.mO=b[1]}if(D){D.wb=b[2];D.mO=b[3]}X.eX=null}if($!=null&&i!=null&&($.mO+i.mO!=0||$.wb+i.wb!=2*255))X.tG(v);
else if(i!=null&&!X.c5())X.tG(v);else if($&&$.wb!=255&&X.c5())X.tG(v);var N=X.add.artb;if(N&&N.artboardBackgroundType==null)N.artboardBackgroundType={t:"long",v:1};
if(N&&j!=0)delete X.add.artb;var G=X.add.vstk;if(X.c5()&&(X.S.HP()||i&&i.mO!=0||G&&!G.fillEnabled.v&&(!G.strokeEnabled.v||G.strokeStyleLineWidth.v.val==0)))X.H1(v);
if(X.add.TySh){U=!0;if(!X.S.HP())l=!1}if(X.add.TySh&&p){O++;var s=X.add.TySh.Oo,Q=jM.pg(s),q=p._DocumentObjects._TextObjects;
if(q.length<=O){console.log("Txt2 incomplete");continue}var R=q[O]._Model,m=R._StyleRun?R._StyleRun._RunArray:[],E=s.EngineDict.StyleRun.RunArray;
for(var e=0;e<E.length;e++){var w=E[e].StyleSheet.StyleSheetData;if(m[e]==null)continue;var M=m[e]._RunData._StyleSheet._Features;
if(M){if(M._BaselineDirection)w.BaselineDirection=parseInt(M._BaselineDirection.slice(1));if(M._FillBackgroundFlag)w._FillBackgroundFlag=M._FillBackgroundFlag;
if(M._FillBackgroundColor)w._FillBackgroundColor={Type:1,Values:dq.zd(M._FillBackgroundColor._Color._Values)};
var Y=jM.N_;for(var P=0;P<Y.length;P++)if(M[Y[P]]!=null)w[Y[P]]=M[Y[P]];var I=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset","_DigitSet"];
for(var P=0;P<I.length;P++)if(M[I[P]]!=null)w[I[P]]=parseFloat(M[I[P]].slice(1));if(M._MiterLimit!=null)w._MiterLimit=Math.max(w._MiterLimit,1);
if(M._LineDashArray!=null)w._LineDashArray=dq.zd(M._LineDashArray)}}var k=s.EngineDict.ParagraphRun.RunArray,o=R._ParagraphRun._RunArray;
if(o==null)o=[];var af=Math.min(o.length,k.length);for(var P=0;P<af;P++){var J=k[P].ParagraphSheet.Properties,at=p._DocumentResources._ParagraphSheetSet._Resources,ke=o[P]._RunData._ParagraphSheet;
if(typeof ke=="string")ke=at[parseInt(ke.slice(1))]._Resource;var c_=ke._Parent==null?ke:at[parseInt(ke._Parent.slice(1))]._Resource;
ke=ke._Features;c_=c_._Features;var ag=ke._ParagraphDirection;if(ag==null)ag=c_._ParagraphDirection;
if(ag)J._Direction=parseInt(ag.slice(1));if(ke._ComposerEngine)J._ComposerEngine=parseInt(ke._ComposerEngine.slice(1))}if(R._AlternateGlyphRun){var o=R._AlternateGlyphRun._RunArray,af=o.length,dz=s.EngineDict.AlternateGlyphRun=jM.aOk();
for(var P=0;P<af;P++){var ke=o[P],kL={},aq=ke._RunData._AlternateGlyphSheet;if(aq)kL.Glyph=parseInt(aq._Glyph.slice(1));
dz.RunArray.push(kL);dz.RunLengthArray.push(parseInt(ke._Length.slice(1)))}}var dh=p._DocumentResources,gK=dh._FontSet._Resources,ad=s.ResourceDict.FontSet;
for(var dc=0;dc<ad.length;dc++){var lq=ad[dc],hn=null;for(var P=0;P<gK.length;P++){var dF=gK[P]._Resource._Identifier;
if(lq.Name==dF._Name.slice(1))hn=dF}if(hn){var c3=hn._MMAxis;if(c3){lq.Axis=[];for(var P=0;P<c3.length;
P++)lq.Axis.push(parseInt(c3[P].slice(1)))}}}var i8=dh._TextFrameSet._Resources,dr=i8[O]._Resource,jO=dr._Data,d1=new gi(1,0,0,1,0,0);
if(dr._0){var h3=parseFloat(dr._0[0].slice(1)),d5=parseFloat(dr._0[1].slice(1));d1.translate(h3,d5)}if(Q){d1.translate(Q[0],Q[1]);
jM.eg(s,[0,0,Q[2]-Q[0],Q[3]-Q[1]])}else{if(dr._Bezier&&dr._Bezier._Points){var em=dr._Bezier._Points,h3=parseFloat(em[0].slice(1)),d5=parseFloat(em[1].slice(1));
if(h3!=0||d5!=0){d1.translate(h3,d5)}}}if(dr._Data&&dr._Data._FrameMatrix){var fl=dr._Data._FrameMatrix;
fl=fl.map(function(am){return parseFloat(am.slice(1))});d1.concat(new gi(fl[0],fl[1],fl[2],fl[3],fl[4],fl[5]))}d1.concat(X.add.TySh.M);
X.add.TySh.M=d1;var lA=jO._Type?parseInt(jO._Type.slice(1)):0;if(lA==2||lA==1&&jO._PathData&&jO._PathData._Spacing=="i-3")if(dr._Bezier){var av=function(am){return parseFloat(am.slice(1))},em=dr._Bezier._Points.map(av);
if(Q)f.Q.M(em,new gi(1,0,0,1,-Q[0],-Q[1]),em);var ah=jO._PathData?jO._PathData._Reversed:!1,gE=jO._TextOnPathTRange;
if(gE==null)gE=["f-3","f-3"];s.Curve={Points:em,TextOnPathTRange:gE.map(av),Reversed:ah==null?!1:ah};
X.add.TySh.add={vmsk:new jn.rz,vogk:null};jM.ii(X.add.TySh)}if(jO._LineOrientation=="i2")s._LineOrientation=2}}A.Qi.Sf(v,!0);
var fj={},bD=[];for(var n=0;n<v.U.length;n++){var e1=v.U[n].add.lyid;if(e1==null)continue;var bR=Math.max(bR,e1);
if(fj[e1]!=null)bD.push(n);else fj[e1]=!0}for(var n=0;n<bD.length;n++)v.U[bD[n]].add.lyid=bR+1+n};e4.a6a=function(d,v){v+=12;
var t=B.BT(d,v),h=[];v+=4;t=Math.min(t,Math.floor((d.length-v)/5));for(var n=0;n<t;n++){var X=Math.min(d[v+n*5+4],1),g=B.vW(d,v+n*5)/32;
h.push([X,g])}return h};e4.aHb=function(d){var v=new DOMParser,t=v.parseFromString(d,"text/xml").firstChild.children[0],h=t.getElementsByTagName("variables");
if(h.length==0)return[];h=h[0].children;var X=[],g="varName trait docRef placementMethod align valign clip".split(" ");
for(var x=0;x<h.length;x++){var Z=h[x],Y={};X.push(Y);for(var a=0;a<g.length;a++){var z=g[a],p=Z.getAttribute(z);
if(p==null)continue;Y[z]=p}}return X};e4.a2u=function(d){var v=new DOMParser,t=v.parseFromString(d,"text/xml").firstChild.children,h=[[]];
if(t==null)return h;for(var n=0;n<t.length;n++){var X=t[n],g=[];h.push(g);for(var x=0;x<X.children.length;
x++){var Z=X.children[x];if(n==0)h[0].push(Z.tagName);g.push(Z.textContent)}}return h};e4.Al=function(d,v,t){A.Qi.qr(d);
A.Qi.Sf(d,!1);d.na=t[3]==!0;var h=[],X=[],j=0;for(var n=0;n<d.U.length;n++){var g=d.U[n];if(g.l4()&&g.Ip(d).AU){g.add.SoLd.filterFX.v.filterMaskEnable.v=g.Ip(d).AU.isEnabled}if(g.add.TySh){var x=g.add.TySh.Oo,Z=jM.YX(x);
g.add.TySh.s1.TextIndex={t:"long",v:h.length};h.push(x);if(Z==2)jM.hY(g.add.TySh)}var Y=g.add.vstk;if(Y)Y.strokeStyleResolution.v=d.u3;
if(g.c5()||t[2]&&g.add.SoLd){X[n]=[g.S,g.buffer];g.S=new iW;g.buffer=f.m(0);if(g.add.SoLd){var a=g.Ip(d);
if(a!=null){X[n].push(a.buffer);a.buffer=f.m(a.buffer.length)}}}}if(h.length>0){var z=d.add.Txt2?d.add.Txt2.Wk:null;
if(d.add.Txt2==null)d.add.Txt2={};d.add.Txt2.Wk=dq.a09(h,null,z)}var p=[d.add.lnk2,d.add.FEid,d.add.Patt],U=d.aLv(d.U);
d.aOa(U);var l=f.jF(d.buffer);if(d.add.fcmy)l=!1;var L=[];if(l)L.push({name:"Transparency",EJ:{C:255,L:0,X:0},TF:100,tJ:1});
L=L.concat(d.gM);d7.a9V(d,t,L);j=e4.Eb(d,v,j,3+L.length);j=e4.axz(d,v,j);j=d7.aEO(d,v,j);j=e4.atJ(d,v,j,t,l);
j=e4.aD4(d,v,j,t[0],l);var O=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var n=0;n<O.length;n++)delete d._t["r"+O[n]];for(var n=0;n<d.U.length;n++){var g=d.U[n];if(g.c5()||t[2]&&g.add.SoLd){g.S=X[n][0];
g.buffer=X[n][1];if(X[n][2]){var a=g.Ip(d);X[n].push(a.buffer);a.buffer=X[n][2]}}}d.aOa(p);A.Qi.Sf(d,!0);
delete d.na;return j};e4.J6=function(d,v,t){var h=B.o3(v,t,4);t+=4;if(h!="8BPS")alert("invalid header signature: "+h);
var X=B.ZT(v,t);t+=2;d.na=X==2;if(X!=1&&X!=2)alert("invalid version: "+X);t+=6;d.ES=B.ZT(v,t);t+=2;d.$=B.vW(v,t);
t+=4;d.r=B.vW(v,t);t+=4;d.z1=B.ZT(v,t);if(bI)d.depth=d.z1;t+=2;d.Va=B.ZT(v,t);t+=2;return t};e4.Eb=function(d,v,t,h){var X=d.add.fcmy==1;
v.fK(0,64);B.js(v.data,t,"8BPS");t+=4;B.PT(v.data,t,d.na?2:1);t+=2;B.NI(v.data,t,0);t+=4;B.PT(v.data,t,0);
t+=2;B.PT(v.data,t,h+(X?1:0));t+=2;B.By(v.data,t,d.$);t+=4;B.By(v.data,t,d.r);t+=4;B.PT(v.data,t,d.depth);
t+=2;B.PT(v.data,t,X?4:3);t+=2;return t};e4.aJd=function(d,v,t){var h=B.vW(v,t);t+=4;if(h!=0)d.ko=v.slice(t,t+h);
t+=h;return t};e4.axz=function(d,v,t){if(d.depth==32){var h=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
B.Pb(v,t,h.length);t+=4;v.fK(t,h.length);v.data.set(h,t);t+=h.length}else{B.Pb(v,t,0);t+=4}return t};
e4.arS=function(d,v,t){var h=t,X,g,x=d.na?8:4;if(d.na)X=B.yJ(v,t);else X=B.BT(v,t);t+=x;if(X==0)return h+x;
g=e4.abL(d,v,t);e4.GZ(1,g-t,"Layer Info");t=g;g=e4.asv(d,v,t);e4.GZ(1,g-t,"Global Layer Mask Info");
t=g;g=kY.Bn(v,t,h+x+X,d.add,d.na,d);e4.GZ(1,g-t,"Project Add Info");t=g;return h+x+X};e4.atJ=function(d,v,t,h,X){var g=t;
B.um(v,t,0);t+=4;if(d.na){B.um(v,t,0);t+=4}t=e4.aj6(d,v,t,h,X);t=e4.azt(d,v,t);var x=d.add;if(d.depth!=8){x={};
x["Lr"+d.depth]={};for(var Z in d.add)x[Z]=d.add[Z]}t=kY.Gl(v,t,x,d.na,d);if(d.na)B.Bt(v,g,t-g-8);else B.um(v,g,t-g-4);
return t};e4.abL=function(d,v,t){var h,X=d.na?8:4;if(d.na)h=B.yJ(v,t);else h=B.BT(v,t);t+=X;if(h!=0)e4.pj(d,v,t);
return t+h};e4.pj=function(d,v,t,h){var X=t,g=h?B.cY:B.Mu,x=g(v,t);t+=2;var Z=Math.abs(x);for(var n=0;
n<Z;n++){var Y=new jn;t=hr.lS(Y,d,v,t,h);d.U[n]=Y}var a=new iW(0,0,d.r,d.$);for(var n=0;n<Z;n++){var z=d.U[n],p=z._B(),U=dM.lS(z,d,v,t,h);
if(U-t>8)e4.GZ(2,U-t,"Lay: "+z.getName());t=U;e4.a9$(z,a);if(p)e4.a9$(p,a)}};e4.a9$=function(d,v){};
e4.aj6=function(d,v,t,h,X){var g=t,x=d.na;t+=x?8:4;if(d.depth==8)t=e4.awX(d,v,t,h,X);var Z=t-g-(x?8:4);
if(Z%2!=0)Z++;if(x)B.Bt(v,g,Z);else B.um(v,g,Z);return g+Z+(x?8:4)};e4.awX=function(d,v,t,h,X){var g=d.U.length;
B.FS(v,t,X?-g:g);t+=2;var x=[];for(var n=0;n<g;n++)t=hr.Al(d.U[n],d,v,t,x);for(var n=0;n<g;n++)t=dM.IT(d.na,d.U[n],v,t,x[n],h,d.add.fcmy==1);
return t};e4.asv=function(d,v,t){var h=B.BT(v,t);t+=4;t+=h;return t};e4.azt=function(d,v,t){var h=B.um(v,t,0);
t+=4;return t};e4.aNy=function(d,v,t){var h=d.Va,X="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),g=[1,1,1,3,4,1,1,3],p;
delete d.add.fcmy;if(h!=3){if(h==1||h==2||h==4)console.log("Project will be converted from "+X[h]+" to "+X[3]+" mode.");
else{alert("Color mode "+X[h]+" is not supported yet :(")}if(h==4)d.add.fcmy=1}var x=g[h]+(d.ZU==null||d.ZU[0]=="Transparency"?1:0),Z=d.r,Y=d.$,a=Z*Y,z=B.ZT(v,t);
t+=2;d.buffer=f.m(a*4,d.depth);f.Xq(d.buffer,1);var U=t;for(var l=0;l<d.ES;l++){if(z==0){p=dM.Os(d.na,d.z1,v,Z,Y,t,z);
p=f.OO(p,d.depth);t+=a*(d.z1>>>3)}else if(z==1){var L=d.z1==8?1:d.z1==16?2:4;p=f.m(a*L);var j=d.na?4:2;
if(l==0)t+=d.ES*Y*j;t+=dM.aaj(v,p,Z*L,Y,U+l*Y*j,t,j);if(d.z1==16){for(var n=0;n<p.length;n+=2){var O=p[n];
p[n]=p[n+1];p[n+1]=O}p=new Uint16Array(p.buffer)}if(d.z1==32){for(var n=0;n<p.length;n+=4){var O=p[n];
p[n]=p[n+3];p[n+3]=O;O=p[n+1];p[n+1]=p[n+2];p[n+2]=O}p=new Float32Array(p.buffer)}p=f.OO(p,d.depth)}else{console.log("unknown compression of image data: ",z);
return}if(l<x){f.Gj(p,d.buffer,l);if(d.ES==1&&l==0){f.Gj(p,d.buffer,1);f.Gj(p,d.buffer,2)}}else{var F=new jn.Ks,i=l-x,$=l-g[d.Va];
F.name=d.ZU?d.ZU[$]:"Alpha";if(F.name=="Quick Mask"){F.ak=!0;d.Cv.push(i)}F.S=new iW(0,0,Z,Y);F.N=p;
F.color=0;F.s4();d.gM[i]=F;if(d._t.r1077){var H=d._t.r1077.slice(4+$*13);F.EJ=aC.bT(H,0);F.TF=H[11];
F.tJ=H[12];if(F.tJ==2)F.ak=!0}}}d.ES=4;if(d.Va==2)for(var n=0;n<a;n++){var b=n*4,r=d.buffer[b];d.buffer[b]=d.ko[0+r];
d.buffer[b+1]=d.ko[256+r];d.buffer[b+2]=d.ko[512+r]}return t};e4.aD4=function(d,v,t,h,X){var g=1,x=16,Z=d.r,Y=d.$,z,p,U;
B.mk(v,t,g);t+=2;if(d.depth!=8)h=!0;var a=Z*Y;if(!h){p=new f.lh(Z*Y);f.xI(d.buffer,p);var l=p.C,L=p.L,j=p.X,O=p.aX;
for(var n=0;n<a;n++){var F=O[n]*(1/255);l[n]=~~(l[n]*F+255*(1-F));L[n]=~~(L[n]*F+255*(1-F));j[n]=~~(j[n]*F+255*(1-F))}U=[p.C,p.L,p.X];
if(d.add.fcmy==1){U.push(f.m(a));var i=d.buffer.slice(0);f.ae9(i);f.xI(i,{C:U[0],L:U[1],X:U[2],aX:U[3]})}if(X)U.push(p.aX)}else{z=f.m(a,d.depth);
if(d.depth==16)z.fill(65535);U=[z,z,z];if(d.add.fcmy==1)U.push(z);if(X)U.push(z)}for(var n=0;n<d.gM.length;
n++){U.push(d.gM[n].NN(new iW(0,0,d.r,d.$)))}var $=t;for(var H=0;H<U.length;H++){v.fK(t,Z*Y+4);z=U[H];
if(g==0||g==2||g==3)t=dM.u1(d.na,z,v.data,Z,Y,t,g);else{var b=new Uint8Array(z.buffer),r=Z*(d.depth>>>3),W=d.na?4:2;
if(H==0)t+=U.length*Y*W;var V=t;t+=dM.akg(b,v.data,r,Y,$+H*Y*W,t,W)}}return t};function b1(){}b1.lS=function(d){var v={};
b1.kO(d,v,0,0);return v};b1.Al=function(d,v){var t=0;t=b1.T7(d,v,t,0);return t};b1.kO=function(d,v,t,h){while(d[t]!="<".charCodeAt(0))t++;
t+=2;while(!0){if(d[t]=="/".charCodeAt(0)){t++;var X=B.indexOf(d," ".charCodeAt(0),t,t+50),g=B.indexOf(d,"\n".charCodeAt(0),t,t+50);
if(g==-1)g=Infinity;if(X==-1)X=Infinity;var x=Math.min(g,X),Z=B.o3(d,t,x-t),Y=b1.RQ(d,x+1,h+1,Z);v[Z]=Y.K;
t=x+1;t+=Y.size}else if(d[t]==">".charCodeAt(0)){t+=2;break}else{var a=d[t];if(a==10||a==9||a==32)t++;
else{console.log("unknown byte: "+a+", char: "+String.fromCharCode(a),t);t++}}}return t};b1.T7=function(d,v,t,h){B.Er(v,t,"<<\n");
t+=3;var X=b1.apc;for(var g in d){B.wu(v,t,"\t".charCodeAt(0),h+1);t+=h+1;B.Er(v,t,"/"+g);t+=1+g.length;
if(X(d[g])||d[g]instanceof Array){B.Er(v,t," ");t++}else{B.Er(v,t,"\n");t++;B.wu(v,t,"\t".charCodeAt(0),h+1);
t+=h+1}t=b1.fO(d[g],v,t,h+1);B.Er(v,t,"\n");t++}B.wu(v,t,"\t".charCodeAt(0),h);t+=h;B.Er(v,t,">>");t+=2;
return t};b1.RQ=function(d,v,t,h){var X=v,g={size:0,K:0};while(!0){while(d[v]==" ".charCodeAt(0)||d[v]=="\t".charCodeAt(0)||d[v]=="\n".charCodeAt(0))v++;
if(d[v]=="<".charCodeAt(0)){g.K={};v=b1.kO(d,g.K,v,t+1);break}else if(d[v]=="(".charCodeAt(0)){v+=3;
var x=v;while(!0){if(d[x-1]!="\\".charCodeAt(0)&&d[x]==")".charCodeAt(0)&&(d[x+1]=="\n".charCodeAt(0)||d[x+1]==" ".charCodeAt(0)))break;
else x++}g.K=B.a3T(d,v,x);v=x+2;break}else if(d[v]=="[".charCodeAt(0)){v++;g.K=[];while(d[v]==" ".charCodeAt(0)||d[v]=="\t".charCodeAt(0)||d[v]=="\n".charCodeAt(0))v++;
while(d[v]!="]".charCodeAt(0)){var Z=b1.RQ(d,v,t+1,h);g.K.push(Z.K);v+=Z.size;while(d[v]==" ".charCodeAt(0)||d[v]=="\t".charCodeAt(0)||d[v]=="\n".charCodeAt(0))v++}v++;
break}else{var Y=B.indexOf(d," ".charCodeAt(0),v,v+50),a=B.indexOf(d,"\n".charCodeAt(0),v,v+50);if(a==-1)a=Infinity;
if(Y==-1)Y=Infinity;var z=B.o3(d,v,Math.min(Y,a)-v).trim(),p=parseFloat(z);if(!isNaN(p)){g.K=parseFloat(z);
v=Math.min(Y,a)+1;break}else if(z=="true"||z=="false"){g.K=z=="true";v=Math.min(Y,a)+1;break}else if(z=="null"||z=="NaN"||z=="undefined"){g.K=0;
v=Math.min(Y,a)+1;break}else{console.log("unknown identifier: "+z);throw"e"}v=Math.min(Y,a)+1}}g.size=v-X;
return g};b1.fO=function(d,v,t,h){if(d instanceof Array){var X=d.length==0||typeof d[0]=="number";if(X){B.Er(v,t,"[ ");
t+=2;for(var n=0;n<d.length;n++){var g=d[n]+" ";B.Er(v,t,g);t+=g.length}B.Er(v,t,"]");t+=1}else{B.Er(v,t,"[\n");
t+=2;for(var n=0;n<d.length;n++){B.wu(v,t,"\t".charCodeAt(0),h);t+=h;t=b1.fO(d[n],v,t,h);B.Er(v,t,"\n");
t++}B.wu(v,t,"\t".charCodeAt(0),h);t+=h;B.Er(v,t,"]");t+=1}}else if(d instanceof Object){t=b1.T7(d,v,t,h)}else if(typeof d=="string"){B.Er(v,t,"(");
t++;B.wu(v,t,254);t++;B.wu(v,t,255);t++;t=B.aIu(v,t,d);B.Er(v,t,")");t+=1}else{var g=d+"";B.Er(v,t,g);
t+=g.length}return t};b1.apc=function(d){var v=typeof d;return v=="string"||v=="number"||v=="boolean"};
function hD(){}hD.lS=function(d){var v={};hD.aol(d,v,0,0);return v};hD.Al=function(d,v){var t=0;B.Er(v,t," ");
t++;t=hD.aHG(d,v,t,0);t--;v.fK(t,2);v.data[t]=v.data[t+1]=0;t+=2;return t};hD.kO=function(d,v,t,h){while(d[t]!="<".charCodeAt(0)){t++;
console.log("šipka")}t+=2;t=hD.aol(d,v,t,h);return t};hD.T7=function(d,v,t,h){B.Er(v,t,"<< ");t+=3;t=hD.aHG(d,v,t,h);
B.Er(v,t,">>");t+=2;return t};hD.t8=function(d){return d==9||d==10||d==32};hD.aol=function(d,v,t,h){while(!0){while(hD.t8(d[t])||d[t]==0)t++;
if(t>=d.length)break;if(d[t]=="/".charCodeAt(0)){t++;var X=t;while(!hD.t8(d[X]))X++;var g=B.o3(d,t,X-t);
t=X+1;var x=hD.RQ(d,t,h,g);v["_"+g]=x.K;t+=x.size}else if(d[t]==">".charCodeAt(0)){t+=2;break}else{var Z=d[t];
console.log(B.o3(d,t,t+100));console.log("unknown byte: "+Z+", char: "+String.fromCharCode(Z)+", offset: "+t);
t++;throw"e";return-1}}return t};hD.aHG=function(d,v,t,h){for(var X in d){var g=X.substring(1,X.length);
B.Er(v,t,"/"+g);t+=1+g.length;B.Er(v,t," ");t++;t=hD.fO(d[X],v,t,h+1,g);B.Er(v,t," ");t++}return t};
hD.RQ=function(d,v,t,h){var X=v,g={e:"",size:0,K:0};while(hD.t8(d[v]))v++;if(d[v]=="<".charCodeAt(0)){g.e="Object";
g.K={};v=hD.kO(d,g.K,v,t+1)}else if(d[v]=="(".charCodeAt(0)){g.e="String";v++;if(d[v]==")".charCodeAt(0)){g.K="e";
v++}else if(d[v]==254&&d[v+1]==255){v+=2;var x=v,Z=0;while(!0){if(d[x]==")".charCodeAt(0)&&d[x-1]!="\\".charCodeAt(0))break;
else x+=1}g.K="s"+B.a3T(d,v,x);v=x+2}else{var x=v;while(d[x]!=")".charCodeAt(0))x++;g.K="s"+B.o3(d,v,x-v);
v=x+1}}else if(d[v]=="[".charCodeAt(0)){v++;g.K=[];g.e="Array";while(hD.t8(d[v]))v++;while(d[v]!="]".charCodeAt(0)){var Y=hD.RQ(d,v,t+1,h);
if(Y==-1)return-1;g.K.push(Y.K);v+=Y.size;delete Y.size;while(hD.t8(d[v]))v++}v++}else{var a=v;while(!hD.t8(d[a]))a++;
var z=B.o3(d,v,a-v),p=parseFloat(z);if(!isNaN(p)&&z.indexOf(".")!=-1){g.e="Float";var U=parseFloat(z);
g.K="f"+U}else if(!isNaN(p)&&z.indexOf(".")==-1){g.e="Integer";g.K="i"+parseInt(z)}else if(z=="true"||z=="false"){g.e="Boolean";
g.K=z=="true"}else if(z.charAt(0)=="/"){g.e="BString";g.K=z}else if(z=="NaN"||z=="undefined"){g.e="Float";
g.K="f0"}else{console.log("unknown value",JSON.stringify(z))}v=a+1}g.size=v-X;return g};hD.aMR=function(d){if(d==Math.round(d))return d+".0";
var v=d.toFixed(5);while(v.endsWith("0")&&v[v.length-2]!=".")v=v.slice(0,v.length-1);if(0<d&&d<1)v=v.slice(1);
if(-1<d&&d<0)v="-"+v.slice(2);return v};hD.fO=function(d,v,t,h,X){var g=typeof d=="string"?d.charAt(0):"";
if(d instanceof Array){B.Er(v,t,"[ ");t+=2;for(var n=0;n<d.length;n++){t=hD.fO(d[n],v,t,h,"");B.Er(v,t," ");
t++}B.Er(v,t,"]");t+=1}else if(d instanceof Object){t=hD.T7(d,v,t,h)}else if(g=="e"){B.Er(v,t,"()");
t+=2}else if(g=="s"){B.Er(v,t,"(");t++;if(X=="97"){B.Er(v,t,d.slice(1));t+=d.length-1}else{B.wu(v,t,254);
t++;B.wu(v,t,255);t++;t=B.aIu(v,t,d.slice(1))}B.Er(v,t,")");t++}else if(g=="/"){B.Er(v,t,d);t+=d.length}else if(g=="f"){var x=parseFloat(d.substring(1)),Z=hD.aMR(x);
B.Er(v,t,Z);t+=Z.length}else if(g=="i"){B.Er(v,t,d.substring(1));t+=d.length-1}else{var Z=d+"";B.Er(v,t,Z);
t+=Z.length}return t};function B(){}B.a4A=function(bW){var d="";for(var n=3;n>=0;n--)d+=String.fromCharCode(bW>>n*8&255);
return d};B.aGm=function(d){var bW=0;for(var n=d.length-1;n>=0;n--)bW|=d.charCodeAt(n)<<(3-n)*8;return bW};
B.indexOf=function(d,v,t,h){if(t==null)t=0;if(h==null)h=d.length;h=Math.min(h,d.length);for(var n=t;
n<h;n++)if(d[n]==v)return n;return-1};B.M5=function(d,v,t){if(t==null)t=0;var h=v.length,X=d.length-h;
if(typeof v=="string"){var g=[];for(var n=0;n<h;n++)g.push(v.charCodeAt(n));v=g}if(v.length>0){var x=v[0];
for(var n=t;n<X;n++)if(d[n]==x){var Z=!0;for(var Y=1;Y<h;Y++)if(v[Y]!=d[n+Y]){Z=!1;break}if(Z)return n}}return-1};
B.a3T=function(d,v,t){var h=[],g="";while(v<t){var X=d[v++];if(X=="\\".charCodeAt(0))h.push(d[v++]);
else h.push(X)}for(var n=0;n<h.length;n+=2)g+=String.fromCharCode(h[n]<<8|h[n+1]);return g};B.aAZ=function(d,v,t){var h=new Uint8Array(2);
for(var n=0;n<t.length;n++){B.PT(h,0,t.charCodeAt(n));if(h[0]==")".charCodeAt(0)||h[0]=="(".charCodeAt(0)||h[0]=="\\".charCodeAt(0)){d[v]="\\".charCodeAt(0);
v++}d[v]=h[0];v++;if(h[1]==")".charCodeAt(0)||h[1]=="(".charCodeAt(0)||h[1]=="\\".charCodeAt(0)){d[v]="\\".charCodeAt(0);
v++}d[v]=h[1];v++}return v};B.aIu=function(d,v,t){d.fK(v,4*t.length);return B.aAZ(d.data,v,t)};B.Ix=function(d,v,t){var h="";
for(var n=0;n<t;n++){var X=d[v++]|d[v++]<<8;h+=String.fromCharCode(X)}return h};B.Kl=function(d,v,t){var h="";
for(var n=0;n<t;n++){var X=d[v++]<<8|d[v++];h+=String.fromCharCode(X)}return h};B.ayU=function(d,v,t){for(var n=0;
n<t.length;n++){var h=t.charCodeAt(n);B.mr(d,v+2*n,h)}};B.a6j=function(d,v,t){for(var n=0;n<t.length;
n++){var h=t.charCodeAt(n);B.PT(d,v+2*n,h)}};B.aL4=function(d,v,t){d.fK(v,2*t.length);B.a6j(d.data,v,t)};
B.av_=function(d,n,v){var t=[],h=0,X=0;v+=n;while(n<v){h=d[n++];if((h&128)==0)X=h;else if((h&224)==192){X=(h&31)<<6;
h=d[n++];X|=h&63}else if((h&240)==224){X=(h&15)<<12;h=d[n++];X|=(h&63)<<6;h=d[n++];X|=h&63}else if((h&248)==240){X=(h&7)<<18;
h=d[n++];X|=(h&63)<<12;h=d[n++];X|=(h&63)<<6;h=d[n++];X|=h&63}else throw"e";t.push(X)}return t};B.ahd=window.TextDecoder?new window.TextDecoder("utf8"):null;
B.I$=function(d,v,t){if(v==null)v=0;if(t==null)t=d.length;if(B.ahd&&v==0&&t==d.length)return B.ahd.decode(d);
var h=B.av_(d,v,t),X=h.length;for(var n=0;n<X;n++)h[n]=String.fromCharCode(h[n]);return h.join("")};
B.aJp=window.TextEncoder?new window.TextEncoder("utf8"):null;B.j9=function(d){if(B.aJp)return B.aJp.encode(d);
var v=new Uint8Array(d.length*4),t=B.HN(d,v,0);return v.slice(0,t)};B.HN=function(d,v,t){var h=d.length,n=0;
for(var X=0;X<h;X++){var g=d.charCodeAt(X);if((g&4294967295-(1<<7)+1)==0){v[t+n]=g;n++}else if((g&4294967295-(1<<11)+1)==0){v[t+n]=192|g>>6;
v[t+n+1]=128|g>>0&63;n+=2}else if((g&4294967295-(1<<16)+1)==0){v[t+n]=224|g>>12;v[t+n+1]=128|g>>6&63;
v[t+n+2]=128|g>>0&63;n+=3}else if((g&4294967295-(1<<21)+1)==0){v[t+n]=240|g>>18;v[t+n+1]=128|g>>12&63;
v[t+n+2]=128|g>>6&63;v[t+n+3]=128|g>>0&63;n+=4}else throw"e"}return n};B.fm=function(d,v){var t=B.BT(d,v),h=B.I$(d,v+4,t-1);
return{Wx:h,Se:4+t}};B.ab$=function(d,v){var t=B.ij(d,v),h=B.Ix(d,v+4,t);return h};B.y9=function(d,v){var t=B.BT(d,v),h=B.Kl(d,v+4,t);
return h};B.QU=function(d,v){var t=B.BT(d,v),h=B.Kl(d,v+4,t-1);return h};B.xw=function(d,v){var t=B.ij(d,v),h=B.Ix(d,v+4,t-1);
return h};B.amh=function(d,v,t){B.Bk(d,v,t.length);v+=4;B.ayU(d,v,t)};B.ayC=function(d,v,t){B.NI(d,v,t.length);
v+=4;B.a6j(d,v,t)};B.PD=function(d,v,t){d.fK(v,4+2*t.length);B.ayC(d.data,v,t)};B.a5W=function(d,v,t){d.fK(v,4+2*t.length);
B.amh(d.data,v,t)};B.e5=function(d,v,t){var h=[];for(var n=0;n<t;n++)h.push(String.fromCharCode(d[v+n]));
return h};B.akS=function(d,v,t){var h=!1,X=d.length-t.length;for(var n=v;n<X;n++){for(var g=0;g<t.length;
g++){if(d[n+g]!=t.charCodeAt(g))break;if(g==t.length-1)return n}}};B.y5=function(d,v,t){var h=B.o3(d,v,4);
if(t)h=h.split("").reverse().join("");return h};B.o3=function(d,v,t){var h="";for(var n=0;n<t;n++)h+=String.fromCharCode(d[v+n]);
return h};B.js=function(d,v,t){for(var n=0;n<t.length;n++)d[v+n]=t.charCodeAt(n)};B.Er=function(d,v,t){d.fK(v,t.length);
B.js(d.data,v,t)};B.a0l=function(d,v,t){var h="";for(var n=0;n<t;n++){var X=d[v+n];if(X<10)h+="  ";else if(X<100)h+=" ";
h+=X+", "}return h};B.ZT=function(d,v){return d[v]<<8|d[v+1]};B.PT=function(d,v,bW){d[v]=bW>>8&255;d[v+1]=bW&255};
B.mk=function(d,v,bW){d.fK(v,4);B.PT(d.data,v,bW)};B.zv=function(d,v){var t=B.ZT(d,v),h=B.ZT(d,v+2);
return t+h*(1/65536)};B.arQ=function(d,v,bW){var t=Math.floor(bW),h=Math.floor((bW-t)*65536);B.PT(d,v,t);
B.PT(d,v+2,h)};B.kQ=function(d,v){return d[v+1]<<8|d[v]};B.mr=function(d,v,bW){d[v+1]=bW>>8&255;d[v]=bW&255};
B.Li=function(d,v,bW){d.fK(v,4);B.mr(d.data,v,bW)};B.Mu=function(d,v){B.hA[0]=d[v+1];B.hA[1]=d[v];return B.jv[0]};
B.cY=function(d,v){B.hA[0]=d[v];B.hA[1]=d[v+1];return B.jv[0]};B.EE=B.PT;B.FS=B.mk;B.vW=function(d,v){B.b3[0]=d[v+3];
B.b3[1]=d[v+2];B.b3[2]=d[v+1];B.b3[3]=d[v];return B.yo[0]};B.By=function(d,v,bW){B.yo[0]=bW;d[v+3]=B.b3[0];
d[v+2]=B.b3[1];d[v+1]=B.b3[2];d[v+0]=B.b3[3]};B.Pb=function(d,v,bW){d.fK(v,4);B.By(d.data,v,bW)};B.To=function(d,v,t,h){t[h+0]=d[v+0];
t[h+1]=d[v+1];t[h+2]=d[v+2];t[h+3]=d[v+3]};B.ij=function(d,v){B.To(d,v,B.b3,0);return B.aeb[0]};B.Bk=function(d,v,bW){B.aeb[0]=bW;
B.To(B.b3,0,d,v)};B._Q=function(d,v,bW){d.fK(v,4);B.Bk(d.data,v,bW)};B.ce=function(d,v){B.To(d,v,B.b3,0);
return B.yo[0]};B.a21=function(d,v,bW){B.yo[0]=bW;B.To(B.b3,0,d,v)};B.ad6=function(d,v,bW){d.fK(v,4);
B.a21(d.data,v,bW)};B.BT=function(d,v){var t=d[v]*(256*256*256)+(d[v+1]<<16|d[v+2]<<8|d[v+3]);return t};
B.NI=function(d,v,bW){d[v]=bW>>24&255;d[v+1]=bW>>16&255;d[v+2]=bW>>8&255;d[v+3]=bW>>0&255};B.um=function(d,v,bW){d.fK(v,4);
B.NI(d.data,v,bW)};B.yJ=function(d,v){return B.BT(d,v)<<32|B.BT(d,v+4)};B.aOd=function(d,v,bW){B.NI(d,v,bW>>16>>16);
B.NI(d,v+4,bW&4294967295)};B.Bt=function(d,v,bW){d.fK(v,8);B.aOd(d.data,v,bW)};B.aBY=function(d,v){return B.ij(d,v+4)|B.ij(d,v)<<32};
B.D_=function(d,v){var t=new Uint8Array(8);for(var n=0;n<8;n++)t[n]=d[v+7-n];var h=new Float64Array(t.buffer);
return h[0]};B.FD=function(d,v){var t=new Uint8Array(8);for(var n=0;n<8;n++)t[n]=d[v+n];var h=new Float64Array(t.buffer);
return h[0]};B.hO=function(d,v,bW){var t=new Float64Array(1);t[0]=bW;var h=new Uint8Array(t.buffer);
for(var n=0;n<4;n++){var X=h[n];h[n]=h[7-n];h[7-n]=X}for(var n=0;n<8;n++)d[v+n]=h[n]};B.B_=function(d,v,bW){d.fK(v,8);
B.hO(d.data,v,bW)};B._1=function(d,v){B.b3[0]=d[v+3];B.b3[1]=d[v+2];B.b3[2]=d[v+1];B.b3[3]=d[v+0];return B.D7[0]};
B.fc=function(d,v){B.b3[0]=d[v+0];B.b3[1]=d[v+1];B.b3[2]=d[v+2];B.b3[3]=d[v+3];return B.D7[0]};B.Wv=function(d,v,bW){B.D7[0]=bW;
d[v+0]=B.b3[3];d[v+1]=B.b3[2];d[v+2]=B.b3[1];d[v+3]=B.b3[0]};B.adG=function(d,v,bW){d.fK(v,4);B.Wv(d.data,v,bW)};
B.CY=function(d,v,bW){B.D7[0]=bW;d[v+0]=B.b3[0];d[v+1]=B.b3[1];d[v+2]=B.b3[2];d[v+3]=B.b3[3]};B.at9=function(d,v,bW){d.fK(v,4);
B.CY(d.data,v,bW)};B.aHC=function(d,v){var t=B.vW(d,v),h=t*(1/(1<<24));return h};B.a0L=function(d,v){var t=B.ce(d,v),h=t*(1/(1<<24));
return h};B.a0g=function(d,v,t){var h=Math.floor(t*(1<<24));B.By(d,v,h)};B.aHg=function(d,v,t){d.fK(v,4);
B.a0g(d.data,v,t)};B.pN=function(d,v){var t=d[v],h=B.o3(d,v+1,t);t+=1-t%2;return{wK:h,length:t+1}};B.a2a=function(d,v,t){var h=t.length;
d[v]=h;B.js(d,v+1,t);if(h%2==0){d[v+1+h]=0;++h}return h+1};B.gw=function(d,v,t){d.fK(v,t.length+2);return B.a2a(d.data,v,t)};
B.mp=function(d,v,t){var h=t?B.FD:B.D_,X=new gi;X.aX=h(d,v+0*8);X.X=h(d,v+1*8);X.Wp=h(d,v+2*8);X.r7=h(d,v+3*8);
X.r2=h(d,v+4*8);X.pE=h(d,v+5*8);return X};B.Xt=function(d,v,t){B.hO(d,v+0*8,t.aX);B.hO(d,v+1*8,t.X);
B.hO(d,v+2*8,t.Wp);B.hO(d,v+3*8,t.r7);B.hO(d,v+4*8,t.r2);B.hO(d,v+5*8,t.pE)};B.ajL=function(d,v,t){d.fK(v,48);
B.Xt(d.data,v,t)};B.ayY=function(d,v){var t=B._1(d,v),h=B._1(d,v+4),X=B._1(d,v+8),g=B._1(d,v+12);return new iW(t,h,X-t,g-h)};
B.a4a=function(d,v,t){B.Wv(d,v,t.x);B.Wv(d,v+4,t.y);B.Wv(d,v+8,t.x+t.r);B.Wv(d,v+12,t.y+t.$)};B.a25=function(d,v,t){d.fK(v,16);
B.a4a(d.data,v,t)};B.Lr=function(d,v,t){var h=t?B.ce:B.vW,X=h(d,v),g=h(d,v+4),x=h(d,v+8),Z=h(d,v+12);
return new iW(g,X,Z-g,x-X)};B.aFW=function(d,v,t){B.By(d,v,t.y);B.By(d,v+4,t.x);B.By(d,v+8,t.y+t.$);
B.By(d,v+12,t.x+t.r)};B.k5=function(d,v,t){d.fK(v,16);B.aFW(d.data,v,t)};B.mn=function(d,v,t){var h=new Uint8Array(t);
for(var n=0;n<t;n++)h[n]=d[v+n];return h};B.aG9=function(d,v,t){d.set(t,v)};B.RP=function(d,v,t){d.fK(v,t.length);
B.aG9(d.data,v,t)};B.adS=function(d,v,t,bW){if(!bW)bW=1;for(var n=0;n<bW;n++)d[v+n]=t};B.wu=function(d,v,t,bW){if(!bW)bW=1;
d.fK(v,bW);B.adS(d.data,v,t,bW)};B.jv=new Int16Array(1);B.hA=new Uint8Array(B.jv.buffer);B.yo=new Int32Array(1);
B.aeb=new Uint32Array(B.yo.buffer);B.b3=new Uint8Array(B.yo.buffer);B.D7=new Float32Array(B.yo.buffer);
function kI(){}kI.lS=function(d,v){var t=new Uint8Array(d),h=0,X=B.o3(t,h,9),Z=4,Y=100;h+=9;var g=B.o3(t,h,4);
h+=4;h++;v.r=B.BT(t,h);h+=4;v.$=B.BT(t,h);h+=4;var x=B.BT(t,h);h+=4;if(x!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(g)==-1){Y=B.BT(t,h);h+=4;if(parseInt(g.slice(1))>=7){Y=Y}else alert("Unknown XCF version: "+g);
Z=8}var a={};h=kI.Nl(t,h,a);var z=[];h=kI.HK(t,h,z,Z);var p=[];h=kI.HK(t,h,p,Z);v.fz=0;for(var n=0;n<z.length;
n++)kI.adj(t,z[n],v,a,Z,Y);while(v.fz>0){v.U.push(v.Rw());v.fz--}v.U.reverse();delete v.fz;v.buffer=f.m(v.r*v.$*4);
if(v.U.length==0)console.log("No layers!!!");for(var n=0;n<p.length;n++){var U=kI.ah2(t,p[n],a,Z,Y);
if(U.Wg[kb.anf])v.p={N:U.VA,S:new iW(0,0,v.r,v.$)}}};kI.adj=function(d,v,t,h,X,g){var x=t.vv(),Z=B.BT(d,v),p=0;
v+=4;var Y=B.BT(d,v);v+=4;x.S=new iW(0,0,Z,Y);var a=B.BT(d,v);v+=4;var z=B.fm(d,v);v+=z.Se;x.qv(z.Wx);
var U={};v=kI.Nl(d,v,U);if(U[kb.aKs]){var l=U[kb.aKs];p=l.length/4-1}if(U[kb.hD]){x.S.x=B.vW(U[kb.hD],0);
x.S.y=B.vW(U[kb.hD],4)}if(U[kb.af$]){x.JS=B.BT(U[kb.af$],0)}if(U[kb.amF]){x.add.lsct=f$.fG;x.Xw=24}if(U[kb.a5K]){var L=B.BT(U[kb.a5K],0);
x.uF=kb.awr[L];if(x.h5()&&x.uF=="norm")x.uF="pass"}if(U[kb.alz]){if(B.BT(U[kb.alz],0)==0)x.Xw+=2}if(U[kb.ago]){var j=B.BT(U[kb.ago],0);
x.add.lsct=j&1==1?f$.fG:f$.wM}if(U[kb.yL]){var O=U[kb.yL];for(var F in O){var i=O[F];if(F=="gimp-text-layer"){var $=kI.a6O(i),H=$.text,b=$.font,r=$.color,V=$["font-size"];
if(H==null&&$.markup){var y=new DOMParser,c=y.parseFromString($.markup,"image/svg+xml");while(c.firstChild!=null&&c.firstChild.tagName!=null){c=c.firstChild;
var S=c.getAttribute("font"),K=c.getAttribute("foreground"),T=c.getAttribute("size");if(S!=null)b=S;
if(K!=null){K=CSS.bT(K);r=[1,K.C/255,K.L/255,K.X/255]}if(T!=null){V=""+parseFloat(T)/245}}H=c.textContent}x.add.lnsr="rend";
x.add.TySh=jM.de(0,0);x.add.TySh.LS=new iW(0,0,100,100);x.add.TySh.M=new gi(1,0,0,1,x.S.x,x.S.y);var D=x.add.TySh.Oo;
jM.Uh(D,0,H);var N=jM.Sj(D,0,0),G=$.justify,s=$["line-spacing"];if(r)N.Uy.FillColor={Type:1,Values:[1,parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])]};
if(V){V=Math.round(parseFloat(V));N.Uy.FontSize=V;x.add.TySh.M.pE+=Math.min(17,V*.17)}if(s){s=Math.round(parseFloat(s)+N.Uy.FontSize*1.2);
N.Uy.Leading=s;N.Uy.AutoLeading=!1}if(G)N.eE.Justification=["left","right","center","fill"].indexOf(G);
if(b&&b!="Sans-serif"){if(b instanceof Array){for(var n=0;n<b.length;n++)if(b[n][0]=="psname"){b=b[n][1];
break}}else{var Q=b.toLowerCase(),q="bold italic semi extra regular condensed light".split(" "),R=Q.length;
for(var n=0;n<q.length;n++){var m=Q.indexOf(q[n]);if(m!=-1&&m<R&&Q[m-1]==" ")R=m}if(R!=Q.length)b=b.slice(0,R-1).split(" ").join("")+"-"+b.slice(R).split(" ").join("")}jM.aW(N,b)}jM.yx(D,0,H.length,N);
var E=$["box-width"],e=$["box-height"],w=E?parseFloat(E):x.S.r,M=e?parseFloat(e):x.S.$;jM.kM(D,1);jM.eg(D,[0,0,Math.ceil(w),Math.ceil(M)])}else console.log("Unknown property "+F)}}while(t.fz>p){t.U.push(t.Rw());
t.fz--}t.fz=p;if(x.add.lsct==f$.fG||x.add.lsct==f$.wM)t.fz++;var P=X==4?B.BT:B.yJ,I=P(d,v);v+=X;var k=P(d,v);
v+=X;if(x.Kz()){x.buffer=f.m(x.S.k()*4);var o=new f.lh(x.S.k());kI.aM3(d,I,o,h,X,g);f.E4(o,x.buffer)}if(k!=0){x.AU=new jn.Ks;
var af=kI.ah2(d,k,h,X,g);x.AU.N=af.VA;x.AU.S=x.S.b();if(U[kb.aNS])x.AU.isEnabled=B.BT(U[kb.aNS],0)==1;
x.AU.color=x.AU.N[0];x.AU.s4()}if(x.h5())x.S=new iW;t.U.push(x)};kI.a6O=function(d){var v="("+B.I$(d,0,d.length-1)+")",t=[],h={};
kI.ahC(v,1,t);kI.acv(t,h);return h};kI.acv=function(d,v){for(var n=0;n<d.length;n++){var t=d[n],h=t[0];
if(t.length==2)v[h]=t[1];else v[h]=t.slice(1)}};kI.ahC=function(d,v,t){while(!0){if(v>=d.length)throw"e";
var h=d.charAt(v);v++;if(h=="("){var X=[];v=kI.ahC(d,v,X);t.push(X)}else if(h==" "||h=="\n"||h=="\r"){}else if(h==")")return v;
else if(h=="\""){var g=v,x=!1;while(!0){var Z=d[v];v++;if(Z=="\"")break;if(Z=="\\"){if(d[v]!="\""&&d[v]!="n"&&d[v]!="t"&&d[v]!="r")x=!0;
v++}}var Y=d.slice(g-1,v);t.push(x?Y:JSON.parse(Y))}else{var g=v-1;while(d[v]!=" "&&d[v]!=")")v++;t.push(d.slice(g,v))}}};
kI.ah2=function(d,v,t,h,X){var g=B.BT(d,v);v+=4;var x=B.BT(d,v);v+=4;var Z=B.fm(d,v);v+=Z.Se;var Y={};
v=kI.Nl(d,v,Y);var a=new f.lh(g*x),z=h==4?B.BT:B.yJ,p=z(d,v);v+=h;kI.aM3(d,p,a,t,h,X);return{VA:a.C,Wg:Y}};
kI.aM3=function(d,v,t,h,X,g){var x=B.BT(d,v);v+=4;var Z=B.BT(d,v);v+=4;var Y=B.BT(d,v);v+=4;var a=X==4?B.BT:B.yJ,z=a(d,v);
v+=X;kI.anP(d,z,t,h,Y,X,g)};kI.anP=function(d,v,t,h,X,g,x){var Z=B.BT(d,v),z=0,n=0;v+=4;var Y=B.BT(d,v);
v+=4;var a=new iW(0,0,Z,Y);if(x==100||x==150)z=1;else if(x==200||x==250)z=2;else if(x==300||x==350)z=4;
else if(x==500||x==550)z=2;else if(x==600||x==650)z=4;else if(x==700||x==750)z=8;else{alert("unsupported bit depth "+x);
throw"e"}var p=X/z,z=Math.round(X/p),U=[];v=kI.HK(d,v,U,g);var l=new f.lh(64*64*z),L=new iW,j=h[kb.aqk][0],O=[l.C,l.L,l.X,l.aX];
if(p==3)l.aX.fill(255);var F=Date.now();if(U.length!=0)for(var i=0;i<Y;i+=64)for(var $=0;$<Z;$+=64){var H=Math.min(Z-$,64),b=Math.min(Y-i,64),r=H*b;
L.QG($,i,H,b);kI.aAY(d,U[n++],r*z,j,p,O);if(x==100||x==150){}else if(x==250){for(var W=0;W<p;W++){var V=O[W];
for(var y=0;y<r;y++){var c=V[y]<<8|V[r+y];V[y]=Math.min(c>>>8,255)}}}else if(x==600){var S=kI.aD7(),C=new Uint32Array(1),K=new Float32Array(C.buffer);
for(var W=0;W<p;W++){var V=O[W];for(var y=0;y<r;y++){C[0]=V[y]<<24|V[r+y]<<16|V[(r<<1)+y]<<8|V[(r<<1)+r+y]<<0;
var T=K[0];if(T<0)T=0;else if(T>1)T=1;V[y]=S[~~(.5+T*1e3)]}}}else console.log("unknown data format",x);
f.ua(l,L,t,a)}};kI.aD7=function(){var d=kI.azE;if(d!=null)return d;d=kI.azE=new Uint8Array(1001);for(var n=0;
n<1001;n++)d[n]=~~(.49+255*f.cP(n*.001));return d};kI.aAY=function(d,v,t,h,X,g){if(h==1){for(var x=0;
x<X;x++){var Z=g[x],Y=0;while(Y<t){var bW=d[v];v++;if(bW<127){var a=d[v];v++;bW++;for(var n=0;n<bW;n++)Z[Y+n]=a}else if(bW==127){var z=d[v];
v++;var p=d[v];v++;var a=d[v];v++;bW=z<<8|p;for(var n=0;n<bW;n++)Z[Y+n]=a}else if(bW==128){var z=d[v];
v++;var p=d[v];v++;bW=z<<8|p;for(var n=0;n<bW;n++)Z[Y+n]=d[v+n];v+=bW}else{bW=256-bW;for(var n=0;n<bW;
n++)Z[Y+n]=d[v+n];v+=bW}Y+=bW}}}else if(h==2){var U=pako.inflate(d.slice(v)),l=Math.round(U.length/t);
for(var n=0;n<t;n++){var L=n*l;g[0][n]=U[L];g[1][n]=U[L+1];g[2][n]=U[L+2];g[3][n]=l==3?255:U[L+3]}}else alert("Unknown compression "+h)};
kI.HK=function(d,v,t,h){var X=h==4?B.BT:B.yJ;while(!0){var g=X(d,v);v+=h;if(g==0)break;else t.push(g)}return v};
kI.Nl=function(d,v,t){while(!0){var h=B.BT(d,v);v+=4;var X=B.BT(d,v);v+=4;if(h==kb.a2$)break;else if(h==kb.yL)t[h]=kI.atc(d,v,v+X);
else t[h]=B.mn(d,v,X);v+=X}return v};kI.atc=function(d,v,t){var h={};while(v<t){var X=B.fm(d,v);v+=X.Se;
var g=B.BT(d,v);v+=4;if(g!=1)console.log("unknown flags",g);var x=B.BT(d,v);v+=4;h[X.Wx]=B.mn(d,v,x);
v+=x}return h};var kb={a2$:0,ara:1,aCF:2,aHU:3,anf:4,auI:5,af$:6,a5K:7,alz:8,ag0:9,avf:10,aNS:11,aiF:12,agA:13,a5X:14,hD:15,anL:16,aqk:17,aLl:18,aev:19,aj7:20,yL:21,ay1:22,ayS:23,aDx:24,asd:25,afM:26,a3N:27,aJ2:28,amF:29,aKs:30,ago:31,a1X:32,a7$:33,aiI:34,arZ:35,a99:36,aEQ:37,aqF:38,ar$:0,aEx:1,a4Y:2,aFO:3,aBF:1,a6o:2,aqf:0,al4:1,alp:1};
kb.awr="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ik=function(){var d=!1,v,t,F=0,H;function h(){var W=B.o3(v,t,4);t+=4;return W[3]+W[2]+W[1]+W[0]}function X(){var W=B.o3(v,t,4);
t+=4;return W}function g(){var W=v[t];t+=1;return W}function x(){var W=B.kQ(v,t);t+=2;return W}function Z(){var W=B.ij(v,t);
t+=4;return W}function Y(){var W=B.ce(v,t);t+=4;return W}function a(){var W=B.ij(v,t);t+=8;return W}function z(){var W=B.fc(v,t);
t+=4;return W}function p(){var W=B.FD(v,t);t+=8;return W}function U(){var W=B.kQ(v,t),V=B.I$(v,t+2,W);
t+=2+W;return V}function l(){var W=B.ij(v,t),V=B.I$(v,t+4,W);t+=4+W;return V}function L(W){t=W;var V=[];
while(t!=0){var y=X();if(y!="#FT4"&&y!="#FT3"&&y!="#FT2")throw y;var c=a(),S=a(),C=a(),K=a(),T=a(),D=Z(),N=Z(),G=Z(),s=x(),Q=g(),q={};
V.push(q);for(var n=0;n<D;n++){var R=Z(),m=g();if(m!=0&&m!=1&&m!=2)throw m;var E=[];if(m==0||m==1){var e=a(),w=a(),M=a(),P=Z(),I=g(),k=Z(),o=y!="#FT4"?0:Z(),af=null;
if(y=="#FAT"||y=="#FT2"){switch(I){case 1:I=1;break;case 2:I=65;break;case 3:I=129;break;case 4:I=193;
break;default:I=0;break}}if(m==0)af=U();E=[e,w,M,I,af]}q["i"+R]=[m,E]}for(var n=0;n<s;n++){var J=x(),at=x(),ke=a(),c_=B.o3(v,t,J);
t+=J}t=c}V.reverse();for(var ag=1;ag<V.length;ag++){var q=V[ag],dz=V[ag]=f.v(V[ag-1]);for(var kL in q){var aq=q[kL];
if(aq[0]==0)dz[kL]=aq;else if(aq[0]==1){aq[1][4]=dz[kL][1][4];dz[kL]=aq}else if(aq[0]==2)delete dz[kL]}}var dh=V.pop(),gK=[];
for(var kL in dh)gK.push(dh[kL][1]);gK.sort(function(ad,dc){return ad[0]-dc[0]});return gK}function j(W,V,y,c){while(t<v.length){var S=g(),D=null;
if(S==0){if(c){var C=g();if(C!=2){var K=h()}if(C==0)t+=4;c=!1;continue}else{break}}var T=h();if(T.indexOf("\0")!=-1)throw T;
if(d)console.log("  ".repeat(V),S,S&127,T,W._type);if(S>127)D=O(S,V,y);else D=i(S,V,y);if(d)console.log("  ".repeat(V),D);
W[T]=D}}function O(W,V,y){var c=[];W=W&127;if(W==43)t+=4;var S=Z();if(W==50){var C=h(),K=x();if(K!=1)throw"e";
for(var n=0;n<S;n++){var T={_status:"NotShared",_type:C};c.push(T);var D=g();if(D!=0&&D!=1)throw D;j(T,V+1,y)}}else if(W==41){if(S>8)throw S;
for(var n=0;n<S;n++)c.push((v[t]>>>n&1)==1);t++}else for(var n=0;n<S;n++){c.push(i(W,V,y,n!=0));if(W==42)W=2}return c}function i(W,V,y,c){var S=null;
if(W==49){S={};var C=g();if(C!=0){var K=Z();if(y==null){S._id=K;S._status=["Shared","Link"][C-1]}if(y&&C==2)S=y[K];
if(C==1){if(y)y[K]=S;var T=g(),D=!1;if(T>1)throw T;S._type=h();if(S._type.indexOf("\0")!=-1)throw S._type;
if(d)console.log("  ".repeat(V),"new",S._type,T,t);if(T==0){while(!0){var N=x();if(N!=0&&N!=1&&N!=2&&N!=3&&N!=4)throw N;
if(v[t]!=0){D=!0;break}var G=x();if(G==512)break;var s=h();if(G==256)break}}j(S,V+1,y,D)}}}else if(W==50){S={_status:"NotShared"};
if(g()==1){S._type=h();t+=2;j(S,V+1,y)}}else if(W==1)S={type:"byte",value:g()};else if(W==2)S={type:"uint16",value:x()};
else if(W==3)S={type:"uint32",value:Z()};else if(W==4)S={type:"uint64",value:a()};else if(W==7)S={type:"int32",value:Y()};
else if(W==8)S={type:"int64",value:a()};else if(W==9)S={type:"float32",value:z()};else if(W==10)S={type:"float64",value:p()};
else if(W==11)S={type:"float64",value:p()};else if(W==21)S={type:"Vec2i",value:[Z(),Z()]};else if(W==23)S={type:"Vec4i",value:[Z(),Z(),Z(),Z()]};
else if(W==33)S={type:"Vec4f",value:[z(),z(),z(),z()]};else if(W==36)S={type:"Vec2",value:[p(),p()]};
else if(W==38)S={type:"Vec4",value:[p(),p(),p(),p()]};else if(W==40)S={type:"Vec6",value:[p(),p(),p(),p(),p(),p()]};
else if(W==41)S={type:"bool",value:g()!=0};else if(W==42)S={type:"Enum",value:Z()};else if(W==43)S={type:"string",value:l()};
else if(W==44){if(c!=!0)F=x();var Q,q=p();if(F==12)Q=[g(),g(),g(),g()];else if(F==16)Q=[Z(),Z()];else if(F==32)Q=[p(),p(),p()];
else throw F;S={type:"curv16",value:[q,Q]}}else if(W==45){var R=Z();S={type:"buff",value:v.slice(t,t+R)};
t+=R}else if(W==47){S={type:"uint32",value:Z()}}else if(W==48){var m=[],E=x();if(E!=1)throw E;while(!0){if(v[t]==135){var e=O(g(),V+1,y),w=O(g(),V+1,y),M=O(g(),V+1,y);
m.push([e,w,M])}else{var P=1;if(v[t]==3){g();P=Z()}for(var n=0;n<P;n++){var I=v[t];if(I==41){if(g()!=41)throw"e";
var K=g();if(K!=0&&K!=1)throw K}if(g()!=172)throw"e";var k=Z(),o=x(),Q=[];m.push(Q);if(o!=18)throw o;
if(k>4e3)throw k;for(var af=0;af<k;af++)Q.push([p(),p(),g(),g()])}}if(v[t]==0){t++;break}}S={type:"curve",value:m}}else if(W==51){S={type:"EmbeddedData"};
S[h()]=l()}else if(W==52)S={type:"uint32",value:Z()};else if(W==56)S={type:"Color32",value:[g(),g(),g(),g()]};
else if(W==60)S={type:"ColorGRAY",value:[z(),z()]};else if(W==68)S={type:"ColorRGBA",value:[z(),z(),z(),z()]};
else if(W==72)S={type:"ColorCMYK",value:[z(),z(),z(),z(),z()]};else{throw W}return W==49||W==50||W==51?S:S.value}function $(W){var V=0,y=W.length;
for(var n=0;n<y;n+=4){W[n]=V=V+W[n];W[n+1]=V=V+W[n+1];W[n+2]=V=V+W[n+2];W[n+3]=V=V+W[n+3]}}function b(W){v=W;
t=4;var V=Z(),y=X();if(y!="nsrP")throw y;var y=X();if(y!="#Inf")throw y;var c=a();H=a();var S=a(),C=a(),K=a(),T=Z(),D=Z(),y=X();
if(y!="Prot")throw y;var T=Z(),N=L(c),G={},s=Date.now();for(var Q=0;Q<N.length;Q++){var q=N[Q],R=q[3],M=null;
t=q[0];var y=X();if(y!="#Fil")throw y;var m=R>>>5&1,E=R&3,e=R&192;switch(e){case 64:e=1;m=0;break;case 128:e=2;
break;case 192:e=3;break;default:e=0;m=0}var w=new Uint8Array(v.buffer,t,q[2]);if(E==0)M=w;else if(E==1)M=pako.inflate(w);
else if(E==2)M=b3.JJ.tT(w,q[1]);else throw E;if(m==0){if(e==1)$(M);if(e==2)throw"e"}else if(m==1){if(e==2)$(M);
else throw e}else throw m;G[q[4]]=M}return G}function r(W){var V=b(new Uint8Array(W));v=V["doc.dat"];
t=16;var y={};j(y,0,[]);return[V,y,H]}return{aH_:r}}();function au(){}au.lS=function(){function d(O,F){var i=Date.now(),$=ik.aH_(O),H=$[0],b=$[1],r=$[2],W=b.DocR,V=W.DfSz,y=W.Chld;
if(y.length!=1)console.log(y);var c=y[0],S=c.SprB,C=c.bbxs;y=c.Chld;if(S){F.r=~~S[2];F.$=~~S[3]}else if(C){var K=C.rcts,T=new iW;
for(var n=0;n<4;n++){var D=K[n];T=T.Ue(new iW(D[0],D[1],D[2]-D[0],D[3]-D[1]))}F.r=T.r;F.$=T.$}else if(V){F.r=V[0];
F.$=V[1]}else{F.r=1920;F.$=1080}F.buffer=f.m(F.r*F.$*4);var N=[0,{}];for(var n=0;n<y.length;n++)g(y[n],F,H,new gi,N,[],0);
F.q7(N[0]);console.log(Date.now()-i,"Document created");i=Date.now()}function v(O){return new gi(O[0],O[3],O[1],O[4],O[2],O[5])}function t(O,F){var i=F.Xfrm;
i=i?v(i):new gi;i.concat(O);return i}function h(O){var F={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[O];
return F?F:"norm"}function X(O,F){var i=O[F],$=O.DsMa;if(i==null&&$)i=$[F];return i}function g(O,F,i,$,H,b,r){var W=O._type,V=O.Chld,y=F.vv();
y.qv(O.Desc==null||O.Desc==""?W=="Grup"?"Folder":"Layer":O.Desc);var c=X(O,"Visi");if(c!=null)y.fF(c);
var S=X(O,"Opac");if(S!=null)y.JS=Math.round(255*S);var C=X(O,"FOpc");if(C!=null)y.add.iOpa=Math.round(255*C);
var K=X(O,"Blnd");if(K!=null)y.uF=h(K);if(O.BFFl&&O.BFFl[0])b.push(O.BFFl[0]);var T=t($,O),D=W=="ShpN"||W=="PCrv";
if(V){F.U.push(F.Rw());y.add.lsct=f$.fG;if(y.uF=="norm")y.uF="pass";y.Xw=24;if(c!=null)y.fF(c);if(W=="ShpN"&&r==0){var N=O.ShpB;
y.In(new iW(N[0]+T.r2,N[1]+T.pE,Math.round(T.aX*(N[2]-N[0])),Math.round(T.r7*(N[3]-N[1]))));H[0]++;y.add.artb.Clr={t:"Objc",v:f.iF.Zi({C:255,L:255,X:255})};
var G=b[0];for(var n=0;n<b.length;n++)if(b[n].FDeF._type!="FilN")G=b[n];if(G.FDeF._type=="FilS"){y.add.artb.Clr=z(G.FDeF.Colr);
y.add.artb.artboardBackgroundType.v=4}}var s=O.Shpe?O:null;if(s==null)s=O.DsMa&&O.DsMa.Shpe?O.DsMa:null;
if(s){var Q=Y(s);if(Q.D.length!=7){y.add.vmsk=Q;f.t.kh(Q.D,T);y.bB();y.tG(F)}}for(var n=0;n<V.length;
n++)g(V[n],F,i,T,H,b,r+1)}else if(W=="Rstr"||W=="ImgN"||W=="MRst"){y=Z(O,y,F,T,i,H)}else if(W=="TxtA"||W=="TxtF"){y.add.lnsr="rend";
y.add.TySh=jM.de(0,0);y.add.TySh.LS=new iW(0,0,100,100);var q=O.TxtH?O:O.DsMa,R=q.TxtH.FrmB,m=1,E=1,e=y.add.TySh.M=new gi,k=0;
e.translate(R[0],R[1]);e.concat(T);if(W=="TxtF"){var w=Math.atan2(-e.X,e.aX);e.rotate(-w);m=e.aX;E=e.r7;
e.r7=e.aX=1;e.rotate(w)}var M=y.add.TySh.Oo,P=q.StSt;if(P==null)P=q.StMa.StSt;var I=P.Blok;if(I.length!=1)throw"e";
for(var o=0;o<I.length;o++){var af=I[o],J=k,at=0,ke=af.Glyp.Utf8;if(ke==null)continue;ke=ke.replace(/\u2028/g,"\n");
ke=ke.replace(/\u2029/g,"\n");ke=ke.slice(0,ke.length-1);if(ke=="")continue;y.qv(ke.slice(0,255));jM.Uh(M,k,ke);
k+=ke.length;var c_=af.GAtt.Runs,ag=af.PAtt.Runs[0],dz=ag.Item.Ints[0];for(var kL=0;kL<c_.length;kL++){var aq=c_[kL],dh=aq.Indx,gK=aq.Item,ad=gK.Objs,dc=jM.Sj(M,J,1);
dc.eE.Justification=dz==0?0:dz==1?2:1;jM.aW(dc,gK.DFnt.Post);dc.Uy.FontSize=gK.Doub[0];for(var n=0;n<ad.length;
n++){var lq=ad[n];if(lq._type=="FDsc"){var hn=lq.FDeF;if(hn._type=="FilS"){var dF=p(hn.Colr);dc.Uy.FillColor={Type:1,Values:[1,dF[0],dF[1],dF[2]]}}}}jM.yx(M,J+at,J+Math.min(dh,ke.length),dc);
at=dh}}jM.kM(M,1);jM.eg(M,[0,0,Math.round((R[2]-R[0])*m*1.02),Math.round((R[3]-R[1])*E*1.2)]);F.Um=!0}else if(D){y.Xw|=16;
var c3=y.add.vstk=kV.UY.yu(!0),Q=y.add.vmsk=Y(O);f.t.kh(Q.D,T);var G=b[0];for(var n=0;n<b.length;n++)if(b[n].FDeF._type!="FilN")G=b[n];
if(G){var i8=G.FDeF,dr=i8._type;if(dr=="FilS")y.add.SoCo={classID:"null",Clr:z(i8.Colr)};else if(dr=="FilG"){var jO=y.add.GdFl=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]);
a(G,jO,f.t.ft(Q.D))}else if(dr=="FilN"){y.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}};
c3.fillEnabled.v=!1}else console.log(dr)}if(O.LILn){var d1=O.LILn[0].LDeL,h3=d1.Wght;if(h3!=0){c3.strokeEnabled.v=!0;
c3.strokeStyleLineWidth.v.val=h3;var i8=O.LIFl[0].FDeF,dr=i8._type;if(dr=="FilS")c3.strokeStyleContent.v.Clr=z(i8.Colr);
else if(dr=="FilN")c3.strokeEnabled.v=!1}}y.bB();y.tG(F)}else if(W=="RcRA"){var d5=O.AdjP,em="hue2",fl=y.add[em]=e0.yu(em);
x(fl,d5)}else console.log(W);var lA=O.AdCh,av=[];if(lA)for(var n=0;n<lA.length;n++){var ah=lA[n],gE=ah._type;
if(gE=="ShpN"||gE=="PCrv"){var Q=y.add.vmsk=Y(ah),fj=t(T,ah);f.t.kh(Q.D,fj);y.bB();y.tG(F)}else if(gE=="Rstr"){var bR=X(ah,"Bitm"),bD=bR.Bckg,e1=U(bR,i,H[1]);
console.log(e1);var am=new jn.Ks;am.color=0;am.S=e1[2].b();am.N=f.m(am.S.k());f.Po(e1[1],am.N,3);A.OJ.Fo(F,y,am)}else if(ah.AdjP){var d5=ah.AdjP,dj=d5._type;
console.log(dj);var ja={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dj];
if(ja==null){console.log(d5);continue}var aj=e0.s_(ja,{});av.push(aj);var fl=aj.v.Fltr.v;if(dj=="LevP"){var dS=k9.TC(fl,0);
dS[0]=d5.OutB*255;dS[1]=d5.OutW*255;k9.jq(fl,0,dS)}else if(dj=="WhBP"){var dS=k9.TC(fl,2);dS[4]=100+d5.WBTi*20;
k9.jq(fl,2,dS);var dS=k9.TC(fl,3);dS[4]=100+d5.WBTi*200;k9.jq(fl,3,dS)}else if(dj=="HSSP"){var dS=kg.TC(fl,0);
dS[0]=Math.round(d5.HueA*256);dS[1]=Math.round(d5.SatA*256);dS[2]=Math.round(d5.LumA*256);kg.jq(fl,0,dS)}else if(dj=="RecP"){x(fl,d5)}else if(dj=="B&CP"){fl.Brgh.v=Math.round(d5.Brig*100);
fl.Cntr.v=Math.round(d5.Ctrs*100-100)}else if(dj=="PosP"){fl.Lvls.v=d5.Post}else if(dj=="VibP"){fl.vibrance.v=d5.Vibr-100;
fl.Strt.v=Math.round(d5.Satu*100)}else if(dj=="ExpP"){fl.Exps.v=d5.Expo;fl.gammaCorrection.v=d5.Gamm/2.2}else if(dj=="ThrP"){fl.Lvl.v=Math.round(d5.Thre*255)}else if(dj=="CrvP"){var eW=d5.Mast["Cnt "],be=d5.Mast.Vals,dS=js.TC(fl,0),cI=dS[0];
for(var kP=0;kP<eW;kP++){var i0=dS[kP]=f.v(cI);i0.v.Hrzn.v=Math.round(be[kP]*255);i0.v.Vrtc.v=Math.round(be[4+kP]*255)}js.jq(fl,0,dS)}}else console.log(ah)}if(av.length!=0&&y.add.SoLd){y.add.SoLd.filterFX=e0.jE();
F.f1({id:y.add.SoLd.placed.v,S:new iW,buffer:f.m(1),AU:new jn.Ks});y.add.SoLd.filterFX.v.filterFXList.v=av;
y.Lc(F,!1)}var ac=O.FiEf;if(ac&&ac.length!=0){var jR=y.add.lmfx=JSON.parse(kV.default);for(var n=0;n<kV.order.length;
n++)jR[kV.dv[n]]={t:"VlLs",v:[]};for(var eo=0;eo<ac.length;eo++){var eP=ac[eo],as=eP._type,kF={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[as],jO=kF?JSON.parse(kV.v0[kV.order.indexOf(kF)]):null,kW=1;
if(as=="ColO"){jO.Clr=z(eP.Colr)}else if(as=="GrdO"){a(eP.GrFl,jO)}else if(as=="Shad"||as=="InnS"||as=="OutG"||as=="InnG"){jO.Clr=z(eP.Colr);
jO.blur.v.val=Math.round(eP.Radi);var hs=eP.Comp;if(hs!=null){if(hs>.5)kW=1-.5*(hs-.5);else jO.Ckmt.v.val=Math.round(100*(.5-hs))}if(eP.Offs!=null){jO.Dstn.v.val=eP.Offs;
jO.lagl.v.val=Math.round(180-eP.Angl*180/Math.PI);jO.uglg.v=!1}}else if(as=="Strk"){if(eP.Ftyp==0)jO.Clr=z(eP.Colr);
else{a(eP.GrFl,jO);jO.PntT.v.FrFl="GrFl"}jO.Sz.v.val=Math.round(eP.Radi)}else if(as=="PhgB"||as=="BevE"){jO.blur.v.val=Math.round(eP.Radi);
if(as=="BevE")jO.bvlS.v.BESl="PlEb"}else if(as=="Gaus"){if(D&&eP.Enab){y.add.vmsk.mO=eP.Radi/2.4;y.add.vmsk.vF=!0;
y.bB();y.tG(F)}}if(kF){jO.enab.v=eP.Enab;if(jO.Md&&eP.BlnM!=null)jO.Md.v.BlnM=gL.V6(h(eP.BlnM));if(jO.Opct&&eP.Opac!=null)jO.Opct.v.val=Math.round(kW*eP.Opac*100);
var gc=kV.dv[kV.order.indexOf(kF)];jR[gc].v.unshift({t:"Objc",v:jO})}}}if(O.BFFl&&O.BFFl[0])b.pop();
F.U.push(y)}function x(O,F){O.Clrz.v=!0;var i=kg.TC(O,0);i[0]=Math.round(F.RecH*360);i[1]=Math.round(F.RecS*100);
i[2]=Math.round(F.RecL*100);kg.jq(O,0,i)}function Z(O,F,i,$,H,b){var r=X(O,"Bitm"),W=r.Bckg,y;console.log(W);
var V=Date.now();if(W==null){y=U(r,H,b[1]);F.S=y[2].b();F.buffer=y[1].slice(0);F.S.x+=$.r2;F.S.y+=$.pE}if(W||$.Mk()!=1){var c,S=0,C=0;
if(W){var K=H[W.Data],T=B.M5(K,"ataD")+4,D=B.ij(K,T);T+=4;c=K.slice(T,T+D)}else{if(F.S.HP())return;S=F.S.x-$.r2;
C=F.S.y-$.pE;if(y[3]==null)y[3]=new Uint8Array(b3.bV("PNG").V$([[F.buffer.buffer]],F.S.r,F.S.$));c=y[3].slice(0)}var N=i.b0(c,F.getName(),0,0);
N.Xw=F.Xw;N.JS=F.JS;F=N;var G=new gi;G.translate(S,C);G.concat($);var s=F.S.b();s.x=s.y=0;var Q=f.Q.Ya(s).I;
f.Q.M(Q,G,Q);F.add.SoLd.Trnf=A.hZ.gX(Q);F.add.SoLd.nonAffineTransform=A.hZ.gX(Q);F.Lc(i,!1)}return F}function Y(O){var F=new jn.rz,i=O._type;
if(O.ShpB==null&&O.Crvs==null)O=O.DsMa;if(i=="PCrv"){var $=O.Crvs.Data,H=[],b=[];for(var n=0;n<$.length;
n++){var r=$[n],W=r.length%3;if(W!=1){r=W==2?r[0][2]!=0?r.slice(0,r.length-1):r.slice(1):r.slice(1,r.length-1)}for(var V=0;
V<r.length;V++){var y=r[V],c=y[2];if(c!=0)H.push(V==0?"M":"C");b.push(y[0],y[1])}}F.D=f.Q.Q$({I:b,s2:H},!0)}else{var S=O.ShpB,C=O.Shpe,K=C._type,T=S[2]-S[0];
if(K=="ShpE"){F.D=f.t.I7.ZH(S[0],S[1],S[2]-S[0],S[3]-S[1])}else if(K=="ShNR"){var D=[0,0,0,0];if(C.CTyp){D=C.ShCR.slice(0);
for(var n=0;n<4;n++)D[n]*=S[2]-S[0];for(var n=1;n<4;n++)D[n]=D[0]}F.D=f.t.I7.Rect(S[0],S[1],S[2]-S[0],S[3]-S[1],D)}else if(K=="ShpT"){F.D=f.Q.Q$({s2:["M","L","L","Z"],I:[S[0],S[3],S[2],S[3],S[0]+T*.5,S[1]]},!0)}else if(K=="ShTz"){F.D=f.Q.Q$({s2:["M","L","L","L","Z"],I:[S[0]+T*C.PosL,S[1],S[0]+T*C.PosR,S[1],S[2],S[3],S[0],S[3]]},!0)}else{console.log("--",K);
F.D=f.t.I7.Rect(S[0],S[1],S[2]-S[0],S[3]-S[1],[0,0,0,0])}}return F}function a(O,F,i){var $=O.FDeF,H=O.FDeX;
if(H)H=v(H);var b=$.Grad,r=b.Cols;F.Type.v.GrdT=$.Type==0?"Lnr":"Rdl";var W=[];for(var n=0;n<r.length;
n++){var V=p(r[n]);W.push([b.Posn[n][0],V])}F.Grad.v.Intr.v=0;f.iF.PY(W,F.Grad.v);var y=b.Posn,c=new cK(y[0][0],y[0][1]),S=new cK(y[1][0],y[1][1]);
if(H){var C=new gi;if(i==null)C.translate(-.5,-.5);C.concat(H);if(i==null)C.translate(.5,.5);c=C._V(c);
S=C._V(S)}if($.Type==0)c=new cK((c.x+S.x)/2,(c.y+S.y)/2);f.iF.Dv(c,S,i?i:new iW(0,0,1,1),F)}function z(O){var F=p(O);
return{t:"Objc",v:f.iF.Zi({C:F[0]*255,L:F[1]*255,X:F[2]*255})}}function p(O){var F=O._col,i=O._type;
if(i=="HSLA"){var $=f.aU(F[0],F[1],F[2]);return[$.C,$.L,$.X,F[3]]}else if(i=="RGBA")return F;else if(i=="CMYK")return f.uP(F);
else if(i=="GRAY")return[F[0],F[1],F[2]];else if(i=="Pant")return O.srgb._col;else{console.log(F);throw i}}function U(O,F,i){var $=O.Frmt,N="";
if($!=0&&$!=1&&$!=2&&$!=4&&$!=6)throw $;var H=O.BmpW,b=O.BmpH,r=$==1?128:256,W=$==4?5:$==0||$==1?4:$==2?2:1,V=O.TWi1;
if(V==null)V=Math.ceil(H/r);var y=O.THi1;if(y==null)y=Math.ceil(b/256);var c=new iW(0,0,V,y),S=new iW;
for(var n=0;n<W;n++){var C=new Uint8Array(O["Sta"+(n+1)]);if(C.length!=c.k())throw"e";for(var K=0;K<C.length;
K++)if(C[K]==1)C[K]=0;var T=f.FY(C,c);S=S.Ue(T)}var D=[];for(var n=0;n<W;n++){var C=new Uint8Array(O["Sta"+(n+1)]),G=f.m(S.k());
f.Qb(C,c,G,S);D[n]=[];for(var K=0;K<G.length;K++)D[n][K]=G[K];N+=JSON.stringify(D[n])+","+JSON.stringify(O["Idx"+(n+1)])+","}if(i[N]==null){var s=S.r*r,Q=S.$*256,q=new Array(W);
for(var n=0;n<W;n++){var C=q[n]=new Uint8Array(s*Q);l(C,O["Idx"+(n+1)],D[n],F,s,Q,r)}var R=f.m(s*Q*4);
if($==0||$==1)f.E4({C:q[0],L:q[1],X:q[2],aX:q[3]},R);else if($==2)f.E4({C:q[0],L:q[0],X:q[0],aX:q[1]},R);
else if($==4){for(var n=0;n<q[0].length;n++){var m=n*4,E=q[0][n]*(1/255),e=q[1][n]*(1/255),w=q[2][n]*(1/255),M=q[3][n]*(1/255),P=UDOC.C.cmykToRgb([E,e,w,M]);
R[m]=P[0]*255;R[m+1]=P[1]*255;R[m+2]=P[2]*255;R[m+3]=q[4][n]}}else{R.fill(255);f.I0(q[0],R)}var I=new iW(0,0,s,Q),k={buffer:R,S:I};
f.R2(k);i[N]=[k.S,k.buffer]}var T=i[N][2]=i[N][0].b();T.x+=S.x*r;T.y+=S.y*256;return i[N]}function l(O,F,i,$,H,b,r){var W=0,V=H>>>(r==256?8:7),y=b>>>8;
for(var c=0;c<y;c++)for(var S=0;S<V;S++){var C=S*r,K=c*256,T=c*V+S,D=K*H+C,N=i[T];if(N<=1){}else if(N==2)L(O,D,255,H,r,256);
else if(N==4){var G=F[W];W++;var s=$[G.Data.DatI],Q=G.Rect;if(Q==null)Q=[0,0,r,256];j(O,(K+Q[1])*H+C+Q[0],s,Q[1]*r+Q[0],H,r,Q[2]-Q[0],Q[3]-Q[1])}else console.log(N)}}function L(O,F,i,$,H,b){var r=F+$*b;
for(;F<r;F+=$){var W=F+H;for(var V=F;V<W;V++){O[V]=i}}}function j(O,F,i,$,H,b,r,W){var V=F+H*W,y=$+b*W;
for(;F<V&&$<y;F+=H,$+=b){for(var n=0;n<r;n++)O[F+n]=i[$+n]}}return d}();function j7(){}j7.lS=function(d,v){var t=j7,h=aQ.parse(d),Y=0,V=0;
if(h.pages.length>1)console.log(h.pages.length,"pages");for(var X=0;X<h.pages.length;X++){var g=h.pages[X],x=g.layers;
if(g.Name=="Symbols")continue;for(var n=0;n<x.length;n++)if(t.TL(x[n])=="group")x[n]._isArtb=!0}var Z=[],a=new iW;
for(var X=0;X<h.pages.length;X++){var g=h.pages[X],x=g.layers,z=t.mo(x,X),U=!1;if(z.k()>8e3*8e3||z.r>3e4||z.$>3e4){t.aMB(x,!0);
var p=t.mo(x,X);if(p.k()>=z.k())t.aMB(x,!1)}z=t.mo(x,X);for(var l=0;l<x.length;l++){var L=x[l];if(t.TL(L)=="artboard")U=!0}if(!U){console.log("no artboard");
var j={};for(var O in g)j[O]=g[O];j._class="group";g.layers=[j]}Z.push(z.b());if(z.HP())continue;z.x=0;
z.y=Y;Y+=z.$+200;a=a.Ue(z)}var F={};if(h.foreignSymbols)for(var n=0;n<h.foreignSymbols.length;n++){var i=h.foreignSymbols[n].symbolMaster;
F[i.symbolID]={g0:i}}t.a1s(h.pages,F,v);for(var $ in F){var L=F[$].g0,H=t.avw(L.layers)}var b=j7.hB(a,8192*8192);
v.Um=!0;v.r=Math.round(a.r/b);v.$=Math.round(a.$/b);v.buffer=f.m(v.r*v.$*4);v.lW={};v.$C=[];Y=0;for(var X=0;
X<h.pages.length;X++){var r=h.pages[X],z=Z[X],W=new gi(b,0,0,b,z.x,z.y-Y);t.r3(r.layers,v,W,h,F,{},[]);
Y+=z.$+200}delete v.lW;delete v.$C;for(var n=0;n<v.U.length;n++)if(v.U[n].add.artb)V++;v.q7(V);if(b!=1)alert("File scaled down "+b+"x");
v.ada()};j7.aCR=0;j7.TL=function(d){var v=d._class?d._class:d.$class;if(v=="group"&&d._isArtb)v="artboard";
return v};j7.hB=function(d,v){var t=1;if(j8!=0)return t;while(Math.round(d.r/t)*Math.round(d.$/t)>v||Math.max(Math.round(d.r/t),Math.round(d.$/t))>3e4)t++;
if(window.abe)return t;if(t!=1&&!window.confirm("Your image is quite large ("+d.r+" x "+d.$+" px).\n"+"Press OK to scale it down "+t+"x, or Cancel to keep the size."))t=1;
return t};j7.mo=function(d,v){var t=[],h=j7;for(var X=0;X<d.length;X++){var g=d[X],x=h.Lr(g.frame);if(v==0||h.TL(g)=="artboard")t.push(x)}return f.S.rJ(t)};
j7.aMB=function(d,v){var t=[],h=j7;for(var X=0;X<d.length;X++){var g=d[X],x=h.Lr(g.frame);x.r+=150;x.$+=150;
t.push(x)}var Z=f.S.rJ(t);f.S.aBC(t,v);var Y=f.S.rJ(t);if(Y.k()*1.5<Z.k()||Z.r>3e4&&Y.r<=3e4||Z.$>3e4&&Y.$<=3e4){alert("Re-arranging artboards");
for(var X=0;X<d.length;X++){var a=t[X],g=d[X],z=g.frame;z.x=a.x;z.y=a.y}}};j7.a1s=function(d,v,t){if(d==null)return;
var h=j7;for(var X=0;X<d.length;X++){var g=d[X],x=h.TL(g);if(["page","artboard","group"].indexOf(x)!=-1)h.a1s(g.layers,v,t);
else if(x=="symbolMaster")v[g.symbolID]={g0:g}}};j7.avw=function(d){var v=j7;for(var t=0;t<d.length;
t++){var h=d[t],X=v.TL(h),g=null;if(["page","artboard","group"].indexOf(X)!=-1)g=v.avw(h.layers);if(X=="symbolMaster"||X=="symbolInstance")g=h;
if(g!=null)return g}return null};j7.r3=function(d,v,t,h,X,g,x){if(d==null)return;var Z=j7,Y=[];for(var a=0;
a<d.length;a++){var z=d[a],p=z.frame?Z.Lr(z.frame):null,U=z.style,F="",W=null,V=!1;if(U==null){console.log("no styles")}var l=Z.a7W(z,t),L=Z.TL(z),j=L=="shapeGroup"||L=="shapePath"||L=="rectangle"||L=="oval"||L=="triangle"||L=="polygon",O=["page","artboard","group"].indexOf(L)!=-1;
if(L=="shapeGroup"){for(var n=0;n<z.layers.length;n++)if(Z.TL(z.layers[n])=="shapeGroup")O=!0}var i=z.exportOptions;
if(i){var $=i.exportFormats;if($==null)$=i.sizes;if(L!="artboard"&&($&&$.length!=0)){var H=$[0].scale}}var b=v.vv();
b.fF(z.isVisible);var r=z.name;if(!(typeof r=="string"))r=L;b.qv(F+r.slice(0,250));if(U!=null)W=Z.a3n(h,v,U,p,l,b.getName(),j||L=="artboard"||O);
if(L=="rectangle"&&U&&U.fills&&U.fills[0]){var y=U.fills[0];if(y.fillType==4&&y.patternFillType>1&&y.image!=null)V=!0}if(z.shouldBreakMaskChain){while(Y.length!=0)Z.aL_(Y.pop(),v)}if(O){b.add.lsct=z.layerListExpandedType==2?f$.fG:f$.wM;
b.uF="pass";b.Xw=24;b.fF(z.isVisible);v.U.push(v.Rw());if(z.hasBackgroundColor==null&&z.hasClickThrough==0&&z.name=="Frame"&&!p.HP()){console.log("Frame detected!!!!");
var c=b.add.vmsk=new jn.rz;b.add.vstk=kV.UY.yu(!0,!1);var C=p.b();c.D=f.t.I7.Rect(C.x,C.y,C.r,C.$);b.bB();
b.tG(v)}if(L=="artboard"){var K=p.b(),T=l.Mk();K.x=-Math.floor(l.r2/T);K.y=-Math.floor(l.pE/T);K.r=Math.floor(K.r/T);
K.$=Math.floor(K.$/T);b.In(K);var D=z.backgroundColor,N=D?{C:255*D.red,L:255*D.green,X:255*D.blue}:{C:255,L:255,X:255};
b.add.artb.Clr={t:"Objc",v:f.iF.Zi(N)};b.add.artb.artboardBackgroundType={t:"long",v:4}}Z.r3(z.layers,v,l,h,X,g,x)}else if(j&&!V){var s=W!=null&&W.frameFXMulti.v.length==1;
b.add.vmsk=new jn.rz;b.add.vstk=kV.UY.yu(!0,s);var Q=U?U.fills:null,q=U?Z.atl(h,Q,p,l,b.getName(),v,Z.xg(x,z.do_objectID+"_image")):[];
if(q.length==0){if(s)b.add.vstk.fillEnabled.v=!1;else b.add.iOpa=0;b.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}}}else{var R=q[0],m=null,E=null;
if(R.e=="SoFi"){m="SoCo";E=kV.o9}if(R.e=="GrFl"){m="GdFl";E=kV.oA}if(R.e=="patternFill"){m="PtFl";E=kV.aO}if(m!=null){b.add[m]={classID:"null"};
for(var n=0;n<E.length;n++){var e=E[n];b.add[m][e]=R.K.v[e]}var w=R.K.v.Opct.v.val;if(s&&w==0)b.add.vstk.fillEnabled.v=!1;
else b.add.iOpa=Math.round(255*w/100)}}b.Xw|=16;b.add.vmsk.D=Z.gk(z.layers?z.layers:[z],z.layers?l:t);
var M=U?U.blur:null;if(M&&M.isEnabled&&M.type<=1)b.add.vmsk.mO=M.radius;if(b.add.vmsk.D.length==2){console.log("shape with no content:",b.getName())}if(s){var P=W.frameFXMulti.v[0].v,I=b.add.vstk,k=U.borders[0];
W.frameFXMulti.v=[];lb.ah$(P,I);var o=U.borderOptions,af=U.miterLimit;if(o)kV.UY.write(I,{ln:o.lineCapStyle,yQ:o.lineJoinStyle,gn:o.dashPattern,Ek:af})}b.bB();
b.tG(v)}else if(L=="bitmap"||V){if(!V&&z.image==null)continue;var J=V?U.fills[0]:null,at=V?J.image.bdata:z.image.bdata,ke=v.b0(at,b.getName(),0,0);
ke.Xw=b.Xw;b=ke;var M=U?U.blur:null,c_=U?U.colorControls:null;if(M||c_){var Q=[];if(M){var ag=e0.s_("GsnB",{});
ag.v.enab.v=M.isEnabled;ag.v.Fltr.v.Rds.v.val=M.radius;Q.push(ag)}if(c_){var dz=c_.brightness,kL=c_.contrast,aq=c_.hue,dh=c_.saturation;
if(aq!=0||dh!=1){var ag=e0.s_("hue2",{});ag.v.enab.v=c_.isEnabled;kg.jq(ag.v.Fltr.v,0,[Math.round(aq*180/Math.PI),Math.round((dh-1)*100),0]);
Q.push(ag)}if(dz!=0||kL!=1){var ag=e0.s_("brit",{});ag.v.enab.v=c_.isEnabled;kL=kL-1;if(kL>0)kL/=2;var gK=ag.v.Fltr.v;
gK.Brgh.v=Math.round(dz*255);gK.Cntr.v=Math.round(kL*255);gK.useLegacy.v=!0;Q.push(ag)}}if(Q.length!=0){b.add.SoLd.filterFX=e0.jE();
v.f1({id:b.add.SoLd.placed.v,S:new iW,buffer:f.m(1),AU:new jn.Ks});b.add.SoLd.filterFX.v.filterFXList.v=Q}}if(V){var ad=J.patternFillType;
if(ad==3){var dc=b.S.r/b.S.$,lq=p.r/p.$;if(dc<lq){l.translate(-(p.r*(1-dc/lq))/2,0);l.scale(lq/dc,1)}else{l.translate(0,-(p.$*(1-lq/dc))/2);
l.scale(1,dc/lq)}}}p.x=p.y=0;var hn=f.Q.Ya(p).I;l.zJ();f.Q.M(hn,l,hn);b.add.SoLd.Trnf=A.hZ.gX(hn);b.add.SoLd.nonAffineTransform=A.hZ.gX(hn);
b.Lc(v,!1)}else if(L=="text"){if(z.attributedString==null)continue;var dF=l.b(),c3,i8,d5=0;dF.zJ();dF.aX=dF.r7=Math.min(dF.aX,dF.r7);
b.add.lnsr="rend";b.add.TySh=jM.de(0,0);b.add.TySh.LS=new iW(0,0,p.r,p.$);b.add.TySh.M=dF;var dr=z.attributedString;
if(dr.archivedAttributedString)dr=dr.archivedAttributedString;var jO=dr.NSString;if(jO==null)jO=dr.string;
if(jO==null)jO="";if(jO["NS.string"])jO=jO["NS.string"];if(g[z.do_objectID]!=null)jO=g[z.do_objectID];
var d1=Z.xg(x,z.do_objectID+"_stringValue");if(d1)jO=d1.value;if(dr.attributes!=null){c3=[];i8=[];var h3=dr.attributes;
for(var n=0;n<h3.length;n++){c3.push(h3[n].length,n);i8.push(h3[n].attributes)}}else if(dr.NSAttributeInfo==null){c3=[jO.length,0];
i8=[dr.NSAttributes]}else{c3=dr.NSAttributeInfo["NS.data"];i8=dr.NSAttributes;c3=j7.aBV(c3,i8)}for(var n=0;
n<c3.length;n+=2)d5+=c3[n];if(d5!=jO.length){while(d5>jO.length){c3[c3.length-2]--;d5--;if(c3[c3.length-2]==0){c3.pop();
c3.pop()}}c3[c3.length-2]+=jO.length-d5}jO=jO.replace(/\u2028/g,"\n");jO=jO.replace(/\u2029/g,"\n");
jO=jO.replace(/\r/g,"\n");var em=b.add.TySh.Oo;jM.Uh(em,0,jO);if(jO!=""){var fl=z.textBehaviour,lA=U.textStyle,av=lA?lA.verticalAlignment:0,ah=Z.afP(em,c3,i8,jO),T=dF.Mk(),gE=jM.Sj(em,0,1),bD=0;
if(gE.Uy.Font){var fj=gE._G[gE.Uy.Font].Name;if(fj=="FontAwesome"||fj=="Ionicons")ah*=.87}var bR=gE.Uy.AutoLeading?0:gE.Uy.Leading*.6,e1=Math.max(ah,bR)*T,am=p.r,dj=p.$;
if(fl==0){jM.kM(em,0);var ja=jM._s(gE.eE);if(ja==1)bD=am*T;if(ja==2)bD=am*T*.5;if(av==0)e1*=1;else e1*=.9}else{jM.kM(em,1);
jM.eg(em,[0,0,Math.round(am),Math.round(dj)]);if(fl==2&&av==0)e1=e1*.2;else if(fl==2&&av==1){e1=T*.5*(dj-gE.Uy.FontSize)}else if(fl==1&&av==0)e1=e1*.2;
else e1=e1*.35}b.add.TySh.M.translate(bD,e1)}}else if(L=="symbolInstance"||L=="symbolMaster"){var aj=z.symbolID;
if(g[z.do_objectID])aj=g[z.do_objectID].symbolID;var dS=Z.xg(x,z.do_objectID+"_symbolID");if(dS)aj=dS.value;
if(aj=="")continue;var eW={};for(var e in g)eW[e]=g[e];if(z.overrides)for(var e in z.overrides)eW[e]=z.overrides[e];
var be=x.slice(0);if(z.overrideValues)be=be.concat(z.overrideValues);var cI=X[aj];if(cI==null){console.log("Unknown master master",z.symbolID);
continue}var C=j7.Lr(cI.g0.frame),kP=C.r/p.r,i0=C.$/p.$,ac=l.b();ac.scale(kP,i0);b.add.lsct=f$.wM;b.uF="pass";
b.Xw=24;b.fF(z.isVisible);v.U.push(v.Rw());var jR=cI.g0;if(v.$C.indexOf(jR)==-1){v.$C.push(jR);Z.r3(jR.layers,v,ac,h,X,eW,be);
v.$C.pop()}}else if(L=="slice"){console.log("slice layers are ignored by now");continue}else{console.log("unknown layer type: "+L,z);
continue}if(U&&U.contextSettings){var eo=U.contextSettings,eP=eo.blendMode;if(eP<Z.X7.length){b.uF=gL.iX[gL.RG.indexOf(Z.X7[eP])];
if(O&&b.uF=="norm")b.uF="pass"}b.JS=Math.round(b.JS*eo.opacity)}if(W!=null){b.add.lmfx=W}v.U.push(b);
if(z.hasClippingMask&&d.length>1){Y.push(b);v.U.push(v.Rw())}}while(Y.length!=0)Z.aL_(Y.pop(),v)};j7.xg=function(d,v){for(var n=0;
n<d.length;n++)if(d[n].overrideName.startsWith(v))return d[n]};j7.aBV=function(d,v){var t=0,h=[];while(t+1<d.length){var X=d[t];
t++;if(X>127){X+=128*(d[t]-1);t++;if(d[t-1]>127){X+=128*(d[t]-1);t++}}var g=d[t];t++;h.push(X,g)}return h};
j7.afP=function(d,v,t,h){var X=j7,g=0,z=0,p=0;for(var n=0;n<h.length;n++){var x=h.charCodeAt(n),Z=1473<=x&&x<=1479||1488<=x&&x<=1514||1520<=x&&x<=1524,Y=1569<=x&&x<=1594||1600<=x&&x<=1749;
if(Z||Y)g++}var a=g>h.length/2;for(var n=0;n<v.length;n+=2){var U=v[n],b=14,r="DejaVuSans";if(U==0)continue;
var l=v[n+1],L=t[l],j=jM.Sj(d,z,z+U-1),O=L.NSColor;if(O==null){var O=L.MSAttributedStringColorDictionaryAttribute;
if(O==null)O=L.MSAttributedStringColorAttribute;if(O==null)O="0 0 0";else O=[O.red,O.green,O.blue].join(" ")}else if(X.TL(O)=="MSArchivedColor")O=O.dr+" "+O.dg+" "+O.db;
else if(O.NSRGB){O=O.NSRGB;O=B.o3(O,0,O.length-1)}else if(O.NSCMYK){O=O.NSCMYK;O=B.o3(O,0,O.length-1);
O=O.split(" ").map(parseFloat);var F=1-O[0],i=1-O[1],$=1-O[2],H=1-O[3];O=F*H+" "+i*H+" "+$*H}else if(O.NSWhite){O="1 1 1"}O=O.split(" ");
j.Uy.FillColor={Type:1,Values:[1,parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2])]};var W=L.MSAttributedStringFontAttribute;
if(L.NSFont){b=L.NSFont.NSSize;r=L.NSFont.NSName}else if(W){if(W.attributes){W=W.attributes;b=W.size;
r=W.name}else{var V=W.NSFontDescriptorAttributes;if(V==null)V=W.UIFontDescriptorAttributes;W=V;b=W.NSFontSizeAttribute;
r=W.NSFontNameAttribute}if(r==null)r="DejaVuSans"}var p=Math.max(p,b);j.Uy.FontSize=Math.round(b);jM.aW(j,r);
var y=L.NSKern;if(y==null)y=L.kerning;if(y!=null)j.Uy.Tracking=Math.round(1e3*y/b);if(L.NSUnderline!=null)j.Uy.Underline=L.NSUnderline>0;
var c=L.NSStrikethrough;if(c==null)c=L.strikethroughStyle;if(c!=null)j.Uy.Strikethrough=c>0;if(L.MSAttributedStringTextTransformAttribute==1)j.Uy.FontCaps=2;
var S=L.NSParagraphStyle;if(S==null)S=L.paragraphStyle;if(S){var C=S.paragraphSpacing;if(C!=null){j.eE.SpaceAfter=C}var K=S.NSAlignment;
if(K==null)K=S.alignment;if(K!=null){var T=0;if(!1){}else if(K==1)T=1;else if(K==2)T=2;else if(K==4)T=0;
else{T=K;console.log("unknown align",K)}if(a&&T<2)T=1-T;j.eE.Justification=T}var D=S.NSMinLineHeight;
if(D==null)D=S.minimumLineHeight;if(D!=null){j.Uy.AutoLeading=!1;j.Uy.Leading=D}}j.eE._Direction=a?1:0;
jM.yx(d,z,z+U,j);z+=U}return p};j7.a3n=function(d,v,t,h,X,g,x){var Z=j7,Y=JSON.parse(kV.default),a=!1;
for(var n=0;n<kV.order.length;n++)Y[kV.dv[n]]={t:"VlLs",v:[]};var z=t.fills,p=Z.atl(d,z,h,X,g,v);for(var U=0;
U<2;U++){var l=t[["shadows","innerShadows"][U]];if(l==null)continue;var L=["DrSh","IrSh"][U],j=kV.dv[kV.order.indexOf(L)];
for(var n=0;n<l.length;n++){var O=l[n];if(!O.isEnabled)continue;var F=O.contextSettings;if(F&&F.opacity==0||O.color.alpha==0)continue;
var i=JSON.parse(kV.v0[kV.order.indexOf(L)]);Y[j].v.unshift({t:"Objc",v:i});a=!0;i.Clr.v=Z.bT(O.color);
i.blur.v.val=Math.round(O.blurRadius/X.Mk());var $=X.b();$.r2=$.pE=0;$.zJ();var H=$._V(new cK(O.offsetX,O.offsetY)),b=Math.sqrt(H.x*H.x+H.y*H.y);
i.Dstn.v.val=Math.round(b);i.lagl.v.val=Math.round(Math.atan2(H.y,-H.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=p.length!=0;
Z.ER(O,i)}}var r=t.borders;if(r!=null&&(p.length==0||t.blur==null||!t.blur.isEnabled))for(var n=0;n<r.length;
n++){var W=r[n];if(!W.isEnabled)continue;var i=JSON.parse(kV.v0[kV.order.indexOf("FrFX")]),j=kV.dv[kV.order.indexOf("FrFX")];
Y[j].v.unshift({t:"Objc",v:i});a=!0;i.Clr.v=Z.bT(W.color);if(W.fillType!=0&&W.gradient){var V=Z.a2L(W.gradient,h,X,g),y=["Type","Angl","Ofst","Scl"];
for(var n=0;n<y.length;n++)i[y[n]]=V[y[n]];i.Grad.v=V.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=Math.round(W.thickness/X.Mk());
i.Styl.v.FStl=["CtrF","InsF","OutF"][W.position];Z.ER(W,i)}for(var n=x?1:0;n<p.length;n++){var c=p[n],j=kV.dv[kV.order.indexOf(c.e)];
Y[j].v.unshift(c.K);a=!0}return a?Y:null};j7.atl=function(d,v,t,h,X,g,x){if(v==null)return[];var Z=j7,Y=[];
for(var n=0;n<v.length;n++)if(v[n].isEnabled)Y.push(v[n]);v=Y;var a=[];for(var n=0;n<v.length;n++){var z=v[n],p=null,U=null;
if(z.fillType==0){p="SoFi";var l=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);U={t:"Objc",v:l};U.v.Clr.v=Z.bT(z.color)}else if(z.fillType==1){p="GrFl";
U={t:"Objc",v:Z.a2L(z.gradient,t,h,X)}}else if(z.fillType==4&&z.image!=null){var L=z.image;if(x)L=x.value;
var j=b3.IF(L.bdata.buffer);if(j=="fpng")j="png";if(j!=null&&j!="pdf"&&j!="eps"){var O,r=0,W=0,V=0;if(g.lW[L.key])O=g.lW[L.key];
else{var F={data:new ArrayBuffer(4),_S:new iW(0,0,1,1)};try{F=b3.bV(j).CE(L.bdata)[0]}catch(cQ){}O={};
O.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";O.name="someImage";O.kv=[new Uint8Array(F.data),F._S];g.HM(O);
g.lW[L.key]=O}var i=O.kv[1],l=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]);p="patternFill";U={t:"Objc",v:l};
var $=z.patternFillType,H=z.patternTileScale;l.Algn.v=!0;l.Ptrn.v.Idnt.v=O.id;if($==0){r=H*i.r/Math.min(i.r,i.$);
W=-h.r2;V=-h.pE}else{r=Math.max(t.r/i.r,t.$/i.$);W=-h.r2-(i.r*r-t.r)/2;V=-h.pE-(i.$*r-t.$)/2}l.Scl.v.val=100*r*(1/h.Mk());
l.phase.v.Hrzn.v=Math.round(W/h.Mk());l.phase.v.Vrtc.v=Math.round(V/h.Mk())}}else if(z.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",z.fillType);
if(p!=null){Z.ER(z,U.v);a.push({e:p,K:U})}}return a};j7.aeZ=function(d){var v=j7,t=new iW(0,0,1,1);d=d.slice(0);
while(!0){var h=!1;for(var n=0;n<d.length-1;n++){var X=d[n],g=d[n+1],x=null,Z=X.contextSettings;if(X.fillType==0&&(Z==null||Z.opacity==1&&Z.blendMode==0)&&X.color.alpha==1){var Y="norm",a=1,Z=g.contextSettings;
if(Z){a=Z.opacity;Y=gL.__(v.X7[Z.blendMode])}if(g.fillType==0){x=f.v(g);v.aFx(x.color,X.color,x.color,t,Y,a)}if(g.fillType==1){x=f.v(g);
var z=x.gradient.stops;for(var p=0;p<z.length;p++)v.aFx(z[p].color,X.color,z[p].color,t,Y,a)}if(x!=null&&x.contextSettings){var Z=x.contextSettings;
Z.opacity=1;Z.blendMode=0}}if(x!=null){d.splice(n,0,x);h=!0;break}}if(!h||d.length<2)break}return d};
j7.aFx=function(d,v,t,h,X,g){var x=j7,Z=f.m(4);x.aNN(d,Z);var Y=f.m(4);x.aNN(v,Y);f.V.Qe(X,Z,h,Y,h,h,g);
x.aLN(Y,t)};j7.aNN=function(d,v){v[0]=255*d.red;v[1]=255*d.green;v[2]=255*d.blue;v[3]=255*d.alpha};j7.aLN=function(d,v){v.red=d[0]/255;
v.green=d[1]/255;v.blue=d[2]/255;v.alpha=d[3]/255};j7.aL_=function(d,v){d=d.b();d.Xw=24;d.qv("Mask by "+d.getName());
v.U.push(d);d.add.lsct=f$.fG;d.add.lyid=v.xC();delete d.add.lmfx;delete d.add.SoCo;delete d.add.GdFl;
delete d.add.PtFl;delete d.add.iOpa;if(d.add.vmsk)d.add.vmsk.vF=!0;d.bB();d.tG(v);if((d.Xw&16)==16)d.Xw-=16;
if((d.Xw&2)==2)d.Xw-=2;d.uF="pass";d.JS=255};j7.X7="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
j7.a2L=function(d,v,t,h){t=t.b();t.zJ();t.r2=t.pE=0;var X=t.Mk(),U=0,l=0;t.scale(1/X,1/X);var g=j7,x=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),Z=x.Grad.v;
Z.Intr.v=0;if(d==null)return x;var Y=d.gradientType,a=g.UN(d.from),z=g.UN(d.to);a.offset(-.5,-.5);z.offset(-.5,-.5);
a=t._V(a);z=t._V(z);var p=Math.atan2(-(z.y-a.y),z.x-a.x);x.Type.v.GrdT=["Lnr","Rdl","Angl"][Y];x.Scl.v.val=100*cK.A_(a,z);
if(Y==0){x.Angl.v.val=180/Math.PI*p;x.Scl.v.val=100*cK.A_(a,z);U=(a.x+z.x)/2;l=(a.y+z.y)/2}if(Y==1){x.Scl.v.val=200*cK.A_(a,z);
U=a.x;l=a.y}if(Y==2){x.Angl.v.val=180/Math.PI*(p-Math.PI/2)}var L=x.Ofst.v;L.Hrzn.v.val=U*100;L.Vrtc.v.val=l*100;
var j=[];for(var n=0;n<d.stops.length;n++){var O=d.stops[n],F=O.color;j.push([O.position,F?[F.red,F.green,F.blue]:[0,0,0],F.alpha])}f.iF.PY(j,Z);
return x};j7.ER=function(d,v){var t=j7,h=1,X=d.contextSettings;if(X!=null){v.Md.v.BlnM=t.X7[X.blendMode];
h*=X.opacity}else v.Md.v.BlnM=t.X7[0];v.enab.v=d.isEnabled;if(v.uglg!=null)v.uglg.v=!1;if(d.color!=null)h*=d.color.alpha;
v.Opct.v.val=Math.round(h*100)};j7.bT=function(d){return f.iF.Zi(d?{C:d.red*255,L:d.green*255,X:d.blue*255}:{C:0,L:0,X:0})};
j7.gk=function(d,v){var t=j7,h=[{e:6},{e:8,all:0}];for(var X=0;X<d.length;X++){var g=d[X],x=g.booleanOperation,Z=0,Y=g._class,L=!1;
if(Y=="group"||Y=="text"||Y=="symbolInstance"||Y=="slice"){console.log(Y+" inside ShapeGroup");continue}if(x==-1)Z=0;
else if(x==0)Z=1;else if(x==1)Z=2;else if(x==2)Z=3;else if(x==3)Z=0;if(X==0)Z=1;var a=j7.Lr(g.frame),z=t.a7W(g,v),p=g.path?g.path:g,U=[{e:0,length:0,qG:Z,Dk:2,xu:0,L8:0}],l=p.points;
for(var n=0;n<l.length;n++){var j=l[n],O=t.UN(j.curveTo),F=t.UN(j.point),i=t.UN(j.curveFrom);L=L||j.hasCurveFrom&&!i.fE(F)||j.hasCurveTo&&!O.fE(F)}var $=[];
if(!L){var H=[],bW=l.length;if(bW==0)continue;for(var n=0;n<bW;n++){$[n]=l[n].cornerRadius;var j=t.UN(l[n].point);
H.push(j.x,j.y)}z.scale(1/a.r,1/a.$);z.zJ();f.Q.M(H,z,H);U=f.t.I7.Iu(H,$).slice(2);U[0].qG=Z}else{var b=l.length;
U[0].length=b;for(var n=0;n<b;n++){var j=l[n],r=j.curveMode,W=t.UN(j.point);U[1+n]={e:r==2||r==4?1:2,dH:j.hasCurveTo?t.UN(j.curveTo):W.b(),Z:W,KU:j.hasCurveFrom?t.UN(j.curveFrom):W.b()}}z.scale(1/a.r,1/a.$);
z.zJ();f.t.kh(U,z);var $=[];for(var n=0;n<b;n++){var j=l[n],r=j.curveMode,V=j.cornerRadius;if(r==1&&V!=0)$.push(V);
else $.push(0)}}if(!p.isClosed)for(var n=0;n<U.length;n++)U[n].e+=3;h=h.concat(U);var y=t.TL(g);if(z.X==0&&z.Wp==0){var c=z.r2,C=z.pE,K=c+z.aX,T=C+z.r7,D=[c,C,K,T]}}return h};
j7.a7W=function(d,v){var t=v.b(),h=d.frame?j7.Lr(d.frame):null;if(h)t.translate(-h.x-h.r/2,-h.y-h.$/2);
if(d.isFlippedHorizontal)t.scale(-1,1);if(d.isFlippedVertical)t.scale(1,-1);t.rotate(-d.rotation*(Math.PI/180));
if(h)t.translate(h.r/2,h.$/2);return t};j7.UN=function(d){d=d.slice(1,d.length-1).split(",");return new cK(parseFloat(d[0]),parseFloat(d[1]))};
j7.Lr=function(d){return new iW(d.x,d.y,d.width,d.height)};j7.aFW=function(d){return{_class:"rect",constrainProportions:!1,x:d.x,y:d.y,width:d.r,height:d.$}};
function kD(){}kD.lS=function(d,v){var t=Date.now(),h=kD,X=UZIP.parse(d),g=JSON.parse(B.I$(X.manifest)),x=JSON.parse(B.I$(X["resources/graphics/graphicContent.agc"])).resources,Z=[],Y=[],a=g.children;
for(var n=0;n<a.length;n++){var z=a[n];if(z.name=="artwork"){var p=z.children;for(var U=0;U<p.length;
U++){var l=p[U],L=JSON.parse(B.I$(X["artwork/"+l.path+"/graphics/graphicContent.agc"])),j=L.children;
if(j.length==0){}else if(j.length==1){if(l["uxdesign#bounds"]){l._node=j[0];Z.push(l)}}else{var O=j[0],F=O.transform,i=O.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var $=f.Q.k2(Typr.U.SVGToPath(i.path).crds);
i={x:$.x,y:$.y,width:$.r,height:$.$}}i=f.v(i);if(F){i.x+=F.tx;i.y+=F.ty}l["uxdesign#bounds"]=i;l._node={type:"artboard",artboard:{children:j}};
Y.push(l)}}}}if(Z.length==0)Z=Y;var H=[],b=new iW;for(var n=0;n<Z.length;n++){var l=Z[n],r=j7.Lr(l["uxdesign#bounds"]);
H.push(r);b=b.Ue(r)}var W=j7.hB(b,8192*8192);v.Um=!0;v.r=Math.round(b.r/W);v.$=Math.round(b.$/W);v.buffer=f.m(v.r*v.$*4);
v.q7(Z.length);var V=new gi(W,0,0,W,b.x,b.y);v.lW={};for(var n=0;n<Z.length;n++){var l=Z[n],r=j7.Lr(l["uxdesign#bounds"]),y=l._node,c=V.b(),C=r.b(),K=c.Mk();
c.translate(-r.x,-r.y);C.x=-Math.floor(c.r2/K);C.y=-Math.floor(c.pE/K);C.r=Math.floor(C.r/K);C.$=Math.floor(C.$/K);
c.translate(r.x,r.y);kD.x_(y,v,c,x,X,C);var T=v.U[v.U.length-1];T.qv(l.name);T.In(C);if(n!=Z.length-1)T.add.lsct=f$.wM}delete v.lW};
kD.mp=function(d){if(d==null)return new gi;return new gi(d.a,d.b,d.c,d.d,d.tx,d.ty)};kD.x_=function(d,v,t,h,X,g){var x=kD,Z=d.type,Y=d[Z],a=d.style,z=x.mp(d.transform),L,j="none",O,F="none",i,$;
z.zJ();var p=t.b();p.concat(z);var U=v.vv(),l=d.name;U.qv(l?l.slice(0,250):"Layer");if(d.visible!=null)U.fF(d.visible);
if(a){L=a.stroke;j=L?L.type:"none";O=a.fill;F=O?O.type:"none";if(O&&Object.keys(O).length==1)F="none";
i=a.filters;$=a.clipPath;if($&&h.clipPaths[$.ref])$=h.clipPaths[$.ref].children;else $=null;if(a.opacity!=null)U.JS=Math.round(255*a.opacity);
if(F=="solid"&&O.color.alpha)U.JS=Math.round(U.JS*O.color.alpha);if(i){U.add.lmfx=x.a30(i);for(var n=0;
n<i.length;n++)if(i[n].type=="uxdesign#blur"){var H=i[n],b=H.params,r=b.brightnessAmount;if(r==null)r=0;
r=Math.abs(r/100);if((H.visible==null||H.visible==!0)&&b.backgroundEffect)U.JS=Math.round(U.JS*(r+(1-r)*b.fillOpacity))}}if(F=="pattern"&&O.pattern.meta.ux.uid=="")F="none"}if($==null&&d.meta&&d.meta.ux&&d.meta.ux.clipPathResources)$=d.meta.ux.clipPathResources.children;
if(Z=="artboard"||Z=="group"){if($){var W=$[0],V=W.shape,y=V!=null&&V.type=="rect"&&V.width*V.height>4e6;
if(W.type!="text"&&!y){if(V){var z=x.mp(W.transform);z.zJ();var c=p.b();c.concat(z);U.add.vmsk=new jn.rz;
U.add.vmsk.D=x.gk(V);c=c.b();c.zJ();f.t.kh(U.add.vmsk.D,c);U.bB();U.tG(v)}}else if(!y)alert("Clipping by text has been ignored")}U.add.lsct=f$.fG;
U.uF="pass";U.Xw=24;if(d.visible!=null)U.fF(d.visible);v.U.push(v.Rw());var S=Y.children,C=O;if(C)C=C.color;
if(C)C=C.value;if(O){if(Z=="artboard"&&F=="solid"){U.In(new iW(0,0,10,10));U.add.artb.Clr={t:"Objc",v:f.iF.Zi({C:C.r,L:C.g,X:C.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var K=v.vv();K.qv("BACKGROUND");K.Xw|=16;K.add.vstk=kV.UY.yu();
K.add.vmsk=new jn.rz;K.add.vmsk.D=x.gk({type:"rect",x:g.x,y:g.y,width:g.r,height:g.$});x.Tp(O,F,p,g,g,K,v,h,X);
K.bB();K.tG(v);v.U.push(K)}}for(var n=0;n<S.length;n++){kD.x_(S[n],v,p,h,X,g)}}else if(Z=="shape"&&(Y.type=="rect"&&(Y.r==null||Y.r==0)||Y.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(Y.path)))&&F=="pattern"&&(Math.abs(Y.width/Y.height-O.pattern.width/O.pattern.height)<.01||a.fill.pattern.meta.ux.scaleBehavior=="fill")){var T=O.pattern,D=T.meta.ux,N=D.uid,G=X["resources/"+N];
if(G==null){console.log(T);return}var s=v.b0(G,U.getName(),0,0);s.Xw=U.Xw;s.JS=U.JS;U=s;var Q=f.t.ft(x.gk(Y),null),q=f.Q.Ya(new iW(0,0,T.width,T.height)).I,R=new gi;
R.scale(T.width/Q.r,T.height/Q.$);if(D.offsetX)R.translate(-D.offsetX*T.width,0);if(D.offsetY)R.translate(0,-D.offsetY*T.height);
p.concat(R);p.zJ();f.Q.M(q,p,q);U.add.SoLd.Trnf=A.hZ.gX(q);U.add.SoLd.nonAffineTransform=A.hZ.gX(q);
U.Lc(v,!1)}else if(Z=="shape"){U.Xw|=16;U.add.vstk=kV.UY.yu();U.add.vmsk=new jn.rz;U.add.vmsk.D=x.gk(Y);
var Q=f.t.ft(U.add.vmsk.D,null),c=p.b();c.zJ();f.t.kh(U.add.vmsk.D,c);var m=f.t.ft(U.add.vmsk.D,null);
if(j=="none"){}else{var E=L.color.value,e,w;e="SoFi";var M=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
w={t:"Objc",v:M};w.v.Clr.v=f.iF.Zi({C:E.r,L:E.g,X:E.b});var P=L.align,I=L.cap;if(P==null)P="center";
var k=U.add.vstk;k.strokeEnabled.v=!0;k.strokeStyleLineWidth.v.val=L.width;if(P)k.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[["inside","center","outside"].indexOf(P)];
if(I)k.strokeStyleLineCapType.v.strokeStyleLineCapType=kV.UY.gQ[["butt","round","square"].indexOf(I)];
var o=["SoFi","GrFl","patternFill"].indexOf(e),af=[kV.o9,kV.oA,kV.aO][o];k.strokeStyleContent.v={classID:kV.UY.$B[0]};
var J=k.strokeStyleContent.v={classID:kV.UY.$B[o]};for(var n=0;n<af.length;n++)J[af[n]]=w.v[af[n]]}if(i)for(var n=0;
n<i.length;n++)if(i[n].type=="uxdesign#blur"&&i[n].visible){var at=i[n];U.add.vmsk.mO=at.params.blurAmount}x.Tp(O,F,p,Q,m,U,v,h,X);
U.bB();U.tG(v)}else if(Z=="text"&&d.text){var ke=d.text,c_=ke.frame,ag=a.font,dz=a.textAttributes,z=p.b(),dc=0;
z.zJ();U.add.lnsr="rend";U.add.TySh=jM.de(0,0);U.add.TySh.LS=new iW(0,0,100,100);U.add.TySh.M=z;var kL=U.add.TySh.Oo,aq=ke.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
jM.Uh(kL,0,aq);if(aq!=""){var dh=jM.Sj(kL,0,1),gK=ag.postscriptName;if(gK==null)gK=ag.family;jM.aW(dh,gK);
dh.Uy.FontSize=Math.round(ag.size);if(F=="solid"){var E=O.color.value;dh.Uy.FillColor={Type:1,Values:[1,E.r/255,E.g/255,E.b/255]}}if(dz){if(dz.paragraphAlign)dh.eE.Justification=["left","right","center"].indexOf(dz.paragraphAlign);
if(dz.letterSpacing)dh.Uy.Tracking=Math.round(dz.letterSpacing);if(dz.lineHeight){dh.Uy.AutoLeading=!1;
dh.Uy.Leading=Math.round(dz.lineHeight)}}jM.yx(kL,0,aq.length,dh)}var ad=d.meta.ux.rangedStyles;if(ad)for(var n=0;
n<ad.length;n++){var Y=ad[n],lq=Math.min(Y.length,aq.length-dc);if(n==ad.length-1)lq=aq.length-dc;var dh=jM.Sj(kL,dc,dc+lq),gK=Y.postscriptName;
if(gK==null)gK=Y.family;if(gK!=null)jM.aW(dh,gK);var hn=Y.textScript,dF=Y.underline,c3=Y.fontSize,H=Y.fill,i8=Y.textTransform;
if(hn&&hn!="none")dh.Uy.FontBaseline=hn=="superscript"?1:2;if(dF!=null)dh.Uy.Underline=dF;if(c3!=null)dh.Uy.FontSize=Math.round(c3);
if(i8!=null)dh.Uy.FontCaps=i8=="uppercase"?2:0;if(i8=="lowercase"){jM.MW(kL,dc,dc+lq);jM.Uh(kL,dc,aq.slice(dc,dc+lq).toLowerCase())}if(H!=null){var dr=H.value;
dh.Uy.FillColor={Type:1,Values:[1,(dr>>>16&255)/255,(dr>>>8&255)/255,(dr>>>0&255)/255]}}jM.yx(kL,dc,dc+lq,dh);
dc+=lq}if(c_.type=="area"||c_.type=="autoHeight"){var jO=c_.width,d1=c_.height;jM.kM(kL,1);jM.eg(kL,[0,0,jO,d1!=null?d1:jO*2])}}else if(Z=="syncRef"){var h3=d.syncSourceGuid,d5=h.meta.ux.symbols,em=x.Cb(d5,h3);
if(em){var fl=p.b();fl.concat(x.mp(em.transform));kD.x_(em,v,fl,h,X,g)}return}else console.log(Z,d);
v.U.push(U)};kD.Cb=function(d,v){for(var n=0;n<d.length;n++){var t=d[n],h=t.group;if(t.id==v)return t;
if(h){var X=kD.Cb(h.children,v);if(X)return X}}return null};kD.gk=function(d){var v=d.type,t=[{e:6},{e:8,all:0}];
if(v=="rect"){var h=d.r,X=d.x,g=d.y,x=d.width,Z=d.height;t=f.t.I7.Rect(X,g,x,Z,h?h:0)}else if(v=="circle"){var h=d.r;
t=f.t.I7.ZH(d.cx-h,d.cy-h,2*h,2*h)}else if(v=="ellipse"){var Y=d.rx,a=d.ry;t=f.t.I7.ZH(d.cx-Y,d.cy-a,2*Y,2*a)}else if((v=="path"||v=="compound")&&d.path){var z=Typr.U.SVGToPath(d.path);
t=f.Q.Q$({s2:z.cmds,I:z.crds},!1)}else if(v=="line"){var p=d.x1,U=d.x2,l=d.y1,L=d.y2;t=f.t.I7.Iu([p,l,U,L],0,!0)}else if(v=="polygon"){var j=d.points,O=[];
for(var n=0;n<j.length;n++)O.push(j[n].x,j[n].y);t=t.concat(f.t.I7.Iu(O,0,!1).slice(2))}else console.log(v,d);
return t};kD.a30=function(d){var v=JSON.parse(kV.default);for(var n=0;n<kV.order.length;n++)v[kV.dv[n]]={t:"VlLs",v:[]};
for(var n=0;n<d.length;n++){var t=d[n],h=t.type,X=t.params,g=t.visible;if(h=="dropShadow"){var x=kV.dv[kV.order.indexOf("DrSh")],Z=JSON.parse(kV.v0[kV.order.indexOf("DrSh")]);
v[x].v.unshift({t:"Objc",v:Z});var Y=X.dropShadows;if(Y.length!=1)throw"e";var a=Y[0],z=a.color,p=z.value,U=a.dx,l=a.dy;
Z.Clr.v=f.iF.Zi({C:p.r,L:p.g,X:p.b});Z.Opct.v.val=Math.round((z.alpha!=null?z.alpha:1)*100);Z.uglg.v=!1;
Z.enab.v=g!=null?g:!0;Z.lagl.v.val=Math.round(180/Math.PI*Math.atan2(l,-U));Z.Dstn.v.val=Math.round(Math.sqrt(U*U+l*l));
Z.blur.v.val=Math.round(a.r*2.3)}}return v};kD.Tp=function(d,v,t,h,X,g,x,Z,Y){var a=kD;g.add.vstk.fillEnabled.v=v!="none";
if(v=="none"){g.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}}}else{var z,p,U;if(v=="solid"){var l=d.color.value;
z="SoCo";p=kV.o9;var L=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);U={t:"Objc",v:L};U.v.Clr.v=f.iF.Zi({C:l.r,L:l.g,X:l.b})}else if(v=="gradient"){z="GdFl";
p=kV.oA;var L=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),j=L.Grad.v,H,b,r;j.Intr.v=0;var O=d[v],F=O.ref?Z.gradients[O.ref]:O.meta.ux.gradientResources,i=["linear","radial","angular"].indexOf(F.type),$=F.stops;
L.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var H=new cK(O.x1,O.y1),b=new cK(O.x2,O.y2);H.x=b.x+.5*(H.x-b.x);
H.y=b.y+.5*(H.y-b.y)}else{var H=new cK(O.cx,O.cy),b=new cK(O.cx+O.r,O.cy)}r=X;if(O.units=="objectBoundingBox"){var W=new gi(h.r,0,0,h.$,h.x,h.y);
H=W._V(H);b=W._V(b)}var W=a.mp(O.transform);H=W._V(H);b=W._V(b);W=t.b();W.zJ();H=W._V(H);b=W._V(b);f.iF.Dv(H,b,r,L);
var V=[];for(var n=0;n<$.length;n++){var y=$[n],c=y.color,l=c.value,C=c.alpha;if(C==null)C=1;V.push([y.offset,[l.r/255,l.g/255,l.b/255],C])}f.iF.PY(V,j);
U={t:"Objc",v:L}}else if(v=="pattern"){z="PtFl";p=kV.aO;var L=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]),R;
U={t:"Objc",v:L};var K=d[v],T=K.meta.ux,D=T.uid,N=Y["resources/"+D].buffer,G=T.flipX,s=T.flipY,Q=D+G+s,q=b3.IF(N);
if(x.lW[Q])R=x.lW[Q];else{var m=new iW(0,0,K.width,K.height),E;if(m.HP()||q==null){m=new iW(0,0,1,1);
E=new ArrayBuffer(4)}else{var e=b3.bV(q);if(e.e4){var w=new hc;e.CE(N,w);E=w.jP().buffer}else{try{var M=e.CE(N)[0];
E=M.data;m=M._S}catch(cQ){E=new ArrayBuffer(m.k()*4)}}}R={};R.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";
R.name="someImage";R.kv=[new Uint8Array(E),m];if(G)f.G.EN(R.kv[0].slice(0),R.kv[0],m.r,m.$);if(s)f.G.adW(R.kv[0].slice(0),R.kv[0],m.r,m.$);
x.HM(R);x.lW[Q]=R}var P=t.b();P.zJ();P.translate(h.x,h.y);var I=h.r,k=h.$,o=R.kv[1].r,af=R.kv[1].$,J=Math.max(I/o,k/af);
if(T.scale)J*=T.scale;var at=new gi;at.translate(-o/2,-af/2);at.scale(1/o,1/af);if(T.offsetX!=null)at.translate(T.offsetX,T.offsetY);
at.scale(o,af);at.scale(J,J);at.translate(I/2,k/2);at.concat(P);lb.aod(R,L,0,0,1e3,at)}else console.log(v);
if(z!=null){g.add[z]={classID:"null"};for(var n=0;n<p.length;n++){var ke=p[n];g.add[z][ke]=U.v[ke]}}}};
function c8(){}c8.lS=function(){var d=B.ce,v=B.ij,t=B.kQ;function h(i,$){return B.o3(i,$,4).split("").reverse().join("")}function X(i,$){return B.o3(i,$,4)}function g(i,$){var H=new Uint8Array(i);
if(v(H,0)==759775571)x(i,$);else Z(i,$)}function x(i,$){var H=new Uint8Array(i),b=0,r=B.o3(H,b,16);b+=16;
if(r!="SAI-CANVAS-TYPE0")throw"e";var W=v(H,b);b+=4;var V=$.r=v(H,b);b+=4;var y=$.$=v(H,b);b+=4;var c=v(H,b);
b+=4;var S=v(H,b),C=v(H,b+4);b+=8;console.log(S,C);for(var n=0;n<4;n++)if(v(H,b+n*4)!=0)throw"e";b+=16;
if(v(H,b)!=4286611584)throw"e";b+=4;var K=X(H,b);b+=4;if(K!="norm"&&K!="ver1")throw K;var T=new Array(S),D={};
for(var N=0;N<S;N++){var G=X(H,b);b+=4;var r=v(H,b),s=v(H,b+4);b+=8;if(v(H,b)!=0)throw"e";b+=4;var Q=v(H,b+8);
if(N==S-1)Q=H.length;if(G=="layr"){var q=$.vv();$.U.push(q);if(X(H,s)!=G)throw"e";s+=4;var R=q.add.lyid=v(H,s);
s+=4;if(R!=r)throw"e";if(v(H,s)!=0&&v(H,s+4)!=0)throw"e";s+=8;var m=X(H,s);s+=4;var E=z(H,s);s+=16;var e=v(H,s),w=v(H,s+4);
s+=8;var M=X(H,s);s+=4;q.JS=Math.round(255*v(H,s)/100);s+=4;var P=v(H,s);s+=4;D[r]=[q,w];while(!0){if(v(H,s)==0)break;
var G=X(H,s);s+=4;var I=v(H,s);s+=4;if(G=="name")q.qv(B.Ix(H,s+2,t(H,s)));else console.log(G,I);s+=I}if(s+4!=Q)throw"e"}else if(G=="lpix"||G=="intg"){var k=X(H,s),o,af,w,ke=0;
s+=4;if(k!="dpcm"&&k!="\0\0\0\0")throw k;if(G=="intg"){af=new iW(0,0,$.r,$.$);o=$.buffer=f.m(af.k()*4);
w=Math.ceil($.r/256)*Math.ceil($.$/256)}else{var J=D[r],q=J[0];w=J[1];af=q.S=new iW(0,0,256,256);o=q.buffer=f.m(af.k()*4)}o.fill(255);
var at=f.m(256*256),c_=s+w*4;for(var n=0;n<w;n++){var ag=v(H,s);s+=4;if(n==0)dM.cn(H,c_+ke+4,ag,at,0);
ke+=ag}if(G=="lpix")f.I0(at,o)}}}function Z(i,$){l(i);var H=p(new Uint8Array(i),2,0),b=H.canvas;$.r=v(b,4);
$.$=v(b,8);$.u3=v(b,22);var r=H.layers,W=[],V={};for(var y in r){var c=r[y],S=0,C=v(c,S);S+=4;var K=$.vv(),T={iC:K,akE:C==8?[]:null},D=K.add.lyid=v(c,S);
S+=4;V[D]=T;var N=K.S=z(c,S);S+=16;K.S.offset(-8,-8);var bW=v(c,S);if(bW!=0&&bW!=1)throw bW;S+=4;K.JS=Math.round(255*c[S]/100);
S++;K.fF(c[S]==1);S++;K.buffer=f.m(N.k()*4);var G=c[S];S++;if(C!=8)K.cD=c[S]==1;S++;if(c[S]!=0)throw"e";
S++;var s=h(c,S);S+=4;var Q={"add ":"lddg","sub ":"lbrn",adsb:"lLit",cbin:"norm"}[s];K.uF=Q?Q:s;var q={};
S=a(c,S,q);K.qv(q.name);var R=q.pfid;if(R!=null)V[R].akE.push(T);else W.push(T);if(C==8){K.add.lsct=q.fopn?f$.fG:f$.wM;
K.uF="pass";K.Xw=24;continue}var m=Math.ceil(N.r/32),E=Math.ceil(N.$/32),e=S;S+=m*E;var w=new iW(0,0,32,32),M=f.m(w.k()*4),P=f.m(w.k()),I=N.b();
I.x=I.y=0;for(var k=0;k<E;k++){for(var o=0;o<m;o++){if(c[e+k*m+o]==1){for(var af=0;af<8;af++){var J=t(c,S);
S+=2;dM.cn(c,S,J,P,0);S+=J;if(af<4)f.Gj(P,M,af==3?3:2-af)}w.x=o*32;w.y=k*32;f.DJ(M);f.wH(M,w,K.buffer,I)}}}}Y(W,$)}function Y(i,$){for(var n=0;
n<i.length;n++){var H=i[n];if(H.akE){$.U.push($.Rw());Y(H.akE,$)}$.U.push(H.iC)}}function a(i,$,H){while($<i.length){var b=h(i,$),W=null;
$+=4;if(v(i,$-4)==0)break;var r=v(i,$);$+=4;if(b=="name"){var V=$;while(i[V]!=0)V++;W=B.o3(i,$,V-$)}else if(b=="lorg")W=[d(i,$),d(i,$+4)];
else if(b=="pfid")W=v(i,$);else if(b=="fopn")W=i[$]==1;else W=i.slice($,$+r);H[b]=W;$+=r}return $}function z(i,$){return new iW(d(i,$),d(i,$+4),d(i,$+8),d(i,$+12))}function p(i,$,H){var b=new Uint8Array(i.buffer,$*4096,4096),r={},v=B.ij;
for(var W=0;W<64;W++){var V=W*64,y=v(b,V);V+=4;if(y==0)continue;var c=V;while(b[c]!=0)c++;var S=B.o3(b,V,c-V);
V+=32;var C=b[V+2];V+=4;var K=v(b,V);V+=4;var T=v(b,V);V+=4;V+=8;if(C==16)r[S]=p(i,K,H+1);else r[S]=U(i,K,T,H+1)}return r}function U(i,$,H,b){var r=new Uint8Array(H),W=0;
while(W<H){var V=new Uint8Array(i.buffer,$*4096,Math.min(4096,H-W));r.set(V,W);W+=4096;var y=$&511;$=v(i,($-y)*4096+y*8+4)}return r}function l(i){var $=i.byteLength>>>12,H=null;
for(var b=0;b<$;b++){var r=b&511,W=new Uint32Array(i,b*4096,1024);if(r==0){L(b>>>9,W);H=W}else{j(H[r*2],W)}}}function L(i,$){for(var n=0;
n<1024;n++){var H=$[n],b=H^O(i);$[n]=b<<16|b>>>16;i=H}}function j(i,$){for(var n=0;n<1024;n++){var H=$[n];
$[n]=H-O(i);i=H}}function O(i){return i^F[i>>24&255]+F[i>>16&255]+F[i>>8&255]+F[i&255]}var F=[2568213150,2213907773,3502118182,2252615351,2126945275,2312593252,4216435257,4278811734,2718363422,2537383565,3280172813,481610987,922161291,1077111757,2228298685,2951699955,2419222343,3422529757,632899331,3620054202,3825866656,3940214514,1802732112,1995240010,1864845004,2616811044,516581573,3877394729,2014831980,798606449,962212537,1631814467,1581141896,2158572332,410633887,2047071060,317232928,4185932942,56898934,2520522107,3152871894,3306333873,1372277035,1153097417,3000323009,1316759699,355584419,1134767269,1437751943,1893333625,4015737571,2330457237,2453308677,496133388,3377109596,668252948,326281719,203007998,1694112339,4053986157,2683015439,1289817166,545412609,2113706180,2688993288,2391861182,1612571479,4083217276,13463415,3429546452,617369208,2870873084,1787544965,4252019696,3567735393,448747572,1172110871,1600643382,2492455189,1705877237,2175475945,3547246402,259999175,464417497,3188812486,3747132629,1057723918,3261153176,2959472816,1650063733,3298487940,695306595,191731997,164592183,1764388344,1740016386,772856770,1815406908,2823508129,2893004987,1554389068,887382403,1119058345,2038971062,141887777,900672281,4155148394,1240629715,2708897881,341216509,2335581686,1041968541,4128117966,290924298,3680272051,1938426618,432163045,1494007138,2067251986,4227903816,3624455943,3602717826,3176198616,2447287224,4203131712,4125043328,2591812206,388020465,3985941867,3204628008,222404520,121327036,2191405380,43992033,1910953247,2839027465,1479570912,3818444681,4041412870,1963409077,1459914302,1861289019,3158343475,2377972517,2288815906,1525996922,753584693,2412341724,2646136500,3328105519,3859780374,176443802,975781905,3706914367,1096947235,579647323,686412134,2925730687,114868839,3664329876,1420159072,2082566388,4074935499,1534566649,3105170086,3964966144,282949799,941876312,2010342234,26095721,3761885269,3586343359,2619605226,2243994065,1711643782,68615962,3799909832,2979810349,4266521999,3538996778,853545920,4007016407,3925787112,2760445386,4095214355,1922134924,3786429346,2550212222,765549531,2915359311,3482702964,3223738241,522349805,2806458706,1012859507,3243424360,3714511003,2479353295,1326740484,831734365,649426570,241711918,2502942512,711700038,2740294256,3078740119,3947809617,3729340749,1212113564,559121502,3020776674,1205538512,808291915,1274548831,735228076,1036531436,3347519845,3058457822,2661858343,3515167888,994241647,1671757201,2854788376,1294671433,3097518253,3052849049,1830780188,3129846502,3843690435,3645411559,377353938,2275134785,1352051739,95204826,928851182,2133767850,2771777336,3402673424,4165299770,603804818,3010745650,1405198962,1184759007,3902259069,2797331118,1758345391,1568161035,1380917732,1243970353,3464103858,1445781573,867633316,2364443375,3371921919,1961177003,3450963862];
return g}();var aF=function(){function d(F){return F.tagName?F.tagName.split(":").pop():null}function v(F,i,$){if($&&$[0]==null)$=null;
F=new Uint8Array(F);var H,D=1;if(F[0]==255&&F[1]==254)H=B.Ix(F,2,(F.length>>>1)-1);else H=B.I$(F,0,F.length);
var b=new DOMParser,r=b.parseFromString(H,"image/svg+xml"),W=r.getElementsByTagName("style")[0];if(W)W=Typr.U.SVG.cssMap(W.textContent);
else W={};var V=r.firstChild;while(d(V)!="svg")V=V.nextSibling;var y=new iW(0,0,100,100),c=V.getAttribute("viewBox"),S=V.getAttribute("width"),C=V.getAttribute("height"),K=S!=null?parseFloat(S):parseFloat(C),T=C!=null?parseFloat(C):parseFloat(S);
if(S&&S.endsWith("ex"))K*=13;if(C&&C.endsWith("ex"))T*=13;if(c){var N=t(c);y.x=N[0];y.y=N[1];y.r=N[2];
y.$=N[3];if(S!=null){var G=N[2]/N[3],s=K/T;if(s>G){var Q=N[3]*s-y.r;y.x-=Q/2;y.r+=Q}if(s<G){var q=N[2]/s-y.$;
y.y-=q/2;y.$+=q}}if(K!=null&&!isNaN(K))D=K/N[2]}else if(S!=null||C!=null){y.r=K;y.$=T}if(j8==0)y=f.Q.kI(y);
while($&&Math.max(y.r*(D*2),y.$*(D*2))<=Math.max($[0],$[1]))D*=2;while($==null&&Math.max(y.r,y.$)*D>8192)D*=.5;
i.Um=!0;i.r=y.r*D;i.$=Math.abs(y.$*D);if(j8==0){i.r=Math.round(i.r);i.$=Math.round(i.$)}var R=new gi(D,0,0,D,-y.x*D,-y.y*D),m={m9:U(V),a5e:W,aV:0};
h(r,V.children,i,R,m,new gi,0);if(i.U.length==0){var E=i.vv();E.qv("Layer");i.U.push(E)}}function t(F){var i=" ";
if(F.indexOf(",")!=-1)i=",";return F.split(i).map(parseFloat)}function h(F,i,$,H,b,r,W,V){var y=["display","opacity","fill-opacity","filter","clip-path"],c=0;
for(var S=0;S<i.length;S++){var C=i[S],K=d(C),T=C.getAttribute("id"),G=13,m=1,w="clip-path",M=null,ad=0;
if(T==null)T=C.getAttribute("data-name");var D=U(C,b.a5e);for(var N in b.m9)if((y.indexOf(N)==-1||V)&&D[N]==null)D[N]=b.m9[N];
if(D["font-size"])G=Z(D["font-size"],G);var s=a(C);if(C.getAttribute("dx"))s.r2+=Z(C.getAttribute("dx"),G);
if(C.getAttribute("dy"))s.pE+=Z(C.getAttribute("dy"),G);s.concat(H);var Q=C.getAttribute("visibility"),q=D.display,R=$.vv();
if(Q=="hidden"||q=="none")R.fF(!1);R.qv(T!=null?T.split(":::")[0]:"Layer");if(D.opacity)m*=parseFloat(D.opacity);
if(D["fill-opacity"]){var E=parseFloat(D["fill-opacity"]);if(E!=0)m*=E}R.JS=Math.round(255*m);if(D["mix-blend-mode"]){var e=gL.AJ.indexOf(D["mix-blend-mode"]);
if(e!=-1)R.uF=gL.iX[e]}if(C.getAttribute(w)==null)w="mask";if(C.getAttribute(w)!=null||D["clip-path"]){var P=C.getAttribute(w);
if(P==null)P=D["clip-path"];P=P.slice(4,P.length-1);var I=F.getElementById(P.slice(1)),k=I?I.children:null,o=I&&I.tagName=="mask"&&k[0]&&k[0].tagName=="g";
if(o){var af=k[0].children[0];o=af&&af.tagName=="g"&&af.children[0]&&af.children[0].tagName=="image"}if(o){var J=k[0].children[0],at=a(J);
at.concat(s);var ke=J.children[0];console.log(ke);var c_=X($,ke,at),ag=b.aNL=new jn.Ks;ag.S=c_.S;ag.N=f.m(ag.S.k());
f.Po(c_.buffer,ag.N,0)}else if(I){M=$.vv();M.qv("Clip-Path"+(T?": "+T:""));M.add.lsct=W<2?f$.fG:f$.wM;
M.uF="pass";M.Xw=24;var dz=M.add.vmsk=new jn.rz;$.U.push($.Rw());var kL=[];if(I.getAttribute(w)){var P=I.getAttribute(w);
P=P.slice(4,P.length-1);kL=F.getElementById(P.slice(1)).children}for(var n=0;n<k.length;n++){var aq=a(k[n]);
aq.concat(s);var dh=x($,F,k[n],!1).slice(2);f.t.kh(dh,aq);dz.D=dz.D.concat(dh)}for(var n=0;n<kL.length;
n++){var aq=a(k[n]);aq.concat(s);var dh=x($,F,kL[n],!1).slice(2);for(var gK=0;gK<dh.length;gK++)if(dh[n].qG!=null)dh[n].qG=3;
f.t.kh(dh,aq);dz.D=dz.D.concat(dh)}for(var n=0;n<dz.D.length;n++)if(dz.D[n].qG!=null)dz.D[n].qG=0;M.bB();
M.tG($);W++}}if(D.filter&&D.filter!="none"){var dc=D.filter,hn,dF,c3,dr=!1,jO=!1,d1=!1;dc=dc.slice(5,dc.length-1);
var lq=F.getElementById(dc),i8=[0,0,0,.5],h3=s.Mk();if(lq)for(var n=0;n<lq.children.length;n++){var d5=lq.children[n],em=d(d5);
if(em=="feGaussianBlur"){dr=!0;hn=parseFloat(d5.getAttribute("stdDeviation"))*h3}if(em=="feColorMatrix"){var fl=d5.getAttribute("values");
if(fl){fl=fl.split(" ").map(parseFloat);i8=[fl[4],fl[9],fl[14],fl[18]]}}if(em=="feComposite"){d1=!0}if(em=="feOffset"){jO=!0;
var lA=d5.getAttribute("dx"),av=d5.getAttribute("dy");dF=parseFloat(lA?lA:0)*h3;c3=parseFloat(av?av:0)*h3}}if(dr&&(d1||jO)){var ah=d1?"IrSh":"DrSh",gE=JSON.parse(kV.v0[kV.order.indexOf(ah)]);
gE.blur.v.val=Math.round(hn*2.4);var fj=Math.sqrt(dF*dF+c3*c3);gE.uglg.v=!1;gE.Dstn.v.val=Math.round(fj);
gE.lagl.v.val=Math.round(Math.atan2(c3,-dF)*(180/Math.PI));gE.Clr.v=f.iF.Zi({C:i8[0]*255,L:i8[1]*255,X:i8[2]*255});
gE.Opct.v.val=Math.round(i8[3]*100);g(R,kV.dv[kV.order.indexOf(ah)],gE)}else if(dr)ad=hn}if(K=="g"||K=="a"||K=="svg"||K=="switch"||(K=="text"||K=="textPath")&&C.children.length>0||K=="symbol"&&V){if(K=="text")r=z(C,r);
var bR=C.getAttribute("viewBox"),bD=C.getAttribute("width"),e1=C.getAttribute("height");if(K=="svg"&&bD&&e1&&bR==null)bR="0 0 "+bD+" "+e1;
if(bR&&(bD&&e1||K=="symbol")){var am=t(bR),dj=z(C),ja=new gi;ja.translate(-am[0],-am[1]);if(bD&&e1)ja.scale(parseFloat(bD)/am[2],parseFloat(e1)/am[3]);
ja.translate(dj.r2,dj.pE);ja.concat(s);s=ja}var aj=C.children.length,dS=b.m9;b.m9=D;var eW=b.aV;b.aV=Math.max(b.aV,ad);
var be=K!="text"&&K!="textPath"||aj>1;if(be){var cI=R.ZC();R.add.lsct=W<2&&cI&&(T==null||!T.endsWith(":::"))?f$.fG:f$.wM;
R.uF="pass";R.Xw=24;R.fF(cI);$.U.push($.Rw())}h(F,C.children,$,s,b,r,W+1);if(be)$.U.push(R);else{var kP=$.U[$.U.length-1];
if(kP)kP.JS=R.JS;if(kP)kP.uF=R.uF}b.aV=eW;b.m9=dS}else if(K=="use"){var ja=z(C);ja.concat(s);var i0=L(C),ac=F.getElementById(i0.slice(1));
if(ac){var dS=b.m9;b.m9=D;if(D.filter)ac.setAttribute("filter",D.filter);h(F,[ac],$,ja,b,r,W+1,!0);b.m9=dS}}else if(K=="path"||K=="rect"||K=="circle"||K=="ellipse"||K=="polygon"||K=="polyline"||K=="line"){R.Xw|=16;
var dz=R.add.vmsk=new jn.rz,jR=D.fill,eo=jR=="none"||D["fill-opacity"]&&parseFloat(D["fill-opacity"])==0,eP=D["fill-rule"]=="evenodd"?1:0;
dz.D=x($,F,C,eP==1,eo);dz.Dk=eP;f.t.kh(dz.D,s);var as=D.stroke,kF=D["stroke-width"],kW=D["stroke-dasharray"],hs=D["stroke-linejoin"];
if(hs==null)hs="miter";var gc=D["stroke-linecap"];if(gc==null)gc="butt";var fK=D["stroke-miterlimit"];
if(fK==null)fK=4;else fK=parseFloat(fK);var lo=D["paint-order"],cR=!(as==null||as=="none"||as=="null"),fU=R.add.vstk=kV.UY.yu(null,cR),g8=D["stroke-opacity"]?parseFloat(D["stroke-opacity"]):1;
if(cR){var i2=Y(F,as,s,dz.D,$),jQ=["SoFi","GrFl","patternFill"].indexOf(i2.e),eS=i2.K.v.Opct.v,j_=1;
if(eS.val!=100||g8!=1&&eo){R.JS=Math.round(g8*R.JS*eS.val/100);eS.val=100;g8=1}var ji=[kV.o9,kV.oA,kV.aO][jQ],l7=fU.strokeStyleContent.v={classID:kV.UY.$B[jQ]};
for(var n=0;n<ji.length;n++)l7[ji[n]]=i2.K.v[ji[n]];kF=kF?parseFloat(kF):1;if(lo&&lo.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){j_=2;
kF/=2}var hb={yQ:["miter","round","bevel"].indexOf(hs),ln:["butt","round","square"].indexOf(gc),O8:kF,Ek:fK};
if(kW!=null&&kW!="none")hb.gn=(kW.indexOf(",")!=-1?kW.split(","):kW.split(" ")).map(parseFloat);kV.UY.write(fU,hb,s.Mk());
fU.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[j_];fU.strokeStyleOpacity.v.val=100*g8;
if(i2.W4)R.add._sstl=i2.W4}R.add.vstk.fillEnabled.v=!eo;if(eo){R.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}}}else{var i2=Y(F,jR,s,dz.D,$),fL=null,dE=null;
if(i2.e=="SoFi"){fL="SoCo";dE=kV.o9}if(i2.e=="GrFl"){fL="GdFl";dE=kV.oA}if(i2.e=="patternFill"){fL="PtFl";
dE=kV.aO}if(fL!=null){var eS=i2.K.v.Opct.v;if(eS.val!=100){R.JS=Math.round(R.JS*eS.val/100);eS.val=100}R.add[fL]={classID:"null"};
for(var n=0;n<dE.length;n++){var N=dE[n];R.add[fL][N]=i2.K.v[N]}}if(i2.W4)R.add._fstl=i2.W4}var gF=Math.max(ad,b.aV);
if(gF!=0)R.add.vmsk.mO=gF;R.bB();R.tG($);$.U.push(R)}else if((K=="text"||K=="tspan")&&C.textContent!=""){r=z(C,r);
var ja=r.b(),c3=0;ja.concat(s);if(K=="tspan"&&r.x!=0){}else ja.translate(c,0);if(C.children.length>0){var gA=U(C.children[0],b.a5e);
for(var N in gA)if(y.indexOf(N)==-1)D[N]=gA[N]}var gP=D["xml:space"],km=C.textContent;if(gP=="preserve")km=km.replace(/\t/g," ").replace(/\n/g," ");
if(T==null)R.qv(km);R.add.lnsr="rend";R.add.TySh=jM.de(0,0);R.add.TySh.LS=new iW(0,0,100,100);R.add.TySh.M=ja.b();
var jA=R.add.TySh.Oo;jM.Uh(jA,0,km);if(K=="tspan")c+=G*km.length*.5*ja.Mk();var jR=D.fill,cD=D["font-weight"],i4=D["font-family"],dv=D["text-decoration"],as=D.stroke,kF=D["stroke-width"],eK=D["dominant-baseline"];
if(eK=="text-before-edge")c3=G;else if(eK=="middle")c3=G/2;else if(eK=="hanging")c3=G;if(c3!=0)R.add.TySh.M.translate(0,c3);
var k2=jM.Sj(jA,0,1);if(jR&&jR!="none"){var i8=CSS.bT(jR);k2.Uy.FillColor={Type:1,Values:[1,i8.C/255,i8.L/255,i8.X/255]}}if(dv=="underline")k2.Uy.Underline=!0;
k2.Uy.FontSize=Math.round(G);jM.aW(k2,"LiberationSans");if(cD=="bold")jM.aW(k2,"LiberationSans-Bold");
if(i4){i4=i4.split(",")[0].trim();if(i4[0]=="\"")i4=i4.slice(1);if(i4[i4.length-1]=="\"")i4=i4.slice(0,i4.length-1);
var gl=i4+":"+(cD?cD:"normal"),eU={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(eU[gl])jM.aW(k2,eU[gl]);else jM.aW(k2,i4)}if(D["text-anchor"])k2.eE.Justification=["start","end","middle"].indexOf(D["text-anchor"]);
jM.yx(jA,0,km.length,k2);if(as==null||as=="none"){}else{var gE=JSON.parse(kV.v0[kV.order.indexOf("FrFX")]);
gE.Clr.v=f.iF.Zi(CSS.bT(as));gE.Sz.v.val=Math.round(parseFloat(kF)*ja.Mk());g(R,"frameFXMulti",gE)}$.U.push(R)}else if(K=="image"){var c_=X($,C,s);
if(c_){c_.qv(R.getName());c_.Xw=R.Xw;R=c_;$.U.push(R);if(b.aNL)R.AU=b.aNL;b.aNL=null}}else console.log("unknown tag: "+K,C.children.length,C.textContent.length);
if(M!=null){$.U.push(M);W--}}}function X(F,i,$){var H=L(i);if(H&&H.slice(0,4)=="data"){var b=b3.z3(H),r=b,W=F.b0(r,"hey",0,0),V=W.S.b();
V.x=V.y=0;var y=i.getAttribute("width"),c=i.getAttribute("height");if(y)V.r=parseFloat(y);if(c)V.$=parseFloat(c);
var C=z(i);C.concat($);var K=f.Q.Ya(V).I;f.Q.M(K,C,K);W.add.SoLd.Trnf=A.hZ.gX(K);W.add.SoLd.nonAffineTransform=A.hZ.gX(K);
W.Lc(F,!1);return W}}function g(F,i,$){var H=F.add.lmfx;if(H==null){var H=F.add.lmfx=JSON.parse(kV.default);
for(var n=0;n<kV.order.length;n++)H[kV.dv[n]]={t:"VlLs",v:[]}}H[i].v.push({t:"Objc",v:$})}function x(F,i,$,H,b){var r=[{e:6},{e:8,all:0}],W=d($);
if(W=="use"){var V=L($),y=i.getElementById(V.slice(1)),c=new gi;if(d(y)!="rect")c=z(y);c.concat(a(y));
r=x(F,i,y,H,b);f.t.kh(r,c)}else if(W=="path"){var S=$.getAttribute("d");if(S==null)return r;var C=Typr.U.SVGToPath(S);
r=f.Q.Q$({I:C.crds,s2:C.cmds},H,b);f.t.aic(r,H)}else if(W=="rect"){var K=$.getAttribute("rx"),T=new cK(0,0);
j("x",$,F,T,!0);j("y",$,F,T,!1);var D=new cK(0,0);j("width",$,F,D,!0);j("height",$,F,D,!1);r=f.t.I7.Rect(T.x,T.y,D.x,D.y,K?parseFloat(K):0)}else if(W=="circle"||W=="ellipse"){var N=[0,0,0,0],G=["cx","cy","rx","ry","r"];
for(var n=0;n<5;n++){var s=$.getAttribute(G[n]);if(s){s=parseFloat(s);if(n<4)N[n]=s;else N[2]=N[3]=s}}r=f.t.I7.ZH(N[0]-N[2],N[1]-N[3],2*N[2],2*N[3])}else if(W=="polygon"||W=="polyline"||W=="line"){var Q;
if(W=="line")Q=[$.getAttribute("x1"),$.getAttribute("y1"),$.getAttribute("x2"),$.getAttribute("y2")].map(parseFloat);
else Q=$.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
r=f.t.I7.Iu(Q,0,W!="polygon")}return r}function Z(F,i){if(F.endsWith("em"))return i*parseFloat(F.slice(0,F.length-2));
else return parseFloat(F)}function Y(F,i,$,H,r){var W,V,y,c=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]),S=f.t.ft(H),C=i!=null?i.indexOf("("):-1;
if(C!=-1){var K=i.lastIndexOf(")"),T=i.slice(0,C).trim(),D=i.slice(C+1,K).trim();if(D.charAt(0)=="'"||D.charAt(0)=="\"")D=D.slice(1,D.length-1);
if(T=="url"){if(D.charAt(0)=="#"){var N=F.getElementById(D.slice(1));if(N&&d(N).toLowerCase().endsWith("gradient")){y=O(F,N,$,S,H);
var G=eT.ac(y,H);W="GrFl";V={t:"Objc",v:G}}else if(N&&d(N).toLowerCase()=="pattern"&&N.children[0]&&d(N.children[0])=="use"){W="SoFi";
V={t:"Objc",v:c};var s=N.children[0],Q=a(s),q=L(s),R=F.getElementById(q.slice(1)),m;if(L(R)){var E=b3.z3(L(R)).buffer,e=b3.bV(b3.IF(E));
m=e.CE(E)[0]}else{var w=new Uint32Array(4*4);w.fill(4278220799);m={data:w.buffer,_S:new iW(0,0,4,4)}}var M={};
M.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";M.name="someImage";M.kv=[new Uint8Array(m.data),m._S];r.HM(M);
var c=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]);c.Scl.v.val=Math.round(100*S.r*Q.aX);var P=c.phase.v;
P.Hrzn.v=Math.round(S.x+Q.r2*S.r);P.Vrtc.v=Math.round(S.y+Q.pE*S.$);c.Ptrn.v.Idnt.v=M.id;W="patternFill";
V={t:"Objc",v:c}}else{W="SoFi";V={t:"Objc",v:c}}}else console.log("unknown url",D)}else if(T=="rgb"||T=="hsl"||T=="rgba"||T=="hsla"){W="SoFi";
V={t:"Objc",v:c};V.v.Clr.v=f.iF.Zi(CSS.bT(i));if(T=="rgba"||T=="hsla")V.v.Opct.v.val=Math.round(100*parseFloat(i.split(",").pop()))}else if(T=="light-dark"){var I=0,k=0;
for(var n=0;n<D.length;n++){if(D[n]=="(")k++;if(D[n]==")")k--;if(D[n]==","&&k==0){I=n;break}}return Y(F,D.slice(0,I),$,H,r)}else console.log("unknown fill",i)}else{W="SoFi";
V={t:"Objc",v:c};var o=CSS.bT(i);V.v.Clr.v=f.iF.Zi(o);if(o.aX!=null)V.v.Opct.v.val=Math.round(100*o.aX/255)}return{e:W,K:V,W4:y}}function a(F){var i=new gi,$=F.getAttribute("transform");
if($)i=p($);var H=F.getAttribute("style");if(H!=null){var b={};l(b,H,["transform"]);H=b.transform;if(H)i.concat(p(H))}return i}function z(F,i){var $=new gi,H=F.getAttribute("x"),b=F.getAttribute("y");
if(H)$.r2=parseFloat(H);else if(i)$.r2=i.r2;if(b)$.pE=parseFloat(b);else if(i)$.pE=i.pE;return $}function p(F){var i=Typr.U.SVG.readTrnf(F);
return new gi(i[0],i[1],i[2],i[3],i[4],i[5])}function U(F,i){var $={},H="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var n=0;n<H.length;n++){var b=F.getAttribute(H[n]);if(b!=null&&b!="inherit")$[H[n]]=b}var r=F.getAttribute("class");
if(i!=null&&r!=null&&i["."+r]!=null)l($,i["."+r],H);var W=F.getAttribute("id");if(i!=null&&W!=null&&i["#"+W]!=null)l($,i["#"+W],H);
var V=F.getAttribute("style");if(V!=null)l($,V,H);return $}function l(F,i,$){i=i.trim().split(";");for(var n=0;
n<i.length;n++){var H=i[n].split(":"),b=H[0]?H[0].trim():"",r=H[1]?H[1].trim():"";for(var W=0;W<$.length;
W++)if(b==$[W]&&r!="inherit")F[$[W]]=r}}function L(F){var i=F.getAttribute("xlink:href");if(i==null)i=F.getAttribute("href");
if(i==null)i=F.getAttribute("xl:href");return i}function j(F,i,$,H,b){var r=i.getAttribute(F);if(r==null)return;
var W=parseFloat(r);if(r.endsWith("%"))W*=(b?$.r:$.$)/100;if(b)H.x=W;else H.y=W}function O(F,i,$,H,b){var r=j,W=new gi,V=i.getAttribute("gradientTransform"),T=!1;
if(V)W=p(V);W.concat($);var y=d(i)=="linearGradient"?0:1,c=new cK(0,0),S=new cK(1,0),C=c.b();if(y==0){var K=new iW(0,0,1,1);
r("x1",i,K,c,!0);r("y1",i,K,c,!1);r("x2",i,K,S,!0);r("y2",i,K,S,!1);C.QG(c.x,c.y)}if(y==1){if(i.getAttribute("cx"))c.x=parseFloat(i.getAttribute("cx"));
if(i.getAttribute("cy"))c.y=parseFloat(i.getAttribute("cy"));S.QG(c.x,c.y);C.QG(c.x,c.y);if(i.getAttribute("r"))S.x+=parseFloat(i.getAttribute("r"));
if(i.getAttribute("fx"))C.x=parseFloat(i.getAttribute("fx"));if(i.getAttribute("fy"))C.y=parseFloat(i.getAttribute("fy"))}var D=i;
while(!0){if(D.getAttribute("gradientUnits")=="userSpaceOnUse")T=!0;var N=L(D);if(N==null||N=="none")break;
D=F.getElementById(N.slice(1))}if(!T)W=new gi(H.r,0,0,H.$,H.x,H.y);W=eT.Uv(c,S,W);var G=eT.TZ(y,W,b);
eT.aor(G,c,S,C);var s=i.children,Q=G[1]=[];if(s.length==0){var q=L(i);if(q==null)throw"gradient has no stops";
var R=F.getElementById(q.slice(1));if(R==null){console.log(q.slice(1))}else Q=G[1]=O(F,R,W,H,b)[1]}else for(var n=0;
n<s.length;n++){var m=s[n],E=U(m),e=E["stop-color"],w=E["stop-opacity"],M=m.getAttribute("offset");if(e==null)e="#000000";
w=w==null?1:parseFloat(w);var P=M?parseFloat(M):0;if(M&&M.endsWith("%"))P/=100;e=CSS.bT(e);if(e.aX!=null)w*=e.aX/255;
Q.push([P,[e.C/255,e.L/255,e.X/255],parseFloat(w),.5])}return G}return{lS:v}}();aF.IT=function(){var d=null,v="",t="",h;
function X(y,c,S,C){var K=[],G=" { ",s=" } ",Q=!1;d=c;t=c.el?"":"\t";v=c.el?"":" ";var T=c.a6U,D=c.aqI;
h=j8==0?new iW(0,0,y.r,y.$):y.e9(!0);if(C!=null){h=y.root.children[C].B.x1();T=h.r;D=h.$}K.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[h.x,h.y,h.r,h.$].join(" ")+"\" width=\""+T+"\" height=\""+D+"\">");
if(!c.el)K.push(g(1)+"<title>"+i(y.name.split(".")[0])+"</title>");var N={dN:[],Yx:[],q8:0,P$:0,a5w:0,ayp:{},RD:{},Vo:0,st:{},Rp:{},aFo:0,FP:[]};
L(y,N,y.root.children,1,c,S,C);if(N.dN.length!=0){K.push(g(1)+"<defs>");K=K.concat(N.dN);K.push(g(1)+"</defs>")}K.push(g(1)+"<style>");
if(c.el){G="{";s="}"}for(var n=0;n<y.U.length;n++)if(y.U[n].add.TySh)Q=!0;if(Q&&!c.aHz&&!c.agf)K.push(g(2)+"tspan"+G+"white-space:pre"+s);
for(var q in N.st)K.push(g(2)+"."+q+G+N.st[q]+s);K.push(g(1)+"</style>");K=K.concat(N.Yx);K.push("</svg>");
K=K.join(c.el?"":"\n");return B.j9(K)}function g(bW){var y="";for(var n=0;n<bW;n++)y+=t;return y}function x(bW,y){if(y==null)y=1;
var c=""+parseFloat(bW.toFixed(y));if(c.startsWith("0."))c=c.slice(1);return c}function Z(y,c){var S=y.add.lmfx;
if(S)S=S[c].v[0];if(S)S=S.v;if(S&&!S.enab.v)S=null;return S}function Y(y,c){var S=Z(y,"frameFXMulti");
if(S){var C=S.Sz.v.val;if(S.Styl.v.FStl=="OutF"){c.push("paint-order:stroke fill markers");C*=2}l(c,CSS.oc(S.Clr.v),1);
if(C!=1)c.push("stroke-width: "+C);c.push("stroke-linejoin: round;")}}var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function z(y){var c=a.length,S="";for(var C=1;C<10;C++){var K=(c-10)*~~Math.pow(c,C-1);if(y<K){for(var n=0;
n<C;n++){var T=n==C-1?10:0,D=c-T,N=y%D;S=a[N+T]+S;y=Math.floor((y-N)/D)}break}y-=K}return S}function p(y,c,S,C){if(y.length!=0){if(C==null)C="s";
var K=y.join(";"),T=c.Rp[K];if(T==null){T=d.el?z(c.aFo):C+c.aFo;c.aFo++;c.Rp[K]=T;c.st[T]=K}if(S)S.push(T);
return T}}function U(y){if(d.el&&y.length==7&&y[0]=="#"){if(y[1]==y[2]&&y[3]==y[4]&&y[5]==y[6])y="#"+y[1]+y[3]+y[5]}return y}function l(y,c,S){c=U(c);
if(c!="#000"||S==1)y.push((S==0?"fill:":"stroke:")+v+c)}function L(y,c,S,C,K,T,D){var N=!1;for(var G=0;
G<S.length;G++){var s=S[G].B,Q=s.add.lsct;if(s.ej)continue;if(s.add.artb&&D!=null&&G!=D)continue;if(!s.cD&&S[G+1]&&S[G+1].B.cD&&s.c5()&&s.add.vmsk){var q=[];
H(s,s.add.vmsk,c,q);c.Yx.push(g(C)+"<g "+q[0]+">");C++;N=!0}else if(!s.cD&&S[G-1]&&S[G-1].B.cD&&N){C--;
c.Yx.push(g(C)+"</g>");N=!1}var R=s.add.vmsk,m=s.add.vogk,E=s.add.vstk,e=s.add.TySh;if(R&&!R.isEnabled)R=E=null;
var w=[];if(!K.hidden&&!s.ZC())continue;var M=s.JS/255,P=s.add.iOpa?s.add.iOpa/255:1;if(s.h5()){M*=P;
P=1}if(M!=1)w.push("opacity:"+v+x(M,2));if(P!=1)w.push("fill-opacity:"+v+x(P,2));if(s.uF!="norm"){var I=gL.AJ[gL.iX.indexOf(s.uF)];
if(I!=null)w.push("mix-blend-mode:"+v+I)}if(!s.ZC())w.push("display:"+v+"none");var q=[],k=[],o=s.getName(),af=o.indexOf(" .");
if(!K.el&&o!="Layer")q.push("id=\""+i(o)+"\"");var J=lb.aiv(s.add.lmfx,s.add),at=J[0],ke=J[1],c_=s.add.SoLd;
if(c_&&c_.filterFX){var ag=c_.filterFX.v;if(ag.enab.v&&ag.filterFXList.v.length!=0)c_=null}var dz=[];
if(R&&!s.c5()&&!s.h5())H(s,R,c,dz);if(dz.length!=0)c.Yx.push(g(C)+"<g "+F(dz,k)+">");if(s.h5()){var kL=S[G].children;
if(kL.length==1&&kL[0].B.add.SoLd&&!K.NY){}else{var aq=R,dh=kL.length==0?null:kL[kL.length-1].B;if(j8==1&&dh&&dh.ej&&dh.ZC())aq=dh.add.vmsk;
H(s,aq,c,q);if(w.length!=0)q.push("style=\""+w.join(";")+"\"");if(at){var gK=CSS.oc(at.Clr.v),ad="f"+c.P$;
c.P$++;c.Yx.push(g(C)+"<filter id=\""+ad+"\">");c.Yx.push(g(C+1)+"<feFlood flood-color=\""+gK+"\" flood-opacity=\""+x(at.Opct.v.val/100,2)+"\" />");
c.Yx.push(g(C+1)+"<feBlend mode=\""+gL.AJ[gL.iX.indexOf(gL.__(at.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
c.Yx.push(g(C+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");c.Yx.push(g(C)+"</filter>");
q.push("filter=\"url(#"+ad+")\"")}var dc=F(q,k),lq=K.el&&dc=="";if(!lq)c.Yx.push(g(C)+"<g"+(dc==""?"":" "+dc)+">");
L(y,c,kL,C+1,K,T);if(!lq)c.Yx.push(g(C)+"</g>")}}else if(s.c5()&&R==null){b(y,w,s.add,c,h,K);if(w.length!=0)q.push("style=\""+w.join(";")+"\"");
c.Yx.push(g(C)+"<rect width=\""+h.r+"\" height=\""+h.$+"\" "+F(q,k)+"/>")}else if(R&&s.c5()&&s.add.PtFl==null){b(y,w,s.add,c,_,K,R.D);
p(w,c,k);var hn,dF=null,c3=0,i8;if(m.length!=0){hn=m[0].v;dF=hn.keyOriginType;if(dF)dF=dF.v;if(dF==2){var dr=f._5.nw(hn);
c3=dr[0];for(var n=0;n<3;n++)if(c3!=dr[n+1])dF=null}}if(m.length==1&&dF==5&&Math.abs(f._5.aiJ(hn))<1e-4){var jO=f._5.zy(hn),d1=(jO[0]+jO[2])/2,h3=(jO[1]+jO[3])/2,d5=d1-jO[0],em=h3-jO[1],fl=Math.abs(d5-em)<.01,lA=fl?"r=\""+x(d5)+"\"":"rx=\""+x(d5)+"\" ry=\""+x(em)+"\"";
i8="<"+(fl?"circle":"ellipse")+" "+F(q,k)+" cx=\""+x(d1)+"\" cy=\""+x(h3)+"\" "+lA+"/>"}else if(m.length==1&&dF==2&&c3!=0&&Math.abs(f._5.aiJ(hn))<1e-4){var jO=f._5.zy(hn),av=jO[0],ah=jO[1],gE=jO[2]-jO[0],fj=jO[3]-jO[1],bR="";
if(av!=0)bR+=" x=\""+x(av)+"\"";if(ah!=0)bR+=" y=\""+x(ah)+"\"";bR+=" width=\""+x(gE)+"\"";bR+=" height=\""+x(fj)+"\"";
bR+=" rx=\""+x(c3)+"\"";i8="<rect "+F(q,k)+bR+"></rect>"}else{var bD,e1;if(j8==0){var am=f.t.lB(R.D,1);
bD=am.c2;e1=am.rG}else{var dj=f.Q.lR(R.D);bD=Typr.U.pathToSVG({crds:dj.I,cmds:dj.s2},1);e1=R.Dk}if(e1!=0){q.push("fill-rule=\"evenodd\"")}i8="<path "+F(q,k)+" d=\""+bD+"\"/>"}c.Yx.push(g(C)+i8)}else if(e&&K.aHz){v=K.el?"":" ";
var ja=e.Oo,aj=new cl(ja,T,e.s1),dS=null;if(at)dS=CSS.oc(at.Clr.v);if(ke){var jO=s.S.b();V(ke,c,jO,K);
dS="url(#g"+c.q8+")"}if(dS)w.push("fill:"+v+dS);Y(s,w);var dj=ka.qp(aj,e,!0),eW=f.Q.Tl(dj);for(var be in eW){var cI=w.slice(0),kP=k.slice(0),i0=q.slice(0);
if(dS==null){l(cI,be.slice(0,7),0);if(be.length>7){var ac=ka.aJ9(be.slice(7));l(cI,W(ac.rA),1);r(ac,cI)}}p(cI,c,kP);
var jR=eW[be],eo=Typr.U.pathToSVG({crds:jR.I,cmds:jR.s2},1);c.Yx.push(g(C)+"<path "+F(i0,kP)+(K.el?"":" "+O(e))+" d=\""+eo+"\"/>")}}else if(e&&!K.agf){var ja=e.Oo,eP=e.M.b(),dS=null;
w.push("transform:"+v+$(eP));var as=jM.W3(ja),aj=new cl(ja,T,e.s1);Y(s,w);if(w.length!=0)q.push("style=\""+w.join(";")+"\"");
c.Yx.push(g(C)+"<text "+F(q,k)+" >");if(at)dS=CSS.oc(at.Clr.v);if(ke){var jO=s.S.b();jO.x-=eP.r2;jO.y-=eP.pE;
V(ke,c,jO,K);dS=" url(#g"+c.q8+")"}for(var n=0;n<aj.eE.length;n++){var kF=aj.eE[n];if(kF.DI.length==1&&kF.DI[0].sr)continue;
for(var kW=0;kW<kF.w4.length;kW++){var hs=kF.w4[kW],h3=kF.rT.y+hs.rT.y,gc=kF.DI[hs.start].start,fK=kF.DI[hs.end-1].end,lo=jM.aqz(ja,gc,fK),cR="";
for(var fU=0;fU<lo.length;fU++){var g8=aj.Ev(gc),i2=lo[fU],jQ=jM.Sj(ja,gc,gc),eS=jQ._G[jQ.Uy.Font].Name,be=jM.pq(jQ.Uy.FillColor),ji=Math.round(jQ.Uy.FontSize),l7=as.slice(gc,gc+i2);
if(jQ.Uy.FontCaps==2)l7=l7.toUpperCase();var j_=new gi;j_.translate(g8.BS.x,-h3);var hb=[];CSS.aIE(hb,jQ,null,!0,!0,dS);
var fL=p(hb,c,null,"t");fL=fL?" class=\""+fL+"\"":"";var d1=g8.BS.x,dE=j(jQ,l7);cR+="<tspan "+(fU==0?"x=\""+x(g8.BS.x)+"\"":"")+" y=\""+x(h3)+"\""+fL+dE+">"+i(l7)+"</tspan>";
gc+=i2}c.Yx.push(g(C+1)+cR)}}c.Yx.push(g(C)+"</text>")}else if(c_&&K.NY&&at==null){var ad=c_.Idnt.v,gF=0,gA=c_.Crop?c_.Crop.v:null;
console.log(gA);if(c.RD[ad]!=null)gF=c.RD[ad];else{c.Vo++;gF=c.Vo;c.RD[ad]=c.Vo;var gP=y.Cq(ad,gA),cD="";
if(gP==null)return;var km=gP.Rc,jA=b3.IF(gP.raw.buffer);console.log(jA);if(jA=="pdf"){var i4=new hc("h");
b3.bV("PDF").CE(gP.raw.buffer,i4);i4.nA();i4.Zd();i4.uM();i4.Yn();if(c_.Crop&&c_.Crop.v==1){A.Fv.za(i4,i4.root.pT(i4,!0))}var dv=b3.bV("SVG").V$(i4,i4.r,i4.$,null,{FP:T});
cD="data:image/svg+xml;base64,"+b3.cq(dv)}else if(jA=="jpg"||jA=="png"||jA=="gif"||jA=="svg"){var eK={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
cD="data:"+eK[jA]+";base64,"+b3.cq(gP.raw.buffer)}else{cD=b3.Zx(km[0].buffer,km[1].r,km[1].$)}var k2=c_.Sz.v;
c.dN.push(g(2)+"<image width=\""+k2.Wdth.v+"\" height=\""+k2.Hght.v+"\" id=\"img"+gF+"\" href=\""+cD+"\"/>")}var gl=f.G.V0(c_);
if(w.length!=0)q.push("style=\""+w.join(";")+"\"");var eU=F(q,k);c.Yx.push(g(C)+"<use "+eU+" href=\"#img"+gF+"\" transform=\""+$(gl)+"\"/>")}else if(!s.S.HP()&&(K.NY||e)){if(w.length!=0)q.push("style=\""+w.join(";")+"\"");
var eU=F(q,k),d9=s.buffer;if(at)d9=lb.ahK(d9,at,s.S);var e1=s.S;c.Vo++;var cD=b3.Zx(d9.buffer,e1.r,e1.$,"png",null,!0);
c.dN.push(g(2)+"<image "+O(e)+" width=\""+s.S.r+"\" height=\""+s.S.$+"\" id=\"img"+c.Vo+"\" href=\""+cD+"\"/>");
c.Yx.push(g(C)+"<use "+eU+" href=\"#img"+c.Vo+"\" x=\""+e1.x+"\" y=\""+e1.y+"\"/>")}if(dz.length!=0)c.Yx.push(g(C)+"</g>")}if(N){C--;
c.Yx.push(g(C)+"</g>");N=!1}}function j(y,c){var S=y.Uy.Tracking,C="";if(S!=null&&S!=0){S=Math.round(S*y.Uy.FontSize/1e3);
C=" dx=\"0";for(var K=1;K<c.length;K++)C+=" "+S;C+="\" "}return C}function O(y){if(y==null)return"";
var c=y.Oo,S=jM.W3(c);S=i(S.slice(0,S.length-1));return"aria-label=\""+S+"\" "}function F(y,c){if(c.length!=0)y.push("class=\""+c.join(" ")+"\"");
return y.join(" ")}function i(y){return String(y).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function $(y){var c=[y.aX,y.X,y.Wp,y.r7,y.r2,y.pE];
for(var n=0;n<6;n++)c[n]=x(c[n],3);return"matrix("+c.join(",")+")"}function H(y,c,S,C){if(c||y.add.artb){var K;
if(c)K=f.t.lB(c.D).c2;else{var T=y.x1(),D=f.Q.Ya(T);K=Typr.U.pathToSVG({crds:D.I,cmds:D.s2},1)}S.a5w++;
C.push("clip-path=\"url(#cp"+S.a5w+")\"");S.dN.push(g(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+S.a5w+"\">");
S.dN.push(g(3)+"<path d=\""+K+"\"/>");S.dN.push(g(2)+"</clipPath>")}}function b(y,c,S,C,K,T,D){var N=S.vmsk,G=S.lmfx,s=[];
if(N&&N.mO!=0){var Q=x(N.mO);if(C.ayp[Q]==null){C.P$++;C.ayp[Q]=C.P$;C.dN.push(g(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+C.P$+"\"> <feGaussianBlur stdDeviation=\""+Q+"\"/> </filter>")}s.push("url(#f"+C.ayp[Q]+")")}if(G)for(var n=0;
n<kV.order.length;n++){var q=kV.order[n],R=kV.dv[n],m=G[R].v;console.log(G);for(var E=0;E<m.length;E++){var e=m[E].v,w=e.classID;
if(!e.enab.v||!G.masterFXSwitch.v)continue;if(w=="OrGl"||w=="DrSh"){C.P$++;s.push("url(#f"+C.P$+")");
var M=0,P=0,I=e.blur.v.val/2.4,k=e.Opct.v.val/100;if(w=="DrSh"){var o=e.uglg&&e.uglg.v?y.$t():e.lagl.v.val;
o=o*(Math.PI/180);var af=e.Dstn.v.val;M=-Math.cos(o)*af;P=Math.sin(o)*af}if(w=="OrGl")k/=e.Inpr.v.val/100;
var J="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+C.P$+"\" >";J+="<feDropShadow dx=\""+M+"\" dy=\""+P+"\" stdDeviation=\""+I+"\" flood-color=\""+CSS.oc(e.Clr.v)+"\" flood-opacity=\""+x(k)+"\"/>";
J+="</filter>";C.dN.push(g(2)+J)}}}if(s.length!=0)c.push("filter:"+v+s.join(" "));var at=S.vstl;if(at==null)at=hc.WH(S,y);
for(var n=0;n<2;n++){var ke=n==0?at.W4:at.rA;if(ke.length==0){if(n==0)c.push("fill:"+v+"none")}else if(ke.length==3)l(c,W(ke),n);
else{V(ke,C,K,T,D);l(c,"url(#g"+C.q8+")",n)}}if(at.rA.length!=0){r(at,c)}}function r(y,c){var S=y.ln,C=y.yQ,K=y.O8,T=y.Q0,D=y.gn;
if(T==2){K*=2;c.push("paint-order:stroke fill markers")}if(S!=0)c.push("stroke-linecap:"+v+["butt","round","square"][S]);
if(C!=0)c.push("stroke-linejoin:"+v+["miter","round","bevel"][C]);else if(y.Ek!=4)c.push("stroke-miterlimit:"+y.Ek);
if(K!=1)c.push("stroke-width:"+v+x(K));if(D.length!=0)c.push("stroke-dasharray:"+v+D.join(","))}function W(y){return CSS.cZ({C:y[0]*255,L:y[1]*255,X:y[2]*255})}function V(y,c,S,C,K){if(K==null)K=f.t.I7.Rect(S.x,S.y,S.r,S.$);
if(!(y instanceof Array))y=eT.ou(y,K);c.q8++;var T=y[0],D=(T==1?"radial":"linear")+"Gradient",N=g(2)+"<"+D+" id=\"g"+c.q8+"\"",G="";
if(C.el){if(c.q8==1)c.dN.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");G=" href=\"#P\""}else G=" gradientUnits=\"userSpaceOnUse\"";
var s=eT.hN(y,K),Q=[new cK(0,0),new cK(1,0)];G+=" gradientTransform=\""+$(s)+"\"";var q=C.el?2:3;if(T==0)c.dN.push(N+" x2=\"1\""+G+">");
if(T==1){if(y[2][6]!=0){var R=y[2][5]*Math.PI/180,m=y[2][6];c.dN.push(N+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+x(Math.cos(R)*m,q)+"\" fy=\""+x(-Math.sin(R)*m,q)+"\""+G+">")}else c.dN.push(N+" cx=\"0\" cy=\"0\" r=\"1\""+G+">")}var E=y[1];
for(var n=0;n<E.length;n++){var e=E[n],w=e[0],M=e[1],P=e[2];P=P==1?"":" stop-opacity=\""+x(P,q)+"\"";
var I=w==0&&C.el?"":" offset=\""+x(w,q)+"\"",k=W(M);k=C.el&&k=="#000000"?"":" stop-color=\""+U(k)+"\"";
c.dN.push(g(3)+"<stop"+I+k+P+"/>")}c.dN.push(g(2)+"</"+D+">")}aF.Xt=$;return X}();aF.I7=function(d,v,t,h,X){var g=[],x=aF.I7,Z=!1,Y={F0:d,uV:v,Im:[!0,!0,!0],OK:!1,Fl:t,abo:0};
Y.wr=Math.round(Math.max(d,v)*(.02+x.V5(Y)*.03));Y.mh=x.azU(Y);Y.$r=x.a93(Y.mh,(x.V5(Y)<.5?-1:1)*(.2+x.V5(Y)*.3));
if(x.V5(Y)<.5){var a=Y.mh;Y.mh=Y.$r;Y.$r=a}Y.a7_=x.V5(Y)<.4&&x.aj2(Y.$r,{C:1,L:1,X:1})>.3;Y.a8L=x.V5(Y)<.5?0:1;
g.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+d+" "+v+"\" width=\""+d+"\" height=\""+v+"\">");
Y.ad2=h[Math.floor(x.Sc(Y)*h.length)];Y.a2z=h[Math.floor(x.Sc(Y)*h.length)];g.push("<style>");g.push("@font-face {  font-family: "+Y.ad2[2]+";  src: url("+iP.nv("rsrc/fonts/"+Y.ad2[5])+");  }");
g.push("@font-face {  font-family: "+Y.a2z[2]+";  src: url("+iP.nv("rsrc/fonts/"+Y.a2z[5])+");  }");
g.push("</style>");var z=[0,0,d,v],p=z;if(X==null)g.push("<path style=\"fill: "+x.qO(Y.mh)+"\" d=\""+x.Rect(z[0],z[1],z[2]-z[0],z[3]-z[1])+"\" id=\"Background\" />");
else{Y.OK=!0;x.acD(Y,z,g,X)}if(x.V5(Y)<.25&&!Y.OK){Y.Im[0]=Y.Im[2]=!1;x.afE(z,Y,g);p=z}else if(x.V5(Y)<.25||Y.OK)p=z;
else{var U=.52+x.V5(Y)*.2;if(x.V5(Y)<.5)U=1-U;var l=z.slice(0),L=z.slice(0);if(x.V5(Y)<.5)l[2]=L[0]=Math.round(U*d);
else l[3]=L[1]=Math.round(U*v);if(x.V5(Y)<.5){var a=l;l=L;L=a}p=l;x.ayi(Y,L,g,X)}x.azy(Y,p,g);g.push("</svg>");
g=g.join("\n");var j=f.m(Math.round(g.length*1.5)),O=B.HN(g,j,0);return[j.buffer.slice(0,O),Y.MP]};aF.I7.afE=function(d,v,t){var h=aF.I7,X=d[2]-d[0],g=d[3]-d[1];
if(h.V5(v)<.5){t.push("<path id=\"Border\" style=\"fill: "+h.qO(v.$r)+"\" d=\""+h.adZ(d[0],d[1],d[2]-d[0],d[3]-d[1],v.wr)+"\" />")}else{var x=h.V5(v)<.5?0:1,Z=(x==0?g:X)/4,Y=h.rV(v,x,d,t,Z,!0),Y=h.rV(v,x+2,d,t,Z,!0,Y)}};
aF.I7.azy=function(d,v,t){var h=aF.I7,X="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),g=2*Math.floor(h.V5(d)*X.length/2),x=v[2]-v[0],Z=v[3]-v[1],a=0,p=0;
d.v_=(d.F0+x)*.5*(.04+h.V5(d)*.05);d.v_=Math.min(d.v_,Z*.4,x*.12);d.v_=Math.round(d.v_);var Y=Math.min(d.v_*X[g].length*(.35+.3*h.V5(d)),x*.9),z=(v[1]+v[3])/2,U=f.iP(d.mh)<.85?{C:1,L:1,X:1}:{C:.1,L:.1,X:.1};
if(h.V5(d)<.25&&d.Im[0]){p=0;a=v[0]+d.wr}else if(h.V5(d)<.33&&d.Im[2]){p=2;a=v[2]-d.wr}else{p=1;a=(v[0]+v[2])/2}var l=U.C==1?"0,0,0":"255,255,255",L=d.OK&&h.V5(d)<1;
if(L){var j=v[0],O=x,F=z-d.v_*1.1,i=d.v_*2.2,$=.7;if(p==1&&h.V5(d)<.5){j=F=.2*Math.min(x,Z);O=x-2*F;
i=Z-F-F}else if(h.V5(d)<.7){j=F=0;O=x;i=Z;$=.25}t.push("<path id=\"Strip\" style=\"fill: rgb("+l+"); opacity: "+$+"\" d=\""+h.Rect(j,F,O,i)+"\" />")}if(h.V5(d)<.4){var H=d.v_*.07;
H*=1.5+h.V5(d)*1;if(p==-1&&x/Z<3&&!L){t.push("<path id=\"Bar-bottom\" style=\"fill: "+h.qO(U)+"\" d=\""+h.Rect(a-Y/2,z+d.v_*1.1-H/2,Y,H)+"\" />");
t.push("<path id=\"Bar-top\"    style=\"fill: "+h.qO(U)+"\" d=\""+h.Rect(a-Y/2,z-d.v_*1.1-H/2,Y,H)+"\" />")}if(p!=1){t.push("<path id=\"Bar\" style=\"fill: "+h.qO(U)+"\" d=\""+h.Rect(a-H/2,z-d.v_*.8,H,d.v_*.8*2)+"\" />");
a+=(p==0?1:-1)*d.v_/3}}var b=d.v_*.4;t.push(h.aci(X[g+1],a,z+b*1.6,b,U,p,d.a2z));t.push(h.aci(X[g],a,z+d.v_*.04,d.v_,U,p,d.ad2))};
aF.I7.ayi=function(d,v,t,h){var X=v[2]-v[0],g=v[3]-v[1],x=Math.max(X,g),Z=Math.min(X,g),Y=aF.I7;if(x/Z<5&&!d.OK&&!1){Y.acD(d,v,t,h)}else if(Y.V5(d)<0)t.push("<path style=\"fill: "+Y.qO(d.$r)+"\" d=\""+Y.Rect(v[0],v[1],X,g)+"\" />");
else{var a=0;if(v[3]!=d.uV)a=0;if(v[2]!=d.F0)a=3;if(v[0]!=0)a=1;if(v[1]!=0)a=2;var z=a+2&3;if(x/Z<3){var p=Y.a5f(z),U=p[Math.round(Y.V5(d)*(p.length-1))],l=U.cF.slice(0,4),L=l.indexOf(1);
U=f.v(U);var j=-1;if(l!="0000"){var O=new gi;if(U.cF[5]=="0"){if(L==3&&a==1){j=1;O.scale(-1,1)}else j=L}else{var F=z;
while(F==z)F=Math.floor(Y.V5(d)*4)&3;O.rotate((-L+F)*Math.PI/2)}Y.M(U,O)}var i=Y.mo(U),$=X-2*d.wr,H=g-2*d.wr;
if(j!=-1){if((j&1)==0)H-=d.wr;else $-=d.wr}var b=Math.min($/i.r,H/i.$),r=new gi;r.translate(-i.x,-i.y);
r.scale(b,b);var W=(X-i.r*b)/2,V=(g-i.$*b)/2;if(j!=-1){if(j==3)W=0;if(j==0)V=0;if(j==1)W=X-i.r*b;if(j==2)V=g-i.$*b}r.translate(v[0]+W,v[1]+V);
Y.N4(d,U,r,d.$r,t)}else{Y.rV(d,a,v,t,1e9)}}};aF.I7.acD=function(d,v,t,h){var X=v[2]-v[0],g=v[3]-v[1],x=Math.max(X,g),Z=Math.min(X,g),Y=aF.I7,a=Y.Sc(d),z,p,U,l=h[0]instanceof ArrayBuffer;
if(l){z="data:image/jpg;base64,"+dY.VD(h[0]);p=h[1];U=h[2]}else{var L=Math.floor(a*h.length),j=h[L];
d.MP=j;z=j.webformatURL;p=j.webformatWidth;U=j.webformatHeight}var O=v[0],F=v[1],i=X,$=g;if(X/g>p/U){$=i*U/p;
F=F-($-g)/2}else{i=$*p/U;O=O-(i-X)/2}if(l){t.push("<defs>");t.push("<image width=\""+p+"\" height=\""+U+"\" id=\"Background\" href=\""+z+"\" />");
t.push("</defs>");var H=i/p;t.push("<use href=\"#Background\" transform=\""+aF.Xt(new gi(H,0,0,H,O,F))+"\" />")}else{var b="cp"+Math.random();
t.push("<clipPath id=\""+b+"\">");t.push("<path style=\"fill: "+Y.qO(d.$r)+"\" d=\""+Y.Rect(v[0],v[1],X,g)+"\" />");
t.push("</clipPath>");t.push("<image  clip-path=\"url(#"+b+")\" xlink:href=\""+z+"\" x=\""+O+"\" y=\""+F+"\" width=\""+i+"\" height=\""+$+"\" />")}};
aF.I7.aci=function(d,v,t,h,X,g,x){var Z=aF.I7;return"<text x=\""+v+"\" y=\""+t+"\" style=\"fill:"+Z.qO(X)+"; font-size:"+h+"px; text-anchor:"+["start","middle","end"][g]+"; font-family:"+x[2]+";\"><tspan>"+d+"</tspan></text>"};
aF.I7.N4=function(d,v,t,h,X){var g=aF.I7,x=[];for(var n=0;n<v.Pd.length;n++){x.push(h);if(d.a7_){h=(n&1)==d.a8L?{C:1,L:1,X:1}:x[0]}}X.push("<g id=\""+v.cF.split("-")[2]+":::\" style=\"transform: "+aF.Xt(t)+";\" >");
for(var n=0;n<v.Pd.length;n++){var Z=v.Pd[n];h=x.pop();X.push("<path style=\"fill: "+(h?g.qO(h):"#"+Z[0])+"\" d=\""+Typr.U.pathToSVG({crds:Z[1].I,cmds:Z[1].s2})+"\" />")}X.push("</g>")};
aF.I7.aBx=function(){if(SHPS[0].cF)return;for(var n=0;n<SHPS.length;n++){var d=SHPS[n],v=d[1],t=[];for(var h=0;
h<v.length;h++){var X=v[h],g=Typr.U.SVGToPath(X[1]);t.push([X[0],{s2:g.cmds,I:g.crds}])}SHPS[n]={cF:d[0],Pd:t}}};
aF.I7.a5f=function(d){var v=SHPS;aF.I7.aBx();var t=[];for(var n=0;n<v.length;n++){var h=v[n],X=h.cF.slice(0,4);
if(X=="0000"){t.push(h);continue}if(["1000","0100","0010","0001"].indexOf(X)==-1)continue;var g=X.indexOf("1");
if(h.cF[5]=="0"&&d==g&&g!=3)continue;t.push(h)}return t};aF.I7.rV=function(d,v,t,h,X,g,x){var Z=SHPS,i,$;
aF.I7.aBx();var Y=aF.I7,a=[];for(var n=0;n<Z.length;n++){var z=Z[n],p=z.cF.slice(0,4);if(["1110","1101","1011","0111"].indexOf(p)==-1)continue;
var U=p.indexOf("0")+2&3;if(z.cF[5]=="0")if(g==!0||v!=U&&!(v==1&&U==3))continue;a.push(z)}var l=x!=null?x:Math.floor(Y.V5(d)*a.length),z=a[l],z=f.v(z),p=z.cF.slice(0,4),U=p.indexOf("0")+2&3;
if(U==3&&v==1)f.M(z,new gi(1,0,0,-1,0,1e3));var L=new gi;L.translate(-500,-500);L.rotate(-U*Math.PI/2);
L.translate(500,500);Y.M(z,L);var j=t[3]-t[1],O=t[2]-t[0],F=Y.mo(z);if(F.y<0){F.$+=F.y;F.y=0}if(F.y>0){F.$+=F.y;
F.y=0}if((v&1)==0){$=j;i=O}else{i=j;$=O}var H=Math.min(Math.min(.5+.5*Y.V5(d))*Math.min(O,j),X)/F.$,b=Math.ceil(i/(1e3*H)),r=new gi,W=new gi;
W.scale(H,H);if(v==0||v==2){W.translate(-(O/2),-(j/2));W.rotate(-v*Math.PI/2);W.translate(O/2+t[0],j/2+t[1])}else{W.rotate(Math.PI/2);
W.scale(1,-1);W.translate(t[0],t[1]);if(v==1){W.scale(-1,1);W.translate(O,0)}}h.push("<g id=\"Border-"+["top","right","bottom","left"][v]+":::\">");
for(var n=0;n<b;n++){var V=r.b();V.concat(W);Y.N4(d,z,V,d.$r,h);r.translate(1e3-2,0)}h.push("</g>");
return l};aF.I7.Rect=function(d,v,t,h){return Typr.U.pathToSVG({crds:[d,v,d+t,v,d+t,v+h,d,v+h],cmds:["M","L","L","L","Z"]})};
aF.I7.adZ=function(d,v,t,h,X){var g=[d,v,d+t,v,d+t,v+h,d,v+h];d+=X;v+=X;t-=2*X;h-=2*X;g.push(d,v,d,v+h,d+t,v+h,d+t,v);
return Typr.U.pathToSVG({crds:g,cmds:"M L L L Z M L L L Z".split(" ")})};aF.I7.a93=function(d,v){var t=f.Kt(d.C,d.L,d.X);
t.Se=Math.max(.1,Math.min(.9,t.Se+v));return f.aU(t.uV,t.Wx,t.Se)};aF.I7.ayj=function(d,v){var t=f.Kt(d.C,d.L,d.X);
t.uV+=v;return f.aU(t.uV,t.Wx,t.Se)};aF.I7.alk=function(d){var v=f.Kt(d.C,d.L,d.X);v.Se=1-v.Se;return f.aU(v.uV,v.Wx,v.Se)};
aF.I7.aj2=function(d,v){var t=d.C-v.C,h=d.L-v.L,X=d.X-v.X;return Math.sqrt(t*t+h*h+X*X)};aF.I7.azU=function(d){var v=aF.I7;
return{C:v.V5(d),L:v.V5(d),X:v.V5(d)}};aF.I7.qO=function(d){return CSS.cZ({C:d.C*255,L:d.L*255,X:d.X*255})};
aF.I7.mo=function(d){var v=d.Pd,t=new iW;for(var n=0;n<v.length;n++)t=t.Ue(f.Q.mo(v[n][1].I));return t};
aF.I7.M=function(d,v){var t=d.Pd;for(var n=0;n<t.length;n++)f.Q.M(t[n][1].I,v,t[n][1].I)};aF.I7.V5=function(d){d.abo++;
var v=d.abo&3;if(v==0)d.Fl=aF.I7.X1(d.Fl);var t=d.Fl>>>8*v&255;return t*(.99999999/255)};aF.I7.Sc=function(d){var v=aF.I7.X1(d.Fl);
d.Fl=aF.I7.X1(v);return v*(1/4294967295)};aF.I7.X1=function(d){d=(d^61^d>>>16)>>>0;d=d+(d<<3)>>>0;d=(d^d>>>4)>>>0;
d=d*668265261>>>0;d=(d^d>>>15)>>>0;return d};var aQ={};aQ.parse=function(d){var v=new Uint8Array(d),t=null;
if(v[0]==80&&v[1]==75){var h=Date.now(),X=UZIP.parse(v.buffer),t=X["document.json"];t=JSON.parse(B.I$(t,0,t.length));
aQ.UQ(t,X)}else{var g=fu.parse(d);t=aQ.agt(g[2][0][1])}return t};aQ.UQ=function(d,v){var t=typeof d;
if(t=="string"||t=="number"||t=="boolean"||d==null)return d;if(d instanceof Array){for(var n=0;n<d.length;
n++)d[n]=aQ.UQ(d[n],v);return d}var h=d._class;if(h==null)return d;if(h=="MSJSONFileReference"){var X=d._ref;
if(!1){}else if(v[X+".json"]!=null){var g=v[X+".json"],x=g.length;for(var n=0;n<x;n++)if(g[n]==11||g[n]==3)g[n]=32;
var Z=B.I$(g,0,x);d=JSON.parse(Z)}else if(v[X+".png"]!=null)return{key:X.split("/").pop(),bdata:v[X+".png"]};
else if(v[X+".jpg"]!=null)return{key:X.split("/").pop(),bdata:v[X+".jpg"]};else if(v[X+".pdf"]!=null)return{key:X.split("/").pop(),bdata:v[X+".pdf"]};
else if(v[X]!=null)return{key:X.split("/").pop(),bdata:v[X]};else{console.log(d,v);return}}else if(h=="MSAttributedString"){var Z=atob(d.archivedAttributedString._archive),Y=Z.length,a=new Uint8Array(Y);
for(var n=0;n<Y;n++)a[n]=Z.charCodeAt(n);d.archivedAttributedString=aQ.agt(a)}for(var z in d)d[z]=aQ.UQ(d[z],v);
return d};aQ.aI1=function(d,v,t,h,X){if(d instanceof Uint8Array)return null;if(h.indexOf(d)!=-1)return null;
h.push(d);if(d==v)return t;for(var g in d){t.push(g);var x=aQ.aI1(d[g],v,t,h,X);if(x){console.log(d,x);
throw"e"}t.pop()}};aQ.agt=function(d){var v=g3.parse(d,0),t=v.$objects,h=new Uint8Array(t.length),X=aQ.Nb(t,h,v.$top.root);
for(var n=0;n<t.length;n++)if(h[n]==0&&n!=0){console.log(n,t[n]);aQ.aI1(X,n,[],[],typeof t[n])}for(var n=0;
n<t.length;n++){var g=t[n];if(g._class&&(g._class=="bitmap"||g._class=="fill"&&g.fillType==4&&(g.image||g.imageSHA))){var x=g.image,Z=g.imageSHA,Y=null,a=null;
if(x=="$null")x=null;if(Z=="$null")Z=null;if(x&&x.data){a=x.sha1["NS.bytes"];a=btoa(B.o3(a,0,a.length));
Y=x.data instanceof Uint8Array?x.data:x.data["NS.bytes"]}else if(x==null&&Z==null){var z=b3.bV("PNG").V$([[f.m(4).buffer]],1,1);
Y=new Uint8Array(z)}else{var p=(X.assets?X.assets.imageCollection:X.images).images;if(Z)a=Z instanceof Uint8Array?Z:Z["NS.bytes"];
else a=x.sha1["NS.bytes"];a=btoa(B.o3(a,0,a.length));var Y=p[a].data;if(Y["NS.bytes"])Y=Y["NS.bytes"]}Y=new Uint8Array(Y.buffer.slice(Y.byteOffset,Y.byteOffset+Y.length));
delete g.imageSHA;g.image={key:a,bdata:Y}}}return X};aQ.awq=function(d){return d.slice(0,11)=="MSImmutable"?"MS"+d.slice(11):d};
aQ.Nb=function(d,v,t){var h=d[t];if(v[t]==1){return h}v[t]=1;if(typeof h=="string")return h;if(typeof h=="number")return h;
if(typeof h=="boolean")return h;if(h instanceof Array)return h;if(h instanceof Uint8Array){return h}if(d[h.$class]==null){if(h.$class==null&&h["NS.data"]!=null)return h;
console.log(t,h);throw"e"}var X=d[h.$class],g=aQ.awq(X.$classname);v[h.$class]=1;h.$class=g;if(aQ.akI[g]){delete h.$class;
h._class=aQ.akI[g]}var x=aQ.Nb;if(g=="NSMutableArray"||g=="NSArray"){var Z=[];if(h["NS.objects"]!=null)for(var n=0;
n<h["NS.objects"].length;n++)Z.push(x(d,v,h["NS.objects"][n]));else for(var n=0;h["NS.object."+n]!=null;
n++)Z.push(x(d,v,h["NS.object."+n]));d[t]=Z;return Z}if(g=="NSDictionary"||g=="NSMutableDictionary"){var Y={$class:g};
if(h["NS.keys"]!=null)for(var n=0;n<h["NS.keys"].length;n++){var a=x(d,v,h["NS.keys"][n]);if(a instanceof Uint8Array)a=btoa(aQ.TP.o3(a,0,a.length));
else if(typeof a!="string"&&typeof a!="number")a=btoa(aQ.TP.o3(a["NS.bytes"],0,a["NS.bytes"].length));
Y[a]=x(d,v,h["NS.objects"][n])}else for(var n=0;h["NS.key."+n]!=null;n++){var a=x(d,v,h["NS.key."+n]);
if(a instanceof Uint8Array)a=btoa(aQ.TP.o3(a,0,a.length));else if(typeof a!="string"&&typeof a!="number")a=btoa(aQ.TP.o3(a["NS.bytes"],0,a["NS.bytes"].length));
Y[a]=x(d,v,h["NS.object."+n])}for(var z in h)delete h[z];for(var z in Y)h[z]=Y[z];return h}if(g=="NSURL")return{$class:g,base:x(d,v,h["NS.base"]),relative:x(d,v,h["NS.relative"])};
if(aQ.aFU.indexOf(g)!=-1){d[t]=x(d,v,h.array_do);return d[t]}if(h.do_objectID!=null)h.do_objectID=x(d,v,h.do_objectID);
if(aQ.a81.indexOf(g)!=-1)return h;var p=aQ.ajm[g];if(p==null){console.log(d,h);throw"unknown class "+g}for(var n=0;
n<p.length;n++)if(h[p[n]]!=null)h[p[n]]=x(d,v,h[p[n]]);if(g=="MSTextLayer"){var U=h,l,L,j,O;if(U.attributedString)l=U.attributedString.archivedAttributedString;
else l=U.storage;O=l.NSString;if(typeof O!="string")O=B.I$(O["NS.bytes"],0,O["NS.bytes"].length);if(l.NSAttributeInfo)L=l.NSAttributeInfo["NS.bytes"];
else{var F=O.length,i=[];while(F>0){var $=Math.min(100,F);i.push($,0);F-=$}L=new Uint8Array(i)}j=l.NSAttributes instanceof Array?l.NSAttributes:[l.NSAttributes];
var H={$class:"NSAttributedString",NSString:O,NSAttributes:j};U.attributedString={_class:"MSAttributedString",archivedAttributedString:H};
H.NSAttributeInfo={$class:"NSMutableData","NS.data":L};delete U.storage}return h};aQ.TP={ZT:function(d,v){return d[v+1]<<8|d[v]},BT:function(d,v){return d[v+3]<<24|d[v+2]<<16|d[v+1]<<8|d[v]},o3:function(d,v,t){var h="";
for(var n=0;n<t;n++)h+=String.fromCharCode(d[v+n]);return h}};aQ.akI={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
aQ.aFU=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
aQ.a81="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
aQ.ajm={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var g3={};g3.parse=function(d,v){var t=B.o3(d,v,8);v+=8;var h=d.length-32,X=g3.parse.acE(d,h),g=[];if(X.Yq==1){var v=h-X.Yq*X.a4;
for(var n=0;n<X.a4;n++)g.push(d[v+n])}else if(X.Yq==2){var v=h-X.Yq*X.a4;for(var n=0;n<X.a4;n++)g.push(B.ZT(d,v+n*2))}else if(X.Yq==4){var v=h-X.Yq*X.a4;
for(var n=0;n<X.a4;n++)g.push(B.BT(d,v+n*4))}else{throw"e"}var x=g3.parse.Nb(d,g,X.root,X);return x};
g3.parse.Nb=function(d,v,t,h){var X=g3.TP,g=h.ak1,x=g==4?X.BT:g==2?X.ZT:X.aJy,Z=g3.parse,Y=v[t],a=d[Y],z=a>>4,p=a&15,l=null;
Y+=1;if([4,5,6,10,12,13].indexOf(z)!=-1&&p==15){var U=Z.vW(d,Y);Y+=U.dK;p=U.K}if(!1){}else if(z==0)l=p==8?!1:p==9?!0:null;
else if(z==1)l=Z.vW(d,Y-1).K;else if(z==2)l=1<<p==4?B._1(d,Y):B.D_(d,Y);else if(z==3)l=B.D_(d,Y);else if(z==4)l=new Uint8Array(d.buffer,Y,p);
else if(z==5)l=B.o3(d,Y,p);else if(z==6)l=B.Kl(d,Y,p);else if(z==8){l=0;for(var n=0;n<p+1;n++)l=l<<8|d[Y+n]}else if(z==10){l=[];
for(var n=0;n<p;n++)l.push(Z.Nb(d,v,x(d,Y+g*n),h))}else if(z==12){l=[];for(var n=0;n<p;n++)l.push(Z.Nb(d,v,x(d,Y+g*n),h))}else if(z==13){l={};
for(var n=0;n<p;n++){var L=Z.Nb(d,v,x(d,Y+g*n),h),j=Z.Nb(d,v,x(d,Y+g*(p+n)),h);l[L]=j}}else throw"unknown mask "+z;
return l};g3.parse.vW=function(d,v){var t=1<<(d[v]&15),h=0;for(var n=0;n<t;n++)h=h<<8|d[v+1+n];return{K:h,dK:t+1}};
g3.parse.acE=function(d,v){var t={};v+=6;t.Yq=d[v];v++;t.ak1=d[v];v++;v+=4;t.a4=B.BT(d,v);v+=4;v+=4;
t.root=B.BT(d,v);v+=4;v+=4;t.a7p=B.BT(d,v);v+=4;return t};g3.TP={aJy:function(d,v){return d[v]},ZT:function(d,v){return d[v]<<8|d[v+1]},BT:function(d,v){return d[v]<<24|d[v+1]<<16|d[v+2]<<8|d[v+3]},o3:function(d,v,t){var h="";
for(var n=0;n<t;n++)h+=String.fromCharCode(d[v+n]);return h}};var fu={parse:function(d){var v=new Uint8Array(d),t=fu.J6(v),h=[],X=new Uint8Array(v.length),g=[];
h.push(g);fu.TM(v,t,1,X,g);for(var n=0;n<g.length;n++){var x=[];h.push(x);fu.TM(v,t,g[n][3],X,x,n==11);
g[n][3]=n+1}return h},TM:function(d,v,t,h,X,g){t--;var x=t*v.SQ+(t==0?100:0),Z=d[x],Y=fu.ZT(d,x+1),a=fu.ZT(d,x+3),z=fu.ZT(d,x+5),U=0;
if(z==0)z=65536;var p=d[x+7];x+=8;if(Z==2||Z==5){U=fu.BT(d,x);x+=4}for(var l=0;l<a;l++){var L=t*v.SQ+fu.ZT(d,x+2*l),j=-1,O=0,F=0,i=0;
if(Z==2||Z==5){j=fu.BT(d,L);L+=4}if(Z==2||Z==10||Z==13){O=fu.qC(d,L);L+=O.dK}if(Z==5||Z==13){F=fu.qC(d,L);
L+=F.dK}if(Z==2||Z==5){fu.TM(d,v,j,h,X,g);continue}var $=v.SQ-(t==0?100:0),H=O.k1,b=Z==13?$-35:Math.floor(($-12)*64/255)-23,r=Math.floor(($-12)*32/255)-23,W=r+(H-r)%($-4);
if(H<=b){fu.Hy(d,L,h,0,H)}else{var V=W<=b?W:r,y=0;fu.Hy(d,L,h,0,V);y+=V;i=fu.BT(d,L+V);while(i!=0){var c=(i-1)*v.SQ;
i=fu.BT(d,c);var S=Math.min(v.SQ-4,H-y);fu.Hy(d,c+4,h,y,S);y+=S}}X.push(fu.arW(h,H))}if(U!=0)fu.TM(d,v,U,h,X,g)},arW:function(d,v){var t=0,h=fu.qC(d,t);
t+=h.dK;var X=[],g=[];while(t<h.k1){var x=fu.qC(d,t);t+=x.dK;X.push(x.k1)}if(t!=h.k1)throw"e";for(var n=0;
n<X.length;n++){var x=X[n];if(!1){}else if(x==0)g.push(null);else if(x==1){g.push(fu.aA1(d,t));t+=1}else if(x==2){g.push(fu.Mu(d,t));
t+=2}else if(x==3){g.push(fu.auv(d,t));t+=3}else if(x==4){g.push(fu.vW(d,t));t+=4}else if(x==5){g.push(fu.BT(d,t+2));
t+=6}else if(x==6){g.push(fu.BT(d,t)+":"+fu.BT(d,t+4));t+=8}else if(x==7){g.push(fu.aaS(d,t));t+=8}else if(x==8)g.push(0);
else if(x==9)g.push(1);else if(x>=12&&(x&1)==0){var Z=x-12>>1,Y=new Uint8Array(Z);fu.Hy(d,t,Y,0,Z);g.push(Y);
t+=Z}else if(x>=13&&(x&1)==1){var Z=x-13>>1;g.push(fu.I$(d,t,Z));t+=Z}else throw"unknonw type "+x}return g},J6:function(d){if(!(d[18]==1&&d[19]==1&&d[20]==0&&d[21]==64&&d[22]==32&&d[23]==32))throw"unexpected SQL3 header";
var v={rB:fu.o3(d,0,15),SQ:fu.ZT(d,16),ajO:fu.BT(d,24),size:fu.BT(d,28),ayV:fu.BT(d,32),aGR:fu.BT(d,36),aHQ:fu.BT(d,40),a6m:fu.BT(d,44),aat:fu.BT(d,48),atR:fu.BT(d,52),a6$:fu.BT(d,56),aLQ:fu.BT(d,60),aAh:fu.BT(d,64)!=0,aGY:fu.BT(d,68),aKI:fu.BT(d,92),anN:fu.BT(d,96)};
if(v.SQ==1)v.SQ=65536;if(v.a6$!=1)throw"unsupported text encoding "+v.a6$;return v},aF6:function(d,v){return d[v]<<16|d[v+1]<<8|d[v+2]},auv:function(d,v){var t=fu.aF6(d,v),h=t&8388608;
return h?-(16777215-t+1):t},aA1:function(d,v){fu.uf[0]=d[v];return fu.a9c[0]},vW:function(d,v){var t=fu.uf;
for(var n=0;n<4;n++)t[n]=d[v+3-n];return fu.at7[0]},Mu:function(d,v){var t=fu.uf;t[0]=d[v+1];t[1]=d[v];
return fu.a42[0]},ZT:function(d,v){return d[v]<<8|d[v+1]},BT:function(d,v){var t=fu.uf;for(var n=0;n<4;
n++)t[n]=d[v+3-n];return fu.ahE[0]},aaS:function(d,v){var t=fu.uf;for(var n=0;n<8;n++)t[n]=d[v+7-n];
return fu.ado[0]},qC:function(d,v){var t=v,bW=0;while(!0){var h=d[v];v++;bW=bW*128+(h&127);if(h<128)break}return{k1:bW,dK:v-t}},o3:function(d,v,t){var h="";
for(var n=0;n<t;n++)h+=String.fromCharCode(d[v+n]);return h},I$:function(d,v,t){var h="";for(var n=0;
n<t;n++)h+="%"+fu.anD(d[v+n].toString(16));try{h=decodeURIComponent(h);return h}catch(cQ){return h}},Hy:function(d,v,t,h,X){if(X!=0&&(d[v+X-1]==null||t[h+X-1]==null)){console.log(v,h,X);
throw"e"}for(var n=0;n<X;n++)t[h+n]=d[v+n]},anD:function(bW){return bW.length<2?"0"+bW:bW}};fu.uf=new Uint8Array(8);
fu.a9c=new Int8Array(fu.uf.buffer);fu.a42=new Int16Array(fu.uf.buffer);fu.at7=new Int32Array(fu.uf.buffer);
fu.ahE=new Uint32Array(fu.uf.buffer);fu.ado=new Float64Array(fu.uf.buffer);fu.a5F=function(d,v){var t=d[0],h={};
for(var n=0;n<t.length;n++){var X=t[n],g=X[1];if(X[0]!="table")continue;var x=X[4];x=x.slice(x.indexOf("(")+1,x.indexOf(")"));
x=x.split(",");for(var Z=0;Z<x.length;Z++){var Y=x[Z].trim().split(" ")[0];if(v&&Y.startsWith(g))Y=Y.slice(g.length);
x[Z]=Y}var a=h[g]=[],z=d[X[3]];for(var Z=0;Z<z.length;Z++){var p=z[Z],U={};a.push(U);for(var l=0;l<x.length;
l++){if(U[x[l]]!=null)throw"e";U[x[l]]=p[l]}}}return h};function dU(d,v,t){this.lG=d;this.Zz=v;this.akJ=t;
this.zX=new cK(0,0);this.im=-1;this.RO=0;this.YC=0;this.oH=new iW;this.z_=[];this.dt=null;this.a7Y=null;
this.ayt=null;this.hF=null;this.l3=null;this.aeN=null}dU.prototype.StartPage=function(d,v,t,h,X){var g=this.Zz,x=g.Mk(),Z=1,Y=(t-d)*(h-v);
if(X!=null)Y=X;while(Y*x*x/(Z*Z)>2*8192*8192)Z++;g.scale(1/Z,1/Z);this.a7Y=[d,v,t,h];var Z=g.Mk();d=Math.round(d*Z);
v=Math.round(v*Z);t=Math.round(t*Z);h=Math.round(h*Z);var a=this.lG,z=this.ayt;if(z==null){g.r2=-d}else{var p=z[2]-z[0]+30,U=Math.round(t-d)+30;
if(this.zX.x+p+U>8192){g.r2=-d;this.zX.x=0;this.zX.y+=this.YC+120;this.YC=0}else{g.r2+=p;this.zX.x+=p}}g.pE=this.zX.y+(this.akJ?h:-v);
this.YC=Math.max(this.YC,Math.round(h-v));this.ayt=[d,v,t,h];this.aqj=[];a.U.push(a.Rw())};dU.prototype.StartTGroup=function(d){this.TV();
var v=this.lG;v.U.push(v.Rw());var t=dU.lm[d.bmode];if(t==null)t="norm";var h=v.vv();h.qv("<Group>");
h.add.lsct=f$.fG;h.uF=t=="norm"?"pass":t;h.Xw=24;h.JS=Math.round(255*d.ca);this.aqj.push(h)};dU.prototype.EndTGroup=function(){this.lG.U.push(this.aqj.pop())};
dU.prototype.avc=function(){var d=this.lG,v=d.U[d.U.length-1];return v};dU.prototype.a6k=function(){var d=this.lG,v=d.vv();
v.qv("Path "+d.U.length);this.lG.U.push(v);v.Xw|=16;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}};
v.add.vmsk=new jn.rz;v.add.vstk=kV.UY.yu();return v};dU.prototype.O$=function(d,v){var t={I:d.crds,s2:d.cmds},h=f.Q.Q$(t,!1);
f.t.aic(h,v);f.t.kh(h,this.Zz);return h};dU.aJL=function(d,v){for(var n=0;n<d.length;n++)if(d[n].qG!=null)d[n].qG=v};
dU.Vb=function(d){return f.iF.Zi({C:d[0]*255,L:d[1]*255,X:d[2]*255})};dU.Eh=function(d){return new gi(d[0],d[1],d[2],d[3],d[4],d[5])};
dU.prototype.Stroke=function(d){if(this.im!=-1&&this.im!=this.RO)return;if(d.pth.cmds.length<=1)return;
var v=this.O$(d.pth,!0),x=null;if(v.length<=2)return;this.d0(d);dU.aJL(v,-1);v[2].qG=1;var t=this.avc(),h=kV.UY.yu(null,!0),X=d.ctm,g={};
dU.aEg(g,d);kV.UY.write(h,g,Math.sqrt(Math.abs(X[0]*X[3]-X[1]*X[2]))*this.Zz.Mk());if(!(d.COLR instanceof Array)){x=f.Q.mo(d.pth.crds);
var Z=f.Q.Ya(x);f.Q.M(Z.I,this.Zz,Z.I);x=f.Q.mo(Z.I)}var Y=dU.YN(d.COLR,this.Zz,v),a=["SoFi","GrFl","patternFill"].indexOf(Y.e),z=[kV.o9,kV.oA,kV.aO][a],p=h.strokeStyleContent.v={classID:kV.UY.$B[a]};
for(var n=0;n<z.length;n++)p[z[n]]=Y.K.v[z[n]];var U=t!=null&&t.add.vmsk!=null&&!t.h5(),l=j8==0&&U&&!t.add.vstk.fillEnabled.v&&JSON.stringify(h)==t.add.vsjs;
if(l){var L=t.add.vmsk.D;for(var n=2;n<v.length;n++)L.push(v[n])}else{var j=U&&!t.add.vstk.strokeEnabled.v&&jn.rz.apF(t.add.vmsk.D,v,!0);
if(j){t.add.vstk=h;h.fillEnabled.v=!0}else{t=this.a6k();t.add.vmsk.D=v;t.add.vstk=h;t.add.vsjs=JSON.stringify(h)}}};
dU.aEg=function(d,v){d.O8=v.lwidth;d.Ek=v.mlimit;d.gn=v.dash.slice(0);d.h2=v.doff;d.yQ=v.ljoin;d.ln=v.lcap;
d.Q0=1};dU.kW=function(d,v){v.lwidth=d.O8*(d.Q0==2?2:1);v.mlimit=d.Ek;v.doff=d.h2;v.ljoin=d.yQ;v.lcap=d.ln;
v.sal=d.Q0;v.dash=d.gn.slice(0);if(v.dash.length==1&&v.dash[0]==0)v.dash=[]};dU.prototype.Fill=function(d,v){if(this.im!=-1&&this.im!=this.RO)return;
if(d.ca==0)return;var t=d.pth.cmds;if(t.length==0)return;if(t.length==2&&JSON.stringify(t)=="[\"M\",\"L\"]")return;
var h=f.Q.mo(d.pth.crds),X=f.Q.mo(d.cpth.crds);if(h.hL(X).HP())return;var g=d.pth,x=UDOC.G.isBox(g,[h.x,h.y,h.x+h.r,h.y+h.$]),Z=d.cpth,Y=UDOC.G.isBox(Z,[X.x,X.y,X.x+X.r,X.y+X.$]);
if(x&&Y&&h.k()>X.k()*2){var a=h.hL(X),z=a.x,p=a.y,U=z+a.r,l=p+a.$;g={cmds:["M","L","L","L","Z"],crds:[z,p,U,p,U,l,z,l]};
h=a}else if(this.hF==null&&UDOC.G.isBox(g,[h.x,h.y,h.x+h.r,h.y+h.$])&&h.GV(X)){g=Z;h=X}else this.d0(d);
var L=this.O$(g,v),j=dU.YN(d.colr,this.Zz,L),O=this.avc(),F=j8==0&&O!=null&&O.JS==Math.round(255*d.ca)&&O.add.vstk!=null&&!O.add.vstk.strokeEnabled.v&&O.add.SoCo&&j.e=="SoFi"&&JSON.stringify(O.add.SoCo.Clr.v)==JSON.stringify(j.K.v.Clr.v);
if(F){var i=!1;for(var n=0;n<L.length;n++){if(L[n].qG==0||L[n].qG==2)i=!0}if(i){var $=f.Q.mo(f.t.Bi(O.add.vmsk.D)),H=f.Q.mo(f.t.Bi(L));
F=$.hL(H).HP()}}if(F){var b=O.add.vmsk.D;for(var n=2;n<L.length;n++)b.push(L[n])}else{O=this.a6k();delete O.add.SoCo;
O.add.vmsk.D=jn.rz.Pf(L);dU.Tp(d.colr,O,this.Zz,L);dU.api(d,O)}};dU.Tp=function(d,v,t,h){var X=dU.YN(d,t,h),g=null,x=null;
v.add.vstk.fillEnabled.v=!0;if(X.e=="SoFi"){g="SoCo";x=kV.o9}if(X.e=="GrFl"){g="GdFl";x=kV.oA}if(X.e=="patternFill"){g="PtFl";
x=kV.aO}if(g!=null){v.add[g]={classID:"null"};for(var n=0;n<x.length;n++){var Z=x[n];v.add[g][Z]=X.K.v[Z]}if(g=="GdFl")v.add._fstl=X.W4}};
dU.prototype.d0=function(d){var v=this.lG,t=d.cpth,h=t.cmds.join(""),X=t.crds,g=h+" "+X.join(","),x=UDOC.G.isBox(t,this.a7Y);
if(x&&this.hF==null)return;if(g==this.hF)return;this.TV();if(!x){this.hF=g;v.U.push(v.Rw());var Z=v.vv();
Z.qv("Mask");Z.add.lsct=f$.wM;Z.uF="pass";Z.Xw=24;var Y=Z.add.vmsk=new jn.rz;Y.D=this.O$(d.cpth,!0);
if(UDOC.G.isBox(t)){this.l3=f.t.ft(Y.D);this.l3.o2(3,3)}else this.l3=null;this.aeN=Z}};dU.prototype.TV=function(){var d=this.lG;
if(this.hF!=null){var v=d.U.length-1,n=v,t=!1;while(n>=0&&d.U[n].add.lsct!=f$.Xr)n--;var h=this.l3;if(h){var X=new iW,g=v;
while(g>n){X=d.U[g].pT(this.lG,!1,!0);g--}t=h.GV(X)}if(t){this.z_.splice(n,1);d.U.splice(n,1)}else{d.U.push(this.aeN)}this.hF=null}};
dU.YN=function(d,v,t){var h,X,g;if(d.length!=null){h="SoFi";var x=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
X={t:"Objc",v:x};X.v.Clr.v=dU.Vb(d)}else{var Z=dU.aDe(d,v,t);h="GrFl";X={t:"Objc",v:eT.ac(Z,t)};g=Z}return{e:h,K:X,W4:g}};
dU.aDe=function(d,v,t){var h=dU.Eh(d.mat);h.concat(v);var X=new cK(0,0),g=new cK(0,0),x=new cK,Z=d.crds,Y=d.typ=="rad"?1:0;
if(Y==1){var a=.7;x.x=Z[0];x.y=Z[1];X.x=Z[3];X.y=Z[4];g.x=X.x;g.y=X.y;g.x+=Z[5]}else{X.x=Z[0];X.y=Z[1];
g.x=Z[2];g.y=Z[3];x.QG(X.x,X.y)}h=eT.Uv(X,g,h);var z=eT.TZ(Y,h,t);eT.aor(z,X,g,x);z[1]=f.v(d.grad);return z};
dU.prototype.PutText=function(d,v,t,h){var X=v.charCodeAt(0),l=null;if(this.im!=-1&&this.im!=this.RO)return;
if(v.length==0||v.length==1&&(X==0||X==8203))return;this.d0(d);var g=this.lG,x=d.font,Z=Math.round(255*d.ca);
if(d.font.Tmode==3)Z=0;var Y=dU.Eh(d.ctm);Y.concat(this.Zz);var a=dU.Eh(x.Tm);a.concat(Y);var z=a.Mk(),p=new gi(1/z,0,0,-1/z,0,0);
p.concat(a);var U=x.Tfs*z,L=g.U.length-1;while(L>=0&&g.U[L].add.TySh==null)L--;if(p.X*p.X+p.Wp*p.Wp<.001&&h==null&&L>=0&&g.U[L].add.TySh&&g.U[L].JS==Z){var j=g.U[L],O=this.z_[L],F=j.add.TySh.M,i=(p.r2-O.aJF)/U,$=Math.abs(i),H=F.aX==p.aX&&F.X==p.X&&F.Wp==p.Wp&&F.r7==p.r7,b=p.pE-O.Y_,r=H&&Math.abs(b)<1e-5&&$<1;
if(r){l=j;if(i>.2&&[".",",","?",":","!"].indexOf(v)==-1){v=" "+v;t+=.5}}else if(H&&0<b&&b<U*1.7&&O.awy==U){l=j;
this.aMT(O);O.Y_=p.pE;O.a2V=p.r2;v="\n"+v}}if(l==null){L=g.U.length;this.z_[L]={uk:[],a4B:0,aJF:p.r2,Y_:p.pE,a2V:p.r2,aa$:"",awy:U};
l=g.vv();g.U.push(l);l.add.lnsr="rend";l.add.TySh=jM.de(0,0);l.add.TySh.M=p}var O=this.z_[L];O.a4B+=t*U;
O.aa$+=v;O.aJF=p.r2+t*U;var W=l.add.TySh.Oo,V=jM.W3(W);if(h){jM.kM(W,1);var y=[0,0,Math.ceil(h[0]*z),Math.ceil(h[1]*z)];
jM.eg(W,y)}var c=V.length-1,S=c+v.length;jM.Uh(W,c,v);if(this.dt==null)this.dt=jM.Sj(W,c,c);var C=this.dt;
C.Uy.FontSize=Math.round(U);C.Uy.Tracking=Math.round(x.Tc*100);C.Uy.Underline=x.Tun==1;C.Uy.FillColor={Type:1,Values:[1,d.colr[0],d.colr[1],d.colr[2]]};
if(x.Tal!=null)C.eE.Justification=x.Tal;if(O.uk.length!=0){C.Uy.AutoLeading=!1;C.Uy.Leading=O.Y_-O.uk[O.uk.length-1].y}var K=x.Tf;
K=K.replace(/#2B/g,"+");K=K.replace(/#2C/g,"-");K=K.replace(/#2D/g,"-");K=K.split("+").pop();var T={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(T[K])K=T[K];jM.aW(C,K);jM.yx(W,c,S-1,C);l.JB();l.JS=Z};dU.prototype.aMT=function(d){d.uk.push({F0:d.a4B,o:d.aa$.slice(d.uk.length==0?0:1)+"\n",x:d.a2V,y:d.Y_,Wx:d.awy});
d.a4B=0;d.aa$=""};dU.prototype.SO=function(d,v,t){var h=b3.bV("PNG"),X=j8==1?h.LN(d.buffer,v,t,8):h.V$([[d.buffer,0]],v,t);
return new Uint8Array(X)};dU.prototype.PutImage=function(d,v,t,h,X,g,x){if(this.im!=-1&&this.im!=this.RO)return;
var Z=this.lG,Y=d.font.Tmode;if(Y==7&&Z.U[Z.U.length-1].add.TySh){return}this.d0(d);var a=dU.Eh(d.ctm);
a.concat(this.Zz);var z=new gi(1/t,0,0,-1/h,0,1);z.concat(a);a=z;v=dU.a7l(v,t,h,g,!1);if(X)X=dU.a7l(X,t,h,x,!0);
if(X==null){if(v.length==t*h*4)v=this.SO(v,t,h)}else{v=this.aze(v,t,h,g,!1);X=this.aze(X,t,h,x,!0);var p=f.m(t*h);
f.Po(X,p,0);f.Gj(p,v,3);v=this.SO(v,t,h)}var U=Z.b0(v,"Bitmap",0,0),l=new iW(0,0,t,h),L=f.Q.Ya(l).I;
f.Q.M(L,a,L);U.add.SoLd.Trnf=A.hZ.gX(L);U.add.SoLd.nonAffineTransform=A.hZ.gX(L);U.Lc(Z,!1);dU.api(d,U);
Z.U.push(U)};dU.api=function(d,v){v.JS=Math.round(255*d.ca);var t=dU.lm[d.bmode];if(t==null)console.log("Unknown blend mode",t);
else v.uF=t};dU.lm={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
dU.aLF=function(d){if(d=="pass")d="norm";for(var v in dU.lm)if(dU.lm[v]==d)return v;return"/Normal"};
dU.a7l=function(d,v,t,h,X){var g=b3.IF(d.buffer);if(g=="jpg"){try{d=new Uint8Array(b3.bV("JPG").aoQ(d.buffer))}catch(cQ){d=new Uint8Array(v*t*4)}}else if(g=="jb2"){d=new Uint8Array(b3.bV("JPG").CE(d.buffer,h,X)[0].data)}else if(d.length!=v*t*4){var x=new Uint8Array(v*t*4),Z=Math.ceil(v/8),Y=new Uint8Array(t*Z);
UTIF.decode._decodeG4(d,0,d.length,Y,0,v,1);var a=Y[0]==(X?255:0);for(var z=0;z<t;z++){var p=Z*z;for(var U=0;
U<v;U++){var n=z*v+U,l=n*4,L=(Y[p+(U>>3)]>>7-(U&7)&1)*255;if(a)L=255-L;x[l]=L;x[l+1]=L;x[l+2]=L;x[l+3]=255}}d=x}return d};
dU.prototype.aze=function(d,v,t,h,X){if(d.length!=v*t*4){var g=b3.IF(d.buffer);if(g=="jb2")throw"e";
var x=b3.bV(g);if(x==null||g=="tga")x=b3.bV("jpg");d=new Uint8Array(x.CE(d,h,X)[0].data)}return d};dU.prototype.ShowPage=function(){var d=this.lG;
this.RO++;var v=this.ayt;this.TV();var t=d.vv();d.U.push(t);var h=new iW(Math.round(this.zX.x),Math.round(this.zX.y),Math.round(v[2]-v[0]),Math.round(v[3]-v[1]));
if(h.HP())h.r=h.$=2e3;this.oH=this.oH.Ue(h);t.In(h);t.add.artb.artboardBackgroundType.v=1;t.qv("Page "+this.RO);
t.add.lsct=f$.wM;t.uF="pass";t.Xw=24};dU.prototype.Print=function(d){console.log("Print:",d)};dU.prototype.Done=function(){var d=this.lG;
if(this.RO==1)d.U[d.U.length-1].add.lsct=f$.fG;d.q7(this.RO);for(var n=0;n<d.U.length;n++){var v=d.U[n],t=v.add.vmsk,h=v.add.TySh,X=this.z_[n];
v.bB();delete v.add.vsjs;if(t){var g=!1;for(var x=0;x<t.D.length;x++){var Z=t.D[x];if((Z.e==0||Z.e==3)&&Z.length>32767)g=!0}if(g){d.U.splice(n,1);
n--;continue}}v.tG(d);if(h&&X&&X.uk.length!=0){this.aMT(X);var Y=h.Oo,a=X.uk.length,z=X.uk[0],p=1e9,U=-1e9,r="";
for(var x=0;x<a;x++){var l=X.uk[x];p=Math.min(p,l.x);U=Math.max(U,l.x+l.F0)}var L=[];for(var x=0;x<a;
x++){var l=X.uk[x],j=-1,O=z.Wx*.1,F=Math.abs(l.x-p),i=Math.abs(l.x+l.F0-U),$=Math.abs(F-i);if($<O)j=2;
if(i<O){j=1;if(l.x!=p)if(x!=0&&X.uk[x-1].x==l.x||x!=a-1&&X.uk[x+1].x==l.x)j=-1}if(F<O)j=0;if(l.F0==U-p)j=3;
L.push(j)}var H=[!1,!1,!1];for(var x=0;x<a;x++){var j=L[x];if(j==3)j=x==0?L[x+1]:L[x-1];if(j==3)j=0;
L[x]=j;H[j]=!0}var b=(U-p)*.05;if(H[0]&&!H[1])U+=b;if(!H[0]&&H[1])p-=b;if(!H[0]&&!H[1]){p-=b;U+=2*b}jM.kM(Y,1);
h.M.pE-=z.Wx*.7;h.M.r2=Math.round(p);jM.eg(Y,[0,0,Math.ceil(U-p),Math.ceil(X.uk[a-1].y-z.y+z.Wx*2)]);
for(var x=0;x<a;x++){var l=X.uk[x],j=L[x],W=0;if(j==-1){j=0;W=Math.round(l.x-p)}var V=r.length,y=V+l.o.length;
r+=l.o;var c={_G:[],Uy:{},eE:{Justification:j,StartIndent:W}};jM.yx(h.Oo,V,y-1,c)}}if(h){var Y=h.Oo;
jM.aGS(Y);var S=jM.W3(Y).split("\n");for(var x=0;x<S.length-1;x++){var l=S[x],C=0;for(var K=0;K<l.length;
K++){var T=l.charCodeAt(K);if(1473<=T&&T<=1524)C++}if(C>l.length/2){S[x]=l.split("").reverse().join("");
var D=Y.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet.Properties;D._Direction=1;D.Justification=jM._s(D)}}jM.xT(Y,S.join("\n"))}}d.Um=!0;
d.r=this.oH.r;d.$=this.oH.$;d.buffer=f.m(this.oH.k()*4)};var dW={};dW.h8=null;dW.IT=function(d,v,t,h,X,g){var x=j8==0?new iW(0,0,d.r,d.$):d.e9();
if(X==null)X=x.r;if(g==null)g=x.$;dW.h8=d;var Z=[[d.root,x,null]];if(j8==0&&d.add.artd){var Y=d.root.children,a=[],z=!0;
for(var n=0;n<Y.length;n++){var p=Y[n].B,U=p.add.artb,l=null;if(U==null){z=!1;break}var L=U.artboardBackgroundType.v;
if(L!=1&&L!=3)l=p.FE();a.push([Y[n],p.x1(),l])}if(z)Z=a}if(j8==1){var j=d.add.arts;Z=[];for(var n=0;
n<j.length;n++)Z.push([d.root,f.Q.k2(j[n].l7),null])}var O=v.pags;O=O.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
O=O.split(" ");var F=[];for(var n=0;n<O.length;n++){var i=O[n];if(i=="-"){var $=F.pop(),H=parseInt(O[n+1]);
while($<H){F.push($);$++}}else F.push(parseInt(i))}O=F;for(var n=0;n<O.length;n++)if(isNaN(O[n])||O[n]<1||O[n]>Z.length){O.splice(n,1);
n--}var b=X/x.r,r=g/x.$,W=b*72/d.u3,V=r*72/d.u3,y=v.mrgn;if(y==null)y=0;var c=72*y,S=72*y;for(var C=0;
C<Z.length;C++){var n=C;if(v.rvrs)n=Z.length-1-C;if(O.length!=0&&O.indexOf(n+1)==-1)continue;var K=Z[n][0],T=Z[n][1];
if(!K.B.ZC())continue;var D=Math.round(T.r*W+2*c),N=Math.round(T.$*V+2*S);t.StartPage(0,0,D,N);var G=UDOC.getState(),s=new gi;
s.translate(-T.x,-T.y-T.$);s.scale(W,-V);s.translate(c,S);if(Z[n][2]){var Q=Z[n][2],q=c*W,R=S*V,m=q+T.r*W,E=R+T.$*V;
G.colr=[(Q>>>0&255)/255,(Q>>>8&255)/255,(Q>>>16&255)/255];G.pth={cmds:["M","L","L","L","Z"],crds:[q,R,m,R,m,E,q,E]};
t.Fill(G)}if(j8==0&&v.rall){var e=f.m(T.k()*4);f.wH(f.OO(d.jP(),8),x,e,T);var w=d.UR();if(w)ICC.U.applyLUT(w[d.add.fcmy==1?5:3],w[2],e,e);
var M=b3.bV("JPG").V$([[e.buffer]],T.r,T.$,{qual:v.qual});e=new Uint8Array(M);var P=new gi;P.translate(T.x,T.y);
dW.n1(G,t,e,T,P,s)}else{dW.$H(d,K,G,t,s,T,v,h);if(c!=0){var q=c,R=S,m=q+T.r*72/d.u3,E=R+T.$*72/d.u3,I=m+c,k=E+c;
G.ca=1;G.colr=[1,1,1];G.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,k,I,k,I,0,q,R,m,R,m,E,q,E]};
t.Fill(G)}}if(v.cmrk){var o=[[0,0],[1,0],[1,1],[0,1]],af=50,J=5,at=af*.5,ke=J*.5,c_=T.r*72/d.u3,ag=T.$*72/d.u3;
G.colr=[.1,.1,.1];for(var dz in o){var kL=o[dz],aq=[dz==0||dz==3?-1:1,dz==0||dz==1?-1:1],dh=[c-at+ke*aq[0]+kL[0]*c_,S-(aq[1]!=1?J:0)+kL[1]*ag],gK=[c-(aq[0]!=1?J:0)+kL[0]*c_,S-at+ke*aq[1]+kL[1]*ag];
G.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[dh[0],dh[1],dh[0]+af,dh[1],dh[0]+af,dh[1]+J,dh[0],dh[1]+J,gK[0],gK[1],gK[0]+J,gK[1],gK[0]+J,gK[1]+af,gK[0],gK[1]+af]};
t.Fill(G)}}var ad=d.Wc;for(var dc=0;dc<ad.length;dc++){var lq=ad[dc].v,T=f.kk.pT(lq),hn=f.Q.Ya(T).I;
f.Q.M(hn,s,hn);var dF=f.Q.mo(hn);if(!new iW(0,0,D,N).GV(dF))continue;if(t.AddAnnot)t.AddAnnot([dF.x,dF.y,dF.x+dF.r,dF.y+dF.$],lq.url.v)}t.ShowPage()}t.Done();
dW.h8=null};dW.gt=function(d){d=f.iF.pq(d);return[d.C/255,d.L/255,d.X/255]};dW.$H=function(d,v,t,h,X,g,x,Z){var Y=v.B,a=Y.add.lsct,z=Y.add.lmfx,H,b,D,s=!1;
if(Y.ej)return;var p=Y.add.vmsk,U=Y.add.vstk,l=Y.add.TySh;if(Y.cD)alert("Clipping layers can not be exported into a PDF. Use vector masks instead. Or use \"Rasterize all\".",4e3);
if(j8==1&&!Y.h5()&&!g.GD(f.Q.mo(Y.lw())))return;var L=v.children,j=L&&L.length!=0?L[L.length-1].B:null;
if(j8==1&&j&&j.ej&&j.ZC())p=j.add.vmsk;if(!Y.ZC())return;var O=Y.JS/255,F=Y.add.iOpa!=null?Y.add.iOpa/255:1;
t.bmode=dU.aLF(Y.uF);var i=t.ca;t.ca=t.CA=O*F;var $=z;if($)$=$.solidFillMulti.v[0];if($)$=$.v;if($&&!$.enab.v)$=null;
var r=Y.S;if(Y.sQ()&&(!Y.h5()||Y.nG&&Y.nG.ql)){if(Y.h5()){H=Y.nG.ql;r=v.pT(d,!1)}else{H=f.m(Y.S.k());
f.Po(f.OO(Y.buffer,8),H,3)}var W=lb.Jt(z,Y.add.fxrp,H,r,d,r),b=W.e;lb.aqd(W);var V=["DrSh","OrGl"];if(F!=1||U&&!U.fillEnabled.v){var y=H.slice(0);
f.zJ(y);for(var n=0;n<V.length;n++){var c=b[V[n]];for(var S=0;S<c.length;S++){var C=c[S],K=C.QN.b();
K.x+=r.x;K.y+=r.y;f.Qc(y,r,C.sN,K)}}}}if(b)dW.aan(Y,H,r,b,t,h,X,x,!0);var T=lb.ay9(Y,!1);if(T){h.StartTGroup(t);
D=t;t=UDOC.getState();t.az_=D.az_}var N=p&&!Y.c5(),Q=Y.add.GdFl;if(Q&&Q.Type.v.GrdT!="Lnr"&&Q.Type.v.GrdT!="Rdl"){s=!0}if(U&&U.strokeEnabled.v&&U.strokeStyleContent.v.Ptrn)s=!0;
if(N){var q=f.Q.YL(p.D,!1),R=q.c2;f.Q.M(R.I,X,R.I);t.cpth={cmds:R.s2,crds:R.I}}if(Y.h5()){for(var n=0;
n<v.children.length;n++)dW.$H(d,v.children[n],t,h,X,g,x,Z)}else if(Y.c5()&&Y.add.PtFl==null&&!s){var m=p?p.D:f.t.I7.Rect(0,0,d.r,d.$),E=Y.add.vstl,R,w;
if(E==null)E=hc.WH(Y.add,d);for(var n=0;n<2;n++){var e=n==0?E.W4:E.rA;if(e&&e.length==4)for(var S=0;
S<e[1].length;S++)e[1][S][1]=dW.bL(e[1][S][1])}dU.kW(E,t);t.lwidth*=X.Mk();for(var n=0;n<t.dash.length;
n++)t.dash[n]*=X.Mk();if(j8==0){var q=f.Q.YL(m,E.rA==null);R=q.c2;w=q.rG}if(j8==1){R=f.Q.lR(m);w=p.Dk}f.Q.M(R.I,X,R.I);
t.pth={cmds:R.s2,crds:R.I};for(var S=0;S<2;S++){var n=E.Q0==2?1-S:S,M=n==0?E.W4:E.rA,P=null;if(M.length==0)continue;
else if(M.length==3)P=M;else{var I=eT.hN(M,m);I.concat(X);var k=[0,0,1,0];if(M[0]==1){var o=M[2][5]*Math.PI/180,af=M[2][6];
k=[Math.cos(o)*af,-Math.sin(o)*af,0,0,0,1]}P={typ:["lin","rad"][M[0]],mat:[I.aX,I.X,I.Wp,I.r7,I.r2,I.pE],grad:f.v(M[1]),crds:k}}t[n==0?"colr":"COLR"]=P;
h[n==0?"Fill":"Stroke"](t,w!=0)}}else if(l&&x.vtxt){var J=l.Oo,at=new cl(J,Z,l.s1),R=ka.qp(at,l,!0),ke=f.Q.Tl(R),c_=null,U=lb.ai2(z);
if(U){c_=kV.UY.ck(U);c_.rA=dW.gt(U.strokeStyleContent.v.Clr.v)}for(var ag in ke){var dz=parseInt(ag.slice(1,7),16),kL=0;
t.colr=$?dW.gt($.Clr.v):dW.aL2(dz);var aq=ke[ag];f.Q.M(aq.I,X,aq.I);aq=f.Q.awZ(aq);t.pth={cmds:aq.s2,crds:aq.I};
var E=c_?f.v(c_):null;if(ag.length>7)E=ka.aJ9(ag.slice(7));if(E)E.O8*=X.Mk();if(E&&E.Q0==2){t.COLR=E.rA;
dU.kW(E,t);h.Stroke(t)}h.Fill(t);if(E&&E.Q0!=2){t.COLR=E.rA;dU.kW(E,t);h.Stroke(t)}}}else if(l){var J=f.v(l.Oo);
jM.aGS(J);var dh=l.M.b(),gK=new gi(1,0,0,-1,0,0);gK.concat(dh);gK.concat(X);var ad=jM.W3(J),at=new cl(J,Z,l.s1);
for(var n=0;n<at.eE.length;n++){var dc=at.eE[n];if(dc.DI.length==1&&dc.DI[0].sr)continue;for(var S=0;
S<dc.w4.length;S++){var lq=dc.w4[S],hn=dc.rT.y+lq.rT.y,dF=dc.DI[lq.start].start,c3=dc.DI[lq.end-1].end,i8=jM.aqz(J,dF,c3);
for(var dr=0;dr<i8.length;dr++){var jO=at.Ev(dF),d1=i8[dr],h3=jM.Sj(J,dF,dF),d5=h3._G[h3.Uy.Font].Name;
t.font.Tf=d5;var ag=jM.pq(h3.Uy.FillColor);t.colr=$?dW.gt($.Clr.v):[ag.C/255,ag.L/255,ag.X/255];var em=t.font.Tfs=Math.round(h3.Uy.FontSize),fl=ad.slice(dF,dF+d1);
if(h3.Uy.FontCaps==2)fl=fl.toUpperCase();var I=new gi;I.translate(jO.BS.x,-hn);I.concat(gK);t.ctm=[I.aX,I.X,I.Wp,I.r7,I.r2,I.pE];
h.PutText(t,fl,0);for(var lA=0;lA<2;lA++){var av=h3.Uy[lA==0?"Strikethrough":"Underline"];if(!av)continue;
var ah=at.Ev(dF+d1-1),gE=lA==0?.27:-.2,fj=em*gE,bR=em*(gE+.07),kL=ah.BS.x+ah.BS.r-jO.BS.x,bD=[0,fj,kL,fj,kL,bR,0,bR];
f.Q.M(bD,I,bD);t.pth={cmds:["M","L","L","L","Z"],crds:bD};h.Fill(t)}t.ctm=[1,0,0,1,0,0];dF+=d1}}}}else if(!Y.S.HP()||j8==1){var e1,am,dj=!1,ja=new gi,aj=Y.add.SoLd,dS=!0;
if(aj)dS=f.G.nU(f.G.ms(A.hZ.Q9(aj.Trnf)));var eW=d.UR();if(aj&&dS&&eW==null){var be=aj.Idnt.v,cI=d.Cq(be,aj.Crop?aj.Crop.v:null),ac="";
if(cI==null)return;var kP=cI.Rc,i0=b3.IF(cI.raw.buffer);if(x.fmts.indexOf(i0)!=-1){e1=cI.raw;dj=!0}else e1=kP[0];
am=kP[1];ja=f.G.V0(aj);if(cI.Kw.k()!=am.k()){var jR=new gi;jR.translate(am.x,am.y);jR.concat(ja);ja=jR}}else{e1=f.OO(Y.buffer,8);
am=Y.S;ja.translate(am.x,am.y);if(eW){e1=e1.slice(0);ICC.U.applyLUT(eW[d.add.fcmy==1?5:3],eW[2],e1,e1)}if(f.p0(e1,am.r,am.$)&&x.fmts&&x.fmts.indexOf("jpg")!=-1){var eo=b3.bV("JPG").V$([[e1.buffer]],am.r,am.$,[x[1]]);
e1=new Uint8Array(eo);dj=!0}}if($&&!dj)e1=lb.ahK(e1,$,am);dW.n1(t,h,e1,am,ja,X);if($&&dj){var bD=[0,0,am.r,0,am.r,am.$,0,am.$];
f.Q.M(bD,ja,bD);f.Q.M(bD,X,bD);var eP=f.v(t);eP.ca=$.Opct.v.val/100;eP.pth={cmds:["M","L","L","L","Z"],crds:bD};
eP.colr=dW.gt($.Clr.v);h.Fill(eP)}}if(N)t.cpth=null;if(T){h.EndTGroup();t=D}t.ca=t.CA=i;if(b)dW.aan(Y,H,r,b,t,h,X,x,!1)};
dW.bL=function(d){var v=dW.h8;if(v==null)return d;var t=v.UR();if(t&&v.add.fcmy){return f.uP(f.aB(d)).slice(0,3)}return d};
dW.gt=function(d){d=f.iF.pq(d);return dW.bL([d.C/255,d.L/255,d.X/255])};dW.aL2=function(d){return dW.bL([(d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255])};
dW.aan=function(d,v,t,h,X,g,x,Z,Y){var a=t.b(),z=v;if(d.add.TySh&&!Z.vtxt)return;var p=X.ca,U=X.bmode;
for(var n=kV.order.length-1;n>=0;n--){var l=kV.order[n];if(l=="GrFl"||l=="SoFi")continue;if((d.add.vmsk||d.add.TySh)&&l=="FrFX")continue;
var L=h[l],j=n>7||l=="FrFX";if(j!=Y)continue;for(var O=0;O<L.length;O++){var F=L[O];if(F.QN==null)F=F.C7?F.C7:F._6;
if(F==null)continue;var i=f.OO(F.sN,8),$=F.QN.b();$.offset(a.x,a.y);if(!j){if(!a.GV($)){var H=a.Ue($),b=f.m(H.k());
f.Qb(z,a,b,H);z=b;a=H}f.Qc(z,a,i,$)}if(j&&l=="FrFX"&&F.k$)f.Qc(F.k$,$,i,$);var r=new gi;r.translate($.x,$.y);
X.ca=F.J9;X.bmode=dU.aLF(F.Z3);dW.n1(X,g,i,$,r,x)}}X.ca=p;X.bmode=U};dW.n1=function(d,v,t,h,X,g){var x=new gi;
x.scale(h.r,-h.$);x.translate(0,h.$);x.concat(X);x.concat(g);d.ctm=[x.aX,x.X,x.Wp,x.r7,x.r2,x.pE];v.PutImage(d,t,h.r,h.$);
d.ctm=[1,0,0,1,0,0]};var cj={};cj.lS=function(d){var v=new Uint8Array(d);return cj.Xv(v,0)};cj.Xv=function(d,v){var t=B.BT,h=B.o3,X={tj:h(d,v,4),h:v+8,size:t(d,v+4)},g=X.tj=="FORM"||X.tj=="FOR4"||X.tj=="LIST"||X.tj=="CAT ";
if(g)X.$B=h(d,v+8,4);if(X.size<0||X.h+X.size>d.length)throw"e";if(g){X.sub=[];v+=12;var x=X.h+X.size;
while(v<x){var Z=cj.Xv(d,v);X.sub.push(Z);var Y=Z.size&1,a=Z.size&3;if(X.tj=="FOR4")Y=a==0?0:4-a;v+=8+Z.size+Y}}return X};
var gv={};gv.lS=function(d,v){var t=new Uint8Array(d);return gv.Xv(t,0,v)};gv.Xv=function(d,v,t){var h=B.ij,X=B.o3,g={tj:X(d,v,4),h:v+8,size:h(d,v+4)};
if(t&&t[g.size]!=null)g.size=t[g.size];if(g.tj=="RIFF"||g.tj=="LIST"){g.$B=X(d,v+8,4)}if(g.size<0||g.h+g.size>d.length){console.log(g,d.length);
throw"e"}if(g.tj=="RIFF"||g.tj=="LIST"&&(g.$B!="cmpr"&&g.$B!="stlt")){g.sub=[];v+=12;var x=g.h+g.size;
while(v<x){var Z=gv.Xv(d,v,t);g.sub.push(Z);v+=8+Z.size+(Z.size&1);if(X(d,v-1,4)=="LIST")v--}}return g};
var lj=function(){function d(P,I){var k=null;if(P.sub==null)return k;for(var n=0;n<P.sub.length;n++){var o=P.sub[n];
if(o.tj==I||o.$B==I)k=o}return k}function v(P){if(P==32)return 300;else if(P<49)return 0;else if(P<58)return 100*(P-48);
else if(P<65)return 0;return 100*(P-55)}var t;function h(P,I){var k=new Uint8Array(P);I.Um=!0;t={};var o=B.o3(k,0,2);
if(o=="WL"){alert("Unsupported CDR version")}else{var af,J,at,ag,hn=300,i8=0;if(o=="PK"){J=UZIP.parse(k);
if(J["content/root.dat"]){k=J["content/root.dat"];at=B.I$(J["content/dataFileList.dat"]).split("\n")}else{k=J["content/riffData.cdr"];
J=null}}af=gv.lS(k.buffer);console.log(af);var ke=v(k[11]),c_={data:k,h:0,Uw:ke};c_.SD=c_.Uw<600?16:32;
V(k,c_,at,J,af.sub,0);var dz=[];if(J){ag=d(af,"doc ");X(ag);var kL=af.sub;for(var n=0;n<kL.length;n++)if(kL[n].$B=="page")dz.push(kL[n]);
dz=dz.slice(1)}else if(af.sub[3]&&af.sub[3].tj=="pack"){alert("We dont support this version of CDR files");
return}else if(d(af,"cmpr")==null){ag=d(af,"page");dz.push(ag);if(d(ag,"mcfg")==null){ag=d(af,"doc ");
X(ag);dz=[];var kL=af.sub;for(var n=0;n<kL.length;n++)if(kL[n].$B=="page")dz.push(kL[n]);dz=dz.slice(1)}}else{var aq=d(af,"cmpr").sub;
ag=aq[0];dz=[aq.slice(1)[1]];if(d(ag,"filt"))X(ag)}var dh=d(ag,"mcfg").K,gK=dh.ame,ad=gK.x*.1,dc=gK.x*dz.length+ad*(dz.length-1),lq=gK.y;
hn/=j7.hB(new iW(0,0,Math.round(dc*hn),Math.round(lq*hn)),8192*8192);var dF=Math.round(dc*hn),c3=Math.round(lq*hn);
I.r=dF;I.$=c3;I.buffer=f.m(I.r*I.$*4);for(var n=0;n<dz.length;n++){var dr=new gi(hn,0,0,-hn,gK.x*hn/2+i8,gK.y*hn/2);
g(dz[n],ag,I,dr);var jO=I.U[I.U.length-1];jO.In(new iW(Math.round(i8),0,Math.round(gK.x*hn),Math.round(gK.y*hn)));
jO.qv("Page "+(n+1));i8+=gK.x*hn+ad*hn}I.q7(dz.length)}}function X(P){var I=d(P,"filt").sub,k=d(P,"otlt").sub,o=d(P,"fntt");
if(o)o=o.sub;P.zT={};for(var n=0;n<I.length;n++)P.zT[I[n].sub[0].K.id]=I[n].sub[0].K;P.auJ={};for(var n=0;
n<k.length;n++)P.auJ[k[n].K.id]=k[n].K;if(o){P.fonts={};for(var n=0;n<o.length;n++)P.fonts[o[n].K.id]=o[n].K}}function g(P,I,k,o){var af=P.$B?P.$B:P.tj,J=d(P,"lgob"),at=d(P,"txsm"),ke=null,c_=null;
if(J){ke=d(J,"trfl");c_=d(J,"loda")}else if(d(P,"lobj"))c_=d(P,"lobj");var ag=ke&&ke.sub[0].AC?ke.sub[0].AC.b():new gi;
ag.concat(o);var dz=k.vv();if(af=="page"||af=="layr"||af=="grp "){dz.qv((af=="page"?"Page":"Group")+" "+k.U.length);
dz.add.lsct=f$.fG;dz.uF="pass";dz.Xw=24;var kL=[];if(af=="page")kL=d(P,"gobj").sub;if(af=="layr")kL=P.sub.slice(2);
if(af=="grp ")kL=P.sub.slice(4);if(kL.length==0)return;k.U.push(k.Rw());for(var n=kL.length-1;n>=0;n--)g(kL[n],I,k,o)}else if(af=="obj "&&c_.K&&c_.K.path){var aq,dh;
if(I.zT){aq=I.zT[c_.K.aIi];dh=I.auJ[c_.K.aAp]}if(aq==null)aq=c_.K.aai;if(dh==null)dh=c_.K.alR;dz=x(k,c_.K.path,o,ag,aq,dh)}else if(af=="obj "&&at){var gK=c_.K.ami,ad=c_.K.aNd,hn="";
dz.add.TySh=jM.de(0,0);var dc=ag.Mk();dz.add.TySh.M.translate(ag.r2,ag.pE);var lq=dz.add.TySh.Oo,dF=at.K.MY;
if(dF==null)return;for(var n=0;n<dF.length;n++){var c3=dF[n],i8=hn.length;hn+=c3.text+"\n";jM.Uh(lq,i8,c3.text+"\n");
if(c3.text=="")continue;var dr=Z(c3.aM2,I),jO=dr.a5c,d1=I.fonts[jO.aDb],h3=jM.Sj(lq,i8,hn.length);if(dr.align==3)h3.eE.Justification=1;
else if(dr.align==2)h3.eE.Justification=2;else h3.eE.Justification=0;var d5=dr.fill.K;if(d5==null)d5=[0,0,0];
if(d1.dO)jM.aW(h3,d1.dO);h3.Uy.FillColor={Type:1,Values:[1,d5[0],d5[1],d5[2]]};h3.Uy.FontSize=Math.round(jO.fontSize*o.Mk());
jM.yx(lq,i8,hn.length-1,h3)}if(ad){jM.kM(lq,0)}else{jM.kM(lq,1);jM.eg(lq,[0,0,Math.round(gK.x*ag.aX),Math.round(-gK.y*ag.r7)])}dz.qv(hn.slice(0,10))}else{dz=null}if(dz)k.U.push(dz)}function x(P,I,k,o,af,J){var at=P.vv();
at.qv("Object "+P.U.length);at.Xw|=16;var ke=at.add.vstk=kV.UY.yu();at.add.vmsk=new jn.rz;at.add.vmsk.D=f.Q.Q$(I,!1);
f.t.kh(at.add.vmsk.D,o);var c_=af&&af.e!=0,ag=c_&&af.K!=null?af.K:[0,0,0];dU.Tp(ag,at,o,at.add.vmsk.D);
ke.fillEnabled.v=c_;if(J&&J.aJe!=1){ke.strokeEnabled.v=!0;ke.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var dz=ke.strokeStyleLineWidth.v.val=J.lineWidth*k.Mk(),kL=J.color;ke.strokeStyleContent.v.Clr.v=f.iF.Zi({C:kL[0]*255,L:kL[1]*255,X:kL[2]*255});
if(J.gn.length!=0)ke.strokeStyleLineDashSet.v=lb.K0(J.gn,4/dz);var aq=J.apP,dh=J.aqo;if(dh!=0){var gK=I.I,n=gK.length-4,ad=gK[n],dc=gK[n+1],lq=gK[n+2],hn=gK[n+3],dF=new gi;
dF.scale(.15,.15);dF.rotate(-Math.PI/2+Math.atan2(hn-dc,-(lq-ad)));dF.translate(lq,hn);dF.concat(o);
if(t[dh]){var c3=x(P,t[dh],k,dF,kL,null);P.U.push(c3)}}}at.bB();at.tG(P);return at}function Z(P,I){var k=d(I,"stlt").K,o=f.v(k.Fw[P]);
if(o.aw4!=0){var af=k.Fw[o.aw4];for(var J in af)if(o[J]==null||o[J]==0)o[J]=af[J];delete o.aw4}o.align=k.a0z[o.a5a];
o.fill=I.zT[k.a9B[o.aIj]];o.a7o=I.auJ[k.aKT[o.aKj]];o.a5c=k.a0Y[o.aM9];return o}function Y(n){var bW=n.data[n.h];
n.h+=1;return bW}function a(n){var bW=B.kQ(n.data,n.h);n.h+=2;return bW}function z(n){var bW=B.ij(n.data,n.h);
n.h+=4;return bW}function p(n){var bW=B.ij(n.data,n.h);n.h+=8;return bW}function U(n){var bW=B.cY(n.data,n.h);
n.h+=2;return bW}function l(n){var bW=B.ce(n.data,n.h);n.h+=4;return bW}function L(n){var bW=B.FD(n.data,n.h);
n.h+=8;return bW}function j(n){if(n.h>=n.data.length)throw"e";var P=0;while(n.data[n.h+P]!=0)P++;var I=B.o3(n.data,n.h,P);
n.h+=P+1;return I}function O(n){var P="";while(!0){var I=a(n);if(I==0)break;P+=String.fromCharCode(I)}return P}function F(P){var I=z(P),k=(I&4294901760)>>>16,o=(I&65535)/65535;
return k+o}function i(P){if(P.Uw<600)return Math.PI*U(P)/1800;return Math.PI*l(P)/18e7}function $(P){if(P.Uw<1500)return H(P);
else return L(P)/254e3}function H(P){if(P.Uw<600)return U(P)/1e3;else return l(P)/254e3}function b(P){if(P.Uw<600)return a(P);
else return z(P)}function r(P){if(P.Uw<600)return U(P);else return l(P)}function W(P,I,k){var o="";for(var n=0;
n<k;n++){for(var af=0;af<I;af+=4){var bW=B.ij(P.data,P.h+n*I+af);o+=(bW<500?bW:bW)+","}o+="\n"}return o}function V(P,I,k,o,af,J){var at,ke,c_;
for(var ag=0;ag<af.length;ag++){var dz=I.Uw,kL=af[ag];I.data=P;I.h=kL.h+(kL.tj=="LIST"?4:0);if(o&&kL.sub==null){at=z(I);
ke=z(I);c_=z(I);var aq=a(I);if(aq!=0&&aq!=256&&aq!=768)throw aq.toString(16);var dh=a(I);if(dh>32)throw"e";
I.h-=16;if(at!=4294967295){I.data=o["content/data/"+k[at]];I.h=c_}}if(kL.tj=="vrsn"){if(kL.size==16)I.h+=8;
var gK=a(I);I.Uw=gK;console.log("Version",gK);I.SD=gK<600?16:32}else if(kL.tj=="DISP"){}else if(kL.tj=="pack"){var ad=z(I),dc=B.o3(I.data,I.h,4),dF=0;
if(dc!="CPng")throw dc;var lq=new Uint8Array(I.data.buffer,I.h+8+2,kL.size-10-4),hn=pako.inflateRaw(lq);
kL.sub=[];while(dF<hn.length){var c3=gv.Xv(hn,dF);dF=c3.h+c3.size;kL.sub.push(c3)}var i8={data:hn,h:0,Uw:dz,SD:I.SD};
V(hn,i8,k,o,kL.sub,J+1)}else if(kL.tj=="LIST"&&kL.$B=="cmpr"){var dr=z(I),jO=z(I),d1=z(I),ad=z(I),dc=B.o3(I.data,I.h,4),dF=0;
if(dc!="CPng")throw dc;var lq=new Uint8Array(I.data.buffer,I.h+8+2,dr-6-8),hn=pako.inflateRaw(lq);I.h+=dr;
lq=new Uint8Array(I.data.buffer,I.h+8+2);var h3=pako.inflateRaw(lq),d5=[];for(var em=0;em<h3.length;
em+=4)d5.push(B.ij(h3,em));kL.sub=[];while(dF<hn.length){var c3=gv.Xv(hn,dF,d5);dF=c3.h+c3.size;kL.sub.push(c3)}var i8={data:hn,h:0,Uw:dz,SD:I.SD};
V(hn,i8,k,o,kL.sub,J+1)}else if(kL.tj=="LIST"&&kL.$B=="stlt"||kL.tj=="stlt"){if(at==4294967295)return;
var fl=I.h,bD="",eo=32;kL.K={};var lA=z(I);if(lA==0)return;kL.K.a9B=G(I,dz>=1300);kL.K.aKT=G(I);kL.K.a0Y={};
var av=z(I);for(var n=0;n<av;n++){var ah=z(I);I.h+=dz<1e3?12:20;var gE=a(I),fj=a(I);I.h+=8;var bR=H(I);
I.h+=dz<1e3?12:20;kL.K.a0Y[ah]={aDb:gE,axq:fj,fontSize:bR}}kL.K.a0z=G(I);var e1=z(I);bD+="Intervals\n"+W(I,52,e1)+"\n";
I.h+=52*e1;var am=z(I);bD+="Set5s\n"+W(I,152,am)+"\n";I.h+=152*am;var dj=z(I);bD+="Tabs\n"+W(I,784,dj)+"\n";
I.h+=784*dj;var ja=z(I);bD+="Bullets\n";for(var n=0;n<ja;n++){var aj=I.h,dS=z(I);I.h+=4*3;if(dz>1300)I.h+=4;
var eW=z(I);I.h+=4*5;if(dz>=1300){var be=z(I);if(be){if(z(I))I.h+=64;else I.h+=60}else I.h+=12}else{I.h+=20;
if(dz>=1e3)I.h+=8;if(z(I))I.h+=8;I.h+=8}var cI=I.h;I.h=aj;bD+=W(I,cI-aj,1);I.h=cI}bD+="\n";var kP=z(I);
bD+="Indents\n";kL.K.anF={};for(var n=0;n<kP;n++){var aj=I.h,i0=z(I),ac={};I.h+=12;ac.right=H(I);ac.a3E=H(I);
ac.left=H(I);kL.K.anF[i0]=ac;var cI=I.h;I.h=aj;bD+=W(I,cI-aj,1);I.h=cI}bD+="\n";var jR=z(I);if(dz>=1300)eo+=4;
bD+="Hypens\n"+W(I,eo,jR)+"\n";I.h+=eo*jR;var eP=z(I);bD+="Dropcaps\n"+W(I,28,eP)+"\n";I.h+=28*eP;if(dz>800){var as=z(I);
bD+="Set11s\n"+W(I,28,as)+"\n";I.h+=12*as}kL.K.Fw={};for(var n=0;n<lA;n++){var kF=z(I);if(kF>3)throw kF;
var kW=z(I),hs={};hs.aw4=z(I);I.h+=8;var gc=z(I);if(dz>=1200)gc*=2;I.h+=gc;hs.aIj=z(I);hs.aKj=z(I);if(kF>1){hs.aM9=z(I);
hs.a5a=z(I);hs.aNA=z(I);hs.amH=z(I);if(dz>800)hs.a3l=z(I)}if(kF>2){hs.afU=z(I);hs.aLr=z(I);hs.avy=z(I);
hs.aED=z(I);hs.a32=z(I)}kL.K.Fw[kW]=hs}}else if(kL.tj=="LIST")V(P,I,k,o,kL.sub,J+1);else if(kL.tj=="txsm"){kL.K={};
if(dz<600)throw"e";if(dz<700)throw"e";if(dz>=1600){kL.K=N(I);return}if(dz>=1500)I.h+=37;else I.h+=36;
if(z(I)){if(dz<800)I.h+=32}if(dz<800)I.h+=4;kL.K.aCl=z(I);kL.K.MY=[];I.h+=48;if(dz>=800){if(z(I)){I.h+=32;
if(dz>=1300)I.h+=8}}if(dz>=1500)I.h+=12;var kF=z(I),fK=1,lo=!1;if(!kF){if(dz>=800)I.h+=4;if(dz>800)I.h+=2;
if(dz>=1400)I.h+=2;I.h+=24;if(dz<800)I.h+=8;fK=z(I)}for(var em=0;em<fK;em++){var cR=z(I),n=0;if(dz>=1300&&kF)I.h++;
I.h++;var lA=z(I),fU=[];for(n=0;n<lA;n++){var g8=Y(I),jQ=0;Y(I);var i2=Y(I);if(dz>=800)jQ=Y(I);var hs={};
if(i2&1){hs.aDb=a(I);var eS=a(I);if(eS)hs.axX=eS}if(i2&2)I.h+=4;if(i2&4)hs.aEj=H(I);if(i2&8)I.h+=4;if(i2&16)I.h+=4;
if(i2&32)I.h+=4;if(i2&64){hs.aIj=z(I);if(dz>=1500)I.h+=48}if(i2&128){hs.aKj=z(I)}if(jQ&8){if(dz>=1300){var ji=z(I);
if(I.h+ji*2>=I.data.length){lo=!0;break}I.h+=ji*2}else I.h+=4}if(jQ&32){var l7=Y(I);if(l7)I.h+=52}if(g8==2)if(dz>=1300)I.h+=48;
fU.push(hs)}if(lo){break}var j_=z(I);if(I.h+j_*4>I.data.length)break;var hb=[];for(n=0;n<j_;n++){var fL=0;
if(dz>=1200)fL=p(I)&4294967295;else fL=z(I);hb[n]=fL>>16|fL&1}var dE=j_;if(dz>=1200)dE=z(I);var gF=j(I);
kL.K.MY.push({aM2:cR,text:gF,Fw:fU})}}else if(kL.tj=="arrw")kL.K=y(I);else if(kL.tj=="font"){var aj=I.h,gA=a(I),gP=a(I),km="";
I.h+=14;if(I.Uw>=1200)km=O(I);else km=j(I);kL.K={id:gA,a9q:gP,name:km};if(o){var jA=aj+ke;while(I.data[I.h]==0)I.h++;
I.h+=2;var cD=O(I);while(I.data[I.h]==0)I.h++;while(I.data[I.h]<=2)I.h+=4;kL.K.dO=O(I)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(kL.tj)!=-1){}else if(kL.tj=="flgs")kL.K=z(I);
else if(kL.tj=="bbox"){var i4=H(I),dv=H(I),eK=H(I),k2=H(I);kL.K=new iW(i4,dv,eK-i4,k2-dv)}else if(kL.tj=="fild"){var gl=z(I),d9;
if(dz>=1300)I.h+=8;if(dz>=2510)I.h+=16+8;var eU=a(I);if(eU==0){}else if(eU==1){I.h+=dz>=1300?13:2;d9=w(I)}else if(eU==2){I.h+=dz>=1300?8:2;
var iJ=Y(I),jl=0;if(dz>=1300){I.h+=17;jl=U(I)}else if(dz>=600){I.h+=19;jl=l(I)}else{I.h+=11;jl=U(I)}var fd=i(I),el=.5+r(I),cT=.5+r(I)-.5;
if(dz>=600)I.h+=2;var jg=b(I)&255,aw=Y(I)/100;I.h++;var du=b(I)&65535;if(dz>=1300)I.h+=3;var e7=[];for(var n=0;
n<du;n++){var dN=w(I);if(dz>=1400)I.h+=26;else if(dz>=1300)I.h+=5;var gw=(b(I)&65535)/100;if(dz>=1300)I.h+=3;
e7.push([gw,dN])}d9={typ:iJ==1?"lin":"rad",crds:[el-Math.cos(fd)/2,cT-Math.sin(fd)/2,el,cT],grad:e7,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",eU);
kL.K={id:gl,e:eU,K:d9}}else if(kL.tj=="outl"){var iy=z(I);if(dz>=1300){var cb=0,aJ=0;while(cb!=1){I.h+=aJ;
cb=z(I);aJ=z(I)}}var iO=a(I),i$=a(I),df=a(I);if(dz<1300&&dz>=600)I.h+=2;var b5=H(I),iC=a(I)/100;if(dz>=600)I.h+=2;
var h4=i(I);if(dz>=1300)I.h+=46;else if(dz>=600)I.h+=52;var d9=w(I);if(dz<600)I.h+=10;else I.h+=16;var ii=a(I),bx=I.h,ku=[];
for(var n=0;n<ii;++n)ku.push(a(I));if(dz<600)I.h=bx+20;else I.h=bx+22;var bX=z(I),e9=z(I);kL.K={id:iy,aJe:iO,ak3:i$,aqW:df,lineWidth:b5,color:d9,gn:ku,apP:bX,aqo:e9}}else if(kL.tj=="mcfg"){if(1300<=dz)I.h+=12;
else if(900<=dz)I.h+=4;else if(600<=dz&&dz<700)I.h+=28;var a_=0,j3=0;if(dz<400){I.h+=2;var i4=H(I),dv=H(I),eK=H(I),k2=H(I);
a_=Math.abs(eK-i4);j3=Math.abs(k2-dv)}else{a_=H(I);j3=H(I)}kL.K={ame:new cK(a_,j3)}}else if(kL.tj=="loda"||kL.tj=="lobj"){var fl=I.h,b4=b(I),dw=b(I),l3=b(I),ep=b(I),ao=b(I),ls=[],eJ=[],n=0,f2=null;
I.h=fl+l3;while(n<dw)ls[n++]=b(I);I.h=fl+ep;while(n>0)eJ[--n]=b(I);kL.K={};for(n=0;n<dw;n++){I.h=fl+ls[n];
var eH=eJ[n];if(eH==30){if(dz>=400&&ao==1||dz<400&&ao==0){kL.K.path=T(I)}else if(dz>=400&&ao==2||dz<400&&ao==1){kL.K.path=K(I)}else if(dz>=400&&ao==3||dz<400&&ao==2){kL.K.path=R(I)}else if(ao==37){kL.K.path=q(I)}else if(dz>=400&&ao==4||dz<400&&ao==3){kL.K.aNd=s(I)}else if(dz>=400&&ao==6||dz<400&&ao==5){kL.K.ami=Q(I)}else console.log(ao)}else if(eH==20){if(dz<400)kL.K.aai=S(I);
else kL.K.aIi=z(I)}else if(eH==10){if(dz<400)kL.K.alR=C(I);else kL.K.aAp=z(I)}else if(eH==200)kL.K.avC=b(I);
else if(eH==100){if(dz<400)f2=c(I)}}if(f2&&kL.K.path)f.Q.M(kL.K.path.I,f2,kL.K.path.I)}else if(kL.tj=="trfd"){var fl=I.h,b4=b(I),dw=b(I),l3=b(I);
I.h=fl+l3;var ls=[];for(var n=0;n<dw;n++)ls[n]=b(I);for(var n=0;n<dw;n++){I.h=fl+ls[n];if(dz>=1300)I.h+=8;
var jf=a(I);if(jf==8){var kh,dX,i4,cq,is,dv;if(dz>=600)I.h+=6;if(dz>=500){kh=L(I);dX=L(I);i4=L(I)/(dz<600?1e3:254e3);
cq=L(I);is=L(I);dv=L(I)/(dz<600?1e3:254e3)}else throw"e";kL.AC=new gi(kh,cq,dX,is,i4,dv)}else console.log(jf)}}else if(!1){console.log(kL);
var hO=Math.min(kL.size,32);console.log(B.e5(P,kL.h,hO));console.log(B.a0l(P,kL.h,hO))}}}function y(P){var I=z(P);
P.h+=4;var k=a(P);P.h+=4;var o=[];for(var af=0;af<k;af++)o.push(Y(P));P.h+=1;var J=[];for(var at=0;at<k;
at++){var ke=[];ke[1]=H(P);ke[0]=H(P);J.push(ke)}var c_=E(J,o);t[I]=c_}function c(P){var I=0,k=0,o=0,af=0,J=0,at=0;
if(P.Uw>=300){var ke=P.h;P.h+=10;var c_=b(P);P.h=ke+c_;I=F(P);k=F(P);o=l(P)/1e3;af=F(P);J=F(P);at=l(P)/1e3}else{o=H(P);
at=H(P);I=F(P);k=F(P);o+=F(P)/1e3;af=F(P);J=F(P);at+=F(P)/1e3}return new gi(I,k,af,J,o,at)}function S(P){var I=Y(P);
if(I==0)return null;else if(I==1)return w(P);else console.log(I)}function C(P){var I=Y(P);I<<=1;var k=H(P),o=a(P)/100,af=i(P),J=w(P);
return{aJe:I,lineWidth:k,color:J,gn:[],apP:0,aqo:0}}function K(P){var I=H(P),k=H(P),o=i(P),af=i(P),J=f.Q.lR(f.t.I7.ZH(0,0,I,k));
return J}function T(P){var I=P.Uw,k=$(P),o=$(P),af=0,J=0,at=0,ke=0,c_=0,ag=1,dz=1;if(I<1500){ke=$(P);
at=I<900?ke:$(P);J=I<900?ke:$(P);af=I<900?ke:$(P)}else{var kL=L(P);if(kL!=0)ag=kL;kL=L(P);if(kL!=0)dz=kL;
var aq=Y(P);P.h+=7;if(aq==0){ke=L(P);c_=Y(P);P.h+=15;at=L(P);P.h+=16;J=L(P);P.h+=16;af=L(P);var dh=Math.abs(k*ag/2),gK=Math.abs(o*dz/2);
ke*=dh<gK?dh:gK;at*=dh<gK?dh:gK;J*=dh<gK?dh:gK;af*=dh<gK?dh:gK}else{ke=$(P);c_=Y(P);P.h+=15;at=$(P);
P.h+=16;J=$(P);P.h+=16;af=$(P)}}return f.Q.lR(f.t.I7.Rect(0,0,k,o,[af,J,at,ke]))}function D(P){var I=z(P);
if(P.Uw<1700)I*=2;P.h+=I;return""}function N(P){var I=z(P),o=0;P.h+=37;var k=z(P);for(var n=0;n<k;n++){var af=z(P);
o=af;P.h+=48;var J=z(P);if(J==1)P.h+=12*4;else P.h+=8;if(!I){P.h+=16;D(P)}}var at={aCl:o,MY:[]},ke=z(P);
for(var c_=0;c_<ke;c_++){if(P.h>P.data.length)throw"e";var ag=z(P),dz=Y(P),kL=-1,dr="";if(I){kL=Y(P);
if(kL==1)P.h+=64}var aq=D(P),dh=z(P);for(var n=0;n<dh;n++){P.h+=2;var gK=a(P),ad=a(P);if(ad&4){var dc=z(P);
dc*=2;P.h+=dc}if(gK||ad&4){var lq=D(P)}}var hn=z(P),dF=[];for(var n=0;n<hn;n++){var c3=p(P)&4294967295;
dF[n]=c3>>16|c3&1}var i8=z(P);for(var n=0;n<hn;n++){var jO=dF[n]&7,d1=0;if(jO==0||jO==2||jO==4||jO==6)d1=P.data[P.h++];
else if(jO==1||jO==3||jO==5||jO==7)d1=P.data[P.h++]+P.data[P.h++]*256;else throw jO;dr+=String.fromCharCode(d1)}if(c_+1<ke)P.h++;
var h3=dr.split("\r");for(var n=0;n<h3.length;n++)at.MY.push({text:h3[n],aM2:ag,Fw:[]})}return at}function G(P,I){var k={},o=z(P);
for(var n=0;n<o;n++){var af=z(P);P.h+=4;var J=z(P);k[af]=J;if(I)P.h+=48}return k}function s(P){var I=H(P),k=H(P);
return new cK(I,k)}function Q(P){P.h+=4;var I=H(P),k=H(P);return new cK(I,k)}function q(P){P.h+=4;var I=a(P)+a(P);
P.h+=16;var k=m(P,I);return k}function R(P){var I=a(P);P.h+=2;return m(P,I)}function m(P,I){var k=[],o=[];
for(var n=0;n<I;n++)k.push([H(P),H(P)]);for(var n=0;n<I;n++)o.push(Y(P));return E(k,o)}function E(P,I){var k={I:[],s2:[]},o=0,af=0,J=0;
for(var n=0;n<P.length;n++){var o=P[n][0],af=P[n][1],at=I[n];if(!(at&64)&&!(at&128)||n==0){k.I.push(o,af);
k.s2.push("M");J+=2}else if(at&64&&!(at&128)){k.I.push(o,af);k.s2.push("L");J+=2}else if(!(at&64)&&at&128){k.I.push(o,af);
k.s2.push("C");J+=6}else if(at&64&&at&128){if(at&58)console.log("strange point");k.I.push(o,af)}}if(J!=k.I.length)console.log("strange path",J,k.I.length);
return k}function e(P,I){var k=B.ij;I+=8;var o=k(P,I);I+=4;var af=k(P,I);I+=4;I+=4*7;var J=I,at=f.m(o*af*4);
I+=1024;for(var ke=0;ke<af;ke++)for(var c_=0;c_<o;c_++){var n=ke*o+c_,ag=(af-ke-1)*o+c_,dz=P[I+n]<<2,kL=ag<<2;
at[kL+0]=P[J+dz+2];at[kL+1]=P[J+dz+1];at[kL+2]=P[J+dz+0];at[kL+3]=255}return{sN:at,S:new iW(0,0,o,af)}}function w(P){var I=P.Uw,k=0,o=0,af=0;
if(I>=500){k=a(P);if(k==1&&I>=1300)k=25;if(k==30){k=25;o=30}else{o=a(P);P.h+=4}af=z(P)}else if(I>=400)throw"e";
else{k=Y(P);af=z(P)}return M(k,o,af)}function M(P,I,k){var o=[0,0,0];if(P==2||P==3||P==9||P==17){var af=[k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255];
if(P==2)for(var n=0;n<4;n++)af[n]=Math.round(255*af[n]/100);for(var n=0;n<4;n++)af[n]/=255;o=UDOC.C.cmykToRgb(af)}else if(P==1||P==5){o=[k>>>0&255,k>>>8&255,k>>>16&255];
for(var n=0;n<3;n++)o[n]=o[n]/255;if(P==5)o.reverse()}else console.log("Unknown color model "+P,k,k.toString(16));
return o}return{lS:h}}(),bU=function(){var d,v,t=new ArrayBuffer(4),h=new Uint8Array(t),X=new Uint32Array(t),g=new Float32Array(t);
function x(U,l){for(var L=0;L<U.length;L++)if(U[L][0]==l)return U[L]}function Z(){var U=0,l=0,L=0;do{L=d[v++];
U|=(L&127)<<l;l+=7}while(L&128&&l<35);return U>>>0}function Y(U,l,L,j,O){d=U;v=l;var F=j[0]=="mesg",i=j[2],$={},H=1,b=F?1e9:i.length;
while(H<=b){var r=H;if(F){r=Z();if(r==0)break}var W=x(i,r),V=W[2],y=W[1]==1,c=y?Z():1,S=new Array(c);
if(V==3){if(!y)throw"e";S=d.slice(v,v+c);v+=c}else for(var n=0;n<c;n++){var C;if((V&1)==1){if(V==1)C=d[v++]==1;
else if(V==3)C=d[v++];else if(V==5){var K=Z();C=K&1?~(K>>>1):K>>>1}else if(V==7)C=Z();else if(V==9){if(d[v]==0){C=0;
v++}else{h[0]=d[v];h[1]=d[v+1];h[2]=d[v+2];h[3]=d[v+3];var T=X[0];X[0]=T<<23|T>>>9;C=g[0];v+=4}}else if(V==11){var D=a(d,v);
C=D[0];v+=D[1]+1}else if(V==15){var K=BigInt(0),N=BigInt(0),G=BigInt(7),s;while((s=d[v++])&128&&N<56){K|=BigInt(s&127)<<N;
N+=G}K|=BigInt(s)<<N;C=K}else throw V}else{var Q=L[V>>>1];if(Q[0]=="enum"){var q=Z();C=Q[2][q]}else{var R=Y(d,v,L,Q,O+1);
C=R[0];v=R[1]}}S[n]=C}$[W[3]]=y?S:S[0];H++}return[$,v]}function a(U,l){var L=l;while(U[L]!=0)L++;return[B.I$(new Uint8Array(U.buffer,l,L-l)),L-l]}function z(U,l){var L=l;
while(U[L]!=0)L++;for(var n=l;n<L;n++)if(U[n]>127)throw"e";return B.o3(U,l,L-l)}function p(U){d=U;v=1;
var l=[];while(v<U.length){var L=v,j=l.length,O=z(U,v);v+=O.length+1;var F=Z();if(F>2)throw"e";var i=Z(),$=[];
for(var n=0;n<i;n++){var H=z(U,v);v+=H.length+1;var b=Z(),r=Z(),W=Z();$.push(F==0?H:[W,r,b,H])}l.push([["enum","strc","mesg"][F],O,$])}return l}return{asP:p,aF4:Y}}();
function hE(){}hE.lS=function(d,v){var t=Date.now(),h=new Uint8Array(d),X=8,g,U=0,Q=0;if(h[0]==80&&h[1]==75){g=UZIP.parse(d);
h=g["canvas.fig"]}var x=B.ij(h,X);X+=4;var Z=[];while(X<h.length){var Y=B.ij(h,X);X+=4;var a=h.slice(X,X+Y);
if(h[X]==137&&h[X+1]==80){}else if(x>=70&&Z.length!=0){var z=b3.JJ.tT(a);a=z.length==0?UZIP.inflateRaw(a):z}else a=UZIP.inflateRaw(a);
Z.push(a);X+=Y}var p=bU.asP(Z[0]);for(var n=0;n<p.length;n++)if(p[n][1]=="Message")U=n;var l=bU.aF4(Z[1],0,p,p[U],0)[0],L={nL:{},$W:{},aFT:{},Ml:g},j=l.nodeChanges;
for(var O=0;O<j.length;O++){var F=j[O],i=F.guid;L.$W[i.sessionID+","+i.localID]=F}for(var O=0;O<j.length;
O++){var F=j[O],i=F.parentIndex;if(i){var $=hE.Cb(L.$W,i.guid);if($.children==null)$.children=[];$.children.push(F)}}var H=j[0],b=H.children,r=new iW,W=[],V=[];
for(var i=0;i<b.length;i++){var y=b[i],c=y.children;if(y.name=="Internal Only Canvas"||c==null)continue;
var S=new iW;for(var n=0;n<c.length;n++){var C=c[n],K=C.transform,T=C.size;if(K.m00==1&&K.m10==0&&K.m01==0&&K.m11==1){var D=new iW(K.m02,K.m12,T.x,T.y);
S=S.Ue(D)}}var N=r.$==0?0:r.$+100,G=S.b();G.x=0;G.y=N;r=r.Ue(G);W[i]=S;V[i]=N}var s=j7.hB(new iW(0,0,r.r,r.$),8192*8192);
v.r=Math.round(r.r/s);v.$=Math.round(r.$/s);v.buffer=f.m(v.r*v.$*4);for(var i=0;i<b.length;i++){var y=b[i],c=y.children;
if(y.name=="Internal Only Canvas"||c==null)continue;c.sort(hE.ay3);var q=new gi(1,0,0,1,-W[i].x,V[i]-W[i].y);
q.scale(1/s,1/s);for(var n=0;n<c.length;n++){var C=c[n];hE.x_(C,[],q,l.blobs,v,0,L);Q++}}v.q7(Q);v.Um=!0;
if(s!=1)alert("File scaled down "+s+"x")};hE.x_=function(d,v,t,h,X,g,x){var Z=hE,c=!1,S,T=!1,D,N;v=f.v(v);
var Y=d.overrideKey?d.overrideKey:d.guid;for(var n=0;n<v.length;n++){var a=v[n],z=a.guidPath.guids;if(Z.aE2(z[0],Y)){if(z.length==1){var p={};
for(var U in d)p[U]=a[U]!=null?a[U]:d[U];d=p}else a.guidPath.guids=z.slice(1)}}var l=d.type,L=d.children,j=d.size,O=d.effects,F=X.vv();
F.qv(d.name);F.fF(d.visible);F.JS=Math.round(d.opacity*255);var i=Z.mp(d.transform),$=i.b();$.concat(t);
if(j==null)j={x:0,y:0};var H=new iW(Math.round($.r2),Math.round($.pE),Math.round(j.x*$.Mk()),Math.round(j.y*$.Mk()));
if(H.r==0||isNaN(H.r))H.r=100;if(H.$==0||isNaN(H.$))H.$=100;var b=d.fillPaints,r=d.inheritFillStyleID;
if(r){var p=Z.Cb(x.$W,r);if(p)b=p.fillPaints}if(b==null)b=[];var b=Z.aCf(b),W=b[0];if(W&&W.type=="IMAGE"&&Z.jP(h,hE.NG(W),x,!0)==null)W=null;
var V=d.strokePaints,r=d.inheritFillStyleIDForStroke;if(r){var p=Z.Cb(x.$W,r);if(p)V=p.fillPaints}if(V==null)V=[];
var V=Z.aCf(V),y="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(l)!=-1;
if(y||l=="FRAME"||l=="INSTANCE"){S=new jn.rz;Z.a6S(d,h,S);c=f.t.QD(S.D);f.t.kh(S.D,$);var C=f.Q.kI(f.t.ft(S.D));
if(!C.HP())H=C;if(x.nL.gi&&W){var K=jn.rz.Pf(x.nL.gi.D);for(var n=2;n<K.length;n++)if(K[n].qG!=null)K[n].qG=3;
S.D=S.D.concat(K.slice(2))}}if(W&&W.type=="IMAGE"){N=W.imageScaleMode;T=!0;var G=W.originalImageWidth,s=W.originalImageHeight;
if(G*s==0){var Q=Z.jP(h,hE.NG(W),x);G=Q._S.r;s=Q._S.$}var q=G/s,R=j.x/j.y;D=Math.abs(q-R)}if(l=="FRAME"){}else if(y&&c&&T&&(N=="FIT"||N=="FILL"&&D<=.05||N=="STRETCH"&&D<=.05)){var m=Z.jP(h,hE.NG(W),x,!0),E=X.b0(m,F.getName(),0,0);
E.Xw=F.Xw;E.JS=F.JS;F=E;var e=new iW(0,0,j.x,j.y);if(N=="FIT"){var w=W.originalImageWidth,M=W.originalImageHeight,P=Math.min(j.x/w,j.y/M),I=w*P,k=M*P;
e=new iW(e.x+(e.r-I)/2,e.y+(e.$-k)/2,I,k)}var o=f.Q.Ya(e).I;f.Q.M(o,$,o);F.add.SoLd.Trnf=A.hZ.gX(o);
F.add.SoLd.nonAffineTransform=A.hZ.gX(o);var af=[],O=d.effects,J=W.paintFilter;if(O)for(var n=0;n<O.length;
n++)if(O[n].type=="FOREGROUND_BLUR"){var at=O[n],ke=e0.s_("GsnB",{});af.push(ke);ke.v.enab.v=at.visible;
ke.v.Fltr.v.Rds.v.val=at.radius/2.4}if(J&&J.exposure!=0){var ke=e0.s_("brit",{});af.push(ke);ke.v.Fltr.v.Brgh.v=Math.round(J.exposure*160);
ke.v.Fltr.v.useLegacy.v=!0}if(J&&J.vibrance!=0){var ke=e0.s_("vibA",{});af.push(ke);ke.v.Fltr.v.Strt.v=Math.round(Math.round(J.vibrance*100))}if(af.length!=0){F.add.SoLd.filterFX=e0.jE();
X.f1({id:F.add.SoLd.placed.v,S:new iW,buffer:f.m(1),AU:new jn.Ks});F.add.SoLd.filterFX.v.filterFXList.v=af}F.Lc(X,!1);
Z.aCK(x,F,X)}else if(y){Z.R5(F,S,d,W,V,$,H,h,X,x);if(O)for(var n=0;n<O.length;n++){var at=O[n];if(at.type!="FOREGROUND_BLUR")continue;
S.mO=at.radius/2.4}F.bB();F.tG(X)}else if(l=="TEXT"){var c_=d.textData,ag=c_.layoutSize;if(ag==null)ag=d.size;
var dz=["LEFT","RIGHT","CENTER"].indexOf(d.textAlignHorizontal);if(dz==-1)dz=0;F.add.lnsr="rend";F.add.TySh=jM.de(0,0);
F.add.TySh.LS=new iW(0,0,100,100);var kL=$.b();F.add.TySh.M=kL;var aq=F.add.TySh.Oo,dh=c_.characters;
if(d.textCase=="TITLE"){for(var n=0;n<dh.length;n++)if(n==0||dh[n-1]==" "){var gK=dh.slice(0,n),ad=dh.slice(n+1);
dh=gK+dh[n].toUpperCase()+ad}}dh=dh.replace(/\u2028/g,"\n");dh=dh.replace(/\u2029/g,"\n");dh=dh.replace(/\r\n/g," \n");
jM.Uh(aq,0,dh);var dc=d.textAutoResize,lq=c_.baselines;if(dc=="WIDTH_AND_HEIGHT"){var hn=dz==0?0:dz==1?ag.x:ag.x/2,dF=lq?lq[0].position.y:d.fontSize;
kL.translate(hn*$.Mk(),dF*$.Mk());jM.kM(aq,0)}else if(dc=="HEIGHT"||dc=="NONE"||dc==null){var dF=lq?lq[0].position.y-d.fontSize*.7:0;
kL.translate(0,dF*$.Mk());jM.kM(aq,1);jM.eg(aq,[0,0,Math.round(ag.x),Math.round((dc=="NONE"?1.8:1)*ag.y)])}else throw dc;
if(dh!=""){var c3=jM.Sj(aq,0,1);Z.alr(d,$,j,c3,F,h,X,x);jM.yx(aq,0,dh.length,c3);var i8=c_.characterStyleIDs,dr=c_.styleOverrideTable;
if(i8){i8=i8.slice(0);for(var n=0;n<i8.length;n++)if(dh[n]=="\n")i8[n]=-n-1;var jO=[0],d1=0,h3=0;for(var n=0;
n<i8.length;n++){h3++;var d5=i8[n];if(n==0||d5==i8[n-1]){}else{jO.push(h3-1,n);h3=1}}jO.push(h3);for(var n=0;
n<jO.length;n+=2){var em=jO[n],fl=jO[n+1];if(dh[em]=="\n")continue;var d5=i8[em];if(d5!=0){var lA;for(var av=0;
av<dr.length;av++)if(dr[av].styleID==d5)lA=dr[av];var c3=jM.Sj(aq,em,em+1);Z.alr(lA,$,j,c3,F,h,X,x);
jM.yx(aq,em,em+fl-1,c3)}}}}}else if(l=="SYMBOL"){}else if(l=="INSTANCE"&&d.symbolData){var ah=d.symbolData,gE=ah.symbolOverrides,p=Z.Cb(x.$W,ah.symbolID);
if(p)L=p.children;else console.log(d.name,"symbol not found",ah.symbolID);v=v.slice(0);for(var n=0;n<gE.length;
n++)v.push(gE[n])}else console.log(l);if(!1){}else if(L&&!y){X.U.push(X.Rw());var fj=!1,bR=g==0&&l!="SYMBOL"&&l!="INSTANCE";
if(bR){if(H.HP())console.log(H);F.In(H)}W=b[b.length-1];if(W&&W.type=="IMAGE"&&Z.jP(h,hE.NG(W),x,!0)==null)W=null;
if(bR&&W&&W.type=="SOLID"){var bD=W.color;F.add.artb.artboardBackgroundType.v=4;F.add.artb.Clr=Z.bT(bD)}else if((W||V[0])&&S){var e1=X.vv();
e1.qv("Background");Z.R5(e1,S,d,W,V,$,H,h,X,x);e1.bB();e1.tG(X);X.U.push(e1);fj=!0}L.sort(Z.ay3);var am=x.nL;
x.nL={};for(var dj=0;dj<L.length;dj++)Z.x_(L[dj],v,$,h,X,g+1,x);x.nL=am;F.add.lsct=!1?f$.fG:f$.wM;F.uF="pass";
var ja=F.ZC();F.Xw=24;F.fF(ja);var aj=g!=0&&b.length!=0&&!d.frameMaskDisabled&&d.containerSupportsFillStrokeAndCorners;
if(!fj&&aj&&S){F.add.vmsk=S;F.bB();F.tG(X)}else Z.aCK(x,F,X);X.U.push(F)}else if(l=="FRAME"&&W&&S){Z.R5(F,S,d,W,V,$,H,h,X,x);
F.bB();F.tG(X);X.U.push(F)}else if(d.mask){if(S){x.nL.gi=S}}else{var dS=[],jR=1;if(O)for(var eW=0;eW<O.length;
eW++){var at=O[eW],be=at.color,cI=at.type,kP=["DROP_SHADOW","INNER_SHADOW"].indexOf(cI);if(kP!=-1){var i0=["DrSh","IrSh"][kP],ac=JSON.parse(kV.v0[kV.order.indexOf(i0)]);
dS.push([i0,ac]);ac.enab.v=at.visible;ac.Md.v.BlnM=gL.V6(Z.aMU(at.blendMode));ac.Opct.v.val=Math.round(100*be.a);
ac.blur.v.val=Math.round(at.radius*$.Mk());ac.Clr=Z.bT(be);var hn=at.offset.x,dF=at.offset.y;ac.uglg.v=!1;
ac.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dF,-hn));ac.Dstn.v.val=Math.round(Math.sqrt(hn*hn+dF*dF)*$.Mk())}}if(l=="TEXT"&&b[0]&&b[0].type!="SOLID")jR=0;
for(var n=jR;n<b.length;n++){var eo=b[n],eP=Z.x9(d,eo,$,H,h,X,x);if(eP[0]=="GdFl")dS.push(["GrFl",eP[1]]);
else if(eP[0]=="SoCo")dS.push(["SoFi",eP[1]]);else if(eP[0]=="PtFl")dS.push(["patternFill",eP[1]]);else if(eP[0]=="None"){}else throw eP}if(!y)for(var n=0;
n<V.length;n++){var eo=V[n],eP=Z.x9(d,eo,$,H,h,X,x);if(eP[0]=="SoCo"){var ac=JSON.parse(kV.v0[kV.order.indexOf("FrFX")]);
dS.push(["FrFX",ac]);ac.enab=eP[1].enab;ac.Opct=eP[1].Opct;ac.Md=eP[1].Md;ac.Clr=eP[1].Clr;ac.Sz.v.val=Math.round(d.strokeWeight);
var as=d.strokeAlign;if(as)ac.Styl.v.FStl=kV.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(as)]}}if(dS.length!=0){var kF=JSON.parse(kV.default);
for(var n=0;n<kV.order.length;n++)kF[kV.dv[n]]={t:"VlLs",v:[]};for(var n=0;n<dS.length;n++){var kW=dS[n],i0=kV.dv[kV.order.indexOf(kW[0])];
kF[i0].v.unshift({t:"Objc",v:kW[1]})}if(L==null)F.add.lmfx=kF}X.U.push(F)}};hE.R5=function(d,v,t,h,X,g,x,Z,Y,a){var z=hE;
d.Xw|=16;d.add.vmsk=v;var p=d.add.vstk=kV.UY.yu(),U=z.x9(t,h,g,x,Z,Y,a);p.fillEnabled.v=U[0]!="None";
if(U[0]=="None"){d.add.SoCo=U[1]}else{z.Qy(U,d);d.add[U[0]]=U[1]}var U=z.x9(t,X[0],g,x,Z,Y,a);if(U[0]!="None"){var p=d.add.vstk;
p.strokeEnabled.v=!0;p.strokeStyleLineWidth.v.val=t.strokeWeight*g.Mk();p.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[["INSIDE","CENTER","OUTSIDE"].indexOf(t.strokeAlign)];
var l={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[U[0]],L=["SoFi","GrFl","patternFill"].indexOf(l),j=[kV.o9,kV.oA,kV.aO][L];
p.strokeStyleContent.v={classID:kV.UY.$B[0]};var O=t.dashPattern;if(O)p.strokeStyleLineDashSet.v=lb.K0(O,1/t.strokeWeight);
var F=p.strokeStyleContent.v={classID:kV.UY.$B[L]};for(var n=0;n<j.length;n++)F[j[n]]=U[1][j[n]];if(!p.fillEnabled.v)z.Qy(U,d)}};
hE.Qy=function(d,v){var t=d[1].Opct.v.val;if(t!=100)v.JS=Math.round(v.JS/255*(t/100)*255)};hE.ay3=function(d,v){var t=d.parentIndex.position,h=v.parentIndex.position;
return t>h?1:-1};hE.aCf=function(d){for(var n=1;n<d.length;n++){var v=d[n];if(v.type=="IMAGE"&&v.opacity==1){d=d.slice(n);
break}}for(var n=0;n<d.length;n++){var v=d[n],t=v.imageThumbnail,h=v.type=="IMAGE";if(h&&(v.image==null||v.image.dataBlob==null)&&t&&t.dataBlob)v.image=t;
if(!v.visible||h&&v.image==null){d.splice(n,1);n--}}return d};hE.aCK=function(d,v,t){if(d.nL.gi){v.add.vmsk=d.nL.gi.b();
v.bB();v.tG(t)}};hE.alr=function(d,v,t,h,X,g,x,Z){var Y=d.fontSize,a=d.lineHeight,z=d.fontName,p=d.textAlignHorizontal,U=d.textTracking,l=d.textCase,L=d.textDecoration;
if(Y==null)Y=h.Uy.FontSize;if(z){var j=z.postscript;if(j==""){var O=z.family,F=z.style;j=O.split(" ").join("")+"-"+F}jM.aW(h,j)}if(Y!=null)h.Uy.FontSize=Math.round(Y);
if(L=="UNDERLINE")h.Uy.Underline=!0;if(U)h.Uy.Tracking=Math.round(U*1e3);if(l)h.Uy.FontCaps=l=="UPPER"?2:0;
if(a&&(a.units!="PERCENT"||a.value!=100)){if(Y==null)Y=15;var i=a.value;if(a.units=="PERCENT")i=1*Y*i/100;
if(a.units=="RAW")i=1*Y*i;h.Uy.AutoLeading=!1;h.Uy.Leading=Math.round(i)}if(p)h.eE.Justification=["LEFT","RIGHT","CENTER"].indexOf(p);
var $=d.fillPaints,H=d.inheritFillStyleID;if(H){var b=hE.Cb(Z.$W,H);if(b)$=b.fillPaints}if($&&$[0]){var r=hE.x9(d,$[0],v,t,g,x,Z);
if(r[0]=="SoCo"){var V=f.iF.pq(r[1].Clr.v);h.Uy.FillColor={Type:1,Values:[1,V.C/255,V.L/255,V.X/255]};
hE.Qy(r,X)}}};hE.x9=function(d,v,t,h,X,g,x){var Z=hE,Y,a,z=d.size;if(z==null)z={x:0,y:0};if(v){var p=v.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(p);
if(p=="SOLID"){Y="SoCo";var l=v.color;a=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);a.Clr=Z.bT(l)}else if(p=="PATTERN"){Y="SoCo";
var l=v.color;a=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);console.log(p)}else if(U!=-1){var L=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),j=L.Grad.v;
j.Intr.v=0;L.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var O=[],F=v.stops;for(var n=0;n<F.length;n++){var i=F[n],$=i.color;
O.push([i.position,[$.r,$.g,$.b],$.a])}f.iF.PY(O,j);var H=Z.mp(v.transform);H.zJ();var b=H.b();if(z)b.scale(z.x,z.y);
b.concat(t);var r=new cK(0,.5),W=new cK(1,.5);r=b._V(r);W=b._V(W);if(!0){r.x=W.x+.5*(r.x-W.x);r.y=W.y+.5*(r.y-W.y)}f.iF.Dv(r,W,h,L);
if(U==3){if(b.aX*b.r7-b.X*b.Wp<0)L.Rvrs.v=!L.Rvrs.v}Y="GdFl";a=L}else if(p=="IMAGE"){var L=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]),H=Z.mp(v.transform);
H.zJ();var V=hE.NG(v),y=x.aFT[V];if(y==null){var c=Z.jP(X,V,x);if(c==null)c={data:f.m(4),_S:new iW(0,0,1,1)};
y=x.aFT[V]={};y.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";y.kv=[new Uint8Array(c.data),c._S];if(H.aX<0){var S=y.kv[0].slice(0);
f.G.EN(S,y.kv[0],c._S.r,c._S.$)}y.name="someImage";g.HM(y)}if(H.aX<0)H.aX=-H.aX;var C=["FILL","FIT","STRETCH","TILE"].indexOf(v.imageScaleMode),K=C==3?v.scale:1;
lb.aod(y,L,z.x,z.y,C,t,H,K);Y="PtFl";a=L}else if(p=="VIDEO"){Y="SoCo";a=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
a.Clr=Z.bT({r:255,g:0,b:255})}else throw p;if(a)a.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(v.opacity*100)}}}if(Y==null||v.opacity<.001){Y="None";
a={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}}}return[Y,a]};hE.NG=function(d){var v=d.image,t=v.dataBlob;
if(t==null){t="";for(var n=0;n<20;n++)t+=v.hash[n].toString(16).padStart(2,"0")}return t};hE.jP=function(d,v,t,h){if(d[v]){var X=d[v];
if(h)return X.bytes;if(X.rslt)return X.rslt;var g=X.bytes.buffer;X.rslt=hE.au6(g);return X.rslt}else{if(t.Ml==null)return null;
if(h)return t.Ml["images/"+v];var x=t.Ml["images/"+v];if(x==null)return null;var g=x.buffer;if(t.Ml["images/-"+v])return t.Ml["images/-"+v];
t.Ml["images/-"+v]=hE.au6(g);return t.Ml["images/-"+v]}};hE.au6=function(d){var v=b3.IF(d);if(v=="fpng")v="png";
var t=b3.bV(v);try{var h=t.CE(d)[0];if(h.depth==16){h.depth=8;h.data=f.OO(new Uint16Array(h.data),8).buffer}return h}catch(cQ){return{data:f.m(4),_S:new iW(0,0,1,1)}}};
hE.a6S=function(d,v,t){var h=d.type,X=d.size,g=d.cornerRadius,a;if(g==null)g=0;var x=X.x,Z=X.y,Y=[g,g,g,g],z=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var n=0;n<4;n++)if(d[z[n]]!=null)Y[n]=d[z[n]];if(h=="RECTANGLE"||h=="ROUNDED_RECTANGLE"||h=="FRAME"||h=="INSTANCE"){a=f.t.I7.Rect(0,0,x,Z,Y)}else if(h=="ELLIPSE"){var p=d.arcData,U=p?p.startingAngle:0,l=p?p.endingAngle:2*Math.PI,L=p?p.innerRadius:0;
if(U==0&&l>1.999*Math.PI)a=f.t.I7.ZH(0,0,x,Z,0);else a=f.t.I7.aGP(x/2,Z/2,Z/2,U,l);if(L!=0&&L!=1){var j=jn.rz.Pf(a).slice(3);
j.reverse();for(var n=0;n<j.length;n++){var O=j[n],F=O.dH;O.dH=O.KU;O.KU=F}var i=new gi;i.translate(-x/2,-Z/2);
i.scale(L,L);i.translate(x/2,Z/2);f.t.kh(j,i);a=a.concat(j);a[2].length*=2}}else if(h=="LINE"){a=f.t.I7.Rect(0,0,x,Z,0);
a.pop();a.pop();a[2].length=2}else if(h=="STAR"){a=f.t.I7.WY(x/2,Z/2,x/2,2*Math.PI*(1/4),5,0,d.starInnerScale)}else if(h=="REGULAR_POLYGON"){a=f.t.I7.af(.5,.5,.5,Math.PI/2,d.count,0);
var $=new gi;$.scale(x,Z);f.t.kh(a,$)}else if(h=="BOOLEAN_OPERATION"){a=[{e:6},{e:8,all:0}];var H=d.children,b=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(d.booleanOperation);
if(b==-1)throw d;if(H==null)H=[];for(var n=0;n<H.length;n++){var r=H[n],W=new jn.rz,V=hE.a6S(r,v,W);
if(W.D==null)continue;f.t.kh(W.D,hE.mp(r.transform));a=a.concat(W.D.slice(2))}for(var n=3;n<a.length;
n++)if(a[n].qG!=null)a[n].qG=b}else if(h=="VECTOR"){var y,c,R=3;if(!0){var S=d.vectorData;if(S==null)return;
y=S.normalizedSize;c=S.vectorNetworkBlob}var C=v[c].bytes,K=new Uint32Array(C.buffer),T=new Float32Array(C.buffer),D=K[0],N=K[1],G=K[2],s=[],Q=[],q=[],m=R+D*3,E=m+N*7;
for(var n=0;n<D;n++){var e=R+n*3;if(Math.abs(T[e+0])>1e-7)throw"e";s.push(new cK(T[e+1],T[e+2]))}for(var n=0;
n<N;n++){var w=m+n*7;Q.push([K[w+0],K[w+1],T[w+2],T[w+3],K[w+4],T[w+5],T[w+6]])}for(var n=0;n<G;n++){var M=K[E+1],P=q[n]=[];
E+=2;for(var I=0;I<M;I++){var k=K[E++],o=P[I]=[];for(var af=0;af<k;af++)o[af]=K[E+af];E+=k}}if(E!=K.length&&E!=K.length-1)throw"e";
if(q.length==0&&Q.length!=0){var J=new Uint8Array(s.length),at=new Uint8Array(s.length),ke=-1;for(var n=0;
n<Q.length;n++){var c_=Q[n];J[c_[1]]++;J[c_[4]]++;at[c_[1]]=1}for(var n=0;n<s.length;n++){if(J[n]==1&&at[n]==1){ke=n;
break}}if(ke!=-1)for(var n=0;n<Q.length;n++){if(Q[n][1]==ke){var F=Q[0];Q[0]=Q[n];Q[n]=F;break}}var ag=Q[0][4];
for(var n=1;n<Q.length;n++){var dz=-1;for(var I=n;I<Q.length;I++)if(Q[I][4]==ag)dz=I;for(var I=n;I<Q.length;
I++)if(Q[I][1]==ag)dz=I;if(dz!=-1){var kL=0,F=Q[dz];Q[dz]=Q[n];Q[n]=F;if(F[1]!=ag){kL=F[1];F[1]=F[4];
F[4]=kL;kL=F[2];F[2]=F[5];F[5]=kL;kL=F[3];F[3]=F[6];F[6]=kL}}ag=Q[n][4]}q.push([[]]);for(var n=0;n<Q.length;
n++)q[0][0].push(n)}var aq=[],dh=[];for(var gK=0;gK<q.length;gK++){for(var ad=0;ad<q[gK].length;ad++){var dc=q[gK][ad],lq=0;
if(dc.length>1){var hn=Q[dc[0]],dF=Q[dc[1]];lq=hn[4]==dF[1]?1:0}for(var n=0;n<dc.length;n++){var c3=Q[dc[n]],i8=1,dr=4;
if(lq==0){i8=4;dr=1}var jO=s[c3[i8]],d1=s[c3[dr]];if(n==0){dh.push("M");aq.push(jO.x,jO.y)}dh.push("C");
aq.push(jO.x+c3[i8+1],jO.y+c3[i8+2],d1.x+c3[dr+1],d1.y+c3[dr+2],d1.x,d1.y)}}}a=f.Q.Q$({I:aq,s2:dh},!1);
if(g!=0){var Y=[],h3=a[2].length;for(var n=0;n<h3;n++)Y.push(g);if(f.t.p8(a))f.t.Pi(a,2,Y)}var d5=new gi;
d5.scale(y.x==0?1:X.x/y.x,y.y==0?1:X.y/y.y);f.t.kh(a,d5)}t.D=a};hE.Cb=function(d,v){return d[v.sessionID+","+v.localID]};
hE.aE2=function(d,v){return d.sessionID==v.sessionID&&d.localID==v.localID};hE.aMU=function(d){var v={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[d];
if(v==null)throw d;return v};hE.bT=function(d){return{t:"Objc",v:f.iF.Zi({C:d.r*255,L:d.g*255,X:d.b*255})}};
hE.mp=function(d){if(d==null)return new gi;var v=[d.m00,d.m10,d.m01,d.m11,d.m02,d.m12];for(var n=0;n<6;
n++)if(Math.abs(v[n])<1e-20)v[n]=0;return new gi(v[0],v[1],v[2],v[3],v[4],v[5])};function jL(){}jL.lS=function(){var d=B.o3;
function v(l,L,j,O){var F=O?[]:{};while(L<l.length-1&&l[L]!=125){var i=d(l,L,3),$=d(l,L+3,1),H;L+=4;
L++;if($=="v"){var b=v(l,L,j+1,i=="ELM"||i=="TIL"||i=="TFS");H=b.K;L=b.h}else if($=="i"||$=="f"){var r=L;
while(l[r]!=125)r++;var W=d(l,L,r-L);H=$=="i"?parseInt(W,16):parseFloat(W);L=r+1}else if($=="s"){var V=B.ZT(l,L),W="";
L+=2;for(var n=0;n<V;n++)W+=String.fromCharCode(l[L+2*n+1]);H=W;L=L+2*V+1}else if($=="b"){H=l[L]==49;
L=L+2}else throw"e";if(O)F.push([i,H]);else if(F[i]==null)F[i]=H;else{if(!(F[i]instanceof Array))F[i]=[F[i]];
F[i].push(H)}}L++;return{K:F,h:L}}function t(l,L){var j=h(l).slice(1),l=L.Clr.v;l.Rd.v=j[0]*255;l.Grn.v=j[1]*255;
l.Bl.v=j[2]*255}function h(l){return[(l>>>24&255)/255,(l>>>16&255)/255,(l>>>8&255)/255,(l>>>0&255)/255]}function X(l,L){var j=L&4278190080|(L&255)<<16|(L>>>8&255)<<8|L>>>16&255;
f.pl(l,j)}function g(l,L){var j=l.TSZ,O=l.WPX,F=l.HPX,i=l.TIL,$=new iW(0,0,O,F),H=f.m(O*F*4),b=0;for(var r=0;
r<F;r+=j)for(var W=0;W<O;W+=j){var V=new iW(W,r,j,j),y,c=i[b];if(c[0]=="TMC"){y=f.m(V.k()*4);X(y,c[1])}else if(c[0]=="TID"){y=L[c[1]]}f.wH(y,V,H,$);
b++}return[H,$]}function x(l,L){l=new Uint8Array(l);var j=8,O,F={},N=0;while(j<l.length){var i=B.BT(l,j);
j+=4;var $=d(l,j,4);j+=4;if($=="mkTS"){var H=pako.inflate(l.slice(j,j+i)),b=v(H,0,0);O=b.K}else if($=="mkBT"){var r=B.BT(l,j+4),W=B.BT(l,j+8),H=pako.inflate(l.slice(j+76,j+i));
if(W==0)for(var n=0;n<H.length;n+=4){var V=H[n],y=H[n+1],c=H[n+2],S=H[n+3];H[n+3]=V;H[n+2]=S;H[n+1]=c;
H[n]=y}else{var C=f.m(H.length*4);C.fill(255);f.I0(H,C);H=C}F[r]=H}j+=i+4}var K=O.PDC,T=K?K instanceof Array?K:[K]:[O.MKB],D=new iW;
for(var n=0;n<T.length;n++){var G=T[n];D=D.Ue(new iW(0,N,G.WID,G.HIT));N+=G.HIT+100}L.r=D.r;L.$=D.$;
L.buffer=f.m(D.k()*4);L.q7(T.length);N=0;for(var s=0;s<T.length;s++){L.U.push(L.Rw());var G=T[s],Q=G.WID,q=G.HIT,R=G.BGC,m=(G.LYL?G:O).LYL.LAY,w=3;
for(var n=0;n<m.length;n++)Y(m[n],L,null,F,new gi(1,0,0,1,-G.XLC,-G.YLC+N));var E=L.vv();L.U.push(E);
var e=new iW(0,N,Q,q);N+=q+100;E.In(e);if(R>>>24!=0){var M=f.iF.Zi({C:R>>>16&255,L:R>>>8&255,X:R>>>0&255});
E.add.artb.Clr={t:"Objc",v:M};w=4}E.add.artb.artboardBackgroundType.v=w;E.qv(G.PGN?G.PGN:"Page "+(s+1));
E.add.lsct=f$.wM;E.uF="pass";E.Xw=24}}function Z(l,L,j){var O=l[L];return O instanceof Array?O[j]:O}function Y(l,L,j,O,F){var i=L.vv();
if(l.VIS!=null)i.fF(l.VIS);if(l.VIF!=null)i.fF(l.VIF.VIS);if(l.OPA!=null)i.JS=Math.round(255*l.OPA/1e3);
i.uF=l.CLL||j=="GRP"?"pass":"norm";if(l.BLD!=null){var $=l.BLD,H={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[$+""];
if(H==null)console.log(l.OBN,$);else i.uF=H;if($==30)i.JS>>>=1}if(l.CLL){i.qv(l.LNM);L.U.push(L.Rw());
var b=l.CLL.CEL;if(b.length==null)b=[b];for(var r=b.length-1;r>=0;r--){var W=b[r].ELM;for(var n=W.length-1;
n>=0;n--)Y(W[n][1],L,W[n][0],O,F)}i.add.lsct=l.DIS?f$.fG:f$.wM;i.Xw|=24}else if(j=="URL"){var V=l.LFT,y=l.TOP,c=new iW(F.r2+V,F.pE+y,l.RIT-V,l.BOT-y),S=A.Jp.K8();
S.v.Nm={t:"TEXT",v:l.FIL?l.FIL:""};L.Wc.push(S);A.Jp.J7(L.Wc,L.Wc.length-1,[c.x,c.y,c.x+c.r,c.y+c.$]);
return}else if(j=="GRP"){var C=i.add.lmfx=z(l.EFL),K;L.U.push(L.Rw());var W=l.ELM,T=l.MRM;if(l.MNA){K=W[0][1];
W=W.slice(1)}i.qv("Group: "+W.length+" objects");for(var n=W.length-1;n>=0;n--)Y(W[n][1],L,W[n][0],O,F);
if(K){if(l.MRX){var D=g(K,O),N=i.AU=new jn.Ks;N.S=D[1].b();N.S.x=K.XLC;N.S.y=K.YLC+F.pE;N.N=f.m(N.S.k());
f.Po(D[0],N.N,0);f.zJ(N.N)}else{a(i,K,F);i.bB();i.tG(L)}}if(T){a(i,T.PTH,F);i.bB();i.tG(L)}i.add.lsct=f$.wM;
i.Xw|=24}else if(j=="IMG"){i.qv(l.OBN?l.OBN:"Bitmap");var D=g(l,O);i.S=D[1].b();i.S.x=l.XLC;i.S.y=l.YLC+F.pE;
i.buffer=D[0]}else if(j=="TXT"){var s=l.TFS,E="";i.add.lnsr="rend";i.add.TySh=jM.de(0,0);i.add.TySh.LS=new iW(0,0,100,100);
var Q=new gi(1,0,0,1,l.LFT,l.TOP);if(l.MTX){var q=l.MTX,N=new gi(q.M00,q.M01,q.M10,q.M11,q.M20,q.M21);
Q.concat(N)}Q.concat(F);i.add.TySh.M=Q;var R=i.add.TySh.Oo,m=jM.Sj(R,0,0),e=Z(l,"FON");if(e)jM.aW(m,e);
var w=Z(l,"PTS");if(w)m.Uy.FontSize=Math.round(w);var M=Z(l,"ITL");if(M)m.Uy.FauxItalic=M;if(l.PAT)m.Uy.FillColor={Type:1,Values:h(Z(l.PAT,"FCL"))};
for(var n=0;n<s.length;n++){var P=s[n][0],I=s[n][1];if(P=="TRN"){I=I.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
I=I.replaceAll("\x03","\n").replaceAll("\r","\n");jM.Uh(R,E.length,I);jM.yx(R,E.length,E.length+I.length,m);
E+=I}else if(P=="FON")jM.aW(m,I);else if(P=="PTS")m.Uy.FontSize=Math.round(I);else if(P=="ITL")m.Uy.FauxItalic=I;
else if(P=="UND")m.Uy.Underline=I;else if(P=="FCL")m.Uy.FillColor={Type:1,Values:h(I)};else if(P=="LED"){m.Uy.Leading=I*m.Uy.FontSize;
m.Uy.AutoLeading=!1}else if(P=="JST")m.eE.Justification=[0,2,1,3,5,4,6,7,8][I]}i.qv(E.slice(0,255));
var k=l.RIT-l.LFT,o=l.BOT-l.TOP;if(l.IMG){Y(l.IMG,L,"IMG",O,F);var af=L.U.pop();i.buffer=af.buffer;i.S=af.S.b()}jM.kM(R,1);
jM.eg(R,[0,0,k,o])}else if(j=="PTH"){i.qv(l.OBN?l.OBN:"Path");i.Xw|=16;var J=!1;a(i,l,F);var at=i.add.vmsk,ke=i.add.vstk,c_=f.t.ft(at.D),ag=l.PAT,dz=ag.BPL,kL=ag.FPL,aq=ag.TXF;
if(kL&&kL.FEF)at.mO+=kL.FEF/2.4;if(dz){var dh=dz.CAT;ke.strokeEnabled.v=!0;ke.strokeStyleLineWidth.v.val=dz.BDI;
ke.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[l.BRP];t(ag.BCL,ke.strokeStyleContent.v);
if(dh!="bc_Basic"&&dh!="bc_Pencil")J=!0}ke.fillEnabled.v=kL!=null;if(kL==null){i.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
t(0,i.add.SoCo)}else if(kL.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);t(l.PAT.FCL,i.add.SoCo)}else if(kL.CAT=="fc_Linear"||kL.CAT=="fc_Circular"||kL.CAT=="fc_Elliptical"){var gK=kL.CAT=="fc_Linear",ad=i.add.GdFl=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),dc=ad.Grad.v,lq=[],hn=kL.FGL,dF,c3=[];
if(hn.FGY){var i8=hn.FGY,dF=i8.FG0.FGI,c3=i8.FG1.FGI}else dF=hn.FGV.FGI;for(var n=0;n<dF.length;n++){var dr=dF[n],jO=h(dr.FGC),d1=1;
if(c3.length==dF.length)d1=h(c3[n].FGC)[0];lq.push([dr.FGP,jO.slice(1),d1])}ad.Type.v.GrdT=gK?"Lnr":"Rdl";
f.iF.PY(lq,dc);dc.Intr.v=0;var h3=l.PRI?l.PRI:l,d5=new cK(h3.PSX,h3.PSY),em=new cK(h3.PEX,h3.PEY);if(kL.CAT=="fc_Elliptical"&&h3.PFX!=null){var fl=new cK(h3.PFX,h3.PFY),lA=cK.A_(d5,em),av=cK.A_(d5,fl);
if(av<lA){var ah=lA;lA=av;av=ah}em=new cK(d5.x+(lA+av)/2,d5.y);if(lA/av<.5)J=!0}if(gK){d5.x=(d5.x+em.x)/2;
d5.y=(d5.y+em.y)/2}f.iF.Dv(d5,em,c_,ad)}else console.log(kL.CAT);var C=i.add.lmfx=z(l.EFL,at);if(kL&&kL.FTB!=0&&aq){var D=g(aq.MSK,O),gE={};
gE.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";gE.name="someImage";gE.kv=D;L.HM(gE);var fj=D[0];for(var n=0;
n<fj.length;n+=4){fj[n+3]=255-fj[n];fj[n]=fj[n+1]=fj[n+2]=255}var ad=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]);
ad.Opct.v.val=Math.round(kL.FTB/10);ad.Algn.v=!0;ad.Ptrn.v.Idnt.v=gE.id;C.patternFillMulti.v.unshift({t:"Objc",v:ad})}if(J&&l.IMG){Y(l.IMG,L,"IMG",O,F);
var bR=L.U[L.U.length-1];bR.JS=i.JS;return}i.bB();i.tG(L)}else{console.log("unknown layer type",j,l);
i.qv("Layer")}L.U.push(i)}function a(l,L,j){if(L.PBL==null)return;var O=l.add.vmsk=new jn.rz,F=l.add.vstk=kV.UY.yu(!0),i=L.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var $=0;$<i.length;$++){var H=i[$].PBT;if(H==null)continue;if(!(H instanceof Array))H=[H];
var b=i[$].ISC?0:3;O.D.push({e:b,length:H.length,qG:0,Dk:2,xu:0,L8:0});for(var n=0;n<H.length;n++){var r=H[n],W=r.XLC,V=r.YLC,y=[W,V,W,V,W,V],c="XPC YPC XLC YLC XSC YSC".split(" ");
for(var S=0;S<6;S++){var C=c[S],K=r[C];if(K!=null)y[S]=K}O.D.push({e:b+2,Z:new cK(W,V),dH:new cK(y[0],y[1]),KU:new cK(y[4],y[5])})}}f.t.kh(O.D,j)}function z(l,L){var j=JSON.parse(kV.default);
for(var n=0;n<kV.order.length;n++)j[kV.dv[n]]={t:"VlLs",v:[]};if(l==null||l.EPS==null)return j;var O=l.EPS;
if(!(O instanceof Array))O=[O];for(var n=0;n<O.length;n++){var F=O[n].DCE,i={};for(var $=0;$<F.length;
$++)i[F[$].DCK]=F[$].DCV;if(i.EffectIsVisible=="false")continue;var H=i.mkbFile_WriteOnly_TemporaryEffectUiName;
if(H=="Gaussian Blur..."&&L){L.mO+=parseFloat(i.gaussian_blur_radius);continue}var b=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(H);
if(b==-1){continue}var r=["DrSh","ebbl","IrGl","OrGl"][b],W=kV.dv[kV.order.indexOf(r)],V=JSON.parse(kV.v0[kV.order.indexOf(r)]);
j[W].v.unshift({t:"Objc",v:V});if(r=="DrSh"){V.uglg.v=!1;p(i,"ShadowDistance",V,"Dstn");p(i,"ShadowBlur",V,"blur");
p(i,"ShadowAngle",V,"lagl",180);V.Opct.v.val=100;U(i,"ShadowColor",V,"Clr")}if(r=="IrGl"){V.Md.v.BlnM="Nrml";
var y=i.MaskSoftness,c=i.GlowWidth;if(y&&c){y=parseInt(y);c=parseInt(c);V.blur.v.val=c+y;V.Ckmt.v.val=Math.round(100*c/(c+y))}p(i,"BevelContrast",V,"Opct");
U(i,"OuterBevelColor",V,"Clr")}if(r=="OrGl"){V.Md.v.BlnM="Nrml";var y=i.MaskSoftness,c=i.GlowWidth;if(y&&c){y=parseInt(y);
c=parseInt(c);V.blur.v.val=c+y}p(i,"BevelContrast",V,"Opct");U(i,"OuterBevelColor",V,"Clr")}if(r=="ebbl"){V.uglg.v=!1;
p(i,"BevelWidth",V,"blur");p(i,"AngleSoftness",V,"Sftn");p(i,"BevelContrast",V,"srgR");p(i,"LightAngle",V,"lagl")}}return j}function p(l,L,j,O,F){var i=l[L];
if(F==null)F=0;if(i)j[O].v.val=parseInt(i)+F}function U(l,L,j,O){var F=l[L];if(F){F=F.slice(1);if(F.length==6)F=F+"ff";
if(F.length!=8)throw"e";var i=h(parseInt(F,16)),$=j[O].v;$.Rd.v=i[0]*255;$.Grn.v=i[1]*255;$.Bl.v=i[2]*255;
j.Opct.v.val=Math.round(j.Opct.v.val/100*i[3]*100)}}return x}();var gT=function(){function d(x){var Z=new Uint8Array(x.length);
B.js(Z,0,x);return Z}function v(x){var Z=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",d("")],Y=Z.length,z=0;
Z.push("<< /AIMetaData  "+(Y+2)+" 0 R /AIPrivateData1 "+(Y+3)+" 0 R  /AIPrivateData2 "+(Y+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
Z.push(d(""));Z.push(d(""));Z.push(x);var a=new fe,p=[];function U(O){B.Er(a,z,O);z+=O.length}U("%PDF-1.5\n");
for(var n=0;n<Z.length;n++){p.push(z);U(n+1+" 0 obj\n");var l=Z[n];if(typeof l=="string")U(Z[n]+"\n");
else{var L=pako.deflate(l);U("<< /Length "+L.length+" /Filter [ /FlateDecode ] >>\nstream\n");a.fK(z,L.length);
a.data.set(L,z);z+=L.length;U("\nendstream\n")}U("endobj\n")}var j=z;U("xref\n0 "+(p.length+1)+"\n0000000000 65535 f\r\n");
for(var n=0;n<p.length;n++)U((p[n]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+(p.length+1)+" >>\nstartxref\n"+j+"\n%%EOF\n");
return a.data.slice(0,z)}function t(x,Z){var Y=Date.now(),a=new Uint8Array(x),z,p=a[2]==68;if(Z)console.log(!p?"EPS":"PDF");
if(p){var U=B.M5(a,"/AIMetaData "),r,W,V;while(a[U]!=60)U--;U--;var l=B.M5(a,">>",U),L=B.o3(a,U+2,l-U-2).split("/"),j=[];
for(var n=0;n<L.length;n++){var O=L[n],F=O.startsWith("AIPrivateData"),i=O.startsWith("AIPDFPrivateData");
if(!F&&!i)continue;var $=O.trim().split(/\s+/),H=parseInt($[1]),b=parseInt($[0].slice(F?13:16));j.push([b,H])}if(Z)console.log("--- map made",Date.now()-Y);
Y=Date.now();while(!0){var y=FromPDF.indexOfXref(a),c=[],S=FromPDF.readXrefTrail(a,y,c),C={buff:a,off:0},K=!1;
r=new Array(j.length);W=!1;V=!1;for(var n=0;n<j.length;n++){var b=j[n][0],H=j[n][1],G=0;if(c[H]==null){K=!0;
break}var T=FromPDF.getIndirect(H,0,C,c),D=T.buff,N=T["/Filter"];if(N!=null&&typeof N=="string")N=[N];
if(D==null){K=!0;break}var s=B.o3(D,G,G+20);if(s=="%AI12_CompressedData"){G+=20;W=!0}else if(s=="%AI24_ZStandard_Data"){G+=20;
V=!0}D=new Uint8Array(D.buffer,D.byteOffset+G,D.length-G);if(N)for(var Q=0;Q<N.length;Q++){var q=N[Q];
if(q=="/FlateDecode")D=pako.inflate(D);else if(q=="/ASCIIHexDecode")D=FromPS.F.HexDecode({buff:D,off:0});
else if(q=="/ASCII85Decode")D=FromPS.F.ASCII85Decode({buff:D,off:0});else throw q}r[b-1]=D}if(K){console.log("extra xref after AI");
a=a.slice(0,y);continue}break}if(Z)console.log("--- arrays found",Date.now()-Y);Y=Date.now();var R=B.o3(r[0],0,13);
if(R=="%%BoundingBox"||R=="%AI7_Thumbnai")r=r.slice(1);if(R=="%AI24_ZStanda"){r[0]=r[0].slice(20);V=!0}if(B.o3(r[0],0,13)=="%AI12_Compres"){r[0]=r[0].slice(20);
W=!0}z=h(r);if(Z)console.log("--- concatenated",Date.now()-Y);Y=Date.now();if(W)z=UZIP.inflate(z);if(V)z=b3.JJ.tT(z);
if(Z)console.log("--- inflated",Date.now()-Y);Y=Date.now()}else{var m=B.I$(a);if(m.indexOf("%AI5_BeginLayer")!=-1||m.indexOf("%AI5_NumLayers")!=-1){z=a}else{var E=m.split(/[\n\r]+/),e=[],w=!1;
for(var M=0;M<E.length;M++){var P=E[M].trim();if(P=="%AI9_PrivateDataEnd"){w=!1;break}else if(P=="%AI9_DataStream"||P=="%AI24_DataStream"){w=!0}else if(w)e.push(P.slice(1))}var I=B.j9(e.join("")),k=FromPS.F.ASCII85Decode({buff:I,off:0});
if(k[0]==120&&k[1]==156)z=UZIP.inflate(k);else z=b3.JJ.tT(k)}}return z}function h(x){var Z=0,a=0;for(var n=0;
n<x.length;n++)Z+=x[n].length;var Y=new Uint8Array(Z);for(var n=0;n<x.length;n++){var z=x[n];Y.set(z,a);
a+=z.length}return Y}function X(x){var Z=0,Y=[];while(Z<x.length){var a=x[Z],z=a.charCodeAt(0);if(a==" ")Z++;
else if(a==","||a==";"||a==":"){Y.push(a);Z++;var p=Y[Y.length-2];if(p=="/ASCII85Decode"){var U=Z+1;
while(x[U]!="~"||x[U+1]!=">")U++;U+=2;var l=x.slice(Z,U),L=FromPS.F.ASCII85Decode({off:0,buff:B.j9(l)});
Y.push(L);Z=U}if(p=="/StrokeStyle"||p=="/FillStyle"||p=="/BlendStyle"||p=="/SimpleStyle"||p=="/SmoothShadingStyle"){var U=Z+1;
while(x[U]!=";")U++;Y.pop();Y.pop();Y.push(x.slice(Z,U));Y.push("/String");Z=U+1}}else if(a=="("){var U=Z+1;
while(!(x[U]==")"&&(x[U-1]!="\\"||x[U-2]=="\\")))U++;var j=x.slice(Z+1,U);Y.push(j);Z=U+1}else if(a=="/"||a=="-"||48<=z&&z<=57){var U=Z;
while(x[U]!=" ")U++;Y.push(x.slice(Z,U));Z=U}else if(a=="X"&&x[Z+1]=="="){var U=Z,O=0;while(!0){if(x[U]=="X"&&x[U+1]=="="){O++}if(x[U]=="X"&&x[U+1]=="+"&&x[U+2]==" "){O--;
if(O==0)break}U++}Y.push(x.slice(Z+3,U));Y.push("/String");Z=U+2}else{console.log(Y);console.log(x.slice(Z-600,Z+10));
throw a}}return Y}function g(x){var Z={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},Y={},a=X(x.join(" ")),z=[],p=parseFloat;
while(a.length!=0){var U=a.shift();if(U=="/Recorded"||U=="/NotRecorded"){continue}else if(U=="/Dict"){z.pop();
var l=z.pop();z[z.length-1][U]=l}else if(U=="/Execution"){z.pop();var l=z.pop();z[z.length-1][U]=l}else if(U=="/Part"){z.pop();
var l=z.pop(),L=z[z.length-1];if(L[U]==null)L[U]=[];L[U].push(l);a.shift()}else if(U=="/Def"){z.pop();
var j=z.pop(),O=z[0];if(Y[O]==null)Y[O]=[];if(O=="/KnownStyle"){j={val:j};j[z.pop()]=z.pop()}z.pop();
Y[O].push(j);a.shift()}else if(U==":"){var O=z.pop();if(O=="/Dictionary"||O=="/ArtDictionary"||O=="/XMLNode"||O=="/Mask"||O=="/ActiveStyle")z.push({});
else if(O=="/CompoundFilter"||O=="/BasicFilter"){z.push({typ:"Filter"})}else if(O=="/SVGFilter"||O=="/KnownStyle"){z.push(O)}else if(O=="/Array"||O=="/Document")z.push([]);
else if(O=="/Binary"){var F=a.shift();if(F!="/ASCII85Decode")throw"e";a.shift();z.push(a.shift())}else if(O=="/XMLUID"||O=="/XMLUIDREF"){a[1]=O}else if(O=="/GObjRef"){z.push(a.shift());
z.push("/String");a.shift();a.shift()}else{console.log(z);console.log(a);throw O}if(a[0]=="/NotRecorded"){a.shift();
a.shift()}}else if(U==","){var i=z.pop(),O,$;if(i[0]=="/"&&i[1]==i[1].toUpperCase()&&i[1]!="\\"||i==";"){O=i;
i=null}else O=z.pop();if(O=="/Name"){z.push(O);continue}if(Z[O]){$=z.slice(z.length-Z[O]);for(var n=0;
n<Z[O];n++)z.pop();var H=z.pop();H[O]=$;z.push(H);continue}if(O=="/RealPoint"||O=="/RealPointRelToROrigin"){var b=z.pop();
$=[p(z.pop()),p(b)]}else if(O=="/RealMatrix"){$=[];for(var n=0;n<6;n++)$.push(p(z.pop()));$.reverse()}else if(O=="/String"&&typeof z[z.length-1]!="string")$="";
else{var top=z.pop();if(O==";")$=top;else if(O=="/String"||O=="/UnicodeString"||O=="/XMLUID"||O=="/XMLUIDREF"){$=top;
while(typeof z[z.length-1]=="string")$=z.pop()+$}else if(O=="/Int"||O=="/Real")$=p(top);else if(O=="/Bool")$=top=="1";
else throw JSON.stringify(O)}if(z.length==0)throw"e";var H=z.pop();if(i==null&&!(H instanceof Array)){alert("key is null in a Dict");
continue}if(i)H[i]=$;else H.push($);z.push(H)}else z.push(U)}return z.length==0?Y:z[0]}return{aOm:t,arz:v,aem:g}}();
function eT(){}eT.lS=function(){function d(S,C,K){var T=!1,D=Date.now(),N=gT.aOm(S,T);if(N==null)return;
if(T)console.log("part found",Date.now()-D);D=Date.now();var G=V(N);if(G.Layer==null)G.Layer=[{_begin:G.Setup._end,_end:N.length}];
var s=G.Layer,Q=G.Header;if(T)console.log(G);var q=G.Setup.TextDocument,R=s[0];R=G.Layer[0];if(T)console.log("document parsed",Date.now()-D);
D=Date.now();G.Setup.Gradient=W(G.Setup.Gradient,N);if(T)console.log("grads loaded",Date.now()-D);D=Date.now();
G.Setup.Pattern=b(G.Setup.Pattern,N);if(T)console.log("patts loaded",Date.now()-D);D=Date.now();G.Setup.Palette=r(G.Setup.Palette,N);
if(T)console.log("palet loaded",Date.now()-D);D=Date.now();G.Setup.DocumentData=H(G.Setup.DocumentData,N);
if(T)console.log("docdata loaded",Date.now()-D);D=Date.now();G.Setup.SVGFilter=H(G.Setup.SVGFilter,N);
if(T)console.log("svgfilter loaded",Date.now()-D);D=Date.now();var m=G.Setup.ArtStyles;if(m){G.Setup.ArtStyles=H(m,N)}var E=G.Setup.Palette;
for(var n=0;n<E.length;n++){var e=E[n],w=e[0],M=e[1][0];if(w==null)w=e[1][1];var P=G.Setup.Gradient[w];
if(M==0)C.S1.push([w,e[1][1]]);if(M==1)C.S1.push([w,[P.tJ,P.a9D,0,0]]);if(M==2)C.S1.push([w,[w,0]])}var I=Q.Cropmarks,k=Q.BoundingBox.split(" ").map(parseFloat),o=Q.ArtSize?Q.ArtSize.split(" ").map(parseFloat):[k[2]-k[0],k[3]-k[1]];
C.r=Math.round(Math.abs(o[0]));C.$=Math.round(Math.abs(o[1]));var af=[1,0,0,1,-k[0]+(C.r-(k[2]-k[0]))/2,-k[1]+(C.$-(k[3]-k[1]))/2];
af[3]=-1;af[5]=C.$-af[5];if(I){I=I.split(" ").map(parseFloat);C.r=Math.round(I[2]-I[0]);C.$=Math.round(I[3]-I[1]);
af=[1,0,0,-1,-I[0],C.$+I[1]]}console.log(G);var J=G.Setup.DocumentData,at=[],ke=[];if(J&&J[0]&&J[0].ArtboardArray){var at=J[0].ArtboardArray;
if(at.length!=1)console.log(at.length,"artboards");var c_=new iW;for(var n=0;n<at.length;n++){var ag=at[n],dz=ag.PositionPoint1,kL=ag.PositionPoint2,aq=dz[0],dh=Math.min(dz[1],kL[1]),gK=kL[0],ad=Math.max(dz[1],kL[1]),dc=new iW(aq,dh,gK-aq,ad-dh);
ke.push(dc);c_=c_.Ue(dc)}C.r=Math.round(c_.r);C.$=Math.round(c_.$);af[4]=-c_.x;af[5]=c_.y+C.$}if(J&&J[0]&&J[0]["#document"]){var lq=J[0]["#document"],hn=lq["xmlnode-children"][0];
if(hn&&hn["xmlnode-children"])hn=hn["xmlnode-children"][0];if(hn&&hn["xmlnode-nodename"]=="variableSets"){var dF=hn["xmlnode-children"][0]["xmlnode-children"],c3=dF[0],i8=dF[1],dr=c(c3);
C.a1=e4.aHb("<variableSets><variableSet>"+dr+"</variableSet></variableSets>");if(i8){var jO=c(i8),d1=C.YD=e4.a2u(jO);
for(var n=0;n<d1.length;n++)for(var h3=0;h3<d1[n].length;h3++)d1[n][h3]=d1[n][h3].trim()}}}var d5=1/j7.hB(new iW(0,0,C.r,C.$),8192*8192);
if(Math.max(C.r*d5,C.$*d5)<800)d5*=2;while(K&&Math.max(C.r*d5,C.$*d5)<Math.max(K[0],K[1]))d5++;if(j8==1)d5=1;
C.r=Math.round(C.r*d5);C.$=Math.round(C.$*d5);C.u3=Math.round(72*d5);for(var n=0;n<6;n++)af[n]*=d5;var em=[];
if(at.length!=[1,0][j8]){var fl=j8==0?C.U:[];fl.push(C.Rw());for(var n=0;n<ke.length;n++){var ag=at[n],dc=ke[n],lA=C.vv();
lA.qv(ag.Name);fl.push(lA);lA.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);var av=lA.add.SoCo.Clr.v;
p(av,[1,1,1]);var aq=dc.x,dh=dc.y,gK=aq+dc.r,ad=dh+dc.$,ah=[aq,dh,gK,dh,gK,ad,aq,ad];f.Q.M(ah,l(af),ah);
O(lA,{cmds:["M","L","L","L","Z"],crds:ah},C,0);lA.add.vstk=kV.UY.yu(!0);var gE=f.Q.mo(ah);em.push({cF:ag.Name,l7:[gE.x,gE.y,gE.x+gE.r,gE.y+gE.$],l:ag.IsArtboardSelected})}var lA=C.vv();
lA.qv("_Artboards_");lA.add.lsct=f$.wM;lA.uF="pass";lA.Xw=24;fl.push(lA)}else em=[{cF:"Artboard",l7:[0,0,C.r,C.$],l:!0}];
if(j8==1)C.add.arts=em;t=[0,0,0];h=[0,0,0];X="SoCo";g="SoCo";for(var fj=0;fj<s.length;fj++){var bR=s[fj];
bR.Raster=v(bR,"Raster");bR.Place=v(bR,"Place");var bD=i(N,bR);x(C,bD,af,G,bR,N)}if(j8==0)for(var n=0;
n<C.U.length;n++){var lA=C.U[n];if(lA.ej){C.U.splice(n,1);var e1,am=0;for(var h3=n;h3<C.U.length;h3++){e1=C.U[h3];
if(e1.add.lsct==f$.Xr)am++;else if(e1.h5())am--;if(am==-1)break}e1.add.vmsk=lA.add.vmsk;e1.add.vogk=lA.add.vogk;
lA.add.vmsk.vF=!0;e1.tG(C)}}else{}if(K){C.nA();var dj=C.root.pT();A.Fv.za(C,dj)}if(T)console.log("layers created",Date.now()-D);
D=Date.now()}function v(S,C){var K=S.Layer,T=S[C];if(T==null)T=[];if(K){for(var n=0;n<K.length;n++){var D=K[n],N=D[C]=v(D,C);
T=T.concat(N)}T.sort(function(G,s){return G._begin-s._begin})}return T}var t,h,X,g;function x(S,C,K,T,D,N){var G=[],s=0,Q="",q=!1,R={},m=UDOC.G,E=UDOC.getState(),w="norm",M=1,P=0,I=!1,k=0,o=!1,af=!0,J=null,at=null,ke=!1,c_=!1,ag=0,dz=null,kL,aq,dh=0,gK=0,ad=0,dF=0,c3=!1;
E.ctm=K;var e=kV.J1.yu(),dc=[0,0],lq=[],hn=[];for(var i8=0;i8<C.length;i8++){var dr=C[i8],fl=1e9;if(dr[0]=="%"){if(dr=="%_/ArtDictionary :"&&ag==0){J=[dr.slice(2)]}else if(J!=null){if(dr=="%_"&&ag==0){var jO=gT.aem(J),d1=S.U[S.U.length-1],h3=jO.AI10_ArtUID,d5=jO.BBAccumRotation;
if(h3&&!h3.startsWith("XMLID"))d1.qv(y(h3));if(d5&&d1.add.vmsk==null&&S.U[S.U.length-2])d1=S.U[S.U.length-2];
if(d5&&d1.add.vmsk)d1.add.vmsk.Vk=parseFloat(d5);J=null}else{J.push(dr.slice(ke?1:2));if(dr=="%_X=")ag++;
if(dr=="%_X+")ag--;if(dr=="%_/Binary : /ASCII85Decode ,")ke=!0;if(ke&&dr.endsWith("~>"))ke=!1}}else if(dz){kL+=(kL==""?"":" ")+dr.slice(2);
if(kL.endsWith("X#")){dz.push(kL.slice(0,kL.length-3));kL=""}}else if(dr.startsWith("%BeginData:"))c_=!0;
else if(dr.endsWith("%EndData"))c_=!1;continue}else if(dr.endsWith("%EndData"))c_=!1;else if(dr=="/Mesh X!"){dz=[];
kL="";continue}else if(dr=="/End X!"){a(dz,E,S);dz=null;continue}if(dr!="XI"&&c_)continue;var em="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),lA=-1,av=dr.indexOf("(")!=-1;
for(var n=0;n<em.length;n++){var ah=dr.indexOf(" "+em[n]+" ");if(ah!=-1&&ah<fl&&!av){fl=ah;lA=n}}if(lA!=-1){q=!0;
var gE=fl+1+em[lA].length;C[i8]=dr.slice(0,gE);var fj=C[i8+1];if(fj==null||fj[0]=="%"||lA>9)C.splice(i8+1,0,dr.slice(gE));
else C[i8+1]=(dr.slice(gE)+" "+fj).replace(/\s\s+/g," ");i8--;continue}dr=dr.trim();var bR=dr.split(" "),bD=bR[bR.length-1],e1=bD.toLowerCase(),am=bR.map(parseFloat);
if(bD=="m")m.moveTo(E,am[0],am[1]);else if(bD=="L"||bD=="l")m.lineTo(E,am[0],am[1]);else if(bD=="V"||bD=="v"){var dj=E.pth.crds,ja=E.cpos[0],aj=E.cpos[1];
m.curveTo(E,ja,aj,am[0],am[1],am[2],am[3]);var dS=dj.length;dj[dS-6]=ja;dj[dS-5]=aj}else if(bD=="Y"||bD=="y")m.curveTo(E,am[0],am[1],am[2],am[3],am[2],am[3]);
else if(bD=="C"||bD=="c")m.curveTo(E,am[0],am[1],am[2],am[3],am[4],am[5]);else if(bD=="H"||bD=="h"){if(bD==e1)m.closePath(E);
if(!I){var eW=S.vv();S.U.push(eW);eW.qv("<Clipping Path>");eW.ej=!0;eW.add.vstk=kV.UY.yu();eW.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
O(eW,E.pth,S,P)}else o=!0}else if(bD=="XR"){P=am[0]}else if(bD=="Xy"){w=eT.abi[am[0]];M=am[1];if(w==null){w="norm";
console.log("unknown blend mode",am[0])}}else if(bD=="Xd"){var d1=S.U[S.U.length-1];d1.JS=Math.round(255*M);
d1.uF=d1.h5()&&w=="norm"?"pass":w}else if(bD=="AE")dh=am[0];else if(bD=="Ae")gK=am[0];else if(bD=="Xw")ad=am[0];
else if(bD=="*"){var be=E.pth.crds,cI=E.ctm,ah=be[0]==be[2]?0:1;S.MQ.push([ah,be[ah]]);m.newPath(E)}else if(bD=="XN")aq=dr.split(" ")[0];
else if(bD=="XI"){var kP=D.Raster,i0,ac,ji;if(kP==null||kP.length==0){console.log("no Raster");continue}if(dr!="XI"){continue}else{var jR=kP[s++];
if(jR.Data)jR=jR.Data;var eo=jR._begin,eP=jR._end;while(N[eo]!=88)eo++;eo+=3;i0=N.slice(eo,eP);ac=C[i8-2].split(" ").map(parseFloat)}var as=ac.slice(8),kF=as[2],kW=as[3],hs=kF*kW,gc=f.m(hs*4);
gc.fill(255);var fK=as[7],lo=as[8],cR=as[6],fU=Math.ceil(kF*fK*cR/8);if(fK==1){if(cR==8)for(var n=0;
n<hs;n++)for(var g8=0;g8<3;g8++)gc[4*n+g8]=i0[n];else if(cR==1)for(var i2=0;i2<kW;i2++)for(var jQ=0;
jQ<kF;jQ++)for(var g8=0;g8<3;g8++)gc[4*(i2*kF+jQ)+g8]=255*(i0[i2*fU+(jQ>>>3)]>>>7-(jQ&7)&1);else throw cR}else if(fK==3)for(var n=0;
n<hs;n++)for(var g8=0;g8<3;g8++)gc[4*n+g8]=i0[3*n+g8];else if(fK==4||fK==5){for(var n=0;n<hs;n++){gc[4*n+0]=i0[fK*n+0];
gc[4*n+1]=i0[fK*n+1];gc[4*n+2]=i0[fK*n+2];gc[4*n+3]=i0[fK*n+3]}f.a1e(gc);for(var n=0;n<hs;n++)gc[n*4+3]=255}else if(fK==7)for(var n=0;
n<hs;n++){gc[4*n+0]=i0[fK*n+0];gc[4*n+1]=i0[fK*n+1];gc[4*n+2]=i0[fK*n+2]}else console.log("unknown number of channels",fK);
if(lo==1){var eS=kW*fU;for(var n=0;n<hs;n++)gc[4*n+3]=i0[eS+n]}if(kF*kW<700*700)ji="PNG";else if(Math.max(kF,kW)>32768)ji="PNG";
else ji=f.p0(gc,kF,kW)?"JPG":"PNG";var l7=b3.bV(ji).V$([[gc.buffer]],kF,kW),j_=S.b0(new Uint8Array(l7),"<Image>",0,0);
S.U.push(j_);j_.uF=w;j_.JS=Math.round(255*M);j_.fF(ad==0);var hb=new gi;hb.scale(1,-1);hb.concat(l(ac.slice(1)));
hb.concat(l(E.ctm));var fL=j_.add.SoLd,dE=fL.Sz.v,gF=new iW(0,0,dE.Wdth.v,dE.Hght.v),bR=f.Q.Ya(gF).I;
f.Q.M(bR,hb,bR);j_.add.SoLd.Trnf=A.hZ.gX(bR);j_.add.SoLd.nonAffineTransform=A.hZ.gX(bR);j_.Lc(S,!1)}else if(bD=="Ln"){G.push(z(dr))}else if(bD=="u"||bD=="q"||bD=="Lb"){if(bD=="Lb")S.add.prvw=am[1];
lq.push(gK==1);hn.push((bD=="Lb"?1-am[0]:ad)==0);if(I)continue;S.U.push(S.Rw())}else if(bD=="U"||bD=="Q"||bD=="LB"){if(lq.length==0||hn.length==0)throw i8;
var gA=lq.pop(),gP=hn.pop();if(bD=="LB")gA=dh==1;if(I)continue;var j_=S.vv();j_.qv((bD=="U"?"<Group>":"<Clip Group>")+Q);
if(bD=="LB")j_.qv(G.pop());j_.add.lsct=gA?f$.fG:f$.wM;j_.uF="pass";j_.Xw=24;j_.fF(gP);S.U.push(j_);if(c3){if(S.U[S.U.length-3].getName()=="</Layer group>"){S.U.pop();
S.U.splice(S.U.length-2,1)}c3=!1}}else if(bD=="Bb")af=am[0]!=1;else if(bD=="BB"){}else if(bD=="Bm"||bD=="Bc"||bD=="Xm"){}else if(bD=="Bh")dc=am.slice(2,4);
else if(bD=="Bg"){var km=T.Setup.Gradient,jA=km[z(dr)],bR=dr.slice(dr.indexOf(")")+2).split(" ").map(parseFloat);
if(jA==null){console.log("gradient not found");for(var cD in km){jA=km[cD];break}}var i4=bR[10];if(isNaN(i4))i4=1;
var dv=bR.slice(0,4);dv.push(i4,dc[0],dc[1]);if(Math.max(Math.abs(dv[0]),Math.abs(dv[1]))>20){dv[0]=0;
dv[1]=0;dv[3]=1;console.log("strange gradient")}var eK=[jA.tJ,jA.a9D,dv,bR.slice(4,10)];Y(eK,"GdFl",af)}else if(e1=="p"&&1<dr.length&&dr.length<100){var k2=z(dr),gl=T.Setup.Pattern[k2],eU=gl.l7,kF=Math.round(eU[2]-eU[0]),kW=Math.round(eU[3]-eU[1]);
if(S.lW[k2]==null){var jO=new hc,d9=Math.sqrt(Math.abs(K[0]*K[3]-K[1]*K[2])),hb=new gi(1,0,0,-1,-gl.l7[0],kW+gl.l7[1]);
hb.concat(new gi(d9,0,0,d9,0,0));var iJ=[t,h,X,g];t=[0,0,0];h=[0,0,0];X="SoCo";g="SoCo";x(jO,gl.uk,gi.g4(hb),T,D,N);
jO.r=Math.round(kF*d9);jO.$=Math.round(kW*d9);jO.nA();jO.uM();if(j8==0){jO.buffer=f.m(jO.r*jO.$*4);jO.Yn()}t=iJ[0];
h=iJ[1];X=iJ[2];g=iJ[3];S.lW[k2]=jO}var jl=dr.slice(dr.indexOf(")")+2),fd=jl.slice(0,jl.indexOf("[")-1).split(" ").map(parseFloat),el=jl.slice(jl.indexOf("[")+1,jl.indexOf("]")).split(" ").map(parseFloat),hb=new gi(1,0,0,-1,0,kW);
hb.concat(gi.aCx(el));Y([k2,[fd,gi.g4(hb)]],"patt",bD=="p")}else if(bD=="J"||bD=="j"||bD=="w"||bD=="M"||bD=="d"){var hb=E.ctm,d9=Math.sqrt(Math.abs(hb[0]*hb[3]-hb[1]*hb[2]));
for(var n=1;n<bR.length;n++){var cT=bR[n],jg=am[n-1];if(cT=="w")e.O8=jg*d9;if(cT=="j")e.yQ=jg;if(cT=="J")e.ln=jg;
if(cT=="M")e.Ek=jg;if(cT=="d"){var aw=dr.slice(dr.indexOf("[")+1,dr.indexOf("]")).trim();if(aw.length!=0){var du=aw.split(" ").map(parseFloat);
e.gn=du;for(var g8=0;g8<du.length;g8++)du[g8]*=d9}else if(aw=="")e.gn=[]}}}else if(e1=="xa"||e1=="xx"){var e7=j(dr);
Y(e7,"SoCo",bD=="Xa"||bD=="Xx")}else if(e1=="xk"){e7=j(dr);Y(e7,"SoCo",bD=="Xk")}else if(e1=="k"||e1=="x"){e7=j(dr);
Y(e7,"SoCo",bD==e1)}else if(e1=="g"){var e7=[am[0],am[0],am[0]];Y(e7,"SoCo",bD==e1)}else if(e1=="n"){if(!I)m.newPath(E)}else if(bD=="*u"){I=!0;
k=0;hn.push(ad==0)}else if(bD=="*U"||e1=="s"||e1=="f"||e1=="b"){if(bD!="*U"&&I){if(e1=="f"||e1=="b")k|=1;
if(e1=="s"||e1=="b")k|=2;continue}if(bD==e1)m.closePath(E);if(bD=="*U"){I=!1}var j_;{j_=S.vv();j_.Xw|=16;
O(j_,E.pth,S,P);var dN=e1=="f"||e1=="b"||bD=="*U"&&k&1,gw=e1=="s"||e1=="b"||bD=="*U"&&k&2,iy=j_.add.vstk=kV.UY.yu(dN,gw),cb=f.v(e);
cb.W4=[];cb.rA=[];if(dN)cb.W4=t;if(gw)cb.rA=h;if(j8==0){kV.UY.write(iy,cb);if(X=="SoCo"){j_.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);
var aJ=j_.add.SoCo.Clr.v;p(aJ,t)}if(X=="GdFl"){j_.add.GdFl=eT.ac(t,j_.add.vmsk.D)}if(X=="patt"){j_.add.PtFl=Z(t,S)}if(gw){var iO=["SoCo","GdFl","patt"].indexOf(g),i$=iO==0?{Clr:{t:"Objc",v:dU.Vb(h)}}:iO==1?eT.ac(h,j_.add.vmsk.D):Z(h,S),df=[kV.o9,kV.oA,kV.aO][iO],b5=iy.strokeStyleContent.v={classID:kV.UY.$B[iO]};
for(var n=0;n<df.length;n++)b5[df[n]]=i$[df[n]]}}else j_.add.vstl=cb}if(bD=="*U"&&o){j_.ej=!0;o=!1}j_.qv("<"+(bD=="*U"?"Compound ":"")+"Path>"+Q);
j_.uF=w;j_.JS=Math.round(255*M);j_.fF(bD=="*U"?hn.pop():ad==0);j_.tG(S);S.U.push(j_);m.newPath(E)}else if(bD==","&&bR[0]=="/XMLUID"){var d1=S.U[S.U.length-1];
for(var n=0;n<S.a1.length;n++)if("("+S.a1[n].docRef+")"==bR[2])S.a1[n].docRef="id('"+d1.add.lyid+"')"}else if(bD==","&&bR[1]=="/FreeUndo"){dF=am[0]}else if(bD==","&&bR[1]=="/StoryIndex"){var iC=T.Setup.TextDocument,b4=null;
if(!(iC instanceof Array))window.aIs=iC=T.Setup.TextDocument=$(iC,N);var h4=iC[0],ii=iC[2];if(h4._DocumentResources)h4=iC[0]=f6.aFG(h4);
else f6.aw9(h4);var j_=S.vv();j_.add.lnsr="rend";j_.add.TySh=jM.de(0,0);var bx=am[0];if(dF==1){for(var n=1;
n<60;n++){var fj=C[i8+n];if(fj&&fj.endsWith("/StoryIndex ,")){bx=parseFloat(fj.slice(2,fj.indexOf(" ")));
c3=!0;break}}dF=0}var ku=dq.aaM(h4),bX=j_.add.TySh.Oo=ku[bx];if(bX==null){console.log("text not found");
c3=!1;continue}j_.qv(jM.W3(bX).slice(0,50));j_.uF=w;j_.JS=Math.round(255*M);j_.fF(ad==0);var e9=h4._1._1[bx]._1._0[0]._0;
e9=parseInt(e9.slice(1));var a_=h4._0._8._0,j3=a_[e9]._0;if(j3._0)b4=U(j3._0);else if(j3._1)b4=U(j3._1._0);
else b4=U(j3._2._2).slice(3);if(b4.length!=2){var eU=f.Q.mo(b4);b4=[eU.x,eU.y];if(eU.k()!=0){jM.kM(bX,1);
jM.eg(bX,[0,0,Math.round(eU.r),Math.round(eU.$)])}}var dw=new gi,l3=new gi(1,0,0,1,b4[0],b4[1]),ep=new gi(1,0,0,1,-ii[0],-ii[1]),ao=l(E.ctm),ls=new gi;
if(j3._2&&j3._2._2){var K=U(j3._2._2);ls=l(K)}dw.concat(l3);dw.concat(ls);dw.concat(ep);dw.scale(1,-1);
dw.concat(ao);j_.add.TySh.M=dw;S.U.push(j_);S.Um=!0}else if(bD=="Tp"){R.AC=l(am)}else if(bD=="Tf"){R.font=bR[0].slice(2)}else if(bD=="Tk"){var j_=S.vv();
j_.add.lnsr="rend";var eJ=j_.add.TySh=jM.de(0,0),bX=eJ.Oo,hb=R.AC.b(),dE=hb.Mk();hb.concat(l(E.ctm));
var f2=new gi(1/dE,0,0,-1/dE,0,0);f2.concat(hb);eJ.M=f2;var eH=z(dr);j_.qv(eH);jM.Uh(bX,0,eH);var jf=jM.Sj(bX,0,eH.length);
jf.Uy.FontSize=dE;jf.Uy.FillColor={Type:1,Values:[1,t[0],t[1],t[2]]};jM.aW(jf,R.font);jM.yx(bX,0,eH.length,jf);
S.U.push(j_);S.Um=!0}else if(q&&am.length>3){var kh=!1;for(var n=0;n<am.length;n++)if(isNaN(am[n]))kh=!0;
if(!kh)C[i8+1]=(dr+" "+C[i8+1]).replace(/\s\s+/g," ")}}}function Z(t,S){if(S.an4==null)S.an4={};var C=S.an4[t[0]];
if(C==null){var K=S.lW[t[0]],C=S.an4[t[0]]={};C.id=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";C.name="someImage";
C.kv=[K.jP(),new iW(0,0,K.r,K.$)];S.HM(C)}var T=JSON.parse(kV.v0[kV.order.indexOf("patternFill")]);T.Ptrn.v.Idnt.v=C.id;
var D=l(t[1][1]),N=-Math.atan2(-D.X,D.aX);T.Angl.v.val=Math.round(N*180/Math.PI);T.Scl.v.val=Math.round(100*D.Mk());
return T}eT.ac=function(S,C){var K=eT.hN(S,C),T=[0,0,1,0];if(S[0]==0)T[0]=.5;f.Q.M(T,K,T);var D=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),N=D.Grad.v;
N.Intr.v=0;D.Type.v.GrdT=["Lnr","Rdl"][S[0]];f.iF.PY(S[1],N);f.iF.Dv(new cK(T[0],T[1]),new cK(T[2],T[3]),f.t.ft(C),D);
return D};eT.ou=function(S,C,K){var T={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[S.Type.v.GrdT],D=f.t.ft(C);
if(K&&S.Algn&&!S.Algn.v)D=new iW(0,0,K.r,K.$);var N=f.iF.ajF(S,D),G=N[0],s=N[1];if(T==0){G.x-=s.x-G.x;
G.y-=s.y-G.y}var Q=s.x-G.x,q=s.y-G.y,R=Math.sqrt(Q*Q+q*q),m=new gi;m.rotate(Math.atan2(-q,Q));m.scale(R,R);
m.translate(G.x,G.y);var E=eT.TZ(T,m,C),e=S.Grad.v;E[1]=f.iF.aiq(e,null,null);return E};eT.Uv=function(S,C,K){var T=cK.A_(S,C),D=new gi;
D.scale(T,T);D.rotate(-Math.atan2(C.y-S.y,C.x-S.x));D.translate(S.x,S.y);if(K)D.concat(K);return D};
eT.aor=function(S,C,K,T,D){if(C&&!T.fE(C)){var N=Math.atan2(-(K.y-C.y),K.x-C.x);if(D!=null||N!=0){var G=new gi;
G.translate(-C.x,-C.y);G.scale(1,D);G.rotate(N);G.translate(C.x,C.y);G.zJ();T=G._V(T)}var s=Math.atan2(-(T.y-C.y),T.x-C.x);
S[2][5]=s*180/Math.PI;S[2][6]=cK.A_(T,C)/cK.A_(K,C)}};eT.TZ=function(S,C,K){var T=C.b(),Q,q,R=1;T.zJ();
var D=jn.rz.Pf(K);f.t.kh(D,T);var N=f.t.ft(D),G=N.r,s=N.$;if(S==0){var m=new gi;m.translate(-N.x,-N.y);
m.translate(-G/2,-s/2);var E=eT.azV(G,s,0);m.scale(1/E,1/E);m.scale(1/G,1/s);Q=m.r2+.5;q=m.pE+.5;R=m.aX}else{Q=-N.x/G-.5;
q=-N.y/s-.5;var e=(Q-.5)*G/2,w=(q-.5)*s/2;R=1/Math.sqrt(2*(e*e+w*w))}var M=[S,null,[Q,q,0,R,1,0,0],[C.aX,C.X,C.Wp,C.r7,C.r2,C.pE]];
return M};eT.hN=function(S,C){var K=S[0],T=S[2],D=S[3],N=l(D);N.zJ();var G=jn.rz.Pf(C);f.t.kh(G,N);var s=f.t.ft(G),Q=s.r,q=s.$,R=T[0],m=T[1],E=T[2]*Math.PI/180,e=T[3],w=new gi;
if(K==0){w.scale(e,e);w.translate(R-.5,m-.5);w.scale(Q,q);w.rotate(E);var M=eT.azV(Q,q,E);w.scale(M,M);
w.translate(Q/2,q/2)}else{var P=(R-.5)*Q/2,I=(m-.5)*q/2,M=e*Math.sqrt(2*(P*P+I*I));w.scale(M,M*T[4]);
w.rotate(E);w.translate((R+.5)*Q,(m+.5)*q)}w.translate(s.x,s.y);w.concat(l(D));return w};function Y(S,C,K){if(K){X=C;
t=S}else{g=C;h=S}}function a(S,C,K){var T=UDOC.G,D=[],N=[],G="/DeviceGray",s=1,Q=[],q=1;for(var R=0;
R<S.length;R++){var m=S[R];if(m.endsWith(" /CS")){var E=m.indexOf("/NChannel"),e=m.indexOf("/Process");
if(m.startsWith("/DeviceRGB")){G="/DeviceRGB";s=3}else if(m.startsWith("/DeviceGray")){G="/DeviceGray";
s=1}else if(m.startsWith("/DeviceCMYK")){G="/DeviceCMYK";s=4;Q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(E!=-1){G="/DeviceCMYK";
s=parseInt(m.slice(E-2,E-1));var w=1;for(var n=0;n<s;n++){w=m.indexOf("[",w);Q[s-1-n]=m.slice(w+1,w+8).split(" ").map(parseFloat);
w++}}else if(e){G="/DeviceGray";s=1}else throw m}else if(m[0]=="["){var M=m.indexOf("]"),P=m.slice(1,M).split(" ").map(parseFloat),I=m.slice(M+2),k,o,af,J,at,ke;
if(I=="/Size"||I=="/P"||I=="/R")continue;if(I=="/S"||I=="/A"){k=P[0];o=P[1];af=P[2];J=P[3];at=P[4];ke=P[5]}else if(I=="/N"){var c_=s+(q==1?0:1),ag;
k=P[c_+0];o=P[c_+1];af=P[c_+2];J=P[c_+3];at=P[c_+5];ke=P[c_+6];if(G=="/DeviceRGB")ag=P.slice(0,3);else if(G=="/DeviceGray")ag=[P[0],P[0],P[0]];
else if(G=="/DeviceCMYK"){var dz=[0,0,0,0];for(var n=0;n<s;n++){var kL=P[n],aq=Q[n];dz[0]+=kL*aq[0];
dz[1]+=kL*aq[1];dz[2]+=kL*aq[2];dz[3]+=kL*aq[3]}ag=L(dz)}else throw ag;ag.push(P[s]);N.push([ag,k,o])}else throw I;
D.push([I,at,ke,k,o,af,J])}else if(m=="/E"){var dh=D.slice(0),gK=0;for(var n=0;n<D.length;n++){var ad=D[n][0];
if(ad=="/N"){gK++;continue}var dc=n,lq=n+1;while(D[lq][0]!="/N"&&lq<D.length)lq++;if(gK==0||gK==3){for(var hn=0;
hn<lq-dc;hn++)dh[dc+hn]=D[lq-1-hn]}else for(var hn=dc;hn<lq;hn++){var dF=dh[hn],c3=dF[1];dF[1]=dF[5];
dF[5]=c3;c3=dF[2];dF[2]=dF[6];dF[6]=c3}n=lq-1}D=[];for(var n=0;n<dh.length;n++){var dF=dh[n];D.push(dF[1],dF[2],dF[3],dF[4],dF[5],dF[6])}var i8=D.length;
T.moveTo(C,D[2],D[3]);for(var n=0;n<i8;n+=6){var af=D[(n+4)%i8],J=D[(n+5)%i8],at=D[(n+6)%i8],ke=D[(n+7)%i8],k=D[(n+8)%i8],o=D[(n+9)%i8];
T.curveTo(C,af,J,at,ke,k,o)}T.closePath(C);D=[]}else if(m.endsWith("/Version"))q=parseFloat(m[0])}var dr=K.vv();
dr.Xw|=16;dr.qv("<Mesh>");var jO=dr.add.vstk=kV.UY.yu(!0);if(N.length>=2){var d1=0,h3=0,d5=0;for(var n=0;
n<N.length;n++)for(var hn=n+1;hn<N.length;hn++){var em=N[n][0],fl=N[hn][0],lA=em[0]-fl[0],av=em[1]-fl[1],ah=em[2]-fl[2],gE=Math.sqrt(lA*lA+av*av+ah*ah);
if(gE>d5){d5=gE;d1=n;h3=hn}}var fj=N[d1],bR=N[h3],bD=[[0,fj[0],1,.5],[1,bR[0],1,.5]],e1=l(C.ctm),am=e1._V(new cK(fj[1],fj[2])),dj=e1._V(new cK(bR[1],bR[2]));
if(am.fE(dj))dj.x+=1;if(j8==0){var ja=dr.add.GdFl=JSON.parse(kV.v0[kV.order.indexOf("GrFl")]),aj=ja.Grad.v;
aj.Intr.v=0;ja.Type.v.GrdT="Lnr";f.iF.PY(bD,aj);var dS=f.Q.mo(C.pth.crds);am.x=(am.x+dj.x)/2;am.y=(am.y+dj.y)/2;
f.iF.Dv(am,dj,dS,ja);O(dr,C.pth,K,0)}else{var eW=dr.add.vstl=kV.J1.yu();eW.rA=[];var be=eT.Uv(am,dj,new gi);
O(dr,C.pth,K,0);eW.W4=eT.TZ(0,be,dr.add.vmsk.D);eW.W4[1]=bD}}else O(dr,C.pth,K,0);K.U.push(dr);T.newPath(C)}function z(S){var C=S.indexOf(")");
while(S[C-1]=="\\")C=S.indexOf(")",C+1);return S.slice(S.indexOf("(")+1,C).replaceAll("\\","")}function p(S,t){S.Rd.v=t[0]*255;
S.Grn.v=t[1]*255;S.Bl.v=t[2]*255}function U(S){var C=[];for(var n=0;n<S.length;n++)C[n]=parseFloat(S[n].slice(1));
return C}function l(S){return gi.aCx(S)}function L(S){return f.uP(S.slice(0,4)).slice(0,3)}function j(S){var C=S.split(" "),K=C[C.length-1],T=K.toLowerCase(),D=C.map(parseFloat),N=null;
if(T=="xa"||T=="xx"||T=="xz"){var N=D[4]==null?D.slice(0,3):[D[4],D[5],D[6]];if(T=="xx"&&D[D.length-2]==2)N=L(D)}else if(T=="g")N=L([0,0,0,1-D[0]]);
else if(T=="x"||T=="k"){if(T=="x"){D.pop();var G=1-D.pop();for(var n=0;n<4;n++)D[n]*=G}N=L(D)}else if(T=="xk"){var s=D[D.length-2],Q=D[D.length-3];
if(s==0)N=L(D);else if(s==1){N=[D[4],D[5],D[6]];for(var n=0;n<3;n++)N[n]=Q*1+(1-Q)*N[n]}else throw S}else throw T;
return N}function O(S,C,K,T){S.add.vmsk=new jn.rz;if(C.crds.length!=0)S.add.vmsk.D=F(C);S.add.vmsk.Dk=T;
S.bB();S.tG(K)}function F(S){var C={I:S.crds,s2:S.cmds},K=f.Q.Q$(C,!1);return K}function i(S,C){var K=[],E=0,P=0;
for(var T=0;T<2;T++){var D=C[["Raster","Place"][T]];if(D==null)continue;for(var n=0;n<D.length;n++){for(var N=0;
N<3;N++){var G=D[n][["Data","Document","PlacedObjectPreview"][N]];if(G==null)continue;if(G._begin!=null)G=[G];
for(var s=0;s<G.length;s++){var Q=G[s],q=Q._begin,R=Q._end;if(q>R)q=R;K.push([q,R])}}}}K.sort(function(k,o){return k[0]-o[0]});
var m=[C._begin];for(var n=0;n<K.length;n++){var e=K[n],q=e[0]+32;m.push(q,e[1]);E+=e[1]-q}m.push(C._end);
var w=C._end-C._begin,M=new Uint8Array(w-E);for(var n=0;n<m.length;n+=2){var q=m[n],I=m[n+1]-q;M.set(new Uint8Array(S.buffer,q,I),P);
P+=I}return B.I$(M).split(/\r\n|\r|\n/)}function $(S,C){if(S==null)return[];var K=i(C,S),T="",D="",N=0,G;
for(var n=2;n<K.length;n++){var s=K[n];if(s[0]=="%"){if(N==0)T+=s.slice(1);else D+=s.slice(1)}else if(s==";")N++;
else if(s.endsWith("/RulerOrigin ,"))G=s.split(" ").slice(0,2).map(parseFloat)}var Q=[T,D],q=[];for(var n=0;
n<2;n++){var R=Q[n],m=new Uint8Array(R.length);B.js(m,0,R);var E=FromPS.F.ASCII85Decode({buff:m,off:0}),e=hD.lS(E);
q.push(e)}q.push(G);return q}function H(S,C){if(S==null)return[];var K=i(C,S);K=K.slice(1);for(var n=0;
n<K.length;n++){var T=K[n];if(T.startsWith("%AI17_Begin_Content_if_version_gt")||T=="%AI17_Alternate_Content"||T=="%AI17_End_Versioned_Content")K[n]="";
else if(T[0]=="%")K[n]=T.slice(T[1]=="_"?2:1)}var D=gT.aem(K);return D}function b(S,C){var K={};if(S==null)return K;
for(var n=0;n<S.length;n++){var T=i(C,S[n]),D=T[1],N=z(D),G=D.slice(D.lastIndexOf(")")+2).split(" ").map(parseFloat),s=[];
for(var Q=2;Q<T.length;Q++)s.push(T[Q].slice(2));K[N]={l7:G,uk:s}}return K}function r(S,C){var K=[],D,N;
if(S==null)return K;var T=i(C,S);for(var n=1;n<T.length;n++){var G=T[n];if(G=="0 0 Pb"||G=="PB"||G==""){}else if(G.endsWith("Xa")||G.endsWith("Xz")||G.endsWith("Xx")||G.endsWith("Xk")||G.endsWith(" g")||G.endsWith(" x")||G.endsWith(" k"))D=[0,j(G)];
else if(G.endsWith("Xs"))D=[0,[0,0,0]];else if(G.endsWith("Bg"))D=[1,z(G)];else if(G.endsWith("Pg")||G.endsWith("p"))D=[2,z(G)];
else if(G[0]=="(")N=z(G);else if(G=="Pc")K.push([N,D]);else if(G=="0 BB"||G=="Bb"||G.endsWith("Bh")){}else if(G.startsWith("%AI17_")){}else throw G}return K}function W(S,C){var K={},T,D;
if(S==null)return K;var N=[];for(var n=0;n<S.length;n++){var G=i(C,S[n]);for(var s=0;s<G.length;s++){var Q=G[s];
if(Q.endsWith("%_Bs")){var q=Q.slice(0,Q.length-4);if(!q.endsWith(" "))q+=" ";Q=q+"%_BS"}if(Q[0]=="("){T=z(Q);
var R=Q.slice(Q.lastIndexOf(")")+2).split(" ");D=parseInt(R[0])}else if(Q.endsWith("%_BS")){var m=Q.split(" "),M,P=1;
m.pop();m=m.map(parseFloat);var E=m.pop(),e=m.pop(),w=m.pop();if(w==0)M=[m[0],m[0],m[0]];else if(w==2||w==4)M=[m[4],m[5],m[6]];
else if(w==1||w==3)M=L(m);else if(w==6){if(m.length==3)M=[m[0],m[0],m[0]];else if(m.length>=8&&Q.indexOf("(")==-1)M=m.slice(4,7);
else M=L(m);P=m.pop()}else{throw w}N.push([E/100,M,P,e/100])}else if(Q=="BD"){N.sort(function(I,k){return I[0]-k[0]});
K[T]={tJ:D,a9D:N};N=[]}}}return K}function V(S){var C="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider Document".split(" "),K=Date.now(),T=0,D=[],N={Header:{}},G=[N],s=S.length;
while(T<s){var Q=T;while(Q!=s&&S[Q]!=13&&S[Q]!=10){Q++}if(S[T]==37&&S[T+1]==95&&S[T+2]==37)T+=2;if(S[T]==37&&(S[T+1]==37||S[T+1]==65)){var q=B.o3(S,T,Q-T);
if(q=="%%EOF")break;if(q=="%%EndComments"||q=="%EndComments"||q=="%AI5_Begin_NonPrinting"||q=="%AI5_End_NonPrinting--"||q.startsWith("%AI17_Begin_Content_if_version_gt")||q=="%AI17_End_Versioned_Content"){}else{var R=q.indexOf("Begin"),m=Math.max(q.indexOf("_End"),q.indexOf("%End"));
if(R!=-1&&q[R-1]!="%"&&q[R-1]!="_")R=-1;if(R!=-1){var E=q.slice(R+5).split(":")[0],e={_begin:T,_end:T},w=G[G.length-1];
if(C.indexOf(E)!=-1){if(w[E]==null)w[E]=[];w[E].push(e)}else{if(w[E]!=null){console.log(G);throw q}w[E]=e}G.push(e);
if(q.startsWith("%%BeginData")){Q=B.M5(S,"%%EndData",T)}else if(q.slice(0,15)=="%%BeginDocument")Q=B.M5(S,"%%EndDocument",Q);
else if(q=="%AI9_BeginDocumentData")Q=B.M5(S,"%AI9_EndDocumentData",Q);else if(q=="%AI11_BeginTextDocument")Q=B.M5(S,"%AI11_EndTextDocument",Q)}else if(m!=-1){if(G.length>1)G.pop()._end=T}else if(G.length==1&&(q.startsWith("%AI")||q.startsWith("%%")&&q.indexOf(" ")!=-1)){var M=1;
if(q.startsWith("%AI"))while(q[M]!="_"&&M<q.length)M++;var P=q.indexOf(":");if(P==-1)P=q.indexOf(" ");
var I=q.slice(M+1,P),k=q.slice(P+1).trim();N.Header[I]=k}}}T=Q;if(S[T]==13)T++;if(S[T]==10)T++}return N}function y(S){var C="";
for(var n=0;n<S.length;n++){if(S[n]=="_"&&S[n+1]=="x"){var bW=parseInt(S.slice(n+2,n+4),16);C+=String.fromCharCode(bW);
n+=4}else if(S[n]=="_")C+=" ";else C+=S[n]}return C}function c(S){var C="xmlnode-nodename",K="xmlnode-nodevalue",T="xmlnode-attributes",D="xmlnode-children",N=S[C].split(":").pop().replace("#",""),G=S[T],s=S[D],Q="<"+N;
for(var q in G)if(q!="xmlns"&&q!="xmlns:v")Q+=" "+q.split(":").pop()+"=\""+G[q][K]+"\"";Q+=">"+(s.length==0?"":"\n");
for(var n=0;n<s.length;n++)Q+=c(s[n]);if(S[K])Q+=S[K];return Q+"</"+N+">\n"}return d}();eT.azV=function(d,v,t){var h=f.Q.Ya(new iW(0,0,d,v)).I,X=new gi;
X.rotate(t);f.Q.M(h,X,h);var g=f.Q.mo(h);return g.r/d};eT.abi="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",");
eT.IT=function(){function d(L){var j=72/L.u3,O=new gi(j,0,0,-j,0,0),F=L.root.children,i=[],$={nq:[],xR:{},NS:0},b=16383,J=0,ke=0;
for(var n=0;n<L.S1.length;n++){var H=L.S1[n];if(H[1].length==4)U(H[1],$,H[0])}for(var n=0;n<F.length;
n++)Y(F[n],L,O,$,i,0);var r=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+b+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
r.push("%%BeginSetup\r");r=r.concat($.nq);for(pn in L.lW){var W=L.lW[pn],V=L.u3/72;r.push("%AI3_BeginPattern: ("+pn+")");
r.push("("+pn+") 0 0 "+Math.round(W.r/V)+" "+Math.round(W.$/V));var F=W.root.children,y=[];for(var n=0;
n<F.length;n++)Y(F[n],W,O,$,y,1);y=window.a1g;for(var n=0;n<y.length;n++){var c=y[n];r.push(c.startsWith("%_")?c:"%_"+c)}r.push("E","%AI3_EndPattern")}if(L.S1.length!=0){r.push("%AI5_BeginPalette","0 0 Pb");
for(var n=0;n<L.S1.length;n++){var H=L.S1[n],S="("+H[0]+")",C=H[1].length;if(H[0]=="[Registration]")r.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(C==3)r.push(Z(f.aB(H[1]).concat(H[1]))+" "+S+" 0 1 Xk");else if(C==4)r.push("Bb","0 0 0 0 Bh",H[1][0]+1+" "+S+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(C==2)r.push(S+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");r.push(S,"Pc")}r.push("PB","%AI5_EndPalette")}r=r.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var K=L.add.arts;for(var n=0;n<K.length;n++){var T=K[n];console.log(T);var D=T.l7[0]*j,N=-T.l7[1]*j,G=T.l7[2]*j,s=-T.l7[3]*j;
r.push("/Dictionary :","("+T.cF+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",b/2+" "+b/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",t(D)+" "+t(N)+" /RealPointRelToROrigin"," (PositionPoint1) ,",t(G)+" "+t(s)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}r=r.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var Q=[],q=[];for(var n=0;n<L.U.length;n++){var R=L.U[n],m=R.add.TySh;if(m){Q.push(m.Oo);q.push(m)}}if(Q.length!=0){var E=dq.a09(Q,null,null);
function e(T){return T.map(function(c_){return"f"+c_})}for(var w=0;w<Q.length;w++){var m=q[w],M=E._1._1[w],P=M._1._0[0]._0;
P=parseInt(P.slice(1));var I=E._0._8._0[P]._0,k=m.M.b();k.concat(O);k.scale(1,-1);I._2._2=e([k.aX,k.X,k.Wp,k.r7,k.r2,k.pE])}var o=v(E),af=v(E);
r.push("%AI11_BeginTextDocument");r.push("/AI11TextDocument : /ASCII85Decode ,");r=r.concat(o);r.push("0.0001 0.0001 /RulerOrigin ,");
r.push(";");r.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");r=r.concat(af);r.push(";");r.push("%AI11_EndTextDocument")}r.push("%%EndSetup\r");
r=r.concat(i);r.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var n=0;n<r.length;n++){var T=r[n];if(typeof T=="string")T=r[n]=B.j9(T);J+=T.length+1}var at=new Uint8Array(J);
for(var n=0;n<r.length;n++){var T=r[n];at.set(T,ke);ke+=T.length;at[ke]=13;ke++}return gT.arz(at).buffer}function v(L){var j=new fe,O=hD.Al(L,j)-2,F=l(j.data.slice(0,O)),i=[];
for(var $=0;$<F.length;$+=100){if(F.length-$<103){i.push("%"+F.slice($));break}i.push("%"+F.slice($,$+100))}return i}function t(bW){return bW.toFixed(3)}function h(L,j){var O=L.getName(),F=null;
j.push("%_/ArtDictionary :");if(L.add.vmsk)F=L.add.vmsk.Vk;if(L.add.SoLd){var i=f.G.V0(L.add.SoLd);F=Math.atan2(-i.X,i.aX)}if(L.add.TySh){var i=L.add.TySh.M;
F=Math.atan2(-i.X,i.aX)}if(F!=null&&F!=0)j.push("%_("+F+") /String (BBAccumRotation) ,");if(L.add.TySh)j.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!O.startsWith("<")&&!O.endsWith(">")){j.push("%_/XMLUID : "+X(O)+" ; (AI10_ArtUID) ,")}j.push("%_;","%_")}function X(L){var j="";
for(var n=0;n<L.length;n++){var O=L[n],F=L.charCodeAt(n);if(O==" ")j+="_";else if(O=="."||O==":"||O=="-"||48<=F&&F<=57||65<=F&&F<=90||97<=F&&F<=122||127<F)j+=O;
else j+="_x"+F.toString(16).toUpperCase()+"_"}return"("+j+")"}function g(L,j,O){O.push(Z(L)+" "+j)}function x(L){return"[ "+Z(L)+" ]"}function Z(L){return L.map(t).join(" ")}function Y(L,j,O,F,i,$){var H=L.B;
if($!=0)i.push("0 A",(H.ZC()?0:1)+" Xw");if(H.h5()){var b=!1;for(var n=0;n<L.children.length;n++)if(L.children[n].B.ej)b=!0;
var r=H.add.lsct==f$.fG?1:0;if($==0){i.push("%AI5_BeginLayer");i.push((H.ZC()?1:0)+" "+j.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
i.push("("+H.getName()+") Ln");i.push(r+" AE");h(H,i)}else{i.push(r+" Ae");i.push(b?"q":"u")}for(var n=0;
n<L.children.length;n++)Y(L.children[n],j,O,F,i,$+1);if($==0)i.push("LB","%AI5_EndLayer--");else{i.push(b?"Q":"U");
h(H,i);a(H,i);i.push("0 0 Xd","6 () XW")}}else if(!0){a(H,i);var W=H.add.TySh,V=H.add.vmsk;if(W){i.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",F.NS+" /StoryIndex ,");
if(jM.YX(W.Oo)==1){var y=jM.pg(W.Oo),c=f.Q.Ya(new iW(y[0],y[1],y[2],y[3])).I;f.Q.M(c,W.M,c);f.Q.M(c,O,c);
i.push("/Art :","X=","1 Ap",c[0]+" "+c[1]+" m",c[2]+" "+c[3]+" L",c[4]+" "+c[5]+" L",c[6]+" "+c[7]+" L",c[0]+" "+c[1]+" L","n","X+","; /ConfiningPath ,")}i.push("2 /TextAntialiasing ,",";");
F.NS++}else if(H.add.SoLd){var S,C,K,T=H.add.SoLd,D=T.Idnt.v,N=j.Cq(D,T.Crop?T.Crop.v:null),G=N.Rc,S=G[0],C=G[1];
K=f.G.V0(T);var s=new gi(1,0,0,-1,0,0);s.concat(K);s.concat(O);var Q=C.k(),q=C.r,R=C.$,m=f.m(Q*4+8);
for(var n=0;n<Q;n++){var E=n*4,e=n*3;m[e]=S[E];m[e+1]=S[E+1];m[e+2]=S[E+2];m[3*Q+n]=S[E+3]}B.js(m,Q*4,"%EndData");
i.push("%AI5_File:","%AI5_BeginRaster",x([s.aX,s.X,s.Wp,s.r7,s.r2,s.pE])+" 0 0 "+[q,R,q,R].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(Q*4+4),"XI",m,"XH","%AI5_EndRaster","N")}else if(V){var w=H.add.vstl,M,P;
if(w){M=w.W4;P=w.rA;if(M.length==0)M=null;if(P.length==0)P=null}var I=f.t.HR(V.D,!0)>1;if(I)i.push("*u","0 Xw");
if(M){if(M.length==3)g(M,"Xa",i);else if(M.length==4){var k=p(M,F);i.push("Bb",k,"2 BB")}else{i.push("("+M[0]+") "+M[1][0].join(" ")+" ["+M[1][1].join(" ")+"] p")}}if(P){var o=O.Mk(),af=w.gn.slice(0);
for(var n=0;n<af.length;n++)af[n]*=o;i.push(w.ln+" J "+w.yQ+" j "+w.O8*o+" w "+t(w.Ek)+" M ["+af.join(" ")+"]0 d");
if(P.length==3)g(P,"XA",i);else if(P.length==4){var k=p(P,F);i.push("1 Bb",k,"2 BB")}else{i.push("("+P[0]+") "+P[1][0].join(" ")+" ["+P[1][1].join(" ")+"] P")}}var J=f.Q.lR(V.D,1);
f.Q.M(J.I,O,J.I);var at=H.ej?"h\nW\nn":M&&P?"b":M?"f":"s";z(J,at,V.Dk,i);if(I)i.push("*U")}h(H,i)}else{var ke=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
i=i.push(ke.join("\n"))}}function a(L,j){var O=eT.abi.indexOf(L.uF);if(O==-1)O=0;j.push(O+" "+t(L.JS/255)+" 0 0 0 Xy")}function z(L,j,O,F){F.push(O+" XR");
var i=0;for(var $=0;$<L.s2.length;$++){var H=L.s2[$],b,r=0,W="";if(H=="M"){r=2;b="m"}if(H=="L"){r=2;
b="l"}if(H=="C"){r=6;b="c"}for(var n=0;n<r;n++)W+=t(L.I[i+n])+" ";i+=r;if(r!=0)F.push(W+b);if($==L.s2.length-1||L.s2[$+1]=="M"){F.push(H=="Z"?j:j.toUpperCase())}}}function p(L,j){var O=U(L,j),F="";
if(L[0]==1)F="0 0 "+L[2].slice(5).map(t).join(" ")+" Bh\n";return F+"1 ("+O+") "+L[2].slice(0,4).map(t).join(" ")+" "+L[3].map(t).join(" ")+" "+t(L[2][4])+" Bg"}function U(L,j,O){var F=L[0],i=L[1].slice(0),$=F+"-"+JSON.stringify(i);
if(j.xR[$])return j.xR[$];console.log(O);var H=j.xR[$]=O?O:"grd"+j.nq.length;j.nq.push("%AI5_BeginGradient: ("+H+")","("+H+") "+F+" "+i.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(F==0)i=i.reverse();for(var n=0;n<i.length;n++){var b=i[n];if(b[3]==null)throw"e";var r=f.aB(b[1]),W=100*b[3],V=r.concat(b[1]).map(t).join(" ")+" 2 "+t(b[2])+" 6 "+W+" "+t(b[0]*100);
j.nq.push(V+" %_BS");j.nq.push("%_"+V+" Bs")}j.nq.push("BD","%AI5_EndGradient");return H}function l(L){var j=[85*85*85*85,85*85*85,85*85,85,1],O="",F=L.length,i=new Uint8Array(4),$=new Uint32Array(i.buffer);
for(var n=0;n<F;n+=4){var H=F-n;i[3]=L[n];i[2]=H>1?L[n+1]:0;i[1]=H>2?L[n+2]:0;i[0]=H>3?L[n+3]:0;var b=$[0],r=1+Math.min(4,H);
for(var W=0;W<r;W++){var V=Math.floor(b/j[W]);O+=String.fromCharCode(33+V);b-=V*j[W]}}return O+"~>"}return d}();
function d2(){}d2.lS=function(){var d,v,t,h,X,g=!0,x=!0,b,r,W;function Z(q){return g?B.ij(d,q):B.BT(d,q)}function Y(q){return g?B.kQ(d,q):B.ZT(d,q)}function a(q){return g?B.FD(d,q):B.D_(d,q)}function z(q){return B.kQ(d,q)}function p(q){return B.ij(d,q)}function U(q){return B.ce(d,q)}function l(q,R){if(q+R*4>d.length)throw R;
var m=[];for(var n=0;n<R;n++)m.push(Z(q+n*4));return m}function L(q,R){var m=[];for(var n=0;n<R;n++)m.push(a(q+n*8));
return m}function j(q){return p((q+1)*4096-12)}function O(q){return p((q+1)*4096-8)}function F(q,v,R,m){if(h[q]==null)h[q]=[];
h[q].push([m,new Uint8Array(d.buffer,v,R)])}function i(q,R,m,E){var e=t[q],v=e*4096;v=v+p(v+4096-24-12-R*4);
var w=z(v),M=d[v+2],P=d[v+3];if(R!=M)throw M;if(P==0)F(E,v+4,m,9);else{var I=z(v+6),k=p(v+8);F(E,v+12,w-12,9);
i(k,I,m-(w-12),E)}}function $(){var q=p(352),R=p(q*4096+128),m=p(936);t=[];h={};X={};for(var n=0;n<1e9;
n++){var E=p(m*4096+128+n*4);if(E==0)break;var e=l(E*4096+128,4096-128-12>>>2);t=t.concat(e)}for(var w=0;
w<t.length;w++){var M=t[w],P=j(M);if(P!=6)continue;var v=M*4096,I=p(v);v+=4;for(var n=0;n<I;n++){var k=p(v);
v+=4;var o=p(v);v+=4;var af=p(v);v+=4;var J=p(v);v+=4;if(k==0)X[o]=af;else{var at=af&65535,ke=af>>>16;
if(ke==0)F(o,J*4096,at,8);else i(J,ke,at,o)}}}var b={};for(var c_ in h){var ag=h[c_],dz=ag.length;if(dz==1)b[c_]=ag[0][1];
else{var kL=0,v=0;for(var n=0;n<dz;n++)kL+=ag[n][1].length;var aq=b[c_]=new Uint8Array(kL);for(var n=0;
n<dz;n++){aq.set(ag[n][1],v);v+=ag[n][1].length}}}return b}function H(v,q){var R=0,m="";if(q){R=Z(v);
v+=4}else{v+=3;R=Y(v);v+=2}while(m.length<R){var E=Y(v),e=E&255,w=E>>>8,M=0,P="";e+=(w&15)*256;w=w&240;
v+=2;if(e==0)throw"e";for(var n=0;n<e;n++){if(w==64)M=d[v++];else if(w==128){M=Y(v);v+=2}else throw w;
P+=String.fromCharCode(M)}m+=P}return[m,v]}function V(v,q,R){var m=l(v,q);for(var n=0;n<q;n++){R.push(n);
if(m[n]>r)throw"e";m[n]=c(m[n],R);R.pop()}return m}var y={};function c(q,R){if(W.indexOf(q)!=-1)return b[q];
if(q==0)return null;if(b[q]==null)return null;if(!(b[q]instanceof Uint8Array))return b[q];var m=d,v=0;
d=b[q];W.push(q);var E=X[q].toString(16),e=b[q]={_type:Q[E]?Q[E]+":"+E:"typ-"+E,_eid:q};while(v+8<d.length){var w=Z(v);
v+=4;var M=Z(v);v+=4;var P=w.toString(16),I=v+M;if(v+M>d.length){e._bin=d;break}S(P,D,e,v,M,R);v=I}d=m;
W.pop();return e}function S(q,R,m,v,E,e){var w=R[q+":"+m._type];if(w==null)w=R[q];e.push(w?w[0]==""?q:w[0]:q);
if(w){var M=w[0],P=null,I=w[1];if(M=="")M=I+"-"+q;if(G[I]&&E!=G[I]){console.log(I);console.log(q,w);
console.log(d.slice(v,v+E));throw"e"}if(I=="mat")P=L(v,6);else if(I=="mmat")P=[c(Z(v),e),E==6?[1,0,0,1,0,0]:L(v+6,6)];
else if(I=="rect")P=L(v,4);else if(I=="mrct"){P=L(v,4);P.push(z(v+32))}else if(I=="doub")P=a(v);else if(I=="pointArr"){var k=z(v);
P=l(v+2,k*2)}else if(I=="usrt")P=z(v);else if(I=="uint")P=Z(v);else if(I=="pntr"||I=="ptr6"){P=c(Z(v),e)}else if(I=="bool2"){if(Y(v)!=0&&Y(v)!=1)throw Y(v);
P=Y(v)==1}else if(I=="bool4"){if(Z(v)>60)throw q+","+Z(v);P=Z(v)==1}else if(I=="color"){if(E!=38&&E!=30&&E!=22&&E!=94)throw E;
var o=Z(v),af=Y(v+4);P=[o];for(var n=0;n<af;n++)P.push(a(v+6+n*8))}else if(I=="path"){var J=v+E;P=[];
var at=Z(v);v+=4;for(var n=0;n<at;n++){var ke=[[]];P.push(ke);var c_=Z(v);v+=4;for(var ag=0;ag<c_;ag++){var o=Z(v);
v+=4;if(o<2){ke[0].push([o,a(v),a(v+8),a(v+16),a(v+24),a(v+32),a(v+40)]);v+=48}else if(o==2){ke[0].push([o,a(v),a(v+8)]);
v+=16}else throw o}var dz=z(v);if(dz!=0&&dz!=1&&dz!=256){console.log("unknown last",dz);P.pop();break}ke.push(dz);
v+=2}}else if(I=="ptrAndList"){var kL=Z(v),P=[];if(E>4){var aq=Z(v+4);if(aq>600)throw aq;P=V(v+8,aq,e)}P.unshift(c(kL,e))}else if(I=="ptrArray"||I=="ptrArrayX"){var dh=E>>2;
if(I=="ptrArray"){dh=Z(v);v+=4;if(E!=4+dh*4)throw E}P=V(v,dh,e)}else if(I=="ptrArray2"){var dh=Z(v);
v+=4;P=V(v,dh,e);v+=dh*4;dh=Z(v);v+=4;P.push(V(v,dh,e))}else if(I=="cldrn"){var gK=Z(v),ad=Z(v+4),dh=Z(v+8);
P={Y:c(gK,e),ST:c(ad,e),IZ:V(v+12,dh,e)};if(E!=12+dh*4){console.log(q,sa);throw"e"}if(gK==0)throw gK}else if(I=="aprnc"){var dh=Z(v);
v+=4;P={};for(var n=0;n<dh;n++){var dc=Z(v),lq=Y(v+4),hn=Y(v+6);v+=8;var dF=s[dc.toString(16)];if(dF==null)dF="prm-"+dc.toString(16);
else dF=T(dF);P[dF]=[];for(var ag=0;ag<hn;ag++){var c3=Z(v),i8=Y(v+4),dr=null;v+=6;if(c3==28264)dr=a(v);
else if(c3==28263)dr=Z(v);else if(c3==279||c3==6917)dr=c(Z(v),e);else if(c3==28261)dr=z(v)==1;else if(c3==28265)dr=[a(v),a(v+4)];
else if(c3==6914||c3==83231)dr=H(v)[0];else if(c3==28259||c3==28260||c3==23094||c3==67679){dr=d.slice(v,v+i8)}else throw c3.toString(16);
P[dF].push(dr);v+=i8}}}else if(I=="lopts"){var jO=8;if(g&&Y(v+jO)<2)jO+=2;if(!g&&(Z(v+jO)==0||Z(v+jO)==65536))jO+=2;
P={aq9:Y(v+0)==1,show:Y(v+2)==1,aek:Y(v+4)==1,wo:Z(v+jO),name:H(v+jO+8)[0]}}else if(I=="origin"){var J=v+E;
if(d[v++]!=1)throw"e";var k=Z(v);v+=4;var d1=B.o3(d,v,k);v+=k;v++;var h3=d[v++],d5=Y(v);v+=2;var em=Z(v);
v+=4;if(em!=0&&em!=1)throw em;var fl=Z(v);v+=4;if(fl!=0&&fl!=2&&fl!=3)throw fl;var lA=p(v);v+=4;var av=H(v,!0);
v=av[1];av=av[0];var ah=p(v),gE=p(v+4);v+=8;var fj=p(v);v+=4;if(fj!=0&&fj!=2)throw fj;var bR=p(v);v+=4;
var bD=H(v)[0];v+=2+2+bD.length+3;P={file:d1,id:av,Cm:bD}}else if(I=="string")P=H(v)[0];else if(I=="relEnt"){var e1=Y(v);
v+=2;P=[];for(var n=0;n<e1;n++)P.push([Z(v+n*8),c(Z(v+n*8+4),e)])}else if(I=="textData"){var J=v+E,am=Z(v);
v+=4;var dc=Z(v);v+=4;var af=Y(v);v+=2;var dj=[];for(var n=0;n<af;n++){var ja=Z(v);v+=4;if(am==514)dj.push(H(v,!0)[0]);
else if(am==515){var aj=Z(v),q=Z(v+4),dS=C(v+8,e);dj.push([aj,c(q,e),dS])}else if(am==516){var aj=Z(v),q=Z(v+4),eW=Y(v+8),dS=C(v+8,e);
dj.push([aj,c(q,e),dS])}else dj.push(d.slice(v,v+ja));v+=ja}if(J-v!=12)throw J-v;P=dj}else if(I=="storyProps"){var be=v;
if(Y(be+4)>1)throw"e";var af=Z(be+10);P={abr:Z(be),aDX:c(Z(be+6),e),IZ:V(be+14,af,e),aka:c(Z(be+14+af*4),e)}}else if(I=="styleProps")P=C(v,e);
else if(I=="bounds"){var be=v,e1=Z(v);v+=4;P=[];for(var n=0;n<e1;n++){var cI=[];P.push(cI);for(var ag=0;
ag<4;ag++)cI.push(a(v+ag*8));v+=32;cI.push(d[v]);v++}if(v!=be+E)throw"e"}else if(I=="columnPos"){var e1=Z(v);
v+=4;P=[L(v,e1),a(v+e1*8)];v+=e1*8+8}else if(I=="StyleName"){P=[Z(v+4)]}else if(I=="fontName"){var J=v+E;
P=[Y(v)];v+=2;if(P[0]==2){v=J}else if(P[0]==3){for(var n=0;n<2;n++){if(Y(v+3)==0){v+=7;continue}var d1=H(v);
v=d1[1];P.push(d1[0])}var kP=Z(v);v+=4;if(kP==0){v=J}else{var d1=H(v);v=d1[1];P.push(d1[0]);var d1=H(v);
v=d1[1];P.push(d1[0]);var d1=H(v);v=d1[1];P.push(d1[0]);v+=10}v=J}else{if(P[0]!=1&&P[0]!=4)throw P[0];
for(var n=0;n<2;n++){var d1=H(v);v=d1[1];P.push(d1[0])}var i0=Y(v),ac=Y(v+2);v+=4;P.push(i0);var kP=Y(v);
v+=2;P.push(kP);var jR=Y(v);v+=2;var eo=[];P.push(eo);for(var eP=0;eP<jR;eP++){var as=[];eo.push(as);
var d1=H(v);v=d1[1];as.push(d1[0]);var kF=Y(v);if(kF<256){v+=2;var d1=B.o3(d,v,kF);v+=kF;as.push(d1)}else{var d1=H(v);
v=d1[1];as.push(d1[0])}for(var n=0;n<3;n++){var d1=H(v);v=d1[1];as.push(d1[0])}var kW=Z(v);as.push(kW);
v+=4;if(Z(v)>65535)x=!1;if(!x)continue;var d1=H(v,!0);v=d1[1];as.push(d1[0])}P.push(Z(v));v+=4}if(v!=J){v=J;
console.log("strange fontName")}}else throw I;if(m[M]!=null){console.log(M,m[M],P);console.log(e.slice(0));
console.log(eid,q,v,m[M],w,P);throw"e"}m[M]=P}else{var hs=d.slice(v,v+E);m["prop-"+q]=hs}e.pop()}function C(v,q){var R=Y(v);
v+=2;var m={};for(var n=0;n<R;n++){var E=Z(v);v+=4;var e=E.toString(16),w=Y(v);v+=2;var M=Y(v);v+=2;
for(var P=0;P<M;P++){var I=Z(v);v+=4;var k=Y(v);v+=2;S(e,N,m,v,k,q);v+=k}}return m}function K(q){g=!0;
x=!0;d=new Uint8Array(q);b=$();var R=b[2147483649];R=B.I$(R,4,R.length-4);delete b[2147483649];r=0;for(var m in b)r=Math.max(r,parseInt(m));
W=[];var E={};for(var m in b)E[m]=b[m];var e=b[1];if(e[0]==0)g=!1;for(var m in b)c(parseInt(m),[]);return b}function T(q){q=q.split(" ").join("");
return q[0].toLowerCase()+q.slice(1)}var D={"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},N={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},G={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},s={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},Q={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return K}();function fs(){}fs.lS=function(){var d=0;function v(p,U){var l=d2.lS(p),K=1;d=0;var L=l[1],j=L.spreads,O=[],F=new iW;
for(var i=0;i<j.length;i++){var $=j[i],H=$.children;if(H==null)continue;var b=H.IZ,r=h($),W=b[0].children.IZ,V=new iW;
for(var y=0;y<W.length;y++){var c=W[y],S=h(c);S.concat(r);var C=t(c);C.offset(S.r2,S.pE);C=f.Q.kI(C);
V=V.Ue(C)}O.push(V);F=F.Ue(V)}while(Math.sqrt(F.k())*K<1e3)K++;while(F.k()*K*K*4>2e9)K/=2;U.r=F.r*K;
U.$=F.$*K;U.buffer=new Uint8Array(4*U.r*U.$);U.Um=!0;U.u3=Math.round(72*K);U.q7(j.length);for(var i=0;
i<j.length;i++){var $=j[i],H=$.children;if(H==null)continue;var b=H.IZ,T=U.vv();T.Xw=24;T.add.lsct=f$.fG;
T.qv("Artboard "+(i+1));var D=O[i].b();D.offset(-F.x,-F.y);D.x*=K;D.y*=K;D.r*=K;D.$*=K;D=f.Q.kI(D);T.In(D);
T.uF="pass";U.U.push(U.Rw());var r=h($);r.translate(-F.x,-F.y);r.scale(K,K);var N={};for(var G=0;G<b.length-1;
G++){var s=b[G],Q=s.children;if(Q==null)continue;Q=Q.IZ;var q=U.vv(),R=s.layer;if(R==null)continue;var m=R.lopts;
if(m.name=="Internal_pages_layer_name"||N[m.name])continue;N[m.name]=!0;q.Xw=24;q.add.lsct=f$.fG;q.qv(m.name);
q.fF(m.show);if(m.aq9)q.add.lspf=1<<31;q.uF="pass";U.U.push(U.Rw());for(var n=0;n<Q.length;n++)Y(Q[n],U,r,l);
U.U.push(q)}U.U.push(T)}}function t(p){var U=p.rect;return new iW(U[0],U[1],U[2]-U[0],U[3]-U[1])}function h(p){var U=p.transform;
if(U==null)U=new gi;return new gi(U[0],U[1],U[2],U[3],U[4],U[5])}function X(p){var U=p.color,l=p.parentFill,j;
if(U==null&&l)U=l.color;if(U==null){console.log("strange color",p);return[0,0,0]}var L=U[0];if(L==5)j=U.slice(1);
else if(L==6)j=UDOC.C.cmykToRgb(U.slice(1));else if(L==7){var O=f.C3(U[1],U[2],U[3]);j=[O.C/255,O.L/255,O.X/255]}else if(L==9)j=[U[1],U[1],U[1]];
else if(L==14){j=U.slice(1);console.log("unsure about the color")}else{console.log(U);throw L}return j}function g(p){var U=X(p);
return f.iF.Zi({C:U[0]*255,L:U[1]*255,X:U[2]*255})}function x(p){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[p]}function Z(p,U){var n=0,l=0;
while(p[n+1]&&l+p[n][0]<=U){l+=p[n][0];n++}p=p[n][1].textData;n=0;while(p[n+1]&&l+p[n][0]<=U){l+=p[n][0];
n++}return p[n]}function Y(p,U,l,L){var j=p.transform?h(p):new gi;j.concat(l);var O=p.path,F=p.appearance,i=p.visible,$=p.children?p.children.IZ:null,H=U.vv();
if(i!=null)H.fF(i);var b=$&&$.length==1&&$[0]&&$[0].bitmapFill,r=p["bool2-1623"]&&$&&$.length==1&&$[0].rect&&$[0]._type.startsWith("TextFrame");
if(b){H.qv("bitmap");var W=$[0],V=t(W),y=h(W),D=null;y.concat(j);var c=W.bitmapFill.bitmap;c=L[c]._bin;
if(c==null)return;if(c.length!=c.buffer.byteLength)c=c.slice(0);if(c[0]==123){console.log("unknown bitmap format");
return}var S=b3.IF(c.buffer);if(["jpg","tiff","png","gif","webp"].indexOf(S)==-1){alert("unsupported bitmap format:"+S);
return}var C=U.b0(c,"img.jpg",0,0);C.Xw=H.Xw;H=C;var K=[0,0,V.r,0,V.r,V.$,0,V.$];f.Q.M(K,y,K);H.add.SoLd.Trnf=A.hZ.gX(K);
H.add.SoLd.nonAffineTransform=A.hZ.gX(K);H.Lc(U,!1);var T=W.path;if(T&&T.length!=0)D=z(T,y,F);else if(O&&O.length!=0)D=z(O,j,F);
if(D){var N=f.t.ft(D.D),G=f.Q.mo(K);if(N.k()/G.hL(N).k()>1.1){if(N.contains(G))D=null;var s=p.children;
p.children=null;Y(p,U,l,L);p.children=s}}if(D)H.add.vmsk=D;H.bB();H.tG(U)}else if(r){if(F&&F.strokeSwatch){var Q=U.vv();
a(Q,U,F,O,j);U.U.push(Q)}var q=$[0],V=t(q),y=h(q),dz=0;y.concat(j);var R=q.children.IZ[0],m=R.obj228,E=m[0].story[1],e=E.stoProps.aDX.relEnt,w=E.stoProps.IZ[0].relEnt;
if(w==null)w=E.stoProps.IZ[2].relEnt;var M=E.stoProps.IZ[1];if(M["ptrArrayX-210"]==null)M=E.stoProps.IZ[6];
if(M["ptrArrayX-210"][0]==null)return;M=M["ptrArrayX-210"][0].textData;var P=L[e[0][1].textData[0][1].name[0]],I=P?P.styProps:{};
M=M.join("").replace(/\r/g,"\n");var k=-1;while((k=M.indexOf("\uFFFC"))!=-1){M=M.slice(0,k)+(M[k-1]=="\n"?" ":" ")+M.slice(k+1)}H.qv(M.slice(0,255));
H.add.lnsr="rend";H.add.TySh=jM.de(0,0);H.add.TySh.LS=V;H.add.TySh.M=y;var o=H.add.TySh.Oo;jM.Uh(o,0,M);
var af=jM.Sj(o,0,M.length);af.Uy.FontSize=10;jM.yx(o,0,M.length,af);var J=[];if(M.length!=0){var at=Z(e,0),ke=Z(w,0),c_=1;
for(var n=1;n<M.length;n++){var O=Z(e,n),ag=Z(w,n);if(O!=at||ag!=ke){J.push(c_);c_=0}at=O;ke=ag;c_++}if(c_!=0)J.push(c_)}for(var n=0;
n<J.length;n++){var kL=Z(w,dz),aq=J[n],dh=Math.min(dz+aq,M.length-1),gK=kL[2],ad=kL[1]?kL[1].styProps:null;
if(ad==null)ad={};var dc=Z(e,dz),lq=dc[1].styProps,hn=dc[2],dF={};for(var c3 in I)dF[c3]=I[c3];for(var c3 in lq)dF[c3]=lq[c3];
for(var c3 in hn)dF[c3]=hn[c3];for(var c3 in ad)dF[c3]=ad[c3];for(var c3 in gK)dF[c3]=gK[c3];dF.FontCaps=dF.FontCaps&3;
var af=jM.Sj(o,dz,dh),i8=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],dr=i8.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var jO=0;jO<dr.length;jO++){var c3=dr[jO],d1=jO<i8.length?af.Uy:af.eE;if(dF[c3]!=null)d1[c3]=dF[c3]}if(dF.fillColor){var h3=X(dF.fillColor);
af.Uy.FillColor={Type:1,Values:[1].concat(h3)}}if(dF.font){var d5=dF.font.name[5],em=dF.fontStyle;if(em==null)em="Regular";
if(d5)for(var fl=0;fl<d5.length;fl++)if(d5[fl][0]==em)jM.aW(af,d5[fl][1])}if(dF.leading!=null&&dF.leading>1){af.Uy.Leading=dF.leading;
af.Uy.AutoLeading=!1}if(dF.align!=null)af.eE.Justification=[0,2,1,6,3,5,4,0,0,0][dF.align];jM.yx(o,dz,dh,af);
dz+=aq}jM.kM(o,1);jM.eg(o,[0,0,Math.round(V.r),Math.round(V.$)])}else if(p._type.startsWith("Path")&&($==null||$.length==0)&&O){a(H,U,F,O,j)}else{var lA=p["prop-14526"];
if($==null&&lA){var av=L[B.ij(lA,20)];$=[av]}if($){if(O&&O.length!=0){H.add.vmsk=z(O,j,F);H.bB();H.tG(U)}H.qv("group");
H.Xw=24;H.add.lsct=f$.fG;U.U.push(U.Rw());for(var n=0;n<$.length;n++)if($[n])Y($[n],U,j,L)}}if(F){var ah=F.objectBlendingMode,gE=F.objectOpacity,fj=F.fillTint,bD=!1;
if(ah)H.uF=x(ah[0]);if(gE)H.JS=Math.round(H.JS*gE[0]/100);if(!b&&fj)H.JS=Math.round(H.JS*fj[0]/100);
var bR=JSON.parse(kV.default);for(var n=0;n<kV.order.length;n++)bR[kV.dv[n]]={t:"VlLs",v:[]};var e1="dropShadow innerShadow satin bevel iglow oglow".split(" "),am="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var n=0;n<e1.length;n++){var dj=e1[n];if(F[dj]&&F[dj][0]){var ja=F[dj],dS=135,eW=10;bD=!0;var aj=JSON.parse(kV.v0[kV.order.indexOf(am[n])]);
bR[kV.dv[kV.order.indexOf(am[n])]].v.push({t:"Objc",v:aj});if(F[dj+"Color"])aj.Clr.v=g(F[dj+"Color"][0]);
else if(e1[n]=="iglow"||e1[n]=="oglow")aj.Clr.v=f.iF.Zi({C:255,L:255,X:255});if(F[dj+"ColorH"])aj.hglC.v=g(F[dj+"ColorH"][0]);
if(F[dj+"ColorS"])aj.sdwC.v=g(F[dj+"ColorS"][0]);if(F[dj+"BMode"])aj.Md.v.BlnM=gL.V6(x(F[dj+"BMode"][0]));
if(F[dj+"BModeH"])aj.hglM.v.BlnM=gL.V6(x(F[dj+"BModeH"][0]));if(F[dj+"BModeS"])aj.sdwM.v.BlnM=gL.V6(x(F[dj+"BModeS"][0]));
if(F[dj+"Opacity"])aj.Opct.v.val=F[dj+"Opacity"][0];if(F[dj+"OpacityH"])aj.hglO.v.val=F[dj+"OpacityH"][0];
if(F[dj+"OpacityS"])aj.sdwO.v.val=F[dj+"OpacityS"][0];if(F[dj+"Size"])aj.blur.v.val=F[dj+"Size"][0];
if(F[dj+"Angle"])dS=F[dj+"Angle"][0];if(F[dj+"Dist"])eW=F[dj+"Dist"][0];if(F[dj+"DX"]){var be=F[dj+"DX"][0],cI=F[dj+"DY"]?F[dj+"DY"][0]:0;
eW=Math.round(Math.sqrt(be*be+cI*cI));dS=Math.round(Math.atan2(cI,-be)*180/Math.PI)}if(aj.lagl)aj.lagl.v.val=dS;
if(aj.Dstn)aj.Dstn.v.val=eW;if(aj.uglg)aj.uglg.v=!1;if(F[dj+"Invert"])aj.Invr.v=F[dj+"Invert"][0];else if(e1[n]=="satin")aj.Invr.v=!1;
if(F[dj+"Alt"])aj.Lald.v.val=F[dj+"Alt"][0];if(F[dj+"Depth"])aj.srgR.v.val=F[dj+"Depth"][0];if(F[dj+"Choke"])aj.Ckmt.v.val=F[dj+"Choke"][0]}}if(bD)H.add.lmfx=bR}if(p.name)H.qv(p.name);
else if(F&&F.name)H.qv(F.name[0]);U.U.push(H)}function a(p,U,l,L,j){p.qv("path");p.Xw|=16;p.add.vmsk=z(L,j,l);
var O=p.add.vstk=kV.UY.yu(),F=f.iF.Zi({C:0,L:0,X:0});if(l){var i=l.strokeSwatch,$=l.fillSwatch,H=l.basicFeather,b=l.basicFeatherWidth,r=l.strokeWeight;
O.strokeEnabled.v=i!=null;O.fillEnabled.v=$!=null;if(H)p.add.vmsk.mO=b?b[0]:9;if(i){O.strokeStyleLineWidth.v.val=r?r[0]:1;
F=g(i[0]);O.strokeStyleContent.v.Clr.v=F}if($){F=g($[0])}}if(F)p.add.SoCo={classID:"null",Clr:{t:"Objc",v:F}};
p.bB();p.tG(U)}function z(p,U,l){var L=new jn.rz,j=L.D;for(var O=0;O<p.length;O++){var F=p[O],i=F[0].length,$=F[1]==0;
if(i==0)continue;var H=$?0:3;j.push({e:H,length:i,qG:0,Dk:2,xu:0,L8:0});for(var n=0;n<i;n++){var b=F[0][n],r=b[0],W=new cK(b[1],b[2]),V=new cK(b[3],b[4]),y=new cK(b[5],b[6]);
if(r==0||r==1)j.push({e:H+2,dH:W,Z:V,KU:y});else if(r==2)j.push({e:H+2,dH:W,Z:W,KU:W});else throw r}}f.t.kh(j,U);
return L}return v}();function c6(){}c6.n_=async function(d,v,t){if(t==null){t=8*1024*1024}var h=await d.slice(v,v+t),X=await h.arrayBuffer();
return new Uint8Array(X)};c6.aAC=function(d,v){var t=d[v],h=t,X=1;while(!(t&128)){++X;t=t<<1&255}t&=127;
t>>>=X-1;for(var n=1;n<X;++n){var g=d[v+n];t*=256;t+=g;h*=256;h+=g}return[t,X,h]};c6.vW=function(d,v,t){var h=d[v],X=h&128,g=h&127;
for(var n=1;n<t;++n){X*=256;g*=256;g+=d[v+n]}return g-X};c6.BT=function(d,v,t){var h=d[v];for(var n=1;
n<t;++n){h*=256;h+=d[v+n]}return h};c6.agE=function(d){var v=1,t=c6.BT(d,v,1),a="hvc1",p=0,U=!1,l="";
v+=1;var h=t>>6,X=(t&32)>>5,g=t&31,x=c6.BT(d,v,4);v+=4;var Z=d.slice(v,v+6);v+=6;var Y=c6.BT(d,v,1);
a+=".";switch(h){case 0:a+="";break;case 1:a+="A";break;case 2:a+="B";break;case 3:a+="C";break}a+=g;
a+=".";var z=x;for(var n=0;n<32;n++){p|=z&1;if(n==31)break;p<<=1;z>>=1}a+=p.toString(16);a+=".";if(X===0){a+="L"}else{a+="H"}a+=Y;
for(n=5;n>=0;n--){if(Z[n]||U){l="."+Z[n].toString(16)+l;U=!0}}a+=l;return a};c6.x$=function(d,v){this.r6=!1;
this.Xe=d;this.position=0;this.qm=[];this.ge=[];this.Kj=[];this.pn=[];this.jf=!0;this.a31=0;this.sH=10;
this.dp=6;this.f$=[];this.DF=-2;this.av3=[];this.Dx;this.PX;this.Ub=v;this.O_;this.BZ;this.ax$=-1;this.frames;
this.fN=null;this.Tg=null;this.Jk=null};c6.x$.rB=async function(){if(!this.r6){await this.pg()}return this.O2};
c6.x$.A4=function(d){var v=this.ge[this.position],t;if(this.jf&&v==this.a31)this.jf=!1;if(!this.Ub){if(this.Kj[v]){this.PX.drawImage(d,0,0);
t=this.PX.getImageData(0,0,this.O2.k1.width,this.O2.k1.height).data}if(this.pn[this.position]==0)d.close()}try{if(this.qm[v]){if(this.Ub){this.qm[v](d)}else if(this.Kj[v]){this.qm[v](t)}}var h=this.position-this.sH;
if(h>=0){var X=this.ge[h];delete this.C1[X];delete this.qm[X];this.Kj[X]=!1}this.position++}catch(cQ){console.log(v);
console.log(this.qm[v]);console.log(cQ)}};c6.x$.Ju=async function(d){if(this.pn[this.position]==0){if(this.Ub){createImageBitmap(d).then(img=>{this.A4(img)});
d.close()}else{this.A4(d)}}else{var v=this.pn[this.position];createImageBitmap(d,{resizeWidth:d.alv>>v,resizeHeight:d.a7X>>v}).then(img=>{this.A4(img)});
d.close()}};c6.x$.W5=async function(d,v,l6=0){if(!this.r6){await this.pg()}if(!this.Tg){await this.alh();
if(this.Tg.state!="configured"){console.log("Could not make decoder.");return}}if(this.O_.length<=d){console.log("Requested track does not exist");
return}var t=this.O_[d],g,x,Z;if(v>=this.O2.k1.Hr||v<0){console.log("Requested frame out of range");
return}var h=v;v=this.PA(v);this.Kj[v]=!0;var X=v-this.DF;if(this.jf){X=1;this.a31=v}if(v!=this.DF+1){x=this.f$[this.f$.length-1];
for(var n=0;n<this.f$.length;++n){if(v<this.f$[n]){x=this.f$[n-1];break}}if(x==this.ax$){if(v>this.ge[this.ge.length-1]){x=this.ge[this.ge.length-1]+1}else if(this.C1[v.toString()]){x=this.ge[this.ge.length-1]+1}else{for(var n=this.ge.length-this.dp;
n<this.ge.length;++n){if(this.ge[n]==v){x=this.ge[this.ge.length-1]+1;break}}}}else{this.ax$=x;for(var n=this.ge.length-this.dp;
n<this.ge.length;++n){if(this.ge[n]==v){x=this.ge[this.ge.length-1]+1;break}}}}else{x=0;if(this.ge.length>0){x=this.ge[this.ge.length-1]+1}}if(x<this.frames){Z=Math.min(v+this.dp,this.frames);
for(var n=x;n<Z;++n){this.C1[n]=new Promise(function(Y,a){g=Y});this.qm[n]=g;this.ge.push(n);this.pn.push(l6);
if((n-v)%X==0)this.Kj[n]=!0}this.aNf(t,x,Z)}this.DF=v;if(this.jf)await new Promise(resolve=>setTimeout(resolve,200));
if(this.jf){this.sH+=10;this.dp+=6;this.W5(d,h+1,l6)}return this.C1[v.toString()]};var eF=function(d){function v(x,Z){var Y=[];
for(var n=0;n<9;n++){var a=B.BT(x,Z+n*4);if(n%3==2)Y.push((a>>>30)+(a&1073741823)/1073741823);else Y.push((a>>>16)+(a&65535)/65535)}return Y}async function t(x,Z,Y,a,z,p){var U={},l=B.BT,L=B.ZT;
if(Z==null){Z=await c6.n_(x,Y)}var j=a-Y;while(a<z){var O=j,F=B.BT(Z,j);j+=4;var i=B.o3(Z,j,4);j+=4;
if(F==0)F=z-O-Y;if(F==1){F=B.yJ(Z,j);j+=8}var $=O+F,H="".padStart(p,"\t");if(i!="mdat"&&$>Z.byteLength){Z=await c6.n_(x,Y,$)}var b={};
if(i=="mvhd"){var r=Z[j];if(r>1)throw i+"-e";j+=4;if(r==0){b.Qr=l(Z,j);j+=4;b.wy=l(Z,j);j+=4;b.MV=l(Z,j);
j+=4;b.duration=l(Z,j);j+=4}else{b.Qr=B.yJ(Z,j);j+=8;b.wy=B.yJ(Z,j);j+=8;b.MV=l(Z,j);j+=4;b.duration=B.yJ(Z,j);
j+=8}b.MS=l(Z,j);j+=4;b.volume=L(Z,j);j+=2;j+=10;b.avX=v(Z,j);j+=4*9;b.a3c=[];for(var n=0;n<6;n++)b.a3c.push(l(Z,j+n*4));
j+=4*6;b.aKA=l(Z,j);j+=4}else if(i=="tkhd"){var r=Z[j];if(r>1)throw i+"-e";j+=4;if(r==0){b.Qr=l(Z,j);
j+=4;b.wy=l(Z,j);j+=4;b.adJ=l(Z,j);j+=4;j+=4;b.duration=l(Z,j);j+=4}else{b.Qr=B.yJ(Z,j);j+=8;b.wy=B.yJ(Z,j);
j+=8;b.adJ=l(Z,j);j+=4;j+=4;b.duration=B.yJ(Z,j);j+=8}j+=8;b.B=L(Z,j);j+=2;b.af5=L(Z,j);j+=2;b.volume=L(Z,j);
j+=2;j+=2;b.avX=v(Z,j);j+=4*9;b.F0=l(Z,j)>>>16;j+=4;b.uV=l(Z,j)>>>16;j+=4}else if(i=="mdhd"){var r=Z[j];
if(r>1)throw i+"-e";j+=4;if(r==0){b.Qr=l(Z,j);j+=4;b.wy=l(Z,j);j+=4;b.MV=l(Z,j);j+=4;b.duration=l(Z,j);
j+=4}else{b.Qr=B.yJ(Z,j);j+=8;b.wy=B.yJ(Z,j);j+=8;b.MV=l(Z,j);j+=4;b.duration=B.yJ(Z,j);j+=8}b.lang=L(Z,j);
j+=2;b.ti=L(Z,j);j+=2}else if(i=="hdlr"){var W=l(Z,j);j+=4;if(W!=0)throw W;b.tJ=B.o3(Z,j,4);j+=4;b.aeM=B.o3(Z,j,4);
j+=4;b.aKZ=l(Z,j);j+=4;b.Xw=l(Z,j);j+=4;b.ahj=l(Z,j);j+=4;var V=j;while(Z[V]!=0)V++;b.name=B.o3(Z,j,V-j);
j+=V-j+1}else if(i=="stsd"){var W=l(Z,j);j+=4;if(W!=0)throw W;var y=l(Z,j);j+=4;if(y!=1)throw y;var c=l(Z,j);
j+=4;b.av=B.o3(Z,j,4);j+=4;if(b.av=="mett"){b.a8f=B.o3(Z,j,$-j)}else{for(var n=0;n<6;n++)if(Z[j+n]!=0)throw i+"-e";
j+=6;b.aDF=L(Z,j);j+=2;b.auE=L(Z,j);j+=2;b.aeh=L(Z,j);j+=2;b.akK=l(Z,j);j+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(b.av)!=-1){b.afz=l(Z,j);
j+=4;b.au5=l(Z,j);j+=4;b.adm=[L(Z,j),L(Z,j+2)];j+=4;b.a96=[l(Z,j)/(1<<16),l(Z,j+4)/(1<<16)];j+=8;var S=l(Z,j);
j+=4;if(S!=0)throw i+"-e";var C=L(Z,j);j+=2;if(C!=1)throw i+"-e";var K=Z[j];j++;b.amt=B.o3(Z,j,K);j+=31;
b.arL=L(Z,j);j+=2;var T=L(Z,j);j+=2;if(T!=65535)throw i+"-e";if(j!=$)b.ps=await t(x,Z,Y,Y+j,Y+$,p+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(b.av)!=-1){b.gM=L(Z,j);
j+=2;b.ajB=L(Z,j);j+=2;var D=L(Z,j);j+=2;if(D!=0&&D!=65534)throw D;var N=L(Z,j);j+=2;if(N!=0)throw N;
b.Pc=l(Z,j)/(1<<16);j+=4;if(j!=$)b.ps=await t(x,Z,Y,Y+j,Y+$,p+1)}else if(b.av=="CTMD"){b.K=Z.slice(j,$)}else if(b.av=="tx3g"||b.av=="text"||b.av=="mebx"){}else if(b.av=="tmcd"){}else if(b.av=="CRAW"){}else if(b.av=="sowt"){}else throw JSON.stringify(b.av)}}else if(i=="stts"||i=="stsz"||i=="stco"||i=="stsc"||i=="ctts"||i=="elst"){var W=l(Z,j),G=0,q=0;
j+=4;if(i=="stsz"){G=l(Z,j);j+=4}var s=l(Z,j)*(i=="stsc"||i=="elst"?3:i=="stts"||i=="ctts"?2:1);j+=4;
b=[];for(var n=0;n<s;n++){if(G!=0)b.push(G);else{if(i=="elst"){if(n%3==2){var Q=l(Z,j);Q*=1/(1<<16);
b.push(Q)}else b.push(B.vW(Z,j))}else b.push(l(Z,j));j+=4}}for(var n=0;n<s;n++)q+=b[n]}else if(i=="co64"){var W=l(Z,j);
j+=4;if(W!=0)throw W;var s=l(Z,j);j+=4;b=[];for(var n=0;n<s;n++){b.push(B.yJ(Z,j));j+=8}}else if(i=="iinf"){b=[];
j+=2;var R=l(Z,j);j+=4;for(var n=0;n<R;n++){var m=l(Z,j),E=B.o3(Z,j+4,4),e=L(Z,j+12),w=B.o3(Z,j+16,4),O=[E,e,w];
b.push(O);if(m>21)O.push(B.o3(Z,j+21,m-22));j+=m}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp moof traf mvex".split(" ").indexOf(i)!=-1){if(i=="uuid")j+=16;
if(i=="meta")j+=4;b=await t(x,Z,Y,Y+j,Y+$,p+1);if(i=="moof"){b.h=j+Y;b.i1=F}}else if(i=="CMT1"||i=="CMT2"||i=="CMT3"||i=="CMT4"){b=UTIF.decode(Z.slice(j,$))}else if(i=="stss"){b.h=j+Y;
b.i1=F;b.as4=l(Z,j+4)}else if(i=="trex"){b.Xw=l(Z,j);j+=4;b.qf=l(Z,j);j+=4;b.ai7=l(Z,j);j+=4;b.anQ=l(Z,j);
j+=4;b.a2C=l(Z,j);j+=4;b.atW=l(Z,j);j+=4}else if(i=="tfhd"){b.Xw=l(Z,j);j+=4;b.qf=l(Z,j);j+=4;if(b.Xw&1)j+=8;
if(b.Xw&2)j+=4;if(b.Xw&8){b.anQ=l(Z,j);j+=4}}else if(i=="trun"){b.h=j+Y;b.i1=F;b.Xw=l(Z,j);j+=4;b.agW=l(Z,j);
j+=4}else{b.h=j+Y;b.i1=F}j=$;if(i=="trak"||i=="free"||i=="uuid"||i=="traf"||i=="trex"||U.moov&&U.moov.mvex&&(i=="moof"||i=="mdat")){if(U[i]==null)U[i]=[];
U[i].push(b)}else{if(U[i]!=null)throw i;U[i]=b}a=j+Y;if(j>=Z.byteLength){Y+=j;j=0;Z=await c6.n_(x,Y)}}return U}async function h(x){return await t(x,null,0,0,x.size,0)}function X(x,Z){var Y=x.mdia.minf.stbl,a=Y.stsc,z=0,p=0;
for(var n=0;n<a.length;n+=3){var U=(n+3<a.length?a[n+3]:1e4)-a[n],l=p+U*a[n+1];if(p<=Z&&Z<l){while(p+a[n+1]<=Z){z++;
p+=a[n+1]}break}z+=U;p=l}var L=Y.stco;if(L==null)L=Y.co64;var j=L[z];while(p<Z){j+=Y.stsz[p];p++}return[j,Y.stsz[Z]]}function g(x,Z){var Y=x.moov.trak,a=[];
for(var n=0;n<Y.length;n++){if(Y[n].mdia.hdlr.aeM==Z){a.push(Y[n])}}return a}return{lS:h,U5:X,getTracks:g}}();
function jD(d,v){c6.x$.call(this,d,v);this.rB=c6.x$.rB;this.A4=c6.x$.A4;this.Ju=c6.x$.Ju;this.W5=c6.x$.W5;
this.sN;this.als=0;this.a7b=0;this.ast=0;this.y6=null;this.V_=null;this.aA}jD.prototype.iU=function(d){this.av3.push(d)};
jD.prototype.a3R=function(d,n){var v=0,t=d.getUint8(n,!1);n+=1;v=t&127;var h=t>>7;while(h==1){t=d.getUint8(n,!1);
n+=1;h=t>>7;var X=t&127;v=v<<7|X}return[v,n]};jD.prototype.atF=function(d){this.Z0={};var v=new DataView(d.buffer),n=4;
n+=4;while(n<v.byteLength){var t=v.getUint8(n,!1);n+=1;var h=this.a3R(v,n),X=h[0];n=h[1];if(t==3){n+=2;
n+=1}else if(t==4){this.Z0.objectType=v.getUint8(n,!1);n+=1;this.Z0.streamType=v.getUint8(n,!1)>>2;n+=1;
n+=3;this.Z0.maxBitrate=v.getUint32(n,!1);n+=4;this.Z0.avgBitrate=v.getUint32(n,!1);n+=4}else if(t==5){this.Z0.decoderSpecificInfo=d.slice(n,n+X);
n+=X}else{n+=X}}};jD.prototype.a1p=function(d){var v=null,g=0;if(d.aHY){if(d.edts.a6F)v=d.edts.a6F}if(v==null){this.fN=this.frames;
return}var t=this.T2.moov.mvhd.MV,h=d.mdia.mdhd.MV,X=d.mdia.mdhd.duration*1e3/h/this.Df.stsz.length;
this.y6=[];for(var n=0;n<v.length;n+=3){var x;if(v[n+1]==-1)x=-1;else x=v[n+1]*1e3/X/h;var fn=v[n]*1e3/X/t;
this.y6.push(g);this.y6.push(Math.floor(x));this.y6.push(v[n+2]);g+=Math.floor(fn)}this.fN=g;if(this.PA(this.fN-1)>this.frames-1)this.fN--;
if((g+1)*X<d.tkhd.duration*1e3/t){this.y6.push(g);this.y6.push(0);this.y6.push(1);this.fN=Math.floor(d.tkhd.duration*1e3/t/X)}};
jD.prototype.PA=function(d){if(this.y6){for(var n=this.y6.length-3;n>=0;n-=3){if(d>=this.y6[n]){if(this.y6[n+1]==-1)d=this.DF;
else if(this.y6[n+2]==0)d=this.y6[n+1];else d=d-this.y6[n]+this.y6[n+1];break}}}return d};jD.prototype.alh=async function(){this.Tg=new VideoDecoder({output:fy=>this.Ju(fy),error:function(h){console.log(h.message)}});
var d=this.Df.stsd.av;if(d=="avc1"){this.aqH=this.Df.stsd.ps.avcC;var v={codec:"avc1.640034"};v.description=new Uint8Array(await this.Xe.slice(this.aqH.h,this.aqH.h+this.aqH.i1).arrayBuffer());
this.Tg.configure(v)}else if(d=="hev1"||d=="hvc1"){var v={};this.a5S=this.Df.stsd.ps.hvcC;v.description=new Uint8Array(await this.Xe.slice(this.a5S.h,this.a5S.h+this.a5S.i1).arrayBuffer());
var t=c6.agE(v.description);v.codec=t;v.codedWidth=this.O2.k1.width;v.codedHeight=this.O2.k1.height;
this.Tg.configure(v)}else{var v={codec:"vp09.00.10.08"};this.Tg.configure(v)}};jD.prototype.ax6=async function(){this.Jk=new AudioDecoder({output:fy=>this.iU(fy),error:function(d){console.log(d)}});
console.assert(await AudioDecoder.isConfigSupported(this.aLm));this.Jk.configure(this.aLm)};jD.prototype.ajy=async function(){var d=this.T2.moof,v=null,t=this.T2.moov.mvex.trex,x=0;
for(var n=0;n<t.length;++n){if(t[n].qf==this.aA){v=t[n];break}}if(v==null)throw"fmp4 video track not found";
var h=v.anQ;if(h==0){for(var n=0;n<d[0].traf.length;++n){var X=d[0].traf[n].tfhd;if(X.qf==this.aA){h=X.anQ;
break}}}var g=this.O_[0].mdia.mdhd.MV;this.MS=1/(h/g);this.sizes=[];this.gy=[];for(var n=0;n<d.length;
++n){for(var Z=0;Z<d[n].traf.length;++Z){var X=d[n].traf[Z].tfhd;if(X.qf!=this.aA&&X.qf!=this.ahh)continue;
var Y=d[n].traf[Z].trun,a=this.T2.mdat[n].h,z=await this.Xe.slice(Y.h-4,Y.h+Y.i1),p=await z.arrayBuffer(),U=new Uint8Array(p),l=new DataView(U.buffer),L=8+3*4;
if(X.qf==this.aA){this.f$.push(this.sizes.length);while(L<l.byteLength-8){if(Y.Xw&256)L+=4;if(Y.Xw&512){this.sizes.push(l.getUint32(L,!1));
L+=4}if(Y.Xw&1024)L+=4;if(Y.Xw&2048)L+=4}for(var j=0;j<Y.agW;++j){if(j==0)this.gy.push(a);else this.gy.push(this.gy[x+j-1]+this.sizes[x+j-1])}x+=Y.agW}}}};
jD.prototype.pg=async function(){this.T2=await eF.lS(this.Xe);if(this.T2.moov.mvex)this.V_=!0;this.acS={};
this.C1={};this.O_=eF.getTracks(this.T2,"vide");var d=!0,Z=!0;if(this.O_.length>0){var v=this.O_[0],t=v.tkhd;
this.aA=t.adJ;this.Df=v.mdia.minf.stbl;var h=this.Df.stsd.av;if(h=="avc1"||h=="vp09"||h=="hvc1"||h=="hev1"){if(h=="avc1"&&!this.Df.stsd.ps.avcC||(h=="hvc1"||h=="hev1")&&!this.Df.stsd.ps.hvcC){console.log(h+" video codec not supported (avcC missing).");
d=!1}else{if(!this.V_){await this.a7y(this.Df.stss.h+8,this.Df.stss.i1-8);for(var n=0;n<this.aig.byteLength;
n+=4){var X=this.aig.getUint32(n,!1)-1;this.f$.push(X)}var g=v.mdia.mdhd.MV,x=v.mdia.mdhd.duration/g;
this.frames=this.Df.stsz.length;this.MS=this.frames/x;this.a1p(v)}}}else{console.log(h+" video codec not supported.");
d=!1}}this.BZ=eF.getTracks(this.T2,"soun");if(this.BZ.length>0){var Y=this.BZ[0],z;this.ahh=Y.tkhd.adJ;
var a=Y.mdia.minf.stbl,p=a.stsd.gM;if(a.stsd.av=="mp4a"){if(a.stsd.ps.esds){this.azu=a.stsz.length;var U=a.stsd.ps.esds.h,l=a.stsd.ps.esds.i1,L=await this.Xe.slice(U-4,U+l+4),j=await L.arrayBuffer(),O=new Uint8Array(j),F=null;
this.atF(O);z="mp4a.";if(this.Z0.objectType==64){z+=this.Z0.objectType.toString(16);z+=".";z+=(this.Z0.decoderSpecificInfo[0]>>3).toString();
F=this.Z0.decoderSpecificInfo}else{z+=this.Z0.objectType.toString(16).toUpperCase()}if(F){var i=F[0]>>3;
if(i==31){var $=(F[0]&7)<<3|F[1]>>5;i=32+$;var H=F[1]&31>>1;if(H==15){p=(F[4]&1)<<3|F[5]>>5}else{p=(F[1]&1)<<3|F[2]>>5}}else{var H=(F[0]&7)<<1|F[1]>>7;
if(H==15){p=(F[4]&127)>>3}else{p=(F[1]&127)>>3}}}this.aLm={codec:z,numberOfChannels:p,sampleRate:a.stsd.Pc};
if(F){this.aLm.description=F}}else{console.log("Audio codec not supported.");Z=!1}}else{console.log("Audio codec not supported.");
Z=!1}}if(this.V_){await this.ajy();this.frames=this.gy.length;this.fN=this.gy.length}this.O2={};if(d&&this.O_.length>0){this.O2.k1={O_:1,Hr:this.fN,MS:this.MS,width:t.F0,height:t.uV}}if(Z&&this.BZ.length>0&&!this.V_){this.O2.aX={O_:p,MS:a.stsd.Pc,Hr:Y.mdia.mdhd.duration}}if(!this.Ub){this.Dx=new OffscreenCanvas(this.O2.k1.width,this.O2.k1.height);
this.PX=this.Dx.getContext("2d",{willReadFrequently:!0});this.sH=10;this.dp=6}this.r6=!0};jD.prototype.a7y=async function(d,v){this.aI2=await this.Xe.slice(d,d+v).arrayBuffer();
this.aig=new DataView(this.aI2)};jD.prototype.Ll=async function(d,v){var t=Math.min(v+250,this.frames-1),h,X;
if(this.V_){h=this.k3(v);X=this.k3(t)}else{h=eF.U5(d,v);X=eF.U5(d,t)}var g=await this.Xe.slice(h[0],X[0]+X[1]),x=await g.arrayBuffer();
this.sN=new Uint8Array(x);this.als=v;this.a7b=t;this.ast=h[0];return};jD.prototype.k3=function(n){var d=[];
d.push(this.gy[n]);d.push(this.sizes[n]);return d};jD.prototype.aNf=async function(d,v,t){if(v>=this.a7b||t<this.als){await this.Ll(d,v)}for(var n=v;
n<t;++n){if(n>=this.a7b){await this.Ll(d,n)}var h=this.f$.indexOf(n),X=this.V_?this.k3(n):eF.U5(d,n),g=this.sN.slice(X[0]-this.ast,X[0]+X[1]-this.ast),x=new EncodedVideoChunk({timestamp:n,duration:1e3,type:h!=-1?"key":"delta",data:g});
if(this.Tg.state=="configured"){try{this.Tg.decode(x)}catch(t){console.log("CAUGHT unconfigured");console.log(t);
console.log(x)}}else{console.log("unconfigured");delete g}delete g}if(t==this.frames){await this.Tg.flush()}};
jD.prototype.amI=async function(d,v,t){if(!this.Jk){await this.ax6()}if(this.BZ.length<=d){console.log("Requested audio track does not exist");
return}var h=this.BZ[d],X=h.mdia.minf.stbl.stts,g=null,x=null,Z=0,Y=0;for(var n=0;n<X.length;n+=2){if(g==null&&Z+X[n]*X[n+1]>=v){g=Math.ceil(Y+(v-Z)/X[n+1])}if(x==null&&Z+X[n]*X[n+1]>=t){x=Math.ceil(Y+(t-Z)/X[n+1])}if(g&&x){break}Z+=X[n]*X[n+1];
Y+=X[n]}var a=eF.U5(h,g),z=eF.U5(h,x),p=await this.Xe.slice(a[0],z[0]+z[1]),U=await p.arrayBuffer(),l=new Uint8Array(U);
for(var n=g;n<x;++n){var L=eF.U5(h,n),j=l.slice(L[0]-a[0],L[0]+L[1]-a[0]),O=new EncodedAudioChunk({timestamp:n,duration:1e3,type:"key",data:j});
try{this.Jk.decode(O)}catch(cQ){console.log("Error decoding audioframe "+n.toString()+". "+cQ.message)}}try{await this.Jk.flush()}catch(cQ){console.log("CAUGHT flush, but returning");
return this.av3}return this.av3};function gj(d,v,t){this.O2=v;this.QR=d;this.aeE=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.afd=40;this.F0,this.uV;this.zO;this.TY;this.Cu;this.aCw;this.description;this.w9;this.lv;this.$U;
this.tY;this.I3;this.Xu;this.qx=t;this.a1G;this.l_;this.m4;this.aFr;this.a9s;if(this.O2.k1){this.aHl()}if(this.O2.aX){this.aGq()}}gj.prototype.auB=function(d){return new Uint8Array([d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]).buffer};
gj.prototype.aJQ=function(d){var v=new Uint32Array([d]),t=new Uint8Array(v.buffer);return new Uint8Array([t[3],t[2],t[1],t[0]])};
gj.prototype.HO=function(d){this.m4[this.l_]=d;++this.l_};gj.prototype.x2=function(d){this.m4[this.l_]=d>>8&255;
this.m4[this.l_+1]=d&255;this.l_+=2};gj.prototype.aD9=function(d){this.m4[this.l_]=d>>16&255;this.m4[this.l_+1]=d>>8&255;
this.m4[this.l_+2]=d&255;this.l_+=3};gj.prototype.QV=function(d){this.m4[this.l_]=d>>24&255;this.m4[this.l_+1]=d>>16&255;
this.m4[this.l_+2]=d>>8&255;this.m4[this.l_+3]=d&255;this.l_+=4};gj.prototype.gS=function(d){this.a1G.push(this.l_);
this.l_+=4;this.m2(d)};gj.prototype.m2=function(d){for(var n=0;n<d.length;++n){this.m4[this.l_]=d.charCodeAt(n);
++this.l_}};gj.prototype.a6z=function(d){this.m4.set(new Uint8Array(d),this.l_);this.l_+=d.byteLength};
gj.prototype.Lf=function(){var d=this.l_;this.l_=this.a1G.pop();this.QV(d-this.l_);this.l_=d};gj.prototype.ayZ=function(d,v){if(!this.description&&v){if(v.description){this.description=v.description}if(v.decoderConfig&&v.decoderConfig.description){this.description=v.decoderConfig.description}}var t=new ArrayBuffer(d.byteLength);
d.copyTo(t);this.S4(t);this.zO.push({duration:d.duration,timestamp:d.timestamp,type:d.type,byteLength:d.byteLength});
if(d.type=="key"){this.Cu.push(this.zO.length)}};gj.prototype.iU=function(d,v){if(!this.w9&&v){if(v.decoderConfig){this.w9=v.decoderConfig}}var t=new ArrayBuffer(d.byteLength);
d.copyTo(t);this.axL(t);this.TY.push({duration:d.duration,timestamp:d.timestamp,type:d.type,byteLength:d.byteLength});
if(d.type=="key"){this.aCw.push(this.TY.length)}};gj.prototype.S4=function(d){var v=new Uint8Array(this.lv.byteLength+d.byteLength);
v.set(new Uint8Array(this.lv));v.set(new Uint8Array(d),this.lv.byteLength);this.lv=v.buffer;if(this.lv.byteLength>20*1024*1024){this.QR.write(this.lv);
this.lv=new Uint8Array}};gj.prototype.axL=function(d){var v=new Uint8Array(this.$U.byteLength+d.byteLength);
v.set(new Uint8Array(this.$U));v.set(new Uint8Array(d),this.$U.byteLength);this.$U=v.buffer};gj.prototype.aFV=function(){this.a1G=[];
var d=this.afd,v=[],t={},h=9e4,X=this.zO.length,g=this.Cu.length,x=-1,Y=!1,L=1;for(var n=0;n<this.zO.length;
++n){this.tY+=this.zO[n].duration/1e3;this.Xu+=this.zO[n].byteLength;if(this.zO[n].duration!=x){if(n!=0){v.push(t)}x=this.zO[n].duration;
t={duration:9e4*this.zO[n].duration/1e6,sampleCount:1}}else{t.sampleCount=t.sampleCount+1}}this.Xu+=8;
v.push(t);var Z=v.length;if(this.O2.aX){Y=!0}if(Y){var a=[],z=this.TY.length;this.I3=0;var p=this.w9.sampleRate,x=-1;
for(var n=0;n<this.TY.length;++n){this.I3+=this.TY[n].duration/1e3;this.Xu+=this.TY[n].byteLength;var U=Math.round(p*this.TY[n].duration/1e6);
if(U!=x){if(n!=0){a.push(t)}x=U;t={duration:U,sampleCount:1}}else{t.sampleCount=t.sampleCount+1}}a.push(t);
var l=a.length}var j=579+this.description.byteLength+4*X+4*X+4*g+8*Z;if(Y){j+=426+this.w9.description.byteLength+4*z+4*z+8*Z;
L=2}this.m4=new Uint8Array(j);this.l_=0;this.gS("moov");this.gS("mvhd");this.QV(0);this.QV(0);this.QV(0);
this.QV(1e3);this.QV(this.tY);this.QV(65536);this.x2(256);this.x2(0);this.QV(0);this.QV(0);this.QV(65536);
this.QV(0);this.QV(0);this.QV(0);this.QV(65536);this.QV(0);this.QV(0);this.QV(0);this.QV(1073741824);
this.QV(0);this.QV(0);this.QV(0);this.QV(0);this.QV(0);this.QV(0);this.QV(2);this.Lf();for(var O=0;O<L;
++O){this.gS("trak");this.gS("tkhd");this.QV(7);this.QV(0);this.QV(0);this.QV(1);this.QV(0);if(O==1)this.QV(this.I3);
else this.QV(this.tY);this.QV(0);this.QV(0);this.x2(0);this.x2(0);this.x2(256);this.x2(0);if(O==1){this.QV(1);
this.QV(0);this.QV(0);this.QV(0);this.QV(1);this.QV(0);this.QV(0);this.QV(0);this.QV(1);this.QV(this.F0*0);
this.QV(this.uV*0)}else{this.QV(65536);this.QV(0);this.QV(0);this.QV(0);this.QV(65536);this.QV(0);this.QV(0);
this.QV(0);this.QV(1073741824);this.QV(this.F0*65536);this.QV(this.uV*65536)}this.Lf();this.gS("mdia");
this.gS("mdhd");this.QV(0);this.QV(0);this.QV(0);if(O==1){this.QV(this.w9.sampleRate);this.QV(this.I3/1e3*this.w9.sampleRate)}else{this.QV(h);
this.QV(this.tY/1e3*h)}this.HO(85);this.HO(196);this.x2(0);this.Lf();this.gS("hdlr");this.QV(0);this.QV(0);
if(O==1){this.m2("soun");this.QV(0);this.QV(0);this.QV(0);this.m2("SoundHandler");this.HO(0)}else{this.m2("vide");
this.QV(0);this.QV(0);this.QV(0);this.m2("VideoHandler");this.HO(0)}this.Lf();this.gS("minf");if(O==1){this.gS("smhd");
this.QV(0);this.x2(0);this.x2(0);this.Lf()}else{this.gS("vmhd");this.QV(1);this.x2(0);this.x2(0);this.x2(0);
this.x2(0);this.Lf()}this.gS("dinf");this.gS("dref");this.QV(0);this.QV(1);this.gS("url ");this.QV(1);
this.Lf();this.Lf();this.Lf();if(O==1){this.gS("stbl");this.gS("stsd");this.QV(0);this.QV(1);this.gS("mp4a");
this.x2(0);this.x2(0);this.x2(0);this.x2(1);this.QV(0);this.QV(0);this.x2(this.w9.numberOfChannels);
this.x2(16);this.x2(0);this.x2(0);this.x2(this.w9.sampleRate);this.x2(0);this.gS("esds");this.QV(0);
this.HO(3);this.HO(25);this.x2(0);this.HO(0);this.HO(4);this.HO(17);this.HO(64);this.HO(21);this.aD9(0);
this.QV(16e4);this.QV(16e4);this.HO(5);this.HO(2);this.a6z(this.w9.description);this.HO(6);this.HO(1);
this.HO(2);this.Lf();this.Lf();this.Lf();this.gS("stts");this.QV(0);this.QV(l);for(var n=0;n<l;++n){this.QV(a[n].sampleCount);
this.QV(a[n].duration)}this.Lf();this.gS("stsc");this.QV(0);this.QV(1);this.QV(1);this.QV(1);this.QV(1);
this.Lf();this.gS("stsz");this.QV(0);this.QV(0);this.QV(z);for(var n=0;n<z;++n){this.QV(this.TY[n].byteLength)}this.Lf();
this.gS("stco");this.QV(0);this.QV(z);for(var n=0;n<z;++n){this.QV(d);d+=this.TY[n].byteLength}this.Lf();
this.Lf()}else{this.gS("stbl");this.gS("stsd");this.QV(0);this.QV(1);this.gS("avc1");this.x2(0);this.x2(0);
this.x2(0);this.x2(1);this.x2(0);this.x2(0);this.QV(0);this.QV(0);this.QV(0);this.x2(this.F0);this.x2(this.uV);
this.QV(4718592);this.QV(4718592);this.QV(0);this.x2(1);for(var n=0;n<8;++n){this.QV(0)}this.x2(24);
this.x2(-1);this.gS("avcC");this.a6z(this.description);this.Lf();this.Lf();this.Lf();this.gS("stts");
this.QV(0);this.QV(Z);for(var n=0;n<Z;++n){this.QV(v[n].sampleCount);this.QV(v[n].duration)}this.Lf();
this.gS("stsc");this.QV(0);this.QV(1);this.QV(1);this.QV(1);this.QV(1);this.Lf();this.gS("stsz");this.QV(0);
this.QV(0);this.QV(X);for(var n=0;n<X;++n){this.QV(this.zO[n].byteLength)}this.Lf();this.gS("stco");
this.QV(0);this.QV(X);for(var n=0;n<X;++n){this.QV(d);d+=this.zO[n].byteLength}this.Lf();this.gS("stss");
this.QV(0);this.QV(g);for(var n=0;n<g;++n){this.QV(this.Cu[n])}this.Lf();this.Lf()}this.Lf();this.Lf();
this.Lf()}this.Lf();return};gj.prototype.abC=async function(d){console.assert(await VideoEncoder.isConfigSupported(d))};
gj.prototype.aHl=function(){var d=Date.now(),v=this.O2.k1.width,t=this.O2.k1.height;this.F0=v;this.uV=t;
this.description=null;this.Cu=[];this.zO=[];this.tY=0;this.Xu=0;this.lv=new Uint8Array;this.S4(new Uint8Array(this.aeE));
this.S4(this.aJQ(0).buffer);this.S4(this.auB("mdat"));this.avG=new VideoEncoder({output:(chunk,opts)=>this.ayZ(chunk,opts),error:cQ=>{console.log(cQ)}});
var h=this.qx*this.F0*this.uV,X=h*this.O2.k1.Hr,g=Math.round(h*24),x={width:this.F0,height:this.uV,codec:"avc1.420034",bitrate:g,acceleration:"prefer-hardware"};
this.abC(x);this.avG.configure(x);this.a9s=0};gj.prototype.an3=async function(d){console.assert(await AudioDecoder.asD(d))};
gj.prototype.aGq=function(){this.$U=new Uint8Array;this.w9=null;this.aCw=[];this.TY=[];var d={codec:"mp4a.40.2",numberOfChannels:this.O2.aX.O_,sampleRate:this.O2.aX.MS,bitrate:16e4};
this.aly=new AudioEncoder({output:(fy,iP)=>this.iU(fy,iP),error:function(v){console.log(v)}});this.an3(d);
this.aly.configure(d)};gj.prototype.rB=function(){return this.O2};gj.prototype.adO=async function(d,v,t){var h=d,X=1e6/this.O2.k1.MS;
if(t%50==0){console.log(Math.round(t/this.O2.k1.Hr*100).toString()+"%")}var g=new VideoFrame(h.buffer,{timestamp:this.a9s,duration:X,format:"RGBA",codedWidth:this.F0,codedHeight:this.uV});
this.avG.encode(g);g.close();this.a9s+=X;delete h;delete d;delete g};gj.prototype.aJv=async function(d,v,t,h){for(var n=0;
n<d.length;++n){this.aly.encode(d[n])}};gj.prototype.finish=async function(){if(this.O2.k1){await this.avG.flush()}if(this.O2.aX){await this.aly.flush()}this.aFV();
this.QR.write(this.lv);if(this.O2.aX){this.QR.write(this.$U)}this.QR.write(this.m4);this.QR.write({e:"write",data:this.aJQ(this.Xu),position:this.afd-8});
return this.QR.close()};var cz=function(d){var v=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],t="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),h=!1,X=c6.aAC,g=c6.BT,x=c6.vW;
function Z(j){for(var n=0;n<v.length;++n){var O=!0;for(var F=0;F<v[n].length;++F){if(j[F]!=v[n][F]){O=!1;
break}}if(O==!0){return t[n]}}}async function Y(j,O,F,i){if(O==null||i<F||i>=F+O.byteLength){O=await c6.n_(j,i);
F=i;i=0}else{i-=F;var $=i,H=X(O,i),b=H[2];i+=H[1];H=X(O,i);var r=H[0];i+=H[1];if(i+r>O.byteLength){O=await c6.n_(j,F+$,r+i-$);
F+=$;i=0}else{i=$}}return[O,F,i]}async function a(j,O,F,i,$){var H=$.i4.CueClusterPosition,C=!1;H+=O.Segment.aDr;
var b=await Y(j,F,i,H);F=b[0];i=b[1];H=b[2];if(F.length==0)return{wt:0,data:F,start:i,NB:null};var r=X(F,H),W=r[2];
H+=r[1];r=X(F,H);var V=r[0];H+=r[1];var y=H;r=X(F,y);W=r[2];y+=r[1];r=X(F,y);V=r[0];y+=r[1];var c=cz.Sy[W];
if(c.s=="CRC-32"){y+=V;r=X(F,y);W=r[2];y+=r[1];r=X(F,y);V=r[0];y+=r[1]}var S=g(F,y,V);if($.i4.CueRelativePosition){H+=$.i4.CueRelativePosition;
r=X(F,H);W=r[2];H+=r[1];r=X(F,H);V=r[0];H+=r[1];if(c.s=="BlockGroup"){C=!0}return{wt:i+H+V,data:F,start:i,NB:l(F.slice(H,H+V),C),timeStamp:S}}else{var K=0;
if($.i4.CueBlockNumber){K=$.i4.CueBlockNumber-1;if(O.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){K++}}V=0;
do{H+=V;r=X(F,H);W=r[2];H+=r[1];r=X(F,H);V=r[0];H+=r[1];c=cz.Sy[W]}while(c.s!="SimpleBlock"&&c.s!="BlockGroup");
for(var n=0;n<K;++n){H+=V;r=X(F,H);W=r[2];H+=r[1];r=X(F,H);V=r[0];H+=r[1]}c=cz.Sy[W];if(c.s=="BlockGroup"){C=!0}return{wt:i+H+V,data:F,start:i,NB:l(F.slice(H,H+V),C),timeStamp:S}}}async function z(j,O,F,i){var $=null,H=await Y(j,O,F,i),c=!1;
O=H[0];F=H[1];i=H[2];if(O.length==0)return{wt:0,data:O,start:F,NB:null};var b=X(O,i),r=b[2];i+=b[1];
b=X(O,i);var W=b[0];i+=b[1];var V=cz.Sy[r];if(V.s!="SimpleBlock"&&V.s!="BlockGroup"){var y="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(y.indexOf(V.s)==-1){do{if(V.s=="Cluster"){W=0}i+=W;H=await Y(j,O,F,F+i);O=H[0];F=H[1];i=H[2];if(O.length==0)return{wt:0,data:O,start:F,NB:null};
b=X(O,i);r=b[2];i+=b[1];b=X(O,i);W=b[0];i+=b[1];V=cz.Sy[r];if(V.s=="Timestamp"){$=g(O,i,W)}}while(V.s!="SimpleBlock"&&V.s!="BlockGroup")}else return{wt:0,data:O,start:F,NB:null}}if(V.s=="BlockGroup"){c=!0}return{wt:F+i+W,data:O,start:F,NB:l(O.slice(i,i+W),c),timeStamp:$}}async function p(j,O,F,i,$){var H={},b=i-F;
if(O==null){O=await c6.n_(j,b);F=b;b=0}while(b+F<$&&!h){var r,W=b+F,V=X(O,b),y=V[2];b+=V[1];V=X(O,b);
var c=V[0];b+=V[1];var S=cz.Sy[y];if(!S){throw"Unknown EBML element "+y.toString(16)}var C=S.s,K=b+c,T=b+F;
if(K>O.byteLength&&C!="Segment"){O=await c6.n_(j,F,K)}if(S.o=="m"&&C=="Cluster"){h=!0;return[b,H]}if(S.o=="m"){var D=await p(j,O,F,F+b,F+K);
b=D[0];D[1].h=W;D[1].aDr=T;if(S.u==1){if(H[C]==null){H[C]=[]}H[C].push(D[1])}else{H[C]=D[1]}if(h){break}}else{if(S.o=="8"){r=B.I$(O,b,c)}else if(S.o=="s"){r=B.o3(O,b,c)}else if(S.o=="b"){r=B.mn(O,b,c)}else if(S.o=="u"){r=g(O,b,c)}else if(S.o=="i"){r=x(O,b,c)}else if(S.o=="f"){if(c==4){r=B._1(O,b)}else if(c==8){r=B.D_(O,b)}else throw"Cannot read float of size "+c.toString()}else if(S.o=="d"){var N=g(O,b,c);
N*=1e-6;N+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();r=new Date(N)}else{r=c}b+=c;if(S.s=="SeekID"){var G=Z(r);
r=G}if(S.u==1){if(H[C]==null){H[C]=[]}H[C].push(r)}else{H[C]=r}}if(b+F<$&&b>=O.byteLength){F+=b;b=0;
O=await c6.n_(j,F)}}return[b,H]}function U(j,O){var F=j.Segment.Tracks.TrackEntry,i=[];for(var n=0;n<F.length;
++n){var $=F[n];if($.TrackType==O){i.push($)}}return i}function l(j,O){var F,i,$,H=0;if(O){F=X(j,H);
var b=F[2];H+=F[1];F=X(j,H);var r=F[0];H+=F[1];i=H+r}F=X(j,H);H+=F[1];var W=F[0],V=x(j,H,2);H+=2;var y=j[H],c=y>>>7;
H+=1;if(O){$=j.slice(H,i)}else{$=j.slice(H)}return[W,V,c,$]}async function L(j){var O=await p(j,null,0,0,j.size);
h=!1;var F=O[1];if(F.Segment.SeekHead){var i=F.Segment.SeekHead;for(var n=0;n<i.length;++n){if(i[n].Seek){for(var $=0;
$<i[n].Seek.length;++$){if(i[n].Seek[$].SeekID=="KaxSeekHead"){var H=i[n].Seek[$].SeekPosition+F.Segment.aDr;
O=await p(j,null,0,H,j.size);h=!1;F.Segment.SeekHead.push(O[1])}else if(i[n].Seek[$].SeekID=="KaxCues"){if(!F.Segment.Cues){H=i[n].Seek[$].SeekPosition+F.Segment.aDr;
O=await p(j,null,0,H,j.size);h=!1;F.Segment.Cues=O[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return F}return{lS:L,getTracks:U,wZ:z,E_:a}}();
cz.Sy={440786851:{s:"EBML",o:"m",u:0},17030:{s:"EBMLVersion",o:"u",u:0},17143:{s:"EBMLReadVersion",o:"u",u:0},17026:{s:"DocType",o:"s",u:0},17031:{s:"DocTypeVersion",o:"u",u:0},17029:{s:"DocTypeReadVersion",o:"u",u:0},17028:{s:"DocTypeExtensionVersion",o:"u",u:0},191:{s:"CRC-32",o:"b",u:0},236:{s:"Void",o:"b",u:1},17138:{s:"EBMLMaxIDLength",o:"u",u:0},17139:{s:"EBMLMaxSizeLength",o:"u",u:0},408125543:{s:"Segment",o:"m",u:0},290298740:{s:"SeekHead",o:"m",u:1},19899:{s:"Seek",o:"m",u:1},21419:{s:"SeekID",o:"b",u:0},21420:{s:"SeekPosition",o:"u",u:0},357149030:{s:"Info",o:"m",u:0},29604:{s:"SegmentUUID",o:"b",u:0},29572:{s:"SegmentFilename",o:"8",u:0},3979555:{s:"PrevUUID",o:"b",u:0},3965867:{s:"PrevFilename",o:"8",u:0},4110627:{s:"NextUUID",o:"b",u:0},4096955:{s:"NextFilename",o:"8",u:0},17476:{s:"SegmentFamily",o:"b",u:1},26916:{s:"ChapterTranslate",o:"m",u:1},27045:{s:"ChapterTranslateID",o:"b",u:0},27071:{s:"ChapterTranslateCodec",o:"u",u:0},27132:{s:"ChapterTranslateEditionUID",o:"u",u:1},2807729:{s:"TimestampScale",o:"u",u:0},17545:{s:"Duration",o:"f",u:0},17505:{s:"DateUTC",o:"d",u:0},31657:{s:"Title",o:"8",u:0},19840:{s:"MuxingApp",o:"8",u:0},22337:{s:"WritingApp",o:"8",u:0},524531317:{s:"Cluster",o:"m",u:1},231:{s:"Timestamp",o:"u",u:0},22612:{s:"SilentTracks",o:"m",u:0},22743:{s:"SilentTrackNumber",o:"u",u:1},167:{s:"Position",o:"u",u:0},171:{s:"PrevSize",o:"u",u:0},163:{s:"SimpleBlock",o:"b",u:1},160:{s:"BlockGroup",o:"m",u:1},161:{s:"Block",o:"b",u:0},162:{s:"BlockVirtual",o:"b",u:0},30113:{s:"BlockAdditions",o:"m",u:0},166:{s:"BlockMore",o:"m",u:1},165:{s:"BlockAdditional",o:"b",u:0},238:{s:"BlockAddID",o:"u",u:0},155:{s:"BlockDuration",o:"u",u:0},250:{s:"ReferencePriority",o:"u",u:0},251:{s:"ReferenceBlock",o:"i",u:1},253:{s:"ReferenceVirtual",o:"i",u:0},164:{s:"CodecState",o:"b",u:0},30114:{s:"DiscardPadding",o:"i",u:0},142:{s:"Slices",o:"m",u:0},232:{s:"TimeSlice",o:"m",u:1},204:{s:"LaceNumber",o:"u",u:0},205:{s:"FrameNumber",o:"u",u:0},203:{s:"BlockAdditionID",o:"u",u:0},206:{s:"Delay",o:"u",u:0},207:{s:"SliceDuration",o:"u",u:0},200:{s:"ReferenceFrame",o:"m",u:0},201:{s:"ReferenceOffset",o:"u",u:0},202:{s:"ReferenceTimestamp",o:"u",u:0},175:{s:"EncryptedBlock",o:"b",u:1},374648427:{s:"Tracks",o:"m",u:0},174:{s:"TrackEntry",o:"m",u:1},215:{s:"TrackNumber",o:"u",u:0},29637:{s:"TrackUID",o:"u",u:0},131:{s:"TrackType",o:"u",u:0},185:{s:"FlagEnabled",o:"u",u:0},136:{s:"FlagDefault",o:"u",u:0},21930:{s:"FlagForced",o:"u",u:0},21931:{s:"FlagHearingImpaired",o:"u",u:0},21932:{s:"FlagVisualImpaired",o:"u",u:0},21933:{s:"FlagTextDescriptions",o:"u",u:0},21934:{s:"FlagOriginal",o:"u",u:0},21935:{s:"FlagCommentary",o:"u",u:0},156:{s:"FlagLacing",o:"u",u:0},28135:{s:"MinCache",o:"u",u:0},28152:{s:"MaxCache",o:"u",u:0},2352003:{s:"DefaultDuration",o:"u",u:0},2313850:{s:"DefaultDecodedFieldDuration",o:"u",u:0},2306383:{s:"TrackTimestampScale",o:"f",u:0},21375:{s:"TrackOffset",o:"i",u:0},21998:{s:"MaxBlockAdditionID",o:"u",u:0},16868:{s:"BlockAdditionMapping",o:"m",u:1},16880:{s:"BlockAddIDValue",o:"u",u:0},16804:{s:"BlockAddIDName",o:"s",u:0},16871:{s:"BlockAddIDType",o:"u",u:0},16877:{s:"BlockAddIDExtraData",o:"b",u:0},21358:{s:"Name",o:"8",u:0},2274716:{s:"Language",o:"s",u:0},2274717:{s:"LanguageBCP47",o:"s",u:0},134:{s:"CodecID",o:"s",u:0},25506:{s:"CodecPrivate",o:"b",u:0},2459272:{s:"CodecName",o:"8",u:0},29766:{s:"AttachmentLink",o:"u",u:0},3839639:{s:"CodecSettings",o:"8",u:0},3883072:{s:"CodecInfoURL",o:"s",u:1},2536e3:{s:"CodecDownloadURL",o:"s",u:1},170:{s:"CodecDecodeAll",o:"u",u:0},28587:{s:"TrackOverlay",o:"u",u:1},22186:{s:"CodecDelay",o:"u",u:0},22203:{s:"SeekPreRoll",o:"u",u:0},26148:{s:"TrackTranslate",o:"m",u:1},26277:{s:"TrackTranslateTrackID",o:"b",u:0},26303:{s:"TrackTranslateCodec",o:"u",u:0},26364:{s:"TrackTranslateEditionUID",o:"u",u:1},224:{s:"Video",o:"m",u:0},154:{s:"FlagInterlaced",o:"u",u:0},157:{s:"FieldOrder",o:"u",u:0},21432:{s:"StereoMode",o:"u",u:0},21440:{s:"AlphaMode",o:"u",u:0},21433:{s:"OldStereoMode",o:"u",u:0},176:{s:"PixelWidth",o:"u",u:0},186:{s:"PixelHeight",o:"u",u:0},21674:{s:"PixelCropBottom",o:"u",u:0},21691:{s:"PixelCropTop",o:"u",u:0},21708:{s:"PixelCropLeft",o:"u",u:0},21725:{s:"PixelCropRight",o:"u",u:0},21680:{s:"DisplayWidth",o:"u",u:0},21690:{s:"DisplayHeight",o:"u",u:0},21682:{s:"DisplayUnit",o:"u",u:0},21683:{s:"AspectRatioType",o:"u",u:0},3061028:{s:"UncompressedFourCC",o:"b",u:0},3126563:{s:"GammaValue",o:"f",u:0},2327523:{s:"FrameRate",o:"f",u:0},21936:{s:"Colour",o:"m",u:0},21937:{s:"MatrixCoefficients",o:"u",u:0},21938:{s:"BitsPerChannel",o:"u",u:0},21939:{s:"ChromaSubsamplingHorz",o:"u",u:0},21940:{s:"ChromaSubsamplingVert",o:"u",u:0},21941:{s:"CbSubsamplingHorz",o:"u",u:0},21942:{s:"CbSubsamplingVert",o:"u",u:0},21943:{s:"ChromaSitingHorz",o:"u",u:0},21944:{s:"ChromaSitingVert",o:"u",u:0},21945:{s:"Range",o:"u",u:0},21946:{s:"TransferCharacteristics",o:"u",u:0},21947:{s:"Primaries",o:"u",u:0},21948:{s:"MaxCLL",o:"u",u:0},21949:{s:"MaxFALL",o:"u",u:0},21968:{s:"mingMetadata",o:"m",u:0},21969:{s:"PrimaryRChromaticityX",o:"f",u:0},21970:{s:"PrimaryRChromaticityY",o:"f",u:0},21971:{s:"PrimaryGChromaticityX",o:"f",u:0},21972:{s:"PrimaryGChromaticityY",o:"f",u:0},21973:{s:"PrimaryBChromaticityX",o:"f",u:0},21974:{s:"PrimaryBChromaticityY",o:"f",u:0},21975:{s:"WhitePointChromaticityX",o:"f",u:0},21976:{s:"WhitePointChromaticityY",o:"f",u:0},21977:{s:"LuminanceMax",o:"f",u:0},21978:{s:"LuminanceMin",o:"f",u:0},30320:{s:"Projection",o:"m",u:0},30321:{s:"ProjectionType",o:"u",u:0},30322:{s:"ProjectionPrivate",o:"b",u:0},30323:{s:"ProjectionPoseYaw",o:"f",u:0},30324:{s:"ProjectionPosePitch",o:"f",u:0},30325:{s:"ProjectionPoseRoll",o:"f",u:0},225:{s:"Audio",o:"m",u:0},181:{s:"SamplingFrequency",o:"f",u:0},30901:{s:"OutputSamplingFrequency",o:"f",u:0},159:{s:"Channels",o:"u",u:0},32123:{s:"ChannelPositions",o:"b",u:0},25188:{s:"BitDepth",o:"u",u:0},21233:{s:"Emphasis",o:"u",u:0},226:{s:"TrackOperation",o:"m",u:0},227:{s:"TrackCombinePlanes",o:"m",u:0},228:{s:"TrackPlane",o:"m",u:1},229:{s:"TrackPlaneUID",o:"u",u:0},230:{s:"TrackPlaneType",o:"u",u:0},233:{s:"TrackJoinBlocks",o:"m",u:0},237:{s:"TrackJoinUID",o:"u",u:1},192:{s:"TrickTrackUID",o:"u",u:0},193:{s:"TrickTrackSegmentUID",o:"b",u:0},198:{s:"TrickTrackFlag",o:"u",u:0},199:{s:"TrickmTrackUID",o:"u",u:0},196:{s:"TrickmTrackSegmentUID",o:"b",u:0},28032:{s:"ContentEncodings",o:"m",u:0},25152:{s:"ContentEncoding",o:"m",u:1},20529:{s:"ContentEncodingOrder",o:"u",u:0},20530:{s:"ContentEncodingScope",o:"u",u:0},20531:{s:"ContentEncodingType",o:"u",u:0},20532:{s:"ContentCompression",o:"m",u:0},16980:{s:"ContentCompAlgo",o:"u",u:0},16981:{s:"ContentCompSettings",o:"b",u:0},20533:{s:"ContentEncryption",o:"m",u:0},18401:{s:"ContentEncAlgo",o:"u",u:0},18402:{s:"ContentEncKeyID",o:"b",u:0},18407:{s:"ContentEncAESSettings",o:"m",u:0},18408:{s:"AESSettingsCipherMode",o:"u",u:0},18403:{s:"ContentSignature",o:"b",u:0},18404:{s:"ContentSigKeyID",o:"b",u:0},18405:{s:"ContentSigAlgo",o:"u",u:0},18406:{s:"ContentSigHashAlgo",o:"u",u:0},475249515:{s:"Cues",o:"m",u:0},187:{s:"CuePoint",o:"m",u:1},179:{s:"CueTime",o:"u",u:0},183:{s:"CueTrackPositions",o:"m",u:1},247:{s:"CueTrack",o:"u",u:0},241:{s:"CueClusterPosition",o:"u",u:0},240:{s:"CueRelativePosition",o:"u",u:0},178:{s:"CueDuration",o:"u",u:0},21368:{s:"CueBlockNumber",o:"u",u:0},234:{s:"CueCodecState",o:"u",u:0},219:{s:"CueReference",o:"m",u:1},150:{s:"CueRefTime",o:"u",u:0},151:{s:"CueRefCluster",o:"u",u:0},21343:{s:"CueRefNumber",o:"u",u:0},235:{s:"CueRefCodecState",o:"u",u:0},423732329:{s:"Attachments",o:"m",u:0},24999:{s:"AttachedFile",o:"m",u:1},18046:{s:"FileDescription",o:"8",u:0},18030:{s:"FileName",o:"8",u:0},18016:{s:"FileMediaType",o:"s",u:0},18012:{s:"FileData",o:"b",u:0},18094:{s:"FileUID",o:"u",u:0},18037:{s:"FileReferral",o:"b",u:0},18017:{s:"FileUsedStartTime",o:"u",u:0},18018:{s:"FileUsedEndTime",o:"u",u:0},272869232:{s:"Chapters",o:"m",u:0},17849:{s:"EditionEntry",o:"m",u:1},17852:{s:"EditionUID",o:"u",u:0},17853:{s:"EditionFlagHidden",o:"u",u:0},17883:{s:"EditionFlagDefault",o:"u",u:0},17885:{s:"EditionFlagOrdered",o:"u",u:0},17696:{s:"EditionDisplay",o:"m",u:1},17697:{s:"Editions",o:"8",u:0},17892:{s:"EditionLanguageIETF",o:"s",u:1},182:{s:"ChapterAtom",o:"m",u:1},29636:{s:"ChapterUID",o:"u",u:0},22100:{s:"ChaptersUID",o:"8",u:0},145:{s:"ChapterTimeStart",o:"u",u:0},146:{s:"ChapterTimeEnd",o:"u",u:0},152:{s:"ChapterFlagHidden",o:"u",u:0},17816:{s:"ChapterFlagEnabled",o:"u",u:0},28263:{s:"ChapterSegmentUUID",o:"b",u:0},17800:{s:"ChapterSkipType",o:"u",u:0},28348:{s:"ChapterSegmentEditionUID",o:"u",u:0},25539:{s:"ChapterPhysicalEquiv",o:"u",u:0},143:{s:"ChapterTrack",o:"m",u:0},137:{s:"ChapterTrackUID",o:"u",u:1},128:{s:"ChapterDisplay",o:"m",u:1},133:{s:"Chaps",o:"8",u:0},17276:{s:"ChapLanguage",o:"s",u:1},17277:{s:"ChapLanguageBCP47",o:"s",u:1},17278:{s:"ChapCountry",o:"s",u:1},26948:{s:"ChapProcess",o:"m",u:1},26965:{s:"ChapProcessCodecID",o:"u",u:0},17677:{s:"ChapProcessPrivate",o:"b",u:0},26897:{s:"ChapProcessCommand",o:"m",u:1},26914:{s:"ChapProcessTime",o:"u",u:0},26931:{s:"ChapProcessData",o:"b",u:0},307544935:{s:"Tags",o:"m",u:1},29555:{s:"Tag",o:"m",u:1},25536:{s:"Targets",o:"m",u:0},26826:{s:"TargetTypeValue",o:"u",u:0},25546:{s:"TargetType",o:"s",u:0},25541:{s:"TagTrackUID",o:"u",u:1},25545:{s:"TagEditionUID",o:"u",u:1},25540:{s:"TagChapterUID",o:"u",u:1},25542:{s:"TagAttachmentUID",o:"u",u:1},26568:{s:"SimpleTag",o:"m",u:1},17827:{s:"TagName",o:"8",u:0},17530:{s:"TagLanguage",o:"s",u:0},17531:{s:"TagLanguageBCP47",o:"s",u:0},17540:{s:"TagDefault",o:"u",u:0},17588:{s:"TagDefaultBogus",o:"u",u:0},17543:{s:"Tags",o:"8",u:0},17541:{s:"Tagb",o:"b",u:0}};
function eB(d,v){c6.x$.call(this,d,v);this.rB=c6.x$.rB;this.A4=c6.x$.A4;this.Ju=c6.x$.Ju;this.W5=c6.x$.W5;
this.PA=function(t){return t};this.wt=0;this.data=null;this.start=0;this.D5=null;this.mY=null;this.aaq=0;
this.nH=0}eB.prototype.alh=async function(){this.Tg=new VideoDecoder({output:fy=>this.Ju(fy),error:function(t){console.log(t.message)}});
var d={codec:this.D5};if(this.mY){d.description=this.mY}var v=await VideoDecoder.isConfigSupported(d);
if(v.supported==!0){this.Tg.configure(d)}else{console.log("Codec not supported.",d)}};eB.prototype.aoL=async function(){if(!this.cues)return null;
var d=this.cues[this.cues.length-1],v=await cz.E_(this.Xe,this.T2,this.data,this.start,d),t=v.timeStamp,h,X=[];
this.wt=v.wt;this.data=v.data;this.start=v.start;do{if(v.NB&&v.NB[0]==1){h=v;X.push(v.NB[1])}v=await cz.wZ(this.Xe,this.data,this.start,this.wt);
if(v.timeStamp){t=v.timeStamp}this.wt=v.wt;this.data=v.data;this.start=v.start}while(v.wt>0);if(!this.iY){X.sort((j8,bI)=>j8-bI);
this.iY=Math.round((X[X.length-1]-X[0])/(X.length-1));this.MS=1e3/this.iY}this.frames=Math.floor((t+h.NB[1]+this.iY-this.aaq)/this.iY)};
eB.prototype.pg=async function(){this.T2=await cz.lS(this.Xe);this.acS={};this.C1={};this.O_=cz.getTracks(this.T2,1);
var d=!0;if(this.O_.length>0){var v=this.O_[0],t=v.TrackNumber,h=v.CodecID;if(v.CodecPrivate)this.mY=v.CodecPrivate;
var X=v.Video.PixelWidth,g=v.Video.PixelHeight,x=this.T2.Segment.Info.TimestampScale,Z=v.DefaultDuration/x;
this.MS=1e3/Z;this.iY=Z;var Y=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],a=["vp8","vp09.00.10.08","avc1.640034","hvc1"],z=Y.indexOf(h);
if(z>=0)this.D5=a[z];if(this.D5=="hvc1"){if(this.mY){this.D5=c6.agE(this.mY)}else{this.D5=null}}console.assert(this.D5!=null,"Codec "+h.toString()+" not supported.");
if(this.D5==null){d=!1}var p=this.T2.Segment.Cues.CuePoint;this.cues=[];for(var n=0;n<p.length;++n){for(var U=0;
U<p[n].CueTrackPositions.length;++U){if(p[n].CueTrackPositions[U].CueTrack==t){this.cues.push({aFc:p[n].CueTime,i4:p[n].CueTrackPositions[U]})}}}if(this.cues[0].aFc>0){this.aaq=this.cues[0].aFc}await this.aoL();
this.f$=[];for(var n=0;n<this.cues.length;++n){this.f$.push(Math.round((this.cues[n].aFc-this.aaq)/this.iY))}}this.O2={};
if(d&&this.O_.length>0){this.O2.k1={O_:1,Hr:this.frames,MS:this.MS,width:X,height:g}}if(!this.Ub){this.Dx=new OffscreenCanvas(this.O2.k1.width,this.O2.k1.height);
this.PX=this.Dx.getContext("2d",{aAH:!0});this.sH=10;this.dp=6}this.r6=!0};1,0,eB.prototype.E_=async function(d){var v=await cz.E_(this.Xe,this.T2,this.data,this.start,this.cues[d]);
this.wt=v.wt;this.data=v.data;this.start=v.start;this.aDf(v)};eB.prototype.wZ=async function(){var d;
do{d=await cz.wZ(this.Xe,this.data,this.start,this.wt);this.wt=d.wt;this.data=d.data;this.start=d.start}while(d.wt>0&&d.NB[0]!=1);
if(this.wt>0){this.aDf(d)}};eB.prototype.aDf=function(d){var v=new EncodedVideoChunk({timestamp:d.NB[1],duration:this.iY,type:d.NB[2]==1?"key":"delta",data:d.NB[3]});
if(this.Tg.state=="configured"){try{this.Tg.decode(v)}catch(cQ){console.log("CAUGHT unconfigured");console.log(cQ);
console.log(v)}}else{console.log("unconfigured",this.wt,d);delete d}delete d};eB.prototype.aNf=async function(d,v,t){var h=t*this.iY,X=this.f$.indexOf(v),g=0,x;
for(var n=v;n<t;++n){while(this.nH>0){await new Promise(resolve=>setTimeout(resolve,50))}this.nH=1;if(n==v&&X>=0){await this.E_(X)}else{await this.wZ()}this.nH=0}if(t==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.wt!=0){while(this.nH>0){await new Promise(resolve=>setTimeout(resolve,50))}this.nH=1;await this.wZ();
this.nH=0}await this.Tg.flush()}};var lp=function(){var d,v,t,h,X,g,x=4294967292,Z=4294967293,Y=4294967294,a=4294967295;
function z(){h+=1;return t[h-1]}function p(){h+=2;return B.cY(t,h-2)}function U(){h+=4;return B.ce(t,h-4)}function l(){h+=4;
return B.ij(t,h-4)}function L(b){return 512+512*b}function j(b){return 64*b}function O(b,r){if(b>=r.length){console.log("error?");
return[]}var W=[];while(b!=Y){W.push(b);b=r[b];if(b==null)throw b}return W}function F(b,r,W){var V=O(b,W==64?g:X);
if(r==null)r=V.length*W;var y=new Uint8Array(r),c=W==64?v:d;for(var n=0;n<V.length;n++){var S=V[n],C=W==64?j(S):L(S);
y.set(new Uint8Array(c.buffer,C,Math.min(W,r-n*W)),n*W)}return y}function i(b,r){for(var n=0;n<b;n++){var W=l();
if(W==a)continue;r.push(W)}}function $(b,r,W,V){var y=t,c=h,q;t=b;h=r*128;var S=B.Ix(t,h,32);h+=64;var C=p();
S=S.slice(0,C-2>>>1);var K=z(),T=z();if(K>5)throw"e";if(T>1)throw"e";var D=U(),N=U(),G=U();h+=16;if(U()!=0)throw"e";
h+=8;h+=8;var s=U(),Q=U();if(U()!=0)throw"e";if(K==1||K==5){if(K==5){v=F(s,null,512)}q={};$(b,G,q,V+1)}else if(K==2){if(Q<4096)q=F(s,Q,64);
else q=F(s,Q,512)}else throw K;if(D!=-1)$(b,D,W,V+1);if(N!=-1)$(b,N,W,V+1);W[S]=q;t=y;h=c}function H(b){t=d=new Uint8Array(b);
h=0;var r=[208,207,17,224,161,177,26,225];for(var n=0;n<8;n++)if(z()!=r[n])throw"e";for(var n=0;n<16;
n++)if(z()!=0)throw"e";var W=p(),V=p();if(p()!=-2)throw"big endian";if(p()!=9)throw"not 512";if(p()!=6)throw"not  64";
for(var n=0;n<10;n++)if(z()!=0)throw"e";var y=U(),c=U();if(U()!=0)throw"e";if(U()!=4096)throw"e";var S=U(),C=U(),K=U(),T=U(),D=[];
i(109,D);for(var n=0;n<T;n++){h=L(K);i(127,D);K=U()}if(D.length!=y)throw"e";X=[];for(var n=0;n<y;n++){h=L(D[n]);
for(var N=0;N<128;N++){var G=l();X.push(G)}}g=[];for(var n=0;n<C;n++){if(isNaN(S))throw"e";h=L(S);for(var N=0;
N<128;N++){var G=l();g.push(G)}S=X[S]}var s=F(c,null,512),Q={};$(s,0,Q,0);return Q["Root Entry"]}return{parse:H}}(),he=function(){var d,v,a;
function t(){v+=1;return d[v-1]}function h(){v+=2;return B.ZT(d,v-2)}function X(){v+=4;return B.BT(d,v-4)}function g(F){v+=F;
return B.o3(d,v-F,F)}function x(){var F,i;if((i=d[v++])&128){i&=127;do{i=(i<<7)+((F=d[v++])&127)}while(F&128)}return i}function Z(F,i,$){var H=[];
for(var n=0;n<$;n++)H.push(F[i+n]);return H}function Y(F){d=F;v=0;var i={BP:0,O_:[]},$=t;while(v<d.length){var H=g(4),b=X(),r=v+b;
if(H=="MThd"){var W=h();if(W!=0&&W!=1)throw W;var V=h(),y=h();if(y>>>15==1)throw"e";i.BP=y}else if(H=="MTrk"){var c={dl:[]},S=0,C=0;
i.O_.push(c);while(v<r){var K=x();S+=K;var T=$(),D=[K];c.dl.push(D);if(T==255){var N=$(),G=x(),s;if([1,2,3,4,5,6,75].indexOf(N)!=-1)s=B.o3(F,v,G);
else s=Z(F,v,G);if(N==1&&c.name==null||N==3){c.name=s;if(N==3)s=null}D.push(15,15,N,s);v+=G}else if(T==240){var G=x();
D.push(15,0,Z(F,v,G));v+=G}else{if(T<128){T=C;v--}if(T>>>4==15){console.log(T.toString(2),D);throw"e"}else{var Q=T>>>4,q=T&15;
D.push(Q,q);if(!1){}else if(Q==8){D.push($(),$())}else if(Q==9){D.push($(),$())}else if(Q==10){D.push($(),$())}else if(Q==11){D.push($(),$())}else if(Q==12){D.push($())}else if(Q==13){D.push($())}else if(Q==14){var R=$(),m=$();
D.push(m*128+R)}else throw Q}C=T}}}else break}return i}function z(F){B.Er(a,v,F);v+=F.length}function p(bW){B.um(a,v,bW);
v+=4}function U(bW){B.mk(a,v,bW);v+=2}function l(bW){B.wu(a,v,bW);v+=1}function L(F){a=new fe;v=0;a.fK(0,1775);
var i=F.O_.length;z("MThd");p(6);U(1);U(i);U(F.BP);for(var $=0;$<i;$++){var H=v;z("MTrk");p(1012);var b=F.O_[$],r=-1;
for(var n=0;n<b.dl.length;n++){var W=b.dl[n],V=W[0],y=W[1],c=W[2],S=W[3],C=W[4],K=W[5];v+=j(a,v,V);var T=(y<<4)+c;
if(T!=r||T==255)l(T);r=T;if(y==15){if(c==15){l(S);v+=j(a,v,C.length);a.fK(v,C.length);if(typeof C=="string")z(C);
else{a.data.set(C,v);v+=C.length}}else if(c==0){j(a,v,S.length);a.fK(v,S.length);a.data.set(S,v);v+=S.length}else{console.log(W);
throw c}}else if(y==8){l(S);l(C)}else if(y==9){l(S);l(C)}else if(y==11){l(S);l(C)}else if(y==12){l(S)}else if(y==14){l(S&127);
l(S>>>7)}else throw y}B.NI(a.data,H+4,v-H-8)}return a.data.slice(0,v)}function j(a,v,F){a.fK(v,8);return O(a.data,v,F)}function O(F,v,i){var $=v,H=0;
H=i&127;while((i>>=7)>0){H<<=8;H|=128;H+=i&127}while(!0){F[v]=H&255;v++;if(H&128)H>>=8;else break}return v-$}return{lS:Y,Al:L,a5g:x,a0j:O}}(),bp=function(){var d,v,t;
function h(){t+=20;var b=B.o3(v,t-20,20);return b.slice(0,b.indexOf("\0"))}function X(){t+=2;return B.kQ(v,t-2)}function g(){t+=2;
return new Int16Array(v.slice(t-2,t).buffer)[0]}function x(){t+=4;return B.ij(v,t-4)}function Z(){t+=1;
return v[t-1]}function Y(b,r){var W=null;for(var n=0;n<b.sub.length;n++)if(b.sub[n].tj==r)W=b.sub[n];
return new Uint8Array(d.buffer,W.h,W.size)}function a(b,r){v=Y(b,r);t=0;var W=[];while(t<v.length)W.push({alI:X(),akV:X()});
return W}function z(b,r){v=Y(b,r);t=0;var W=[];while(t<v.length)W.push({a85:X(),azS:X(),aKV:X(),a46:X(),axd:X()});
return W}function p(b,r){v=Y(b,r);t=0;var W=[];while(t<v.length){var V=X(),y;if(V==43||V==44)y=[Z(),Z()];
else if([0,1,2,3,9,11,17,25,26,27,28,29,30,33,34,35,36,37,38,48,51,52].indexOf(V)!=-1)y=g();else y=X();
W.push({afC:V,adI:y})}return W}function U(b,r,W){var V={},y=r[b].alI,c=r[b+1].alI;for(var n=y;n<c;n++){var S=W[n],C=S.adI,K=S.afC;
V[K]=C}return V}function l(b){var r=gv.lS(b),W=r.sub[1],V=W.sub[0];console.log(W,V);var y=new Uint8Array(b.slice(0)),c=window.axf;
B.js(c,0,"ogge");y.fill(0,V.h,V.h+V.size);y.set(c,V.h);dY.save(y.buffer,"MagicSF.sf35")}function L(b){d=b;
var r=gv.lS(b.buffer),W=r.sub[0],V=r.sub[1],y=r.sub[2],c=a(y,"pbag"),S=z(y,"pmod"),C=p(y,"pgen");v=Y(y,"phdr");
t=0;var K=[];while(t<v.length)K.push({cF:h(),L2:X(),ao1:X(),as8:X(),agT:x(),aGz:x(),a2i:x()});for(var n=0;
n<K.length-1;n++){var T=K[n],D=T.as8,N=K[n+1].as8;delete T.agT;delete T.aGz;delete T.a2i;T.zq=[];for(var G=D;
G<N;G++)T.zq.push(U(G,c,C));if(T.zq[0][$.ajn]!=null)T.zq.unshift({})}var s=a(y,"ibag"),Q=z(y,"imod"),q=p(y,"igen");
v=Y(y,"inst");t=0;var R=[];while(t<v.length)R.push({aIn:h(),ai9:X()});for(var n=0;n<R.length-1;n++){var T=R[n],D=T.ai9,N=R[n+1].ai9;
T.zq=[];for(var G=D;G<N;G++)T.zq.push(U(G,s,q));if(T.zq[0][$.awI]!=null)T.zq.unshift({})}v=Y(y,"shdr");
t=0;var m=[];while(t<v.length)m.push({cF:h(),start:x(),end:x(),ase:x(),afc:x(),Pc:x(),aIh:Z(),akq:Z(),apV:X(),aiQ:X()});
var E={},e=Y(V,"smpl"),w=B.o3(e,0,4);if(w=="qoaf"){var M=Date.now(),P=b3.awv.CE(e.buffer);console.log(Date.now()-M);
e=P.gM[0]}else if(w=="OggS"){var I=0;for(var n=0;n<m.length-1;n++){var k=m[n],o=k.Pc,af=E[k.start]=[null,!0],J=new AudioContext({sampleRate:o});
J.decodeAudioData(e.slice(k.start,k.end).buffer,function(b){var c_=b.getChannelData(0);if(this[0]!=null)throw"e";
var ag=this[0]=new Int16Array(c_.length);for(var n=0;n<c_.length;n++)ag[n]=Math.round(Math.max(-1,Math.min(1,c_[n]))*32767)}.bind(af))}}else{var at=new Int16Array(e.buffer);
for(var n=0;n<m.length;n++){var k=m[n];E[k.start]=[at,!1]}if(w=="ogge"){B.js(e,0,"OggS");var J=new AudioContext({sampleRate:24e3});
J.decodeAudioData(e.slice(0).buffer,function(b){var c_=b.getChannelData(0),ag=new Int16Array(c_.length);
for(var n=0;n<at.length;n++)at[n]=Math.round(Math.max(-1,Math.min(1,c_[n]))*32767)})}}var ke={ajC:K,a3x:c,axF:S,a1m:C,aLo:R,azL:s,avb:Q,a6Z:q,ax_:m,Rp:E};
return ke}function j(b,r){for(var W in b)r[W]=b[W]}function O(b,r){for(var W in b){if(W=="41"||W=="53")r[W]=b[W];
else if(W=="43"||W=="44"){}else if("0 1 2 3 4 12 45 50 54 57 58".split(" ").indexOf(W)!=-1)r[W]=b[W];
else if(W=="48")r[W]=b[W];else{if(r[W]==null){console.log(W,H(b),H(r));throw"e"}else{r[W]+=b[W]}}}}function F(b,r,W,V){if(b.a0n==null)b.a0n={};
var y=b.a0n[r];if(y==null){var c=b.ajC;for(var n=0;n<c.length-1;n++){if(r!=200&&c[n].ao1==0&&c[n].L2==r||r==200&&c[n].ao1==128){if(y!=null&&r!=200)throw"e";
if(y==null||c[n].L2<y.L2)y=c[n]}}if(y==null&&r==200)for(var n=0;n<c.length-1;n++){if(c[n].L2==127)y=c[n]}if(y==null)for(var n=0;
n<c.length-1;n++){if(c[n].L2==0)y=c[n]}b.a0n[r]=y}if(y==null)console.log(r,W,V,y);var S=[];for(var C=1;
C<y.zq.length;C++){var K=y.zq[C];if(!i(K,W,V))continue;delete K[$.a4g];var T=b.aLo[K[$.ajn]];for(var n=1;
n<T.zq.length;n++){var D=T.zq[n];if(!i(D,W,V))continue;var N={2:0,3:0,8:13500,9:0,11:0,15:0,16:0,17:0,21:-12e3,28:-12e3,33:-12e3,34:-12e3,37:0,38:-12e3,39:0,51:0,52:0,48:0,54:0};
j(T.zq[0],N);j(T.zq[n],N);O(y.zq[0],N);O(y.zq[C],N);S.push(N)}}return S}function i(b,r,W){var V=b[$.a0G],y=b[$.a8N];
return(V==null||V[0]<=r&&r<=V[1])&&(y==null||y[0]<=W&&W<=y[1])}var $={amS:0,aqY:1,azc:2,a2g:3,aDa:4,aAW:5,a66:6,axN:7,aGo:8,adC:9,axY:10,ahB:11,aN_:12,a19:13,axT:15,as5:16,u4:17,a64:21,a2S:22,aep:23,aoJ:24,a8w:25,ar1:26,aqb:27,aHZ:28,adV:29,aia:30,a3X:32,amV:33,a4g:34,aao:35,ajw:36,aF8:37,aFm:38,aqr:39,a5h:40,ajn:41,a0G:43,a8N:44,aC4:45,aJK:46,aoS:47,aEp:48,aNB:50,a6W:51,aEf:52,awI:53,loop:54,aiR:54,akQ:56,auO:57,at_:58};
function H(b){var r={};for(var W in $){var n=$[W];if(b[n]!=null)r[n+"-"+W]=b[n]}return r}return{lS:L,Br:F,sK:$,aDj:H}}(),A={};
A.LY=function(d){return window.devicePixelRatio||1};A.RV=function(d,v){return(v.aO8=="touch"?12:8)*A.LY()/d.z.OI};
A.$h=function(){var d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",v=A.LY(),t=15.5/v;
return"image-set(url('"+d+"') "+v+"x) "+t+" "+t+",auto"};A.M$=function(d,v,t){this.name=d;this.id=v;
this.u$=null;if(t!=null)this.kY=t};A.M$.prototype.Oh=function(d,v,t,h,X){};A.M$.prototype.enable=function(d,v,t,h,X,g){var x=new eG(_.E.c,!0);
x.data={R:_.Y.TG,Cn:"default"};v.J(x)};A.M$.prototype.disable=function(d,v,t,h,X){};A.M$.prototype.asp=function(d,v,t,h,X){return!1};
A.M$.prototype.li=function(d,v,t,h,X){};A.M$.prototype.uO=function(d,v,t,h,X){};A.M$.prototype.qw=function(d,v,t,h,X){};
A.M$.prototype.QZ=function(d,v,t,h,X,g){};A.M$.prototype.rP=function(d,v,t,h,X){};A.M$.prototype.M6=function(d,v,t,h){};
A.M$.prototype.zl=function(d,v,t,h){};A.M$.prototype.BW=function(d,v){};A.M$.prototype.Js=function(d,v){};
A.M$.prototype.QH=function(d){return 0};A.M$.prototype.Fb=function(d,v,t,h,X){};A.M$.prototype.sq=function(d,v){};
A.M$.prototype.YF=function(d,v){return!1};A.M$.prototype.pG=function(d,v){return!1};A.M$.prototype.Ht=function(){return!1};
A.M$.prototype.Jx=function(d,v){return!0};A.M$.prototype.K7=function(){return null};A.M$.prototype.Ad=function(d,v,t){};
A.M$.prototype.auC=function(){return!1};A.M$.prototype.LC=function(d,v,t,h){};A.M$.prototype.track=function(d){var v=new eG(_.E.U0,!0);
v.data=d;d._n=!0;this.u$.J(v)};A.M$.IA=function(d,v,t,h){var X=10*A.LY()*(d.aO8=="touch"?2:1),g=d.x+X,x=d.y-X,Z=f.rd.Zm(v.r,t.u3,h,t.r,!0),Y=f.rd.Zm(v.$,t.u3,h,t.$,!0);
while(Z.length<Y.length)Z=" "+Z;while(Z.length>Y.length)Y=" "+Y;A.M$.uS(g,x,[f7.get([12,41]).charAt(0)+": "+Z,f7.get([12,42]).charAt(0)+": "+Y],t)};
A.M$.uS=function(d,v,t,h){function X(a,j,O,F,i,$){a.beginPath();a.moveTo(j,O+$);a.arcTo(j,O+i,j+$,O+i,$);
a.arcTo(j+F,O+i,j+F,O+i-$,$);a.arcTo(j+F,O,j+F-$,O,$);a.arcTo(j,O,j,O+$,$)}var g=A.LY(),x=Math.round,Z=x(11*g),Y=A.M$.auz,z=0;
if(Y==null)Y=A.M$.auz=document.createElement("canvas");var a=Y.getContext("2d");a.font=Z+"px monospace";
for(var n=0;n<t.length;n++)z=Math.max(z,a.measureText(t[n]).width);var p=x(z+12*g),U=x((t.length*14+5)*g),l=new iW(d,v-U,p,U);
if(Y.width!=p||Y.height!=U){Y.width=p;Y.height=U;a.font=Z+"px monospace"}a.clearRect(0,0,p,U);a.fillStyle="rgba(0,0,3,0.8)";
X(a,0,0,p,U,x(4*g));a.fill();a.fillStyle="rgba(255,255,255,1)";for(var n=0;n<t.length;n++)a.fillText(t[n],x(6*g),x((n+1)*13*g));
var L=[a.getImageData(0,0,p,U).data,l.b()];if(h)h.W.NX=[L];return L};A.M$.auz=null;A.M$.aEU=function(d,v,t,h){if(v)this.u$=v;
var X=this.akv;if(d)X=[d.r,d.$,d.u3];if(t&&X)X[3]=t.rp.iV;this.akv=X;var g=new eG(_.E.c,!0);g.data={R:_.Y.a0,T:this.id,xq:X};
if(this.u$)this.u$.J(g)};A.M$.zU=function(d){d.prototype.zl=A.M$.aEU;d.prototype.sq=function(v,t){if(t==lx.yy||t==lx.Np)this.zl(null,null,v,null)}};
A.Xc="0";A.Nf="1";A.aso="2";A.a47="3";A.w2="5";A.aKy="6";A.a2v="7";A.lj="8";A.CD="9";A.bl="10";A.fx="11";
A.sE="12";A.sa="13";A.pH="14";A.aM8="15";A.Kx="16";A.oe="18";A.Ys="19";A.aoo="90";A.mC="20";A.GR="21";
A.rU="22";A.nj="23";A.D8="24";A.Av="25";A.T6="27";A.OG="31";A.Be="32";A.acy="33";A.vQ="34";A.afG="35";
A.xj="36";A.oT="37";A.FT="38";A.WX="39";A.UK="40";A.yS="41";A.as="42";A.mL="43";A.axK="44";A.atk="45";
A.ane="46";A.aAG="72";A.uW="47";A.TH="48";A.Z4="51";A.qN="52";A.wS="54";A.Wr="55";A.LD="56";A.k8="57";
A.Bs="58";A.MD="59";A.bY="60";A.CK="61";A.mH="70";A.Ob="71";A.alU="73";A.Oi="100";A.Yt="101";A.ie="102";
A.TT="103";A.IH="120";A.w0="121";A.rX="122";A.xU="230";A.a9_="231";A.Hh="232";A.EM="233";A.iL="234";
A.bH="235";A.AQ="236";A.kV={};A.kV[A.nj]="tools/brush";A.kV[A.D8]="tools/pencil";A.kV[A.OG]="tools/eraser";
A.kV[A.uW]="tools/htype";A.qU={PcTl:A.D8,PbTl:A.nj,moveTool:A.Xc,cloneStampTool:A.T6,typeCreateOrEditTool:A.uW,artboardTool:A.mH,marqueeRectTool:A.Nf,typeVerticalCreateOrEditTool:A.TH,perspectiveCropTool:A.fx,marqueeEllipTool:A.aso,eyedropperTool:A.pH,eraserTool:A.OG,pathComponentSelectTool:A.Z4,lassoTool:A.w2,backgroundEraserTool:A.Be,directSelectTool:A.qN,polySelTool:A.aKy,rectangleTool:A.wS,magneticLassoTool:A.a2v,gradientTool:A.vQ,quickSelectTool:A.lj,bucketTool:A.afG,ellipseTool:A.Wr,magicWandTool:A.CD,blurTool:A.xj,polygonTool:A.LD,cropTool:A.bl,sharpenTool:A.oT,lineTool:A.k8,sliceTool:A.sE,smudgeTool:A.FT,customShapeTool:A.Bs,sliceSelectTool:A.sa,dodgeTool:A.WX,spotHealingBrushTool:A.oe,burnInTool:A.UK,saturationTool:A.yS,penTool:A.as,redEyeTool:A.rU,freeformPenTool:A.mL,rulerTool:A.Kx,paintbrushTool:A.nj,handTool:A.MD,pencilTool:A.D8,zoomTool:A.CK,objectSelectTool:A.a47,healingBrushTool:A.Ys,patchTool:A.mC,contentAwareMoveTool:A.GR,colorReplacementBrushTool:A.Av,curvaturePenTool:A.axK,rotareViewTool:A.bY};
A.mE=function(d,v,t){A.M$.call(this,d,v,t);this.zj={brush:d?ip.kf():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.n=null;this.N6=null;this.CT=null;this._I=null;this.Ze=null;this.v8=null;this.sz=null;this.OY=null;
this.jX=null;this.bj=null;this.Kw=null;this.ND=null;this.B2=null;this.LA=1;this.b8=!1;this.e1=!1;this.ZG=null;
this.qS;this.caller=null};A.mE.prototype=new A.M$;A.mE.prototype.pG=function(d,v){return d.n2&&v.A(cQ.cm)};
A.mE.prototype.uO=function(d,v,t,h,X){if(h.A(cQ.io)){this.v8=new cK(X.x,X.y);var g=this.zj.brush.Brsh.v,x=g.Dmtr.v.val,Z=g.Hrdn!=null?g.Hrdn.v.val:-1;
this.sz=[x,Z,!0,f.v(this.zj.brush),X];this.tv(t)}};A.mE.prototype.Q7=function(d,v,t){var h=this.sz,X=d.z.OI,g=t.x-h[4].x,x=t.y-h[4].y,Z=h[0],Y=h[1],a=Math.abs(g)>Math.abs(x);
if(a&&h[2]){var z=Math.round(2*g/X);Z+=z;t.x-=g-.5*z*X}if(!a&&!h[2]&&Y!=-1){var z=Math.round(.25*x);
Y+=z;t.y-=x-4*z}Z=Math.max(1,Z);Y=h[1]==-1?-1:Math.max(0,Math.min(100,Y));var p=h[3];p.Brsh.v.Dmtr.v.val=Z;
if(Y!=-1)p.Brsh.v.Hrdn.v.val=Y;this.sz=[Z,Y,a,p,t];var U=hv.hv(p,v.LG.Qt,X),l=U[1];l.x=Math.round(this.v8.x-l.r/2);
l.y=Math.round(this.v8.y-l.$/2);d.W.E9=[U];var L=d.z.tw(this.v8.x,this.v8.y);d.W.jM={mW:[],Ep:[L.x-Z/2,L.y,L.x+Z/2,L.y]};
if(Y!=-1)d.W.jM.Ep.push(L.x+50/X,L.y-Y/2,L.x+50/X,L.y+Y/2);d.QW=!0};A.mE.prototype.rP=function(d,v,t,h,X){if(this.id==A.mC||this.id==A.GR)return;
if(this.v8){this.v8=null;this.g2(f.v(this.sz[3]));d.W.E9=[];d.W.jM=null;d.QW=!0;return}var g=new eG(_.E.c,!0);
g.data={R:_.Y.a0,T:this.id,aOD:"showBrushOpts",l_:new cK(X.eT+4,X.UF)};v.J(g)};A.mE.prototype.g2=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.Kf,Ic:lx.FA,mV:d};this.caller.J(v)};A.mE.Ak=function(d,v,t,h,X,g){if(d==null)d="FrgC";
if(v==null)v="norm";if(t==null)t=1;if(X==null)X=!1;var x={classID:"Fl",Usng:{t:"enum",v:{FlCn:d}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(t*100)}},PrsT:{t:"bool",v:X},Md:{t:"enum",v:{BlnM:gL.V6(v)}}};
if(d=="Clr")x.Clr={t:"Objc",v:h};if(d=="contentAware")x.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(d=="Ptrn")x.Ptrn={t:"Objc",v:g};return{oN:"fill",mQ:x}};A.mE.prototype.Oh=function(d,v,t,h,X){this.u$=v;
var g=t.Cv.length,x=g!=0?-1-t.Cv[0]:t.l[0],Z=t.U[x],Y=Z&&Z.add.SoLd&&Z.add.SoLd.generativeDocInfo,a=d.R=="fromAction"&&d.VV&&d.VV.mQ&&JSON.stringify(d.VV.mQ).indexOf("aiHeal")!=1;
if(g==0&&!a&&!t.fi(v))return;if(d.R=="fromAction"){var z=d.VV,p=z.mQ;if(p&&p.null&&p.null.v[0]&&p.null.v[0].v.classID=="Path"){var U=t.V9(),l=U[0],L=U[1],j=l[L.length==0?0:L[0]].add.vmsk;
if(z.oN=="fill"){var O=j._B(),F=X.Sw,i=this.zj,$=F>>16&255,H=F>>8&255,b=F>>0&255;this.OV(t,Z,O,$,H,b,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var r=p&&p.Prs&&p.Prs.v,W=JSON.stringify(this.zj.brush);
if(r)ip.aNU(this.zj.brush,[!1,!0]);var V=Date.now();for(var y=0;y<1e3;y++){var c=f.t.fn(j.D,y,!0);if(c==-1){this.QZ(t,v,X,h,null);
break}var S=j.D[c],C=j.D.slice(c,c+1+S.length),K=f.Q.lR(C,2).I,T=K.slice(0,8);for(var D=8;D<K.length;
D+=6)T.push(K[D-2],K[D-1],K[D],K[D+1],K[D+2],K[D+3],K[D+4],K[D+5]);var N={};N.Points=T;N.TextOnPathTRange=j.Pd.slice(0);
var N=cl.Vz(N,2,S.e==3),G=N[0],s=t.z.X4(G[0],G[1]);if(r)s.Qz=0;if(y==0)this.li(t,v,X,h,s);else this.N6.moveTo(G[0],G[1],r?0:null);
var Q=G.length,q=S.e==0?Q+2:Q;for(var n=2;n<q;n+=2){s=t.z.X4(G[n%Q],G[(n+1)%Q]);s.n2=!0;if(r){var R=n/q;
s.Qz=2*Math.min(R,1-R)}this.qw(t,v,X,h,s,this.zj.flow)}this.N6.finish();this.da(t)}console.log(Date.now()-V);
if(r)this.zj.brush=JSON.parse(W)}}else if(z.oN=="fill"){var m=p.PrsT?p.PrsT.v:!1,E=Z?Z.add.lspf:0;if(m&&Z){Z.add.lspf=E==null?1:E|1}var e=(p.Opct?p.Opct.v.val:100)/100,w=p.Md?gL.__(p.Md.v.BlnM):"norm";
e=Math.round(255*e);var M=p.Usng.v.FlCn;if(M=="contentAware"||M=="aiHeal"){if(t.p==null&&!Y){alert("Select an area to heal first.");
return}var P=t.p;if(M=="aiHeal"&&!iT.UX(t))return;if(M=="contentAware"){this.pI(t);this.Om(t,0);var I=f.m(P.S.k()*4);
f.Gj(P.N,I,3);this.h_(t,"sheal",I,P.S,P.S);this.uM(t,P.S);this.finish(t,P.S)}else{this.h8=t;this.n=X;
var k=iT.bE(X,3),o=function(){this.qS=p.prmt.v;iT.ae5(this.qS,k,t,this.an5.bind(this),p.Ic);var jO=new eG(_.E.c,!0);
jO.data={R:_.Y.Wq,jH:"Processing ..."};v.J(jO);this.caller=v}.bind(this);if(k||iT.Sk(3))o();else iT.vx(o)}}else if(M=="Ptrn"){var af=X.Da,J=t.p?t.p.S.b():new iW(0,0,t.r,t.$),at=f.m(J.k()*4);
lb.og(p,at,J,af,new cK(0,0));for(var n=0;n<at.length;n+=4)at[n+3]=e;this.Xj(t,Z,t.p,at,w,[6,48,0,2])}else{var F;
if(M=="FrgC")F=X.Sw;else if(M=="BckC")F=X.dL;else if(M=="Blck")F=0;else if(M=="Wht")F=16777215;else if(M=="Gry")F=8421504;
else if(M=="Clr"){var ke=f.iF.pq(p.Clr.v);F=ke.C<<16|ke.L<<8|ke.X}var $=F>>16&255,H=F>>8&255,b=F>>0&255;
this.OV(t,Z,t.p,$,H,b,e,w,[2,3])}if(m&&Z){Z.add.lspf=E==null?0:E}}else if(z.oN=="delete"){var c_=x<0?1:Z.VL,P=t.p,aq;
if(P==null)return;var ag=x<0?t.gM[-x-1]:c_<=0?null:c_==1?Z._B():Z.Ip(t).AU,J=c_<=0?Z.S:ag.S,dz=c_<=0?P.S.hL(J):P.S.b();
if(dz.HP())return;var kL=dz.k();if(c_<=0){aq=f.m(kL*4,t.depth);f.wH(Z.buffer,Z.S,aq,dz)}else{aq=f.m(kL,t.depth);
ag.extend(dz);f.Qb(ag.N,ag.S,aq,dz)}if(0<=x&&Z.Gp(t,P)){if(c_<=0){aq.fill(0);f.wH(Z.k7.l7,Z.k7.t6,aq,dz)}else{aq.fill(255);
f.Qb(Z.k7.l7,Z.k7.t6,aq,dz)}}else{if(c_<=0){var dh=f.m(aq.length>>2,t.depth);f.Po(aq,dh,3);f.V.XF(f.m(P.S.k(),t.depth),P.S,dh,dz,P.N,dz,1);
f.Gj(dh,aq,3)}else{var gK=f.m(P.S.k(),t.depth),$=X.dL>>>16&255,H=X.dL>>8&255,b=X.dL>>0&255;gK.fill(Math.round(f.KR($,H,b)));
f.V.XF(gK,P.S,aq,dz,P.N,dz,1)}}this.hu(t,!0,[2,2],x,c_,dz,aq)}}if(d.R=="stroke"){var ad=d.a7k,P=t.p;
if(P==null){P={S:Z.S.b(),N:f.m(Z.S.k())};f.Po(Z.buffer,P.N,3)}var dc=lb.KY(ad),lq=A.Oe.avT(P,Math.ceil(dc[0]),Math.ceil(dc[1])),F=f.iF.pq(ad.Clr.v),$=Math.round(F.C),H=Math.round(F.L),b=Math.round(F.X);
this.OV(t,Z,lq,$,H,b,Math.round(255*ad.Opct.v.val/100),gL.__(ad.Md.v.BlnM),[14,9])}if(d.R=="fillBMP"){this.Xj(t,Z,t.p,d.PG,d.Z3,d.qq)}if(d.R=="draw"){var hn=d.H4,dF=hn.S;
this.pI(t);var c3=t.U[t.l[0]];if(d.aCX&&c3&&c3.VL<=0&&t.Cv.length==0){dF=A.OJ.a05(hn,t);c3.buffer=hn.buffer.slice(0);
c3.S=dF.b()}else{var i8=this.zj.bmode,dr=this.zj.opacity;this.zj.bmode="norm";this.zj.opacity=1;this.h_(t,"draw",hn.buffer,dF,dF.hL(new iW(0,0,t.r,t.$)));
this.zj.bmode=i8;this.zj.opacity=dr}this.uM(t,dF);t.Ir=!0;this.finish(t,dF,d.qq,d.aCX)}};A.mE.prototype.an5=function(d){var v=d.target.response,t=new Uint8Array(v);
if(this.amR){this.amR=!1;v=b3.CP(B.I$(t))}else if(t[0]==123){var h=JSON.parse(B.I$(t)),n=0;console.log(h);
if(h.status=="error"){alert(h.message.prompt[0]);return}var X=h.image_links;if(X==null)X=h.output;var g=X[0],x=new XMLHttpRequest;
x.responseType="arraybuffer";while(!0){var Z=new XMLHttpRequest;Z.open("HEAD",g,!1);Z.send();if(Z.status!=404)break;
console.log("not ready");n++}x.open("GET",g,!0);x.onload=this.an5.bind(this);this.amR=!0;x.send();return}if(v==null||v.byteLength==0){alert("An error occured.");
var Y=new eG(_.E.c,!0);Y.data={R:_.Y.DQ,jH:"Processing ..."};this.caller.J(Y);return}var a=b3.$y.CE(v)[0],z=new Uint8Array(a.data),p=this.h8,U=iT.cU(p)[0],l=iT.cU(p)[1];
this.h8=null;var L=U.r/a._S.r;if(L>1.1){var j=A.hZ.Pr([z,a._S],new gi(L,0,0,L,0,0));z=j.buffer}var O=p.U[p.l[0]],F=O.add.SoLd&&p.p==null,i=F?O._B():p.p,$=f.m(U.k()*4);
f.wH(f.OO(p.jP(),8),new iW(0,0,p.r,p.$),$,U);var H=f.m(U.k());f.Qb(f.OO(i.N,8),i.S,H,U);f.round(H);var b=new Uint32Array($.buffer),r=new Uint32Array(z.buffer);
for(var n=0;n<b.length;n++)if(H[n]==0)r[n]=b[n];f._L.oC(z,H,U,null,500*(1+l));var Y=new eG(_.E.c,!0);
Y.data={R:_.Y.DQ,jH:"Processing ..."};this.caller.J(Y);if(F){var Y=new eG(_.E.F,!0);Y.T=A.EM;Y.data={R:jn.Cf,K:[z,U],apb:this.qS};
this.caller.J(Y)}else{var W=new hc(this.qS),v=i.S.hL(new iW(0,0,p.r,p.$));W.r=v.r;W.$=v.$;W.u3=p.u3;
W.U.push(W.Rw());var O=W.vv();O.S=v.b();W.U.push(O);O.qv(this.qS);O.buffer=f.m(O.S.k()*4);f.wH(z,U,O.buffer,O.S);
O.S.x=O.S.y=0;O=W.vv();O.qv("Variations");O.add.lsct=f$.fG;O.uF="pass";O.Xw=24;W.U.push(O);W.uM();var Y=new eG(_.E.F,!0);
Y.data={R:jn.Ng,Vr:W};Y.T=A.EM;this.caller.J(Y);O=p.U[p.l[0]];var V=O.add.SoLd;V.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
A.jt.KB(p,p.l,null,[v.x-O.S.x,v.y-O.S.y]);O.AU=new jn.Ks;O.AU.color=0;O.AU.S=p.p.S.b();O.AU.N=p.p.N.slice(0);
p.uM();Y=new eG(_.E.U0,!0);Y.data=A.Oe.qJ();this.caller.J(Y);Y=new eG(_.E.c);Y.data={R:_.Y.Qu,cG:f1.q2.Ol};
this.caller.J(Y)}if(iT.bE(this.n,3)==null)iT.o6("Inpaint",3)};A.mE.prototype.OV=function(d,v,t,h,X,g,x,Z,Y){var a=t==null?new iW(0,0,d.r,d.$):t.S,z=f.m(a.k()*4,d.depth);
if(d.depth==8)f.pl(z,x<<24|g<<16|X<<8|h<<0);else{var p=f.ay(d.depth)/255;for(var n=0;n<z.length;n+=4){z[n]=h*p;
z[n+1]=X*p;z[n+2]=g*p;z[n+3]=x*p}}this.Xj(d,v,t,z,Z,Y)};A.mE.prototype.Xj=function(d,v,t,h,X,g){var x=d.Cv.length!=0?-1-d.Cv[0]:d.l[0],Z=x<0?1:v.VL,Y=x<0?d.gM[-1-x]:Z<=0?null:Z==1?v._B():v.Ip(d).AU,a=Z<=0?v.S:Y.S,z=t==null?new iW(0,0,d.r,d.$):t.S,p;
if(t)p=t.N;else{p=f.m(d.r*d.$,d.depth);p.fill(f.ay(d.depth))}if(t!=null)f.XE(p,h);var U=z.k(),l=f.m(U*4,d.depth);
if(Z<=0)f.wH(v.buffer,v.S,l,z);else{Y.extend(z);l.fill(255);f.I0(Y.bg(z),l)}if(0<=x&&t&&v.Gp(d,t)&&Z<=0){var L=v.k7.SS,j=v.k7.SS.slice(0);
if(Z<=0)f.Hy(h,j);else f.Hy(fullc,j);var O=new bd([2,3],this);O.data={R:"drawtemp",B:d.l[0],qj:Z,asq:L,adL:j};
d.RS(O);this.BW(O.data,d)}else{if(Z<=0){var F;if(v.BL(0)){F=f.m(z.k(),d.depth);f.Po(l,F,3)}f.V.Qe(X,h,z,l,z,z,1);
if(v.BL(0))f.Gj(F,l,3)}else{f.V.Qe(X,h,z,l,z,z,1);var i=f.m(U,d.depth);f.TA(l,i);l=i}this.hu(d,!0,g,x,Z,z,l)}};
A.mE.prototype.YF=function(d){if(cQ.cf.indexOf(d)!=-1)return!0;return!1};A.mE.prototype.M6=function(d,v,t,h){var X=this.zj.brush,g=h.A(cQ.io),x=h.azW(),Z=g!=this.b8,Y=x!=this.e1;
this.b8=g;this.e1=x;var a=A.mE.PZ(X,h);if(a!=null)this.g2(a);if(!h.A(cQ.LE)&&h.aC()!=-1&&this.id!=A.Av){var z=cQ.aHu(Math.round(this.zj.opacity*100),h.aC())/100;
this.JO({opacity:z},v)}if(this.id==A.lj&&Z&&d!=null){var p=this.zj.qsmode;if(p==2)p=d.p==null?0:1;else p=2;
this.JO({qsmode:p},v)}if(Z||Y){if(d)this.LA=d.z.OI;this.tv(t,h)}};A.mE.PZ=function(d,v){var t=d.Brsh.v.Dmtr.v.val,h=d.Brsh.v.Hrdn!=null?d.Brsh.v.Hrdn.v.val:-1,X=d.Brsh.v.Angl.v.val,g=t,x=h,Z=X,Y=v.A(cQ.cm);
if(v.A(cQ.i3)){if(Y)h=25*Math.floor((h-1)/25);else{if(t<=10)t--;else if(t<=50)t=5*Math.floor((t-1)/5);
else if(t<=100)t=10*Math.floor((t-1)/10);else if(t<=200)t=25*Math.floor((t-1)/25);else if(t<=400)t=50*Math.floor((t-1)/50);
else t=100*Math.floor((t-1)/100)}}if(v.A(cQ.LV)){if(Y)h=25*Math.ceil((h+1)/25);else{if(t<10)t++;else if(t<50)t=5*Math.ceil((t+1)/5);
else if(t<100)t=10*Math.ceil((t+1)/10);else if(t<200)t=25*Math.ceil((t+1)/25);else if(t<400)t=50*Math.ceil((t+1)/50);
else t=100*Math.ceil((t+1)/100)}}var a=v.A(cQ.Qw),z=v.A(cQ.EU);if(Y&&(a||z)){X=(X+360+15*(a?1:-1))%360}t=Math.max(1,t);
h=Math.max(0,Math.min(100,h));if(x==-1)h=-1;if(t!=g||h!=x||X!=Z){var p=f.v(d);p.Brsh.v.Dmtr.v.val=t;
p.Brsh.v.Angl.v.val=X;if(x!=-1)p.Brsh.v.Hrdn.v.val=h;return p}return null};A.mE.prototype.tv=function(d,v,t,h){if(d.LG.list.length==0)return;
var X=this.id,g;if((X==A.T6||X==A.Ys||X==A.nj||X==A.D8)&&(v!=null&&v.A(cQ.io)||this.zj.alt[0]))g="crosshair";
else{var x=this.LA,Z=this.zj.brush;if((X==A.T6||X==A.Ys)&&t&&this.ND&&this.ND.length==this.Kw.k()*4){var Y=t.z.tw(h.x,h.y),a=this.atn(Y),z=this.ND,p=this.Kw,U=new iW(p.x+a.x,p.y+a.y,p.r,p.$),l=hv.hv(Z,d.LG.Qt,x),L=l[0],j=l[1],O=Math.ceil(j.r/x),F=new iW(Math.round(Y.x-O/2),Math.round(Y.y-O/2),O,O),i=f.m(F.k()*4),$,H;
if(t.depth==8)f.wH(z,U,i,F);else{var b=f.m(F.k()*4,t.depth);f.wH(z,U,b,F);i=f.OO(b,8)}if(x==1){$=i;H=F}else{var r=new gi(x,0,0,x,0,0),W=A.hZ.Pr([i,F],r,!0);
H=j.b();H.x=W.S.x;H.y=W.S.y;if(H.fE(W.S))$=W.buffer;else{$=f.m(H.k()*4);f.wH(W.buffer,W.S,$,H)}}var V=this.zj.opacity/255;
for(var n=0;n<$.length;n+=4)$[n+3]=V*(L[n+3]*$[n+3]);hv.zt(new Uint32Array($.buffer),H,4278190080,4294967295);
g={MP:$,BS:H,h4:new cK(H.r/2,H.$/2)}}else{g=hv.FR(Z,d.LG.Qt,x,X==A.Av||X==A.Be);if(this.e1){g.MP.fill(0);
hv.zt(new Uint32Array(g.MP.buffer),g.BS,4278190080,4294967295)}}}var y=new eG(_.E.c,!0);y.data={R:_.Y.TG,Cn:g};
if(this.caller)this.caller.J(y)};A.mE.prototype.enable=function(d,v,t,h){this.n=t;this.caller=v;this.g2(f.v(this.zj.brush));
if(d&&d.z.OI!=0)this.LA=d.z.OI;this.e1=h.azW();this.tv(t,h)};A.mE.prototype.sq=function(d,v){if(v==lx.FA){this.zj.brush=d.LG.fh;
this.tv(d)}};A.mE.prototype.Fb=function(d,v,t,h,X){for(var g in d)this.zj[g]=d[g];if(this.zj.alt[0])this.tv(X,h,t)};
A.mE.prototype.al_=function(d){var v=d.Cv.length!=0?-1-d.Cv[0]:d.l[0],t=d.U[v],h=v<0?1:t.VL,X=v<0?d.gM[-v-1]:h<=0?null:h==1?t._B():t.Ip(d).AU,g=X?X.N:t.buffer,x=(X?X.S:t.S).b();
return[t,h,X,g,x]};A.mE.prototype.pI=function(d,v){this.B2=d.p==null?null:{S:d.p.S.b(),N:d.p.N.slice(0)};
var t=this.bj,h=this.al_(d),X=h[0],g=h[1],x=h[2];this.bj=h[3];this.jX=h[4];var Z=new iW(0,0,d.r,d.$),Y=Z.Ue(this.jX);
if((this.op()&&g<=0||Y.fE(this.jX))&&v!=!0){if(t&&t.length==this.bj.length){t.set(this.bj);this.bj=t}else this.bj=this.bj.slice(0)}else{if(x)x.extend(Y);
else X.extend(Y)}};A.mE.prototype.Om=function(d,v){var t=this.al_(d),h=t[1],X=t[3],g=t[4],x=[X,g],Z=v!=null?v:this.zj.sfrom;
if(h<=0&&Z!=0){x[1]=new iW(0,0,d.r,d.$);x[0]=d.jP(Z==1&&d.l[0]!=d.U.length-1?d.l[0]:null).slice(0)}this.Kw=x[1].b();
this.ND=x[0].slice(0)};A.mE.prototype.O9=function(d,v,t,h,X,g){if(X.n2&&h.A(cQ.io)&&this.v8==null){if(g)this.Z6=t.Sw;
var x=new eG(_.E.F,!0);x.T=A.pH;x.data={R:"pickhere",alN:X};v.J(x);var Z=A.Ds.aK_(d,!1,!0,X,null,t.Sw,this.Z6,1),x=new eG(_.E.c,!0);
x.data={R:_.Y.TG,Cn:Z};v.J(x);return!0}return!1};A.mE.prototype.it=function(d,v,t,h,X,g){if(this.id!=A.lj&&!d.fi(this.caller)){this.N6=null;
return}if(this.id!=A.lj&&this.N6)return;this.pI(d);var x=new iW(0,0,d.r,d.$),Z=null;if(g!=null){var Y=d.Cv.length!=0?-1-d.Cv[0]:d.l[0],a=d.U[Y],z=Y<0?d.gM[-Y-1]:a.VL<=0?null:a.VL==1?a._B():a.Ip(d).AU;
Z=f.m(x.k()*4,d.depth);if(z)A.mE.$d(this.bj,this.jX,z.color,Z,x);else f.wH(this.bj,this.jX,Z,x)}var p=this.zj;
if(this.N6&&this.id==A.lj&&p.qsmode!=0&&d.p!=null){}else{var U=v.Sw,l=v.dL,O=null;if(this.ZG=="erase"){var L=U;
U=l;l=L}var j=this.id==A.lj?this.jX:x;if(d.Dw)O=[3];else if(d.v1!=-1){var F=d.S5[d.v1];O=[F._$[0],F._$[1],F.add.vmsk.D]}this.N6=new hv(p.brush,v.LG.Qt,v.LG.ku,{oF:X,aNt:g,a0S:p.smth*50/d.z.OI,Uo:this.id==A.D8||p.emode==1,_$:O,depth:d.depth},U,l,j,Z)}if(this.id==A.lj){this.N6.alS(p.brush,p.qsmode==2?0:16777215)}var i=d.z.tw(h.x,h.y);
if(t.A(cQ.cm)&&this.CT){var $=this.CT;this.N6.moveTo($.x,$.y,h.Qz);this.N6.lineTo(.001*$.x+.999*i.x,.001*$.y+.999*i.y,h.Qz);
this.N6.lineTo(i.x,i.y,h.Qz)}else this.N6.moveTo(i.x,i.y,h.Qz);this.CT=i;this._I=i.b();this.Ze=new k8(i,d.z.r$)};
A.mE.prototype.zN=function(d,v,t){if(d&&d.z.OI!=0&&d.z.OI!=this.LA){this.LA=d.z.OI;this.tv(t)}};A.mE.prototype.MF=function(d,v,t,h){if(this.N6==null)return;
var X=d.U[d.l[0]],g=d.z.tw(h.x,h.y),x=this.Ze.NA(g,t);if(x.fE(this.CT))return 1;this.N6.lineTo(x.x,x.y,h.Qz);
this.CT=x;if(this.id==A.T6||this.id==A.Ys){var Z=this.fT(),Y=11;Z=d.z.X4(g.x-Z.x,g.y-Z.y);var a=Y>>>1,z=new iW(Math.round(Z.x)-a,Math.round(Z.y)-a,Y,Y),p=f.m(z.k()*4);
for(var n=0;n<Y;n++)p[(n*Y+a)*4+3]=p[(Y*a+n)*4+3]=255;d.W.NX=[[p,z]];d.QW=!0}};A.mE.prototype.zl=function(d,v,t,h){if(t.tN!=this.id)return;
if(this.id!=A.lj||d==null)return;if(d.p==null||d.l[0]!=this.aeW){this.aeW=d.l[0];this.JO({qsmode:0},v)}};
A.mE.prototype.uM=function(d,v){if(d.Cv.length!=0){d.QW=!0;return}var t=d.U[d.l[0]];if(v==null){v=this.N6.iS();
if(this.op()&&t.VL<=0)v=v.hL(this.jX)}var h=t.VL;if(h==1||h==3){var X=Math.round((h==1?t._B():t.Ip(d).AU).mO*2.4);
v=v.b();v.o2(X,X)}if(v.HP())return;if(h<=0){t.uM(v)}if(h==1){t._B().vF=!0;t.tG(d,v)}if(h==3){t.uM(v)}d.uM(d.root.T5(v,d,d.l[0],!0))};
A.mE.prototype.QZ=function(d,v,t,h,X){if(this.N6==null)return;this.N6.finish();if(this.id!=A.oe&&this.id!=A.Ys&&this.id!=A.lj)this.da(d);
if(this.id==A.T6||this.id==A.Ys){d.W.NX=[];d.QW=!0}if(this.id==A.lj){var g=d.p;d.p=this.B2;var x=new eG(_.E.F,!0);
x.data={R:"setsel",qq:this.name,p:g};x.T=A.Nf;v.J(x);if(this.zj.qsmode==0)this.JO({qsmode:1},v)}else{this.finish(d,this.N6.WM());
this.N6=null;this.OY=null}this.dir=0};A.mE.prototype.JO=function(d,v){for(var t in d)this.zj[t]=d[t];
var h=new eG(_.E.c,!0);h.data={R:_.Y.a0,T:this.id,ot:d};v.J(h)};A.mE.prototype.op=function(){var d=this.id;
return d==A.lj||d==A.OG||d==A.WX||d==A.UK||d==A.yS||d==A.rU};A.mE.prototype.finish=function(d,v,t,h,X){var g=d.Cv.length!=0?-1-d.Cv[0]:d.l[0],x=d.U[g],Z=g<0?1:x.VL,Y=g<0?d.gM[-g-1]:Z<=0?null:Z==1?x._B():x.Ip(d).AU,a=Y?Y.S:x.S,U;
if(this.op()||!a.fE(this.jX)){if(Y==null){if(this.op())x.s4();else{if(this.id!=A.nj&&this.id!=A.D8){var z=v.Ue(this.jX),p=f.m(z.k()*4,d.depth);
f.wH(x.buffer,x.S,p,z);x.buffer=p;x.S=z}}}else Y.s4();this.uM(d,a)}if(Z<=0){U=f.m(v.k()*4,d.depth);f.wH(this.bj,this.jX,U,v)}else{U=f.m(v.k(),d.depth);
U.fill(Math.round(f.ay(d.depth)*Y.color/255));f.Qb(this.bj,this.jX,U,v)}this.hu(d,!1,t?t:this.name,g,Z,v,U,h,X)};
A.mE.prototype.hu=function(d,v,t,h,X,g,x,Z,Y){var a=x;if(X>0){a=f.m(g.k()*4,f.UJ(x));A.mE.$d(x,g,0,a,g)}var z=new bd(t,this);
z.data=[{B:h,qj:X,BS:g,Gw:a}];if(Z)z.data.a6J=[d.p,null];if(Y)z.data.a6J=[this.B2,d.p];d.RS(z);if(v)this.BW(z.data,d);
else if(Z)d.p=null;A.Y$.awp(d,z.data)};A.mE.prototype.Js=function(d,v){this.aN4(d,v,!1)};A.mE.prototype.BW=function(d,v){this.aN4(d,v,!0)};
A.mE.prototype.QH=function(d){return A.Y$.QH(d)};A.mE.prototype.aN4=function(d,v,t){if(d.R=="drawtemp"){var h=t?d.adL:d.asq,X=v.U[d.B];
X.k7.SS=h;X.pv(v,0,0,v.p);X.uM();v.Ir=!0}else{A.Y$.zW(v,d);if(d.a6J){v.p=d.a6J[t?1:0];v.B6=!0}}v.uM()};
A.mE.prototype.da=function(d){var v=this.N6.Ll(),t=this.N6.pT(),h=this.N6.iS();this.h_(d,this.ZG,v,t,h);
this.uM(d)};A.mE.prototype.h_=function(d,v,t,h,X){var g=this.zj,x=d.U[d.l[0]],Z=d.Cv.length!=0?d.gM[d.Cv[0]]:x.VL<=0?null:x.VL==1?x._B():x.Ip(d).AU,Y=f.m(X.k()*4,d.depth),a,z=x.BL(0);
if(Z==null){if(this.id==A.GR&&v=="heal")f.wH(x.buffer,x.S,Y,X);else f.wH(this.bj,this.jX,Y,X);if(z){a=f.m(X.k(),d.depth);
f.Po(Y,a,3)}}else{A.mE.$d(this.bj,this.jX,Z.color,Y,X)}if(d.p&&v!="qselect"){var p=X.hL(d.p.S),U=f.m(p.k()*4,d.depth);
if(v=="copy"){var l=f.m(p.k(),d.depth);f.Qb(d.p.N,d.p.S,l,p);f.wH(Y,X,U,p);f.V.cI(t,h,U,p,l,p,0,p,1,!1)}else{f.wH(t,h,U,p);
f.Qc(d.p.N,d.p.S,U,p)}t=U;h=p}function L(F,dc){var hn=Math.max(dc.x,Math.min(dc.x+dc.r-1,F.x)),dF=Math.max(dc.y,Math.min(dc.y+dc.$-1,F.y));
return new cK(hn,dF)}if(v=="idraw"||v=="ierase"){if(this.OY==null)this.OY=f.m(this.jX.k());var j=g.samp,O=this.n.dL,F=L(this.CT,X),i=j==0?F:this._I,$=i.x,H=i.y,b=A.pZ.Br(this.bj,this.jX,[i,new cK($-2,H),new cK($+2,H),new cK($,H-2),new cK($,H+2)]);
if(j==2)b=[[O>>>16&255,O>>>8&255,O>>>0&255,255]];var r=A.pZ.YV(Y,X,F,b,g.wconf),W=f.m(X.k());f.Qb(this.OY,this.jX,W,X);
f.wR.Ue(r,W,W);f.Qb(W,X,this.OY,this.jX);f.Qc(W,X,t,h);v=v.slice(1)}if(v=="erase"&&(A.Y$.ax1(d)!=16777215||Z))v="draw";
if(v=="draw")f.V.Qe(g.bmode,t,h,Y,X,X,g.opacity);else if(v=="erase"){var V=g.opacity;if(this.id==A.Be)V=1;
var y=f.m(X.k()*4,d.depth);f.wH(t,h,y,X);if(Z==null){var c=f.m(X.k(),d.depth);f.Po(y,c,3);f.h0(c,V);
f.zJ(c);f.Qc(c,X,Y,X)}else{f.VT(y,0,0,0);f.V.Qe("norm",y,X,Y,X,X,V)}}else if(v=="clone"||v=="heal"){var S=this.fT(),C=this.Kw.b();
C.offset(S.x,S.y);var K=X.b();K.o2(1,1);var T=f.m(K.k()*4,d.depth),D=f.m(K.k(),d.depth);f.wH(t,h,T,K);
f.Po(T,D,3);T.fill(0);if(Z==null){f.wH(this.ND,C,T,K);var N=f.m(K.k(),d.depth);f.Po(T,N,3);f.yK(N,D)}else A.mE.$d(this.ND,C,Z.color,T,K);
if(v=="clone"){f.Gj(D,T,3);f.V.Qe(g.bmode,T,K,Y,X,X,g.opacity)}if(v=="heal"){var G=D.slice(0);f.round(G,f.ay(d.depth)/10);
var s=f.m(K.k()*4,d.depth);if(Z==null)f.wH(this.bj,this.jX,s,K);else A.mE.$d(this.bj,this.jX,Z.color,s,K);
f.V.cI(T,K,s,K,G,K,0,K,1,!1);var Q=f.OO(s,8);f._L.oC(Q,G,K);f.OO(Q,d.depth,s);f.V.cI(s,K,Y,X,D,K,0,X,1,!1)}}else if(v=="dodge"||v=="burn"){var q=X.k()*4,R=f.ay(d.depth),m=1/R,T=f.m(q,d.depth),e=1,w=0,M=0,P=0;
f.wH(t,h,T,X);var E=A.mE.RR;if(this.b8){if(v=="dodge")v="burn";else v="dodge"}var I=g.rng;if(v=="dodge"){w=[1-e/2,1,1+e][I];
M=[1,1/(1+e),1][I];P=[e/2,0,0][I]}if(v=="burn"){w=[1/(1-e/2),1,1-e/2][I];M=[1,1+e,1][I];P=[-(e/2)/(1-e/2),0,0][I]}for(var n=0;
n<q;n+=4){var k=T[n+3]*m;Y[n+0]=R*E(Y[n+0]*m,w,M,P,k);Y[n+1]=R*E(Y[n+1]*m,w,M,P,k);Y[n+2]=R*E(Y[n+2]*m,w,M,P,k)}}else if(v=="sponge"||v=="redeye"){var T=f.m(X.k()*4,d.depth),D=f.m(X.k(),d.depth);
f.wH(t,h,T,X);f.Po(T,D,3);f.Hy(Y,T);var o=g.smode;if(this.b8)o=1-o;var af=e0.yu("hue2");if(v=="sponge")kg.jq(af,0,[0,[-50,46][o],[6,5][o]]);
else kg.jq(af,1,{Cy:[265,305,25,55],I5:[0,-90,-70]});var J=cV.MM("hue2",af);cV.yh(J,T,T,X);f.V.cI(T,X,Y,X,D,X,0,X,1,!1)}else if(v=="copy")f.wH(t,h,Y,X);
else if(v=="sheal"){var T=f.m(X.k()*4,d.depth),D=f.m(X.k(),d.depth);f.wH(t,h,T,X);f.Po(T,D,3);T.fill(0);
var at=this.ND,ke=this.Kw;if(Z){at=f.m(ke.k()*4,d.depth);A.mE.$d(this.ND,ke,0,at,ke)}var c_=f.OO(T,8),ag=f.Mm.oC(f.OO(at,8),ke,f.OO(D,8),c_,X);
f.OO(c_,d.depth,T);if(ag!=0)f.wH(at,ke,T,X);if(g.sfrom==0)f.wH(T,X,Y,X);else{f.wH(this.bj,this.jX,Y,X);
f.Gj(D,T,3);f.V.Qe("norm",T,X,Y,X,X,1)}}else if(v=="qselect"){var dz=this.jX,kL=dz.r,aq=dz.$,dh=kL*aq,gK=f.OO(this.N6.Ll(),8),ad=A.Oe.G6,D=ad.rR;
D.fill(128);for(var n=0;n<dh;n++){var dc=gK[n<<2],lq=gK[(n<<2)+3];if(lq==255&&(dc==0||dc==255))D[n]=dc}D[0]=D[kL-1]=0;
D[(aq>>>1)*kL]=D[(aq>>>1)*kL+kL-1]=0;A.dR.Nh(ad,!0,d);d.p={S:dz,N:f.OO(ad.p.slice(0),d.depth)};d.B6=!0}if(Z==null){if(z)f.Gj(a,Y,3);
f.wH(Y,X,x.buffer,x.S)}else A.mE.qK(Y,X,Z)};A.mE.fT=function(){return null};A.mE.RR=function(d,v,t,h,X){var g=h+v*Math.pow(d,t),x=g*X+d*(1-X);
return Math.max(0,Math.min(1,x))};A.mE.$d=function(d,v,t,h,X){var g=f.UJ(d),x=f.ay(g),Z=f.m(X.k(),g);
Z.fill(x*t/255);f.Qb(d,v,Z,X);h.fill(x);f.I0(Z,h)};A.mE.qK=function(d,v,t){var h=f.m(v.k(),f.UJ(d));
f.TA(d,h);f.Qb(h,v,t.N,t.S)};A.Oe=function(d,v,t){A.M$.call(this,d,v,t);this.zj={binop:0,feat:0,cstr:{o:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.uL=new cK(-1,-1);this.dg=new cK(-1,-1);this.yG="default";this.u$=null;this.up=!1;this.Ig=new kG;
this.zz=!1;this.DT=null;this.JE=null;this.Zy=!1;this.aE8=!1};A.Oe.prototype=new A.M$;A.Oe.prototype.K7=function(){var d=this.zj,v=[d.binop,d.feat],t=d.wconf.slice(0);
t[1]=t[1]?1:0;t[2]=t[2]?1:0;var h=t.join(",")=="16,1,1";if(v[0]==0&&v[1]==0&&h)return null;if(!h)v.push(t);
return v};A.Oe.prototype.Ad=function(d,v,t){var h=this.zj;if(d[0])h.binop=d[0];if(d[1])h.feat=d[1];if(d[2]){var X=h.wconf=d[2].slice(0);
if(typeof X[1]=="number"){X[1]=X[1]==1;X[2]=X[2]==1}}this.pW(t)};A.Oe.prototype.pW=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.a0,T:this.id,zj:this.zj};d.J(v)};A.Oe.G6={key:""};A.Oe.Vy=function(d,v,t){var h={oN:d,mQ:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(v)h.mQ.T=v;if(t!=null)h.mQ.AntA={t:"bool",v:t};return h};A.Oe.Lb=function(d,v,t){return A.Oe.Vy("set",{t:"Objc",v:{classID:d,Top:{t:"UntF",v:{type:"#Pxl",val:v.y}},Left:{t:"UntF",v:{type:"#Pxl",val:v.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:v.y+v.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:v.x+v.r}}}},t)};
A.Oe.Z5=function(d,v,t){var h=[],X=[],x="set";for(var n=0;n<d.length;n+=2){h.push(d[n]);X.push(d[n+1])}var g={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:h},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:X}]}}}};
if(v)x=["set","addTo","subtractFrom","interfaceWhite"][v];return A.Oe.Vy(x,g,t)};A.Oe.aro=function(d,v,t){var h={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:d.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:d.y}}}},X=A.Oe.Vy("set",h);
X.mQ.Tlrn={t:"long",v:v[0]};X.mQ.AntA={t:"bool",v:v[1]};X.mQ.Cntg={t:"bool",v:v[2]};if(t==!0)X.mQ.Mrgd={t:"bool",v:t};
return X};A.Oe.qJ=function(d){return A.Oe.Vy("set",{t:"enum",v:{Ordn:d?"Al":"None"}})};A.Oe.DX=function(d,v,t){var h={classID:"null"};
if(d!="border")h.selectionModifyEffectAtCanvasBounds={t:"bool",v:t};var X={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[d[0]];
h[X]={t:"UntF",v:{type:"#Pxl",val:v}};return{oN:d,mQ:h}};A.Oe.a8=function(d,v,t){var h={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},X={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v}}]};
if(t)X.v.push({t:"name",v:{classID:"Lyr",val:t}});var g=[{classID:"null",null:h,T:X},{classID:"null",null:X,T:h},{classID:"null",null:X,From:h},{classID:"null",null:X,With:h}],x=["set","add","subtract","interfaceIconFrameDimmed"];
return{oN:x[d],mQ:g[d]}};A.Oe.amM=function(){return{oN:"make",mQ:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
A.Oe.a4H=function(d,v){var t=new eG(_.E.c,!0);t.data={R:_.Y.Kf,Ic:lx.b9};if(!v.N$)d.J(t);t.data={R:_.Y.Kf,Ic:lx.Vq};
if(!v.rp.Oc)d.J(t)};A.Oe.prototype.Oh=function(d,v,t,h,X){A.Oe.a4H(v,X);this.u$=v;var g=d.R,x,Z,Y=new iW(0,0,t.r,t.$),fj=!1,bR,bD,e1,am;
if(g=="fromAction"){var a=d.VV,z=a.oN,p=a.mQ,U=p?p.selectionModifyEffectAtCanvasBounds:null,l=U&&U.v;
if(z=="colorRange"){if(p.Clrs){var L=p.Clrs.v.Clrs,j=0,O=255,F=["Shdw","Mdtn","Hghl"].indexOf(L),b=.4;
if(F==0)O=60;else if(F==1){j=100;O=150}else j=190;var i=["shadows","midtones","highlights"][F],$=p[i+"LowerLimit"],H=p[i+"UpperLimit"];
if($)j=$.v;if(H)O=H.v;var r=p[i+"Fuzziness"];if(r)b=r.v/100;x=A.Oe.$Q(t,j,O,b,!0)}else{var j=p.Mnm.v,O=p.Mxm.v,b;
j={f0:j.Lmnc.v,aX:j.A.v,X:j.B.v};O={f0:O.Lmnc.v,aX:O.A.v,X:O.B.v};b=p.Fzns.v/200;x=A.Oe.$Q(t,j,O,b)}Z=[7,8]}else if(z=="inverse"){if(t.p==null){alert("No selection!");
return}x={N:f.m(Y.k(),t.depth),S:Y};f.Qb(t.p.N,t.p.S,x.N,x.S);f.zJ(x.N);Z=[7,2]}else if(z=="expand"){var W=p.By.v.val,V=t.p.S.b();
V.o2(W,W);var y=f.m(V.k()),c=f.m(V.k(),t.depth);f.Qb(t.p.N,t.p.S,c,V);f.style.stroke(f.OO(c,8),y,V,W);
x={N:f.OO(y,t.depth),S:V};Z=[7,4]}else if(z=="contract"){var W=p.By.v.val,S=t.p.S.b();S.o2(1,1);if(!l)S=S.hL(Y);
var c=f.m(S.k(),t.depth),C=f.m(c.length,8);f.Qb(t.p.N,t.p.S,c,S);f.zJ(c);f.style.stroke(f.OO(c,8),C,S,W);
f.zJ(C);x={N:f.OO(C,t.depth),S:S};f.s4(x);Z=[7,5]}else if(z=="border"){var W=p.Wdth.v.val;x=A.Oe.avT(t.p,W/2,W/2);
Z=[7,9]}else if(z=="feather"||z=="smoothness"){var W=p.Rds.v.val;x=A.Oe.aGL(t.p,W,z=="smoothness",Y,l);
Z=z=="feather"?[7,6]:[19,3,0]}else if(z=="move"){var K=p.T.v,V=t.p.S.b();V.x+=K.Hrzn.v.val;V.y+=K.Vrtc.v.val;
x={N:t.p.N,S:V};Z=[7,7]}else if(z=="grow"||z=="similar"){var T=this.zj.wconf.slice(0);if(p.Tlrn)T[0]=p.Tlrn.v;
T[2]=z=="grow";var D=t.jP(),N=new iW(0,0,t.r,t.$),G=t.p.S,s=Math.max(1,Math.round(Math.sqrt(G.k())/10)),Q=f.m(N.k());
f.Qb(t.p.N,G,Q,N);var q=[];for(var R=0;R<G.$;R+=s)for(var m=(G.k()+R)%s;m<G.r;m+=s)if(t.p.N[R*G.r+m]==255){var E=new cK(G.x+m,G.y+R);
q.push(E);if(T[2])f.wR.Ue(A.pZ.YV(D,N,E,null,T),Q,Q)}if(!T[2])f.wR.Ue(A.pZ.YV(D,N,E,A.pZ.Br(D,N,q),T),Q,Q);
x={N:Q,S:N};Z=z=="grow"?"Grow Selection":"Similar Selection";console.log(p)}else{var e=p.null.v,w=p.AntA!=null&&p.AntA.v;
function M(jQ){return f.Q.kI(f._5.pT(jQ,t.r,t.$),!0)}function P(jQ){var eS=jQ[0].arr,ji=jQ[1].arr,l7={I:[],s2:[]};
for(var n=0;n<eS.length;n++){l7.s2.push(n==0?"M":"L");l7.I.push(eS[n],ji[n])}l7.s2.push("Z");if(jQ[0].uID=="#Prc")f.Q.M(l7.I,new gi(t.r/100,0,0,t.$/100,0,0),l7.I);
return l7}var I=["set","addTo","subtractFrom","interfaceWhite"].indexOf(z),k=p.T?p.T.v:null;if(k&&k.classID=="Elps"){x=this.aHE(A.Ur.aKB(M(k)),t.depth);
Z=[10,4]}else if(k&&k.classID=="Rctn"){var o=M(k);x={N:f.m(o.k(),t.depth),S:o.b()};x.N.fill(f.ay(t.depth));
Z=[10,15]}else if(k&&k.classID=="ObSl"){var o=M(k),af=A.Oe.G6,J=af.S,at=af.rR,ke=J.r,c_=J.$,ag=o.x-J.x,dz=ag+o.r-1,kL=Math.max(ag,Math.min(dz,ag+dz>>>1)),aq=o.y-J.y,dh=aq+o.$-1,gK=Math.max(aq,Math.min(dh,aq+dh>>>1)),ad=Math.max(ag,0),dc=Math.min(dz,ke),lq=Math.max(aq,0),hn=Math.min(dh,c_);
at.fill(128);if(0<=aq)for(var m=ad;m<dc;m++)at[aq*ke+m]=0;if(dh<c_)for(var m=ad;m<dc;m++)at[dh*ke+m]=0;
if(0<=ag)for(var R=lq;R<hn;R++)at[R*ke+ag]=0;if(dz<ke)for(var R=lq;R<hn;R++)at[R*ke+dz]=0;var dF=A.ZP.az1,c3=Math.round(o.r*dF),i8=Math.round(o.$*dF);
for(var m=Math.max(0,kL-c3);m<Math.min(ke,kL+c3);m++)at[gK*ke+m]=255;for(var R=Math.max(0,gK-i8);R<Math.min(c_,gK+i8);
R++)at[R*ke+kL]=255;A.dR.Nh(af,!0);x={N:af.p.slice(0),S:J.b()};Z=[10,44]}else if(k&&k.classID=="Plgn"){x=this.aHE(P(k.Pts.v.arr),t.depth);
Z=[10,9]}else if(k&&k.classID=="Pnt"){x=A.pZ.a3d(t,new cK(k.Hrzn.v.val,k.Vrtc.v.val),[p.Tlrn.v,w,p.Cntg==null||p.Cntg.v],p.Mrgd?p.Mrgd.v:!1);
Z=[10,12]}else if(k&&k.Ordn=="None"){x=null;Z=[7,1]}else if(k&&k.Ordn=="Al"){var dr=Y;if(t.l.length!=0){var jO=t.root.Ty(t.l[0]);
while(jO.parent&&jO.parent.parent)jO=jO.parent;if(jO.B.add.artb)dr=jO.B.x1()}x={N:f.m(dr.k(),t.depth),S:dr};
x.N.fill(f.ay(t.depth));Z=[7,0]}else if(k&&k[0]&&k[0].v.keyID=="WrPt"){var d1={R:"frompath",HW:[-1,0,0]};
this.Oh(d1,v,t,h,X);return}else{var h3=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(z),d5=z=="set"?k:e,em=d5[0].v.enum,d1;
if(em=="Trsp"||em=="Gray"||em=="Msk"||em=="vectorMask"||em=="Trgt"){var fl=t.l[0];if(d5.length==2)fl=kl.y7(t,d5[1]);
var lA=["Trsp","Msk","vectorMask"].indexOf(em);if(em=="Trgt"&&t.U[fl].VL==1)lA=1;if(em=="Gray")lA=-1;
d1={R:"fromlayer",HW:[fl,lA,h3]}}else{if(d5[0].t=="name"){var fl=0;for(var n=0;n<t.gM.length;n++)if(t.gM[n].name==d5[0].v.val)fl=n;
d1={R:"fromchannel",HW:[-5-fl,0,h3]}}else{var av=["RGB","Rd","Grn","Bl"].indexOf(em);d1={R:"fromchannel",HW:[-1-av,0,h3]}}}this.Oh(d1,v,t,h,X);
return}if(x){if(!w)f.round(x.N);if(p.Fthr)x=A.Oe.aGL(x,p.Fthr.v.val,!1);if(z!="set"&&t.p!=null)x=f.wR.Ga(x,t.p,I)}}if(z=="expand"||z=="contract")if(!l&&!Y.contains(x.S)){var ah=x.S.hL(Y),gE=f.m(ah.k(),t.depth);
f.Qb(x.N,x.S,gE,ah);x.N=gE;x.S=ah}}if(g=="qmask"){fj=!0;var dj=t.PW(),N=new iW(0,0,t.r,t.$);if(dj){x=dj.S.fE(N)&&f.ht(dj.N,255)?null:{S:dj.S.b(),N:dj.N.slice(0)};
bR=dj}else{x=null;bD=new jn.Ks;bD.color=0;bD.name="Quick Mask";bD.ak=!0;if(t.p){bD.S=t.p.S.b();bD.N=t.p.N.slice(0)}else{bD.S=N;
bD.N=f.m(bD.S.k());bD.N.fill(255)}}Z=[6,6,1];t.Ir=!0}if(g=="setsel"){x=d.p;Z=d.qq}if(g=="crange"){var j=d.ad,O=d.cs;
x=A.Oe.$Q(t,j,O,d.rE);Z=[7,8]}if(g=="fromlayer"||g=="fromchannel"||g=="frompath"){var ja=d.HW[0],lA=d.HW[1],I=d.HW[2];
if(g=="fromlayer"){if(ja==null)ja=t.l[0];var aj=t.U[ja];if(lA<=0){if(aj.h5()){var jO=t.root.Ty(ja);x={N:f.m(0),S:new iW};
for(var n=0;n<jO.children.length;n++){var dS=jO.children[n].B;if(dS.S.HP())continue;var eW=f.m(dS.S.k());
f.Po(dS.buffer,eW,3);var be={N:eW,S:dS.S.b()};if(n==0)x=be;else x=f.wR.Ga(x,be,1)}if(x.S.HP())return}else{var cI=aj.S,kP=aj.buffer;
if(cI.HP())return;var i0=f.m(kP.length>>>2,t.depth);if(lA==0)f.Po(kP,i0,3);if(lA==-1)f.TA(kP,i0);x={N:i0,S:cI.b()}}}else{if(aj.AU==null)aj.tG(t);
var ac=lA==1?aj._B():aj.AU;if(lA==3)ac=aj.Ip(t).AU;x=A.Oe.aAO(ac,Y)}this.track(A.Oe.a8(I,["Trsp","Msk"][lA],aj.getName()))}else if(g=="frompath"){var eo=t.V9(),eP=eo[1],eo=eo[0],kW=!0;
if(ja==null)if(eo.length==0||eP.length==0)return;var as=eo[eP[0]];if(ja!=null)for(var n=0;n<eo.length;
n++)if(eo[n].ja==ja)as=eo[n];var ac=as.add.vmsk._B(),kF=ac.pT();if(kF.k()==0)return;var i0=ac.Nr();if(d.HW[3]!=null)kW=d.HW[3];
if(!kW){i0=i0.slice(0);f.round(i0)}e1=[JSON.stringify(t.lE),JSON.stringify(t.so)];am=["[]","[]"];t.lE=[];
t.so=[];x={N:i0,S:kF}}else if(g=="fromchannel"){if(ja==null)ja=A.Oe.a9o(t);x=A.Oe.aF2(t,ja)}if(I!=0&&t.p)x=f.wR.Ga(x,t.p,I);
Z=[14,11]}if(g=="bgrm"){if(A.Oe.amx(t,v,d,X))return;var hs=window.locStor.getItem("bgrmt");if(hs==null)hs=0;
var gc=24*60*60,fK=A.Oe.aJa.bind([t,v,d,X]),lo=Math.floor((Date.now()-hs)/1e3);if(!iT.Sk(1)&&iT.bE(X,1)==null){var cR=iP.yU(),fU=cR?"Out of AI credits :( ":"This is a Premium feature. Go Premium for $5 a month (press Account at the top). ",g8=fU+"\nWatch a short ad to use the feature?";
li.vx(fK,g8,"rmbg")}else fK();return}if(x!=null&&f.ht(x.N,0)){x=null;Z=[7,1]}if(x)f.s4(x);var i2=new bd(Z,this);
i2.data={R:"changesel",p:x,PW:fj,aMz:bR,aip:bD,g1:e1,ag4:am};t.RS(i2);this.BW(i2.data,t)};A.Oe.amx=function(d,v,t,h){var X=d.U[d.l[0]],g=X.S,x=f.OO(X.buffer,8),Z=g.r,Y=g.$,a=[0,0,Z-1,0,0,Y-1,Z-1,Y-1],z=!0;
for(var n=0;n<4;n+=2){var p=(a[n+1]*Z+a[n])*4,U=0;for(var l=0;l<3;l++){U+=(x[l]-x[p+l])*(x[l]-x[p+l])}if(U>25)z=!1}if(z&&X._B()==null&&d.p==null){var L=f.m(Z*Y);
for(var n=0;n<4;n++){var j=a[n*2],O=a[n*2+1],F=20,i=1,$=null;if(L[O*Z+j]>200)continue;while(F<120){var H=A.pZ.YV(x,g,new cK(j,O),null,[F,!0,!0]),b=0;
for(var l=0;l<H.length;l++)b+=H[l];var r=F<50?1.015:1.004;if($&&b>i*r)break;$=H;i=b;F+=10}for(var l=0;
l<$.length;l++)L[l]=Math.max(L[l],$[l])}f.zJ(L);A.Oe.asH(X,v,L,g,t.K,null);alert(f4.Rb("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};A.Oe.aJa=function(){var d=this[0],v=this[1],t=this[2],h=this[3],X=2,g=d.U[d.l[0]],x=g.S,Z=f.OO(g.buffer,8),Y=1,a=[4096,4096,2048][X];
while(Math.max(x.r,x.$)>a){var z=f.kz(Z,x);x=z.S;Z=z.sN;Y*=2}var p=b3.bV("png"),U=b3.bV("jpg"),l=U.V$([[Z.buffer]],x.r,x.$),L=new FormData;
L.append("image",new Blob([l],{type:"ima"+"ge/j"+"pg"}));L.append("mode","mask");var j=new eG(_.E.c,!0);
j.data={R:_.Y.Wq,jH:"Processing ..."};v.J(j);window.aoe=Date.now();var O=function(F){console.log(Date.now()-window.aoe);
var i=F.target.response,$=new Uint8Array(i);if($.length!=0){var H=p.CE(i)[0],b=H._S,r=f.m(b.k());f.TA(new Uint8Array(H.data),r);
for(var n=0;n<r.length;n++){if(r[n]>250)r[n]=255}if(Y!=1){var z=A.hZ.a0t([r,b],new gi(Y,0,0,Y,0,0));
b=z.S;r=z.N}b.x=g.S.x;b.y=g.S.y;A.Oe.asH(g,v,r,b,t.K,f4.Rb("AQVUYE\\{}"));if(iT.bE(h,1)==null){iT.o6("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var j=new eG(_.E.c,!0);
j.data={R:_.Y.DQ,jH:"Processing ..."};v.J(j)};iT.ale(f4.Rb("aQVUYEi<87<5=7:0#"),L,iT.bE(h,1),O)};A.Oe.asH=function(d,v,t,h,X,g){var x=new eG(_.E.F,!0);
if(X==1){x.T=A.EM;x.data={R:jn.ks,co:g,agb:!0,y1:"HdAl"};v.J(x);var Z=d._B();Z.color=0;Z.S=h;Z.N=f.OO(t,f.UJ(d.buffer));
Z.s4();d.tG()}else if(X==2){x.T=A.Nf;x.data={R:"setsel",p:{N:t,S:h},qq:"Select Subject"};v.J(x)}else throw"e"};
A.Oe.a9o=function(d){var v=0;if(d.Cv.length!=0)v=-5-d.Cv[0];else if(JSON.stringify(d.z.b$)=="[1,1,1]")v=-1;
else v=-2-d.z.b$.indexOf(1);return v};A.Oe.aF2=function(d,v){var t,h=new iW(0,0,d.r,d.$);if(-5<v&v<0){var X=-v-1,g=d.jP(),x=f.m(h.k());
if(X==0)f.TA(g,x);else f.Po(g,x,X-1);t={N:x,S:h.b()}}if(v<-4){t=A.Oe.aAO(d.gM[-v-5],h)}return t};A.Oe.aAO=function(d,v){var t,h;
if(d.pq()==0){h=d.pT().b();if(h.k()==0)return;t=d.Nr()}else{h=v;t=f.m(h.k());d.NN(h,t)}return{N:t,S:h}};
A.Oe.prototype.pG=function(d){return this.zz||d.n2&&this.id!=A.w2};A.Oe.prototype.$m=function(d,v,t){var h=new eG(v,!0);
h.data=t;d.J(h)};A.Oe.prototype.ah3=function(d,v){var t=new eG(_.E.c,!0);t.data={R:_.Y.TG,Cn:v};d.J(t)};
A.Oe.prototype.pT=function(d,v,t){v=d.p==null||this.Ig.vS(1)||this.Ig.CH(1)?v:null;var h=this.uL,X=this.dg;
if(t){h.x=Math.max(0,Math.min(d.r,h.x));h.y=Math.max(0,Math.min(d.$,h.y));X.x=Math.max(0,Math.min(d.r,X.x));
X.y=Math.max(0,Math.min(d.$,X.y))}var g=A.N4.WC(h,X,v,!0,this.zj.cstr),x=g[0].x,Z=g[0].y,Y=new iW(x,Z,g[1].x-x,g[1].y-Z);
if(t){Y.x=Math.max(Y.x,0);Y.y=Math.max(Y.y,0)}return Y};A.Oe.prototype.li=function(d,v,t,h,X){this.aE8=!0;
if(this.L5())return;this.u$=v;this.up=!1;this.Ig.li(h);this.uL=d.z.tw(X.x,X.y);this.uL=A.jt.$b(d,this.uL,t);
if(this.aHI(d,this.uL,h)){this.zz=!0;this.DT=d.p.S.b();return}this.KT(d,t,h,X);d.z.O0=new iW};A.Oe.prototype.aHI=function(d,v,t){var h=t.A(cQ.cm),X=t.A(cQ.io);
if(d.p&&!h&&!X&&this.zj.binop==0)return f.x6(v,d.p.N,d.p.S);return!1};A.Oe.prototype.qw=function(d,v,t,h,X){this.u$=v;
if(this.Zy)return;var g=d.z.tw(X.x,X.y);if(cK.A_(this.uL,g)*d.z.OI>5){this.up=!0;this.Ig.qw()}if(h.A(cQ.uh)){if(this.JE==null)this.JE=new cK(g.x-this.uL.x,g.y-this.uL.y);
this.uL.x=g.x-this.JE.x;this.uL.y=g.y-this.JE.y}else this.JE=null;this.dg=g;if(!this.zz&&this.id!=A.w2)this.dg=A.jt.$b(d,this.dg,t);
if(this.aHI(d,this.dg,h))this.ah3(v,"move");else this.ah3(v,this.yG);if(this.zz){var x=this.DT.b();x.x+=this.dg.x-this.uL.x;
x.y+=this.dg.y-this.uL.y;var Z=A.jt.YY(d,x,t);d.p.S.x=Math.round(this.dg.x-this.uL.x+this.DT.x+Z[0]);
d.p.S.y=Math.round(this.dg.y-this.uL.y+this.DT.y+Z[1]);d.B6=!0;A.jt.Wo(d,x,Z);return}this.Lg(d,t,h,X,v);
if(d.z.O0)d.z.O0=this.pT(d,h)};A.Oe.prototype.L5=function(){return!1};A.Oe.prototype.QZ=function(d,v,t,h,X,g){var x=this.aE8;
this.aE8=!1;if(g||!x)return;d.z.O0=null;this.dg=d.z.tw(X.x,X.y);this.dg=A.jt.$b(d,this.dg,t);if(this.zz){this.zz=!1;
if(d!=null&&d.W.O1){d.W.O1=null;d.QW=!0}if(this.dg.fE(this.uL)&&this.dx()==0){this.$m(v,_.E.U0,A.Oe.qJ());
return}this.ai5(d,this.DT,d.p.S.b());return}this.qz(d,t,h,X,v);A.Oe.a4H(v,t);this.Ig.QZ();this.t2(v)};
A.Oe.prototype.ai5=function(d,v,t){var h=d.oD();if(h!=null&&h.T==this&&h.data.R=="movesel"){}else{h=new bd([7,7],this);
h.data={R:"movesel",xs:v};d.RS(h)}h.data.GE=t;this.BW(h.data,d)};A.Oe.prototype.uO=function(d,v,t,h,X){this.Zy=!0};
A.Oe.prototype.rP=function(d,v,t,h,X){var g=new eG(_.E.c,!0);g.data={R:_.Y.a0,T:this.id,_h:X,lG:d,n:t};
v.J(g);this.Zy=!1};A.Oe.prototype.M6=function(d,v,t,h){this.Ig.M6(h);if(d!=null&&d.p!=null){var X=h.eI();
if(X.x!=0||X.y!=0){var g=d.p.S.b();g.x+=X.x;g.y+=X.y;this.ai5(d,d.p.S.b(),g)}}this.t2(v)};A.Oe.prototype.t2=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.a0,T:this.id,J9:this.dx()};d.J(v)};A.Oe.prototype.dx=function(){var d=this.Ig.vS(0),v=this.Ig.CH(0);
return A.Oe.BJ(this.zj.binop,d,v)};A.Oe.BJ=function(d,v,t){if(v)d=1;if(t)d=2;if(v&&t)d=3;return d};A.Oe.prototype.finish=function(d,v,t,h){var X=d.p,g=this.getSelection(d,v,t,h);
if(g==null)g=A.Oe.qJ();else{var x=this.zj.feat,Z=this.dx();if(x!=0)g.mQ.Fthr={t:"UntF",v:{type:"#Pxl",val:x}};
if(Z!=0&&Z!=4)g.oN=["","addTo","subtractFrom","interfaceWhite",""][Z]}this.$m(this.u$,_.E.U0,g);this.uL.QG(-1,-1);
this.dg.QG(-1,-1)};A.Oe.prototype.getSelection=function(d,v,t,h){return null};A.Oe.prototype.KT=function(d,v,t,h){};
A.Oe.prototype.Lg=function(d,v,t,h){};A.Oe.prototype.qz=function(d,v,t,h){};A.Oe.prototype.Js=function(d,v){var t=d.R;
if(t=="changesel"){var h=v.p;v.p=d.p;d.p=h}if(t=="movesel")v.p.S=d.xs;if(d.PW){if(d.aMz){v.Cv=[v.gM.length];
v.gM.push(d.aMz)}else{v.gM.pop();v.Cv=[]}}if(d.g1){v.lE=JSON.parse(d.g1[0]);v.so=JSON.parse(d.g1[1])}v.B6=!0};
A.Oe.prototype.BW=function(d,v){var t=d.R;if(t=="changesel"){var h=v.p;v.p=d.p;d.p=h}if(t=="movesel")v.p.S=d.GE;
if(d.PW){if(d.aip){v.Cv=[v.gM.length];v.gM.push(d.aip)}else{v.gM.pop();v.Cv=[]}}if(d.g1){v.lE=JSON.parse(d.ag4[0]);
v.so=JSON.parse(d.ag4[1])}v.B6=!0};A.Oe.prototype.QH=function(d){return d.R=="changesel"&&d.p?d.p.N.length:0};
A.Oe.prototype.Fb=function(d){for(var v in d.zj)this.zj[v]=d.zj[v]};A.Oe.prototype.aHE=function(d,v){var t=f.Q.k2(d.I);
if(t.HP())return null;var h=f.km(t.r,t.$);h.save();h.beginPath();h.translate(-t.x,-t.y);Typr.U.pathToContext({cmds:d.s2,crds:d.I},h);
h.closePath();h.fill();h.restore();var X=f.m(t.k()),g=h.getImageData(0,0,t.r,t.$);f.Po(new Uint8Array(g.data.buffer),X,3);
if(v!=8)X=f.OO(X,v);return{S:t,N:X}};A.Oe.aGL=function(d,v,t,h,X){if(t)v=Math.round(v*.7);var g=Math.ceil(2.6*v),x=d.S.b();
x.o2(g,g);if(h&&!X)x=x.hL(h);var Z=f.m(x.k(),f.UJ(d.N));f.Qb(d.N,d.S,Z,x);f.C2.Hd(Z,x,v);if(t){var Y=Z.length,a=f.ay(f.UJ(Z)),z=a/2;
for(var n=0;n<Y;n++){var p=(Z[n]-z)*v*2.5;Z[n]=Math.max(0,Math.min(a,z+p))}}return{N:Z,S:x}};A.Oe.avT=function(d,v,t){var h=f.UJ(d.N),X=f.OO(d.N,8),g=Math.max(1,Math.ceil(t)),x=d.S.b();
x.o2(g,g);var Z=x.k(),Y={N:f.m(Z),S:x},a=f.m(Z);f.Qb(X,d.S,a,Y.S);if(t!=0)f.style.stroke(a,Y.N,Y.S,t);
else f.Hy(a,Y.N);var z=f.m(Z);f.zJ(a);if(v!=0)f.style.stroke(a,z,Y.S,v);else f.Hy(a,z);f.wR.hL(Y.N,z,Y.N);
Y.N=f.OO(Y.N,h);return Y};A.Oe.$Q=function(d,v,t,h,X){var g=new iW(0,0,d.r,d.$),x=d.jP();if(d.p){var Z=d.p.S.hL(g),Y=f.m(Z.k()*4,d.depth);
f.wH(x,g,Y,Z);g=Z;x=Y}var a=g.k(),z=f.m(a,d.depth),p=1/h,U=255/f.ay(d.depth);if(X){if(v>=t)v=t-1;var l=v*(1-h),L=v,j=t,O=t+(255-t)*h,F=l==L?0:1/(L-l),i=j==O?0:1/(O-j);
for(var n=0;n<a;n++){var $=n<<2,H=f.KR(x[$]*U,x[$+1]*U,x[$+2]*U),b=0;if(H<l)b=0;else if(H<L)b=(H-l)*F;
else if(H<=j)b=1;else if(H<=O)b=1-(H-j)*i;else b=0;z[n]=x[$+3]*b*b}}else for(var n=0;n<a;n++){var $=n<<2,r=f.Nv(x[$]*U,x[$+1]*U,x[$+2]*U),b=f.aHc(r,v,t,h,p);
z[n]=x[$+3]*b}return{S:g,N:z}};A.NH=function(){A.mE.call(this,[10,18],A.xj,"tools/blur");this.ZG="copy"};
A.NH.prototype=new A.mE;A.NH.prototype.li=function(d,v,t,h,X){var g=h.A(cQ.io)?hv.dJ:hv.xj;this.it(d,t,h,X,this.zj.strn,g);
if(this.N6==null)return;this.da(d)};A.NH.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.mf=function(){A.mE.call(this,[10,0],A.nj,"tools/brush");
this.ZG="draw"};A.mf.prototype=new A.mE;A.mf.prototype.li=function(d,v,t,h,X){if(this.O9(d,v,t,h,X,!0))return;
this.it(d,t,h,X,this.zj.flow);if(this.N6==null)return;this.da(d)};A.mf.prototype.qw=function(d,v,t,h,X){if(this.O9(d,v,t,h,X))return;
this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null){if(d)d.qi();return}if(!X.n2)return;this.MF(d,t,h,X);
this.da(d)};A.ld=function(){A.mE.call(this,[10,42],A.Av,"tools/crepl");this.ZG="idraw";this.zj.bmode="hue "};
A.ld.prototype=new A.mE;A.ld.prototype.li=function(d,v,t,h,X){if(this.O9(d,v,t,h,X,!0))return;this.it(d,t,h,X,this.zj.flow);
if(this.N6==null)return;this.da(d)};A.ld.prototype.qw=function(d,v,t,h,X){if(this.O9(d,v,t,h,X))return;
this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};
A.Fm=function(){A.mE.call(this,[10,43],A.rU,"tools/redeye");this.zj.smode=0;this.ZG="redeye"};A.Fm.prototype=new A.mE;
A.Fm.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,this.zj.flow);if(this.N6==null)return;this.da(d)};
A.Fm.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;
if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.a6=function(){A.mE.call(this,[10,38],A.D8,"tools/pencil");
this.ZG="draw"};A.a6.prototype=new A.mE;A.a6.prototype.li=function(d,v,t,h,X){if(this.O9(d,v,t,h,X,!0))return;
this.it(d,t,h,X,this.zj.flow);if(this.N6==null)return;this.da(d)};A.a6.prototype.qw=function(d,v,t,h,X){if(this.O9(d,v,t,h,X))return;
this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null){if(d)d.qi();return}if(!X.n2)return;this.MF(d,t,h,X);
this.da(d)};A.FK=function(){A.mE.call(this,[10,22],A.UK,"tools/burn");this.ZG="burn"};A.FK.prototype=new A.mE;
A.FK.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,this.zj.expo/Math.E);if(this.N6==null)return;this.da(d)};
A.FK.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;
if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.yY=function(d,v,t){A.mE.call(this,d==""?null:d?d:[10,1],v?v:A.T6,t?t:"tools/clone");
this.ZG="clone";this._D=null;this.h=null};A.yY.prototype=new A.mE;A.yY.prototype.li=function(d,v,t,h,X){var g=this.zj,x=g.alt[0];
if(h.A(cQ.io)||h.A(cQ.qB)||x){this._D=d.z.tw(X.x,X.y);this.h=null;if(x)this.JO({alt:[!1]},v);this.Om(d);
this.tv(t,h,d,X);return}if(this._D==null){alert(f7.get([15,7,0]));return}this.tv(t,h);this.it(d,t,h,X,this.zj.flow);
if(this.N6==null)return;this.h=this.atn(d.z.tw(X.x,X.y));this.da(d)};A.yY.prototype.atn=function(d){var v=this.h;
if(v==null||!this.zj.algnd)v=new cK(Math.round(d.x-this._D.x),Math.round(d.y-this._D.y));return v};A.yY.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);
if(this.v8)this.Q7(d,t,X);if(this.N6==null){if(this._D!=null)this.tv(t,h,d,X);return}if(!X.n2||this._D==null)return;
this.MF(d,t,h,X);this.da(d)};A.yY.prototype.fT=function(){return this.h};A.hU=function(){A.M$.call(this,[10,53],A.aM8,"tools/csamp");
this.As=-1;this.Cr=null};A.hU.prototype=new A.M$;A.hU.prototype.li=function(d,v,t,h,X){this.Cr=JSON.stringify(d.Aw);
var g=d.z.tw(X.x,X.y),x=d.Aw,Z=1e9,Y=-1;for(var n=0;n<x.length;n++){var a=x[n],z=g.x-a.x,p=g.y-a.y,U=z*z+p*p;
if(U<Z){Z=U;Y=n}}var l=15/d.z.OI;Y=Z<l*l?Y:-1;if(Y==-1){Y=x.length;x.push({x:g.x,y:g.y})}else if(h.A(cQ.io)){x.splice(Y,1);
Y=-1}this.As=Y;d.QW=!0};A.hU.prototype.qw=function(d,v,t,h,X){var g=this.As;if(g!=-1){var x=d.z.tw(X.x,X.y);
d.Aw[g].x=x.x;d.Aw[g].y=x.y;d.QW=!0}};A.hU.prototype.QZ=function(d,v,t,h,X,g){var x=new bd(this.name,this);
x.data={Mo:this.Cr,VE:JSON.stringify(d.Aw)};d.RS(x);this.As=-1};A.hU.prototype.Js=function(d,v){v.Aw=JSON.parse(d.Mo)};
A.hU.prototype.BW=function(d,v){v.Aw=JSON.parse(d.VE)};A.Fv=function(d,v,t){A.M$.call(this,d,v,t);this.zj={bO:{o:0,x:0,y:0},za:!1,H3:!1};
this.VP=!1;this.yG=A.$h();this.LW=null;this.cursor=null;this.aJ4=0;this.X0=null;this.uL=null;this.aun=null;
this.aKu=!1;this.I1=!1};A.Fv.prototype=new A.M$;A.Fv.prototype.Ht=function(){return this.LW!=null};A.Fv.prototype.pG=function(d){return this.uL!=null||this.LW&&this.LW.a34()};
A.Fv.prototype.li=function(d,v,t,h,X){this.X0=X;var g=d.z.tw(X.x,X.y),x=this.zj.bO,Z=x.o!=0?x.x/x.y:null,Y=this.aKu;
this.aKu=!1;if(this.LW){var a=this.LW.Q6(g,d.z.OI);if(Y&&a==null){this.LW.clear(d);this.LW=null}else{this.LW.li(d,t,h,g,Z,!1,X);
this.I1=!1;return}}this.uL=A.jt.$b(d,g,t)};A.Fv.prototype.Hn=function(d,v,t){if(t==null)t=[d.x,d.y,d.x+d.r,d.y,d.x+d.r,d.y+d.$,d.x,d.y+d.$];
return new d3(t,!0,!1,this.id==A.fx,!0,v,this.id==A.fx?2:0,this.id==A.fx?4:3)};A.Fv.prototype.tv=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.TG,Cn:this.cursor};d.J(v)};A.Fv.prototype.enable=function(d,v,t,h){this.u$=v;this.cursor=this.yG;
this.tv(v);if(d!=null&&this.LW==null){var X=d.p?{Cs:"cropby",ae$:3}:{Cs:"config",zj:this.zj,ai6:!0};
this.Fb(X,v,d,h,t);if(d.p==null&&this.zj.bO.o==0)this.aKu=!0;this.I1=!0}};A.Fv.prototype.qw=function(d,v,t,h,X){this.X0=X;
var g=d.z.tw(X.x,X.y);if(!X.n2){var x=this.yG;if(this.LW){var Z=this.LW.Q6(g,d.z.OI,null,X);if(Z)x=Z;
else x="default"}if(x!=this.cursor){this.cursor=x;this.tv(v)}}if(this.LW)this.LW.qw(d,t,h,g);else if(this.uL){if(this.VP){d.W.sG={s2:["M","L"],I:[this.uL.x,this.uL.y,g.x,g.y]}}else{var Y=A.N4.WC(this.uL,A.jt.$b(d,g,t),h,!0,this.zj.bO),a=Y[0].x,z=Y[0].y,p=this.aun=new iW(a,z,Y[1].x-a,Y[1].y-z);
d.W.sG=f.Q.Ya(p);A.M$.IA(X,p,d,t)}d.QW=!0}};A.Fv.a27=function(d,v,t){var h,X,Z,Y;if(v<=t){h=v;X=t}else{h=t;
X=v}var g=d-Math.floor((d+Math.PI)/(2*Math.PI))*2*Math.PI;g=Math.abs(g);if(g>Math.PI/2)g=Math.PI-g;var x=h/(X*Math.sin(g)+h*Math.cos(g));
if(v<=t){Z=h*x;Y=X*x}else{Z=X*x;Y=h*x}return{F0:Z,uV:Y}};A.Fv.prototype.QZ=function(d,v,t,h,X){this.X0=X;
var g=d.z.tw(X.x,X.y);if(this.LW==null){var x=this.aun;if(this.uL&&(x||this.VP)){if(this.VP){var Z=this.uL,Y=g,a=Y.x-Z.x,z=Y.y-Z.y;
if(Math.abs(a)<Math.abs(z))Y=new cK(Z.x-z,Z.y+a);if(Z.x>Y.x){var p=Z;Z=Y;Y=p}var Z=Math.atan2(-(Y.y-Z.y),Y.x-Z.x),U=A.Fv.a27(Z,d.r,d.$);
if(this.zj.H3){var l=f.Q.Ya(new iW(0,0,d.r,d.$)),L=new gi;L.rotate(Z);f.Q.M(l.I,L,l.I);U=f.Q.k2(l.I);
U={F0:U.r,uV:U.$}}var j=[0,0,U.F0,0,U.F0,U.uV,0,U.uV],O=new gi;O.translate(-U.F0/2,-U.uV/2);O.rotate(Z);
O.translate(d.r/2,d.$/2);f.Q.M(j,O,j);this.LW=this.Hn(x,!1,j);this.VP=!1}else{var F=this.zj.bO;this.LW=this.Hn(x,F.o!=0)}this.I1=!1;
this.LW.Yj(d,t);this.aun=null;this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,w5:!0});this.uL=null;d.W.NX=[];d.W.sG=null;
d.QW=!0}return}this.LW.QZ(d,t,h,g);this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,w5:!0});var j=this.LW.gU();if(Math.abs(j[0]-j[4])<2&&Math.abs(j[1]-j[5])<2){this.RX(d,v,null,h);
return}if(Date.now()-this.aJ4<200&&this.LW.$p(g)){this.N1(d,t);this.RX(d,v,t,h);return}this.aJ4=Date.now()};
A.Fv.prototype.M6=function(d,v,t,h){var X=this.LW;if(X==null||this.X0&&this.X0.n2)return;if(h.A(cQ.u0)){this.N1(d,t);
this.RX(d,v,t,h)}else if(h.A(cQ.l5)){this.RX(d,v,t,h)}else X.M6(d,t,h)};A.Fv.apr=function(d,v,t){var h={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:d[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:d[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:d[1]+d[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:d[0]+d[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:v!=null?v:0}},Dlt:{t:"bool",v:t!=null?t:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{oN:"crop",mQ:h}};A.Fv.dm=function(d,v){if(v==null)v=[!0,!0,!0,!0];var t={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][d]}}},h=["Top","Left","Btom","Rght"];
for(var n=0;n<4;n++)t[h[n]]={t:"bool",v:v[n]};return{oN:"trim",mQ:t}};A.Fv.Ca=function(d,v,t,h,X){var g={classID:"null"};
if(h!=null){g.Wdth={t:"UntF",v:X?{type:"#Prc",val:d*100}:{type:"#Pxl",val:d}};g.Hght={t:"UntF",v:X?{type:"#Prc",val:v*100}:{type:"#Pxl",val:v}};
g.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][h]}}}if(t!=null)g.Rslt={t:"UntF",v:{type:"#Rsl",val:t}};
return{oN:"imageSize",mQ:g}};A.Fv.amB=function(d,v,t,h){if(t==null)t=4;if(h==null)h=!1;var X=Math.floor(t/3),g=t%3;
return{oN:"canvasSize",mQ:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:d}},Hght:{t:"UntF",v:{type:"#Pxl",val:v}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][g]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][X]}},Rltv:{t:"bool",v:h}}}};
A.Fv.prototype.Oh=function(d,v,t,h,X){var g=new iW(0,0,t.r,t.$),x=[11,3],Z=t.u3,Y=t.r/2,a=t.$/2,af=1,fl,lA,av;
function z(am,n){return am[n]+2*am[n+1]+am[n+2]>>>2}if(d.R=="cropAndStr"){var p=t.U[t.l[0]],U=p.buffer,l=p.S,L=l.r,j=l.$,O=L+2,F=[0,0,L-1,0,L-1,j-1,0,j-1],i,$=1e9,Q=0;
for(var n=0;n<4;n++)for(var H=n+1;H<4;H++){var b=F[2*n],r=F[2*n+1],W=(r*L+b)*4,V=(F[2*H+1]*L+F[2*H])*4,y=U[W]-U[V],c=U[W+1]-U[V+1],S=U[W+2]-U[V+2],C=y*y+c*c+S*S;
if(C<$){$=C;i=new cK(b+.5,r+.5)}}var K=Date.now(),T=A.pZ.YV(p.buffer,l,i,null,[16,!1,!0]);f.zJ(T);var D=l.b();
D.o2(1,1);var N=f.m(D.k());f.Qb(T,l,N,D);var G=N.slice(0);for(var r=0;r<j;r++)for(var b=0;b<L;b++){var H=r*L+b;
if(T[H]==255&&z(U,H*4)>200){var n=(r+1)*O+b+1;N[n]=G[n-O]&G[n-1]&G[n+1]&G[n+O]}}var s=f.Q.et(N,D.r,D.$,0),q=new eG(_.E.c,!0);
q.data={R:_.Y.cJ};var K=Date.now();for(var R=0;R<s.length;R++){var m=s[R].path.I;if(s[R].l7.k()<2500)continue;
var E=f.Q.a8C(m,Q==3);for(var n=0;n<E.length;n++)E[n]-=1;var e=new cK(E[0],E[1]),w=Math.ceil(cK.A_(e,new cK(E[2],E[3]))),M=Math.ceil(cK.A_(e,new cK(E[6],E[7]))),P=new iW(0,0,w,M),I=f.m(P.k()*4),m=f.G.ms(E,new iW(-1,-1,w+2,M+2));
m=f.G.zJ(m);m=f.G.Sn(m,f.G.KO(new gi(l.r,0,0,l.$,l.x,l.y)));f.G.drawImage(m,p.buffer,l.r,l.$,I,P);Q++;
var k=q.data.Vr=new hc("Image "+Q+".psd");k.r=w;k.$=M;var o=k.vv();o.qv("Background");o.buffer=I;o.S=P;
k.U.push(o);v.J(q)}return}if(d.R=="fromAction"){var J=d.VV,at=J.oN,ke=J.mQ,c_=t.r/t.$,O=ke.Wdth?ke.Wdth.v.val:-1,ag=ke.Hght?ke.Hght.v.val:-1,Z=ke.Rslt?ke.Rslt.v.val:null,dz=ke.Wdth?ke.Wdth.v.type:ke.Hght?ke.Hght.v.type:-1,kL=1,aq;
if(dz=="#Prc"){if(O!=-1)O=Math.round(t.r*O/100);if(ag!=-1)ag=Math.round(t.$*ag/100)}if(at=="imageSize"){if(ke.Intr){if(ke.Intr.v.Intp=="Nrst")kL=0;
if(ke.Intr.v.Intp=="bicubicSharper")kL=2;if(O==-1&&ag==-1){var dh=Z/t.u3;O=Math.round(t.r*dh);ag=Math.round(t.$*dh)}if(ke.CnsP&&ke.CnsP.v){if(O==-1)O=Math.round(ag*c_);
if(ag==-1)ag=Math.round(O/c_)}}else{if(dz=="#Prc")Z=Math.round(t.u3*(t.r/O));else if(dz==-1)Z=Math.round(Z);
else throw"e";O=t.r;ag=t.$}aq={R:"imgsize",oG:O,Iy:ag,rH:Z,ae:kL}}else if(at=="canvasSize"){if(O==-1)O=t.r;
if(ag==-1)ag=t.$;if(ke.Rltv&&ke.Rltv.v==!0){if(ke.Wdth)O+=t.r;if(ke.Hght)ag+=t.$}var gK=ke.Vrtc?ke.Vrtc.v.VrtL:"Cntr",ad=ke.Hrzn?ke.Hrzn.v.HrzL:"Cntr";
aq={R:"canvsize",oG:O,Iy:ag,_Y:3*["Top","Cntr","Btom"].indexOf(gK)+["Left","Cntr","Rght"].indexOf(ad)}}else if(at=="revealAll"){aq={R:"revealAll"}}else if(at=="trim"){var dc={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[ke.trimBasedOn.v.trimBasedOn];
if(dc==null)throw"e";var lq=["Top","Left","Btom","Rght"],hn=[!0,!0,!0,!0];for(var n=0;n<4;n++)if(ke[lq[n]])hn[n]=ke[lq[n]].v;
aq={R:"trim",ass:dc,gD:hn}}else if(at=="crop"){var b,r,L,j;if(ke.T){var dF=ke.T.v,b=Math.round(dF.Left.v.val),r=Math.round(dF.Top.v.val),L=Math.round(dF.Rght.v.val)-b,j=Math.round(dF.Btom.v.val)-r}else{var l=t.p.S;
b=l.x;r=l.y;L=l.r;j=l.$}aq={R:"canvsize",oG:L,Iy:j,h:new cK(b,r),aAE:ke.Dlt!=null&&ke.Dlt.v}}else console.log(J);
if(aq)this.Oh(aq,v,t,h,X);return}else if(d.R=="imgsize"){g=new iW(0,0,d.oG,d.Iy);if(d.rH)Z=d.rH;af=d.ae}else if(d.R=="canvsize"){var c3=d._Y!=null?d._Y:0;
g=new iW(0,0,d.oG,d.Iy);var i8=t.r-d.oG,dr=t.$-d.Iy,jO=Math.round(i8/2),d1=Math.round(dr/2);if(c3==1||c3==4||c3==7)g.x=jO;
if(c3==2||c3==5||c3==8)g.x=i8;if(c3==3||c3==4||c3==5)g.y=d1;if(c3==6||c3==7||c3==8)g.y=dr;if(d.h){g.x=d.h.x;
g.y=d.h.y}}else if(d.R=="rot"&&(d.K+2*Math.PI)%(Math.PI/2)!=0){var h3=f.Q.Ya(g).I,d5=new gi;d5.translate(-Y,-a);
d5.rotate(d.K);d5.translate(Y,a);f.Q.M(h3,d5,h3);g=f.Q.k2(h3)}else if(d.R=="rot"&&d.K!=Math.PI&&d.K!=-Math.PI){g=new iW(Y-t.$/2,a-t.r/2,t.$,t.r);
if((t.r+t.$&1)==1){Y=Math.floor(Y);a=Math.floor(a);g=new iW(Y-Math.floor(t.$/2),a-Math.floor(t.r/2),t.$,t.r);
if((t.r&1)==1&&d.K!=-Math.PI/2)g.y--;if((t.$&1)==1&&d.K==-Math.PI/2)g.x--}}else if(d.R=="trim"){x=[11,12,0];
var em=t.jP(),l=new iW(0,0,t.r,t.$);g=f.mZ(em,l,d.ass,d.gD);if(g.HP())g=l}else if(d.R=="revealAll"){x=[11,12,2];
g=t.root.pT(t,!0)}var ah=d.R=="canvsize"&&d.aAE;if(d.R=="imgsize"||d.R=="rot"||d.R=="scl"||ah){var gE=new gi;
if(d.R=="imgsize"){x=[11,10];gE.scale(d.oG/t.r,d.Iy/t.$);av=t.Dy();for(var n=0;n<av[0].length;n++)av[0][n][1]*=av[0][n][0]==0?gE.aX:gE.r7}else if(ah){}else{gE.translate(-Y,-a);
if(d.R=="rot")gE.rotate(d.K);if(d.R=="scl")gE.scale(d.K.x,d.K.y);gE.translate(Y,a);x=d.qq}lA=f.G.KO(gE);
fl=this.dw(t,X,!0,lA,af,ah?g:null)}else if(d.R=="auto-align"){if(t.l.length<2){alert("Select two or more layers.");
return}var fj=[];for(var n=0;n<t.l.length;n++){var p=t.U[t.l[n]];if(!p.Kz()&&p.add.SoLd==null){alert("Unsupported layer selected.");
return}if(p.S.HP()){alert("Empty layer selected.");return}fj.push([p.buffer,p.S])}var bR=f.vw.SK(fj);
if(bR==null){alert("No similarity found.");return}lA=bR[1];fl=this.dw(t,X,!1,bR,af);g=t.root.pT(t,!0);
x=[2,10,1]}var bD=new iW(0,0,t.r,t.$);if(!g.HP()&&(!g.fE(bD)||fl!=null)){var e1=new bd(x,this);e1.data={aHF:t.u3,rH:Z,LI:fl,aCr:lA,T4:A.Fv.aF0(t,g,bD,fl!=null)};
if(av){e1.data.jQ=t.Dy();e1.data.sT=av}A.Fv.a9X(t,e1.data,g);t.RS(e1);this.BW(e1.data,t,!0)}};A.Fv.aF0=function(d,v,t,h){if(d.Wc.length==0)return null;
var X=JSON.stringify(d.Wc),g=JSON.parse(X);A.Jp.a7r(g,v,t,h);g=JSON.stringify(g);return[X,g]};A.Fv.prototype.dw=function(d,v,t,h,X,g,x){var Z={U:[],bu:null,a1W:!0};
if(t)Z.U=A.hZ.OE(d);else Z.U=d.l.slice(0);Z.bu=A.hZ.FI(d,Z.U,!0);var Y=Math.abs(h[3]*h[1])>1e-9;A.hZ.cS(d,v,Z.U,Z.bu,X,h,null,!0,Y&&f.G.nU(h)?null:g);
if(t&&x&&d.fi()){var a=d.U[d.l[0]],z=a.buffer,p=a.S,U=Y?p.b():g.b(),l=f.m(U.k()*4),L=f.m(p.k());f.Po(z,L,3);
var j=f.m(U.k());f.Qb(L,p,j,U);f.round(j,255);f.zJ(j);var O=f.Mm.oC(z,p,j,l,U);if(O==0){a.S=U;a.buffer=l}}return Z};
A.Fv.prototype.BW=function(d,v,t){if(d.rH)v.u3=d.rH;if(d.T4)v.Wc=JSON.parse(d.T4[1]);if(d.LI){A.Fv.AR(v,f.G.B0(d.aCr));
if(t==null)A.hZ.GI(v,d.LI);if(d.sT)v.gY(d.sT)}A.Fv.Ms(v,d)};A.Fv.prototype.Js=function(d,v){if(d.aHF)v.u3=d.aHF;
if(d.T4)v.Wc=JSON.parse(d.T4[0]);A.Fv.dM(v,d);if(d.Rg)v.z.h.sY(d.Rg);v.aJX();if(d.LI){var t=f.G.B0(d.aCr).b();
t.zJ();A.Fv.AR(v,t);A.hZ.GI(v,d.LI);if(d.jQ)v.gY(d.jQ)}};A.Fv.AR=function(d,v){for(var n=0;n<d.U.length;
n++){var t=d.U[n];if(t.add.artb==null)continue;var h=f.Q.Ya(t.x1()).I;f.Q.M(h,v,h);var X=f.Q.k2(h);t.In(X)}};
A.Fv.gg=function(d){var v=new iW,t=0,h=d.root.children.length;for(var n=0;n<h;n++){var X=d.root.children[n].B;
if(X.add.artb==null)continue;v=v.Ue(X.x1());t++}var g=new iW(0,0,d.r,d.$);if(!v.HP()&&!g.fE(v))return v;
return null};A.Fv.DP=function(d){var v=A.Fv.gg(d);if(v)A.Fv.za(d,v,!0);return v};A.Fv.za=function(d,v,t){var h=d.r,X=d.$,g=v.r,x=v.$,Z=v.x==0&&v.y==0;
if(Z&&h==g&&X==x)return;d.r=g;d.$=x;var Y=[];for(var n=0;n<d.U.length;n++)Y.push(n);if(!Z)A.jt.n8(d,Y,null,-v.x,-v.y);
for(var n=0;n<d.U.length;n++){d.U[n].tG(d)}d.aJX();if(t){var a=d.z.h,z=d.z.OI;a.x+=Math.round((v.x+(g-h)/2)*z);
a.y+=Math.round((v.y+(x-X)/2)*z)}else d.z.h.QG(0,0);if(d.p)d.p.S.offset(-v.x,-v.y);var p=d.Dy();for(var U=0;
U<p[0].length;U++)if(p[1][U]==-1){var l=d.MQ[U];l[1]-=l[0]==0?v.x:v.y}for(var n=0;n<d.gM.length;n++)d.gM[n].S.offset(-v.x,-v.y);
for(var n=0;n<d.S5.length;n++)f.t.kh(d.S5[n].add.vmsk.D,new gi(1,0,0,1,-v.x,-v.y))};A.Fv.prototype.Fb=function(d,v,t,h,X){if(d.Cs=="commit"){this.N1(t,X);
this.RX(t,v,null,h)}else if(d.Cs=="cancel"){this.RX(t,v,null,h)}var g=null,x=new iW(0,0,t.r,t.$),Z=this.zj.bO;
if(d.Cs=="config"){this.zj=d.zj;Z=this.zj.bO;if(t==null||!d.ai6)return;g=x;if(Z.o==1){var Y=Z.x/Z.y;
if(g.r/Y<g.$)g.$=Math.round(g.r/Y);else g.r=Math.round(g.$*Y)}if(Z.o==2){g.r=Z.x;g.$=Z.y}g.x=Math.round((t.r-g.r)/2);
g.y=Math.round((t.$-g.$)/2);this.I1=!1}if(d.Cs=="straighten"){alert("Draw a line in the image.");this.VP=!0}if(d.Cs=="cropby"){if(t==null)return;
var a=d.ae$,g;if(a==0)g=t.root.pT(t,!0);if(a==1){if(t.l.length==0)alert("No layer is selected.");else{var z=t.root.Ty(t.l[0]);
g=z.pT(t,!0)}}if(a==2){if(t.l.length==0)alert("No layer is selected.");else{g=f.mZ(t.jP(),x,0);if(g.HP())g=x.b()}}if(a==3){if(t.p!=null)g=t.p.S;
else alert("There is no selection.")}if(a==4){g=new iW(0,0,t.r,t.$)}}if(g&&g.HP())g=null;if(g!=null){this.LW=this.Hn(g,Z.o!=0);
this.LW.Yj(t,X);this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,w5:!0})}};A.M$.zU(A.Fv);A.Fv.prototype.N1=function(d,v){var t=this.LW.gU(),h=f.Q.k2(t),X=this.amz(d,t),g=!1,x=this.zj,Z=x.bO,Y=x.za,a=Z.x,z=Z.y,l;
if(this.id==A.bl&&Z.o==2&&X.k()!=a*z){X=new iW(X.x,X.y,a,z);g=!0}var p=f.G.ms(t,X);p=f.G.zJ(p);var U=!f.G.nU(p),L=Math.abs(Math.atan2(p[3],p[0]))>1e-9,j=new iW(0,0,d.r,d.$);
if(L||U||g||Y||x.H3)l=this.dw(d,v,!0,p,1,h,x.H3);if(!L&&!U&&!g&&X.fE(j))return;var O=new bd(this.name,this);
O.data={LI:l,aCr:p,Rg:d.z.h.b(),T4:A.Fv.aF0(d,X,j,!1)};if(Z.u3!=null){O.data.aHF=d.u3;O.data.rH=Z.u3}A.Fv.a9X(d,O.data,X);
d.RS(O);this.BW(O.data,d,!0);this.track(A.Fv.apr([h.x,h.y,h.r,h.$],null,Y))};A.Fv.a9X=function(d,v,t){if(t==null)return;
v.xs=new iW(0,0,d.r,d.$);v.GE=t};A.Fv.Ms=function(d,v){if(v.GE==null)return;A.Fv.za(d,v.GE)};A.Fv.dM=function(d,v){if(v.GE==null)return;
var t=v.xs.b();t.offset(-v.GE.x,-v.GE.y);A.Fv.za(d,t)};A.Fv.prototype.amz=function(d,v){var t=f.G.ms(v),h=f.G.nU(t),X=f.G.B0(t),g=X.r2,x=X.pE,Z=Math.atan2(X.X,X.aX);
X.rotate(Z);var Y=new iW(g,x,X.aX,X.r7);if(!h){function a($,n,H){var b=$[n]-$[H],r=$[n+1]-$[H+1];return Math.sqrt(b*b+r*r)}var z=a(v,0,2),p=a(v,4,6),U=Math.max(z,p),l=a(v,2,4),L=a(v,6,0),j=Math.max(l,L),O=A.Fv.B1(v,d.r/2,d.$/2),F,i;
if(isNaN(O)||O==Infinity||O==-Infinity||Math.min(O,1/O)<.1)O=(z+p)/(l+L);if(U/j>O){F=U*1;i=F/O}else{i=j*1;
F=i*O}Y.r=F;Y.$=i}Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);Y.r=Math.round(Y.r);Y.$=Math.round(Y.$);return Y};
A.Fv.B1=function(d,v,t){var h=d[0]-v,X=d[1]-t,g=d[2]-v,x=d[3]-t,Z=d[6]-v,Y=d[7]-t,a=d[4]-v,z=d[5]-t,p=((X-z)*Z-(h-a)*Y+h*z-X*a)/((x-z)*Z-(g-a)*Y+g*z-x*a),U=((X-z)*g-(h-a)*x+h*z-X*a)/((Y-z)*g-(Z-a)*x+Z*z-Y*a),l=-((U*Y-X)*(p*x-X)+(U*Z-h)*(p*g-h))/((U-1)*(p-1));
function L(O){return O*O}var j=Math.sqrt((L(p-1)+L(p*x-X)/l+L(p*g-h)/l)/(L(U-1)+L(U*Y-X)/l+L(U*Z-h)/l));
if(p==1&&U==1)j=Math.sqrt((L(x-X)+L(g-h))/(L(Y-X)+L(Z-h)));return j};A.Fv.prototype.RX=function(d,v,t,h){if(d==null)return;
if(this.LW)this.LW.clear(d);this.LW=null;this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,w5:!1})};A.Fv.prototype.disable=function(d,v,t,h){if(this.LW&&!this.I1)this.N1(d,t);
this.RX(d,v,t,h)};A.Fv.prototype.$m=function(d,v,t,h){var X=new eG(v,!0);X.data=t;if(h)X.T=h;d.J(X)};
A.ams=function(){A.Fv.call(this,[10,2],A.bl,"tools/rcrop")};A.ams.prototype=new A.Fv;A.a8e=function(){A.Fv.call(this,[10,39],A.fx,"tools/pcrop")};
A.a8e.prototype=new A.Fv;A.lt=function(){A.mE.call(this,[10,21],A.WX,"tools/dodge");this.ZG="dodge"};
A.lt.prototype=new A.mE;A.lt.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,this.zj.expo/Math.PI);
if(this.N6==null)return;this.da(d)};A.lt.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.eR=function(){A.mE.call(this,[10,3],A.OG,"tools/eraser");
this.ZG="erase"};A.eR.prototype=new A.mE;A.eR.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,this.zj.flow);
if(this.N6==null)return;this.da(d)};A.eR.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;var g=this.MF(d,t,h,X);this.da(d)};A.Sb=function(){A.mE.call(this,[10,45],A.Be,"tools/beraser");
this.ZG="ierase"};A.Sb.prototype=new A.mE;A.Sb.prototype.li=function(d,v,t,h,X){if(this.O9(d,v,t,h,X,!0))return;
this.it(d,t,h,X,this.zj.flow);if(this.N6==null)return;this.da(d)};A.Sb.prototype.qw=function(d,v,t,h,X){if(this.O9(d,v,t,h,X))return;
this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};
A.L0=function(){A.Oe.call(this,[10,15],A.Nf,"tools/rselect");this.yG=A.$h()};A.L0.prototype=new A.Oe;
A.L0.prototype.Lg=function(d,v,t,h){if(!h.n2||!this.up)return;var X=this.pT(d,t,!0);d.W.sG=f.Q.Ya(X);
d.QW=!0;A.M$.IA(h,X,d,v)};A.L0.prototype.qz=function(d,v,t,h){d.W.sG=null;d.W.NX=[];d.QW=!0;this.finish(d,v,t,h)};
A.L0.prototype.getSelection=function(d,v,t,h){if(this.uL.fE(this.dg)||!this.up)return null;var X=this.pT(d,t,!0);
if(X.HP())return null;return A.Oe.Lb("Rctn",X,this.zj.anta)};A.M$.zU(A.L0);A.Ur=function(){A.Oe.call(this,[10,4],A.aso,"tools/eselect");
this.yG=A.$h()};A.Ur.prototype=new A.Oe;A.Ur.prototype.Lg=function(d,v,t,h){if(!h.n2||!this.up)return;
var X=this.pT(d,t);d.W.sG=A.Ur.aKB(X);d.QW=!0;A.M$.IA(h,X,d,v)};A.Ur.prototype.qz=function(d,v,t,h){d.W.sG=null;
d.W.NX=[];d.QW=!0;this.finish(d,v,t,h)};A.Ur.prototype.getSelection=function(d,v,t,h){if(this.uL.fE(this.dg)||!this.up)return null;
var X=this.pT(d,t);if(!X.GD(new iW(0,0,d.r,d.$)))return null;return A.Oe.Lb("Elps",X,this.zj.anta)};
A.Ur.aKB=function(d){var v=d.x,t=d.y,h=d.x+d.r,X=d.y+d.$,g=(v+h)/2,x=(t+X)/2,Z=(v-h)/2,Y=(t-X)/2,a=.5522848,z={I:[g,x-Y],s2:["M","C","C","C","C"]};
z.I.push(g+a*Z,x-Y,g+Z,x-a*Y,g+Z,x);z.I.push(g+Z,x+a*Y,g+a*Z,x+Y,g,x+Y);z.I.push(g-a*Z,x+Y,g-Z,x+a*Y,g-Z,x);
z.I.push(g-Z,x-a*Y,g-a*Z,x-Y,g,x-Y);return z};A.M$.zU(A.Ur);A.Ds=function(d){A.M$.call(this,[10,5],d?A.TT:A.pH,"tools/eyedropper");
this.nZ=null;this.aqX=!1;this.Z6=0;this.z6=null;this.a3Z=1;this.lF=2;this.a14=!0;this.LX=!1};A.Ds.prototype=new A.M$;
A.Ds.prototype.pG=function(d){return d.n2};A.Ds.prototype.enable=function(d,v,t,h,X){A.M$.prototype.enable.call(this,d,v,t,h,X);
this.aqX=X};A.Ds.prototype.Oh=function(d,v,t,h,X){if(d.R=="pickhere")this.cp(t,v,X,null,d.alN);if(d.R=="supertool")this.nZ=d.T};
A.Ds.prototype.li=function(d,v,t,h,X){var g=this.nZ;if(g){g.li(d,v,t,h,X);return}if(j8==0){this.z6=X;
this.Z6=t.Sw;var x=this.cp(d,null,t,h,X);this.tv(d,v,x,X)}};A.Ds.prototype.qw=function(d,v,t,h,X){if(j8!=0)return;
var g=this.nZ;if(g){g.qw(d,v,t,h,X);return}var x=this.z6;if(x){var Z=X.x-x.x,Y=X.y-x.y,a=1,z=new cK(x.x+Z*a,x.y+Y*a),p=this.cp(d,null,t,h,z);
this.tv(d,v,p,z,new cK(Z*(1-a),Y*(1-a)))}};A.Ds.prototype.tv=function(d,v,t,h,X){var g=this.a14,x=this.LX;
if(d.z.OI>4)x=!1;if(!x&&!g)return;var Z=A.Ds.aK_(d,x,g,h,X,t,this.Z6,this.a3Z),Y=new eG(_.E.c,!0);Y.data={R:_.Y.TG,Cn:Z};
v.J(Y)};A.Ds.prototype.QZ=function(d,v,t,h,X,g){var x=this.nZ;if(x){x.QZ(d,v,t,h,X);return}if(j8==0){this.cp(d,v,t,h,X);
if(this.z6){this.z6=null;if(g)this.cp(d,v,t,h,X,this.Z6);var Z=new eG(_.E.c,!0);Z.data={R:_.Y.TG,Cn:"default"};
v.J(Z)}}else{var Y=d.z.tw(X.x,X.y),a;if(h.A(cQ.cm)){var z=d.e9(),p=new Uint8Array(d.pz(t)),U=Math.floor(Y.x),l=Math.floor(Y.y),n=(l-z.y)*z.r+U-z.x;
if(z.QQ(new cK(U,l))){var L=p[n*4+3];if(L==0)a={W4:[1,1,1]};else a={W4:[p[n*4]/255,p[n*4+1]/255,p[n*4+2]/255]}}}else{var j=d.root.x6(new cK(Math.floor(Y.x),Math.floor(Y.y)));
if(j==null)return;var O=j.B.add,F=O.TySh;a=O.vstl;if(a==null&&F){var i=F.Oo,$=jM.Sj(i,0,1);a={W4:$.Uy.FillColor.Values.slice(1),rA:[]}}}if(a==null)return;
var Z=new eG(_.E.c);Z.data={R:_.Y.Kf,Ic:lx.py,K:f.v(a)};v.J(Z)}};A.Ds.prototype.cp=function(d,v,t,h,X,g){if(g==null)g=A.Ds.Ah(d,X,this.a3Z,this.lF);
var x=new eG(_.E.c);x.data={R:_.Y.Kf,Ic:lx.bX,G$:!this.aqX&&h&&h.A(cQ.io)?1:0,K:g};if(v)v.J(x);return g};
A.Ds.aK_=function(d,v,t,h,X,g,x,Z){if(X==null)X=new cK(0,0);var Y=new iW(0,0,d.r,d.$),a=d.jP(),z=12,p=11,U=(z*2+1)*p,l=new cK(U/2,U/2),L=new iW(0,0,U,U),j=f.m(L.k()*4),O=d.z.tw(h.x,h.y),F=Math.floor(O.x),i=Math.floor(O.y),$=new gi;
$.scale(1/p,1/p);$.translate(F-z,i-z);if(v)f.scale._x(a,Y,$,j,L);var H=(z-3.4)*p,b=(z-1.7)*p,r=z*p;for(var W=0;
W<U;W++)for(var V=0;V<U;V++){var y=cK.A_(new cK(V,W),l);if(y>H){if(t){var c=Math.max(0,H-y+1),C=(W*U+V)*4,K=j[C+3]<<24|j[C]<<16|j[C+1]<<8|j[C+2],T=255<<24|(W<r+p*.5?g:x);
if(y>b){c=Math.max(0,b-y+1);K=T;T=4286611584}else if(!v){K=T&16777215}j[C+0]=(1-c)*(T>>>16&255)+c*(K>>>16&255);
j[C+1]=(1-c)*(T>>>8&255)+c*(K>>>8&255);j[C+2]=(1-c)*(T>>>0&255)+c*(K>>>0&255);j[C+3]=(1-c)*(T>>>24&255)+c*(K>>>24&255)}if(y>r){j[(W*U+V)*4+3]=Math.max(0,255*(r-y+1))}}}function D(n){var at=n<<2;
j[at]=0;j[at+1]=0;j[at+2]=0;j[at+3]=255}function N(n){var at=n<<2;j[at]=255;j[at+1]=255;j[at+2]=255;
j[at+3]=255}var Q=Z*p+2,q=U-Q>>>1,R=q+Q-1;if(v&&Q<U)for(var n=0;n<Q;n++){var m=q*U+q+n,E=R*U+q+n,e=(q+n)*U+q,w=(q+n)*U+R;
D(m);D(E);D(e);D(w);if(n!=0&&n!=Q-1){N(m+U);N(E-U);N(e+1);N(w-1)}}if(!v)for(var n=-9;n<=9;n++){if(-3<n&&n<3)continue;
var M=U>>>1,V=M*U+M+n,W=(M+n)*U+M;N(V-U);D(V);N(V+U);N(W-1);D(W);N(W+1)}var P=g>>>16&255,I=g>>>8&255,k=g>>>0&255,o="RGB "+P+","+I+","+k,af=f.aB([P/255,I/255,k/255]);
if(d.add.fcmy)o="CMYK "+af.map(function(at){return Math.round(at*100)}).join(",");var J=A.M$.uS(0,0,["#"+f.Uj(g),o]),Y=J[1];
Y.y=0;Y.x=U-Y.r>>>1;f.wH(J[0],Y,j,L);return{MP:j,BS:L,h4:new cK(l.x+X.x,l.y+X.y)}};A.Ds.Ah=function(d,v,t,h,X){if(h==null)h=2;
var g=d.z.tw(v.x,v.y),x,Z,Y=d.l.length==1&&d.U[d.l[0]].VL>0&&X!=!0,a=d.Cv.length!=0,b=0,r=0,W=0;if(Y||a){var z;
if(a)z=d.gM[d.Cv[0]];else{var p=d.U[d.l[0]];z=p.VL==1?p._B():p.axH()}Z=z.pT();if(!Z.QQ(g))return z.color==0?0:16777215;
x=f.m(Z.k()*4);x.fill(255);var U=z.Nr();f.I0(U,x)}else if(h==0&&d.l.length!=0){var p=d.U[d.l[0]];x=p.buffer;
Z=p.S}else{x=h==2?d.jP():d.jP(d.l[0]);Z=new iW(0,0,d.r,d.$)}var l=Math.floor(g.x)-Z.x,L=Math.floor(g.y)-Z.y,j=(t-1)/2,O=Math.max(0,l-j),F=Math.max(0,L-j),i=Math.min(Z.r,l+j+1),$=Math.min(Z.$,L+j+1),H=(i-O)*($-F);
for(var l=O;l<i;l++)for(var L=F;L<$;L++){var n=4*(L*Z.r+l);b+=x[n];r+=x[n+1];W+=x[n+2]}var V=f.UJ(x),y=V==8?255:V==16?65535:1,c=255/(y*H);
b=Math.round(b*c);r=Math.round(r*c);W=Math.round(W*c);return b<<16|r<<8|W};A.Ds.prototype.Fb=function(d){var v=d.zj;
this.a3Z=[1,3,5,11,31][v[0]];this.lF=v[1];this.a14=v[2];this.LX=v[3]};A.qy=function(){A.M$.call(this,[10,6],A.vQ,"tools/gradient");
this.zj=JSON.parse(kV.v0[6]);this.zj.Grad=JSON.parse(kV.CU.a2l);this.BX=!1;this.h8=null;this.pQ=null};
A.qy.prototype=new A.M$;A.qy.prototype.enable=function(d,v,t,h){A.M$.prototype.enable.call(this,d,v,t,h);
this.h8=d;if(this.BX)A.oW.KC(d)};A.qy.prototype.zl=function(d,v,t,h){if(t.tN!=this.id)return;this.h8=d;
this.apw(d,v)};A.qy.prototype.disable=function(d,v,t,h){this.h8=null;if(this.BX)A.oW.Bw(d)};A.qy.prototype.apw=function(d,v){var t=A.oW.OS(d);
this.BX=t!=null;var h=new eG(_.E.c,!0);h.data={R:_.Y.a0,T:this.id,Ic:t?d.U[d.l[0]].add.GdFl:this.zj,t:this.BX};
v.J(h);if(this.BX)A.oW.KC(d);else A.oW.Bw(d)};A.qy.prototype.Fb=function(d){var v=this.h8;if(this.BX){var t=v.U[v.l[0]],h=t.add.GdFl;
if(h==null)return;this.a9r=JSON.stringify(h);t.add.GdFl=d.Ic;t.tG(v);v.uM();A.oW.aKd(this,v);A.oW.KC(v)}else this.zj=d.Ic};
A.qy.prototype.li=function(d,v,t,h,X){if(this.BX){A.oW.prototype.li.call(this,d,v,t,h,X);return}if(!d.fi())return;
this.pQ=A.jt.$b(d,d.z.tw(X.x,X.y),t)};A.qy.prototype.qw=function(d,v,t,h,X){if(this.BX){A.oW.prototype.qw.call(this,d,v,t,h,X);
return}if(!this.pQ)return;var g=d.z.tw(X.x,X.y);g=A.jt.$b(d,g,t);if(h.A(cQ.cm))g=A.qy.rf(this.pQ,g);
d.W.sG={I:[this.pQ.x,this.pQ.y,g.x,g.y],s2:["M","L"]};d.W.N8=[this.pQ.x,this.pQ.y,g.x,g.y];d.QW=!0};
A.qy.prototype.QZ=function(d,v,t,h,X){if(this.BX){A.oW.prototype.QZ.call(this,d,v,t,h,X);return}if(!this.pQ)return;
var g=d.U[d.l[0]],x=d.z.tw(X.x,X.y);x=A.jt.$b(d,x,t);if(h.A(cQ.cm))x=A.qy.rf(this.pQ,x);if(cK.A_(this.pQ,x)>2){var Z;
if(d.p)Z=d.p.S;else Z=new iW(0,0,d.r,d.$);var Y=f.m(Z.k()*4,d.depth),a=this.zj,z=a.Type.v.GrdT,p=a.Opct.v.val,U=this.pQ;
if(z=="Lnr")U=new cK((U.x+x.x)/2,(U.y+x.y)/2);f.iF.Dv(U,x,Z,a);lb.os(a,Y,Z,d,null,null,t.Sw,t.dL);var l=Y.length,L=p/100;
if(p!=100)for(var n=0;n<l;n+=4)Y[n+3]=Math.round(Y[n+3]*L);var j=new eG(_.E.F);j.T=A.OG;j.data={R:"fillBMP",PG:Y,Z3:gL.__(a.Md.v.BlnM),qq:this.name};
v.J(j)}d.W.sG=null;d.W.N8=[];d.QW=!0;this.pQ=null};A.qy.prototype.Oh=function(d,v,t,h,X){function g(p){p=p.v;
var U=p.Hrzn.v.val,l=p.Vrtc.v.val;return t.z.X4(U,l)}if(d.R=="fromAction"){var x=this.zj;this.zj=f.v(x);
var Z=d.VV.mQ,Y=["Grad","Type","Opct","Dthr"];for(var n=0;n<Y.length;n++)if(Z[Y[n]])this.zj[Y[n]]=Z[Y[n]];
var a=g(Z.From),z=g(Z.T);this.li(t,v,X,h,a);this.QZ(t,v,X,h,z);this.zj=x}};A.qy.rf=function(d,v){if(d.fE(v))return d;
var t=v.x-d.x,h=v.y-d.y,X=Math.abs(t),g=Math.abs(h);if(X>g)g=X/2>g?0:X;if(g>X)X=g/2>X?0:g;X=t>0?X:-X;
g=h>0?g:-g;var x=Math.sqrt(t*t+h*h)/Math.sqrt(X*X+g*g);return new cK(d.x+X*x,d.y+g*x)};A.qy.tp=function(d,v,t,h,X,g,x){var Z=new iW(0,0,v,t),Y=f.m(v*t*4);
f.L1(Y,v,t,4);var a=Math.sin(h),z=Math.cos(h),p=f.m(v*t*4);f.iF.fo(d,p,Z,[z*1/v,a*1/v,-a*1/t,z*1/t],v/2,t/2,!1,0,X,g);
f.V.Qe("norm",p,Z,Y,Z,Z,1);if(x)return new ImageData(new Uint8ClampedArray(Y.buffer),v,t);else return b3.Zx(Y.buffer,v,t,null,null,!0)};
A.qy.aLw=function(d,v,t){var h=f.v(d);if(h.Clrs)for(var n=0;n<h.Clrs.v.length;n++){var X=h.Clrs.v[n].v,g=X.Type.v.Clry;
if(g=="UsrS")continue;var x=g=="FrgC"?v:t;X.Type.v.Clry="UsrS";X.Clr={t:"Objc",v:f.iF.Zi({C:x>>16&255,L:x>>8&255,X:x&255})}}return h};
A.qy.prototype.BW=function(d,v){A.oW.prototype.BW.call(this,d,v)};A.qy.prototype.Js=function(d,v){A.oW.prototype.Js.call(this,d,v)};
A.oW=function(){A.M$.call(this,"Vector Gradient",A.alU,"tools/gradient");this.jY=null;this.Ky=null;this.As=null;
this.a9r};A.oW.prototype=new A.M$;A.oW.prototype.enable=function(d,v,t,h){A.oW.KC(d)};A.oW.prototype.zl=function(d,v,t,h){if(t.tN!=this.id)return;
A.oW.KC(d)};A.oW.prototype.disable=function(d,v,t,h){A.oW.Bw(d)};A.oW.Bw=function(d){if(d==null)return;
d.W.gA=null;d.W.N8=[];d.QW=!0};A.oW.prototype.li=function(d,v,t,h,X){var g=A.oW.OS(d);if(g==null&&j8==0){var x=new eG(_.E.U0,!0);
x.data=A.N4.Ak(1);v.J(x);g=A.oW.OS(d)}if(g==null)return;var Z=A.jt.$b(d,d.z.tw(X.x,X.y),t),Y=A.oW.ux(g,Z,d),a=d.U[d.l[0]],z=a.add.GdFl,p=a.add.vstl;
this.a9r=JSON.stringify(j8==0?z:p);this.jY=Z;if(Y==-1){var U=g[1];this.Ky=[Z.x,Z.y,Z.x+2,Z.y];if(U[0]==1){this.Ky.push(Z.x,Z.y-2);
U[2][4]=1}this.As=1;A.oW.aEl(d,this.Ky)}else{this.Ky=g[0];this.As=Y}};A.oW.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=A.oW.OS(d),Z=this.As;
if(Z!=null){var Y=this.Ky.slice(0);g=A.jt.$b(d,g,t);if(h.A(cQ.cm))g=A.qy.rf(new cK(Y[0],Y[1]),g);var a=g.x-Y[Z*2],z=g.y-Y[Z*2+1];
if(Z==0){for(var n=0;n<Y.length;n+=2){Y[n]+=a;Y[n+1]+=z}}else{Y[Z*2]+=a;Y[Z*2+1]+=z}A.oW.aEl(d,Y,Z)}else if(x){var p=A.oW.ux(x,g,d),U=new eG(_.E.c,!0);
U.data={R:_.Y.TG,Cn:p==-1?"default":p==0?"move":"pointer"};v.J(U)}A.oW.KC(d)};A.oW.ux=function(d,v,t){var h=6*A.LY()/t.z.OI,X=d[0],g=f.Q.kq(X,v.x,v.y,h);
if(g==0&&X.length==8&&X[0]==X[6]&&X[1]==X[7])g=3;if(g==-1&&d[1][0]==1)g=f.Q.kq(X.slice(0,2),v.x,v.y,2*h);
return g};A.oW.prototype.QZ=function(d,v,t,h,X){if(this.Ky==null)return;this.Ky=null;this.As=null;A.oW.aKd(this,d)};
A.oW.aKd=function(d,v){var t=v.l[0],h=v.U[t],X=h.add.GdFl,g=h.add.vstl,x=JSON.stringify(X?X:g),Z=v.history[v.UG];
if(Z&&Z.T==d&&Z.data.iC==t)Z.data.sT=x;else{var Y=new bd("Change Gradient",d);Y.data={iC:t,jQ:d.a9r,sT:x};
v.RS(Y)}};A.oW.aEl=function(d,v,t){var h=d.U[d.l[0]],X=h.add.GdFl,g=h.add.vstl,x=h.add.vmsk,Z=new cK(v[0],v[1]),Y=new cK(v[2],v[3]),a=new cK(v[4],v[5]),z=new cK(v[6],v[7]);
if(g){var p=g.W4[0],U=g.W4[2],l=eT.Uv(Z,Y,new gi),L=eT.TZ(p,l,x.D);if(p==1){var j=cK.A_(a,Z)/cK.A_(Y,Z);
if(Math.abs(j-1)<.03)j=1;L[2][4]=t==2?j:U[4];if(t==3){if(cK.A_(z,Z)/cK.A_(Y,Z)<.05)z=Z.b();eT.aor(L,Z,Y,z,L[2][4]);
if(L[2][6]>.999)L[2][6]=.999}else{L[2][5]=U[5];L[2][6]=U[6]}}L[1]=g.W4[1];g.W4=L}else{var p=X.Type.v.GrdT,O=h.S;
if(p=="Lnr"||p=="Rflc"){Z.x=(Z.x+Y.x)/2;Z.y=(Z.y+Y.y)/2}f.iF.Dv(Z,Y,O,X);h.tG(d)}d.uM()};A.oW.OS=function(d){if(d==null||d.l.length==0)return;
var v=d.U[d.l[0]],t=v.add.GdFl,h=v.add.vstl;if(t==null&&h==null)return;if(h==null)h=hc.WH(v.add,d);var X=h.W4;
if(X.length!=4)return;var g=v.add.vmsk?v.add.vmsk.D:f.t.I7.Rect(0,0,d.r,d.$),x=eT.hN(X,g),g=[0,0,1,0];
if(j8==1&&X[0]==1){var Z=X[2][5]*Math.PI/180,Y=X[2][6];g.push(0,-1,Math.cos(Z)*Y,-Math.sin(Z)*Y)}f.Q.M(g,x,g);
return[g,X,x]};A.oW.KC=function(d){if(d)A.oW.Bw(d);var v=A.oW.OS(d);if(v==null)return;var t=v[0],h=v[1],X=v[2],g={I:t.slice(0,4),s2:["M","L"]};
if(h[0]==1){var x=f.t.I7.ZH(-1,-1,2,2),Z=f.Q.lR(x);f.Q.M(Z.I,X,Z.I);f.Q.concat(g,Z)}d.W.gA=g;d.W.N8=t;
d.QW=!0};A.oW.prototype.BW=function(d,v){var t=v.U[d.iC],h=j8==0?"GdFl":"vstl";if(d.sT){t.add[h]=JSON.parse(d.sT);
t.tG(v);v.uM();A.oW.Bw(v)}};A.oW.prototype.Js=function(d,v){var t=v.U[d.iC],h=j8==0?"GdFl":"vstl";if(d.sT){t.add[h]=JSON.parse(d.jQ);
t.tG(v);v.uM();A.oW.Bw(v)}};A.Tt=function(){A.M$.call(this,[10,7],A.MD,"tools/hand");this.pa=!1;this.z6=new cK(0,0);
this.mK=null;this.lI=0;this.Kn=!1};A.Tt.prototype=new A.M$;A.Tt.prototype.Fb=function(d,v,t,h){this.pa=d.pa};
A.Tt.prototype.Oh=function(d,v,t,h,X){var g=d.R;if(g=="setcls"){t.z.b$=d.b$;t.QW=!0;t.zs=!0}if(g=="scroll"){if(h.A(cQ.LE))A.Tt.o5(t,t.z.h.x-d.KJ.y,t.z.h.y-d.KJ.x);
else A.Tt.o5(t,t.z.h.x-d.KJ.x,t.z.h.y-d.KJ.y)}};A.Tt.prototype.enable=function(d,v,t,h){this.mK=null;
var X=new eG(_.E.c,!0);X.data={R:_.Y.TG,Cn:"grab"};v.J(X);if(j8<2&&d&&Date.now()-this.lI<300){X.e=_.E.F;
X.T=A.CK;X.data={R:"adapt",K:"fitscr"};v.J(X)}this.lI=Date.now()};A.Tt.prototype.li=function(d,v,t,h,X){this.mK=d.z.h.b();
this.z6.QG(X.x,X.y);if(j8==2){this.Kn=d.Y.Nn;if(this.Kn){var g=new eG(_.E.c,!0);g.data={R:_.Y.sc};v.J(g)}}};
A.Tt.prototype.qw=function(d,v,t,h,X){if(!X.n2)return;if(this.mK==null)this.li(d,v,t,h,X);var g=this.pa?v.n0:[d];
for(var n=0;n<g.length;n++)A.Tt.o5(g[n],this.mK.x+(X.x-this.z6.x),this.mK.y+(X.y-this.z6.y))};A.Tt.prototype.QZ=function(d,v,t,h,X){this.mK=null;
if(j8==2&&this.Kn){var g=new eG(_.E.c,!0);g.data={R:_.Y.sc};v.J(g)}};A.Tt.o5=function(d,v,t){var h=d.z.OI,X=d.z.Yx,g=X.r,x=X.$,Z=f.Q.Ya(new iW(0,0,d.r,d.$)).I,Y=new gi;
Y.rotate(d.z.r$);f.Q.M(Z,Y,Z);var a=f.Q.mo(Z),z=a.r*h,p=a.$*h,U=z<g&&p<x,l=g/2+z/2-64,L=x/2+p/2-64;if(j8==1||j8==2){l=L=1e9}d.z.h.QG(Math.max(-l,Math.min(l,v)),Math.max(-L,Math.min(L,t)));
d.zs=!0};A.db=function(){A.M$.call(this,[10,47],A.bY,"tools/rview");this.z6=new cK(0,0);this.CT=null;
this.kD=null;this.lI=0};A.db.prototype=new A.M$;A.db.prototype.enable=function(d,v,t,h){this.mK=null;
var X=new eG(_.E.c,!0);X.data={R:_.Y.TG,Cn:"grab"};v.J(X);if(d&&Date.now()-this.lI<300&&d.z.r$!=0){d.z.r$=0;
d.QW=!0}this.lI=Date.now();if(d)this.Fe(d,v)};A.db.prototype.disable=function(d,v,t,h,X){if(d)this.Fe(d,v)};
A.db.prototype.LC=function(d,v,t,h){if(d)this.Fe(d,v)};A.db.prototype.li=function(d,v,t,h,X){this.z6.QG(X.x,X.y);
var g=d.z;this.CT=g.tw(g.Yx.r/2,g.Yx.$/2);this.kD=g.jG();var x=g.tw(g.Yx.r/2,g.Yx.$/2),Z=Math.min(g.Yx.r,g.Yx.$)*.35/g.OI,Y=Z*.2,a=x.x,z=x.y;
d.W.sG={s2:"M L L L L L".split(" "),I:[a,z,a,z-Z,a+Y,z,a,z+Z,a-Y,z,a,z-Z]};d.QW=!0};A.db.prototype.abk=function(d){var v=d.z,t=v.tw(v.Yx.r/2,v.Yx.$/2);
d.W.sG={s2:["M","L"],I:[t.x,t.y,t.x,t.y-200]}};A.db.prototype.qw=function(d,v,t,h,X){if(!X.n2)return;
var g=d.z,x=this.CT,Z=this.z6,Y=new cK(g.Yx.r/2,g.Yx.$/2),a=Math.atan2(X.y-Y.y,X.x-Y.x),z=Math.atan2(Z.y-Y.y,Z.x-Y.x),p=Math.atan2(this.kD.X,this.kD.aX),U=a-z,l=Math.PI/4;
if(h.A(cQ.cm)){U=p+l*Math.round((U-p)/l)}this.au3(d,v,this.kD.b(),x,U)};A.db.prototype.QZ=function(d,v,t,h,X){d.W.sG=null;
d.QW=!0};A.db.prototype.Fb=function(d,v,t,h){this.au3(t,v,null,null,d.WD-t.z.r$);t.z.r$=d.WD};A.db.prototype.au3=function(d,v,t,h,X){var g=d.z;
if(t==null)t=g.jG();if(h==null)h=g.tw(g.Yx.r/2,g.Yx.$/2);t.translate(-h.x,-h.y);t.rotate(X);t.translate(h.x,h.y);
g.arj(t);if(d.r*g.OI<g.Yx.r&&d.$*g.OI<g.Yx.$)g.h.QG(0,0);d.QW=!0;this.Fe(d,v)};A.db.prototype.Fe=function(d,v){var t=new eG(_.E.c,!0);
t.data={R:_.Y.a0,T:this.id,WD:d.z.r$};v.J(t)};A.PF=function(){A.yY.call(this,[10,25],A.Ys,"tools/hbrush")};
A.PF.prototype=new A.yY("");A.PF.prototype.QZ=function(d,v,t,h,X){if(this.N6==null)return;this.h_(d,"heal",this.N6.Ll(),this.N6.pT(),this.N6.WM());
this.uM(d,this.N6.WM());A.mE.prototype.QZ.call(this,d,v,t,h,X);if(!this.zj.algnd)this.h=null};A.Gz=function(d){A.M$.call(this,d?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],d?A.TH:A.uW,d?"tools/vtype":"tools/htype");
this.OC=[];this.n=null;this.caller=null;this.Xk=1;this.Zr=0;this.IP=null;this.aKH=0;this.VJ=0;this.a4q=0;
this.axS=null;this.abf=null;this.es=null;this.$_=null;this.Ji=null;this.$g=null;this.axj=null;this.bq=null;
this.LW=null;this.bW=null;this.aCM=null;this.Ha=!1;this.J0=!1;this.lZ=!1;this.Mj=null;this.NT=null;this.aam=null;
this.avR=!1;this.Pw=!1;this.ve=-1;this.rl=-1;this.xG=document.createElement("textarea");this.xG.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.xG.addEventListener("input",this.fu.bind(this),!1);this.xG.addEventListener("keydown",this.a9l.bind(this),!1);
this.xG.addEventListener("keyup",this.arK.bind(this),!1)};A.Gz.prototype=new A.M$;A.Gz.prototype.pG=function(d){return d.n2};
A.Gz.prototype.zl=function(d,v,t,h){if(this.es!=null||this.id==A.TH)return;this.caller=v;var X=this.a4K(d);
if(X.length!=0){var g=null,x=[],Z=[];for(var n=0;n<X.length;n++){var Y=d.U[X[n]],a=Y.add.TySh,z=0,p=jM.W3(a.Oo).length-2,U=jM.Sj(a.Oo,z,p);
jM.b5(U,a.M.Mk());if(U.Uy.Font!=null)U.Uy.Font=U._G[U.Uy.Font].Name;g=U._G;x.push(U.Uy);Z.push(U.eE)}var U={_G:g,Uy:jM.Sn(x),eE:jM.Sn(Z)};
if(U.Uy.Font!=null)jM.aW(U,U.Uy.Font);this.axZ(v,U,a)}};A.Gz.prototype.a4K=function(d){var v=[];for(var n=0;
n<d.l.length;n++)if(d.U[d.l[n]]&&d.U[d.l[n]].add.TySh)v.push(d.l[n]);return v};A.Gz.prototype.Oh=function(d,v,t,h,X){var g=d.R=="insertGlyph",x=d.R=="copyText",Z=d.R=="selectAll";
if((g||x||d.R=="insertText"||Z)&&this.es){var Y=g?String.fromCharCode(65533):d.K,a=this.xG,z=a.value,p=a.selectionStart,U=a.selectionEnd;
if(x){dY.xy(new Blob([z.slice(p,U)],{type:"text/plain"}))}else if(Z){this.ve=a.selectionStart=0;this.rl=a.selectionEnd=z.length;
this.WW(t);a.focus()}else{a.value=z.slice(0,p)+Y+z.slice(U);a.selectionStart=a.selectionEnd=p+Y.length;
this.fu(null,g?d.K:null);a.focus()}}if(d.R=="updateStyles"){if(this.es==null){var l=this.a4K(t),L=!1;
if(l.length!=0){this.eZ(t,v,X,l);for(var n=0;n<l.length;n++){var j=t.U[l[n]],O=j.add.TySh;jM.Y7(O,this.Xk);
O.s1.VAlign.v=this.Zr;this.es=j;var F=jM.W3(O.Oo);this.ve=0;this.rl=F.length-1;jM.yx(O.Oo,this.ve,this.rl,this.Us(X,O));
var i=this.Vs(t,X);if(i==!1)L=!0}if(L){this.avR=!0;return}this.eb(t,v,!0)}return}this.er(X)}if(d.R.startsWith("warp")){var $=this.Pw;
if(d.R=="warp"||d.R=="warpCancel"){if(this.es==null)return;if(d.R=="warp")this.es.add.TySh.yv=d.kk;else this.es.add.TySh.yv=this.axj;
this.Vs(t,X);if(!$)this.WW(t)}if(d.R!="warp")this.xG.focus();if((d.R=="warpConfirm"||d.R=="warpCancel")&&$){this.Pw=!1;
if(d.R=="warpConfirm")this.eb(t,v);else this.ns(t,v)}}if(d.R=="editCurr"){if(X.tN!=A.uW){this.IP=X.tN;
var H=new eG(_.E.c,!0);H.data={R:_.Y.H_,T:A.uW};v.J(H)}if(this.es!=null)this.disable(t,v,X,h);this.n=X;
this.caller=v;this.eZ(t,v,X,[d.r5]);var F=jM.W3(this.es.add.TySh.Oo);this.ve=0;this.rl=F.length-1;this.WW(t);
this.WU();this.xG.focus()}if(d.R=="switchPntPrgr"){if(this.es)return;var j=t.U[t.l[0]],O=j.add.TySh,b=O.M.Mk(),r=j.pT(),W=f.v(O.Oo),V=jM.YX(W),y=V==1?jM.pg(W):[0,0,Math.round(r.r*1.05/b),Math.round(r.$*1.25/b)],c=jM.Sj(W,0,0),S=c._G[c.Uy.Font].Name,C=X.FP.wv(S),K=[0,y[2],y[2]/2][c.eE.Justification%3],T=(C?cl.hl(C):.8)*c.Uy.FontSize;
jM.kM(W,1-V);if(V==0){K=-K;T=-T;jM.eg(W,[0,0,y[2],y[3]])}var D=new gi(1,0,0,1,K,T);D.concat(O.M);this.Oh({ED:t.l[0],R:"newED",ac6:W,M:D,ap6:[16,3,V==1?0:1]},v,t,h,X)}if(d.R=="newED"){var j=t.U[d.ED],O=j.add.TySh,N=this.Ok(t,[d.ED]);
O.Oo=d.ac6;if(d.M)O.M=d.M;if(ka.Ns(O,X.FP,v)){ka.Vs(j,X.FP,t);t.uM()}else t.Um=!0;var G=new bd(d.ap6?d.ap6:this.name,this);
G.data={pR:N,aox:this.Ok(t,[d.ED])};t.RS(G)}if(d.R=="fromAction"){var s;if(d.VV.oN=="set"){s=d.VV.mQ.T.v}else{s=d.VV.mQ.Usng.v;
window.auP=s;var Q=s.TxtC.v,q=[];for(var n=0;n<2;n++){var R=Q[n==0?"Hrzn":"Vrtc"].v,Y=R.val;if(R.type=="#Prc")Y=(n==0?t.r:t.$)*(Y/100);
q[n]=Y}this.zK(t,v,X,h,t.z.X4(q[0],q[1]),!0)}var j=t.U[t.l[0]],O=j.add.TySh,m=O.Oo,z=jM.W3(m);jM.MW(m,0,z.length-1);
jM.Uh(m,0,s.Txt.v.replace(/\r/g,"\n"));jM.aHW(s,m,t);if(ka.Or(t,X.FP,v))ka.Vs(j,X.FP,t);else t.Um=!0;
t.uM();this.eb(t,v)}};A.Gz.prototype.er=function(d){var v=Math.min(this.ve,this.rl),t=Math.max(this.ve,this.rl),h=this.es.add.TySh;
jM.Y7(h,this.Xk);h.s1.VAlign.v=this.Zr;var X=this.Us(d,h);jM.yx(h.Oo,v,t-1,X);var g=this.caller.c6(),x=this.Vs(g,d);
if(x)this.WW(g);if(document.activeElement.tagName.toLowerCase()!="input")this.xG.focus()};A.Gz.prototype.YF=function(d){return this.OC.indexOf(d)!=-1};
A.Gz.prototype.enable=function(d,v,t,h){var X=this.xG;v._.appendChild(X);this.bq="default";this.tv(v)};
A.Gz.prototype.Ht=function(){return this.es!=null};A.Gz.GS=function(d,v){var t=new cK(v.x,v.y);for(var n=d.U.length-1;
n>=0;n--){var h=d.U[n],X=h.add.TySh;if(X&&d.aj4(n)){var g=t,x=h.S;if(j8==1){var Z=X.M.b();Z.zJ();g=Z._V(t);
x=h.nG.PJ}if(!x.QQ(g))continue;var Y=h.BL(31);return Y?-2:n}}return-1};A.Gz.prototype.li=function(d,v,t,h,X){this.n=t;
this.caller=v;var g=d.z.tw(X.x,X.y),x=this.es==null;if(x){var Z=A.Gz.GS(d,g);if(Z==-2){alert(f7.get([6,57,0]));
return}if(Z>=0&&!h.A(cQ.cm)){if(!ka.Ns(d.U[Z].add.TySh,t.FP,v)){alert("Fonts not loaded yet");return}this.eZ(d,v,t,[Z])}else{this.lZ=!0;
this.Mj=X;return}}var Y=x?-1:jM.YX(this.es.add.TySh.Oo),a=this.bW?this.bW:this.LW,z=a&&a.li(d,t,h,g,null,null,X)&&f.kk.vs(this.es.add.TySh.yv),p=!x&&f.Q.aus(g,this.es.pT())>20/d.z.OI&&(Y==0||Y==1),U=A.Sd.gR(d,g);
if(this.bW&&U){alert("moving curve range");this.Zj=U}else if(z||p){this.Ha=!0;this.NT=g;this.aam=this.es.add.TySh.M.b();
if(this.ve==-1&&this.rl==-1)this.ve=this.rl=this.Zt(g)}else{if(this.Ji==null){alert("Fonts not loaded yet");
return}this.J0=!0;this.ve=this.rl=this.Zt(g);var l=Date.now();if(l-this.aKH>300)this.VJ=0;this.VJ++;
this.aKH=l;if(this.VJ==2)this.aLi();if(this.VJ==3)this.aE7();if(this.VJ>1){this.J0=!1}}this.WU();this.WW(d)};
A.Gz.prototype.eZ=function(d,v,t,h){var X=d.U[h[0]];this.es=X;this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,Cs:"showactive"});
this.$_=h;d.l=h.slice(0);d.Qs();d.oZ=!0;this.$g=this.Ok(d,h);this.J$(X.add.TySh);this.Vs(d,t)};A.Gz.prototype.J$=function(d){if(jM.YX(d.Oo)!=1)return;
var v=jM.pg(d.Oo);v=new iW(0,0,v[2]-v[0],v[3]-v[1]);var t=[v.x,v.y,v.x+v.r,v.y,v.x+v.r,v.y+v.$,v.x,v.y+v.$];
f.Q.M(t,d.M,t);this.LW=new d3(t,!1,!1,!1,!0);this.LW.Wi(0)};A.Gz.prototype.aLi=function(){var d=jM.W3(this.es.add.TySh.Oo);
this.ve=this.a70(d,this.ve);this.rl=this.aed(d,this.ve)};A.Gz.prototype.a70=function(d,v){var t=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];
for(var n=0;n<t.length;n++)h.push(t.charAt(n));var X=h.indexOf(d[v])==-1?!0:!1;for(var n=v-1;n>=0;n--)if(h.indexOf(d.charAt(n))!=-1==X)return n+1;
return 0};A.Gz.prototype.aed=function(d,v){var t=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];for(var n=0;
n<t.length;n++)h.push(t.charAt(n));var X=h.indexOf(d[v])==-1?!0:!1;for(var n=v+1;n<d.length;n++)if(h.indexOf(d.charAt(n))!=-1==X)return n;
return d.length-1};A.Gz.prototype.aE7=function(){var d=this.Ji.aiS(this.ve);this.ve=d[0];this.rl=d[1]};
A.Gz.prototype.tv=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.TG,Cn:this.bq};d.J(v)};A.Gz.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.es;
if(!X.n2){var Z="default",Y=this.LW,a=this.bW?this.bW:Y;if(a&&f.kk.vs(x.add.TySh.yv)){var z=a.Q6(g,d.z.OI,null,X);
if(z)Z=z;else if(a==Y&&Y.$p(g))Z="text";var p=A.Sd.gR(d,g);if(p)Z="default"}else if(x&&f.Q.aus(g,x.pT())>20/d.z.OI)Z="move";
else if(A.Gz.GS(d,g)>=0)Z="text";if(Z!=this.bq){this.bq=Z;this.tv(v)}}var U=this.Mj;if(this.lZ&&Math.min(X.x-U.x,X.y-U.y)>4/d.z.OI){this.lZ=!1;
this.zK(d,v,t,h,X);x=this.es;this.Ha=!0;this.LW=new d3(null,!1,!1,!1,!0);this.LW.Wi(0);var l=d.z.tw(this.Mj.x,this.Mj.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);this.LW.li(d,t,h,l,null,null,X,d.z.r$)}if(this.Zj){var L=x.add.TySh,Y=this.Zj,j=Y[3].add.vmsk;
A.Sd.acG(Y,j,g);L.add={vmsk:j};jM.hY(L);this.Vs(d,t)}if(this.Ha){var L=x.add.TySh;if(this.bW){this.bW.qw(d,t,h,g);
var O=f.G.B0(f.G.ms(this.bW.gU(),this.aCM));L.M=O;this.Vs(d,t);jM.ii(L)}else if(this.LW){this.LW.qw(d,t,h,g);
var F=L.M.b(),i=Math.atan2(F.X,F.aX);F.rotate(i);var O=f.G.B0(f.G.ms(this.LW.gU())),$=Math.atan2(O.X,O.aX);
O.rotate($);if(!isNaN(O.aX)&&O.aX*O.r7-O.X*O.Wp!=0){var H=new iW(0,0,O.aX/F.aX,O.r7/F.r7),b=H.r,r=H.$,W=L.Oo.Curve;
if(W){var V=jM.pg(L.Oo),y=new gi(b/V[2],0,0,r/V[3],0,0);f.Q.M(W.Points,y,W.Points);jM.ii(L)}jM.eg(L.Oo,[0,0,b,r]);
L.M=f.G.B0(f.G.ms(this.LW.gU(),H));this.Vs(d,t);jM.ii(L)}}else{var c=g.x-this.NT.x,S=g.y-this.NT.y;L.M=this.aam.b();
var C=new cK(L.M.r2+c,L.M.pE+S);C=A.jt.$b(d,C,t);L.M.r2=C.x;L.M.pE=C.y;this.Vs(d,t)}}if(this.J0)this.rl=this.Zt(g);
if(this.Ha||this.J0)this.WW(d)};A.Gz.prototype.zK=function(d,v,t,h,X,g){var x=d.V9(),Z=x[0],Y=x[1],a=d.vv();
a.add.lnsr="rend";var z=d.U.slice(0);a.qv("Text layer "+z.length);this.es=a;var p=d.l.length==0?d.U.length-1:d.l[d.l.length-1],U=p+1;
if(z[p].add.lsct==f$.fG)U--;this.$g={ID:z.slice(0),B2:d.l.slice(0)};z.splice(U,0,a);d.l=[U];this.ve=this.rl=0;
d.xd(z);this.$g.zA=z.slice(0);this.$g.QK=d.l.slice(0);this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,Cs:"showactive"});
var l=d.z.tw(X.x,X.y),L=t.Jh;console.log(L);if(this.id==A.TH){L=f.v(L);L.Uy.BaselineDirection=1}a.add.TySh=jM.de(l.x,l.y,L,d.z.r$);
var j=a.add.TySh,O=j.Oo;if(this.id==A.TH)O._LineOrientation=2;jM.Y7(j,this.Xk);j.s1.VAlign.v=this.Zr;
if(X.n2)jM.kM(O,1);else{jM.kM(O,0);var F=Z[Y.pop()],i=F?F.add.vmsk:null;if(g)i=null;if(i&&!h.A(cQ.cm)){i=i.b();
var $=i.D,b,r;for(var n=0;n<$.length;n++)if($[n].qG!=null)$[n].qG=0;var H=5/d.z.OI;b=f.t.x6(i.D,l,!0,H);
if(b.ja==-1)b=f.t.x6(i.D,l);if(b.ja!=-1){jM.kM(O,1);var W=f.t.fn($,b.ja),V=f.t.WV($,b.ja)-1;$=i.D=$.slice(0,2).concat($.slice(W,W+V+1));
i.l=[];j.add={vmsk:i,vogk:jn.bB($)};O.Curve={};jM.hY(j);if(b.nL!=null){var y=cl.Vz(O.Curve);f.Q.M(y[0],j.M,y[0]);
var c=f.Q.kq(y[0],l.x,l.y),S=t.Jh.eE.Justification;if(S==2||S==5){var C=(y[2][c]+y[3]*.5)%y[3];c=cl.he(C,y[2])}var K=y[1][c];
K=K%V;i.Pd=[K,K];jM.hY(j)}else this.J$(j)}}}return a};A.Gz.prototype.QZ=function(d,v,t,h,X,g){if(g){this.lZ=!1;
return}if(this.es==null&&!this.lZ)return;var x=d.z.tw(X.x,X.y),Z=this.lZ;if(this.lZ){this.lZ=!1;this.zK(d,v,t,h,X);
this.J0=!0}if(this.Ha||this.J0||this.Zj){this.WW(d);this.WU();if(Z)this.er(t)}this.Zj=null;if(this.Ha&&this.LW)this.LW.QZ(d,t,h,x);
this.Ha=this.J0=!1;this.xG.focus()};A.Gz.prototype.WU=function(){var d=this.es.add.TySh,v=Math.min(this.ve,this.rl),t=Math.max(this.ve,this.rl),h,X;
if(v==t){var g=jM.W3(d.Oo);if(v==0||g.charAt(v-1)=="\n")h=X=v;else h=X=v-1}else{h=v;X=t-1}var x=jM.Sj(d.Oo,h,X);
jM.b5(x,d.M.Mk());this.axZ(this.caller,x,d)};A.Gz.prototype.axZ=function(d,v,t){this.$m(d,_.E.c,{R:_.Y.Kf,Ic:lx.jO,Jh:v});
var h=this.Xk=jM.nk(t),X=this.Zr=t.s1.VAlign.v;this.$m(this.caller,_.E.c,{R:_.Y.a0,T:this.id,Cs:"changeOther",$s:h,ah5:X})};
A.Gz.prototype.rP=function(d,v,t,h,X){if(d==null)return;var g=d.z.tw(X.x,X.y),x=A.Gz.GS(d,g);if(x==-1)return;
var Z=new eG(_.E.c,!0);Z.data={R:_.Y.a0,T:this.id,Cs:"showpan",aOo:this.es!=null,r5:x,_h:X,lG:d,n:t};
v.J(Z)};A.Gz.prototype.a3Y=function(){var d=this.es;if(d&&!this.Ha&&this.bW!=null){var v=this.caller.c6();
this.bW.QZ(v,this.n,null,null);this.bW=null;this.J$(d.add.TySh);this.WW(v)}};A.Gz.prototype.disable=function(d,v,t,h){var X=this.es;
this.eb(d,v)};A.Gz.prototype.Fb=function(d,v,t,h,X){if(this.Pw)return;if(d.Cs=="commit")this.eb(t,v);
if(d.Cs=="cancel")this.ns(t,v);if(d.Cs=="changeOther"){this.Xk=d.$s;this.Zr=d.ah5;if(t!=null)this.Oh({R:"updateStyles"},v,t,h,X)}if(d.Cs=="showwarp"){if(t==null)return;
if(this.es==null){var g=t.U[t.l[0]],x=g.add.TySh;if(x==null)return;this.eZ(t,v,X,[t.l[0]]);this.xG.focus();
this.Pw=!0}this.axj=this.es.add.TySh.yv;var Z=new eG(_.E.c,!0);Z.data={R:_.Y.S8,cG:"textwarp"};v.J(Z)}};
A.Gz.prototype.sq=function(d,v){if(v!=lx.IQ)return;if(this.avR&&this.$_){this.avR=!1;var t=this.caller.c6(),h=this.$_;
for(var n=0;n<h.length;n++){this.es=t.U[h[n]];this.Vs(t,d)}this.eb(t,this.caller);return}if(this.es)this.er(d)};
A.Gz.prototype.Us=function(d,v){var t=f.v(d.Jh);jM.b5(t,1/v.M.Mk());return t};A.Gz.prototype.BW=function(d,v){if(d.pR!=null)this.vy(v,d.aox);
else this.a7L(v,d.zA,d.QK)};A.Gz.prototype.Js=function(d,v){if(d.pR!=null)this.vy(v,d.pR);else this.a7L(v,d.ID,d.B2)};
A.Gz.prototype.vy=function(d,v){for(var n=0;n<v.length;n++){var t=v[n],h=t.ED,X=d.U[h];X.buffer=t.Gw;
X.S=t.BS.b();X.uM();X.nG.kv=null;X.nG.path=null;var g=X.add.TySh;g.yv=t.kk;g.LS=t.LS.b();g.M=t.M.b();
g.Oo=f.v(t.Oo);if(g.add)jM.ii(g);X.JB()}d.uM()};A.Gz.prototype.Ok=function(d,v){var t=[];for(var n=0;
n<v.length;n++){var h=v[n],X=d.U[h],g=X.add.TySh;t.push({ED:h,M:g.M.b(),kk:f.v(g.yv),LS:g.LS.b(),Oo:f.v(g.Oo),Gw:X.buffer.slice(0),BS:X.S.b()})}return t};
A.Gz.prototype.a7L=function(d,v,t){d.l=t;d.xd(v);d.uM();d.Ir=!0};A.Gz.prototype.Vs=function(d,v,t){if(t==null)t=!1;
var h=this.es.add.TySh;if(!ka.Ns(h,v.FP,this.caller))return!1;if(!t){var X=jM.W3(h.Oo);this.xG.value=X.slice(0,X.length-1)}var g=this.es.S,x=ka.Vs(this.es,v.FP,d);
this.Ji=x[1];var Z=this.Ji.Es();if(f.kk.vs(h.yv))h.LS=new iW;else{if(jM.YX(h.Oo)==1){var Y=jM.pg(h.Oo),bW=Z.y;
h.LS=new iW(0,bW,Y[2]-Y[0],Y[3]-Y[1]-bW)}else h.LS=Z}d.nA();if(x[2])d.uM(d.root.T5(x[2].BS.Ue(g),d,d.U.indexOf(this.es)));
return!0};A.Gz.prototype.fu=function(d,v){if(this.es==null||this.Pw)return;var t=this.xG.selectionStart,h=this.es.add.TySh,X=jM.W3(h.Oo),g=this.xG.value+"\n",x=Math.min(this.ve,this.rl),Z=Math.max(this.ve,this.rl),U=!1;
this.ve=Math.min(t,x);if(g.length-t<X.length-this.rl)this.rl=X.length-g.length+t;if(X!=g){while(this.ve>0&&X.charAt(this.ve-1)!=g.charAt(this.ve-1))this.ve--}var Y=X.substring(0,this.ve),a=X.substring(this.rl,X.length),z=g.substring(this.ve,g.length-a.length);
jM.MW(h.Oo,this.ve,this.rl);jM.Uh(h.Oo,this.ve,z);if(v!=null)jM.aLW(h.Oo,this.ve,v);var p=this.Us(this.n,h),l=-1,L=Array.from(z);
for(var n=0;n<L.length;n++)l=Math.max(l,L[n].codePointAt(0));if(l!=-1&&l>32&&l!=65533&&p.Uy.Font!=null){var j=p._G[p.Uy.Font].Name,O=this.n.FP.aCZ(l,j,p._G);
if(j!=O){jM.aW(p,O);U=!0}}if(this.abf!=null&&z==this.abf){var F=JSON.parse(this.axS);jM.b5(F,1/h.M.Mk());
p.Uy=F.Uy;p._G=F._G;U=!0}jM.yx(h.Oo,this.ve,this.ve+z.length-1,p);this.ve=this.rl=Y.length+z.length;
var i=this.caller.c6(),$=this.Vs(i,this.n,!0);if($)this.WW(i,!0);if(U)this.WU()};A.Gz.prototype.arK=function(d){var v=cQ;
if(!d.ctrlKey)this.a3Y();d.stopPropagation()};A.Gz.prototype.a9l=function(d){d.stopPropagation();var v=d.ctrlKey||d.metaKey,t=cQ,Y=0,a=0,$=0,T=!1;
if(this.es==null||this.Pw)return;if(this.es==null)return;if(this.caller.Rf.d4())return;var h=this.caller.c6();
if(this.bW==null&&v){var X=this.es.add.TySh,g=jM.YX(X.Oo),x;if(g==1){x=jM.pg(X.Oo);x=new iW(0,0,x[2]-x[0],x[3]-x[1])}else x=this.Ji.Es();
var Z=[x.x,x.y,x.x+x.r,x.y,x.x+x.r,x.y+x.$,x.x,x.y+x.$];f.Q.M(Z,X.M,Z);this.bW=new d3(Z,!0,!0,!1,!1);
this.bW.Wi(0);this.aCM=x;this.WW(h)}if(t.L9(d.code,t.EU))Y=1;if(t.L9(d.code,t.Qw))Y=-1;if(t.L9(d.code,t.fP))a=-1;
if(t.L9(d.code,t.eq))a=1;var z=t.L9(d.code,cQ.ek),p=t.L9(d.code,cQ.a9k);if(t.L9(d.code,cQ.u0)&&v){this.eb(h,this.caller);
return}if(t.L9(d.code,cQ.l5)){this.ns(h,this.caller);return}if(t.L9(d.code,cQ.$G)){d.preventDefault();
var U=this.xG,l=U.value,L=U.selectionStart,j=U.selectionEnd;U.value=l.substring(0,L)+"\t"+l.substring(j);
U.selectionStart=U.selectionEnd=L+1;this.fu(null);return}var O=t.L9(d.code,t.P9),F=t.L9(d.code,t.bJ);
if(v&&(O||F)){d.preventDefault();var i=new eG(_.E.F,!0);i.T=A.CK;i.data={R:"zoom",JR:O};this.caller.J(i)}if(t.L9(d.code,t.ok))$=1;
if(t.L9(d.code,t.ep))$=-1;var H=this.ve==this.rl,b=v&&d.shiftKey&&$!=0&&!H;if(b||d.altKey&&Y!=0){var r=f.v(this.n.Jh);
if(b){var W=r.Uy.FontSize;if(W==null)W=16;r.Uy.FontSize=Math.max(1,W+$*(d.altKey?5:1))}else{if(H){r.Uy.Kerning+=20*Y;
r.Uy.AutoKerning=!1}else r.Uy.Tracking+=20*Y}d.preventDefault();var V=new eG(_.E.c,!0);V.data={R:_.Y.Kf,Ic:lx.jO,Jh:r};
this.caller.J(V);var i=new eG(_.E.F,!0);i.T=A.uW;i.data={R:"updateStyles"};this.caller.J(i);return}if((t.L9(d.code,t.f9)||t.L9(d.code,t.Hc))&&v){var y=this.ve,c=this.rl;
if(y>c){var S=y;y=c;c=S}var X=this.es.add.TySh,C=jM.W3(X.Oo);if(y!=c){this.abf=C.slice(y,c);this.axS=JSON.stringify(this.n.Jh)}}var K=jM.W3(this.es.add.TySh.Oo);
if(Y!=0||a!=0||z||p){d.preventDefault();var D=this.ve;if(Y!=0){if(v&&Y==-1)D=this.a70(K,this.ve-1);else if(v&&Y==1)D=this.aed(K,this.ve);
else{var U=this.xG,l=U.value;D=this.ve+Y;if(D!=0&&l.codePointAt(D-1)>65535)D+=Y}}else if(a!=0){var N=this.Ji.Ev(this.ve);
if(a==-1&&N.bS==0)D=0;else if(a==1&&N.bS==this.Ji.aNC()-1)D=99999999999;else D=this.Ji.aN3(new cK(N.BS.x+N.BS.r/2,0),N.bS+a)}else if(z){var G=this.ve-1;
while(G>0&&K.charCodeAt(G)!=10)G--;D=G==0?0:G+1}else if(p){var G=this.ve;while(G<K.length-1&&K.charCodeAt(G)!=10)G++;
D=G}D=Math.max(0,Math.min(K.length-1,D));if(d.shiftKey)this.ve=D;else this.ve=this.rl=D;T=!0}if(v&&t.azq(d,cQ.Y)){this.ve=0;
this.rl=K.length-1;T=!0}if(T){this.WU();this.WW(h)}};A.Gz.abF=function(d,v){var t=d.length;if(t!=v.length)return!1;
for(var n=0;n<t;n++)if(d[n].ED!=v[n].ED)return!1;return!0};A.Gz.prototype.eb=function(d,v,t){if(this.es==null)return;
if(Date.now()-this.a4q<5e3)t=!0;this.a4q=Date.now();this.es.JB();var h=this.$g;if(h instanceof Array){var X=this.Ok(d,this.$_),g=d.oD();
if(g!=null&&g.T==this&&g.data.pR&&A.Gz.abF(g.data.pR,h)&&t)g.data.aox=X;else{var x=new bd(this.name,this);
x.data={pR:h,aox:X};d.RS(x)}}else{var x=new bd(this.name,this);x.data={ID:h.ID,zA:h.zA,B2:h.B2,QK:h.QK};
d.RS(x);var Z=this.es.add.TySh,Y=Z.Oo,a=jM.W3(Y).slice(0,-1),z={classID:"null",null:kl.hR("TxLr"),Usng:{t:"Objc",v:{classID:"TxLr",Txt:{t:"TEXT",v:a},TxtC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:100*Z.M.r2/d.r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:100*Z.M.pE/d.$}}}}}}};
jM.a4h(z.Usng.v,Y,d);this.u$=v;this.track({oN:"make",mQ:z})}this.escape(d,v)};A.Gz.prototype.ns=function(d,v){if(this.es==null)return;
if(this.$g instanceof Array){this.vy(d,this.$g);if(this.es)jM.ii(this.es.add.TySh)}else{d.l=this.$g.B2;
d.xd(this.$g.ID);d.Ir=!0}d.uM();this.escape(d,v)};A.Gz.prototype.escape=function(d,v){this.a3Y();this.es=null;
this.$_=null;this.Ji=null;this.LW=null;this.xG.blur();d.W.sG=null;d.W.ei=null;d.W.ag=[];d.QW=!0;this.Ha=!1;
this.J0=!1;this.ve=this.rl=-1;this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,Cs:"hideactive"});if(this.IP){var t=new eG(_.E.c,!0);
t.data={R:_.Y.H_,T:this.IP};v.J(t);this.IP=null}};A.Gz.prototype.$m=function(d,v,t,h){var X=new eG(v,!0);
X.data=t;if(h)X.T=h;d.J(X)};A.Gz.prototype.Zt=function(d){var v=this.es.add.TySh,t=this.Ji,h=v.M.b();
h.zJ();var X=h._V(d),g=jM.pT(v,t),x=f.kk.kU(v.yv,g),Z=f.g_.c3(x,X);if(Z==null)Z=new Float64Array(2);
X=new cK(g.x+Z[0]*g.r,g.y+Z[1]*g.$);if(t.Ea){var Y=t.Ea.b();Y.zJ();X=Y._V(X)}var a=t.aN3(X);return a};
A.Gz.prototype.WW=function(d,v){if(v==null)v=!1;var t=this.es.add.TySh,h=jM.YX(t.Oo),X=this.Ji,g=X?jM.pT(t,X):null;
d.W.ag=[];d.W.sG=null;d.W.ei=null;var x=this.bW?this.bW:this.LW;if(x){x.Yj(d,this.n,!f.kk.vs(t.yv));
var Z=t.M.b();Z.zJ();if(X&&X.Ea&&X.tJ==1){var Y=X.Ea.b();Y.zJ();Z.concat(Y)}f.Q.M(d.W.ag,Z,d.W.ag);f.Q.M(d.W.sG.I,Z,d.W.sG.I);
if(X&&X.Ea==null&&X.aIL()){var a=g.r-20,z=g.$+8;d.W.sG.I.push(a,z,a+10,z,a+5,z-5,a+5,z+5);d.W.sG.s2.push("M","L","M","L")}}else if(h==0)this.a7A(d,t,X);
else d.W.sG={I:[],s2:[]};var p=Math.min(this.ve,this.rl),U=Math.max(this.ve,this.rl);if(!v){this.xG.selectionStart=p;
this.xG.selectionEnd=U}if(X!=null){var l=function(x,H){var b=x.x,r=x.y+x.$,W=new gi;W.translate(-b,-r);
W.rotate(-H);W.translate(b,r);x.y+=x.$*.27;var $=f.Q.Ya(x);f.Q.M($.I,W,$.I);return $};if(p==U){p=Math.max(p,0);
var L=X.Ev(p);if(L){var j=L.BS,O=this.n.Jh.Uy.FontSize;if(O!=null&&O!=0){O/=t.M.Mk();j.y+=j.$-O;j.$=O}var F=X.akn(p);
if(F!=null&&F.lb==1)j.x+=j.r;var i=l(j,L.r$).I;d.W.sG.s2.push("M","L");d.W.sG.I.push(i[0],i[1]-1,i[6],i[7]-1)}}else if(this.caller.Rf.d4()==null){d.W.ei={I:[],s2:[]};
for(var n=p;n<U;n++){var L=X.Ev(n),$=l(L.BS,L.r$);f.Q.concat(d.W.ei,$)}}}d.W.sG=ka.vA(d.W.sG,t,X,!0);
d.W.ei=ka.vA(d.W.ei,t,X,!0);d.W.ag=ka.vA({I:d.W.ag},t,X,!0).I;d.QW=!0};A.Gz.prototype.a7A=function(d,v,t){if(t==null)return;
d.W.ag.push(0,0);if(d.W.sG==null)d.W.sG={s2:[],I:[]};for(var n=0;n<t.eE.length;n++){var h=t.eE[n];for(var X=0;
X<h.w4.length;X++){var g=h.w4[X],x=h.rT.x+g.rT.x+g.BS.x,Z=h.rT.y+g.rT.y+g.BS.y+g.BS.$;d.W.sG.s2.push("M","L");
d.W.sG.I.push(x,Z,x+g.BS.r,Z)}}d.QW=!0};A.uX=function(){A.Gz.call(this,!0)};A.uX.prototype=new A.Gz;
A.xV=function(d){A.Oe.call(this,d?"Magic Replace":[10,9],d?A.aoo:A.w2,d?"tools/mremove":"tools/lasso");
this.gj=null;this.V2=null;this.NT=null};A.xV.prototype=new A.Oe;A.xV.prototype.KT=function(d,v,t,h){this.gj=this.uL;
this.V2={I:[this.gj.x,this.gj.y],s2:["M"]}};A.xV.prototype.Lg=function(d,v,t,h){this.NT=h;var X=this.V2;
if(X==null)return;if(!h.n2){if(this.V2!=null&&this.Ig.CH(1)&&t.A(cQ.io)){X.I.pop();X.I.pop();X.I.push(this.dg.x,this.dg.y);
d.W.sG=X;d.QW=!0}return}X.s2.push("L");X.I.push(this.dg.x,this.dg.y);this.gj=this.dg;if(this.up){d.W.sG=X;
d.QW=!0}};A.xV.prototype.Ht=function(){return this.V2!=null};A.xV.prototype.L5=function(){return this.V2!=null};
A.xV.prototype.M6=function(d,v,t,h){A.Oe.prototype.M6.call(this,d,v,t,h);if(this.V2&&this.Ig.CH(1)&&this.NT&&!this.NT.n2&&!h.A(cQ.io))this.axx(d,t,h)};
A.xV.prototype.qz=function(d,v,t,h){this.NT=h;var X=this.V2;if(X==null)return;if(this.Ig.CH(1)&&t.A(cQ.io)){X.s2.push("L");
X.I.push(this.dg.x,this.dg.y);return}this.axx(d,v,t)};A.xV.prototype.axx=function(d,v,t){this.finish(d,v,t,this.NT);
this.V2=null;d.W.sG=null;d.QW=!0};A.xV.prototype.getSelection=function(d,v,t,h){if(this.uL.fE(this.dg)||!this.up)return null;
return A.Oe.Z5(this.V2.I,null,this.zj.anta)};A.jt=function(){A.M$.call(this,[10,11],A.Xc,"tools/move");
this.oQ=new cK(0,0);this.Mf=new cK(0,0);this.jI=null;this.Ze=null;this.lN=new cK(0,0);this.Vr=null;this.n=null;
this.u$=null;this.lI=0;this.Rk=null;this.dQ=[];this.MH=null;this.CX=null;this.E8=!1;this.R=0;this.aoO=null;
this.PM=null;this.nO=null;this.nB=!1;this.zj={wT:!0,Xo:j8==1,jM:!1,a9M:1};this.aHM=!1;this.amf=!1;this.LW=null;
this.vj=null;this.aC$=null;var d=[];for(var n=0;n<f.rd.a5.length;n++)d.push({name:f.rd.a5[n],f:function(v,t,h){return{BY:t.rp.iV==h}}});
this.L7=new jr(d);this.L7.P("select",this.sI,this)};A.jt.prototype=new A.M$;A.M$.prototype.pG=function(d){return this.E8&&this.R!=2};
A.jt.prototype.auC=function(){return this.E8&&(this.R==0||this.R==1)};A.jt.prototype.LC=function(d,v,t,h){this.lV(d,-this.lN.x,-this.lN.y);
this.lN.QG(0,0);this.b7(d,null,t);this.KC(d)};A.jt.prototype.K7=function(){var d=this.zj;if(d.wT&&!d.Xo&&!d.jM)return null;
return[d.wT?1:0,d.Xo?1:0,d.jM?1:0]};A.jt.prototype.Ad=function(d,v,t){var h=this.zj;if(d&&d[0]!=null)h.wT=d[0]==1;
if(d&&d[1]!=null)h.Xo=d[1]==1;if(d&&d[2]!=null)h.jM=d[2]==1;if(j8==1)h.Xo=!0;var X=new eG(_.E.c,!0);
X.data={R:_.Y.a0,T:this.id,IW:h,a7P:v};t.J(X)};A.jt.aJ1=function(d,v,t,h,X,g,x){if(x==null)x=[!1,!0];
var Z=d.A6(null,X,!0),Y,a=X==null?d.l[0]:X;if(d.add.artd&&(X!=null||d.l.length==1)&&d.U[a].add.artb){var z=d.U[a].x1();
Y=d.HU(Z,z,z)[0]}else{var p=new iW(0,0,d.r,d.$),Y=d.HU(Z,x[0]?p:null,x[1]?null:p)[0];delete Y.add.artd;
if(x[1]){var U=f.mZ(Y.jP(),new iW(0,0,Y.r,Y.$),2);A.Fv.za(Y,U)}}if(t!=1){var l=new iW(0,0,Math.round(Y.r*t),Math.round(Y.$*t));
A.Fv.za(Y,l);var L=[];for(var n=0;n<Y.U.length;n++)L.push(n);var j=A.hZ.FI(Y,L,!0);A.Fv.AR(Y,new gi(t,0,0,t,0,0));
A.hZ.cS(Y,h,L,j,1,f.G.KO(new gi(t,0,0,t,0,0)),null,!0);Y.Yn()}var O=[];for(var n=0;n<v.length;n++)if(Y.r*Y.$!=0)O.push(b3.vg(Y,v[n].toUpperCase(),null,null,g?g[n]:null,h));
return O};A.jt.prototype.a9H=function(d,v,t,h,X){if(d==null||d.l.length==0)return;var g=A.jt.aJ1(d,[v],t,h,null);
if(g.length==0){alert("Empty layer selected.");return}var x=g[0],Z=new eG(_.E.c,!0);Z.data={R:_.Y.z9,data:x,name:d.U[d.l[0]].getName()+(t==1?"":"@"+t+"x")+"."+v};
X.J(Z)};A.jt.prototype.Fb=function(d,v,t,h,X){if(d.G$=="getPNG"){this.a9H(t,"png",d.I6,X,v)}else if(d.G$=="getSVG"){this.a9H(t,"svg",d.I6,X,v)}if(d.G$=="prms"){this.zj=d;
this.KC(t)}};A.jt.a5q=function(d){var bW=d.length,t=0;d.sort(function(g,x){return g[0]+g[1]/2-(x[0]+x[1]/2)});
var v=d[bW-1][0]+d[bW-1][1]-d[0][0];for(var n=0;n<bW;n++)t+=d[n][1];var h=Math.round((v-t)/(bW-1)),X=d[0][0];
for(var n=0;n<bW;n++){d[n][0]=X;X+=d[n][1]+h}};A.jt.prototype.Oh=function(d,v,t,h,X){var g=d.R;if(g=="trsl"){var x=Math.round(d.T9),Z=Math.round(d.Io);
this.lN.QG(x,Z);this.qo(t,v,h,X,!1,d.B);this.lV(t,x,Z);this.b7(t,null,X)}else if(g=="fcmy"||g=="fvec"){var Y=["RGB","CMYK"][d.K]+" Color";
if(g=="fvec")Y=["Raster","Vector"][d.K]+" Mode";var a=new bd(Y,this);a.data={R:d.R,Mo:t.add[g]==null?0:t.add[g],VE:d.K};
t.RS(a);this.BW(a.data,t)}else if(g=="pview"){var g=new bd([8,14],this);g.data={R:d.R};t.RS(g);this.BW(g.data,t)}else if(g=="lockguides"){if(t)t.CB=!t.CB}else if(g=="gids"||g=="gidsFromLayer"){var z=d.PM,p,U;
if(z==null)z=t.Dy();if(g=="gids"){p=d.BH;var l=z[0].length,L=p[0].length;U=l==L?[23,2]:l>L?[23,3]:[23,4];
if(L==0)U=[11,15,0]}else if(g=="gidsFromLayer"){var j=[],O=[],F=t.Hq();for(var n=0;n<t.l.length;n++){var i=t.U[t.l[n]].S;
if(i.HP())continue;j.push([0,i.x],[1,i.y],[0,i.x+i.r],[1,i.y+i.$]);O.push(F,F,F,F)}U=[11,15,1];p=t.Dy();
A.jt.Z$(p,[j,O])}if(JSON.stringify(z)==JSON.stringify(p))return;var g=new bd(U,this);g.data={R:2,PM:z,BH:p};
t.RS(g);this.BW(g.data,t)}else if(g=="algn"){var $=d.K,H=d.a3L,Q=0,q=0;if(t==null)return;if(t.l.length<2&&!(t.p!=null&&$!=3&&$!=7)&&H!=1){alert(f7.get([15,7,5]));
return}var b=t.p;t.p=null;var i=H==1?new iW(0,0,t.r,t.$):b?b.S:A.hZ.pT(t);this.qo(t,v,h,X,!1);if(!this.E8)return;
var r=this.Rk,W={},V=[],y=[],c=[];for(var n=0;n<r.length;n++){var S=r[n];while(t.U[S].getName()=="</Layer group>")S++;
var C=t.root.Ty(S),K=C;while(C.parent!=null){C=C.parent;if(r.indexOf(C.index)!=-1)K=C}var T=y.indexOf(K.index);
if(T==-1){T=y.length;y.push(K.index)}V[n]=T}var D=[],N=[],G=[],s=new iW;for(var n=0;n<y.length;n++){var R=A.hZ.pT(t,t.A6(!0,y[n]));
G.push(R);s=s.Ue(R);Q=Math.max(Q,R.r);q=Math.max(q,R.$);var m=$==3?[R.y,R.$]:[R.x,R.r];D[n]=m;N.push(m)}A.jt.a5q(N);
if($==8){var E=d.cols,e=f.rd.LJ(d.a1o,t.u3,t.r,X.rp.iV),w=f.rd.LJ(d.amd,t.u3,t.r,X.rp.iV);for(var n=0;
n<y.length;n++){var M=Math.floor(n/E),T=n-M*E,R=G[n],P=s.x+T*(Q+e),I=s.y+M*(q+w);c.push(Math.round(P-R.x),Math.round(I-R.y))}}else for(var n=0;
n<y.length;n++){var R=G[n],P=R.x,I=R.y;if($==0)P=i.x;if($==1)P=i.x+(i.r-R.r)/2;if($==2)P=i.x+(i.r-R.r);
if($==3)I=D[n][0];if($==4)I=i.y;if($==5)I=i.y+(i.$-R.$)/2;if($==6)I=i.y+(i.$-R.$);if($==7)P=D[n][0];
c.push(Math.round(P-R.x),Math.round(I-R.y))}var k=[];for(var n=0;n<r.length;n++){var o=V[n];k[2*n]=c[2*o];
k[2*n+1]=c[2*o+1]}this.lV(t,0,0,null,k);var af=$==3||$==7?[20,4,6]:[20,4,$<3?$:$-1];if($==8)af=[2,10,1];
this.b7(t,null,X,k,af);t.p=b}else if(g=="disabAuto"){this.Ad([!1],null,v)}};A.jt.Z$=function(d,v){for(var n=0;
n<v[0].length;n++){var t=v[0][n],h=v[1][n],X=!1;for(var g=0;g<d[0].length;g++){var x=d[0][g],Z=d[1][g];
if(t[0]==x[0]&&t[1]==x[1]&&h==Z)X=!0}if(!X){d[0].push(t.slice(0));d[1].push(h)}}};A.jt.prototype.enable=function(d,v,t,h,X){this.n=t;
this.u$=v;this.nB=X?!0:!1;this.KC(d);this.tv("default",v);this.M6(d,v,t,h)};A.jt.prototype.disable=function(d,v,t,h){this.Bw(d)};
A.jt.prototype.Bw=function(d){if(d==null)return;if(this.LW){this.LW.clear(d);this.LW=null}if(d.W.jM){d.W.jM=null;
d.QW=!0}if(d.W.O1){d.W.O1=null;d.QW=!0}if(d.W.gq[this.id]){delete d.W.gq[this.id];d.QW=!0}if(d.W.NX.length!=0){d.W.NX=[];
d.QW=!0}};A.jt.prototype.zl=function(d,v,t,h){if(t.tN!=this.id)return;this.KC(d)};A.jt.prototype.KC=function(d,v){if(d==null)return;
var t=this.zj;this.Bw(d);if(!this.nB){var h;if(t.Xo||t.jM){h=A.hZ.pT(d);if(j8==0)h=f.Q.kI(h)}if(t.Xo&&!h.HP()){var X=d.U[d.l[0]],g=f.Q.Ya(h).I;
if(j8==1&&d.l.length==1){if(X.add.vmsk)g=X.add.vmsk.Fy();if(X.add.SoLd)g=A.hZ.Q9(X.add.SoLd.nonAffineTransform);
if(X.add.TySh){g=f.Q.Ya(X.nG.PJ).I;f.Q.M(g,X.add.TySh.M,g)}}this.LW=new d3(g,!0);this.LW.Yj(d,this.n)}if(t.jM){var x=null,U=null,l=!1;
if(d.Hq()!=-1)x=d.U[d.Hq()].x1();else x=new iW(0,0,d.r,d.$);d.W.jM={mW:[h],Ep:[]};var Z=d.W.jM.Ep,Y=h.x+h.r,a=h.y+h.$,z=h.x+Math.floor(h.r/2),p=h.y+Math.floor(h.$/2);
if(v){var L=d.root.x6(new cK(Math.floor(v.x),Math.floor(v.y)));if(L){U=f.Q.kI(L.B.pT(d));if(U.GD(h)){l=(U.GV(h)||h.GV(U))&&!h.fE(U);
if(!l)U=null}}}this.a7c(h,Z);if(U!=null){d.W.jM.mW.push(U);var j=U.x+U.r,O=U.y+U.$,F=U.x+Math.floor(U.r/2),i=U.y+Math.floor(U.$/2);
if(l){var $=z,H=p;if(h.GV(U)){$=F;H=i}Z.push(h.x,H,U.x,H);Z.push(Y,H,j,H);Z.push($,h.y,$,U.y);Z.push($,a,$,O)}else{this.a7c(U,Z);
var b=a<U.y||O<h.y,r=Y<U.x||j<h.x;if(Y<U.x)Z.push(Y,p,U.x,p);if(j<h.x)Z.push(j,p,h.x,p);if(a<U.y)Z.push(z,a,z,U.y);
if(O<h.y)Z.push(z,O,z,h.y);if(b&&!r){if(h.x<U.x)Z.push(h.x,i,U.x,i);if(U.x<h.x)Z.push(U.x,p,h.x,p)}}}else{if(h.y>x.y)Z.push(z,x.y,z,h.y);
if(a<x.y+x.$)Z.push(z,a,z,x.y+x.$);if(h.x>x.x)Z.push(x.x,p,h.x,p);if(Y<x.x+x.r)Z.push(Y,p,x.x+x.r,p)}d.QW=!0}}if(this.R==2&&this.E8){var W=new iW(0,0,d.r,d.$),V=d.Hq();
if(V!=-1){var y=d.Dy(),c=y[1][this.Rk];if(c==-1)c=V;W=d.U[c].x1()}var S=d.MQ[this.Rk],C=S[0],K=(C==0?"X":"Y")+": "+f.rd.Zm(S[1]-(C==0?W.x:W.y),d.u3,this.n,C==0?W.r:W.$,!0);
A.M$.uS(Math.round(this.jI.x)+10,Math.round(this.jI.y)-10,[K],d);d.QW=!0}if(this.R==3&&this.E8){var T=f.Q.Ya(this.aoO);
d.W.gq[this.id]={sG:T};d.QW=!0}};A.jt.prototype.a7c=function(d,v){var t=d.r,h=d.$,X=d.x+Math.floor(t*.2),g=d.y+Math.floor(h*.2);
v.push(X,d.y,X,d.y+h);v.push(d.x,g,d.x+t,g)};A.jt.prototype.tv=function(d,v){var t={R:_.Y.TG,Cn:d},h=new eG(_.E.c,!0);
h.data=t;v.J(h)};A.jt.prototype.Hm=function(d){var v=this.vj.Q_()[0],t=this.aC$.length;if(v<t){var h=this.Vr,X=this.aC$[v];
this._o(h,X)}else{var g=new eG(v==t?_.E.c:_.E.F,!0);if(v==t)g.data={R:_.Y.ew,Cm:"psd"};else{g.T=A.Nf;
g.data={R:"bgrm",K:1}}this.u$.J(g)}};A.jt.prototype.sI=function(d){var v=f.v(this.n.rp);v.iV=this.L7.Q_()[0];
var t=new eG(_.E.c,!0);t.data={R:_.Y.Kf,Ic:lx.yy,VE:v};this.u$.J(t)};A.jt.prototype.rP=function(d,v,t,h,X){if(this.E8)this.QZ(d,v,t,h,X);
this.Vr=d;this.n=t;this.u$=v;var g=d.z.tw(X.x,X.y),x;if(A.jt.Vj(t,X,d.z)){x=this.L7}else{if(this.vj)this.vj.removeEventListener("select",this.Hm);
var Z=[];d.root.x6(g,Z);if(Z.length==0)return;if(h.A(cQ.io)){this._o(d,Z[0]);return}var Y=[];this.aC$=Z;
for(var n=0;n<Z.length;n++)Y.push({name:d.U[Z[n]].getName(),G0:n==Z.length-1});Y.push({name:[1,18],XG:!0});
Y.push({name:"Remove BG",f:c7.BN});x=this.vj=new jr(Y);x.P("select",this.Hm,this)}x.parent=v;x.H();x.update(d,t);
var a=new eG(_.E.c,!0);a.data={R:_.Y.Vw,UZ:x,x:X.eT+2,y:X.UF+1};v.J(a)};A.jt.prototype.asp=function(d,v,t,h,X){var g=A.jt.Jz(d,X);
return g!=-1||A.jt.Vj(t,X,d.z)};A.jt.Jz=function(d,v){if(d==null||d.add.artd==null)return-1;var t=d.z.tw(v.x,v.y),h=12*A.LY()/d.z.OI;
for(var n=0;n<d.U.length;n++){var X=d.U[n];if(!X.ZC()||X.add.artb==null)continue;var g=X.x1(),x=new iW(g.x,g.y-1.7*h,h*X.getName().length*.5,h);
if(x.QQ(t))return n}return-1};A.jt.prototype.li=function(d,v,t,h,X){var g=A.jt.Jz(d,X),x=A.jt.av5(d,d.z.tw(X.x,X.y));
if(g!=-1){d.l=[g];if(t.tN==A.Xc){var Z=new eG(_.E.c);Z.data={R:_.Y.H_,T:A.mH};v.J(Z)}return}if(x!=-1){d.z.qc=x;
d.zs=!0;var Z=new eG(_.E.c,!0);Z.data={R:_.Y.Qu,cG:f1.q2.anU};v.J(Z);return}this.jI=X;this.oQ.QG(X.x,X.y);
this.Mf=d.z.tw(X.x,X.y);this.Ze=new k8(this.Mf);this.qo(d,v,h,t,!0)};A.jt.Vj=function(d,v,t,h){var X=f.rd.IK,g=t.Yx.$;
return d.Na&&(0<v.x&&v.x<X||0<v.y&&v.y<X||h&&0<v.x&&v.x<4*X&&g-X<v.y&&v.y<g)};A.jt.prototype.qo=function(d,v,t,h,X,g){var x,Z=this.Mf,Y=!1;
if(X){var a=h.N$&&h.rp.MQ;if(A.jt.Vj(h,this.oQ,d.z)){x=d.Dy();var z=d.Dy(),p=null;if(this.oQ.x<f.rd.IK){p=[0,Z.x]}if(this.oQ.y<f.rd.IK){p=[1,Z.y]}z[0].push(p);
z[1].push(d.Hq(!0));d.gY(z);if(!a){var U=new eG(_.E.c);if(!h.rp.MQ){U.data={R:_.Y.Kf,Ic:lx.gB};v.J(U)}if(!h.N$){U.data={R:_.Y.Kf,Ic:lx.b9};
v.J(U)}a=!0}}var l=this.a8n(d,Z);if(a&&l!=null&&!d.CB){this.R=2;this.PM=x?x:d.Dy();this.Rk=l;this.E8=!0;
this.CX=A.hZ.pT(d);return}if(d.Cv.length!=0){this.R=4;this.CX=d.gM[d.Cv[0]].S.b();this.E8=!0;return}if(this.LW&&this.LW.Q6(Z,d.z.OI,!0,this.jI)!=null){var U=new eG(_.E.c);
U.data={R:_.Y.H_,T:A.Oi,aMO:!0};v.J(U);return}if(d.p&&d.p.S.QQ(Z)){var L=Math.round(Z.x),j=Math.round(Z.y),O=d.p.S;
Y=d.p.N[(j-O.y)*O.r+L-O.x]>f.ay(d.depth)/2}var F=this.zj.wT||j8==1;if(!Y&&(!this.nB&&F||this.nB&&F&&(t.A(cQ.cm)||d.l.length<2))){var i=this.aAf(d,Z,t);
if(!i){d.l=[];d.so=null;d.Ir=d.bU=!0;this.R=3;this.aoO=new iW;this.E8=!0;return}}if(t.A(cQ.io)&&!Y){var $=new eG(_.E.F);
$.T=A.EM;$.data={R:jn.jl,a0f:!0};v.J($)}}if(d.Cv.length!=0){this.R=4;this.CX=d.gM[d.Cv[0]].S.b();this.E8=!0;
return}this.Rk=d.A6(g==null,g,null,!0);for(var n=0;n<this.Rk.length;n++){var H=this.Rk[n],b=d.U[H];if(b.BL(2)||b.BL(31)||d.nb(H)){alert(f7.get([6,57,0]));
return}}if(d.add.artd&&X){var r=this.Rk,W=!1;for(var n=0;n<r.length;n++)if(d.U[r[n]].add.artb)W=!0;if(!W){this.MH=[d,d.U.slice(0),d.l.slice(0),-1];
this.Rk.sort(function(D,N){return D-N})}}this.dQ=A.jt.aOu(d,this.Rk);this.R=0;if(d.p&&(!X||Y)&&d.l.length==1&&d.fi(!1)){if(!d.adi()){this.E8=!1;
return}var V=d.U[d.l[0]],y=t.A(cQ.io);this.R=1;var c=d.history[d.UG];if(c.T==this&&c.data.R==1&&c.data.B==d.l[0]&&V.VL==V.k7.VL&&!y){this.nO=c}else{var S=V.k7,C=!1,K;
if(!V.Gp(d,d.p)||y){C=!0;V.lO(d,d.p,y)}if(V.k7.VL<=0){K=f.m(V.k7.SS.length>>2,d.depth);f.Po(V.k7.SS,K,3)}else K=d.p.N.slice(0);
var T={S:V.k7.rG.b(),N:K};this.nO=new bd(y?[12,53]:[12,54],this);this.nO.data={R:1,B:d.l[0],k7:V.k7,Pm:S,gN:C,B2:d.p,QK:T,r7:new cK(0,0)};
d.RS(this.nO);d.p=T;d.B6=!0}}this.E8=!0;this.CX=A.hZ.pT(d)};A.jt.prototype.aAf=function(d,v,t){var h=d.root.x6(new cK(Math.floor(v.x),Math.floor(v.y)));
if(h){if(h.B.add.vmsk)d.QW=!0;var X=d.U.indexOf(h.B);if(this.zj.a9M==0){var g=d.root.Ty(X);while(g.parent&&g.parent.depth!=0&&g.parent.B.add.artb==null)g=g.parent;
X=g.index}if(t.A(cQ.cm)){var x=d.l.indexOf(X);if(x==-1)d.l.push(X);else if(d.l.length>1)d.l.splice(x,1)}else if(d.l.indexOf(X)==-1){this._o(d,X)}}return h!=null};
A.jt.prototype._o=function(d,v){d.U[v].VL=0;d.l=[v];d.so=null;d.Qs();d.oZ=!0;d.Ir=!0};A.jt.av5=function(d,v){var t=d.add.Anno;
if(t==null||t.length==0)return-1;var h=30/d.z.OI;for(var n=0;n<t.length;n++)if(new iW(t[n][0],t[n][1],h,h).QQ(v))return n;
return-1};A.jt.prototype.qw=function(d,v,t,h,X){this.jI=X;var g=d.z.tw(X.x,X.y),l,L;if(this.Ze&&this.R<2)g=this.Ze.NA(g,h);
if(!this.E8){if(t.N$&&t.rp.MQ&&d&&!d.CB){var x=this.a8n(d,g),Z="default",Y=A.jt.Jz(d,X);if(x!=null)Z=["col-resize","row-resize"][d.MQ[x][0]];
else if(this.LW){var a=this.LW.Q6(g,d.z.OI,null,X);if(a)Z=a}else if(Y!=-1||A.jt.av5(d,g)!=-1){Z="pointer"}this.tv(Z,v)}this.KC(d,g);
return}var z=this.Mf,p=Math.round(g.x-z.x)-this.lN.x,U=Math.round(g.y-z.y)-this.lN.y;if(this.CX){if(this.R==2){var j=[];
if(d.p)j.push(d.p.S);if(this.CX)j.push(this.CX);if(d.z.O0)j.push(d.z.O0);g=A.jt.$b(d,g,t,[!1,j,!0,!0])}else{L=this.CX.b();
L.offset(this.lN.x+p,this.lN.y+U);l=A.jt.YY(d,L,t);var O=this.Ze.am0(h);if(O==1){l[0]=0;l[2]=1e9}if(O==2){l[1]=0;
l[3]=1e9}p+=Math.round(l[0]);U+=Math.round(l[1])}}this.lN.x+=p;this.lN.y+=U;var F=this.MH;if(F&&d==F[0]){d.xd(F[1]);
d.l=F[2].slice(0);F[3]=-1}this.lV(d,p,U,g,null,h.A(cQ.cm));if(F&&d==F[0]){var i=this.CX.b();i.offset(this.lN.x,this.lN.y);
var $=g,Y=d.Hq(),H=-1;for(var n=0;n<d.U.length;n++){var b=d.U[n];if(!b.ZC()||b.add.artb==null)continue;
var r=b.x1();if(r.QQ($))H=n}if(H!=-1&&H!=Y){var W=A.OJ.sZ(d,this.Rk,H,!0,null,!1);d.xd(W[0]);d.l=W[1];
F[3]=H}}this.KC(d,g);if(l)A.jt.Wo(d,L,l)};A.jt.prototype.a8n=function(d,v){var t=A.RV(d,this.jI);v=[v.x,v.y];
var h=d.Dy(),X=d.Hq();for(var n=0;n<h[0].length;n++){var g=h[0][n],x=h[1][n];if(x!=-1&&x!=X)continue;
if(Math.abs(g[1]-v[g[0]])<t)return n}return null};A.jt.prototype.lV=function(d,v,t,h,X,g){if(this.R==0){if(X)A.jt.KB(d,this.Rk,this.dQ,X);
else A.jt.n8(d,this.Rk,this.dQ,v,t)}else if(this.R==1){var x=this.nO.data;x.r7.offset(v,t);A.jt.lc(d,x.B,v,t)}else if(this.R==2){var Z=1e-4;
if(g)Z=d.z.OI<=1?10:1;var Y=Z*Math.round(h.x/Z),a=Z*Math.round(h.y/Z),z=[Y,a],p=d.MQ[this.Rk];p[1]=z[p[0]]}else if(this.R==3){var U=this.Mf,l=f.Q.k2([U.x,U.y,h.x,h.y]);
this.aoO=l;var L=[];d.root.Mz(l,L);if(JSON.stringify(d.l)!=JSON.stringify(L)){d.l=L;d.Ir=d.bU=!0}}else if(this.R==4){for(var n=0;
n<d.Cv.length;n++)d.gM[d.Cv[n]].S.offset(v,t);d.QW=!0}};A.jt.lc=function(d,v,t,h){var X=d.U[v];d.p.S.offset(t,h);
X.pv(d,t,h,d.p);d.B6=!0;d.uM()};A.jt.prototype.QZ=function(d,v,t,h,X,g){this.b7(d,X,t);this.KC(d);if(Date.now()-this.lI<300&&!g){var x=A.Gz.GS(d,d.z.tw(X.x,X.y));
if(A.jt.Vj(t,X,d.z,!0)){var Z=new eG(_.E.c);if(X.y>d.z.Yx.$-20){Z.data={R:_.Y.S8,cG:"doczoom",Mo:d.z.OI*100,H5:{g:_.E.F,T:A.CK,d:{R:"pzoom"}}}}else{Z.data={R:_.Y.S8,cG:"preferences"}}v.J(Z)}else if(x>=0){var Y=new eG(_.E.F,!0);
Y.T=A.uW;Y.data={R:"editCurr",r5:x};v.J(Y)}}this.lI=Date.now();A.Fv.DP(d)};A.jt.prototype.b7=function(d,v,t,h,X){if(!this.E8)return;
this.E8=!1;if(this.R<=1){if(h){this.aCk(d,null,h,X)}else{if(this.lN.x==0&&this.lN.y==0)return;this.aCk(d,this.lN.b())}d.zs=!0}else if(this.R==2){var g=0;
v=[v.x,v.y];var x=this.Rk,Z=d.MQ[x],ko=this.PM[0].length,Y=d.MQ.length;if(t.Na&&v[Z[0]]<f.rd.IK){var a=d.Dy();
a[0].splice(x,1);a[1].splice(x,1);d.gY(a);g=1;if(ko==Y-1)return}if(ko<Y)g=2;var z=new bd([[23,2],[23,3],[23,4]][g],this);
z.data={R:2,PM:this.PM,BH:d.Dy()};d.RS(z)}else if(this.R==4){var z=new bd([12,54],this);z.data={R:4,l:d.Cv.slice(0),h:this.lN.b()};
d.RS(z)}this.lN.QG(0,0)};A.jt.prototype.M6=function(d,v,t,h){var X=h.eI(d?d.z.r$:0);if(d!=null&&(X.x!=0||X.y!=0)){if(h.A(cQ.io)&&d.p==null){var g=new eG(_.E.F);
g.T=A.EM;g.data={R:jn.jl,a0f:!0};v.J(g)}this.lN.QG(X.x,X.y);this.qo(d,v,h,t,!1);if(!this.E8)return;this.lV(d,X.x,X.y);
this.b7(d,null,t);this.KC(d)}var x=h.A(cQ.LE);if(!this.nB&&this.amf!=x){if(x){this.aHM=this.zj.wT;this.zj.wT=!0}else{this.zj.wT=this.aHM}this.amf=x;
var Z=new eG(_.E.c,!0);Z.data={R:_.Y.a0,T:this.id,IW:this.zj};v.J(Z)}};A.jt.prototype.Js=function(d,v){if(d.R==0){var t=d.akd;
if(t){v.xd(t.ID);v.l=t.AZ.slice(0);v.uM();v.Ir=!0}A.jt.KB(v,d.l,d.wV,d.tM,!0);A.Fv.DP(v)}else if(d.R=="fcmy"||d.R=="fvec"){if(d.Mo==0)delete v.add[d.R];
else v.add[d.R]=d.Mo;v.QW=!0}else if(d.R=="pview"){v.Dw=!v.Dw;v.uM()}else if(d.R==2){v.gY(d.PM);v.QW=!0}else if(d.R==4){for(var n=0;
n<d.l.length;n++)v.gM[d.l[n]].S.offset(-d.h.x,-d.h.y);v.QW=!0}else{var h=v.U[d.B];if(d.gN){h.Dn(v,d.Pm);
v.p=d.B2;v.B6=!0;v.uM();h.uM()}else{A.jt.lc(v,d.B,-d.r7.x,-d.r7.y)}}};A.jt.prototype.BW=function(d,v){if(d.R==0){A.jt.KB(v,d.l,d.wV,d.tM);
var t=d.akd;if(t){v.xd(t.zA);v.l=t.Bv.slice(0);v.uM();v.Ir=!0}A.Fv.DP(v)}else if(d.R=="fcmy"||d.R=="fvec"){if(d.VE==0)delete v.add[d.R];
else v.add[d.R]=d.VE;v.QW=!0}else if(d.R=="pview"){v.Dw=!v.Dw;v.uM()}else if(d.R==2){v.gY(d.BH);v.QW=!0}else if(d.R==4){for(var n=0;
n<d.l.length;n++)v.gM[d.l[n]].S.offset(d.h.x,d.h.y);v.QW=!0}else{var h=v.U[d.B];if(d.gN){h.k7=d.k7;v.p=d.QK;
A.jt.lc(v,d.B,0,0);h.uM()}else{A.jt.lc(v,d.B,d.r7.x,d.r7.y)}}};A.jt.prototype.aCk=function(d,v,t,h){if(t){var X=!0;
for(var n=0;n<t.length;n++)if(t[n]!=0)X=!1;if(X)return}var g=d.history[d.UG],x=this.MH,Z=x!=null&&x[3]!=-1&&x[0]==d;
if(!Z&&t==null&&g.data&&g.T==this&&g.data.R==0&&JSON.stringify(g.data.l)==JSON.stringify(this.Rk)&&JSON.stringify(g.data.wV)==JSON.stringify(this.dQ)){var Y=g.data.tM,a=g.data.aIT.mQ.T.v;
a.Hrzn.v.val+=v.x;a.Vrtc.v.val+=v.y;for(var n=0;n<Y.length;n+=2){Y[n]+=v.x;Y[n+1]+=v.y}}else{if(v==null)v=new cK(t[0],t[1]);
var z={oN:this.R==0?"move":"cut",mQ:{classID:"null",null:this.R==0?kl.hR("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:v.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:v.y}}}}}},p=null;
if(Z)p={ID:x[1],AZ:x[2],zA:d.U.slice(0),Bv:d.l.slice(0)};this.MH=null;this.track(z);if(this.R!=0)return;
var U=new bd(h?h:[12,54],this);if(t)U.data={R:0,l:this.Rk,wV:this.dQ,akd:p,tM:t};else U.data={R:0,l:this.Rk,wV:this.dQ,akd:p,tM:A.jt.ava(this.Rk,v.x,v.y)};
U.data.aIT=z;d.RS(U)}};A.jt.ava=function(d,v,t){var h=[];for(var n=0;n<d.length;n++)h.push(v,t);return h};
A.jt.n8=function(d,v,t,h,X){A.jt.KB(d,v,t,A.jt.ava(v,h,X))};A.jt.KB=function(d,v,t,h,X){if(v.length==0)return;
if(t==null){t=[];for(var n=0;n<v.length;n++){t.push(d.U[v[n]].tr(d,!0))}}var g=new iW,x=new iW(0,0,d.r,d.$);
for(var n=0;n<v.length;n++){var Z=h[2*n],Y=h[2*n+1];if(X){Z=-Z;Y=-Y}var a=d.U[v[n]],z=t[n];if(a.add.fxrp&&(z.indexOf(0)!=-1||a.c5()))a.add.fxrp.offset(Z,Y);
for(var p=0;p<z.length;p++){var U=z[p];if(U==0){a.S.offset(Z,Y);if(a.l4()&&a.Ip(d))a.Ip(d).S.offset(Z,Y);
if(a.add.artb){var l=a.x1();l.offset(Z,Y);a.In(l);var L=a.add.artb.guideIndeces;L=L?L.v:[];for(var j=0;
j<L.length;j++){var O=d.MQ[L[j].v];O[1]+=O[0]==0?Z:Y}}if(a.add.TySh){a.add.TySh.M.translate(Z,Y);if(a.add.TySh.add){a.add.TySh.add.vmsk.offset(Z,Y)}}if(a.add.SoLd){var F=new gi(1,0,0,1,Z,Y),i=a.add.SoLd,$=A.hZ.Q9(i.Trnf),H=A.hZ.Q9(i.nonAffineTransform);
f.Q.M($,F,$);f.Q.M(H,F,H);i.Trnf=A.hZ.gX($);i.nonAffineTransform=A.hZ.gX(H);A.hZ.avA(i,F)}}if(U==1)a._B().S.offset(Z,Y);
if(U==2){a.add.vmsk.offset(Z,Y);if(a.add.vogk)f._5.M(a.add.vogk,[1,0,Z,0,1,Y,0,0],[]);if(a.nG.V2){var b=a.nG.V2.c2.I;
f.Q.M(b,new gi(1,0,0,1,Z,Y),b)}}if(U==3){a.Ip(d).AU.S.offset(Z,Y);if(z.length==1)a.uM()}}if(z.length>0){var r=a.add.GdFl;
if(r==null)r=a.add.PtFl;if(a.c5()&&(!a.Ki()||a._B().az)&&a.add.vmsk!=null&&f.t.Ft(a.add.vmsk.D)&&a.add.vmsk.wb==255&&(r==null||r.Algn&&r.Algn.v)){a.S.offset(Z,Y)}else a.tG(d);
var W=d.root.T5(a.pT(d),d,v[n]);if(a.add.artb)W=W.Ue(a.x1());g=g.Ue(W);W.offset(-Z,-Y);g=g.Ue(W);if(a.sQ()&&a.AU&&a.AU.color==255)g=g.Ue(x);
a.abA()}}d.uM(f.Q.kI(g))};A.jt.aOu=function(d,v){var t=[];for(var n=0;n<v.length;n++){var h=d.U[v[n]];
t.push(h.tr(d))}return t};A.jt.Wo=function(d,v,t){var h={I:[],s2:[]},X=v.x+t[0],g=v.y+t[1];if(t[2]!=1e9){h.s2.push("M","L");
var x=g+v.$;if(t[4])h.I.push(t[2],Math.min(g,x,t[4][1]),t[2],Math.max(g,x,t[4][1]));else h.I.push(t[2],g,t[2],g+v.$)}if(t[3]!=1e9){h.s2.push("M","L");
var Z=X+v.r;if(t[5])h.I.push(Math.min(X,Z,t[5][0]),t[3],Math.max(X,Z,t[5][0]),t[3]);else h.I.push(X,t[3],Z,t[3])}if(h.I.length!=0){d.W.O1=h;
d.QW=!0}};A.jt.$b=function(d,v,t,h){var X=A.jt.aae(d,[[v.x],[v.y]],t,h);return new cK(v.x+X[0],v.y+X[1])};
A.jt.YY=function(d,v,t,h,X){var g=X==!0?1:.5,x=A.jt.aae(d,[[v.x,v.x+Math.round(v.r*g),v.x+v.r],[v.y,v.y+Math.round(v.$*g),v.y+v.$]],t,h);
return x};A.jt.aae=function(d,v,t,h){if(h==null)h=[!0,null,!0];var X=[0,0,1e9,1e9,null,null];if(!t.lX)return X;
var g=f.v(v);for(var x=0;x<2;x++){var Z=1e9,Y=v[x],a=0,z=null;for(var p=0;p<Y.length;p++){var U=A.jt.aaR(d,Y[p],g[1-x][p],x,t,h),l=U[0];
if(l!=1e9)g[x][p]=l;if(l!=1e9&&Math.abs(l-Y[p])<Math.abs(Z)){Z=l-Y[p];a=l;z=U[1]}}if(Z!=1e9){X[x]=Z;
X[x+2]=a;X[x+4]=z}}return X};A.jt.aaR=function(d,v,t,h,X,g){var x=1e9,Z=null,Y=X.Hs,a=X.rp,z=[d.root];
while(z.length!=0&&Y[2]){var p=z.pop(),U=p.B,l=U.S;if(!U.ZC())continue;if(p.children)for(var n=0;n<p.children.length;
n++)z.push(p.children[n]);if(d.l.indexOf(p.index)!=-1||l.HP())continue;var L=l.r,j=L>>>1,O=l.$,F=O>>>1,i=x;
if(h==0){if(Math.abs(l.x-v)<Math.abs(x-v))x=l.x;if(Math.abs(l.x+j-v)<Math.abs(x-v))x=l.x+j;if(Math.abs(l.x+L-v)<Math.abs(x-v))x=l.x+L}else{if(Math.abs(l.y-v)<Math.abs(x-v))x=l.y;
if(Math.abs(l.y+F-v)<Math.abs(x-v))x=l.y+F;if(Math.abs(l.y+O-v)<Math.abs(x-v))x=l.y+O}if(i!=x){Z=[l.x+j,l.y+F]}}var $=x;
x=1e9;if(g[0]&&Y[0]&&a.MQ&&X.N$){var H=d.Dy(),b=H[0],r=H[1],W=d.Hq();for(var n=0;n<b.length;n++)if((r[n]==-1||r[n]==W)&&b[n][0]==h&&Math.abs(b[n][1]-v)<Math.abs(x-v))x=b[n][1]}if(Y[1]&&a.iN&&X.N$){var V=h==0||a.vX==0?a.H9:a.vX,y=Math.round(f.rd.LJ(V/a.Tr,d.u3,d.r,a.d6));
if(h==1&&a.fs==1){var c=t*.5*Math.sqrt(4/3),S;y*=Math.sqrt(4/3);S=Math.round((v-c)/y)*y+c;if(Math.abs(S-v)<Math.abs(x-v))x=S;
S=Math.round((v+c)/y)*y-c;if(Math.abs(S-v)<Math.abs(x-v))x=S}else{var S=Math.round(v/y)*y;if(Math.abs(S-v)<Math.abs(x-v))x=S}}var C=d.Wc;
if(Y[3]&&a.Wc&&X.N$&&C.length!=0){for(var n=0;n<C.length;n++){if(!g[2]&&d.ga.indexOf(n)!=-1)continue;
var K=A.Jp.qa(C,n);for(var T=0;T<3;T+=2)if(K[T+h]!=v&&Math.abs(K[T+h]-v)<Math.abs(x-v))x=K[T+h]}}if(g[1])for(var D=0;
D<g[1].length;D++){var l=g[1][D],L=l.r,O=l.$,j=L>>>1,F=O>>>1;if(g[3]){j=L/2;F=O/2}var N=[l.x,l.y,l.x+j,l.y+F,l.x+L,l.y+O];
for(var n=0;n<6;n+=2)if(Math.abs(N[n+h]-v)<Math.abs(x-v))x=N[n+h]}if(Y[4]){var l=new iW(0,0,d.r,d.$),W=d.Hq();
if(W!=-1)l=d.U[W].x1();var L=l.r,O=l.$,j=L>>>1,F=O>>>1;if(g[3]){j=L/2;F=O/2}var N=[l.x,l.y,l.x+j,l.y+F,l.x+L,l.y+O];
for(var n=0;n<6;n+=2)if(Math.abs(N[n+h]-v)<Math.abs(x-v))x=N[n+h]}if(Math.abs(x-v)<=Math.abs($-v))Z=null;
else x=$;var G=Math.abs(x-v)<=4*A.LY()/d.z.OI?x:1e9;return[G,Z]};A.A0=function(d){if(d==0)A.M$.call(this,[10,11],A.Xc,"tools/move");
else A.M$.call(this,[10,0],A.nj,"tools/brush");this.R=0;this.XH=0;this.Mf=null;this.Cr=null;this.z6=new cK(0,0);
this.mK=null;this.Kn=!1};A.A0.prototype=new A.M$;A.A0.prototype.li=function(d,v,t,h,X){if(d.add.prvw==1){var g=d.z.tw(X.x,X.y),x=lD.shape(d),Z=u.q("canvas"),Y=Z.getContext("2d"),a=new ToContext2D(Y),z=lD.LB(x,a,595.44,jG.vr(d.Y.Uf,d),!0),p=z[0],U=z[1],l=z[2],L=new cK(g.x+595.44/2,U-g.y-595.44/2),j=1e9,O=0;
for(var n=0;n<l.length;n++){var F=l[n],i=cK.A_(L,F[1]);if(i<j){j=i;O=F[0]}}var $=d.Y.Nn,H=new eG(_.E.c,!0);
H.data={R:_.Y.sc};if($)v.J(H);d.Y.Uf=jG.iE(O,d);if($)v.J(H);d.QW=!0;return}var b=A.A0.azg(d,X),W=0;if(b!=-1){var H=new eG(_.E.c,!0);
H.data={R:_.Y.Ee,K:[9,b,127]};v.J(H);this.XH=b;this.R=4;return}if(A.A0.a4N(d,X)){this.R=5;this.mK=d.z.h.b();
this.z6.QG(X.x,X.y);this.Kn=d.Y.Nn;if(this.Kn){var H=new eG(_.E.c,!0);H.data={R:_.Y.sc};v.J(H)}return}var r=this.Mf=d.z.mM(X.x,X.y),V=h.A(cQ.LE);
if(V){for(var n=d.U.length-1;n>=0;n--){if(!d.U[n].ZC())continue;var y=d.U[n].Y,c=A.A0.Vn(r.x,r.y,r.x+1,r.y+.01,y.list);
if(c.length!=0){d.l=[n];V=!1;break}}}var S=d.U[d.l[0]],y=S.Y,C=A.A0.a4v(r.x,r.y,y.list,d),K=A.A0.Vn(r.x,r.y,r.x+1,r.y+.01,y.list);
if(1<d.l.length){this.R=3;var T=new bd("Move Tracks",this);T.data={R:1,ls:d.l.slice(0),Xh:0,WS:0};d.RS(T)}else if(C==-1&&K.length==0){if(this.id==A.Xc){this.R=0;
y.l=[]}else{var T=new bd("Add Note",this);T.data={R:0,lf:d.l[0],Mo:[JSON.stringify(y.list),JSON.stringify(y.l)],VE:null};
d.RS(T);var bW=[A.A0.px(r.x,d),1,Math.floor(r.y),100];y.list.push(bW);y.l=[y.list.length-1];this.R=2}}else if(C==-1&&K){this.R=1;
K=K.pop();var D=y.l.indexOf(K);if(h.A(cQ.cm)||V){if(D==-1)y.l.push(K);else y.l.splice(D,1)}else if(D==-1)y.l=[K]}else if(C!=-1){this.R=2;
if(y.l.indexOf(C)==-1)y.l=[C]}d.QW=!0};A.A0.prototype.qw=function(d,v,t,h,X){if(d.add.prvw==1)return;
if(this.R==4&&X.n2){var g=A.A0.azg(d,X);if(g==this.XH)return;var x=new eG(_.E.c,!0);if(this.XH!=-1){x.data={R:_.Y.Ee,K:[8,this.XH,127]};
v.J(x)}if(g!=-1){x.data={R:_.Y.Ee,K:[9,g,127]};v.J(x)}this.XH=g;return}if(this.R==5&&X.n2){A.Tt.o5(d,this.mK.x+(X.x-this.z6.x),this.mK.y);
return}var Z=d.U[d.l[0]],Y=Z.Y,a=this.Mf,z=d.z.mM(X.x,X.y),p=0;if(X.n2){var U=Math.round(z.x-a.x),l=Math.round(z.y-a.y);
if(this.R==3){var L=d.history[d.UG];this.Js(L.data,d);var j=Y.list[0];L.data.Xh=A.A0.px(j[0]+U,d)-j[0];
L.data.WS=l;this.BW(L.data,d)}else if(this.R==0){var O=Math.min(z.x,a.x),F=Math.max(z.x,a.x),i=Math.min(z.y,a.y),$=Math.max(z.y,a.y);
d.W.sG=f.Q.Ya(new iW(O,i,F-O,$-i));Y.l=A.A0.Vn(O,i,F,$,Y.list)}else{if(this.Cr==null)this.Cr=[JSON.stringify(Y.list),JSON.stringify(Y.l)];
Y.list=JSON.parse(this.Cr[0]);Y.l=JSON.parse(this.Cr[1]);for(var n=0;n<Y.l.length;n++){var j=Y.list[Y.l[n]];
if(this.R==1){if(n==0)U=A.A0.px(j[0]+U,d)-j[0];j[0]+=U;j[2]+=l}else{if(n==0)U=A.A0.px(j[0]+j[1]+U,d)-j[0]-j[1];
j[1]=Math.max(1,j[1]+U)}}A.A0.bZ(Y)}}else{var H=A.A0.a4v(z.x,z.y,Y.list,d),x=new eG(_.E.c,!0);x.data={R:_.Y.TG,Cn:A.A0.a4N(d,X)?"grab":H==-1?"default":"ew-resize"};
v.J(x)}d.QW=!0};A.A0.prototype.QZ=function(d,v,t,h,X){if(d.add.prvw==1)return;if(this.R==4){var g=new eG(_.E.c,!0);
g.data={R:_.Y.Ee,K:[8,this.XH,127]};v.J(g);return}if(this.R==5){if(this.Kn){var g=new eG(_.E.c,!0);g.data={R:_.Y.sc};
v.J(g)}return}var x=d.U[d.l[0]],Z=x.Y;if(this.Cr){var Y,a=d.history[d.UG];if(a.T==this&&a.data.R==0&&a.data.VE==null)Y=a;
else{Y=new bd((this.R==1?"Move":"Resize")+" Note"+(Z.l.length==1?"":"s"),this);Y.data={R:0,lf:d.l[0],Mo:this.Cr};
d.RS(Y)}Y.data.VE=[JSON.stringify(Z.list),JSON.stringify(Z.l)];this.Cr=null}d.W.sG=null;d.QW=!0};A.A0.prototype.YF=function(d,v){return d==cQ.on||d==cQ.SY};
A.A0.prototype.M6=function(d,v,t,h){if(d==null||d.l.length==0)return;var X=d.U[d.l[0]],g=X.Y,x=h.eI(d?d.z.r$:0),Z=[JSON.stringify(g.list),JSON.stringify(g.l)],Y;
if(d!=null&&(x.x!=0||x.y!=0)){Y="Move Notes";var a=Math.sign(x.x)*Math.round(d.Y.BP/(h.A(cQ.cm)?1:12)),z=-Math.sign(x.y)*(h.A(cQ.cm)?12:1);
if(d.l.length>1||g.l.length==0){var p=d.history[d.UG],U;if(p.T==this&&p.data.R==1&&JSON.stringify(p.data.ls)==JSON.stringify(d.l)){this.Js(p.data,d);
U=p;U.data.Xh+=a;U.data.WS+=z}else{U=new bd("Move Tracks",this);U.data={R:1,ls:d.l.slice(0),Xh:a,WS:z};
d.RS(U)}this.BW(U.data,d);return}for(var n=0;n<g.l.length;n++){var bW=g.list[g.l[n]];bW[0]+=a;bW[2]+=z}A.A0.bZ(g)}if(g.l.length!=0&&h.A(cQ.SY)||h.A(cQ.on)){Y="Delete Notes";
A.A0.a3e(g)}if(Y){d.QW=!0;var U=new bd(Y,this);U.data={R:0,lf:d.l[0],Mo:Z,VE:[JSON.stringify(g.list),JSON.stringify(g.l)]};
d.RS(U)}};A.A0.prototype.Oh=function(d,v,t,h,X){if(d.R=="append"||d.R=="remove"){var g=t.U[t.l[0]].Y,x=new bd(d.qq,this);
t.RS(x);x.data={R:0,lf:t.l[0],Mo:[JSON.stringify(g.list),JSON.stringify(g.l)],VE:null};if(d.R=="append"){g.l=[];
for(var n=0;n<d.kH.length;n++){g.l.push(g.list.length);g.list.push(d.kH[n])}A.A0.bZ(g)}else A.A0.a3e(g);
x.data.VE=[JSON.stringify(g.list),JSON.stringify(g.l)];t.QW=!0}else if(d.R=="nprop"){var g=t.U[t.l[0]].Y,x=new bd("Note Change",this);
t.RS(x);x.data={R:0,lf:t.l[0],Mo:[JSON.stringify(g.list),JSON.stringify(g.l)],VE:null};for(var n=0;n<g.l.length;
n++){g.list[g.l[n]][3]=d.VE}x.data.VE=[JSON.stringify(g.list),JSON.stringify(g.l)]}};A.A0.prototype.Js=function(d,v){if(d.R==0){var t=v.U[d.lf],h=d.Mo;
t.Y.list=JSON.parse(h[0]);t.Y.l=JSON.parse(h[1])}else for(var n=0;n<d.ls.length;n++)A.A0.a7Z(v.U[d.ls[n]].Y.list,-d.Xh,-d.WS);
v.QW=!0};A.A0.prototype.BW=function(d,v){if(d.R==0){var t=v.U[d.lf],h=d.VE;t.Y.list=JSON.parse(h[0]);
t.Y.l=JSON.parse(h[1])}else for(var n=0;n<d.ls.length;n++)A.A0.a7Z(v.U[d.ls[n]].Y.list,d.Xh,d.WS);v.QW=!0};
A.A0.a7Z=function(d,v,t){for(var n=0;n<d.length;n++){var bW=d[n];bW[0]+=v;bW[2]+=t}};A.A0.px=function(d,v){var t=v.Y.BP/12;
return t*Math.round(d/t)};A.A0.bZ=function(d){var v=[];for(var n=0;n<d.l.length;n++)v[n]=d.list[d.l[n]];
d.list.sort(function(t,h){return t[0]-h[0]});d.l=[];for(var n=0;n<v.length;n++)d.l[n]=d.list.indexOf(v[n])};
A.A0.a3e=function(d){d.l.sort(function(v,t){return v-t});for(var n=d.l.length-1;n>=0;n--)d.list.splice(d.l[n],1);
d.l=[]};A.A0.Vn=function(d,v,t,h,X){var g=new iW(d,v,t-d,h-v),x=[];for(var n=0;n<X.length;n++){var Z=X[n],Y=new iW(Z[0],Z[2],Math.max(1,Z[1]),1);
if(!Y.hL(g).HP())x.push(n)}return x};A.A0.a4v=function(d,v,t,h){var X=h.Y.BP/(24*h.z.OI);v=Math.floor(v);
d+=2;for(var n=0;n<t.length;n++){var g=t[n];if(g[2]==v&&Math.abs(g[0]+g[1]-d)<X)return n}return-1};A.A0.azg=function(d,v){var t=d.U[d.l[0]].Y,h=(t.jJ==200?2.2:1)*50*u.LY();
if(v.x>h)return-1;var X=d.z.mM(v.x,v.y).y;if(v.x>h*.6&&t.jJ!=200){var g=Math.floor(7*(X%12)/12);X=12*Math.floor(X/12)+[0,2,4,5,7,9,11][g]}X=Math.floor(X);
return X};A.A0.a4N=function(d,v){var t=A.LY()*16;if(v.y<t||d.z.Yx.$-t<v.y)return!0};A.pZ=function(){A.Oe.call(this,[10,12],A.CD,"tools/mwand");
this.jY=null};A.pZ.prototype=new A.Oe;A.pZ.prototype.KT=function(d,v,t,h){this.jY=h;this.aeX=this.zj.wconf[0];
this.finish(d,v,t,h)};A.pZ.prototype.Lg=function(d,v,t,h,X){if(!h.n2)return;var g=new eG(_.E.F);g.T=A.Hh;
g.data={R:"h_stepbck"};X.J(g);var x=h.x-this.jY.x,Z=Math.max(0,Math.min(255,Math.round(this.aeX+x/4)));
this.zj.wconf[0]=Z;this.pW(X);this.finish(d,v,t,this.jY)};A.pZ.prototype.qz=function(d,v,t,h,X){this.zj.wconf[0]=this.aeX;
this.pW(X)};A.pZ.prototype.getSelection=function(d,v,t,h){var X=this.dg;X=d.z.tw(h.x,h.y);var g=A.Oe.aro(new cK(Math.floor(X.x),Math.floor(X.y)),this.zj.wconf,this.zj.sall);
return g};A.pZ.a3d=function(d,v,t,h,X){if(v.x<0||v.x>d.r||v.y<0||v.y>d.$)return null;var g,x=new iW(0,0,d.r,d.$);
if(h)g=d.jP();else{var Z=d.l.length,a=null;if(Z!=1){alert(Z==0?"No layer selected.":"More than one layer selected.");
return null}var Y=d.U[d.l[0]],z=Y.VL<=0?null:Y.VL==1?Y._B():Y.Ip(d).AU;if(X||z&&z.ak)a=z;if(a==null&&Y.add.lsct!=null&&Y.add.lsct!=f$.K_){alert("No layer selected.");
return null}if(a==null&&x.fE(Y.S))g=Y.buffer;else{g=f.m(x.k()*4,d.depth);if(a==null)f.wH(Y.buffer,Y.S,g,x);
else A.mE.$d(a.N,a.S,a.color,g,x)}}var p=A.pZ.YV(g,x,v,null,t),U=f.FY(p,x),l=f.m(U.k(),d.depth);f.Qb(p,x,l,U);
return{S:U,N:l}};A.pZ.Br=function(d,v,t){var h=v.r,X=v.$,x=0,Z=0,Y=0,a=0;d=new Uint32Array(d.buffer);
var g=[],z=t.length;for(var n=0;n<z;n++){var p=t[n],U=Math.round(p.x-.5-v.x),l=Math.round(p.y-.5-v.y);
U=Math.max(0,Math.min(h-1,U));l=Math.max(0,Math.min(X-1,l));var L=l*h+U,j=d[L];g.push([j&255,j>>8&255,j>>16&255,j>>>24])}return g};
A.pZ.YV=function(d,v,t,h,X){var g=f.UJ(d);d=f.OO(d,8);d=new Uint32Array(d.buffer);var x=v.r,Z=v.$,Y=x*Z;
if(h==null)h=A.pZ.Br(d,v,[t]);var a=Math.round(t.x-.5-v.x),z=Math.round(t.y-.5-v.y),p=z*x+a,U=Date.now(),l=f.m(x*Z),L=X[0],j=1/L,O=X[1]&&L>0?255:0;
if(X[2]){var F=f.m(l.length),i=new Uint32Array(Y),$=1;i[0]=a<<16|z;F[p]=1;while($>0){var H=i[$-1];$--;
var b=H>>>16,r=H&65535,n=r*x+b,W=A.pZ.eM(d[n],h);if(W>L){var V=O*(1-Math.max(0,Math.min(1,(W-L)*j)));
l[n]=~~V}else{l[n]=255;if(r!=Z-1&&F[n+x]==0){i[$++]=b<<16|r+1;F[n+x]=1}if(r!=0&&F[n-x]==0){i[$++]=b<<16|r-1;
F[n-x]=1}if(b!=x-1&&F[n+1]==0){i[$++]=b+1<<16|r;F[n+1]=1}if(b!=0&&F[n-1]==0){i[$++]=b-1<<16|r;F[n-1]=1}}}}else{for(var n=0;
n<Y;n++){var W=A.pZ.eM(d[n],h);if(W<=L)l[n]=255}for(var r=0;r<Z;r++)for(var b=0;b<x;b++){var n=r*x+b;
if(l[n]==0&&(b>0&&(l[n-1]==255||r>0&&l[n-x-1]==255||r<Z-1&&l[n+x-1]==255)||b<x-1&&(l[n+1]==255||r>0&&l[n-x+1]==255||r<Z-1&&l[n+x+1]==255)||r>0&&l[n-x]==255||r<Z-1&&l[n+x]==255)){var W=A.pZ.eM(d[n],h),V=O*(1-Math.max(0,Math.min(1,(W-L)*j)));
l[n]=~~V}}}l=f.OO(l,g);return l};A.pZ.eM=function(d,v){var t=v.length,h=A.pZ.awR(d,v[0]),n=1;while(n!=t){h=Math.min(h,A.pZ.awR(d,v[n]));
n++}return h};A.pZ.awR=function(d,v){var t=d&255,h=d>>>8&255,X=d>>>16&255,g=d>>>24&255;if(v[3]==0)return g<5?0:255;
var x=Math.max(Math.abs(t-v[0]),Math.max(Math.abs(h-v[1]),Math.abs(X-v[2])));return g==0?255:x};A.pe=function(d,v){if(v)A.mE.call(this);
else if(d)A.mE.call(this,[10,49],A.GR,"tools/camove");else A.mE.call(this,[10,26],A.mC,"tools/patch");
this.gj=null;this.V2=null;this.h=null;this.rT=null;this.aBv=new cK;this.aBm=null;this.arF=null};A.pe.prototype=new A.mE;
A.pe.prototype.li=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y);if(d.p&&f.x6(g,d.p.N,d.p.S)){var x=new iW(0,0,d.r,d.$),Z=x.hL(d.p.S);
if(!d.fi()||Z.HP())return;if(!0){var Y=f.m(Z.k(),d.depth);f.Qb(d.p.N,d.p.S,Y,Z);d.p={N:Y,S:Z}}this.pI(d);
this.Om(d);this.rT=g;this.aBv=new cK(g.x-d.p.S.x,g.y-d.p.S.y);this.arF=f.m(d.p.S.k()*4,d.depth);this.arF.fill(f.ay(d.depth));
if(this.zj.patch==1){var a=d.U[d.l[0]];a.lO(d,d.p,!0);if(a.k7==null)this.rT=null}this.aBm=d.p.S.b()}else{this.V2={I:[g.x,g.y],s2:["M"]};
this.gj=g}};A.pe.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y);if(this.rT){if(this.zj.patch==1){if(d.Cv.length==0){var x=d.U[d.l[0]].k7,Z=g.x-this.aBv.x,Y=g.y-this.aBv.y;
A.jt.lc(d,d.l[0],Math.round(Z-x.rG.x),Math.round(Y-x.rG.y))}}else this.a2A(d,g,"clone")}if(this.gj){this.V2.s2.push("L");
this.V2.I.push(g.x,g.y);this.gj=g;d.W.sG=this.V2;d.QW=!0}};A.pe.prototype.QZ=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y);
if(this.rT){var x=d.p.S.b();if(this.id==A.GR){var Z=d.U[d.l[0]];Z.Dn(d,Z.k7);d.p.S=this.aBm.b();var Y=f.m(d.p.S.k()*4,d.depth);
f.Gj(d.p.N,Y,3);this.h_(d,"sheal",Y,d.p.S,d.p.S);d.p.S=x;x=x.Ue(this.aBm)}this.a2A(d,g,"heal");this.finish(d,x,null,null,!0);
d.uM(x);this.rT=null}if(this.gj){var a=A.Oe.BJ(this.zj.setop,h.A(cQ.cm),h.A(cQ.io)),z=new eG(_.E.U0,!0);
if(this.V2.I.length<=4)z.data=A.Oe.qJ();else z.data=A.Oe.Z5(this.V2.I,a);v.J(z);this.gj=null;d.W.sG=null;
d.QW=!0}};A.pe.prototype.fT=function(){return this.h};A.pe.prototype.Fb=function(d,v,t,h,X){A.mE.prototype.Fb.call(this,d,v,t,h,X);
this.tv(X,h)};A.pe.prototype.tv=function(d,v){var t="auto;";if(v!=null&&v.A(cQ.cm)&&!v.A(cQ.io)||this.zj.setop=="union")t="copy";
var h=new eG(_.E.c,!0);h.data={R:_.Y.TG,Cn:t};if(this.caller)this.caller.J(h)};A.pe.prototype.a2A=function(d,v,t){var h=new cK(Math.round(this.rT.x-v.x),Math.round(this.rT.y-v.y));
if(this.zj.patch==1)h.QG(-h.x,-h.y);this.h=h;this.h_(d,t,this.arF,d.p.S,d.p.S);this.uM(d,d.p.S)};A.aqv=function(){A.pe.call(this,!0);
this.zj.patch=1};A.aqv.prototype=new A.pe(!0,!0);A.ib=function(d){if(d)A.mE.call(this,[10,52],A.acy,"tools/meraser");
else A.mE.call(this,[10,13],A.afG,"tools/pbucket");this.lP=!1;this.ayX=d};A.ib.prototype=new A.mE;A.ib.prototype.enable=function(d,v,t,h){var X=new eG(_.E.c,!0);
X.data={R:_.Y.TG,Cn:"default"};v.J(X)};A.ib.prototype.sq=function(d,v){};A.ib.prototype.li=function(d,v,t,h,X){if(this.O9(d,v,t,h,X,!0))return;
this.lP=!0};A.ib.prototype.qw=function(d,v,t,h,X){if(this.O9(d,v,t,h,X))return};A.ib.prototype.QZ=function(d,v,t,h,X,g){this.enable(d,v,t,h);
var x=this.lP;this.lP=!1;if(!x||g)return;if(!d.fi())return;var Z=d.z.tw(X.x,X.y),Y=A.pZ.a3d(d,Z,this.zj.wconf,this.zj.sall,!0);
if(Y==null)return;if(d.p){var a=d.p.S.hL(Y.S);if(a.k()<Y.S.k()){var z=f.m(a.k(),d.depth);f.Qb(Y.N,Y.S,z,a);
Y.S=a;Y.N=z}}var p=f.m(Y.S.k()*4,d.depth),U=f.le(t.Sw,1);f.VT(p,U.C,U.L,U.X);f.Gj(Y.N,p,3);this.pI(d);
this.h_(d,this.ayX?"erase":"draw",p,Y.S,Y.S);this.uM(d,Y.S);this.finish(d,Y.S)};A.rO=function(){A.Oe.call(this,[10,14],A.aKy,"tools/plasso");
this.OC=[];this.ts=null;this.V2=null;this.aMt=0};A.rO.prototype=new A.Oe;A.rO.prototype.disable=function(d,v,t,h){this.nf(d)};
A.rO.prototype.KT=function(d,v,t,h){this.OC=[cQ.on,cQ.SY]};A.rO.prototype.YF=function(d){return this.OC.indexOf(d)!=-1};
A.rO.prototype.pG=function(d){return this.V2!=null};A.rO.prototype.L5=function(){return this.V2!=null};
A.rO.prototype.Ht=function(){return this.V2!=null};A.rO.prototype.Lg=function(d,v,t,h){if(this.V2==null)return;
var X=this.V2,g=X.I,x=g.length-2,Z=this.dg;if(this.Ig.CH(1)&&t.A(cQ.io)&&h.n2){g.push(0,0);X.s2.push("L");
x+=2}else if(t.A(cQ.cm))Z=A.qy.rf(new cK(g[x-2],g[x-1]),Z);g[x]=Z.x;g[x+1]=Z.y;d.W.sG=X;d.QW=!0};A.rO.prototype.qz=function(d,v,t,h){var X=Date.now();
if(this.V2==null)this.V2={I:[this.dg.x,this.dg.y,this.dg.x,this.dg.y],s2:["M","L"]};else{this.Lg(d,v,t,h);
if(X-this.aMt<250||cK.A_(this.dg,new cK(this.V2.I[0],this.V2.I[1]))<A.RV(d,h)){this.ts=this.V2;this.finish(d,v,t,h);
this.nf(d);return}this.V2.s2.push("L");this.V2.I.push(this.dg.x,this.dg.y)}this.aMt=X;d.W.sG=this.V2};
A.rO.prototype.nf=function(d){this.V2=null;this.OC=[];if(d!=null){d.W.sG=null;d.QW=!0}};A.rO.prototype.M6=function(d,v,t,h){A.Oe.prototype.M6.call(this,d,v,t,h);
if(h.A(cQ.l5)&&this.V2==null&&this.ts&&d.p!=null){var X=new eG(_.E.F);X.T=A.Hh;X.data={R:"h_stepbck"};
v.J(X);this.KT(d,t,h,null);this.V2=this.ts;return}if(this.V2==null)return;if(h.A(cQ.on)||h.A(cQ.SY)){this.V2.I.pop();
this.V2.I.pop();this.V2.s2.pop();this.Lg(d,t,h)}if(h.A(cQ.u0)){if(this.V2.I.length>4){this.ts=this.V2;
this.finish(d,t,h)}this.V2=null}if(h.A(cQ.l5)){this.V2=null}d.W.sG=this.V2;d.QW=!0};A.rO.prototype.getSelection=function(d,v,t,h){return A.Oe.Z5(this.V2.I,null,this.zj.anta)};
A.u8=function(){A.Oe.call(this,[10,10],A.a2v,"tools/mlasso");this.OC=[];this.D=[];this._N=[];this.w4=[];
this.axt=null;this.aMY=0;this.du=null;this.y3=null;this.lI=0;this.It=0};A.u8.prototype=new A.Oe;A.u8.prototype.disable=function(d,v,t,h){this.clear(d)};
A.u8.prototype.pG=function(d){return this.D.length!=0};A.u8.prototype.Ht=function(){return this.D.length!=0};
A.u8.prototype.YF=function(d){return this.OC.indexOf(d)!=-1};A.u8.prototype.KT=function(d,v,t,h){this.OC=[cQ.on,cQ.SY];
var X=this.W6(this.uL,d);if(this.D.length!=0&&(cK.A_(X,this.D[0])<A.RV(d,h)||Date.now()-this.lI<300)){this.xO(d,this.D[0]);
this.finish(d,v,t);this.clear(d);return}this.lI=Date.now();if(this.D.length!=0)X=this.Yl(X,d);else{var g=d.r,x=d.$,Z=f.OO(d.jP(),8),Y=UZIP.adler(Z,0,Z.length);
if(Y==this.aMY){}else{var a=f.m(g*x),z=g*x*4;for(var n=0;n<z;n+=4)a[n>>>2]=~~(.5+f.KR(Z[n],Z[n+1],Z[n+2])*(Z[n+3]*(1/255)));
this.axt=f.uj.aoA(a,g,x);this.aMY=Y}this.y3=new Uint16Array(g*x)}this.xO(d,X);this.It=t.A(cQ.io)?1:0;
this.Yc(d)};A.u8.prototype.xO=function(d,v){var t=this.D;this._N[t.length]=this.w4.length;if(t.length!=0){f.uj.FN(this.du,v.y*d.r+v.x);
var h=this.b2(d,v);h.reverse();var X=A.u8.aIU(d,h);this.w4=this.w4.concat(X)}t.push(v);this.a6w(d)};
A.u8.prototype.a6w=function(d){var v=this.D[this.D.length-1],t=v.y*d.r+v.x;this.du=f.uj.ahI(this.axt,t,d.r,d.$);
this.y3.fill(0)};A.u8.prototype.W6=function(d,v){return new cK(Math.floor(Math.max(0,Math.min(v.r-1,d.x))),Math.floor(Math.max(0,Math.min(v.$-1,d.y))))};
A.u8.prototype.clear=function(d){this.w4=[];this.D=[];this._N=[];this.du=null;this.y3=null;if(d!=null){d.W.sG=null;
d.W.ag=[];d.QW=!0}this.OC=[]};A.u8.prototype.Lg=function(d,v,t,h){var X=this.D,g=X.length;if(g==0)return;
var x=this.Yl(this.W6(this.dg,d),d),Z=this.b2(d,x);for(var n=0;n<Z.length;n++){var Y=Z[n],a=new cK(Y%d.r,Math.floor(Y/d.r));
if(this.y3[Y]>30&&cK.A_(a,X[g-1])>20){this.xO(d,a);return}this.y3[Y]++}if(this.It==1&&h.n2)this.xO(d,x);
this.Yc(d)};A.u8.prototype.Yc=function(d){var v=this.D;if(v.length!=0){var t=this.Yl(this.W6(this.dg,d),d),h=this.b2(d,t);
h.reverse();var X=A.u8.aIU(d,h),g=this.w4.concat(X),x=d.W.sG={I:g,s2:["M"]};for(var n=2;n<g.length;n+=2)x.s2.push("L")}d.W.ag=[];
for(var n=0;n<v.length;n++)d.W.ag.push(v[n].x+.5,v[n].y+.5);d.QW=!0};A.u8.prototype.qz=function(d,v,t,h){};
A.u8.prototype.M6=function(d,v,t,h){if(this.D.length==0)return;if(h.A(cQ.on)||h.A(cQ.SY)){this.D.pop();
this.w4=this.w4.slice(0,this._N[this.D.length]);this._N.pop();if(this.D.length==0)this.clear(d);else this.a6w(d);
this.Yc(d)}if(h.A(cQ.u0)){var X=this.W6(this.dg,d);this.xO(d,X);this.finish(d,t,h);this.clear(d)}if(h.A(cQ.l5)){this.clear(d)}};
A.u8.prototype.getSelection=function(d,v,t,h){return A.Oe.Z5(this.w4,null,this.zj.anta)};A.u8.prototype.b2=function(d,v){var t=this.D[this.D.length-1],h=t.y*d.r+t.x,X=v.y*d.r+v.x;
if(this.It==1)return[X,h];var g=[X];while(X!=h){X=X+this.du.tn[X];g.push(X);if(g.length>5e3){console.log(g);
throw"e"}}return g};A.u8.aIU=function(d,v){var t=[],h=d.r;for(var n=0;n<v.length;n++){var X=v[n];t.push(X%h+.5,Math.floor(X/h)+.5)}return t};
A.u8.prototype.Yl=function(d,v){var t=v.r,h=v.$,X=d.b(),x=3;f.uj.FN(this.du,d.y*t+d.x);var g=this.du.j7[d.y*t+d.x];
for(var Z=-x+1;Z<x;Z++)for(var Y=-x+1;Y<x;Y++){var a=d.x+Y,z=d.y+Z;if(a<0||a>=t||z<0||z>=h)continue;
f.uj.FN(this.du,z*t+a);if(this.du.j7[z*t+a]<g)X.QG(a,z)}return X};A.DH=function(){A.M$.call(this,[10,36],A.Kx,"tools/ruler");
this.Pd=null;this.r9=null;this.bx=null;this.avj=null;this.aFl=null};A.DH.prototype=new A.M$;A.DH.prototype.pG=function(d){return d.n2};
A.DH.prototype.enable=function(d,v,t,h){A.M$.prototype.enable.call(this,d,v,h,t);if(d){this.KC(d)}};
A.DH.prototype.disable=function(d,v,t,h){if(d)this.nf(d)};A.DH.prototype.Oh=function(d,v,t,h,X){if(d.R=="unit"){var g=this.Pd,x=d.K;
t.ZR={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:x[0]},logicalLength:{t:"doub",v:x[1]},logicalUnits:{t:"TEXT",v:x[2]}}}};
this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,agm:g[0],LH:g[1],ma:g[2],u3:t.u3,aaW:t.r,ZR:t.ZR})}if(d.R=="reset"){this.Pd=this.bx=null;
this.KC(t)}};A.DH.prototype.li=function(d,v,t,h,X){var g=A.RV(d,X),x=d.z.tw(X.x,X.y);x.x=Math.round(x.x);
x.y=Math.round(x.y);var Z=this.Pd;this.r9=Z?Z.slice(0):null;var Y=Z&&cK.A_(x,Z[0])<g,a=Z&&cK.A_(x,Z[1])<g,z=Z&&Z[2]&&cK.A_(x,Z[2])<g;
if(Y||a||z){if(h.A(cQ.io)&&Z.length==2){if(a){var p=Z[0];Z[0]=Z[1];Z[1]=p}Z[2]=Z[0].b();this.bx=[2]}else this.bx=[Y?0:a?1:2]}else if(Z&&A.DH.aFp(Z[0],Z[1],x)<g&&Math.min(Z[0].x,Z[1].x)-5<=x.x&&x.x<=Math.max(Z[0].x,Z[1].x)+5&&Math.min(Z[0].y,Z[1].y)-5<=x.y&&x.y<=Math.max(Z[0].y,Z[1].y)+5){this.bx=[];
this.aFl=[];for(var n=0;n<Z.length;n++){this.bx.push(n);this.aFl.push(Z[n].b())}this.avj=x}else{this.Pd=[x.b(),x.b()];
this.bx=[1]}};A.DH.prototype.qw=function(d,v,t,h,X){if(this.bx==null)return;var g=this.Pd,x=this.bx,Z=d.z.tw(X.x,X.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);if(x.length>1){var Y=Z.x-this.avj.x,a=Z.y-this.avj.y;for(var n=0;
n<g.length;n++){g[n]=this.aFl[n].b();g[n].offset(Y,a)}}else{g[x[0]].QG(Z.x,Z.y);if(h.A(cQ.cm)){g[x[0]]=A.qy.rf(g[1-x[0]],g[x[0]])}}this.KC(d);
this.$m(v,_.E.c,{R:_.Y.a0,T:this.id,agm:g[0],LH:g[1],ma:g[2],u3:d.u3,aaW:d.r,ZR:d.ZR});d.z.O0=f.Q.k2([g[0].x,g[0].y,g[1].x,g[1].y])};
A.DH.prototype.QZ=function(d,v,t,h,X,g){this.bx=null;if(g){this.Pd=this.r9.slice(0);this.KC(d)}};A.DH.prototype.$m=function(d,v,t){var h=new eG(v,!0);
h.data=t;d.J(h)};A.DH.prototype.KC=function(d){var v=this.Pd;if(v==null)this.nf(d);else{var t=[v[1].x,v[1].y,v[0].x,v[0].y],h=["M","L"];
if(v.length>2){t.push(v[2].x,v[2].y);h.push("L")}d.W.sG={s2:h,I:t};d.W.ag=t}d.QW=!0};A.DH.prototype.nf=function(d){d.W.sG=null;
d.W.ag=[]};A.DH.aFp=function(d,v,t){var h=v.x-d.x,X=v.y-d.y,g=Math.abs(X*t.x-h*t.y+v.x*d.y-v.y*d.x),x=Math.sqrt(h*h+X*X);
return x==0?0:g/x};A.uT=function(){A.mE.call(this,[10,19],A.oT,"tools/sharpen");this.ZG="copy"};A.uT.prototype=new A.mE;
A.uT.prototype.li=function(d,v,t,h,X){var g=this.zj.pdetail?hv.dJ:hv.oT;if(h.A(cQ.io))g=hv.xj;this.it(d,t,h,X,this.zj.strn,g);
if(this.N6==null)return;this.da(d)};A.uT.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.R8=function(){A.mE.call(this,[10,24],A.oe,"tools/shbrush");
this.ZG="draw";this.zj.opacity=.5};A.R8.prototype=new A.mE;A.R8.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,1);
if(this.N6==null)return;this.Om(d);this.da(d)};A.R8.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);
if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.R8.prototype.QZ=function(d,v,t,h,X){if(this.N6==null)return;
this.h_(d,"sheal",this.N6.Ll(),this.N6.pT(),this.N6.WM(),null);this.uM(d,this.N6.WM());A.mE.prototype.QZ.call(this,d,v,t,h,X)};
A.uA=function(){A.mE.call(this,[10,20],A.FT,"tools/smudge");this.ZG="copy"};A.uA.prototype=new A.mE;
A.uA.prototype.li=function(d,v,t,h,X){var g=this.zj.brush.toolOptions;this.it(d,t,h,X,this.zj.strn,hv.FT);
if(this.N6==null)return;this.da(d)};A.uA.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.LK=function(){A.mE.call(this,[10,23],A.yS,"tools/sponge");
this.ZG="sponge"};A.LK.prototype=new A.mE;A.LK.prototype.li=function(d,v,t,h,X){this.it(d,t,h,X,this.zj.flow);
if(this.N6==null)return;this.da(d)};A.LK.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);if(this.v8)this.Q7(d,t,X);
if(this.N6==null)return;if(!X.n2)return;this.MF(d,t,h,X);this.da(d)};A.VR=function(){A.M$.call(this,[10,17],A.CK,"tools/zoom");
this.zJ=!1;this.JR=!0;this.pa=!1;this.$S=0;this.rC=null;this.pQ=null;this.afl=0;this.Rg=null;this.aiW=0;
this.L7=new jr([{name:[8,0],aM:"Ctrl + +"},{name:[8,1],aM:"Ctrl + -",G0:!0},{name:[20,3],aM:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],aM:"Ctrl + 1"}],[{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!0}},{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!1}},{g:_.E.F,T:A.CK,d:{R:"adapt",K:"fitscr"}},{g:_.E.F,T:A.CK,d:{R:"adapt",K:"pixel"}}])};
A.VR.prototype=new A.M$;A.VR.prototype.rP=function(d,v,t,h,X){var g=this.L7;g.H();g.parent=v;g.update(d,t);
var x=new eG(_.E.c,!0);x.data={R:_.Y.Vw,UZ:g,x:X.eT+2,y:X.UF+1};v.J(x)};A.VR.prototype.enable=function(d,v,t,h){this.oy(v,h);
if(j8<2&&d&&Date.now()-this.$S<300)this.Oh({R:"adapt",K:"pixel"},v,d,h,t);this.$S=Date.now()};A.VR.prototype.li=function(d,v,t,h,X){this.pQ=new cK(X.x,X.y);
this.afl=d.z.OI;this.Rg=d.z.h.b()};A.VR.prototype.qw=function(d,v,t,h,X){if(this.pQ==null)return;var g=Math.exp(Math.log(this.afl)+(X.x-this.pQ.x)/64);
g=Math.max(.02,Math.min(A.VR.gZ[0],g));d.z.OI=this.afl;d.z.h=this.Rg.b();this.Oh({R:"zoom",OI:g,jI:this.pQ,pa:this.pa},v,d,h,t)};
A.VR.prototype.QZ=function(d,v,t,h,X){if(cK.A_(this.pQ,X)<4){var g=this.aCm(h);this.Oh({R:"zoom",JR:g,jI:X,pa:this.pa},v,d,h,t)}this.pQ=null};
A.VR.gZ=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
A.VR.d7=function(d,v,t,h){var X=1;while(d*X*1/2>t||v*X*1/2>h)X*=1/2;if(d*X*2/3>t||v*X*2/3>h)X*=1/2;else if(d*X>t||v*X>h)X*=2/3;
return X};A.VR.a2t=function(d,v){var t=A.VR.apK(d);if(v&&t==0)return d;if(!v&&t==A.VR.gZ.length-1)return d;
return A.VR.gZ[v?t-1:t+1]};A.VR.apK=function(d){var v=0;while(A.VR.gZ[v]>d)v++;return v};A.VR.Tj=function(d,v,t,h){var X=d.Vr;
if(h==0||h==null){h=A.VR.a2t(d.OI,t);if(h==d.OI)return}var g=d.tw(v.x,v.y);if(j8==1||j8==2){}else{g.x=Math.max(0,Math.min(X.r,g.x));
g.y=Math.max(0,Math.min(X.$,g.y))}if(!1){}else{var x=d.jG(),Z=d.OI/h;x.translate(-g.x,-g.y);x.scale(Z,Z);
x.translate(g.x,g.y);var Y=d.h.y;d.arj(x)}};A.VR.prototype.Oh=function(d,v,t,h,X){if(d.R=="pzoom"){if(typeof d.K=="string")return;
d={R:"zoom",OI:d.K/100}}if(d.R=="prvw"){if(t.add.prvw==null)t.add.prvw=0;t.add.prvw=1-t.add.prvw;t.QW=!0;
if(j8==2){t.z.OI=1;t.z.h=new cK(0,0);if(t.add.prvw==1){var g=t.z.Yx;t.z.OI=.8*g.r/595.44;t.z.h.y=595.44*.5*t.z.OI-g.$*.5+g.r*.07}}}var x=0,Z=!1,Y=null;
if(d.R=="adapt"){var a=0;if(d.K=="pixel")a=1;if(d.K=="fitscr"){var a=0,z=t.z.Yx.r,p=t.z.Yx.$,U=new iW(0,0,t.r,t.$),l=f.Q.Ya(U).I,L=new gi;
L.rotate(t.z.r$);f.Q.M(l,L,l);var j=f.Q.mo(l),O=X.Na?f.rd.IK+4:8;a=Math.min((z-O*2)/j.r,(p-O*2)/j.$);
t.z.h.QG(0,0)}Y=new cK(Math.round(t.z.Yx.r/2),Math.round(t.z.Yx.$/2));x=a;A.VR.Tj(t.z,Y,Z,x);t.zs=!0}if(d.R.startsWith("multi")){function F(D){var q=D[0].x-D[1].x,R=D[0].y-D[1].y;
return Math.sqrt(q*q+R*R)}function i(D){return new cK((D[0].x+D[1].x)/2,(D[0].y+D[1].y)/2)}function $(D){var q=D[0].x-D[1].x,R=D[0].y-D[1].y;
return Math.atan2(R,q)}var H=d.OX,b=i(H);if(d.R=="multidown"){this.rC=[H,t.z.OI,t.z.tw(b.x,b.y),t.z.r$]}else{var r=A.VR.gZ;
x=this.rC[1]*F(H)/F(this.rC[0]);x=Math.max(r[r.length-1],Math.min(r[0],x));if(x!=t.z.OI)A.VR.Tj(t.z,b,Z,x);
var W=this.rC[2],V=t.z.X4(W.x,W.y),y=t.z.h;y.x=Math.round(y.x+b.x-V.x);y.y=Math.round(y.y+b.y-V.y);var c=this.rC[3]+($(H)-$(this.rC[0])),S=2*Math.PI,C=[0,S/4,S/2,S*3/4,S];
while(c<0)c+=S;c=c%S;for(var n=0;n<C.length;n++)if(Math.abs(c-C[n])<.08){c=C[n];break}if(j8<2)t.z.r$=c;
t.zs=!0}}if(d.R=="scroll"){Y=d.jI;var r=A.VR.gZ,K=d.KJ.y,T=1+Math.abs(K)*8e-4*(d.aho?10:1);if(K>0)T=1/T;
x=t.z.OI*T;A.VR.Tj(t.z,Y,Z,Math.min(r[0],Math.max(r[r.length-1],x)));t.zs=!0}if(d.R=="zoom"){var D=d.pa?v.n0:[t];
for(var n=0;n<D.length;n++){var N=D[n],G=N.z;Y=d.jI?d.jI:new cK(Math.round(G.Yx.r/2),Math.round(G.Yx.$/2));
if(d.OI!=null)x=d.OI;else Z=d.JR;A.VR.Tj(G,Y,Z,x);N.zs=!0}}if(d.R=="mskView"){var s=t.U[t.l[0]];if(s.VL<=0){s.VL=1;
t.Ir=!0}var Q=s.VL==3?s.Ip(t).AU:s._B();if(d.K==0){t.z.b$=[1,1,1];Q.ak=!1}if(d.K==1){t.z.b$=[1,1,1];
Q.ak=!0}if(d.K==2){t.z.b$=[0,0,0];Q.ak=!0}for(var n=0;n<t.gM.length;n++)t.gM[n].ak=!1;t.Cv=[];t.QW=!0}};
A.VR.prototype.M6=function(d,v,t,h){if(this.zJ!=h.A(cQ.io)){this.zJ=h.A(cQ.io);var X={R:_.Y.a0,T:this.id,zJ:this.zJ},g=new eG(_.E.c,!0);
g.data=X;v.J(g);this.oy(v,h)}};A.VR.prototype.oy=function(d,v){var t=new eG(_.E.c,!0),h=this.aCm(v);
t.data={R:_.Y.TG,Cn:h?"zoom-in":"zoom-out"};d.J(t)};A.VR.prototype.Fb=function(d,v,t,h){this.JR=d.JR;
this.pa=d.pa;this.oy(v,h)};A.VR.prototype.aCm=function(d){var v=this.JR;if(d.A(cQ.uh)&&d.A(cQ.LE))v=!0;
if(this.zJ)v=!v;return v};A.VR.azf=function(d,v){if(d.A(cQ.P9)||d.A(cQ.abv)){v.T=A.CK;v.data={R:"zoom",JR:!0}}if(d.A(cQ.bJ)){v.T=A.CK;
v.data={R:"zoom",JR:!1}}if(d.A(cQ.Su)){v.T=A.CK;v.data={R:"adapt",K:"fitscr"}}if(d.A(cQ.Id)){v.T=A.CK;
v.data={R:"adapt",K:"pixel"}}};A.fL=function(d,v,t){A.M$.call(this,d,v,t);this.Vr=null;this.n=null;this.u$=null;
this.asi=0;this.Ql=null;this.KA=-1;this.aAR=null;this.aC3=null};A.fL.prototype=new A.M$;A.fL.iz=function(d,v){var t={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},h=d==null?{classID:"null",null:t,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:t,Usng:{t:"type",v:{classID:d}},__name:"Stroke"};
if(v)h.Prs={t:"bool",v:!0};return{oN:d==null?"fill":"stroke",mQ:h}};A.fL.Vp=function(n){var d={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},h;
if(n==3){var v=kl.hR("Lyr",!0);v.v.unshift(d);return{oN:"delete",mQ:{classID:"Dlt",null:v}}}var v=kl.hR("Path"),t={t:"obj ",v:[d]};
if(n<2)h={t:"enum",v:{vectorMaskEnabled:n==0?"RvlA":"HdAl"}};else h=kl.hR("Path",!0);return{oN:"make",mQ:{classID:"Mk",null:v,At:t,Usng:h}}};
A.fL.prototype.enable=function(d,v,t,h,X){this.n=t;var g=new eG(_.E.c,!0);g.data={R:_.Y.TG,Cn:"default"};
v.J(g)};A.fL.prototype.rP=function(d,v,t,h,X){var g=d.V9(),x=g[0],Z=g[1];if(Z.length==0)return;var Y=x[Z[0]],a=Y.add.vmsk,z=d.z.tw(X.x,X.y),p=4*A.LY()/d.z.OI,U=new iW(z.x-p,z.y-p,p*2,p*2),l=f.t.vi(a.D,U)[0];
if(l.length!=0){a.aD=l;d.QW=!0}var L=f.t.x6(a.D,z).ja;if(L!=-1){a.l=[L];d.QW=!0}var j=new eG(_.E.c,!0);
j.data={R:_.Y.a0,T:this.id,_h:X,lG:d,n:t};v.J(j)};A.fL.prototype.asr=function(d,v){var t=new eG(_.E.c,!0);
t.data={R:_.Y.Kf,Ic:lx.b9};if(!v.N$)d.J(t);t.data={R:_.Y.Kf,Ic:lx.Hv};if(!v.rp.S5)d.J(t)};A.fL.prototype.zl=function(d,v,t,h,X){if(this.Ql&&this.KA==-1){console.log("updating over live");
this.W9(d,t)}if([A.wS,A.Wr,A.LD,A.k8,A.Bs].indexOf(this.id)!=-1)A.M$.aEU.call(this,d,v,t,h);if(d==null)return;
if(t.tN!=this.id&&X==null)return;if(d.l.length==0)return;var g=d.U[d.l[0]],x=g.add.vmsk,Z=g.add.vstk;
if(j8==0){var Y=kV.yz(g.add);this.Vr=d;this.u$=v;if(g.c5()&&x!=null&&(JSON.stringify(Z)!=JSON.stringify(t.jj)||JSON.stringify(Y)!=JSON.stringify(t.my))){this.asi=Date.now();
var a=new eG(_.E.c,!0);a.data={R:_.Y.Kf,Ic:lx.Ih,K:Y};v.J(a);a.data={R:_.Y.Kf,Ic:lx.XN,K:Z};v.J(a)}}else{var z=null;
for(var n=0;n<d.l.length;n++){var g=d.U[d.l[n]],p=g.add.vstl;if(p==null)continue;if(z==null)z=f.v(p);
else{for(var U in p){if(z[U]==null)continue;if(p[U]==p.rA){if(JSON.stringify(p[U])!=JSON.stringify(z[U]))delete z[U]}else if(p[U]==p.W4){if(JSON.stringify(p[U])!=JSON.stringify(z[U]))delete z[U]}else if(p[U]!=z[U])delete z[U]}}}if(z==null)return;
var l=JSON.stringify(z);if(l!=JSON.stringify(t.J1)){var a=new eG(_.E.c,!0);a.data={R:_.Y.Kf,Ic:lx.py,K:z};
v.J(a)}}};A.fL.prototype.sq=function(d,v){if(v==lx.yy||v==lx.Np)this.zl(null,null,d,null);if(this.Vr==null)return;
if(v==lx.Np||v==lx.Ih||v==lx.XN){if(Date.now()-this.asi<50)return;var t=v==lx.Ih,h=this.Vr,X=t?d.my:d.jj,g=[],x=h.l;
for(var n=0;n<x.length;n++){var Z=x[n],Y=h.U[Z];if(!Y.c5()||Y.add.vmsk==null)continue;g.push(Z)}var a=new eG(_.E.F,!0);
a.T=A.EM;a.data={R:jn.Gh,ls:g,_A:t,K:X};if(g.length!=0)this.u$.J(a)}};A.fL.prototype.aKS=function(d){if(typeof d=="number"){var v=new eG(_.E.U0,!0);
v.data=A.N4.Ak(0);v.data.mQ.Usng.v.Type.v.Clr.v=f.iF.Zi({C:d>>>16&255,L:d>>>8&255,X:d>>>0&255});this.u$.J(v)}};
A.fL.prototype.Oh=function(d,v,t,h,X){this.u$=v;if(d.R=="newfill"){if(d.tJ==0){var g=new eG(_.E.c,!0);
g.data={R:_.Y.S8,cG:"colorpicker",EJ:X.Sw,Zp:this.aKS.bind(this)};v.J(g)}}else if(d.R=="smplp"){if(t==null)return;
var x=t.V9(),Z=x[0],Y=x[1];if(Y.length==0){alert("No paths selected");return}var a=Z[Y[0]];if(a.add.vmsk.l.length<=0){alert("No paths selected");
return}if(this.wA==null){this.wA=a.add.vmsk.b();this.nI=JSON.stringify(a.add.vogk);this.V2=a;this.Vr=t}var g=new eG(_.E.c,!0);
g.data={R:_.Y.S8,cG:"simplifypath",Mo:100,No:this.a71.bind(this)};v.J(g)}else if(d.R=="pathedit"){var z=d.G$,p="",U=t.S5.slice(0),l=t.lE.slice(0),L=t.S5.slice(0),j=t.lE.slice(0),O=t.v1,F=t.v1;
if(z=="rnm"){var i=-1-d.ja,$=U[i],H=hc.$$(d.name,$.add);if(i!=0)L[i]=H;else{j=[L.length];L.push(H);L[0]=hc.$$("Work Path")}p="Rename"}else if(z=="sspath"){if(d.K==-1){F=-1;
j=[]}else if(d.K==1&&t.v1!=-1)j=[t.v1];else if(t.lE.length!=0){if(t.Dw){alert("Symmetry can't be used in the Pattern Preview");
return}F=t.lE[0]}else return;p="Symmetry"}else if(z=="new"){var H=hc.$$("Path "+U.length);if(d.c2)H=d.c2;
if(d.atp){var x=t.V9(),Z=x[0],Y=x[1],b=Z[Y[0]];H.add.vmsk=b.add.vmsk.b();H.add.vogk=f.v(b.add.vogk);
if(b.ja==-1){var r=L[j[0]]=hc.$$("Path "+U.length);r.name=b.name;r.ja=b.ja}}L.push(H);j=[L.length-1];
p="New";if(d._$!=null){if(t.Dw){alert("Symmetry can't be used in the Pattern Preview");return}var W=d._$[0],V=d._$[1];
H.name=f7.get(f.yB.list[W][0]);var y=f.yB.b2(W,V),c=Math.min(t.r,t.$),S=(t.r-c)/2,C=(t.$-c)/2;f.Q.M(y.I,new gi(c,0,0,c,S,C),y.I);
H.add.vmsk.D=f.Q.Q$(y);H._$=[f.yB.list[W][1],V];F=j[0];p="New Symmetry"}}else if(z=="del"){if(t.so&&t.so.length!=0){var g=new eG(_.E.U0,!0);
g.data=A.fL.Vp(3);v.J(g)}if(j.length==0)return;j.sort(function(T,gK){return T-gK});if(j[0]==0){L[0]=hc.$$(U[0].name);
j=j.slice(1)}var K=0;while(j.length!=0){L.splice(j[0]-K,1);j=j.slice(1);K++}p="Delete"}else if(z=="fromsel"){var a=L[0]=hc.$$("Work Path");
j=[0];A.fL.aKv(t.p,a);p="Selection to"}var T=new bd(p+" Path",this);T.data={r9:U,agg:l,aaU:L,arI:j,aIX:O,aJo:F};
if(z=="fromsel"){T.data.B2=t.p;T.data.QK=null}t.RS(T);this.BW(T.data,t);if(z=="new"&&d._$||z=="sspath"&&d.K!=-1){var g=new eG(_.E.c,!0);
g.data={R:_.Y.H_,T:A.Oi};v.J(g)}}else{var D=d.qq,x=t.V9(d.R=="append"||d.R=="fromAction"),Z=x[0],Y=x[1],a=Z[Y[0]],N=a.add.vmsk,G=a.add.vogk,s=N.b(),Q=N.b(),q=JSON.stringify(G);
if(d.R=="fromAction"){var R=d.VV,m=R.oN,E=R.mQ,e=E.T;if(m=="set"){if(e){G=[f._5.zF(e,t.r,t.$)];Q.D.push({e:0,qG:1,length:0});
f._5.MG(G,Q);D=[12,76,0]}else throw E}else if(m=="draw"){G=[f._5.zF(E.Shp,t.r,t.$)];Q.D.push({e:0,qG:1,length:0});
f._5.MG(G,Q);A.fL.aaL(Q.D,E.AntA.v,X.Sw,v);return}else throw m}else if(d.R=="remove"){if(d.k_&&Q.aD.length!=0){Q.D=f.t.aj5(Q.D,Q.aD,G,d.a1x);
var w=f.t.HR(Q.D);for(var n=0;n<Q.l.length;n++)if(Q.l[n]>=w){Q.l.splice(n,1);n--}Q.aD=[];D="Delete Anchors"}else{if(Q.l.length==0)return;
var K=0;for(var n=0;n<Q.l.length;n++){G.splice(Q.l[n]+K,1);K--}Q.D=f.t.aJR(Q.D,Q.l);Q.l=[];Q.aD=[];if(D==null)D="Delete Paths"}}else if(d.R=="average"){if(Q.aD.length==0){alert("Select points first");
return}var M=0,P=0,w=0;for(var n=0;n<Q.aD.length;n++){var I=Q.D[Q.aD[n]];M+=I.Z.x;P+=I.Z.y;w++}M/=w;
P/=w;for(var n=0;n<Q.aD.length;n++){var I=Q.D[Q.aD[n]],k=new cK(M-I.Z.x,P-I.Z.y);I.dH=I.dH.add(k);I.Z=I.Z.add(k);
I.KU=I.KU.add(k)}D=[24,3,0]}else if(d.R=="join"){if(Q.aD.length!=2){alert("Select two points");return}var o=Q.D,af=f.t.Rq(o,Q.aD[0],!0),J=f.t.fn(o,af,!0),at=f.t.Rq(o,Q.aD[1],!0),ke=f.t.fn(o,at,!0),c_=o[J],ag=o[ke];
if(c_.e==0||ag.e==0){alert("You can only join points of open paths.")}if(af==at){for(var n=0;n<c_.length+1;
n++)o[J+n].e-=3}else{var c_=Math.min(Q.aD[0],Q.aD[1]),ag=Math.max(Q.aD[0],Q.aD[1]),dz=Math.min(J,ke),kL=Math.max(J,ke),af=o[dz],at=o[kL];
if(c_==dz+1)f.t.KW(o,dz);if(ag==kL+at.length)f.t.KW(o,kL);var aq=dz+af.length+1,dh=kL+at.length+1;Q.D=o=o.slice(0,aq).concat(o.slice(kL+1,dh)).concat(o.slice(dh,kL)).concat(o.slice(dh));
af.length+=at.length;if(cK.A_(o[aq-1].Z,o[aq].Z)<.1){o[aq-1].KU=o[aq].KU;o.splice(aq,1);af.length--}}D="Join Paths"}else if(d.R=="append"){A.fL.YT(d.kH,Q,G)}this.N0(t,a.ja,Q,G);
this.uc(t,D,a.ja,s,Q.b(),null,q,JSON.stringify(G))}};A.fL.aKv=function(d,v){if(d==null)return;var t=d.N.slice(0);
for(var n=0;n<t.length;n++)t[n]=t[n]>128?2:1;var h=d.S.b();h.o2(1,1);var X=f.m(h.k());f.Qb(t,d.S,X,h);
var g=bJ.h7(X,h.r,h.$,Math.round(h.k()*2e-5)),x=bJ.V9(g),Z=new gi(1,0,0,1,-1+d.S.x,-1+d.S.y);for(var n=0;
n<x.length;n++)f.Q.M(x[n].path.I,Z,x[n].path.I);for(var n=0;n<x.length;n++){var Y=x[n];if(Y.color==1&&Y.parent==-1)continue;
var a=f.Q.Q$(x[n].path,!1);a[2].qG=0;v.add.vmsk.D=v.add.vmsk.D.concat(a.slice(2))}v.add.vogk=jn.bB(v.add.vmsk.D)};
A.fL.aaL=function(d,v,t,h){var X=new jn.rz;X.D=X.D.concat(d.slice(2));var g=X._B();if(!v)f.round(g.N);
var x=f.m(g.S.k()*4);f.pl(x,(t&255)<<16|(t>>8&255)<<8|(t>>16&255)<<0);f.Gj(g.N,x,3);var Z=new eG(_.E.F,!0);
Z.T=A.nj;Z.data={R:"draw",H4:{buffer:x,S:g.S.b()},qq:this.name};h.J(Z)};A.fL.SA=function(d,v){var t=f.t.aCO(d.D,d.l),h=[];
for(var n=0;n<d.l.length;n++)h.push(f.v(v[d.l[n]]));return[t,h]};A.fL.YT=function(d,v,t){var h=f.t.HR(v.D),X=f.t.HR(d[0]);
v.D=v.D.concat(d[0].slice(2));v.l=[];for(var n=0;n<X;n++)v.l.push(h+n);for(var n=0;n<X;n++)t.push(f.v(d[1][n]))};
A.fL.prototype.YF=function(d,v){if(v==null)return!1;var t=v.V9(),h=t[0],X=t[1];if(X.length==0)return!1;
var g=h[X[0]],x=g.add.vmsk;if(x&&x.l.length+x.aD.length!=0)return[cQ.on,cQ.SY].indexOf(d)!=-1};A.fL.prototype.M6=function(d,v,t,h){if(d==null)return;
var X=d.V9(),g=X[0],x=X[1];if(x.length==0)return;var Z=g[x[0]],Y=Z.add.vmsk;if(h.A(cQ.l5)||h.A(cQ.u0)||this.id==A.as&&h.A(cQ._T)&&Y.aD.length==1){Y.aD=[];
d.QW=!0}if(Y.l.length!=0){var a=h.eI(d?d.z.r$:0);if(a.x!=0||a.y!=0){var z=Y.b(),p=Y.b(),U=new gi(1,0,0,1,a.x,a.y),l=Z.add.vogk,L=JSON.stringify(l);
if(h.A(cQ.io)){var j=A.fL.SA(p,l);A.fL.YT(j,p,l)}f.t.kh(p.D,U,p.l);f._5.M(l,f.G.KO(U),p.l);this.N0(d,Z.ja,p,l);
this.uc(d,"Move Paths",Z.ja,z,p.b(),!0,L,JSON.stringify(l))}if(h.A(cQ.on)||h.A(cQ.SY))this.Oh({R:"remove",k_:this.id==A.as},v,d,h,t)}};
A.fL.prototype.uc=function(d,v,t,h,X,g,x,Z){var Y=new bd(v,this);Y.data={Ew:t,aqs:h,ze:X,a4Z:g,abj:x,aCb:Z};
d.RS(Y)};A.fL.prototype.BW=function(d,v){if(d.Ew!=null)this.N0(v,d.Ew,d.ze.b(),JSON.parse(d.aCb));else{v.S5=d.aaU.slice(0);
v.lE=d.arI.slice(0);v.QW=v.Ir=!0}if(d.B2||d.QK){v.p=d.QK;v.B6=!0}if(d.aJo!=null)v.v1=d.aJo};A.fL.prototype.Js=function(d,v){if(d.Ew!=null)this.N0(v,d.Ew,d.aqs.b(),JSON.parse(d.abj));
else{v.S5=d.r9.slice(0);v.lE=d.agg.slice(0);v.QW=v.Ir=!0}if(d.B2||d.QK){v.p=d.B2;v.B6=!0}if(d.aIX!=null)v.v1=d.aIX};
A.fL.prototype.N0=function(d,v,t,h){var X=v<0?d.S5[-1-v]:v<1e6?d.U[v]:d.U[v-1e6].add.TySh,g=X.add.vmsk;
g.N=null;g.vF=!0;if(g._k){g._k.N=null;g._k.vF=!0}X.add.vmsk=t;X.add.vogk=h;if(1e6<=v){jM.hY(X);var x=d.U[v-1e6],Z=X,Y=this.n;
ka.Vs(x,Y.FP);d.uM()}else if(0<=v){t.vF=!0;X.tG(d);d.uM()}d.QW=d.Ir=!0};A.fL.prototype.W9=function(d,v,t){if(!t)this.aKz(d,v);
var h=d.V9(),X=h[0],g=h[1];for(var x=0;x<g.length;x++){var Z=X[g[x]],Y=f._5.a2J(Z.add.vogk,Z.add.vmsk.l,d.z);
if(Y==null)continue;d.QW=!0;if(Y[1])d.W.N8=Y[1];if(t){this.Ql[0]=Y;return}var a=new d3(Y[3],!1,!1);a.Yj(d,v);
this.Ql=[Y,a,Z]}};A.fL.prototype.aKz=function(d,v){var t=this.Ql;if(t==null)return;d.W.N8=[];d.W.NX=[];
t[1].clear(d);this.Ql=null};A.fL.prototype.aoT=function(d,v,t,h,X){var g=this.Ql,x=this.KA;if(g==null)return!1;
var Z=d.z.tw(X.x,X.y);if(x!=-1){var Y=g[0],a=g[1],z=g[2],p=this.wA.b(),U=JSON.parse(this.nI);if(x==10){g[1].qw(d,t,h,Z);
var l=f.G.ms(g[1].gU()),L=f.G.Sn(l,f.G.zJ(this.aC3));f._5.M(U,L,p.l);f._5.MG(U,p);this.N0(d,z.ja,p,U)}else{var j=JSON.parse(this.aAR),O=new cK(Y[2][x*2],Y[2][x*2+1]),F=new cK(Y[4][0],Y[4][1]),i=Math.round(cK.A_(O,Z)/Math.sqrt(2));
if(cK.A_(Z,F)>cK.A_(O,F))i=0;A.M$.uS(X.x+20,X.y,[f7.get([12,56])+": "+i+" px"],d);if(j[0]==8)j[3]=i;
else{var $=i-j[3][x];if(h.A(cQ.io))j[3][x]=i;else for(var n=0;n<4;n++)j[3][n]=Math.max(j[3][n]+$,0)}var H=new eG(_.E.F,!0);
H.T=A.EM;H.data={R:jn.PU,K:j};v.J(H)}this.W9(d,t,!0);return!0}else{var b=g[1].Q6(Z,d.z.OI,!0);if(b==null&&g[0][1]){var r=f.Q.kq(g[0][1],Z.x,Z.y,7/d.z.OI);
if(r!=-1)b="default"}var H=new eG(_.E.c,!0);H.data={R:_.Y.TG,Cn:b?b:A.$h()};v.J(H)}};A.fL.prototype.aAk=function(d,v,t,h,X){var g=this.Ql;
if(g==null)return!1;var x=d.z.tw(X.x,X.y),Z=-1;if(g[1].Q6(x,d.z.OI,!0)&&g[1].li(d,t,h,x))Z=10;else if(g[0][1]){var Y=f.Q.kq(g[0][1],x.x,x.y,7/d.z.OI);
if(Y!=-1)Z=Y}if(Z!=-1){var a=g[2];this.wA=a.add.vmsk.b();this.nI=JSON.stringify(a.add.vogk);this.KA=Z;
this.aAR=JSON.stringify(f._5.ms(d));this.aC3=f.G.ms(g[1].gU());return!0}};A.fL.prototype.aNv=function(d,v,t,h,X){var g=this.Ql,x=this.KA;
if(x==-1)return!1;var Z=d.z.tw(X.x,X.y);if(x==10){g[1].QZ(d,t,h,Z);var Y=g[2];this.uc(d,[10,16],Y.ja,this.wA,Y.add.vmsk,null,this.nI,JSON.stringify(Y.add.vogk))}this.KA=-1;
this.W9(d,t)};A.N4=function(d,v,t,h){A.fL.call(this,d,v,t);this.zj={shape:g4.yu(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{o:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a1L=h;this.sA=null;this.aGg=null;this.yM=null;this.Ig=new kG};A.N4.prototype=new A.fL;A.N4.prototype.pG=function(d){return d.n2&&this.id!=A.mL};
A.N4.prototype.enable=function(d,v,t,h,X){this.n=t;var g=new eG(_.E.c,!0);g.data={R:_.Y.TG,Cn:A.$h()};
v.J(g);this.W9(d,t)};A.N4.prototype.disable=function(d,v,t,h){this.aKz(d,t)};A.N4.prototype.M6=function(d,v,t,h){A.fL.prototype.M6.call(this,d,v,t,h);
this.Ig.M6(h);this.t2(v,t)};A.N4.prototype.t2=function(d,v){var t=new eG(_.E.c,!0);t.data={R:_.Y.a0,T:this.id,J9:this.dx(v)};
d.J(t)};A.N4.prototype.dx=function(d){var v=this.Ig.vS(0),t=this.Ig.CH(0),h=A.Oe.BJ(this.zj.binop,v,t),X=this.id==A.mL?d.S0:d.Co;
if(X==1&&h==0)h=1;return h};A.N4.prototype.cL=function(d,v,t,h){};A.N4.prototype.li=function(d,v,t,h,X){if(this.aAk(d,v,t,h,X))return;
var g=this.id==A.mL?t.S0:t.Co;if(g!=2)this.asr(v,t);if(g==2&&!d.fi())return;var x=d.z.tw(X.x,X.y);x=A.jt.$b(d,x,t);
this.yM=[x.x,x.y];this.sA=x;this.aGg=new cK(0,0);this.Ig.li(h)};A.N4.prototype.aCs=function(d,v,t,h){var X=[this.sA.b(),v.b()];
t=this.Ig.vS(1)||t.A(cQ.cm)||this.Ig.CH(1)?t:null;if(this.a1L)X=A.N4.WC(X[0],X[1],t,!0,this.zj.cstr);
if(d)d.z.O0=new iW(X[0].x,X[0].y,X[1].x-X[0].x,X[1].y-X[0].y);return this.cL(X[0],X[1],this.Ig.vS(1)&&t.A(cQ.cm),this.yM,d.z,h)};
A.N4.prototype.arw=function(d,v,t){var h=d.z.tw(v.x,v.y);if(this.id==A.mL)return h;var X=this.zj.cstr;
if(X.o==2){var g=new iW(h.x-X.x,h.y-X.y,X.x,X.y),x=A.jt.YY(d,g,t);h.x+=x[0];h.y+=x[1];A.jt.Wo(d,g,x)}else h=A.jt.$b(d,h,t);
return h};A.N4.prototype.qw=function(d,v,t,h,X){if(this.aoT(d,v,t,h,X))return;if(this.sA==null)return;
var g=this.yM,x=g.length,Z=X?this.arw(d,X,t):new cK(g[x-2],g[x-1]);if(h.A(cQ.uh))this.sA=Z.hP(this.aGg);
else this.aGg=Z.hP(this.sA);g.push(Z.x,Z.y);if(this.zj.shape==null)this.zj.shape=t.qI[0];var Y=this.aCs(d,Z,h,!0)[0],a=f.Q.lR(Y);
d.W.sG=a;if(this.id!=A.mL&&this.id!=A.LD&&this.id!=A.k8)A.M$.IA(X,d.z.O0,d,t);d.QW=!0;this.Ig.qw()};
A.N4.prototype.arm=function(d,v,t,h){var X=d[4].b();if(h){X.x-=v/2;X.y-=t/2}if(this.id==A.LD){v/=2;t/=2;
X.x+=v;X.y+=t;t=-t;v=0}var g=this.cL(X,new cK(X.x+v,X.y+t),!1,this.yM);this.ac5(d[0],d[1],d[2],g)};A.N4.prototype.ac5=function(d,v,t,h){var X=this.id==A.mL?t.S0:t.Co,g=new eG(_.E.U0,!0);
if(X==0)g.data=A.N4.a8z(h[1],t);else if(X==1){var x={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:h[1]};
g.data={oN:"set",mQ:x}}else{var x={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:h[1]};g.data={oN:"draw",mQ:x}}v.J(g);
if(h[1].v.classID=="customShape"&&h[1].v.Nm.v.startsWith("--")){var Z=d.V9(),Y=Z[0],a=Z[1],z=Y[a.pop()],p=z.add.vmsk,U=z.add.vogk;
f._5.Z7(U);var l=p.b();l.D=h[0];this.N0(d,z.ja,l,U)}if(this.id==A.wS||this.id==A.Wr){var Z=d.V9(),Y=Z[0],a=Z[1],z=Y[a.pop()],p=z.add.vmsk;
p.l=[0];this.W9(d,t)}};A.N4.prototype.QZ=function(d,v,t,h,X,g){if(this.aNv(d,v,t,h,X))return;if(this.sA==null)return;
var x=this.arw(d,X,t),Z=this.dx(t),Y=this.id==A.mL?t.S0:t.Co,a=this.yM,z=a.length;if(this.id==A.mL&&z<=4){}else if(z<=4){x.x=Math.round(x.x);
x.y=Math.round(x.y);var p=new eG(_.E.c);p.data={R:_.Y.S8,cG:"createshape",avr:this.arm.bind(this),a7m:this.name,afL:[d,v,t,h,x]};
if(!g)v.J(p)}else if(z!=2){var U=this.aCs(d,x,h),l=U[0],L=d.V9(!0),j=L[0],O=L[1],F=O.length-1;if(Y==1&&l.length>2||Y==0&&Z!=0&&F!=-1&&j[O[F]].ja>=0){l[2].qG=[1,2,3,0][Z-1];
var i=j[O.pop()],$=i.add.vmsk,H=i.add.vogk,b=$.b(),r=$.b(),W=JSON.stringify(H);r.D=r.D.concat(l.slice(2));
r.l=[f.t.HR(r.D)-1];var V=f._5.zF(U[1]);H.push(V?V:f._5.sS());this.N0(d,i.ja,r,H);this.uc(d,this.name,i.ja,b,r,null,W,JSON.stringify(H))}else if(Y==0){this.ac5(d,v,t,U)}else if(Y==2){A.fL.aaL(l,this.zj.anta,t.Sw,v)}}this.sA=null;
d.W.sG=null;d.W.O1=null;d.W.NX=[];d.z.O0=null;d.QW=!0;this.Ig.QZ();this.t2(v,t)};A.N4.prototype.Fb=function(d,v,t,h,X){for(var t in d)this.zj[t]=d[t]};
A.N4.WC=function(d,v,t,h,X){var g=d.x,x=d.y,Z=v.x,Y=v.y;if(X&&X.o==2){if(h){Z=Math.round(Z);Y=Math.round(Y)}g=Z-X.x;
x=Y-X.y}else{var a=0;if(X&&X.o==1)a=X.y/X.x;else if(t&&t.A(cQ.cm))a=1;if(a!=0){if(h){if(g<Z)g=Math.floor(g);
else g=Math.ceil(g);if(x<Y)x=Math.floor(x);else x=Math.ceil(x)}var z=Math.abs(Z-g),p=Math.abs(Y-x),U=z;
if(p/z<a)U*=p/z/a;Z=Z>g?g+U:g-U;Y=Y>x?x+U*a:x-U*a}if(t&&t.A(cQ.io)){g-=Z-g;x-=Y-x}}var d=new cK(g,x),v=new cK(Z,Y);
if(h)A.N4.aGV(d,v);return[d,v]};A.N4.aGV=function(d,v){if(d.x>v.x){var t=d.x;d.x=v.x;v.x=t}if(d.y>v.y){var t=d.y;
d.y=v.y;v.y=t}d.x=Math.floor(d.x);d.y=Math.floor(d.y);v.x=Math.ceil(v.x);v.y=Math.ceil(v.y)};A.N4.ahJ=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
A.N4.Ak=function(d,v){var t=A.N4.ahJ(),h=t.Usng.v.Type;if(v==null){h.v=f.v(kV.Em[d]);h.v.classID=["solidColorLayer","gradientLayer","patternLayer"][d]}else A.OJ.mw(v,h.v,d);
return{oN:"make",mQ:t}};A.N4.a8z=function(d,v){var t=v.my,h=f.v(v.jj);h.fillEnabled.v=t.Ci!=0;var X=A.N4.Ak(Math.max(0,t.Ci-1),t.hn);
X.mQ.Usng.v.Shp=d;X.mQ.Usng.v.strokeStyle={t:"Objc",v:h};return X};A.KN=function(d){A.fL.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][d],[A.as,A.axK,A.atk,A.ane,A.aAG][d],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][d]);
this.It=d;this.Ik=null;this.NT=null;this.wA=null;this.nI=null;this.aqD=0;this.DW=null;this.dc=!1;this.rx=!1;
this.adz=!1;this.M9=!1;this.aMs=!1;this.aLP=!1;this.$S=0};A.KN.prototype=new A.fL;A.KN.prototype.pG=function(d){return this.wA!=null};
A.KN.prototype.M6=function(d,v,t,h){if(!h.A(cQ.io))this.aMs=!1;if(this.It==1&&(h.A(cQ.on)||h.A(cQ.SY))&&this.YF(cQ.on,d)){this.Oh({R:"remove",k_:!0},v,d,h,t);
return}if(this.NT)this.tv(d,v,t,h,this.NT);A.fL.prototype.M6.call(this,d,v,t,h)};A.KN.prototype.P1=function(d,v,t,h){var X=d.z.tw(h.x,h.y,!0),g=A.jt.$b(d,X,v),x=this.It,Z=v.S0,Y=this.aqD;
if(Z==2)Z=0;var a=d.V9(),z=a[0],p=a[1],U=p.length==0?null:z[p.pop()],l=U?U.add.vmsk:null;if(Z==0&&Y!=0&&U&&U.ja>=0)Z=1;
var L=A.RV(d,h);if(x<=1&&Z==0&&(l==null||l.aD.length==0&&f.t.x6(l.D,X,!0,L).ja==-1))return["new",!0];
if(x<=1&&Z==1&&l==null)return["new"];if(l==null)return[null];var j=l.D,O=f.t.vi(j,new iW(X.x-L,X.y-L,L*2,L*2),l.aD,!0),F=f.t.x6(j,X,!0,L);
if(x<3&&F.ja!=-1&&O[0].length==0)return["add"];if((O[3]!=0||F.ja!=-1)&&(t.A(cQ.io)||x==4))return["cnv"];
var i=O[0].length==1&&j[O[0][0]-1]&&(j[O[0][0]-1].Z!=null||j[O[0][0]-1].e==0||j[O[0][0]-1].length==1);
if(i)return[x==0||x==3?"del":x==2?"mva":"mov"];if(x<2){var $=f.t.fn(j,f.t.Rq(j,l.aD[0],!0),!0);if($!=-1&&cK.A_(X,j[$+1].Z)<L)return["fin"];
if(l.aD.length!=1)return["new"];return["nrm"]}return[null]};A.KN.prototype.li=function(d,v,t,h,X){var g=d.lE.indexOf(0)!=-1,x=d.z.tw(X.x,X.y,!0),Z=A.jt.$b(d,x,t),Y=this.It,a=t.S0,z=this.aqD;
if(a==2)a=0;var p=d.V9(a==1),U=p[0],l=p[1],L=U[l.pop()],j=L?L.add.vmsk:null;if(a==0&&z!=0&&L&&L.ja>=0)a=1;
var O=A.RV(d,X),F=this.P1(d,t,h,X);if(F[0]==null)return;if(F[1]){var i=new eG(_.E.U0,!0),$=f._5.zo("customShape",[0,0,1,1],null,null,null,"--");
i.data=A.N4.a8z($,t);v.J(i);this.aLP=!0;p=d.V9(!0);U=p[0];l=p[1];L=U[l.pop()];j=L.add.vmsk;j.D=j.D.slice(0,2)}var H=L.add.vogk,b=j.D;
this.wA=j.b();this.nI=JSON.stringify(H);if(L.name=="Work Path"&&!g){b=j.D=b.slice(0,2);H=[]}this.Ik=X;
this.asr(v,t);var r=f.t.vi(b,new iW(x.x-O,x.y-O,O*2,O*2),j.aD,!0),W=f.t.x6(b,x,!0,O,!0);if(F[0]=="add"){var V=f.t.fn(b,W.ja,!0),y=b[V].length,c={e:4,dH:Z.b(),Z:Z.b(),KU:Z.b()},S=V+2+W.nL,C=V+1+(1+W.nL)%y,K=b[S-1],T=b[C];
if(!K.Z.fE(K.KU)||!T.dH.fE(T.Z)){var D=f.Q.ape(K.Z,K.KU,T.dH,T.Z,W.l_);K.KU=D[0];c.dH=D[1];c.Z=D[2];
c.KU=D[3];T.dH=D[4]}this.M9=!0;b.splice(S,0,c);b[V].length++;j.aD=[S];if(Y==1){c.dH.x+=2;this.Kq(j)}}else if(F[0]=="cnv"){var N=-1;
if(r[0].length!=0){N=r[0][0];var G=b[N],s=G.e>=3?3:0,Q=N==b.length-1;G.e=s+1;if(!(Y==4&&h.A(cQ.io))&&!(Y==0&&Q))G.dH=G.Z.b();
G.KU=G.Z.b();this.M9=!0;if(Y==0&&!Q)this.aMs=!0}else if(r[1].length+r[2].length!=0){var N=r[2][0];if(N==null){N=r[1][0];
this.rx=!0}var G=b[N],s=G.e>=3?3:0;G.e=s+2}else N=f.t.fn(b,W.ja,!0)+W.nL+1;if(N!=-1)j.aD=[N]}else if(F[0]=="mva"){this.adz=!0;
j.aD=[r[0][0]]}else if(F[0]=="mov"){var N=r[0][0],q=b[N],R=q.Z,m=Math.abs(f.Q.A2(q.dH.x,q.dH.y,R.x,R.y,q.KU.x,q.KU.y));
if(m>.01){q.dH=R.b();q.KU=R.b()}if(Date.now()-this.$S<300){var E=q.dH.fE(R)&&q.KU.fE(R);if(E)q.KU.offset(2,2);
else{q.dH=R.b();q.KU=R.b()}this.$S=0}else this.$S=Date.now();j.aD=[N];this.Kq(j)}else if(F[0]=="del"){var N=r[0][0],V=f.t.fn(b,f.t.Rq(b,N,!0),!0),$=b[V],e=V+$.length;
if(N!=e||$.e==0){b[V].length--;b.splice(N,1);e--;if($.length==0){b.splice(V,1);e=-1}}if(e!=-1)j.aD=[e];
else j.aD=[]}else if(F[0]=="fin"){var V=f.t.fn(b,f.t.Rq(b,j.aD[0],!0),!0);b[V].e=0;j.aD=[V+1];this.DW=Z;
this.dc=!0;this.M9=!0}else{var w=0;if(F[0]=="new"){j.l=[f.t.HR(b)];b.push({e:3,length:1,qG:[1,2,3,0][Math.max(0,z-1)],Dk:2,xu:0,L8:0});
w=b.length;H.push(f._5.sS())}if(F[0]=="nrm"){var V=f.t.fn(b,f.t.Rq(b,j.aD[0])),q=V+b[V].length;b[V].length++;
w=q+1;if(q==V+1&&b[V].length!=2)w=V+1}if(h.A(cQ.cm)&&b[w-1]&&b[w-1].Z)Z=A.qy.rf(b[w-1].Z,Z);var c={e:4,dH:Z.b(),Z:Z.b(),KU:Z.b()};
b.splice(w,0,c);j.aD=[w];this.DW=Z;if(this.It==1){c.dH.x+=2;this.Kq(j)}this.M9=!0;this.$S=Date.now()}this.N0(d,L.ja,j,H);
d.QW=!0};A.KN.prototype.Kq=function(d){var v=d.D,t=d.aD[0],h=f.t.fn(v,f.t.Rq(v,t))+1,X=v[h-1].length;
if(X<3)return;var g=[],x=[];for(var n=0;n<5;n++){var Z=h+(t-h-2+n+5*X)%X;x.push(Z);var Y=v[Z].Z;g.push(Y.x,Y.y)}var a=f.Q.afn(g);
for(var n=1;n<4;n++){var z=n*4,p=v[x[n]],Y=p.Z,U=p.dH.fE(Y)&&p.KU.fE(Y);if(!U){p.dH.QG(a[z],a[z+1]);
p.KU.QG(a[z+2],a[z+3])}else{p.dH=Y.b();p.KU=Y.b()}}};A.KN.prototype.tv=function(d,v,t,h,X){var g=this.P1(d,t,h,X)[0],x=null;
if(g==null)x="default";else x=A.KN.FR(g);var Z=new eG(_.E.c,!0);Z.data={R:_.Y.TG,Cn:x};v.J(Z)};A.KN.prototype.qw=function(d,v,t,h,X){this.NT=X;
if(this.wA==null){this.tv(d,v,t,h,X);return}var g=this.Ik;if(g&&cK.A_(g,X)<A.RV({z:{OI:1}},X))return;
this.Ik=null;var x=d.z.tw(X.x,X.y),Z=A.jt.$b(d,x,t),Y=d.V9(t.S0==1),a=Y[0],z=Y[1],p=a[z.pop()],U=p.add.vmsk,l=U.D,L=l[U.aD[0]];
if(this.It==1){var j=L.Z.fE(L.dH)&&L.Z.fE(L.KU);L.Z=x.b();L.dH=x.b();L.KU=x.b();if(!j)L.dH.x+=2;this.Kq(U)}else if(h.A(cQ.uh)){if(h.A(cQ.cm))Z=A.qy.rf(this.DW,Z);
var O=L.Z.hP(L.KU),F=L.dH.hP(L.Z);L.KU=Z;L.Z=Z.add(O);L.dH=L.Z.add(F)}else if(this.adz){var i=L.dH.hP(L.Z),$=L.KU.hP(L.Z);
L.Z=Z;L.dH=L.Z.add(i);L.KU=L.Z.add($)}else{if(h.A(cQ.cm))Z=A.qy.rf(L.Z,Z);if(this.rx){var H=L.dH;L.dH=L.KU;
L.KU=H}if(this.dc){var b=cK.A_(L.Z,Z),r=b==0?0:cK.A_(L.Z,L.KU)/b;L.KU.x=L.Z.x+r*(Z.x-L.Z.x);L.KU.y=L.Z.y+r*(Z.y-L.Z.y)}else L.KU=Z;
var W=L.e>=3?3:0;if(this.M9&&!this.aMs)L.e=W+h.A(cQ.io)?2:1;if(L.e-W==1){L.dH=L.Z.add(L.Z.hP(Z))}this.DW=Z;
if(this.rx){var H=L.dH;L.dH=L.KU;L.KU=H}}this.N0(d,p.ja,U,p.add.vogk);d.QW=!0};A.KN.prototype.QZ=function(d,v,t,h,X){if(this.wA==null)return;
var g=d.V9(t.S0==1),x=g[0],Z=g[1],Y=x[Z.pop()],a=Y.add.vmsk,z=Y.add.vogk;if(this.dc){a.aD=[];this.N0(d,Y.ja,a,Y.add.vogk)}var p=this.wA.D.length,U=a.D.length;
if(!this.aLP)this.uc(d,this.dc?"Close Path":(p==U?"Move":p<U?"Add":"Delete")+" Anchor Point",Y.ja,this.wA,a.b(),null,this.nI,JSON.stringify(z));
this.aLP=!1;this.dc=!1;this.rx=!1;this.adz=!1;this.M9=!1;this.wA=null};A.KN.prototype.Fb=function(d,v,t,h,X){this.aqD=d.binop};
A.KN.art={};A.KN.FR=function(d){var v=A.KN.art[d],t=64,Z=2,Y=10,a=25,z=5,p=35;if(v)return v;var h=new iW(0,0,t,t),X=-.38,g=f.km(t,t);
g.clearRect(0,0,t,t);var x=A.LY();g.save();g.lineWidth=Z;g.translate(4-Z/2,4-Z/2);g.rotate(X);if(x<1.5){var U=.66;
Y*=U;a*=U;z*=U;p*=U}g.lineJoin="miter";g.beginPath();if(d=="cnv"){g.moveTo(-Y,a);g.lineTo(0,0);g.lineTo(Y,a);
g.stroke()}else{g.moveTo(0,0);g.lineTo(Y,a);g.lineTo(z,p);g.lineTo(-z,p);g.lineTo(-Y,a);g.lineTo(0,0);
g.moveTo(0,0);g.lineTo(0,a);g.fillStyle="white";g.fill();g.stroke();g.fillStyle="black";g.fillRect(-z-1,p,2*z+2,6);
g.beginPath();g.arc(0,a-2,2.5,0,2*Math.PI,!1);g.fill();g.rotate(-X);g.translate(24,7);g.beginPath();
if(d=="add"||d=="del"||d=="new"){g.moveTo(-5,0);g.lineTo(5,0);if(d=="add"){g.moveTo(0,-5);g.lineTo(0,5)}if(d=="new"){g.moveTo(-2.5,-4.5);
g.lineTo(2.5,4.5);g.moveTo(2.5,-4.5);g.lineTo(-2.5,4.5)}}else if(d=="fin")g.arc(0,0,5,0,2*Math.PI,!1);
else if(d=="mov"||d=="mva"){for(var n=0;n<4;n++){g.moveTo(0,0);g.lineTo(-7,0);var l=1+Z;g.moveTo(-7+l,-l);
g.lineTo(-7,0);g.lineTo(-7+l,l);g.rotate(Math.PI/2)}}g.stroke()}g.restore();var L=new Uint8Array(g.getImageData(0,0,t,t).data.buffer),j=f.m(t*t);
f.Po(L,j,3);var O=f.m(t*t),F=[3,5,3,4,8,4,3,5,3];F=f.mD.Za(F);f.mD.HG(j,O,t,t,F);for(var n=0;n<O.length;
n++)O[n]=Math.min(255,O[n]*2);f.mD.HG(O,j,t,t,F);for(var n=0;n<j.length;n++)j[n]=Math.min(255,j[n]*2);
var i=L.slice(0);L.fill(255);f.Gj(j,L,3);f.V.Qe("norm",i,h,L,h,h,1);A.KN.art[d]=v={MP:L,BS:h,h4:new cK(4,4)};
return v};A.c$=function(){A.N4.call(this,[10,30],A.mL,"tools/fpen",!1)};A.c$.prototype=new A.N4;A.c$.prototype.cL=function(d,v,t,h,X,g){var x=h.length-1,Z=Math.sqrt((h[x-1]-h[0])*(h[x-1]-h[0])+(h[x]-h[1])*(h[x]-h[1]))<6/X.OI;
return[f.t.TN(h,Z,g),f._5.zo("customShape",[0,0,1,1],null,null,null,"--")]};A.Sd=function(){A.fL.call(this,[10,27],A.Z4,"tools/pselect");
this.in=null;this.f_=!1;this.V2=null;this.wA=null;this.aIB=null;this.nI=null;this.a5U=null;this.CX=null;
this.Zj=null;this.Ze=null};A.Sd.prototype=new A.fL;A.Sd.prototype.pG=function(d){return d.n2};A.Sd.gR=function(d,v){var t=d.V9(),h=t[0],X=t[1];
for(var n=0;n<X.length;n++){var g=h[X[n]],x=g.add.vmsk;for(var Z=0;Z<x.Pd.length;Z++){var Y=f.t.aEc(x.D,x.Pd[Z]);
if(Y==null)continue;var a=cK.A_(Y,v);if(a<5*A.LY()/d.z.OI){var z=d.U[g.ja-1e6].add.TySh,p=z.Oo.Curve,U=z.M,l=p.Reversed;
p.Reversed=!1;var p=cl.Vz(z.Oo.Curve);p.Reversed=l;f.Q.M(p[0],U,p[0]);return[p,Z,U.aX*U.r7-U.X*U.Wp,g]}}}};
A.Sd.acG=function(d,v,t){var h=d[0][0],X=f.Q.kq(h,t.x,t.y);v.Pd[d[1]]=d[0][1][X];var g=h[X*2],x=h[X*2+1],Z=(h[X*2+2]-g)*(t.y-x)-(h[X*2+3]-x)*(t.x-g);
if(d[2]<0)Z=-Z;v.GJ=Z>0};A.Sd.prototype.li=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=d.V9(),Z=x[0],Y=x[1],a,z;
for(var n=0;n<Y.length;n++){var p=Z[Y[n]],U=p.add.vmsk,l=f.t.x6(U.D,g).ja;if(l!=-1){this.V2=a=p;z=l}}var L=A.Sd.gR(d,g);
if(L){this.Zj=L;this.V2=a=L.pop();z=0}if(a!=null){var U=a.add.vmsk;U.aD=[];var j=U.l.indexOf(z);if(h.A(cQ.cm)){if(j==-1){U.l.push(z);
this.f_=!0}else U.l.splice(j,1)}else{if(j==-1)U.l=[z];this.f_=!0}this.CX=f.t.ft(U.D,U.l)}this.in=g;this.Ze=new k8(g);
d.Ir=!0;d.QW=!0};A.Sd.prototype.qw=function(d,v,t,h,X){if(this.in==null)return;var g=d.z.tw(X.x,X.y);
if(this.f_){g=this.Ze.NA(g,h);var x=this.V2;if(this.wA==null){this.wA=this.aIB=x.add.vmsk.b();this.nI=this.a5U=JSON.stringify(x.add.vogk);
if(h.A(cQ.io)){var Z=this.wA.b(),Y=JSON.parse(this.nI),a=A.fL.SA(Z,Y);A.fL.YT(a,Z,Y);this.aIB=Z;this.a5U=JSON.stringify(Y)}}var Z=this.aIB.b(),Y=JSON.parse(this.a5U);
if(this.Zj){A.Sd.acG(this.Zj,Z,g)}else{var z=this.CX.b(),p=z.x,U=z.y;z.offset(g.x-this.in.x,g.y-this.in.y);
z.x=Math.round(z.x);z.y=Math.round(z.y);var l=A.jt.YY(d,z,t),L=new gi(1,0,0,1,z.x-p+l[0],z.y-U+l[1]);
f.t.kh(Z.D,L,Z.l);f._5.M(Y,f.G.KO(L),Z.l);A.jt.Wo(d,z,l)}this.N0(d,x.ja,Z,Y)}else{var j=this.in;d.W.sG=f.Q.Ya(new iW(j.x,j.y,g.x-j.x,g.y-j.y));
d.QW=!0}};A.Sd.prototype.QZ=function(d,v,t,h,X){if(this.in==null)return;var g=d.z.tw(X.x,X.y),x=this.V2,Z=x?x.add.vmsk:null;
if(this.f_){var Y=JSON.stringify(x.add.vogk);if(!this.in.fE(g))this.uc(d,"Move Paths",x.ja,this.wA,Z,null,this.nI,Y);
if(d!=null&&d.W.O1){d.W.O1=null;d.QW=!0}}else{var a=d.V9(),z=a[0],p=a[1];if(p.length!=0){var U=z[p[0]];
Z=U.add.vmsk;var l=this.in,L=new iW(l.x,l.y,g.x-l.x,g.y-l.y),j=f.t.a5_(Z.D,L);if(h.A(cQ.cm)){for(var n=0;
n<j.length;n++)if(Z.l.indexOf(j[n])==-1)Z.l.push(j[n])}else Z.l=j}d.W.sG=null;d.QW=!0}this.in=null;this.wA=null;
this.Zj=null;this.f_=!1;this.Ze=null};A.Sd.prototype.a71=function(d){var v=this.V2,t=this.Vr,h=v.add.vmsk,X=v.add.vogk,g=X.length;
if(d=="confirm"){if(h!=this.wA)this.uc(t,[12,94,2],v.ja,this.wA,h,null,this.nI,JSON.stringify(X));this.nf();
return}if(d=="cancel"){this.N0(this.Vr,this.V2.ja,this.wA.b(),JSON.parse(this.nI));this.nf()}else{var h=this.wA.b(),X=JSON.parse(this.nI);
h.D=f.t.ave(h.D,h.l,d);this.N0(this.Vr,this.V2.ja,h,X)}};A.Sd.prototype.nf=function(){this.V2=null;this.wA=null;
this.in=null;this.JV=this.zD=-1;this.Ze=null};A.Sd.prototype.zl=function(d,v,t,h){A.fL.prototype.zl.call(this,d,v,t,h);
if(t.tN!=this.id)return;if(d.l.length==0)return;var X=d.V9(),g=X[0],x=X[1];if(x.length==0)return;var Z=g[x[0]],Y=Z.add.vmsk,a=Z.add.vstk,z=Z.add.vogk,p=new eG(_.E.c,!0);
p.data={R:_.Y.a0,T:this.id,Cs:"main",gi:Y?Y:null,_5:z};v.J(p)};A.Sd.prototype.Fb=function(d,v,t,h,X){var g=d.HW;
if(g.gi){var x=t.V9(),Z=x[0],Y=x[1];if(Y.length==0)return;var a=Z[Y[0]],z=a.add.vmsk.b(),p=JSON.stringify(a.add.vogk),U=g.gi;
this.N0(t,a.ja,U,g._5);var l=[18,5];if(z.D.length==U.D.length)l=z.l[0]==U.l[0]?"Fill Rule":"Path Order";
this.uc(t,l,a.ja,z,U,null,p,JSON.stringify(g._5))}};A.bw=function(){A.fL.call(this,[10,28],A.qN,"tools/dselect");
this.JV=-1;this.zD=-1;this.y0=null;this.in=null;this.Vx=null;this.V2=null;this.wA=null;this.nI=null;
this.lI=0;this.E7={psnap:!1};this.Ze=null};A.bw.prototype=new A.fL;A.bw.prototype.pG=function(d){return d.n2};
A.bw.prototype.Fb=function(d){this.E7=d};A.bw.prototype.Oh=function(d,v,t,h,X){if(d.R=="crnr"){if(t==null)return;
var g=t.V9(),x=g[0],Z=g[1];if(Z.length==0){alert("No paths selected");return}var Y=x[Z[0]],a=Y.add.vmsk;
if(a.aD.length==0){alert("No corners selected");return}for(var n=0;n<a.aD.length;n++){var z=a.D[a.aD[n]];
if(!z.Z.fE(z.KU)||!z.Z.fE(z.dH)){alert("Only sharp corners can be rounded");return}}if(this.wA==null){this.wA=Y.add.vmsk.b();
this.nI=JSON.stringify(Y.add.vogk);this.V2=Y;this.Vr=t}var p=new eG(_.E.c,!0);p.data={R:_.Y.S8,cG:"cornerradius",Mo:5,No:this.abD.bind(this)};
v.J(p)}else A.fL.prototype.Oh.call(this,d,v,t,h,X)};A.bw.prototype.abD=function(d){if(d=="confirm"){var v=this.Vr,t=this.V2,h=t.add.vmsk,X=t.add.vogk;
this.uc(v,[12,94,0],t.ja,this.wA,h,null,this.nI,JSON.stringify(X));this.nf();return}var h=this.wA.b(),X=JSON.parse(this.nI),g=h.aD;
if(d=="cancel"){}else{var x=[];for(var n=0;n<g.length;n++){var Z=g[n],Y=f.t.Rq(h.D,Z,!0),p=0;if(x.indexOf(Y)!=-1)continue;
x.push(Y);var a=f.t.fn(h.D,Y,!0),z=h.D[a].length,U=[];for(var l=0;l<z;l++){var L=h.aD.indexOf(a+l+1)==-1?0:d;
U.push(L);if(L!=0)p++}f.t.Pi(h.D,a,U);for(var l=0;l<g.length;l++)if(g[l]>a+z)g[l]+=p}this.eo(h,X);h.aD=[]}this.N0(this.Vr,this.V2.ja,h,X);
if(d=="cancel")this.nf()};A.bw.prototype.disable=function(d,v,t,h){this.om(d)};A.bw.prototype.li=function(d,v,t,h,X){this.om(d);
var g=d.z.tw(X.x,X.y),p,U,l;this.y0=g.b();var x=d.V9(),Z=x[0],Y=x[1];if(Y.length==0)return;var a=A.RV(d,X),z=new iW(g.x-a,g.y-a,a*2,a*2);
for(var L=0;L<Y.length;L++){p=this.V2=Z[Y[L]];U=p.add.vmsk;l=f.t.vi(U.D,z);if(l[0].length+l[1].length+l[2].length!=0)break}var j=[!1,!1,!1];
for(var n=0;n<3;n++){for(var O=0;O<l[n].length;O++){var F=l[n][O],i=U.D[F];if(U.aD.indexOf(F)!=-1||n==1&&U.aD.indexOf(F-1)!=-1&&!i.Z.fE(i.dH)||n==2&&U.aD.indexOf(F+1)!=-1&&!i.Z.fE(i.KU)){l[n]=[F];
j[n]=!0;break}}}if(l[0].length!=0&&(j[0]||!j[1]&&!j[2])){var $=l[0][0],H=U.aD.indexOf($);if(h.A(cQ.cm)){if(H==-1)U.aD.push($);
else{U.aD.splice(H,1);d.QW=!0;return}}else if(H==-1)U.aD=[$];this.JV=$;this.zD=0}else if(l[1].length!=0&&j[1]){this.JV=l[1][0];
this.zD=1}else if(l[2].length!=0&&j[2]){this.JV=l[2][0];this.zD=2}else{var b=f.t.x6(U.D,g,!0,a);if(b.ja==-1)this.in=g;
else{this.Vx=b;var r=f.t.fn(U.D,b.ja);U.l=[b.ja];U.aD=[r+1+b.nL]}}if(this.wA==null){this.wA=p.add.vmsk.b();
this.nI=JSON.stringify(p.add.vogk)}this.Ze=new k8(g);d.QW=!0};A.bw.prototype.qw=function(d,v,t,h,X){if(d==null)return;
var g=d.z.tw(X.x,X.y),x=this.V2;if(this.JV!=-1){var Z=this.wA.b(),Y=x.add.vogk,a=Z.D[this.JV];a=[a.Z,a.dH,a.KU][this.zD];
if(h.A(cQ.cm)){if(this.zD==0){g=this.Ze.NA(g,h);g.x+=a.x-this.y0.x;g.y+=a.y-this.y0.y}else g=A.qy.rf(Z.D[this.JV].Z,g)}else{if(this.E7.psnap){g.x=Math.round(g.x);
g.y=Math.round(g.y)}g=A.jt.$b(d,g,t)}if(this.zD==0){var z=new gi(1,0,0,1,g.x-a.x,g.y-a.y);f.t.kh(Z.D,z,null,Z.aD)}else{var p=Z.D[this.JV];
if(h.A(cQ.io)&&(p.e==1||p.e==4))p.e++;A.bw.MU(p,g,this.zD==1)}this.eo(Z,Y);this.N0(d,x.ja,Z,Y)}else if(this.in!=null){var U=this.in;
d.W.sG=f.Q.Ya(new iW(U.x,U.y,g.x-U.x,g.y-U.y));d.QW=!0}else if(this.Vx!=null){var Z=this.wA.b(),Y=x.add.vogk,l=this.Vx,L=this.y0,j=f.t.fn(Z.D,l.ja),O=Z.D[j].length,F,i=l.l_;
if(i<=1/6)F=0;else if(i<=.5)F=Math.pow((6*i-1)/2,3)/2;else if(i<=5/6)F=(1-Math.pow((6*(1-i)-1)/2,3))/2+.5;
else F=1;var $=g.x-L.x,H=g.y-L.y,b=(1-F)/(3*i*(1-i)*(1-i)),r=F/(3*i*i*(1-i)),W=Z.D[j+1+l.nL];W.KU.offset(b*$,b*H);
var V=Z.D[j+1+(l.nL+1)%O];V.dH.offset(r*$,r*H);A.bw.MU(W,W.KU,!1);A.bw.MU(V,V.dH,!0);this.eo(Z,Y);this.N0(d,x.ja,Z,Y)}else{var y=d.V9(),c=y[0],S=y[1],x,Z,T;
if(S.length==0)return;var C=A.RV(d,X),K=new iW(g.x-C,g.y-C,C*2,C*2);for(var D=0;D<S.length;D++){x=c[S[D]];
Z=x.add.vmsk;T=f.t.vi(Z.D,K);if(T[0].length+T[1].length+T[2].length!=0)break}this.om(d);for(var n=0;
n<3;n++){for(var N=0;N<T[n].length;N++){var G=T[n][N],s=Z.D[G];s=n==0?s.Z:n==1?s.dH:s.KU;d.W.N8.push(s.x,s.y);
d.QW=!0}}}};A.bw.prototype.om=function(d){if(d&&d.W.N8.length!=0){d.W.N8=[];d.QW=!0}};A.bw.prototype.QZ=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.V2,Z=x?x.add.vmsk:null,Y=x?x.add.vogk:null;
if(this.JV!=-1||this.Vx){if(Date.now()-this.lI<300){var a=Z.D[this.JV],z=this.zD,p=null;if(z==0){var U=a.dH.fE(a.Z),l=a.KU.fE(a.Z);
if(!U&&!l){p="Anchor Type";if(a.e==1||a.e==4)a.e++;else{a.e--;a.KU=a.Z.add(a.Z.hP(a.dH))}}else{p="Add Handles";
if(U&&l){a.dH.x-=30;a.KU.x+=30}else if(U)a.dH=a.Z.add(a.Z.hP(a.KU));else if(l)a.KU=a.Z.add(a.Z.hP(a.dH))}}else{p="Remove Handle";
if(z==1)a.dH.sY(a.Z);else a.KU.sY(a.Z)}this.eo(Z,Y);this.N0(d,x.ja,Z,Y);this.uc(d,p,x.ja,this.wA,Z,null,this.nI,JSON.stringify(Y))}else if(this.Vx||!this.y0.fE(g)){this.uc(d,"Drag Anchors",x.ja,this.wA,Z,null,this.nI,JSON.stringify(Y))}this.Vx=null;
this.lI=Date.now()}else if(this.in!=null){var L=this.in,j=new iW(L.x,L.y,g.x-L.x,g.y-L.y);if(j.r<0)j.x+=j.r;
if(j.$<0)j.y+=j.$;j.r=Math.abs(j.r);j.$=Math.abs(j.$);var O=f.t.vi(Z.D,j);Z.aD=O[0].concat(h.A(cQ.cm)?Z.aD:[]);
d.W.sG=null}this.nf();d.QW=!0};A.bw.prototype.nf=function(){this.V2=null;this.wA=null;this.in=null;this.JV=this.zD=-1;
this.Ze=null};A.bw.prototype.eo=function(d,v){for(var n=0;n<d.aD.length;n++){var t=f.t.Rq(d.D,d.aD[n]);
f._5.j_(v,t)}};A.bw.prototype.M6=function(d,v,t,h){if(d==null)return;var X=d.V9(),g=X[0],x=X[1];if(x.length==0)return;
var Z=g[x[0]],Y=Z.add.vmsk;if(Y==null||Y.aD.length==0)return;var a=Z.add.vogk,z=JSON.stringify(a),p=h.eI(d?d.z.r$:0);
if(p.x!=0||p.y!=0){var U=Y.b(),l=Y.b(),L=new gi(1,0,0,1,p.x,p.y);f.t.kh(l.D,L,null,l.aD);this.eo(l,a);
this.N0(d,Z.ja,l,a);this.uc(d,"Move Anchors",d.l[0],U,l.b(),!0,z,JSON.stringify(a))}if(h.A(cQ.on)||h.A(cQ.SY))this.Oh({R:"remove",k_:!0,a1x:!0},v,d,h,t)};
A.bw.prototype.uc=function(d,v,t,h,X,g,x,Z){var Y=d.oD();if(g&&Y!=null&&Y.T==this&&Y.data.a4Z&&Y.data.Ew==t&&JSON.stringify(Y.data.aqs.aD)==JSON.stringify(h.aD)){Y.data.ze=X;
Y.data.aCb=Z}else{var Y=new bd(v,this);Y.data={Ew:t,aqs:h,ze:X,a4Z:g,abj:x,aCb:Z};d.RS(Y)}};A.bw.MU=function(d,v,t){var h=d.dH,X=d.KU;
if(!t){h=d.KU;X=d.dH}h.QG(v.x,v.y);if(d.e==1||d.e==4){var g=cK.A_(h,d.Z),x=cK.A_(X,d.Z);if(x!=0){X.x=d.Z.x-(h.x-d.Z.x)*(x/g);
X.y=d.Z.y-(h.y-d.Z.y)*(x/g)}}};A.Rect=function(){A.N4.call(this,[10,32],A.wS,"tools/rect",!0)};A.Rect.prototype=new A.N4;
A.Rect.prototype.cL=function(d,v,t){var h=this.zj.crad,X=v.x-d.x,g=v.y-d.y;return[f.t.I7.Rect(d.x,d.y,X,g,h),f._5.zo("Rctn",[d.x,d.y,v.x,v.y],[h,h,h,h])]};
A.ZH=function(){A.N4.call(this,[10,33],A.Wr,"tools/ellipse",!0)};A.ZH.prototype=new A.N4;A.ZH.prototype.cL=function(d,v,t){var h=v.x-d.x,X=v.y-d.y;
return[f.t.I7.ZH(d.x,d.y,h,X),f._5.zo("Elps",[d.x,d.y,v.x,v.y])]};A.hs=function(){A.N4.call(this,[10,34],A.LD,"tools/pshape",!1);
this.zj.aopts=[!1,!0,50,100,0]};A.hs.prototype=new A.N4;A.hs.prototype.cL=function(d,v,t){var h=this.zj.pshape,X=this.zj.crad,g=this.zj.irad/100,x=this.zj.sides,Z=this.zj.width,Y=this.zj.aopts,a=this.zj.length,z=this.zj.rows,p=this.zj.cols,U=this.zj.brdr,$;
v=v.b();var l=d.x,L=d.y,j=v.x,O=v.y,F=Math.sqrt((j-l)*(j-l)+(O-L)*(O-L)),i=Math.atan2(-O+L,j-l);if(t)i=Math.round(i*180/Math.PI/15)*15*Math.PI/180;
if(h==0)$=f.t.I7.af(l,L,F,i,x,X);if(h==1)$=f.t.I7.WY(l,L,F,i,x,X,g);if(h==2)$=f.t.I7.rv(d.x,d.y,v.x,v.y,Z,Y);
if(h==3){if(l>j){var H=l;l=j;j=H}if(L>O){var H=L;L=O;O=H}if(t){if(p>z)O=L+(j-l-U)*z/p+U;else j=l+(O-L-U)*p/z+U}$=f.t.I7.aBA(l,L,j,O,z,p,U)}if(h==4)$=f.t.I7.aEM(l,L,F,i,a);
return[$,f._5.zo("customShape",[d.x,d.y,v.x,v.y],null,null,null,"--")]};A.hs.prototype.M6=function(d,v,t,h){A.N4.prototype.M6.call(this,d,v,t,h);
var X=h.eI(),g=this.zj,x,Z;if(X.y!=0){var Y=-X.y,a=g.pshape;if(a<2){x="sides";Z=Math.max(3,Math.min(100,g.sides+Y))}else if(a==2){x="width";
Z=Math.max(1,Math.min(100,g.width+Y))}else if(a==3){x="length";Z=Math.max(4,Math.min(40,g.length+Y))}}if(X.x!=0){x="pshape";
Z=Math.max(0,Math.min(3,g.pshape+X.x))}if(x){var z=new eG(_.E.c,!0),p={};p[x]=Z;g[x]=Z;z.data={R:_.Y.a0,T:this.id,G$:"vals",ac_:p};
v.J(z);this.qw(d,v,t,h)}};A.DY=function(){A.N4.call(this,[10,35],A.k8,"tools/line",!1)};A.DY.prototype=new A.N4;
A.DY.prototype.cL=function(d,v,t){var h=this.zj.width,X=this.zj.aopts;v=v.b();if(t){v=A.qy.rf(d,v)}if(j8==1)h=0;
return[f.t.I7.rv(d.x,d.y,v.x,v.y,h,X),f._5.zo("Ln",null,null,[d.x,d.y,v.x,v.y],h,null,X)]};A.wI=function(){A.N4.call(this,[10,31],A.Bs,"tools/cshape",!0)};
A.wI.prototype=new A.N4;A.wI.prototype.cL=function(d,v,t){var h=this.zj.shape,X=h.l7.r/h.l7.$,g=jn.rz.Pf(h.D);
v=v.b();if(t){v.y=d.y+(v.x-d.x)/X}var x=v.x-d.x,Z=v.y-d.y;f.t.kh(g,new gi(x,0,0,Z,d.x,d.y));return[g,f._5.zo("customShape",[d.x,d.y,v.x,v.y],null,null,null,h.ar)]};
A.hZ=function(d,v,t){A.M$.call(this,d,v,t);this.wF=0;this.U=null;this.bu=null;this.n=null;this.ae=1;
this.sm=0;this.h6=!0;this.KF=!1;this.cursor=null;this.Pm=null;this.B2=null;this.gN=!1;this.D2=null;this.a0y=0;
this.p7=null;this.It=0;this.xs=null;this.LW=null;this.wN=null;this.YO=null;this.abn=null;this.xz=null};
A.hZ.prototype=new A.M$;A.hZ.GB=function(d,v,t){var h={classID:"null",null:kl.hR(t?"Lyr":"Dcmn",!0)};
if(d)h.Angl={t:"UntF",v:{type:"#Ang",val:v}};else h.Axis={t:"enum",v:{Ornt:v}};return{oN:d?"rotateEventEnum":"flip",mQ:h}};
A.hZ.prototype.rP=function(d,v,t,h,X){var g=new eG(_.E.c,!0);g.data={R:_.Y.a0,T:this.id,_h:X,lG:d,n:t};
v.J(g);this.Zy=!1};A.hZ.prototype.pG=function(d){return this.LW&&this.LW.a34()};A.hZ.prototype.Oh=function(d,v,t,h,X){this.n=X;
if(d.R=="again"&&this.p7==null)return;if(d.R=="cmode"){if(t.depth==d.K)return;var g=A.hZ.OE(t),x=A.hZ.FI(t,g,!0),Z=new bd("Mode: "+t.depth+"-Bit to "+d.K+"-Bit",this);
Z.data={e:0,U:g,bu:x,a1W:!0,depth:t.depth};t.RS(Z);A.hZ.aFD(t,g,d.K);return}if(d.R=="cprof"){var Y=t.yr(),g,x;
Y=Y?Y[0]:null;var a=hc.IL[hc.X8.indexOf(d.K)];if(a)a=b3.qk.get(a);if(d.ayJ){g=A.hZ.OE(t);x=A.hZ.FI(t,g,!0)}var Z=new bd((g?"Convert To":"Assing")+" Profile: "+(a?d.K:"sRGB"),this);
Z.data={e:0,U:g,bu:x,a1W:!0,ayo:[Y]};t.RS(Z);if(d.ayJ)A.hZ.axo(t,g,a);t.m3(a);return}if(!this.Jx(t,X))return;
if(this.LW){this.a5j(d,this.LW.jS(),v,t,h,X);this.Nk(t,X,0,!0);this.Lx(t);return}this.ar9(t,d.B==null,d.B);
this.asn(t);this.a5j(d,d.a9g,v,t,h,X);this.eb(t,v,d.qq,!1)};A.hZ.prototype.a5j=function(d,v,t,h,X,g){var x=d._Y!=null?d._Y:4;
this.LW.aeF(x);if(v==null)v=this.LW.jS();var Z=this.xs,Y=v.x,a=v.y;if(d.R=="rot"&&d.K!=Math.PI&&(Z.r+Z.$&1)==1){Y=Math.floor(Y);
a=Math.floor(a)}var z=new gi;z.translate(-Y,-a);if(d.R=="rot")z.rotate(d.K);if(d.R=="scl")z.scale(d.K.x,d.K.y);
if(d.R=="mat")z.concat(d.K);z.translate(Y,a);if(d.R=="again")z=this.p7;var p=f.G.KO(z);if(d.R=="dtr"){var U=f.G;
p=U.Sn(d.K,U.m(-Y,-a));p=U.Sn(U.m(Y,a),p)}var l=this.LW.gU();f.G.M(p,l);if(d.R=="reset"){var L=h.U[h.l[0]].add.SoLd,j=L.Sz.v,O=j.Wdth.v,F=j.Hght.v;
console.log(L);var p=this.LW.jS(),i=new iW(Math.round(p.x-O/2),Math.round(p.y-F/2),O,F);l=f.Q.Ya(i).I;
L.quiltWarp.v=f.kk.m(i)}this.LW.vm(l);if(x==9)this.LW.apR(v);if(d.ow){var $=d.ow.v;this.Fb({Cs:"switchWarp"},t,h,X);
this.Fb({Cs:"wrp",ow:$},t,h,X)}};A.hZ.prototype.Ht=function(){return!0};A.hZ.prototype.Jx=function(d,v,t){if(d==null)return!1;
if(this.id==A.Yt)return d.p!=null;var h=d.A6(!0,null,null,!0);if(this.id==A.ie&&d.U[h[0]].S.HP()){alert("Layer is empty.");
return!1}if(d.lE.length!=0)return!0;for(var n=0;n<h.length;n++){var X=d.U[h[n]];if(X.BL(2)||X.BL(31)){alert(f7.get([6,57,0]));
return!1}if(X.add.artb){alert("You can not transform the whole artboard");return!1}if(X.add.TySh)if(!ka.Ns(X.add.TySh,v.FP))return!1;
if(X.add.SoLd){if(h.length==1&&(t&&t.y1==-1)&&(X._B()&&X._B().az||X.add.vmsk&&X.add.vmsk.az)){alert("Unlink masks before transforming Smart Object");
return!1}if(!d.acr(X.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+d.u7(X.add.SoLd.Idnt.v).Ps+")");
return!1}}}if(d.p==null)return!0;if(!d.fi())return!1;return d.adi()};A.hZ.prototype.li=function(d,v,t,h,X){var g=this.Bq(X,d),x=g[0],Z=g[1],Y=this.It==0?this.LW:this.wN;
d.z.OI*=Z;this.KF=Y.li(d,t,h,x,null,null,X);if(!this.KF&&j8==1){this.eb(d,v,null,!0);return}this.Lx(d,x);
d.z.OI/=Z;if(this.KF&&Y.$p(x)){if(Date.now()-this.a0y<250)this.eb(d,v,null,!0);this.a0y=Date.now()}};
A.hZ.prototype.tv=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.TG,Cn:this.cursor};d.J(v)};A.hZ.prototype.Bq=function(d,v){var t=1;
d=v.z.tw(d.x,d.y);if(this.It==1){var h=f.G.ms(this.LW.gU(),this.xs);t=f.G.B0(h).Mk();var X=f.G.zJ(h);
d=f.G.ah8(X,d)}return[d,t]};A.hZ.prototype.qw=function(d,v,t,h,X){var g=this.Bq(X,d),x=g[0],Z=g[1],Y=this.It==0?this.LW:this.wN;
if(!X.n2){var a="default";if(Y){var z=Y.Q6(x,d.z.OI*Z,null,X,null,h);if(z)a=z}if(a!=this.cursor){this.cursor=a;
this.tv(v)}if(this.wN){this.Lx(d,x)}}if(!this.KF)return;d.z.OI*=Z;var p=this.RL=Y.qw(d,t,h,x,this.h6);
d.z.OI/=Z;this.Nk(d,t,0,!0);this.Lx(d,x);this._E(v,null,d)};A.hZ.prototype.QZ=function(d,v,t,h,X){var g=this.Bq(X,d),x=g[0],Z=g[1];
this.LW.QZ(d,t,h,x);if(this.wN){var Y=this.wN.QZ(d,t,h,x);if(Y){this._E(v,!0,d);this.Lx(d)}}if(this.RL){var a=this.uw(),z=f.Q.Ya(this.xs).I;
f.G.M(a,z);this.LW.vm(z);this.RL=null}this.KF=!1};A.hZ.prototype.M6=function(d,v,t,h){if(h.A(cQ.u0))this.eb(d,v,null,!0);
else if(h.A(cQ.l5))this.ns(d,v);else{var X=this.LW.M6(d,t,h);if(X){this.Nk(d,t,0,!0);this._E(v,null,d)}}};
A.hZ.prototype.Fb=function(d,v,t,h){if(d.Cs=="commit")this.eb(t,v,null,!0);else if(d.Cs=="cancel")this.ns(t,v);
else if(d.Cs=="switchWarp"){this.It=1-this.It;this.ajp();this.Lx(t);this._E(v,null,t)}else if(d.Cs=="wrp"){this.wN.anl(d.ow);
this.Lx(t);this.Nk(t,this.n,0,!0)}else if(d.Cs=="splt")this.wN.anS(d.K);else if(d.Cs=="ctyp"){this.LW.aeF(d.a8a);
this.Lx(t);this._E(v,null,t)}else if(d.Cs=="cen"){this.LW.apR(d.h4);this.Lx(t);this.Nk(t,this.n,0,!0);
this._E(v,null,t)}else if(d.Cs=="trn"){var X=f.G.KO(d.oU),g=this.xs,x=f.G.ms(this.LW.gU(),this.xs);X[6]=x[6],X[7]=x[7];
var Z=[g.x,g.y,g.x+g.r,g.y,g.x+g.r,g.y+g.$,g.x,g.y+g.$];f.G.M(X,Z);this.ae=d.ae;if(d.sm!=this.sm){this.sm=d.sm;
this.aKt(t)}this.h6=d.h6;this.LW.vm(Z);this.Lx(t);this.Nk(t,this.n,0,!0)}};A.hZ.prototype.Lx=function(d,v){if(this.It==0)this.LW.Yj(d,this.n);
else{this.wN.Yj(d,v);var t=this.uw();f.G.M(t,d.W.IJ.I);f.G.M(t,d.W.ZM);f.G.M(t,d.W.QL)}};A.hZ.prototype.eb=function(d,v,t,h){this.Nk(d,this.n,this.ae);
var X=new bd(t?t:this.name,this);if(this.wF==0)X.data={e:this.wF,U:this.U,bu:this.bu};else if(this.wF==1){var g=d.U[this.U[0]],x;
if(g.k7.VL<=0){x=f.m(g.k7.rG.k(),d.depth);f.Po(g.k7.SS,x,3)}else x=d.p.N;var Z={S:g.k7.rG.b(),N:x};X.data={e:this.wF,B:this.U[0],B2:this.B2,QK:Z,Pm:this.Pm,gN:this.gN,k7:g.k7,D2:this.D2,pf:{BS:g.k7.rG,Gw:g.k7.SS}}}else if(this.wF==2){X.data={e:this.wF,B2:this.B2,QK:{S:d.p.S.b(),N:d.p.N.slice(0)}}}d.RS(X);
var Y=f.G.ms(this.LW.gU(),this.xs),a=this.bu,z=a?a[0]:null;if(a&&a.length==1&&z[4]){var p=A.hZ.Q9(z[4].nonAffineTransform),U=f.Q.mo(f.kk.kU(z[4].quiltWarp.v)[3]),l=f.G.ms(p,U);
Y=f.G.Sn(Y,f.G.zJ(l))}var L=this.wN?this.wN.QI():null;if(L&&f.kk.vs(L))L=null;var j=this.LW.gU();f.G.M(f.G.zJ(Y),j);
var O=this.LW.jS(j),F=f.G;Y=F.Sn(F.Sn(F.m(-O.x,-O.y),Y),F.m(O.x,O.y));var i=A.hZ.arB(Y,this.LW.cy,O,L);
if(this.id==A.Yt)i.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this.u$=v;this.track({oN:"transform",mQ:i});
this.escape(d,v,h)};A.hZ.aEW={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};A.hZ.arB=function(d,v,t,h){var X=f.G.B0(d),g=X.r2,x=X.pE,Z=-Math.atan2(-X.X,X.aX),a="Qcsi";
X.rotate(Z);function Y(l,L){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][L],val:l}}}var z=A.hZ.aEW;
for(var p in z)if(z[p]==v)a=p;var U={classID:"null",null:kl.hR("Lyr",!0),FTcs:{t:"enum",v:{QCSt:a}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Y(g,0),Vrtc:Y(x,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Y(Math.atan(X.Wp/X.r7)*180/Math.PI,2),Vrtc:Y(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:Y(100*d[6],1),Vrtc:Y(100*d[7],1)}},Wdth:Y(X.aX*100,1),Hght:Y(X.r7*100,1),Angl:Y(Z*180/Math.PI,2)};
if(v==9)U.Pstn={t:"Objc",v:{Hrzn:Y(t.x,0),Vrtc:Y(t.y,0)}};if(h)U.quiltWarp={t:"Objc",v:h};return U};
A.hZ.aa5=function(d){var v=1,t=1,h=0,X=0,g=0,x=0,Z=0,U=null,l=null;if(d.Wdth)v=d.Wdth.v.val/100;if(d.Hght)t=d.Hght.v.val/100;
if(d.Skew){var Y=d.Skew.v;h=Y.Hrzn.v.val;X=Y.Vrtc.v.val}if(d.Ofst){var a=d.Ofst.v;x=a.Hrzn.v.val;Z=a.Vrtc.v.val}if(d.Angl)g=d.Angl.v.val;
var z=new gi;z.concat(new gi(v,v*Math.tan(X*Math.PI/180),t*Math.tan(h*Math.PI/180),t,0,0));z.rotate(-g*Math.PI/180);
z.translate(x,Z);var p=f.G.KO(z);if(d.Usng){var a=d.Usng.v;p[6]=a.Hrzn.v.val/100;p[7]=a.Vrtc.v.val/100}var L=d.FTcs.v.QCSt;
if(L=="Qcsi"){var j=d.Pstn.v;U=new cK(j.Hrzn.v.val,j.Vrtc.v.val);l=9}else l=A.hZ.aEW[L];return{R:"dtr",_Y:l,K:p,ow:d.warp,a9g:U}};
A.hZ.prototype.ns=function(d,v){if(this.wF==0)A.hZ.aaT(d,this.U,this.bu);else if(this.wF==1){var t=d.U[this.U[0]];
d.p=this.B2;if(!this.gN){t.k7.rG=this.D2.BS;t.k7.SS=this.D2.Gw;t.pv(d,0,0,d.p)}else{t.Dn(d,this.Pm)}d.uM();
d.B6=!0}else if(this.wF==2){d.p=this.B2;d.B6=!0}this.escape(d,v,!0)};A.hZ.prototype.escape=function(d,v,t){this.LW.clear(d);
if(this.wN)this.wN.clear(d);this.LW=null;this.wN=null;this.xz=null;this.It=0;if(t)this.$m(v,_.E.c,{R:_.Y.ri})};
A.hZ.prototype.BW=function(d,v){if(d.e==0)A.hZ.GI(v,d);else{if(d.e==1){var t=v.U[d.B];if(d.gN){t.k7=d.k7}else{t.k7.rG=d.pf.BS;
t.k7.SS=d.pf.Gw}t.pv(v,0,0,v.p);v.uM()}v.p={S:d.QK.S.b(),N:d.QK.N.slice(0)};v.B6=!0}};A.hZ.prototype.Js=function(d,v){if(d.e==0)A.hZ.GI(v,d);
else{if(d.e==1){var t=v.U[d.B];if(d.gN){t.Dn(v,d.Pm)}else{t.k7.rG=d.D2.BS;t.k7.SS=d.D2.Gw;t.pv(v,0,0,v.p)}v.uM()}v.p=d.B2;
v.B6=!0}};A.hZ.prototype.ar9=function(d,v,t){d.V9();var h=[];if(t==null)for(var n=0;n<d.lE.length;n++)if(d.S5[d.lE[n]].add.vmsk.D.length>2)h.push(-1-d.lE[n]);
var X=[],g=d.z.b$;if(g[0]+g[1]+g[2]==3)if(t!=null||h.length==0||d.so!=null&&d.so.length!=0){if(d.l.length==1){var x=d.U[d.l[0]];
if(x.h5()&&x.s$)X=[d.l[0]]}if(X.length==0)X=d.A6(v,t,null,!0)}X=X.concat(h);for(var n=0;n<d.Cv.length;
n++)X.push(-1e3-d.Cv[n]);this.U=X};A.hZ.prototype.enable=function(d,v,t,h,X,g){if(this.cursor==null)this.cursor="default";
this.tv(v);if(this.LW)return;this.n=t;this.ar9(d,!0);this.asn(d,g&&g.y1!=null&&g.y1!=-1?g.y1:null);this._E(v,null,d);
this.Lx(d);if(g&&g.y1==-1)this.Fb({Cs:"switchWarp"},v,d,h)};A.hZ.prototype.K7=function(){return this.h6?null:[0]};
A.hZ.prototype.Ad=function(d,v,t){if(d&&d[0]!=null)this.h6=d[0]==1};A.hZ.prototype._E=function(d,v,t){var h={R:_.Y.a0,T:this.id};
if(this.It==0){var X=f.G.ms(this.LW.gU(),this.xs),g=f.G.B0(X);h.oU={AC:g,a8a:this.LW.a77(),h4:this.LW.jS(),BS:this.xs.b(),h6:this.h6}}else{h.a4W=v;
h.ow=this.wN.QI()}if(t){h.gM=["---"];for(var n=0;n<t.gM.length;n++)h.gM.push(t.gM[n].name)}h.aEG=this.wN!=null;
h.aNk=!1;if(t)for(var n=0;n<t.l.length;n++){var x=t.U[t.l[n]];if(!(x.add.SoLd||x.add.TySh||x.c5()||x.h5()))h.aNk=!0}this.$m(d,_.E.c,h)};
A.hZ.prototype.asn=function(d,v){var t=this.id==A.Yt,h=!0,X=this.U[0],g=d.U[X],Z=null,Y=null,a=null,U=null;
if(t){this.wF=2;this.B2=d.p}else if(d.p&&this.U.length==1&&X>=0&&!g.S.HP()){this.wF=1;this.B2=d.p;this.Pm=g.k7;
this.gN=!1;if(!g.Gp(d,d.p)){this.gN=!0;g.lO(d,d.p,!1)}this.D2={Gw:g.k7.SS,BS:g.k7.rG}}else{this.wF=0;
this.bu=A.hZ.FI(d,this.U,null);for(var n=0;n<this.bu.length;n++)if(this.bu[n][3]!=null)h=!1}var x=this.wF==1;
if(this.bu&&this.bu.length==1){var z=this.bu[0];if(z[2]!=null)Y=z[2].gi;if(z[3]==null)x=!0;if(z[3]!=null)a=z[3];
if(z[4]!=null){Z=d.U[this.U[0]].add.SoLd;if(z[1]||z[2])x=!1}}var p=t?d.p.S.b():A.hZ.pT(d,this.U);this.xs=p;
if(!t&&Y&&j8==1){U=Y.Fy();this.YO=f.G.ms(U,this.xs)}else if(!t&&a&&j8==1){var l=d.U[this.U[0]],a=l.add.TySh;
U=f.Q.Ya(l.nG.PJ).I;f.Q.M(U,a.M,U);this.YO=f.G.ms(U,this.xs)}else if(!t&&Z){U=A.hZ.Q9(Z.nonAffineTransform);
this.xs=f.Q.mo(f.kk.kU(Z.quiltWarp.v)[3]);if(x)this.wN=new k6(Z.quiltWarp.v);this.YO=f.G.ms(U,this.xs)}else{if(x||t)this.wN=new k6(f.kk.m(this.xs));
this.YO=[1,0,0,0,1,0,0,0];if(this.id==A.ie)v=3;U=[p.x,p.y,p.x+p.r,p.y,p.x+p.r,p.y+p.$,p.x,p.y+p.$]}this.LW=new d3(U,!0,!0,h,!1,!1,v);
this.abn=[1,0,0,0,1,0,0,0];this.aKt(d)};A.hZ.prototype.aKt=function(d){if(this.id==A.ie){var v,t,g=null;
if(this.bu&&d.p==null){var h=this.bu[0][0],X=h.r1;v=X[0];t=X[1]}else if(this.D2){v=this.D2.Gw;t=this.D2.BS}if(this.sm!=0)g=d.gM[this.sm-1].NN(t);
this.xz=f.Ua.aO6(f.OO(v,8),t.r,t.$,g)}};A.hZ.pT=function(d,v){if(v==null)v=d.A6(!0,null,null,!0);var t=new iW,h=new iW;
if(d.p&&v.length==1&&v[0]>=0)t=d.p.S.b();else for(var n=0;n<v.length;n++){var X=v[n],g=0<=X?d.U[X]:-1e3<X?d.S5[-1-X]:d.gM[-1e3-X],x=g.add?g.add.vmsk:null,Z=0<=X?g.pT(d,v.length==1,!1,!0):-1e3<X?f.t.ft(x.D,v.length==1&&x.l.length!=0?x.l:null):g.S.b();
t=t.Ue(Z);if(X>0&&g.add.artb)h=h.Ue(g.x1())}if(!h.HP())return h;if(t.r==0){if(t.$==0)return t;t.x-=10;
t.r+=20}if(t.$==0){t.y-=10;t.$+=20}return t};A.hZ.prototype.$m=function(d,v,t,h){var X=new eG(v,!0);
X.data=t;if(h)X.T=h;d.J(X)};A.hZ.OE=function(d){var v=[];for(var n=0;n<d.U.length;n++)v.push(n);for(var n=0;
n<d.S5.length;n++)v.push(-1-n);for(var n=0;n<d.gM.length;n++)v.push(-1e3-n);return v};A.hZ.FI=function(d,v,t){var h=[];
for(var n=0;n<v.length;n++){var X=v[n],g,x;if(X>=0){g=d.U[X];x=g.tr(d,t,!0)}else if(X>-1e3){g=d.S5[-1-X];
x=[2]}else{h.push([null,null,null,null,null,null,null,d.gM[-1e3-X].b()]);continue}var Z=[],Y=x.indexOf(0)!=-1;
if(Y){var a={r1:g.add.SoLd?null:[g.buffer.slice(0),g.S.b()]};Z.push(a);if(g.l4()){var z=g.Ip(d);a.aNE=z.buffer.slice(0);
a.aK3=z.S.b()}}else Z.push(null);if(x.indexOf(1)!=-1)Z.push(g._B().b());else Z.push(null);if(x.indexOf(2)!=-1)Z.push({gi:g.add.vmsk.b(),UY:g.add.vstk?f.v(g.add.vstk):null,hn:g.add.vstk?kV.yz(d.U[X].add):null,J1:g.add.vstl?JSON.stringify(g.add.vstl):null,_5:g.add.vogk?f.v(g.add.vogk):null});
else Z.push(null);if(g.add.TySh&&Y){jM.hY(g.add.TySh);Z.push(g.add.TySh.M.b())}else Z.push(null);if(g.add.SoLd&&Y)Z.push(f.v(g.add.SoLd));
else Z.push(null);if(x.indexOf(3)!=-1)Z.push(g.Ip(d).AU.b());else Z.push(null);if(g.add.lmfx)Z.push(JSON.stringify(g.add.lmfx));
else Z.push(null);h.push(Z)}return h};A.hZ.aaT=function(d,v,t){for(var n=0;n<v.length;n++){var h=v[n],X=0<=h?d.U[h]:-1e3<h?d.S5[-1-h]:d.gM[-1e3-h],g=t[n];
if(g[0]){if(g[0].r1){X.S=g[0].r1[1].b();X.buffer=g[0].r1[0].slice(0)}if(X.l4()){var x=X.Ip(d);x.buffer=g[0].aNE.slice(0);
x.S=g[0].aK3.b()}}if(g[1]){X._B().N=g[1].N.slice(0);X._B().S=g[1].S.b();X._B().vF=!0}if(g[2]){X.add.vmsk=g[2].gi.b();
if(g[2].hn)kV.MX(X.add,g[2].hn);if(g[2].UY)X.add.vstk=f.v(g[2].UY);if(g[2]._5)X.add.vogk=f.v(g[2]._5);
if(g[2].J1)X.add.vstl=JSON.parse(g[2].J1)}if(g[3]){X.add.TySh.M=g[3].b();jM.ii(X.add.TySh)}if(g[4]){X.add.SoLd=f.v(g[4])}if(g[5]){var Z=X.Ip(d).AU;
Z.N=g[5].N.slice(0);Z.S=g[5].S.b()}if(g[6]){X.add.lmfx=JSON.parse(g[6])}if(g[7]){X.N=g[7].N.slice(0);
X.S=g[7].S.b();X.vF=!0}if(0<=h){X.tG(d);X.uM();if(g[4])X.Lc(d,!1)}}d.uM()};A.hZ.aFD=function(d,v,t){d.depth=t;
d.buffer=f.m(d.r*d.$*4,t);for(var n=0;n<v.length;n++){var h=v[n];if(0<=h){var X=d.U[h],g=X._B();if(g){g.N=f.OO(g.N,t);
g.vF=!0}if(X.add.vmsk)X.add.vmsk.vF=!0;if(X.c5())X.tG(d);else if(X.add.SoLd){if(X.l4()){var x=X.Ip(d),g=x.AU;
if(g){g.N=f.OO(g.N,t);g.vF=!0}}X.Lc(d)}else X.buffer=f.OO(X.buffer,t);X.uM()}else if(-1e3<h){}else{var g=d.gM[-1e3-h];
g.N=f.OO(g.N,t)}}d.uM()};A.hZ.axo=function(d,v,t){var h,X,g=17,x=d.yr();if(x){g=x[2];h=x[3].slice(0)}if(t){var Z=ICC.R(t.buffer);
X=ICC.U.sampleLUT(Z,g,!0)}for(var n=0;n<v.length;n++){var Y=v[n];if(0<=Y){var a=d.U[Y];if(a.c5())a.tG(d);
else if(a.add.SoLd){}else{if(h)ICC.U.applyLUT(h,g,a.buffer,a.buffer);if(X)ICC.U.applyLUT(X,g,a.buffer,a.buffer)}a.uM()}}d.uM()};
A.hZ.GI=function(d,v){if(v.ayo){var t=d.yr();d.m3(v.ayo[0]);v.ayo=[t?t[0]:null]}if(v.U==null)return;
var h=A.hZ.FI(d,v.U,v.a1W);if(v.depth!=null){var X=v.depth;v.depth=d.depth;d.depth=X;d.buffer=f.m(d.r*d.$*4,d.depth);
d.uM()}A.hZ.aaT(d,v.U,v.bu);v.bu=h};A.hZ.cS=function(d,v,t,h,X,g,x,Z,Y,a){if(typeof g[0]=="number"){var z=[];
for(var n=0;n<t.length;n++)z[n]=g;g=z}for(var n=0;n<t.length;n++){var p=g[n],U=f.G.B0(p),l=U.Mk(),L=t[n],j=0<=L?d.U[L]:-1e3<L?d.S5[-1-L]:d.gM[-1e3-L],O=h[n];
if(j.add&&j.add.lmfx&&Z)lb.mS(j.add.lmfx,l);if(O[0]&&!O[3]&&!O[4]&&!O[5]){var F=O[0].r1;if(Y){var i=Y.hL(F[1]),$=f.m(i.k()*4);
f.wH(F[0],F[1],$,i);F=[$,i]}var H=A.hZ.zL(F,X,p,x,X==0?j.buffer.buffer:null,null,a);if(H){j.S=H.S;j.buffer=H.buffer}}if(O[1]){var b=j._B();
A.hZ.T0(d,O[1],b,X,p,x,b.az&&x&&!f.kk.vs(x)&&O[0]?O[0].r1[1]:null);if(Y){var i=b.S.hL(Y),r=f.m(i.k());
f.Qb(b.N,b.S,r,i);b.N=r;b.S=i}}if(O[2]){var W=x&&!f.kk.vs(x),V=O[2].gi.b(),y=t.length==1&&V.l.length!=0,c=t.length==1&&V.aD.length>1;
if(c)y=!1;var S=y?V.l:null,C=c?V.aD:null;if(W){var K=f.kk.kU(x);f.G.M(p,K[3]);f.t.a8$(V.D,K,S,C)}else f.t.a6K(V.D,p,S,C);
if(j.add.vstk&&Z){j.add.vstk.strokeStyleLineWidth.v.val=O[2].UY.strokeStyleLineWidth.v.val*l;var T=O[2].hn;
if(T&&T.Ci==3){T=f.v(T);var D=T.hn.phase.v;T.hn.Scl.v.val=Math.round(T.hn.Scl.v.val*l);D.Hrzn.v=Math.round(D.Hrzn.v*l);
D.Vrtc.v=Math.round(D.Vrtc.v*l);kV.MX(j.add,T)}}if(j.add.vogk){j.add.vogk=f.v(O[2]._5);if(W||c)f._5.Z7(j.add.vogk);
else f._5.M(j.add.vogk,p,t.length>1?[]:V.l,Z)}if(j.add.vstl){var N=j.add.vstl=JSON.parse(O[2].J1);for(var G=0;
G<2;G++){var s=G==0?N.W4:N.rA;if(s==null||s[3]==null)continue;var Q=s[3],q=new gi(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);
q.concat(U);s[3]=[q.aX,q.X,q.Wp,q.r7,q.r2,q.pE]}}V.mO*=l;var R=new gi;R.rotate(V.Vk);R.concat(U);V.Vk=Math.atan2(-R.X,R.aX);
j.add.vmsk=V;if(j.add.vogk)f._5.MG(j.add.vogk,j.add.vmsk)}if(O[3]){var q=O[3].b();q.concat(U);j.add.TySh.M=q;
jM.ii(j.add.TySh);ka.Vs(j,v.FP)}if(O[4]){var m=j.add.SoLd,E=A.hZ.Q9(O[4].nonAffineTransform);f.G.M(p,E);
var e=f.Q.k2(E);if(d3.Tf(E)){if(x){var w=f.Q.mo(f.kk.kU(O[4].quiltWarp.v)[3]),r=f.G.ms(E,w),M=f.Q.mo(f.kk.kU(x)[3]);
E=[M.x,M.y,M.x+M.r,M.y,M.x+M.r,M.y+M.$,M.x,M.y+M.$];f.G.M(r,E);m.quiltWarp.v=x}var P=f.G.ms(E),I=E;if(!f.G.nU(P)){P[6]=P[7]=0;
I=[0,0,1,0,1,1,0,1];f.G.M(P,I)}m.Trnf=A.hZ.gX(I);m.nonAffineTransform=A.hZ.gX(E);if(m.filterFX)m.filterFX=f.v(O[4].filterFX);
A.hZ.avA(m,U);j.Lc(d,X==0,v.FP)}}if(O[5])A.hZ.T0(d,O[5],j.Ip(d).AU,X,p,x);if(O[7])A.hZ.T0(d,O[7],j,X,p,x);
if(0<=L){if(!a)j.s4();j.tG(d);j.uM();if(j.nG)j.nG.sj=!0}}d.uM()};A.hZ.a0t=function(d,v){var t=v.Mk(),h=0;
f.n7(d);var X=f.a2Z(d,v,.3,4);h=X[0];v=X[1];var g=d[h],x=d[h+1],Z=f.UJ(g),Y=x.r,a=x.$,z=f.Q.Ya(x).I;
f.Q.M(z,v,z);var p=f.Q.k2(z),U=f.m(p.k(),Z),l=p.x,L=p.y,j=p.r,O=p.$,F=v.b();F.zJ();var i=F._V(new cK(0,0)),$=F._V(new cK(1,0)),H=$.x-i.x,b=$.y-i.y;
for(var r=0;r<O;r++){var W=F.aX*(l+.5)+F.Wp*(r+L+.5)+F.r2,V=F.X*(l+.5)+F.r7*(r+L+.5)+F.pE;if(Z==8)for(var y=0;
y<j;y++){if(.5<W&&W<Y-.5&&.5<V&&V<a-.5)U[r*j+y]=Math.floor(.5+f.G.aDI(W,V,g,Y,a));W+=H;V+=b}else if(Z==16)for(var y=0;
y<j;y++){if(.5<W&&W<Y-.5&&.5<V&&V<a-.5)U[r*j+y]=Math.floor(.5+f.G.azx(W,V,g,Y,a));W+=H;V+=b}else if(Z==32)for(var y=0;
y<j;y++){if(.5<W&&W<Y-.5&&.5<V&&V<a-.5)U[r*j+y]=f.G.azx(W,V,g,Y,a);W+=H;V+=b}}return{S:p,N:U}};A.hZ.Pr=function(d,v,t,h,X){if(t==null)t=!1;
return A.hZ.zL(d,t?0:1,f.G.KO(v),null,h,X,t)};A.hZ.zL=function(d,v,t,h,X,g,x){if(x==null)x=!1;if(x&&g)throw"e";
var Z=f.UJ(d[0]),Y={},U=0;if(h&&!f.kk.vs(h)){var a=f.kk.kU(h);f.G.M(t,a[3]);Y.S=f.Q.k2(a[3]);Y.buffer=f.m(Y.S.k()*4,Z);
var z=f.kk.pT(h);z.x=z.y=0;var p=d[1].b();if(z.k()==p.k())p.x=p.y=0;f.g_.drawImage(a,d[0],p,z,Y.buffer,Y.S,v==0);
return Y}if(f.G.nU(t)){f.vD(d);var l=.3,U=0,L=f.G.B0(t),j=d[1],O=j.k()*L.Mk();if(x&&O>4e6)l=O>8e6?2.2:1.2;
var F=f.a2Z(d,L,l,16);U=F[0];t=f.G.KO(F[1])}var i=d[U],j=d[U+1],$=f.G.Sn(t,f.G.KO(new gi(j.r,0,0,j.$,j.x,j.y))),H=[0,0,1,0,1,1,0,1];
for(var b=.1;b<.99;b+=.1)H.push(0,b,b,0,1,b,b,1);f.G.M($,H);Y.S=f.Q.k2(H,!0);if(g)Y.S=Y.S.hL(g);if(x){while((Y.S.r&3)!=0)Y.S.r++;
while((Y.S.$&3)!=0)Y.S.$++}if(Y.S.r>1e5||Y.S.$>1e5||Y.S.k()>3e4*3e4)return null;var r=Y.S.k()*4;if(Z==8&&X&&X.byteLength>=r&&r>=X.byteLength>>2){Y.buffer=new Uint8Array(X)}else{Y.buffer=f.m(r,Z)}f.G.drawImage($,i,j.r,j.$,Y.buffer,Y.S,v==0,x);
if(v==2&&Y.buffer){var W=Y.S.r,V=Y.S.$,y;y=[0,-1,0,-1,16,-1,0,-1,0];y=f.mD.Za(y);var c=Y.buffer.slice(0);
f.mD.Rz(c,Y.buffer,W,V,y,!0,!1)}if(Y.buffer)return Y};A.hZ.T0=function(d,v,t,h,X,g,x){var Z=v.S,Y=v.N;
if(x){Z=x;Y=v.NN(Z)}if(v.color==255)f.zJ(Y);var a=f.m(Z.k()*4,d.depth);f.Gj(Y,a,3);var z=A.hZ.zL([a,Z],h,X,g);
if(z){t.S=z.S;t.N=f.m(z.S.k(),d.depth);f.Po(z.buffer,t.N,3);t.vF=!0}if(v.color==255){f.zJ(Y);if(z)f.zJ(t.N)}};
A.hZ.avA=function(d,v){var t=d.filterFX;if(t)t=t.v.filterFXList;if(t)t=t.v;if(t)for(var h=0;h<t.length;
h++){var X=t[h].v.Fltr;if(X==null)continue;var g=X.v.classID;X=X.v;if(g!="rigidTransform"&&g!="blurbTransform"&&g!="perspectiveWarpTransform")continue;
var x=[];for(var Z=0;Z<4;Z++)x.push(X["PuX"+Z].v,X["PuY"+Z].v);var Y=x.slice(0);f.Q.M(x,v,x);for(var Z=0;
Z<4;Z++){X["PuX"+Z].v=x[Z*2];X["PuY"+Z].v=x[Z*2+1]}if(g=="rigidTransform"){var a=["PinP","posFinalPins"],z=["originalVertexArray","deformedVertexArray"],p=X.puppetShapeList.v;
for(var U=0;U<p.length;U++){var l=p[U].v;for(var L=0;L<a.length;L++){var j=A.hZ.Q9(l[a[L]]);f.Q.M(j,v,j);
l[a[L]]=A.hZ.gX(j);var O=new Uint8Array(l[z[L]].v),Y=new Float32Array(O.buffer);f.Q.M(Y,v,Y);var F=[];
for(var $=0;$<O.length;$++)F[$]=O[$];l[z[L]].v=F}}}if(g=="blurbTransform"){var H=f.NJ.Xm(X);f.NJ.M(H,v);
f.NJ.WL(H[0],X)}if(g=="perspectiveWarpTransform"){var r=f.xn.afh(X);f.Q.M(r.$w,v,r.$w);f.Q.M(r._C,v,r._C);
f.xn.DM(r,X)}}};A.hZ.Q9=function(d){var v=[],t=d.v.length;for(var n=0;n<t;n++)v.push(d.v[n].v);return v};
A.hZ.gX=function(d){var v={t:"VlLs",v:[]},t=d.length;for(var n=0;n<t;n++)v.v.push({t:"doub",v:d[n]});
return v};A.hZ.prototype.ajp=function(){var d=f.Q.mo(f.kk.kU(this.wN.QI())[3]),v=f.G.ms(this.LW.gU(),this.xs),t=[d.x,d.y,d.x+d.r,d.y,d.x+d.r,d.y+d.$,d.x,d.y+d.$];
f.G.M(v,t);this.LW.vm(t);this.xs=d};A.hZ.prototype.uw=function(){var d=f.G.ms(this.LW.gU(),this.xs);
if(this.RL)d=f.G.Sn(d,f.G.KO(this.RL));return d};A.hZ.prototype.Nk=function(d,v,t,h){var X=this.uw();
X=f.G.Sn(X,f.G.zJ(this.YO));var g=this.wN?this.wN.QI():null;if(this.wF==0){var x=this.p7=f.G.B0(X);if(this.id==A.ie){var Z=this.bu[0][0],Y=Z.r1,a=Y[1],z=~~(a.r*Math.max(0,x.aX)),p=~~(a.$*Math.max(0,x.r7)),U=new iW(Math.round(x.aX*a.x+x.r2),Math.round(x.r7*a.y+x.pE),z,p),l=f.Ua.M(this.xz,U),L=d.U[this.U[0]];
L.buffer=f.OO(l,d.depth);L.S=U;L.uM();d.uM()}else A.hZ.cS(d,v,this.U,this.bu,t,X,g,null,null,h)}else if(this.wF==1){var j=d.U[this.U[0]],a=this.D2.BS;
if(j.VL<=0){var O=this.D2.Gw,F=this.B2,i=null;if(g&&!f.kk.vs(g)&&!F.S.fE(a)){var l=f.m(F.S.k()*4);f.wH(O,a,l,F.S);
O=l;a=F.S}if(this.id==A.ie){var x=this.p7=f.G.B0(X),z=~~(a.r*Math.max(0,x.aX)),p=~~(a.$*Math.max(0,x.r7)),U=new iW(Math.round(x.aX*a.x+x.r2),Math.round(x.r7*a.y+x.pE),z,p),l=f.Ua.M(this.xz,U);
i={buffer:f.OO(l,d.depth),S:U}}else i=A.hZ.zL([O,a],t,X,g);if(i){j.k7.SS=i.buffer;j.k7.rG=i.S;var $=f.m(i.S.k(),d.depth);
f.Po(j.k7.SS,$,3);d.p={N:$,S:j.k7.rG.b()}}}else{var H=f.m(a.k()*4);f.Gj(this.D2.Gw,H,3);var i=A.hZ.zL([H,a],t,X,g);
if(i){j.k7.SS=f.m(i.S.k());f.Po(i.buffer,j.k7.SS,3);j.k7.rG=i.S}this.a2W(d,t,X,g)}j.pv(d,0,0,d.p);if(t!=0){j.s4();
f.s4(d.p)}d.B6=!0;d.uM()}else if(this.wF==2)this.a2W(d,t,X,g)};A.hZ.prototype.a2W=function(d,v,t,h){var X=this.B2.S,g=f.m(X.k()*4);
f.Gj(this.B2.N,g,3);var x=A.hZ.zL([g,X],v,t,h),Z=f.m(x.S.k());f.Po(x.buffer,Z,3);d.p={N:Z,S:x.S};d.B6=!0};
A.hZ.prototype.disable=function(d,v,t,h){if(this.LW)this.eb(d,v,null,!0)};A.amq=function(){A.hZ.call(this,[10,16],A.Oi,"tools/transform")};
A.amq.prototype=new A.hZ;A.aGa=function(){A.hZ.call(this,[7,10],A.Yt,"tools/transform")};A.aGa.prototype=new A.hZ;
A.am4=function(){A.hZ.call(this,[10,48],A.ie,"tools/transform")};A.am4.prototype=new A.hZ;A.Jp=function(d,v,t){A.M$.call(this,d?d:[10,40],v?v:A.sE,t?t:"tools/slice");
this.h8=null;this.u$=null;this.bO={o:0,x:0,y:0};this.iA=null;this.aoq=null;this.OQ=null;this.L7=null};
A.Jp.prototype=new A.M$;A.Jp.x6=function(d,v){var t=-1;for(var n=0;n<d.length;n++){var h=A.Jp.qa(d,n);
if(h[0]<=v.x&&v.x<=h[2]&&h[1]<=v.y&&v.y<=h[3]){t=n;break}}return t};A.Jp.prototype.Oh=function(d,v,t,h,X){if(t==null)return;
this.t1(t);if(d.R=="fromAction"){var g=d.VV,x=g.oN,Z=g.mQ,Y=t.Dy(),a=t.Hq(),z=a==-1?new iW(0,0,t.r,t.$):t.U[a].x1();
if(x=="divide"){if(t.ga.length!=0){var p=t.ga[0],U=A.Jp.qa(t.Wc,p);z=new iW(U[0],U[1],U[2]-U[0],U[3]-U[1]);
t.Wc.splice(p,1);t.ga=[]}Y=[[],[]];for(var l=0;l<2;l++){var L=["Across","Down"][l],j=Z["pixels"+L]?0:1,O=Z[["pixels","slices"][j]+L];
if(O==null)continue;O=O.v;var F=l==0?z.x:z.y,i=l==0?z.r:z.$;if(j==0)for(var n=1;n*O<i;n++){Y[0].push([l,F+n*O]);
Y[1].push(a)}else{var $=Math.floor(i/O);for(var n=1;n<O;n++){Y[0].push([l,F+n*$]);Y[1].push(a)}}}}var H=[z.x,z.x+z.r],b=[z.y,z.y+z.$];
for(var n=0;n<Y[0].length;n++){var r=Y[0][n],W=Math.round(r[1]),V=Y[1][n];if(V!=-1&&V!=a)continue;if(r[0]==0&&H.indexOf(W)==-1)H.push(W);
if(r[0]==1&&b.indexOf(W)==-1)b.push(W)}H.sort(function(s,Q){return s-Q});b.sort(function(s,Q){return s-Q});
for(var y=1;y<b.length;y++)for(var c=1;c<H.length;c++){t.Wc.push(A.Jp.K8());A.Jp.J7(t.Wc,t.Wc.length-1,[H[c-1],b[y-1],H[c],b[y]]);
t.QW=!0}}else if(d.R=="reorder"){if(t.ga.length==0)return;var S=t.Wc,C=t.ga;C.sort(function(s,Q){return s-Q});
console.log(C);var K=S.slice(0),T=[],D=[];for(var n=0;n<C.length;n++){var p=C[n],N=S[p];D.push(N);K.splice(K.indexOf(N),1)}var G=Math.max(0,Math.min(K.length,C[0]-d.dir));
for(var n=0;n<D.length;n++){K.splice(G+n,0,D[n]);T.push(G+n)}t.Wc=K;t.ga=T}else if(d.R=="delete"){var S=t.Wc.slice(0);
for(var n=0;n<t.ga.length;n++)t.Wc.splice(t.Wc.indexOf(S[t.ga[n]]),1);t.ga=[]}else if(d.R=="deleteAll"){t.Wc=[];
t.ga=[]}else{t.Wc[t.ga[0]].v=d;t.QW=!0}this.bp(t)};A.Jp.prototype.enable=function(d,v,t,h,X,g){A.M$.prototype.enable.call(this,d,v,t,h,X,g);
if(!t.rp.Wc){var x=new eG(_.E.c,!0);x.data={R:_.Y.Kf,Ic:lx.lk};v.J(x)}};A.Jp.prototype.disable=function(){this.h8=null;
this.u$=null};A.Jp.prototype.rP=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=A.Jp.x6(d.Wc,g);if(x==-1)return;
this.h8=d;this.u$=v;d.ga=[x];d.QW=!0;if(this.L7==null){this.L7=new jr([{name:[5,4]},{name:[8,11,1],XG:!0}]);
this.L7.P("select",this.sI,this)}var Z=this.L7;Z.parent=v;Z.H();Z.update(d,t);var Y=new eG(_.E.c,!0);
Y.data={R:_.Y.Vw,UZ:Z,x:X.eT+2,y:X.UF+1};v.J(Y)};A.Jp.prototype.sI=function(d){var v=this.L7.Q_()[0],t=this.h8;
if(v==0){this.t1(t);t.Wc.splice(t.ga[0],1);t.ga=[];t.QW=!0;this.bp(t)}if(v==1){var h=new eG(_.E.c,!0);
h.data={R:_.Y.S8,cG:"soptions",K:t.Wc[t.ga[0]].v};this.u$.J(h)}};A.Jp.prototype.li=function(d,v,t,h,X){if(d==null)return;
this.t1(d);var g=d.z.tw(X.x,X.y);g=A.jt.$b(d,g,t,[!0,null,!1]);g.x=Math.round(g.x);g.y=Math.round(g.y);
this.OQ=g;d.Wc.unshift(A.Jp.K8());d.ga=[0];A.Jp.J7(d.Wc,0,[g.x,g.y,g.x+20,g.y+20]);d.QW=!0};A.Jp.prototype.qw=function(d,v,t,h,X){if(this.iA==null)return;
var g=d.z.tw(X.x,X.y),x=this.OQ;g=A.jt.$b(d,g,t,[!0,null,!1]);var Z=A.N4.WC(x,g,h,!0,this.bO);x=Z[0];
g=Z[1];var Y=[x.x,x.y,g.x,g.y];A.Jp.a0B(Y);A.Jp.J7(d.Wc,0,Y);d.QW=!0};A.Jp.prototype.QZ=function(d,v,t,h,X){this.bp(d);
this.OQ=null};A.Jp.prototype.t1=function(d){this.iA=JSON.stringify(d.Wc);this.aoq=JSON.stringify(d.ga)};
A.Jp.prototype.bp=function(d){var v=JSON.stringify(d.Wc);if(v!=this.iA){var t=new bd(this.name,this);
t.data={D2:this.iA,pf:v,au$:this.aoq,aDM:JSON.stringify(d.ga)};d.RS(t)}this.iA=null};A.Jp.prototype.Js=function(d,v){v.Wc=JSON.parse(d.D2);
v.ga=JSON.parse(d.au$);v.QW=!0};A.Jp.prototype.BW=function(d,v){v.Wc=JSON.parse(d.pf);v.ga=JSON.parse(d.aDM);
v.QW=!0};A.Jp.prototype.YF=function(d,v){return v!=null&&v.ga.length!=0&&(d==cQ.on||d==cQ.SY)};A.Jp.prototype.M6=function(d,v,t,h){if(d==null)return;
if(h.A(cQ.on)||h.A(cQ.SY))this.Oh({R:"delete"},v,d,h,t);var X=h.eI();if(X.x!=0||X.y!=0){this.t1(d);A.Jp.J0(d,X);
this.bp(d)}};A.Jp.prototype.Fb=function(d,v,t,h,X){this.bO=d.gD};A.Jp.a7r=function(d,v,t,h){var X=new cK(-v.x,-v.y),g=v.r/t.r,x=v.$/t.$,Z=[0,0,v.r,v.$];
for(var n=0;n<d.length;n++){var Y=A.Jp.qa(d,n);if(h){Y[0]=Math.round(Y[0]*g);Y[1]=Math.round(Y[1]*x);
Y[2]=Math.round(Y[2]*g);Y[3]=Math.round(Y[3]*x)}else{A.Jp.AH(Y,X);A.Jp.akN(Y,Z)}if(Y[0]>=Y[2]||Y[1]>=Y[3]){d.splice(n,1);
n--;continue}A.Jp.J7(d,n,Y)}};A.Jp.J0=function(d,v){var t=d.Wc;for(var n=0;n<d.ga.length;n++){var h=A.Jp.qa(t,d.ga[n]);
A.Jp.AH(h,v);A.Jp.J7(t,d.ga[n],h)}};A.Jp.akN=function(d,v){if(d[0]<v[0])d[0]=v[0];if(d[1]<v[1])d[1]=v[1];
if(v[2]<d[2])d[2]=v[2];if(v[3]<d[3])d[3]=v[3]};A.Jp.AH=function(d,v){d[0]=Math.round(d[0]+v.x);d[2]=Math.round(d[2]+v.x);
d[1]=Math.round(d[1]+v.y);d[3]=Math.round(d[3]+v.y)};A.Jp.J7=function(d,n,v){var t=d[n].v.bounds.v;t.Left.v=v[0];
t.Top.v=v[1];t.Rght.v=v[2];t.Btom.v=v[3]};A.Jp.qa=function(d,n){var v=d[n].v.bounds.v;return[v.Left.v,v.Top.v,v.Rght.v,v.Btom.v,n]};
A.Jp.a0B=function(d){if(d[2]<d[0]){var v=d[0];d[0]=d[2];d[2]=v}if(d[2]==d[0])d[2]++;if(d[3]<d[1]){var v=d[1];
d[1]=d[3];d[3]=v}if(d[3]==d[1])d[3]++};A.Jp.mo=function(d,v){var t=1e9,h=-1e9,X=1e9,g=-1e9;for(var n=0;
n<v.length;n++){var x=A.Jp.qa(d,v[n]);t=Math.min(t,x[0]);X=Math.min(X,x[1]);h=Math.max(h,x[2]);g=Math.max(g,x[3])}return[t,X,h,g]};
A.Jp.K8=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
A.Hg=function(){A.Jp.call(this,[10,41],A.sa,"tools/sselect");this.OQ=null;this.VS=null;this.OZ=null;
this.EB=null;this.aKr=!1};A.Hg.prototype=new A.Jp;A.Hg.prototype.li=function(d,v,t,h,X){if(d==null)return;
var g=d.z.tw(X.x,X.y),x=A.Hg.agF(g,4/d.z.OI,d.Wc,d.ga);x.pop();if(x.length!=0){this.OQ=g;this.OZ=x;this.t1(d);
return}var Z=d.Wc,Y=A.Jp.x6(Z,g);if(Y==-1)d.ga=[];else{var a=d.ga.indexOf(Y);if(h.A(cQ.cm)){if(a==-1)d.ga.push(Y);
else d.ga.splice(a,1)}else{d.ga.sort(function(j,O){return j-O});if(a==-1)d.ga=[Y];this.OQ=g;this.t1(d);
this.VS=A.Jp.mo(Z,d.ga);this.EB=[];for(var n=0;n<d.ga.length;n++)this.EB.push(A.Jp.qa(Z,d.ga[n]));if(h.A(cQ.io)){var z=Z.slice(0),p=d.ga,U=[];
for(var n=0;n<p.length;n++){var Y=p[n],l=z[Y],L=Z.indexOf(l);U.push(L);Z.splice(L,0,f.v(l))}d.ga=U}}}d.QW=!0};
A.Hg.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y);if(this.OQ==null){var x=A.Hg.agF(g,4/d.z.OI,d.Wc,d.ga),Z=x.pop(),Y=x.length==0?"default":["ew","nwse","ns","nesw"][Z]+"-resize",a=new eG(_.E.c,!0);
a.data={R:_.Y.TG,Cn:Y};v.J(a);return}if(!this.aKr&&g.fE(this.OQ))return;this.aKr=!0;var z=d.Wc,x=this.OZ;
if(x){g=A.jt.$b(d,g,t,[!0,null,!1]);var p=Math.round(g.x),U=Math.round(g.y);for(var n=0;n<x.length;n+=2){var l=A.Jp.qa(z,x[n]),L=x[n+1];
l[L]=(L&1)==0?p:U;A.Jp.a0B(l);A.Jp.J7(z,x[n],l)}}else{var j=g.hP(this.OQ),O=this.VS.slice(0);A.Jp.AH(O,j);
var F=new iW(O[0],O[1],O[2]-O[0],O[3]-O[1]),i=A.jt.YY(d,F,t,[!0,null,!1],!0);A.jt.Wo(d,F,i);j.x+=i[0];
j.y+=i[1];for(var n=0;n<d.ga.length;n++)A.Jp.J7(z,d.ga[n],this.EB[n]);A.Jp.J0(d,j)}d.QW=!0};A.Hg.prototype.QZ=function(d,v,t,h,X){if(this.OQ==null)return;
this.bp(d);d.W.O1=null;d.QW=!0;this.OQ=null;this.OZ=null;this.EB=null;this.aKr=!1};A.Hg.agF=function(d,v,t,h){var X=d.x,g=d.y,x=[],Z=-1,Y=[];
for(var n=0;n<h.length;n++){var a=h[n],z=A.Jp.qa(t,a),p=z[0],U=z[1],l=z[2],L=z[3];if(X<p-v||l+v<X||g<U-v||L+v<g)continue;
var j=[X<p+v,g<U+v,l-v<X,L-v<g],O=-1;for(var F=0;F<4;F++){if(j[F]&&j[F+1&3])O=1+2*(F&1);if(j[F])x.push(a,F)}if(O==-1){if(j[0]||j[2])O=0;
if(j[1]||j[3])O=2}if(O!=-1){Z=O;Y.push(a)}}var i=x.length;for(var n=0;n<i;n+=2){var a=x[n],$=x[n+1],H=A.Jp.qa(t,a)[$];
for(var F=0;F<h.length;F++){var b=h[F];if(Y.indexOf(b)!=-1)continue;var z=A.Jp.qa(t,b);if(z[$&1]==H)x.push(b,$&1);
if(z[2+($&1)]==H)x.push(b,2+($&1))}}x.push(Z);return x};A.mN=function(d,v,t){A.M$.call(this,d,v,t);this.zh=null;
this.a44=null;this.l9=null;this.m6=null;this.Ut=null;this.di=null;this.NT=null;this.xe=[]};A.mN.prototype=new A.M$;
A.mN.prototype.Ht=function(){return!0};A.mN.UX=function(d){if(d==null)return!1;if(d.l.length!=1)return!1;
var v=d.U[d.l[0]];return v.add.SoLd||d.fi(!1)};A.mN.prototype.Jx=function(d,v){return A.mN.UX(d)};A.mN.prototype.YF=function(d,v){return d==cQ.on||d==cQ.SY};
A.mN.prototype.enable=function(d,v,t,h,X,g,x){this.a44=g.Ws;var Z=g.Ws,Y,L=null;if(Z){var a=d.U[Z.B];
if(a.add.SoLd.filterFX!=null){var z=a.add.SoLd.filterFX.v.filterFXList.v;if(z[Z.index])Y=f.v(z[Z.index].v.Fltr.v)}}var a=d.U[d.l[0]],p=a.buffer,U=a.S,l=a.add.SoLd;
if(l){var j=l.nonAffineTransform.v;L=[];for(var n=0;n<4;n++)L.push(j[n*2].v,j[n*2+1].v);if(Y==null)this.JM("edit",v);
var O=a.Ip(d);p=O.buffer;U=O.S}this.m6={buffer:p.slice(0),S:U.b(),se:L};this.Gy(Y,d,v,g.amD);this.YW(v);
var F=new eG(_.E.c,!0);F.data={R:_.Y.TG,Cn:"default"};v.J(F)};A.mN.prototype.YW=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.a0,T:this.id,Ic:this.Ut};d.J(v)};A.mN.prototype.disable=function(d,v,t,h){if(this.di)this.eb(d,v,!0)};
A.mN.prototype.JM=function(d,v){var t=new eG(_.E.F,!0);t.T=A.bH;t.data={R:d,Ws:this.a44,zh:this.zh,k1:this.l9};
v.J(t)};A.mN.prototype.eb=function(d,v,t){this.JM("confirm",v);this.escape(d,v,t)};A.mN.prototype.ns=function(d,v,t){this.JM("cancel",v);
this.escape(d,v,t)};A.ca=function(d,v,t){A.mN.call(this,[10,46],A.IH,"tools/transform");this.zh="rigidTransform";
this.Ut=[1,1,2,!0]};A.ca.prototype=new A.mN;A.ca.prototype.Gy=function(d,v,t){this.l9=d?d:A.ca.jA(this.m6,this.Ut);
this.di=A.ca.CN(this.l9,this.Ut);this.Ib();this.KC(v);if(d==null)this.iq(t)};A.ca.prototype.Ib=function(d){var v=this.di;
this.xe=[];for(var n=0;n<v.length;n++){var t=v[n];for(var h=0;h<t.l.length;h++)this.xe.push([n,t.l[n]]);
t.Y3=f.Zb.akT(t);if(d)f.Zb.amT(t)}};A.ca.prototype.Fb=function(d,v,t,h){if(d.Cs=="commit")this.eb(t,v,!0);
else if(d.Cs=="cancel")this.ns(t,v,!0);else if(d.Cs=="prm"){var X=!1;for(var n=0;n<3;n++)if(this.Ut[n]!=d.Ic[n])X=!0;
this.Ut=d.Ic;if(X){this.l9=A.ca.jA(this.m6,this.Ut,this.l9);this.di=A.ca.CN(this.l9,this.Ut);this.Ib(!0);
this.iq(v)}this.KC(t)}else if(d.Cs=="moveDepth"){var g=this.di;for(var x=0;x<g.length;x++){var Z=g[x];
for(var n=0;n<Z.l.length;n++){var Y=Z.l[n];Z.C6[Y]+=d.a0C?1:-1}}this.iq(v)}};A.ca.prototype.M6=function(d,v,t,h){var X=h.eI();
if(h.A(cQ.u0))this.eb(d,v,!0);else if(h.A(cQ.l5))this.ns(d,v,!0);else if(h.A(cQ.on)||h.A(cQ.SY)){var g=this.di;
for(var x=0;x<g.length;x++){var Z=g[x];Z.l.sort(function(z,p){return p-z});for(var n=0;n<Z.l.length;
n++){var Y=Z.l[n],a=Y*2;Z.C6.splice(Y,1);Z.Qd.splice(Y,1);Z.Nw.splice(Y,1);Z.Jn.splice(Y,1);Z.c9.splice(a,2);
Z._C.splice(a,2)}Z.l=[];if(Z.Jn.length==0){Z.acI=Z.gI.slice(0);Z.Jo=Z.gI.slice(0)}}this.Ib(!0);this.iq(v);
this.KC(d)}else if(X.x!=0||X.y!=0){this.an9(d,X.x,X.y,v);this.b4=null}};A.ca.prototype.escape=function(d,v,t){d.W.sG=null;
d.W.N8=[];d.W._r=[];d.QW=!0;this.di=null;var h=new eG(_.E.c,!0);h.data={R:_.Y.ri};if(t)v.J(h)};A.ca.prototype.li=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=g.x,Z=g.y,Y=this.di,a=null,z=[0,2,4,1.2,1.2,1.2],p=-1,U=A.RV(d,X);
for(var n=0;n<Y.length;n++){var l=Y[n],L=f.Q.kq(l._C,x,Z,U);if(L!=-1)a=[n,L];if(p==-1&&f.Zb.amj.ajg(l.Jo,l.Bm,x,Z))p=n}if(a==null&&p!=-1){var l=Y[p];
A.ca.a4z(l,x,Z,x,Z,0);a=[p,l.Jn.length-1];l.Y3=f.Zb.akT(l)}this.NT=g;if(a){var j=Y[a[0]].l.indexOf(a[1])!=-1;
if(h.A(cQ.cm)&&!j){Y[a[0]].l.push(a[1]);this.xe.push(a)}else if(!j){Y[a[0]].l=[a[1]];this.xe=[a]}}this.KC(d)};
A.ca.a4z=function(d,v,t,h,X,g){var x=f.Q.kq(d.Jo,v,t);d.Jn.push(x);d._C.push(h,X);d.c9.push(d.Jo[x*2]-v,d.Jo[x*2+1]-t);
d.Nw.push(0);d.Qd.push(!1);d.C6.push(g)};A.ca.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.NT;
if(x)this.an9(d,g.x-x.x,g.y-x.y,v)};A.ca.prototype.an9=function(d,v,t,h){var X={},g=this.xe,x=this.di;
if(this.b4==null){this.b4=[];for(var n=0;n<x.length;n++)this.b4.push(x[n]._C.slice(0))}for(var n=0;n<g.length;
n++){var Z=this.xe[n],Y=Z[0],a=x[Z[0]],z=Z[1]*2;a._C[z+0]=this.b4[Y][z+0]+v;a._C[z+1]=this.b4[Y][z+1]+t;
X[Y]=Y}for(var Y in X)f.Zb.amT(this.di[X[Y]]);this.KC(d);this.iq(h)};A.ca.prototype.QZ=function(d,v,t,h,X){this.NT=null;
this.b4=null};A.ca.prototype.iq=function(d){A.ca.ae2(this.di,this.Ut,this.l9);this.JM("edit",d)};A.ca.prototype.KC=function(d){var v=this.di,t=this.l9;
d.W.sG={I:[],s2:[]};d.W.N8=[];d.W._r=[];for(var n=0;n<v.length;n++){var h=v[n];for(var X=0;X<h._C.length;
X+=2){var g=d.W._r;if(h.l.indexOf(X>>>1)!=-1)g=d.W.N8;g.push(h._C[X],h._C[X+1])}if(this.Ut[3])f.Q.concat(d.W.sG,f.Q.a13(h.Jo,h.Bm))}d.QW=!0};
A.ca.jA=function(d,v,t){var h=d.buffer,X=d.S,g=d.se,x=e0.yu("rigidTransform");if(g)for(var n=0;n<4;n++){x["PuX"+n].v=g[n*2];
x["PuY"+n].v=g[n*2+1]}var Z=x.puppetShapeList.v,Y=f.Zb.av8(h,X.r,X.$,v[1],v[2]),a=[];for(var z=0;z<Y.length;
z++){var p={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
p.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=Y[z];Z.push({t:"Objc",v:p});var l=U.gI.slice(0);f.Q.M(l,new gi(1,0,0,1,X.x,X.y),l);var L=U.Bm;
for(var n=0;n<L.length;n+=3){var j=L[n+1];L[n+1]=L[n+2];L[n+2]=j}a.push({Bm:L,gI:l,acI:l,Jo:l,Jn:[],c9:[],_C:[],Y3:null,l:[],Nw:[],Qd:[],C6:[]})}if(t){var O=A.ca.CN(t,[]),F=a[0];
for(var n=0;n<O.length;n++){var i=O[n];for(var $=0;$<i.l.length;$++)F.l.push((F._C.length>>>1)+i.l[$]);
for(var $=0;$<i.Jn.length;$++){var H=i.Jn[$]*2,b=i.gI[H]-i.c9[$*2],r=i.gI[H+1]-i.c9[$*2+1];A.ca.a4z(F,b,r,i._C[$*2],i._C[$*2+1],i.C6[$])}}}A.ca.ae2(a,v,x);
return x};A.ca.CN=function(d,v){var t=A.hZ.Q9,h=d.puppetShapeList.v,X=[];for(var g=0;g<h.length;g++){var x=h[g].v;
v[0]=x.meshRigidity.v-1;v[1]=x.meshQuality.v-1;v[2]=x.meshExpansion.v;var Z=x.pinVertexIndices.v.length,Y=x.meshBoundaryPath.v.pathComponents.v;
if(Y.length!=0){var a=Y[0].v.SbpL.v[0].v.Pts;a.v=[]}var z=new Uint32Array(new Uint8Array(x.indexArray.v).buffer),p=new Float32Array(new Uint8Array(x.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(x.deformedVertexArray.v).buffer),l=[],L=[],j=[];
for(var n=0;n<z.length;n++)l.push(z[n]);for(var n=0;n<p.length;n++){L.push(p[n]);j.push(U[n])}var O=t(x.pinVertexIndices),F=t(x.pinOffsets),i=t(x.posFinalPins),$=t(x.PnRt),H=t(x.PnOv),b=t(x.PnDp),r=t(x.selectedPin);
X.push({Bm:l,gI:L,acI:j.slice(0),Jo:j,Jn:O,c9:F,_C:i,Y3:null,Nw:$,Qd:H,C6:b,l:r})}return X};A.ca.ae2=function(d,v,t){function h(U,l){var L=[];
for(var n=0;n<U.length;n++)L.push({t:l,v:U[n]});return L}function X(U,l,L){var j=new(L?Uint32Array:Float32Array)(U),O=new Uint8Array(j.buffer);
for(var n=0;n<O.length;n++)l[n]=O[n]}var g=t.puppetShapeList.v;for(var x=0;x<g.length;x++){var Z=d[x],Y=g[x].v;
Y.meshRigidity.v=v[0]+1;Y.meshQuality.v=v[1]+1;Y.meshExpansion.v=v[2];X(Z.Bm,Y.indexArray.v,!0);X(Z.gI,Y.originalVertexArray.v);
X(Z.Jo,Y.deformedVertexArray.v);var a=[];for(var n=0;n<Z.Jn.length;n++){var z=Z.Jn[n]*2,p=n*2;a[p]=Z.gI[z]-Z.c9[p];
a[p+1]=Z.gI[z+1]-Z.c9[p+1]}Y.PinP.v=h(a,"doub");Y.pinVertexIndices.v=h(Z.Jn,"long");Y.pinOffsets.v=h(Z.c9,"doub");
Y.posFinalPins.v=h(Z._C,"doub");Y.PnRt.v=h(Z.Nw,"long");Y.PnOv.v=h(Z.Qd,"bool");Y.PnDp.v=h(Z.C6,"doub");
Y.selectedPin.v=h(Z.l,"long")}};A.mX=function(d,v,t){A.mN.call(this,"Perspective Warp",A.w0,"tools/transform");
this.zh="perspectiveWarpTransform";this.As=-1;this.Y2=-1;this.GN=!1;this.acW=!1};A.mX.prototype=new A.mN;
A.mX.prototype.Gy=function(d,v,t){this.l9=d?d:e0.yu(this.zh);this.di=f.xn.afh(this.l9);if(this.m6.se){this.di.se=this.m6.se;
f.xn.DM(this.di,this.l9)}this.Ut=this.di.y1;this.YW(t);this.KC(v)};A.mX.prototype.li=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.di,Z=x.y1,Y=Z==0?x.$w:x._C;
this.GN=!0;var a=A.RV(d,X);this.As=f.Q.kq(Y,g.x,g.y,a);if(Z==0&&this.As==-1){var z=Y.length>>>1,p=-(d.r+d.$>>>4);
x.E1.push(z,z+1,z+2,z+3);Y.push(g.x,g.y,g.x+p,g.y,g.x+p,g.y+p,g.x,g.y+p);x._C=Y.slice(0);this.acW=!0;
this.As=z;f.xn.DM(x,this.l9);this.KC(d)}if(this.As!=-1)this.Y2=this.As};A.mX.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.di,Z=x.y1,Y=Z==0?x.$w:x._C,a=x.E1;
if(this.GN){var z=this.As,p=Y.slice(0);p[z*2]=g.x;p[z*2+1]=g.y;for(var n=0;n<a.length;n+=4){var U=[];
for(var l=0;l<4;l++)U.push(p[2*a[n+l]],p[2*a[n+l]+1]);if(!d3.Tf(U))return}if(Z==0){x.$w=p;if(this.acW)x._C=p.slice(0)}else{x._C=p;
this.acW=!1}f.xn.DM(x,this.l9);if(Z==1)this.JM("edit",v)}else{var L=A.RV(d,X);this.As=f.Q.kq(Y,g.x,g.y,L)}this.KC(d)};
A.mX.prototype.QZ=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.di,Z=x.y1,Y=Z==0?x.$w:x._C,a=x.E1,z=this.As;
this.GN=!1;if(Z==0&&z!=-1){var p=A.RV(d,X),U=f.Q.kq(Y,g.x,g.y,p,z);if(U!=-1){if(U<z){var l=z;z=U;U=l}var L=a.slice(0),j=Y.slice(0);
j.splice(U*2,2);for(var n=0;n<L.length;n++){if(L[n]==U)L[n]=z;else if(L[n]>U)L[n]--}for(var n=0;n<L.length;
n+=4){for(var O=0;O<4;O++)for(var F=O+1;F<4;F++)if(L[n+O]==L[n+F])return}x.E1=L;if(Z==0)x.$w=j;else x._C=j;
f.xn.DM(x,this.l9);this.KC(d)}}};A.mX.prototype.M6=function(d,v,t,h,X){var g=h.eI(),x=this.Y2,Z=this.di,Y=Z.y1;
if(h.A(cQ.u0))this.eb(d,v,!0);else if(h.A(cQ.l5))this.ns(d,v,!0);else if(h.A(cQ.on)||h.A(cQ.SY)||X)if(Y==0&&x!=-1){var a=Z.E1;
for(var n=0;n<a.length;n+=4){if(a[n]==x||a[n+1]==x||a[n+2]==x||a[n+3]==x){a.splice(n,4);n-=4}}var z=[];
for(var n=0;n<Z.$w.length;n++)z.push(n);for(var n=(Z.$w.length>>>1)-1;n>=0;n--){if(a.indexOf(n)==-1){z.splice(n,1);
Z.$w.splice(n*2,2);Z._C.splice(n*2,2)}}for(var n=0;n<a.length;n++)a[n]=z.indexOf(a[n]);f.xn.DM(Z,this.l9);
this.Y2=-1;this.KC(d)}};A.mX.prototype.Fb=function(d,v,t,h){if(d.Cs=="commit")this.eb(t,v,!0);else if(d.Cs=="cancel")this.ns(t,v,!0);
else if(d.Cs=="delete")this.M6(t,v,null,h,!0);else{this.di.y1=d.Ic;f.xn.DM(this.di,this.l9);this.KC(t);
this.JM("edit",v)}};A.mX.prototype.escape=function(d,v,t){d.W.gA=null;d.W.N8=[];d.W._r=[];d.QW=!0;this.di=null;
var h=new eG(_.E.c,!0);h.data={R:_.Y.ri};if(t)v.J(h)};A.mX.prototype.KC=function(d){var v=this.di,t=this.As,h=this.Y2,X=v.y1==0?v.$w:v._C,g=v.E1;
d.W._r=X.slice(0);d.W.N8=[];if(h>t){var x=t;t=h;h=x}if(t!=-1){d.W.N8.push(X[t*2],X[t*2+1]);d.W._r.splice(t*2,2)}if(h!=-1&&h!=t){d.W.N8.push(X[h*2],X[h*2+1]);
d.W._r.splice(h*2,2)}d.W.gA={I:[],s2:[]};for(var n=0;n<g.length;n+=4){d.W.gA.s2.push("M","L","L","L","Z");
for(var Z=0;Z<4;Z++)d.W.gA.I.push(X[2*g[n+Z]],X[2*g[n+Z]+1])}d.QW=!0};A.JH=function(){A.mN.call(this,"Blur Gallery",A.rX,"tools/ruler");
this.zh="blurbTransform";this.Ut=[0,[],null];this.As=-1};A.JH.prototype=new A.mN;A.JH.prototype.Gy=function(d,v,t,h){this.di={};
var X=d==null;if(d==null){d=e0.yu(this.zh);f.NJ.asA(d,h,v.r/2,v.$/2);var g=[!1,!1,!1,!1,!1,!1];g[h]=!0;
f.NJ.ash(d,g)}this.l9=d;this.Ut[0]=f.NJ.a2G(d);this.Ut[1]=f.NJ.asQ(d);this.KC(v);if(X)this.JM("edit",t)};
A.JH.prototype.M6=function(d,v,t,h){if(h.A(cQ.u0))this.eb(d,v,!0);else if(h.A(cQ.l5))this.ns(d,v,!0);
else if(h.A(cQ.on)||h.A(cQ.SY)){var X=this.As;if(X==-1)return;var g=this.Ut[0],x=f.NJ.Xm(this.l9)[0],Z=x[g];
if(g==0)Z.splice(X,1);if(g==1||g==5)Z.splice(Math.floor(X/6),1);if(g==3)Z.splice(Math.floor(X/5),1);
if(g==4)Z.splice(Math.floor(X/4),1);f.NJ.WL(x,this.l9);f.NJ.aFJ(this.l9,g);this.As=-1;this.KC(d);this.JM("edit",v)}};
A.JH.prototype.Fb=function(d,v,t,h){if(d.Cs=="commit")this.eb(t,v,!0);else if(d.Cs=="cancel")this.ns(t,v,!0);
else{this.Ut=d.Ic;var X=this.Ut[0],g=this.As;f.NJ.ash(this.l9,this.Ut[1]);if(this.Ut[2]){var x=f.NJ.Xm(this.l9)[0],Z=x[X];
if(X==0)Z[g][2]=this.Ut[2][0];if(X==1||X==5)Z[Math.floor(g/6)][14]=this.Ut[2][0];if(X==3)Z[Math.floor(g/5)][10]=this.Ut[2][0];
if(X==4){Z[0][4]=this.Ut[2][0]/100;var Y=(g&3)<2?0:5,a=Z[Math.floor(g/4)],z=a[Y],p=a[Y+1],U=a[Y+2]-z,l=a[Y+3]-p,L=Math.sqrt(U*U+l*l),j=this.Ut[2][1];
if(L==0){a[Y+2]=z+j;a[Y+3]=p}else{a[Y+2]=z+j*U/L;a[Y+3]=p+j*l/L}}f.NJ.WL(x,this.l9)}f.NJ.aFJ(this.l9,X);
this.KC(t);this.JM("edit",v)}};A.JH.prototype.escape=function(d,v,t){d.W.IJ=null;d.W.gA=null;d.W.jC=null;
d.W.N8=[];d.W._r=[];d.QW=!0;this.di=null;var h=new eG(_.E.c,!0);h.data={R:_.Y.ri};if(t)v.J(h)};A.JH.prototype.KC=function(d){var v=f.NJ.Xm(this.l9)[0];
d.W.N8=[];d.W._r=[];var t=d.W.IJ={I:[],s2:[]},h=d.W.gA={I:[],s2:[]},X=d.W.jC={I:[],s2:[]};this.xe=[];
this.amJ=[];var g=this.Ut[0],x=this.As,Z=v[g];for(var n=0;n<Z.length;n++){var Y=Z[n];if(g==0){if(n==x){d.W.N8.push(Y[0],Y[1]);
this.Ut[2]=[Y[2]]}else d.W._r.push(Y[0],Y[1]);this.amJ.push([]);this.xe.push(Y[0],Y[1])}else if(g==1||g==5){var a=f.NJ.a1z(Y);
a.zJ();var z=[0,-1,1,0,0,1,-1,0,0,0,1-Y[10],0];f.Q.M(z,a,z);for(var p=0;p<z.length;p+=2){if(x==n*6+(p>>>1)){d.W.N8.push(z[p],z[p+1]);
this.Ut[2]=[Y[14]]}else d.W._r.push(z[p],z[p+1]);this.xe.push(z[p],z[p+1])}var U=f.Q.lR(f.t.I7.ZH(-1,-1,2,2));
f.Q.concat(t,U,a)}else if(g==3){var l=Y[0],L=Y[1],j=Y[2]-Y[0],O=Y[3]-Y[1],F=Math.sqrt(j*j+O*O),i=O*1e4/F,$=-j*1e4/F;
for(var p=0;p<10;p+=2){if(x==n*5+(p>>>1)){d.W.N8.push(Y[p],Y[p+1]);this.Ut[2]=[Y[10]]}else d.W._r.push(Y[p],Y[p+1]);
this.xe.push(Y[p],Y[p+1]);if(p==0)continue;if(Math.floor(x/5)!=n)continue;t.I.push(Y[p]-i,Y[p+1]-$,Y[p]+i,Y[p+1]+$);
t.s2.push("M","L")}}else if(g==4){X.I.push(Y[0],Y[1],Y[5],Y[6]);X.s2.push("M","L");for(var p=0;p<2;p++){var H=p*5,l=Y[H],L=Y[H+1],b=Y[H+2],r=Y[H+3],j=b-l,O=r-L,W=Math.sqrt(j*j+O*O),V=25;
if(W!=0){j/=W;O/=W}if((x&14)==n*4+p*2){d.W.N8.push(l,L,b,r);this.Ut[2]=[Y[4]*100,W]}else d.W._r.push(l,L,b,r);
h.I.push(l,L,b,r);h.s2.push("M","L");this.xe.push(l,L,b,r);if(W==0)continue;var y=-j*V*2,c=-O*V*2;h.I.push(b,r,b+(-O*V+y),r+(j*V+c));
h.I.push(b,r,b+(O*V+y),r+(-j*V+c));h.s2.push("M","L","M","L","M","L")}}}d.QW=!0};A.JH.prototype.qw=function(d,v,t,h,X){function g(e,n,w){var r=e[n]-e[w],W=e[n+1]-e[w+1];
return Math.sqrt(r*r+W*W)}var x=d.z.tw(X.x,X.y),Z=f.Q.kq(this.xe,x.x,x.y,6/d.z.OI);if(this.NT){var Y=this.As,a=this.Ut,z=a[0],p=f.NJ.Xm(this.l9)[0],U=p[z];
if(z==0){U[Y][0]=x.x;U[Y][1]=x.y}if(z==1||z==5){var l=Math.floor(Y/6),L=Y-l*6,j=U[l],O=g(j,0,2)/2,F=g(j,2,4)/2,i=j[8],$=j[9],H=Math.atan2(-j[3]+j[1],j[2]-j[0]),b=j[10],r=x.x-i,W=x.y-$,V=Math.sqrt(r*r+W*W);
if(L<4){H=Math.atan2(-W,r)+(-1+L)*Math.PI/2;if(L==0||L==2)F=V;else O=V}if(L==4){i=x.x;$=x.y}if(L==5)b=Math.max(0,Math.min(1,1-V/O));
var y=new gi;y.scale(O,F);y.rotate(H);y.translate(i,$);var c=U[l]=[-1,-1,1,-1,1,1,-1,1,0,0];f.Q.M(c,y,c);
c.push(b,b,b,b,j[14])}if(z==3){var l=Math.floor(Y/5),L=Y-l*5,j=U[l],S=j[0],C=j[1],K=g(j,0,2),T=g(j,0,4),D=g(j,0,6),N=g(j,0,8),H=Math.atan2(-j[3]+j[1],j[2]-j[0]),r=x.x-S,W=x.y-C,V=Math.sqrt(r*r+W*W);
if(L==0){S=x.x;C=x.y}if(L==1)K=Math.max(D*1.1,V);if(L==2)T=Math.max(N*1.1,V);if(L==3)D=Math.min(K,V);
if(L==4)N=Math.min(T,V);if(L==1)H=Math.atan2(-W,r);if(L==2)H=Math.atan2(W,-r);var c=U[l]=[0,0,-K,0,T,0,-D,0,N,0],y=new gi;
y.rotate(H+Math.PI);y.translate(S,C);f.Q.M(c,y,c);c.push(j[10])}if(z==4){var l=Math.floor(Y/4),L=Y-l*4,j=U[l],G=L<2?0:5;
if((L&1)==0){var s=[j[2]-j[0],j[3]-j[1],j[7]-j[5],j[8]-j[6]],Q=Math.atan2(-(j[6]-j[1]),j[5]-j[0]);j[G]=x.x;
j[G+1]=x.y;var q=Math.atan2(-(j[6]-j[1]),j[5]-j[0]),y=new gi;y.rotate(q-Q);for(var n=0;n<2;n++){var R=new cK(s[n*2],s[n*2+1]);
R=y._V(R);j[n*5+2]=j[n*5]+R.x;j[n*5+3]=j[n*5+1]+R.y}}else{j[G+2]=x.x;j[G+3]=x.y}}f.NJ.WL(p,this.l9);
f.NJ.aFJ(this.l9,z);this.KC(d)}else{var m="default";if(Z!=-1)m="pointer";var E=new eG(_.E.c,!0);E.data={R:_.Y.TG,Cn:m};
v.J(E)}};A.JH.prototype.li=function(d,v,t,h,X){var g=this.Ut[0],x=d.z.tw(X.x,X.y),Z=x.x,Y=x.y,a=f.Q.kq(this.xe,Z,Y,10/d.z.OI);
if(a==-1){a=f.NJ.asA(this.l9,g,Z,Y)}this.NT=x;this.As=a;this.KC(d)};A.JH.prototype.QZ=function(d,v,t,h,X){if(this.NT){this.JM("edit",v);
this.YW(v)}this.NT=null};A.ZP=function(){A.Oe.call(this,[10,44],A.a47,"tools/oselect");this.yG="crosshair";
this.aut=0};A.ZP.prototype=new A.Oe;A.ZP.prototype.KT=function(d,v,t,h){if(Math.random()<1/(1+this.aut)){alert("The cross should be fully inside the object.",3500);
this.aut++}};A.ZP.prototype.Lg=function(d,v,t,h){A.dR.Sv(d,A.Oe.G6,this.u$);if(!h.n2||!this.up)return;
var X=this.pT(d,t,!1),g=X.r,x=X.$,Z=X.x,Y=X.y,a=X.x+g,z=X.y+x,p=Z+g/2,U=Y+x/2,l=A.ZP.az1;d.W.sG={I:[Z,Y,a,Y,a,z,Z,z,p-g*l,U,p+g*l,U,p,U-x*l,p,U+x*l],s2:"M L L L Z M L M L".split(" ")};
d.QW=!0};A.ZP.az1=.12;A.ZP.prototype.qz=function(d,v,t,h){d.W.sG=null;d.QW=!0;this.finish(d,v,t,h)};
A.ZP.prototype.getSelection=function(d,v,t,h){if(this.uL.fE(this.dg)||!this.up)return null;var X=this.pT(d,t,!1),g=d.U[d.l[0]];
if(X.HP()||!X.GD(g.S))return null;return A.Oe.Lb("ObSl",X)};A.dR=function(){A.mE.call(this,[10,37],A.lj,"tools/qselect");
this.ZG="qselect"};A.dR.prototype=new A.mE;A.dR.prototype.li=function(d,v,t,h,X){if(d.l.length==0){alert("Select a layer first.");
return}A.dR.Sv(d,A.Oe.G6,v,!0);this.it(d,t,h,X,1);if(this.N6==null)return;this.da(d)};A.dR.prototype.qw=function(d,v,t,h,X){this.zN(d,v,t);
A.dR.Sv(d,A.Oe.G6,v);if(this.v8)this.Q7(d,t,X);if(this.N6==null)return;if(!X.n2)return;var g=this.MF(d,t,h,X);
if(g!=1)this.da(d)};A.dR.Sv=function(d,v,t,h){if(d.l.length==0)return;if(d&&v.key!=A.dR.EZ(d)){v.key=A.dR.EZ(d);
var X=d.U[d.l[0]].S.k(),x="Image Analysis ...";if(X==0)return;var g=X>1e6&&h!=!0,Z=new eG(_.E.c,!0);
Z.data={R:_.Y.Wq,jH:x};if(g)t.J(Z);var Y=function(){var a=A.dR.apu(d);for(var z in a)v[z]=a[z];var Z=new eG(_.E.c,!0);
Z.data={R:_.Y.DQ,jH:x};if(g)t.J(Z)};if(h)Y();else setTimeout(Y,30)}};A.dR.EZ=function(d){var v=d.l[0],t=d.U[v],h=t.S,X=h.r,g=h.$,x=X*g,Z=f.OO(t.buffer,8);
return[v,h.x,h.y,X,g,Z[0],Z[1],Z[2],Z[3]].join(",")};A.dR.apu=function(d){var v=d.l[0],t=d.U[v],h=t.S,X=h.r,g=h.$,x=X*g,Z=f.OO(t.buffer,8),Y=Date.now(),a=f.m(x);
a.fill(128);var z=f.Db.ZV(Z,X,g);console.log(Date.now()-Y);var p={key:A.dR.EZ(d),Xn:Z,S:h.b(),F0:X,uV:g,rE:12,rR:a,TQ:z,p:f.m(x),S1:null,p2:null,VF:null};
A.dR.Nh(p,null,d);return p};A.dR.Nh=function(d,v,t){var h=d.F0,X=d.uV,g=0,x=0,Z=Date.now(),Y=d.S1!=null&&f.Db.a1u(d.S1.Bm,d.S1.qB,d.rR)==-1;
g=Date.now()-Z;Z=Date.now();if(!Y){var a=f.Db.a1u(d.TQ.Bm,d.TQ.qB,d.rR),z=0;while(a!=-1){var p=[],U=[],l=d.TQ.Bm;
for(var L=0;L<X;L++)for(var j=0;j<h;j++){var n=L*h+j;if(l[n]==a){var O=d.rR[n];if(O==0)p.push(j,L);if(O==255)U.push(j,L)}}var F=t.U[t.l[0]],i=f.OO(F.buffer,8);
f.Db.ZV.f5(i,h,X,d.TQ,p,U);a=f.Db.a1u(d.TQ.Bm,d.TQ.qB,d.rR);z++;if(z>=10){console.log("too many subdivisions");
break}}d.S1=f.Db.TN(d.TQ,h,X,d.rR,d.rE);d.p2=f.Db.a2H(d.Xn,h,X,d.S1.Bm,d.S1.qB);d.VF=[d.p2[0].slice(0),[]];
x=Date.now()-Z;Z=Date.now()}var Z=Date.now();if(v){d.VF[0].set(d.p2[0]);var $=d.p2[1],H=d.VF[1];for(var b=0;
b<$.length;b++)H[b]=$[b].slice(0);f.Db.aqu(d.S1.Bm,h,X,d.S1.qB,d.rR,d.p,d.VF)}};A.jr=function(){A.M$.call(this,[10,50],A.mH,"tools/artb");
this.Nm=null;this.arg=!1;this.LW=null;this.iG=!1;this.ao$=null;this.nY=100;this.t_=null;this.lI=0};A.jr.prototype=new A.M$;
A.jr.prototype.Oh=function(d,v,t,h,X){this.tI(t,d.abc,v,d.y1)};A.jr.aeo=function(d,v){var t=d[0],h=0,X=0;
if(t==0)X=-1;else if(t==1)h=1;else if(t==2)X=1;else h=-1;return[20/v.eQ,d[1]+h*60/v.eQ,d[2]+X*60/v.eQ]};
A.jr.prototype.Fb=function(d,v,t,h,X){this.Nm=d.Ic;this.lI=Date.now()};A.jr.prototype.zl=function(d,v,t,h){if(t.tN!=this.id)return;
if(d==null||d.l.length!=1){this.nf(d);return}var X=d.l[0],g=d.U[X],x=g.add.artb;if(x==null){this.nf(d);
return}if(this.iG)return;if(Date.now()-this.lI>50){this.Nm={};var Z=["artboardBackgroundType","Clr"];
for(var n=0;n<Z.length;n++)if(x[Z[n]])this.Nm[Z[n]]=f.v(x[Z[n]]);var Y=new eG(_.E.c,!0);Y.data={R:_.Y.a0,T:this.id,IW:this.Nm};
v.J(Y)}var a=g.x1(),z=f.Q.Ya(a).I,p=this.LW=new d3(z,!0,!1,!1,!0,!1,3,!1);p.Yj(d,t,!1);var U={I:[1,0],s2:["M"]};
for(var n=1;n<30;n++){var l=Math.PI*2*n/30;U.I.push(Math.cos(l),Math.sin(l));U.s2.push("L")}U.s2.push("Z","M","L","M","L");
U.I.push(-.5,0,.5,0,0,-.5,0,.5);var L=a.x+a.r/2,j=a.y+a.$/2,O=this.nY*1.1,F=this.ao$=[L,a.y,a.x+a.r,j,L,a.y+a.$,a.x,j],i=[0,-O,O,0,0,O,-O,0],$=d.root.children;
d.W.Gn=[];for(var n=0;n<4;n++){var H=new cK(F[n*2]+i[n*2],F[n*2+1]+i[n*2+1]),b=!1;for(var r=0;r<$.length;
r++){var g=$[r].B;if(g.add.artb==null)continue;var a=g.x1();if(a.QQ(H))b=!0}if(b){F[n*2]=1e9;continue}d.W.Gn.push([n,F[n*2],F[n*2+1]])}};
A.jr.prototype.disable=function(d,v,t,h,X){this.nf(d)};A.jr.prototype.nf=function(d){if(this.LW){this.LW.clear(d);
this.LW=null;d.W.Gn=null}};A.jr.prototype.li=function(d,v,t,h,X){this.lI=Date.now();var g=d.z.tw(X.x,X.y),x=this.LW;
if(x){var Z=new eG(_.E.F),Y=x.P1(null,g,d,X);if(Y<9){this.iG=x.li(d,t,h,g,null,!0,X);return}else if(x.$p(g)){Z.T=A.Xc;
Z.data={R:"disabAuto"};v.J(Z);var a=new eG(_.E.c);a.data={R:_.Y.H_,T:A.Xc,aMO:!0};v.J(a);return}else{var z=-1,p=d.W.Gn;
for(var n=0;n<p.length;n++){var U=A.jr.aeo(p[n],d.z);if(cK.A_(g,new cK(U[1],U[2]))<U[0])z=p[n][0]}if(z!=-1){var l=d.U[d.l[0]].x1(),L=l.b(),j=(z==0||z==2?l.$:l.r)+this.nY;
if(z==0||z==3)j=-j;if(z==0||z==2)l.y+=j;else l.x+=j;if(h.A(cQ.io)){var O=new iW(0,0,d.r,d.$);Z.T=A.EM;
Z.data={R:jn.jl};v.J(Z);A.jt.n8(d,d.A6(null,d.l[0],null,!0),null,l.x-L.x,l.y-L.y);d.l=d.l.slice(d.l.length-1);
var F=A.Fv.DP(d);if(F){var i=d.oD();i.data.xs=O;i.data.GE=F;i.data.Bv=d.l}}else this.tI(d,l,v);return}}}this.t_=A.jt.$b(d,g,t)};
A.jr.prototype.tI=function(d,v,t,h){if(h==null)h=0;var X=d.U.slice(0),g=[d.U.length+1],x=d.vv();x.qv(f7.get([1,16,0])+" "+(d.add.artd==null?1:d.root.children.length+1));
x.add.lsct=f$.fG;x.In(v);if(this.Nm){var Z=x.add.artb,Y=this.Nm;for(var a in Y)Z[a]=Y[a]}x.uF="pass";
x.Xw=24;if(h==0){if(d.add.artd||v.hL(new iW(0,0,d.r,d.$)).HP())X.push(d.Rw());else X.unshift(d.Rw())}else{var z=d.A6();
z.sort(function(j,O){return j-O});var p=A.OJ.sZ(d,z,X.length-1,!1,null,!1),U=p.pop(),l=p.pop();X=p.pop();
X.splice(d.U.length-z.length,0,d.Rw())}X.push(x);var L=new eG(_.E.F);L.T=A.EM;L.data={R:jn.Zv,zA:X,QK:g,qq:[1,16,2]};
t.J(L)};A.jr.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.LW,Z=this.t_;if(x){if(this.iG){x.qw(d,t,h,g)}else{var Y=x.Q6(g,d.z.OI,null,X);
if(Y==null)Y="default";var a=new eG(_.E.c,!0);a.data={R:_.Y.TG,Cn:Y};v.J(a)}}if(Z){var z=this.qa(d,g,h,t);
d.W.sG=f.Q.Ya(z);d.QW=!0;A.M$.IA(X,z,d,t)}};A.jr.prototype.QZ=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=this.t_;
if(this.iG){this.LW.QZ(d,t,h,g);this.iG=!1;var Z=f.Q.k2(this.LW.gU()),Y=jn.ez(Z),a=d.U[d.l[0]],z=f.v(a.add.artb);
z.artboardRect.v=Y;var p=new eG(_.E.F,!0);p.T=A.EM;p.data={R:jn.QO,pr:z};v.J(p)}if(x){var U=this.qa(d,g,h,t);
if(U.k()>20)this.tI(d,U,v);d.W.sG=null;d.QW=!0;this.t_=null;d.W.NX=[]}};A.jr.prototype.qa=function(d,v,t,h){var X=this.t_,g=A.jt.$b(d,v,h),x=A.N4.WC(X,g,t,!0);
X=x[0];g=x[1];return f.Q.k2([X.x,X.y,g.x,g.y])};A.QY=function(){A.M$.call(this,[10,50],A.Ob,"tools/artb");
this.LW=null;this.Eq=!1;this.n=null;this.aub=null;this.QE=null;this.ar_=null;this.a2h=null;this.Ao=null;
this.jY=null};A.QY.prototype=new A.M$;A.QY.prototype.YF=function(d,v){return d==cQ.on||d==cQ.SY};A.QY.prototype.M6=function(d,v,t,h){if(h.A(cQ.on)||h.A(cQ.SY))this.Oh({R:"del"},v,d,h,t)};
A.QY.prototype.Oh=function(d,v,t,h,X){var g=t.add.arts;this.aub=JSON.stringify(g);if(d.R=="del"){for(var n=0;
n<g.length;n++)if(g[n].l){g.splice(n,1);n--}}if(d.R=="new"){for(var n=0;n<g.length;n++)g[n].l=!1;var x=t.e9(),Z=x.x+x.r+20;
g.push({cF:"Artboard "+(g.length+1),l7:[Z,x.y,Z+100,x.y+100],l:!0})}if(d.R=="rpl"){var Y=0;for(var n=0;
n<g.length;n++)if(g[n].l)Y=n;g[Y]=d.K}if(d.R=="adapt"){var a=[];for(var n=0;n<t.U.length;n++)a.push(n);
var z=A.hZ.pT(t,a),p=g[g.length-1];p.l7=[z.x,z.y,z.x+z.r,z.y+z.$]}this.aiK(t);this.tH(t)};A.QY.prototype.disable=function(d,v,t,h,X){this.Eq=!1};
A.QY.prototype.enable=function(d,v,t,h,X){this.Eq=!0;this.n=t;this.tH(d)};A.QY.prototype.nf=function(d){};
A.QY.prototype.li=function(d,v,t,h,X){var g=this.jY=d.z.tw(X.x,X.y),x=d.add.arts;this.aub=JSON.stringify(x);
var Z=this.LW,Y=Z?Z.Q6(g,d.z.OI,null,X):null,a=h.A(cQ.LE)||h.A(cQ.cm);if(Z&&!a&&(f.Q.mo(Z.gU()).QQ(g)||Y)){}else{var z=-1;
for(var n=0;n<x.length;n++)if(f.Q.mo(x[n].l7).QQ(g))z=n;if(z==-1)this.LT(d,-1);else if(a)x[z].l=!x[z].l;
else this.LT(d,z);this.tH(d)}if(this.LW){this.LW.li(d,t,h,g,null,!0,X)}d.QW=!0};A.QY.prototype.qw=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=d.add.arts,Z=JSON.parse(this.QE);
if(this.LW){this.LW.qw(d,t,h,g);if(X.n2){var Y=f.Q.mo(this.LW.gU()),a=this.a2h,z=new gi;z.translate(-a.x,-a.y);
z.scale(Y.r/a.r,Y.$/a.$);z.translate(Y.x,Y.y);var p=this.LW.P1(h,g,d,X);for(var n=0;n<x.length;n++){var U=x[n];
if(!U.l)continue;if(f.Q.mo(Z[n].l7).HP())U.l7=[Y.x,Y.y,Y.x+Y.r,Y.y+Y.$];else{U.l7=Z[n].l7.slice(0);f.Q.M(U.l7,z,U.l7)}}if(p==10){A.jt.n8(d,this.ar_,null,Y.x-this.Ao.x,Y.y-this.Ao.y);
this.Ao=Y}d.uM()}var l="default",L=this.LW.Q6(g,d.z.OI,null,X);if(L)l=L;var j=new eG(_.E.c,!0);j.data={R:_.Y.TG,Cn:l};
v.J(j)}else if(X.n2&&cK.A_(g,this.jY)>=6/d.z.OI){x.push({cF:"Artboard "+(x.length+1),l7:[0,0,0,0],l:!0});
this.tH(d);this.LW.li(d,t,h,this.jY,null,!0,X)}};A.QY.prototype.QZ=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y),x=d.add.arts,Z=JSON.parse(this.QE),Y=h.A(cQ.LE)||h.A(cQ.cm);
if(!Y&&cK.A_(this.jY,g)<6/d.z.OI){var a=-1;for(var n=0;n<x.length;n++)if(f.Q.mo(x[n].l7).QQ(g))a=n;if(a!=-1){this.LT(d,a);
this.tH(d)}if(f.Q.mo(Z[Z.length-1].l7).HP()){this.LW.clear(d);x.pop()}}if(this.LW){var z=this.LW.P1(h,g,d,X);
this.LW.QZ(d,t,h,g);if(!g.fE(this.jY))this.aiK(d,z==10?g.hP(this.jY):null)}};A.QY.prototype.aiK=function(d,v){var t=new bd([10,50],this);
t.data={Mo:this.aub,VE:JSON.stringify(d.add.arts)};if(v){t.data.l=this.ar_;t.data.bP=v}d.RS(t)};A.QY.prototype.tH=function(d){var v=d.add.arts,t=new iW,h=0,X=[];
for(var n=0;n<v.length;n++)if(v[n].l){var g=f.Q.mo(v[n].l7);t=t.Ue(g);d.root.Mz(g,X);h++}if(h==0){if(this.LW)this.LW.clear(d);
d.QW=!0;this.LW=null;return}this.QE=JSON.stringify(v);this.ar_=X;this.a2h=this.Ao=t;var x=f.Q.Ya(t).I;
this.LW=new d3(t.HP()?null:x,!0,!1,!1,!1,!1,3);if(!t.HP())this.LW.Yj(d,this.n)};A.QY.prototype.LT=function(d,v){var t=d.add.arts;
for(var n=0;n<t.length;n++)t[n].l=v==n};A.QY.prototype.BW=function(d,v){v.add.arts=JSON.parse(d.VE);
if(d.l)A.jt.n8(v,d.l,null,d.bP.x,d.bP.y);if(this.Eq)this.tH(v);v.QW};A.QY.prototype.Js=function(d,v){v.add.arts=JSON.parse(d.Mo);
if(d.l)A.jt.n8(v,d.l,null,-d.bP.x,-d.bP.y);if(this.Eq)this.tH(v);v.QW};function d3(d,v,t,h,X,g,x,Z){this.r9=null;
this.Pd=d?d.slice(0):null;this.G7=1;this.cy=4;this.dg=null;this.ob=null;this.Ik=null;this.As=-1;this.NT=null;
this.alJ=!1;this.aHa=[];for(var n=0;n<8;n++)this.aHa.push(b3.acT(0,PIMG.rotate,-.5,-.5,-45-n*45));this.aKD=v;
this.avk=t;this.a7g=h;this.a9U=X;this.akL=g;this.y1=x;this.akl=Z==null?1:Z}d3.prototype.a34=function(){return this.As!=-1};
d3.prototype.gU=function(){return this.Pd.slice(0)};d3.prototype.vm=function(d){this.Pd=d};d3.prototype.a8Z=function(){return this.qt(this.Pd)};
d3.prototype.a77=function(){return this.cy};d3.prototype.aeF=function(d){this.cy=d};d3.prototype.jS=function(d){if(d==null)d=this.Pd;
if(this.cy==9)return this.dg;else return this.qt(d)[this.cy]};d3.prototype.apR=function(d){if(this.cy==9)this.dg=d.b();
else{var v=this.jS(),t=new gi(1,0,0,1,d.x-v.x,d.y-v.y);f.Q.M(this.Pd,t,this.Pd)}};d3.prototype.Wi=function(d){this.G7=d};
d3.prototype.Q6=function(d,v,t,h,X,g){var x=this.ux(g,d,v,h),Z;if(x==9)return"default";if(x==10){if(t)return null;
return!this.aKD?"move":null}if(x==-1||x==4)return null;if(x==11){var Y=this.jS().hP(d);if(X==null)X=Math.atan2(Y.y,Y.x);
Z=90-X*180/Math.PI;var a=Math.round(8*(Z/360));a=(a+8)%8;return this.aHa[a]}else{var z=this.i6(d,this.Pd);
Z=[135,90,45,180,0,0,225,270,315][x]*Math.PI/180;var p=f.G.ms(this.Pd);return d3.any(p[0],p[3],Z)}};
d3.any=function(d,v,t){var h=Math.atan2(-v,d);if(t)h+=t;var X="ew nesw ns nwse ew nesw ns nwse".split(" "),g=Math.round(8*(h/(2*Math.PI)));
g=(g+8)%8;return X[g]+"-resize"};d3.prototype.i6=function(d,v){var t=f.G.zJ(f.G.ms(v)),h=new Float64Array(2);
f.G.kj(d.x,d.y,t,h);return new cK(h[0],h[1])};d3.prototype.$p=function(d){var v=this.i6(d,this.Pd);return 0<=v.x&&v.x<=1&&0<=v.y&&v.y<=1};
d3.prototype.li=function(d,v,t,h,X,g,x,Z){this.alJ=g;this.NT=h;var Y=d.z.OI,a;if(this.Pd==null)h=A.jt.$b(d,h,v);
this.Ik=h.b();if(this.Pd==null){if(Z==null)Z=0;var z=new gi;z.rotate(Z);var p=z._V(new cK(1,1));this.Ik.offset(p.x,p.y);
var U=X==null?1:1/X,l=this.Pd=[0,0,1,0,1,U,0,U];z.translate(h.x,h.y);f.Q.M(this.Pd,z,this.Pd);a=8}else{a=this.ux(t,h,Y,x);
var L=t.A(cQ.LE)&&(a==1||a==3||a==5||a==7);if(0<=a&&a<=8&&!L)this.Ik=this.qt(this.Pd)[a];if(a==9){this.cy=9;
this.dg=h.b()}}this.r9=this.Pd.slice(0);this.As=a;this.Yj(d,v);this.ob=this.jS();return a!=-1};d3.prototype.P1=function(d,v,t,h){return this.ux(d,v,t.z.OI,h)};
d3.prototype.ux=function(d,v,t,h){var X=d&&d.A(cQ.LE),g=-1,x=this.qt(),Z=[0,2,6,8,1,3,5,7],Y=h?A.RV({z:{OI:t}},h):8*A.LY()/t,a=cK.A_(x[0],x[2]),z=cK.A_(x[0],x[6]),p=this.i6(v,this.Pd);
p.x*=a;p.y*=z;var U=new iW(0,0,a,z);U.o2(Y,Y);if(g==-1)if(cK.A_(this.jS(),v)<Y)g=9;if(g==-1)for(var n=0;
n<Z.length;n++)if(cK.A_(x[Z[n]],v)<Y)g=Z[n];if(g==-1&&U.QQ(p)){if(Math.abs(p.y-0)<Y)g=1;if(Math.abs(p.x-0)<Y)g=3;
if(Math.abs(p.y-z)<Y)g=7;if(Math.abs(p.x-a)<Y)g=5}if(g==-1&&d&&d.A(cQ.io))g=9;if(g==-1||this.y1==4){if(this.$p(v)){if(this.aKD)g=10}else{var l=[3,.85][j8];
U.o2(l*Y,l*Y);g=U.QQ(p)&&this.y1!=3?11:10;if(g==10&&j8==1)g=-1}}return g};d3.prototype.qw=function(d,v,t,h,X){if(this.As==-1)return;
this.NT=h;var g=t&&t.A(cQ.cm),x=t&&t.A(cQ.io),Z=t&&t.A(cQ.LE),Y=d.z.OI,a=this.Ik,z=this.As,p=z==0||z==2||z==6||z==8,U=this.qt(),l=A.jt.$b(d,a,v),L=A.jt.$b(d,h,v),j,O;
if(z==9){var U=this.qt(),F=-1;for(var n=0;n<U.length;n++)if(cK.A_(U[n],L)*Y<10)F=n;this.cy=F==-1?9:F;
this.dg=g?A.qy.rf(l,L):L.b()}else if(z==10){O=f.Q.mo(this.r9);var i=O.x,$=O.y;O.offset(h.x-a.x,h.y-a.y);
if(this.aAu()){O.x=Math.round(O.x);O.y=Math.round(O.y)}j=A.jt.YY(d,O,v);var H=new gi(1,0,0,1,O.x-i+j[0],O.y-$+j[1]);
f.Q.M(this.r9,H,this.Pd)}else if(z==11){var b=this.jS(this.r9),r=b.hP(h),W=b.hP(a),V=Math.atan2(r.y,r.x),y=Math.atan2(W.y,W.x),H=new gi(1,0,0,1,-b.x,-b.y),c=Math.PI/12;
if(g)H.rotate(Math.round((y-V)/c)*c);else H.rotate(y-V);H.translate(b.x,b.y);f.Q.M(this.r9,H,this.Pd)}else{var S=g,C;
if(X&&!Z)S=!S;if(this.akL)S=!0;var K=this.r9;if(this.y1==1){if(p)g=x=Z=!0}else if(this.y1==2&&p&&this.alJ!=!0)Z=!0;
if(this.y1==3)Z=!1;else if(this.y1==5){g=Z=!0}if(this.a7g&&p&&Z){var n=[0,0,2,0,0,0,6,0,4,0][z],T=-1,D=L.x,N=L.y;
if(g){var G=n+6&7,s=n+10&7,Q=d3.age(K[n],K[n+1],K[G],K[G+1],L.x,L.y),q=d3.age(K[n],K[n+1],K[s],K[s+1],L.x,L.y),R=Q[2]<q[2]?Q:q;
D=R[0];N=R[1];if(x)T=Q[2]<q[2]?G:s}else if(x)T=n+4&7;C=K.slice(0);if(T!=-1){var m=K[T],E=K[T+1],e=(K[n]+m)/2,w=(K[n+1]+E)/2;
C[T]=e-(D-e);C[T+1]=w-(N-w)}C[n]=D;C[n+1]=N}else if(p&&x){var b=this.ob,M=b.x,P=b.y,I=l.x-M,k=l.y-P,o=1,af=1;
if(Math.abs(I)>=1)o=(L.x-M)/I;if(Math.abs(k)>=1)af=(L.y-P)/k;if(S)o=af=(o+af)/2;var H=new gi;H.translate(-M,-P);
H.scale(o,af);H.translate(M,P);C=K.slice(0);f.Q.M(C,H,C)}else if(!p&&Z&&this.avk){function J(gE,fj,gK){var aq=fj[0]-gE[0],dh=fj[1]-gE[1],hn=f.Q.G_(gK[0],gK[1],-dh,aq,gE[0],gE[1],aq,dh);
return hn}var at=[1,5,7,3].indexOf(z),ke=at+1&3,c_=K.slice(at*2,at*2+2),ag=K.slice(ke*2,ke*2+2),dz=L;
if(g){var kL=J(c_,ag,[L.x,L.y]);dz=new cK(L.x-kL*(ag[1]-c_[1]),L.y+kL*(ag[0]-c_[0]))}var aq=dz.x-a.x,dh=dz.y-a.y,gK=[this.ob.x,this.ob.y],ad=[gK[0]+ag[0]-c_[0],gK[1]+ag[1]-c_[1]],dc=J(gK,ad,[a.x,a.y]);
C=K.slice(0);for(var n=0;n<4;n++){if(!x&&n!=at&&n!=ke)continue;var lq=K.slice(n*2,n*2+2),hn=J(gK,ad,lq)/dc;
C[n*2]+=hn*aq;C[n*2+1]+=hn*dh}}else{if(this.aAu()){L.x=Math.round(L.x);L.y=Math.round(L.y)}var dF=[0,1,2,5,8,7,6,3],c3=dF[(dF.indexOf(z)+4)%8],i8=[];
for(var n=0;n<3;n++)for(var T=0;T<3;T++)i8.push(new cK(T/2,n/2));var b=this.ob,dr=x&&(this.cy==4||this.cy==9)?this.i6(b,K):i8[c3],jO=x&&(this.cy==4||this.cy==9)?b:U[c3];
if(p&&S){function d1(gE,fj,gK){var aq=fj[0]-gE[0],dh=fj[1]-gE[1],hn=f.Q.G_(gK[0],gK[1],-dh,aq,gE[0],gE[1],aq,dh);
return[gK[0]-dh*hn,gK[1]+aq*hn]}while(!0){var h3=d1([jO.x,jO.y],[a.x,a.y],[L.x,L.y]);h3=new cK(h3[0],h3[1]);
h3=A.jt.$b(d,h3,v);if(cK.A_(h3,L)<1e-6)break;L=h3}}var d5=this.i6(L,K),em=this.i6(a,K),fl=new gi,lA=new gi,o=(d5.x-dr.x)/(em.x-dr.x);
if(o==0)o=1e-4;var af=(d5.y-dr.y)/(em.y-dr.y);if(af==0)af=1e-4;if(this.a9U){o=Math.max(o,0);af=Math.max(af,0)}if(p){if(S)fl.scale(o,o);
else fl.scale(o,af)}else if(z!=4){var av=S,ah=Z&&g;if(ah)av=!1;if(z==1||z==7)fl.scale(av?af:1,ah?1:af);
else fl.scale(ah?1:o,av?o:1);if(this.avk&&Z){if(z==1||z==7)lA.Wp=(d5.x-dr.x)/(d5.y-dr.y);else lA.X=(d5.y-dr.y)/(d5.x-dr.x)}}var H=new gi;
H.translate(-dr.x,-dr.y);H.concat(fl);H.concat(lA);H.translate(dr.x,dr.y);C=[0,0,1,0,1,1,0,1];f.Q.M(C,H,C);
var R=f.G.ms(K);f.G.M(R,C)}if(d3.Tf(C))this.Pd=C}this.Yj(d,v);if(j)A.jt.Wo(d,O,j)};d3.age=function(d,v,t,h,X,g){var x=t-d,Z=h-v,Y=X-d,a=g-v,z=x*x+Z*Z,p=Y*x+a*Z,U=p/z,l=d+U*x,L=v+U*Z,j=X-l,O=g-L;
return[l,L,Math.sqrt(j*j+O*O)]};d3.prototype.aAu=function(){var d=this.Pd;return Math.abs(d[1]-d[3])<1e-6&&Math.abs(d[2]-d[4])<1e-6||Math.abs(d[0]-d[2])<1e-6&&Math.abs(d[3]-d[5])<1e-6};
d3.Tf=function(d){return f.Q.al6(d)||f.Q.al6([d[6],d[7],d[4],d[5],d[2],d[3],d[0],d[1]])};d3.prototype.QZ=function(d,v,t,h){this.As=-1;
this.NT=null;d.W.O1=null;d.W.NX=[];d.QW=!0};d3.prototype.M6=function(d,v,t){var h=t.eI(d?d.z.r$:0);if(h.x||h.y){var X=new gi(1,0,0,1,h.x,h.y);
f.Q.M(this.Pd,X,this.Pd);this.Yj(d,v);return!0}return!1};d3.prototype.qt=function(d){if(d==null)d=this.Pd;
var v=d[6]-d[0],t=d[7]-d[1],h=d[4]-d[2],X=d[5]-d[3],g=[d[0],d[1],d[2],d[3],d[0]+v/2,d[1]+t/2,d[2]+h/2,d[3]+X/2,d[6],d[7],d[4],d[5]],x=[];
for(var n=0;n<3;n++){var Z=n*4,Y=g[Z+0],a=g[Z+1],z=g[Z+2],p=g[Z+3];x.push(new cK(Y,a));x.push(new cK(Y+(z-Y)/2,a+(p-a)/2));
x.push(new cK(z,p))}return x};d3.prototype.Yj=function(d,v,t){if(d.W==null)return;if(t==null)t=!1;var h=this.G7,X=this.qt(),g=X[0],x=X[2],Z=X[6],Y=X[8],a={s2:[],I:[]};
if(h==0)d.W.sG=a;else d.W.IJ=a;var z=f.G.ms([g.x,g.y,x.x,x.y,Y.x,Y.y,Z.x,Z.y]);a.s2.push("M","L","L","L","Z");
a.I.push(0,0,1,0,1,1,0,1);var p=this.akl;if(p>1){d.W.kp=f.v(a);f.G.M(z,d.W.kp.I);for(var n=1;n<p;n++){var U=n/p;
a.s2.push("M","L","M","L");a.I.push(0,U,1,U,U,0,U,1)}}f.G.M(z,a.I);d.z.O0=new iW(0,0,cK.A_(X[0],X[2]),cK.A_(X[0],X[6]));
if(this.As!=-1&&this.As<9&&this.NT){var l=d.z.X4(this.NT.x,this.NT.y);A.M$.IA(l,d.z.O0,d,v)}if(!t){var L=[];
if(h==0)d.W.ag=L;else d.W.ZM=L;for(var n=0;n<X.length;n++)if(n!=4)L.push(X[n].x,X[n].y);var j=this.jS();
L.push(j.x,j.y)}d.QW=!0};d3.prototype.clear=function(d){d.z.O0=null;d.W.O1=null;d.W.sG=null;d.W.IJ=null;
d.W.kp=null;d.W.ag=[];d.W.ZM=[];d.QW=!0};function k6(d){this.kk=null;this.As=-1;this.aAe=null;this.ayW=null;
this.KS=null;this.sd=-1;this.ask=null;this.anl(d)}k6.prototype.QI=function(){return f.v(this.kk)};k6.prototype.anl=function(d){this.kk=f.v(d)};
k6.prototype.anS=function(d){this.sd=d};k6.prototype.$p=function(d){return!0};k6.prototype.Q6=function(d,v,t,h){var X=this.ux(d,v,h);
if(X==-1)return"default";return"pointer"};k6.prototype.li=function(d,v,t,h,X,g,x){if(this.sd!=-1)return!0;
this.As=this.ux(h,d.z.OI,x);var Z=f.kk.kU(this.kk),Y=f.g_.c3(Z,h),a=0<Y[0]&&Y[0]<1&&0<Y[1]&&Y[1]<1;this.aAe=a?Y:null;
this.ayW=JSON.stringify(Z);this.ask=JSON.stringify(this.kk);this.KS=h;return this.As!=-1||a};k6.prototype.ux=function(d,v,t){var h=t?A.RV({z:{OI:v}},t)*2:20*A.LY()/v,X=this.kk,g=k6.ax2(X),x=-1;
if(g){x=f.Q.kq(g,d.x,d.y,h);if(x!=-1)x+=1e6}else{var Z=f.kk.kU(X);x=f.Q.kq(Z[3],d.x,d.y,h);if(x!=-1&&this.xB(Z,x)==null)x=-1}return x};
k6.prototype.qw=function(d,v,t,h){if(this.sd!=-1)return;var X=this.kk,g=this.As,x=this.aAe,Z=JSON.parse(this.ayW),Y=Z[0],a=Z[1],z=Z[3];
if(g>=1e6){var p=X.warpStyle.v.warpStyle,U=f.kk.pT(X);if(p=="warpCylinder"){this.kk=X=JSON.parse(this.ask);
var l=A.hZ.Q9(X.warpValues),L=(l[2]-l[0])/(l[1]-l[3]),j=l[4]*L*U.$,O=l[5]*L*U.$,F=h.x-this.KS.x,i=h.y-this.KS.y;
l[0]=U.x;l[1]=U.y+U.$;l[2]=U.x+U.r;l[3]=U.y;g-=1e6;if(g==0){l[0]+=F;l[1]+=i}if(g==1){l[2]+=F;l[3]+=i}if(g==2){j+=2*i;
O+=2*i}if(g==3){O+=2*i}if(g==4){l[6]=Math.max(0,Math.min(1,l[6]-2*F/U.r))}var $=f.Q.mo(l.slice(0,4)),H=$.r/U.r,b=$.$/U.$;
l[4]=j/$.r;l[5]=O/$.r;X.warpValues=A.hZ.gX(l);var r=new gi;r.translate(-U.x,-U.y);r.scale(H,b);r.translate($.x,$.y);
if(g<4)return r}else{var W=X.warpRotate.v.Ornt,V=W=="Vrtc",y=f.kk.aNM[p],c=V?-h.x/U.r:-h.y/U.$;c+=y[1];
if(y[1]>.5)c=-c;c/=y[2];var H=U.r/U.$;if(V)H=1/H;if(y[3])c/=H;X.warpValue.v=100*Math.max(-1,Math.min(1,c))}}else if(g!=-1){var S=[g],F=h.x-z[g*2],i=h.y-z[g*2+1];
if(Y*a>16){var C=this.xB(Z,g);if(C[0]==0){var K=Math.floor(g/Y),T=g-K*Y;if(T>0)S.push(g-1);if(T<Y-1)S.push(g+1);
if(K>0)S.push(g-Y);if(K<a-1)S.push(g+Y)}}for(var n=0;n<S.length;n++){z[S[n]*2]+=F;z[S[n]*2+1]+=i}f.kk.Eu(X,Z)}else if(x){f.g_.aKK(Z,x[0],x[1],h.x-this.KS.x,h.y-this.KS.y);
f.kk.Eu(X,Z)}};k6.prototype.QZ=function(d,v,t,h){var X=this.sd;this.aAe=null;this.sd=-1;if(X!=-1){var g=f.kk.kU(this.kk),x=f.g_.c3(g,h);
if(X==0||X==1)f.g_.split(g,0,x[0]);if(X==0||X==2)f.g_.split(g,1,x[1]);f.kk.Eu(this.kk,g)}d.QW=!0;return X!=-1};
k6.prototype.M6=function(d,v,t){var h=t.eI();if(h.x||h.y){var X=new gi(1,0,0,1,h.x,h.y);f.Q.M(this.Pd,X,this.Pd);
this.Yj(d)}};k6.prototype.xB=function(d,n){var v=d[0],t=d[1],h=this.As,X=Math.floor(h/v),g=h-X*v,x=h%3,Z=h%3,Y=x==0&&Z==0,X=Math.floor(n/v),g=n-X*v,x=g%3,Z=X%3;
if(x!=0&&Z!=0)return null;if(x==0&&Z==0)return[0];else{var a=0;if(Z==0)a=x==1?n-1:n+1;if(x==0)a=Z==1?n-v:n+v;
if(v*t>16){var z=h==n||h==n+1||h==n-1||h==n+v||h==n-v;if(Y&&(z||h==n+2||h==n-2||h==n+2*v||h==n-2*v)){}else if(!Y&&z){}else return null}return[1,a]}};
k6.ax2=function(d,v){var v=d.warpStyle.v.warpStyle,h;if(v=="warpCustom"||v=="warpNone")return null;var t=f.kk.kU(d);
if(v=="warpCylinder"){var X=d.warpValues.v;h=[0,1,1,0,.5,0,.5,1,.75-.25*X[6].v,.5]}else{var g=d.warpRotate.v.Ornt,x=f.kk.aNM[v];
h=g=="Hrzn"?[x[0],x[1]]:[x[1],x[0]]}f.g_.M(t,h,new iW(0,0,1,1));return h};k6.prototype.Yj=function(d,v){var t=this.kk,h=t.warpStyle.v.warpStyle,X=f.kk.kU(t),g=X[0],x=X[1],Z=X[3],Y=d.W.IJ={s2:[],I:[]},a=d.W.ZM=[],z=d.W.QL=[],p=this.As;
if(h=="warpCustom"||h=="warpNone")for(var U=0;U<x;U++)for(var l=0;l<g;l++){var n=U*g+l,L=this.xB(X,n);
if(L==null)continue;var j=Z[2*n],O=Z[2*n+1],F=z;if(L[0]==0)F=n==p&&g*x>16?z:a;else{var i=L[1];Y.s2.push("M","L");
Y.I.push(j,O,Z[2*i],Z[2*i+1])}F.push(j,O)}else{var $=k6.ax2(t);if($)for(var n=0;n<$.length;n++)a.push($[n])}for(var U=0;
U+1<x;U+=3)for(var l=0;l+1<g;l+=3){Y.s2.push("M","C","C","C","C");var n=U*g+l,H=n+g+g,b=[n,n+1,n+2,n+3,n+g+3,H+3,H+g+3,H+g+2,H+g+1,H+g,H,n+g,n];
for(var n=0;n<b.length;n++){var j=Z[b[n]*2],O=Z[b[n]*2+1];Y.I.push(j,O)}}var r=[],W=[];function V(y,l,C){for(var b=0;
b<=C;b++){W.push(b==0?"M":"L");if(y==0)r.push(l,b/C);else r.push(b/C,l)}}if(v)v=f.g_.c3(X,v);for(var y=0;
y<2;y++){var c=X[2][y],S=y==0?g:x,C=S*5;for(var K=1;K<S;K++){var T=Math.floor((K-1)/3),D=K-(1+T*3);if(D==0)continue;
var l=c[T]+D/3*(c[T+1]-c[T]);V(y,l,C)}var N=this.sd;if(v&&N!=-1&&(N==0||N-1==y))V(y,v[y],C)}f.g_.M(X,r,new iW(0,0,1,1));
f.Q.concat(Y,{I:r,s2:W});d.QW=!0};k6.prototype.clear=function(d){d.W.IJ=null;d.W.ZM=[];d.W.QL=[];d.QW=!0};
function kG(){this.GN=!1;this._X=!1;this.ai1=!1;this.awf=!1;this.a0J=!1;this.b8=!1;this.h9=0;this.Yi=0}kG.prototype.li=function(d){this.GN=!0;
this._X=!1;this.a0J=d.A(cQ.cm);this.b8=d.A(cQ.io);this.h9=this.a0J?0:1;this.Yi=this.b8?0:1};kG.prototype.M6=function(d){var v=this.awf=d.A(cQ.cm),t=this.ai1=d.A(cQ.io);
if(this._X){if(this.h9==0&&!v)this.h9++;if(this.h9==1&&v)this.h9++;if(this.Yi==0&&!t)this.Yi++;if(this.Yi==1&&t)this.Yi++}};
kG.prototype.qw=function(){this._X=!0};kG.prototype.QZ=function(){this.GN=!1};kG.prototype.CH=function(n){if(n==0)return this.GN?this.b8:this.ai1;
if(n==1)return this._X?this.Yi==2:!1};kG.prototype.vS=function(n){if(n==0)return this.GN?this.a0J:this.awf;
if(n==1)return this._X?this.h9==2:!1};A.History=function(){A.M$.call(this,"History",A.Hh);this.akx=!0;
this.aeH=0};A.History.prototype=new A.M$;A.History.prototype.Oh=function(d,v,t,h){t.zs=!0;if(d.R=="h_itemchange"){if(d.index<t.UG)for(var n=t.UG;
n>d.index;n--)this.oP(t);if(d.index>t.UG)for(var n=t.UG;n<d.index;n++)this.HX(t)}if(d.R=="h_stepfwd")this.HX(t);
if(d.R=="h_stepbck")this.oP(t);if(d.R=="h_undoredo"){var X=this.akx||this.aeH!=t.UG;if(X){this.oP(t);
X=!1}else{this.HX(t);X=!0}this.akx=X;this.aeH=t.UG}if(d.R=="h_clear"){if(d.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
t.history=[new bd([1,0],null)];t.UG=0}else this.akx=!0};A.History.prototype.oP=function(d){if(d.UG==0)return;
var v=d.history[d.UG];v.T.Js(v.data,d);d.UG--};A.History.prototype.HX=function(d){if(d.UG==d.history.length-1)return;
var v=d.history[d.UG+1];v.T.BW(v.data,d);d.UG++};A.OJ=function(){A.M$.call(this,"Layers",A.EM);this.u$=null};
A.OJ.prototype=new A.M$;A.OJ.prototype.Oh=function(d,v,t,h,X){this.u$=v;var g=d.R,x=d.B!=null?d.B:t.l.length!=0?t.l[0]:t.U.length-1,Z=t.U[x];
t.Ir=!0;var Y=h.A(cQ.io),a=h.A(cQ.cm),z=h.A(cQ.LE);if(g==jn.g8&&t.p==null&&(t.l.length>1||!t.fi(!1)||t.U[t.l[0]].h5()))g=jn.jl;
if(g==jn.cW){var p=new bd([6,33],this),U=Z.h5()?["pass"].concat(gL.iX):gL.iX,l=U[d.VE],L=d.B!=null?[d.B]:t.l,j=JSON.stringify(L),O=[];
for(var n=0;n<L.length;n++)O.push(t.U[L[n]].uF);p.data={R:g,ls:j,Lp:O,VE:l};t.RS(p);this.BW(p.data,t);
this.track(kl.cd("Md",{t:"enum",v:{BlnM:gL.V6(l)}}))}if(g==jn.Q3){var p,F=t.oD(),L=d.B!=null?[d.B]:t.l,j=JSON.stringify(L);
if(F&&F.data&&F.data.R==g&&F.data.ls==j)p=F;else{var i=kl.cd("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var O=[];for(var n=0;n<L.length;n++)O.push(t.U[L[n]].JS);p=new bd([6,32],this);p.data={R:g,ls:j,Lp:O,VE:d.VE,alF:i.mQ};
t.RS(p)}p.data.VE=d.VE;p.data.alF.T.v.Opct.v.val=Math.round(d.VE*100/255);this.BW(p.data,t)}if(g==jn.vT){var p,F=t.oD(),L=d.B!=null?[d.B]:t.l,j=JSON.stringify(L);
if(F&&F.data&&F.data.R==g&&F.data.ls==j)p=F;else{var O=[];for(var n=0;n<L.length;n++){var $=t.U[L[n]].add.iOpa;
O.push($==null?255:$)}p=new bd("Fill Opacity Change",this);p.data={R:g,ls:j,Lp:O,VE:d.VE};t.RS(p)}p.data.VE=d.VE;
this.BW(p.data,t)}if(g==jn.rD){var H=Z.Y,p,F=t.oD();if(F&&F.data&&F.data.R==g&&F.data.B==x)p=F;else{p=new bd("Audio Change",this);
p.data={R:g,B:x,Lp:{jJ:H.jJ,volume:H.volume}};t.RS(p)}p.data.VE=d.VE;this.BW(p.data,t)}if(g==jn.YJ){var H=t.Y,p,F=t.oD();
if(F&&F.data&&F.data.R==g)p=F;else{p=new bd("Project Audio",this);p.data={R:g,Lp:{VC:H.VC,AV:H.AV}};
t.RS(p)}p.data.VE=d.VE;this.BW(p.data,t)}if(g==jn.dS){var b=d.VE,r=d.B!=null?[d.B]:t.l.slice(0),W=[],V=[],p;
for(var y=0;y<r.length;y++){var c=t.U[r[y]];if(c.add.lspf==null)c.add.lspf=0;var O=c.add.lspf,l=O;for(var n=0;
n<b[0].length;n++){var S=b[1][n],C=1<<S;if((l&C)==0&&b[0][n])l^=C;else if((l&C)!=0&&!b[0][n])l^=C}W.push(O);
V.push(l)}var F=t.oD(),L=JSON.stringify(r);if(F&&F.data&&F.data.R==g&&JSON.stringify(F.data.ls)==L){p=F;
p.data.VE=V}else{var p=new bd([6,57,1],this);p.data={R:g,ls:L,Lp:W,VE:V};t.RS(p)}this.BW(p.data,t)}if(g==jn.un){var K="----",T=d.uY,l=null;
for(var n=0;n<c1.aJ.N2.length;n++)if(Z.add[c1.aJ.N2[n]])K=c1.aJ.N2[n];var D=Z.add[K];if(T=="TySh")l=jM.de(50,50,X.Jh);
var p=new bd("Layer Type",this);p.data={R:g,B:x,aDk:[K,D],uY:[T,l]};t.RS(p);this.BW(p.data,t)}if(g==jn.kJ){var r=[];
if(Y){var N=t.oD(),G=N?N.data:null;if(N!=null&&N.T==this&&G.R==jn.kJ&&G.ls.length!=1){var s=new eG(_.E.F);
s.T=A.Hh;s.data={R:"h_stepbck"};v.J(s);if(G.B==x)return}var Q=t.root.Ty(x),q=Q,R=[d.B];while(q.parent!=t.root){R.push(q.parent.index);
q=q.parent}for(var n=0;n<t.U.length;n++){var m=t.U[n],q=t.root.Ty(n),E=R.indexOf(n)!=-1?!0:m.ZC()&&Q.depth<q.depth;
if(E!=m.ZC())r.push(n)}}else if(d.ls)r=d.ls;else{r.push(x);var e=t.U[x].ZC(),i={oN:e?"hide":"show",mQ:{classID:e?"Hd":"Shw",null:{t:"VlLs",v:[kl.hR("Lyr",!0)]}}};
this.track(i)}var p=new bd("Layer visibility",this,!0);p.data={R:g,ls:r,B:x};t.RS(p);this.BW(p.data,t)}if(g==jn.yF){if(X.tN==A.mH){var w=new eG(_.E.c);
w.data={R:_.Y.H_,T:A.Xc};v.J(w)}var M=d.amG,P=d.C5,o,escape=!1,af=!1;if(d.aLG){if(z&&(P==0||P==1||P==2)){var I=0;
if(a)I++;if(Y)I+=2;var k=new eG(_.E.F,!0);k.T=A.Nf;k.data={R:"fromlayer",HW:[d.B,P,I]};v.J(k);return}}var i={oN:"select",mQ:{classID:"null",MkVs:{t:"bool",v:!1}}};
t.akb();if(h.A(cQ.LE)||d.aum==0){var J=t.l.indexOf(x);if(J==-1)t.l.push(x);else if(t.l.length>1){if(d.aum!=0)t.l.splice(J,1)}t.l.sort(function(p,ep){return p-ep});
i.mQ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};o=x}else if(a&&!Y&&P>0){g=P==1?jn.gu:P==2?jn._c:jn.V7;
escape=!0}else if((a||d.aum==1)&&t.l.length>0){var at=Math.min(x,t.l[0]),ke=Math.max(x,t.l[t.l.length-1]);
t.l=[];for(var n=at;n<=ke;n++)if(t.U[n].add.lsct!=f$.Xr)t.l.push(n);i.mQ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
o=x}else{o=x;if(x>=t.U.length)return;var m=t.U[x];if(m&&m.h5()&&d.ahG)m.add.lsct=f$.fG;else if(t.l.length==1&&t.l[0]==x&&Math.max(0,P)==m.VL){af=!0;
t.Ir=!1}if(!af){t.l=[x];t.Qs()}}if(!af){if(o!=null&&o<t.U.length){i.mQ.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:t.U[o].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if(t.l.length==1){var c_=t.l[0];for(var n=0;n<t.U.length;n++){if(n==c_)continue;var c=t.U[n];c.VL=0;
c.s$=!1}var Z=t.U[c_];if(P==2){Z.s$=!Z.s$;t.lE=[]}else if(Z){Z.VL=P<=0?0:P}}else for(var n=0;n<t.U.length;
n++){var c=t.U[n];c.VL=0;c.s$=!1}t.so=null;t.zs=!0}}if(d.aLG&&Y){if((P==1||P==3)&&M!=null){var k=new eG(_.E.F,!0);
k.T=A.CK;k.data={R:"mskView",K:M!=0?0:a?1:2};v.J(k)}else{this.Oh({R:jn.BV,B:d.B},v,t,h,X)}}}if(g==jn.gu||g==jn.V7){var ag=g==jn.gu,dz=ag?Z._B():Z.Ip(t).AU;
if(dz==null)return;var p=new bd(dz.isEnabled?ag?[6,15]:[6,42]:ag?[6,14]:[6,41],this);p.data={R:g,B:x};
t.RS(p);this.BW(p.data,t)}if(g==jn._c){var dz=Z.add.vmsk;if(dz==null)return;var p=new bd(dz.isEnabled?[6,17]:[6,16],this);
p.data={R:g,B:x};t.RS(p);this.BW(p.data,t)}if(g==jn.aN$){var kL=Z.add.lsct==f$.fG?f$.wM:f$.fG,q=t.root.Ty(t.U.indexOf(Z)),gK=!1;
if(h.A(cQ.LE)){var aq=q.parent;for(var n=0;n<aq.children.length;n++){var dh=aq.children[n].B;if(dh.h5())dh.add.lsct=kL}}else Z.add.lsct=kL;
for(var n=0;n<t.l.length;n++){var ad=t.l[n];if(q.ol<ad&&ad<q.index)gK=!0}if(gK)t.l=[q.index];t.zs=!0}if(g==jn.BV){if(!t._U(x))return;
var p=new bd(Z.cD?[6,19]:[6,18],this);p.data={R:g,B:x};t.RS(p);if(d.VE==null||d.VE!=Z.cD)this.BW(p.data,t)}if(g==jn.aGh){if(Z.d5())Z.Xw-=32;
else Z.Xw+=32;t.zs=!0}if(g==jn.QT||g==jn.po){var p;if(g==jn.QT)p=new bd(Z.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(g==jn.po)p=new bd(Z.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);p.data={R:g,B:x};t.RS(p);this.BW(p.data,t)}if(g==jn.lT||g==jn.FC){var c_=d.index,p;
if(g==jn.lT)p=new bd(Z.add.lmfx[kV.dv[c_[0]]].v[c_[1]].v.enab.v?[6,30,0]:[6,29],this);if(g==jn.FC)p=new bd(Z.add.SoLd.filterFX.v.filterFXList.v[c_].v.enab.v?[6,44]:[6,43],this);
p.data={R:g,B:x,index:d.index};t.RS(p);this.BW(p.data,t)}if(g==jn.DD){if(d.src==d.US)return;var dc=t.U[d.src],lq=t.U[d.US],hn=dc.add.lmfx?JSON.stringify(dc.add.lmfx):"",dF=lq.add.lmfx?JSON.stringify(lq.add.lmfx):"";
if(lq.add.lmfx==null){lq.add.lmfx=JSON.parse(kV.default);for(var n=0;n<kV.order.length;n++)lq.add.lmfx[kV.dv[n]]={t:"VlLs",v:[]}}if(d.pd==null){lq.add.lmfx=JSON.parse(hn);
if(!Y)delete dc.add.lmfx}else{var c3=d.pd[0],i8=kV.dv[c3];if(kV.atG.indexOf(kV.order[c3])==-1)lq.add.lmfx[i8].v=[];
lq.add.lmfx[i8].v.push(dc.add.lmfx[i8].v[d.pd[1]]);if(!Y)dc.add.lmfx[i8].v.splice(d.pd[1],1)}var dr=dc.add.lmfx?JSON.stringify(dc.add.lmfx):"",jO=lq.add.lmfx?JSON.stringify(lq.add.lmfx):"";
if(!lq.d5())lq.Xw+=32;var p=new bd("Move Layer Styles",this);p.data={R:g,HJ:d.src,en:d.US,a9L:hn,aAi:dF,ayK:dr,aJj:jO};
t.RS(p);this.BW(p.data,t)}if(g==jn.SJ){if(d.src!=null)x=d.src;var c=t.U[x],d1=JSON.stringify(c.add.SoLd),h3=JSON.parse(d1),d5=h3.filterFX.v.filterFXList.v;
d5.splice(d.pd,1);var p=new bd([6,53],this);p.data={R:jn.Ai,wV:[{Ew:x,wC:[d1,JSON.stringify(h3)]}]};
t.RS(p);this.BW(p.data,t)}if(g==jn.a0I){var em=Y,dc=t.U[d.src],lq=t.U[d.US],fl=[];if(dc!=lq&&lq.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(dc==lq&&!em&&d.pd==d.Gx)return;if(dc==lq&&d.pd==-1)return;var lA=dc.Ip(t),d1=JSON.stringify(dc.add.SoLd),h3=JSON.parse(d1),d5=h3.filterFX.v.filterFXList.v;
if(dc==lq){d5.splice(d.Gx,0,d5[d.pd]);if(!em)d5.splice(d.pd+(d.pd<d.Gx?0:1),1);fl.push({Ew:d.src,wC:[d1,JSON.stringify(h3)]})}else if(d.pd==-1){var av=h3.filterFX;
if(!em){delete h3.filterFX;fl.push({Ew:d.src,wC:[d1,JSON.stringify(h3)],wG:[lA,null]})}var ah=lq.l4()?lq.Ip(t):null,gE=hc.abd(lA),fj=JSON.stringify(lq.add.SoLd),bR=JSON.parse(fj);
bR.placed.v=gE.id;bR.filterFX=av;fl.push({Ew:d.US,wC:[fj,JSON.stringify(bR)],wG:[ah,gE]})}else{var bD=d5[d.pd];
if(!em){d5.splice(d.pd,1);fl.push({Ew:d.src,wC:[d1,JSON.stringify(h3)]})}var fj=JSON.stringify(lq.add.SoLd),bR=JSON.parse(fj);
if(bR.filterFX==null)bR.filterFX=e0.jE();var e1=bR.filterFX.v.filterFXList.v;e1.splice(d.Gx,0,bD);var am={Ew:d.US,wC:[fj,JSON.stringify(bR)]};
if(!lq.l4()){var gE=hc.aO0(lq.add.SoLd.placed.v,t.depth);am.wG=[null,gE]}fl.push(am)}var p=new bd([6,52],this);
p.data={R:jn.Ai,wV:fl};t.RS(p);this.BW(p.data,t)}if(g==jn.Du){var dz=Z._B(),p=new bd(dz.az?[6,26]:[6,25],this);
p.data={R:g,B:x};t.RS(p);this.BW(p.data,t);this.track({oN:"set",mQ:{classID:"setd",null:{t:"obj ",v:[kl.hR("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:dz.az}}}}})}if(g==jn.Yz){var dz=Z.add.vmsk,p=new bd(dz.az?[6,28]:[6,27],this);
p.data={R:g,B:x};t.RS(p);this.BW(p.data,t)}if(g==jn.VY){var p=new bd("Variables / Datasets",this),dj=JSON.stringify([t.a1,t.YD]);
if(dj==d.K)return;p.data={R:g,aDh:dj,awc:d.K};t.RS(p);this.BW(p.data,t)}if(g==jn.PU){var ja=[],p;for(var n=0;
n<t.l.length;n++){var y=t.l[n],m=t.U[y];if(m.add.vogk)ja.push(y,JSON.stringify(m.add.vogk))}for(var n=0;
n<t.lE.length;n++){var y=t.lE[n],m=t.S5[y];if(m.add.vogk)ja.push(-1-y,JSON.stringify(m.add.vogk))}f._5.ayu(t,d.K,d.aFz);
var aj=[];for(var n=0;n<t.l.length;n++){var y=t.l[n],m=t.U[y];if(m.add.vogk)aj.push(y,JSON.stringify(m.add.vogk))}for(var n=0;
n<t.lE.length;n++){var y=t.lE[n],m=t.S5[y];if(m.add.vogk)aj.push(-1-y,JSON.stringify(m.add.vogk))}var F=t.oD();
if(F&&F.data&&F.data.R==g){var dS=!0;for(var n=0;n<ja.length;n+=2)if(ja[n]!=F.data.Qp[n])dS=!1;if(dS){p=F;
p.data.ot=aj}}if(p==null){var p=new bd([12,91,1],this);p.data={R:g,Qp:ja,ot:aj};t.RS(p)}this.BW(p.data,t)}if(g==jn.QO){var eW=JSON.stringify(Z.add.artb),be=JSON.stringify(d.pr),p;
t.U[x].add.artb=JSON.parse(be);var cI=new iW(0,0,t.r,t.$),kP=A.Fv.gg(t),F=t.oD();if(F&&F.data&&F.data.R==g&&F.data.B==x){p=F;
p.data.pr=be}if(p==null){var p=new bd("Editing Artboard",this);p.data={R:g,B:x,a2R:eW,pr:be,xs:cI};t.RS(p)}p.data.GE=kP;
this.BW(p.data,t)}if(g==jn.KQ){var aj=t.gM.slice(0),i0=t.Cv.slice(0),ac=t.p,jR=t.p,E=t.z.b$.slice(0);
if(d.G$=="seltochannel"){var eo=d.HW[0],eP=aj[eo]=aj[eo].b(),q=f.wR.Ga(t.p,eP,d.HW[1]);eP.N=q.N;eP.S=q.S}if(d.G$=="fromAction"){var as=d.K.oN,kF=d.K.mQ;
if(as=="make"||as=="duplicate"){var kW=aj.length,gc=!1,fK=!1;if(t.PW())kW--;var hs=new jn.Ks(t.depth);
hs.name="Alpha "+(kW+1);if(as=="make"){var lo=kF.Nw.v;hs.color=0;i0=[kW];hs.ak=!0;hs.TF=lo.Opct.v;if(lo.Nm)hs.name=lo.Nm.v;
if(lo.classID=="SCch"){gc=!0;jR=null;hs.tJ=1}for(var n=0;n<t.gM.length;n++)t.gM[n].ak=!1;E=[0,0,0]}else{var m=t.U[t.l[0]],cR=m.VL==1?m._B():m.VL==3?m.Ip(t).AU:null,fU=kF.null.v[0].v;
if(kF.Nm)hs.name=kF.Nm.v;if(fU.keyID=="fsel")gc=!0;else if(cR){hs.N=cR.N.slice(0);hs.S=cR.S.b();hs.color=cR.color}else{var g8=A.Oe.a9o(t);
jR=A.Oe.aF2(t,g8);hs.color=0;hs.S=jR.S;hs.N=jR.N}}if(gc){hs.color=0;if(t.p){hs.S=t.p.S.b();hs.N=t.p.N.slice(0)}if(fK){hs.color=255-hs.color;
f.zJ(hs.N)}}aj.splice(kW,0,hs)}else if(as=="delete"){if(Z&&Z._B()&&Z.VL==1){this.Oh({R:jn.yf},v,t,h,X);
return}var i2=t.Cv;i2.sort(function(p,ep){return ep-p});if(i2.length==0)return;for(var n=0;n<i2.length;
n++)aj.splice(i2[n],1);i0=[];E=[1,1,1]}else if(as=="show"||as=="hide"){var jQ=kF.null.v,eS=null,ji=!1;
for(var n=0;n<jQ.length;n++){var l7=jQ[n].v[0].v,j_=l7.enum;if(j_=="Trgt"){if(aj[i0[0]]==null)continue;
aj[i0[0]]=aj[i0[0]].b();aj[i0[0]].ak=as=="show";ji=!0}else{var eo=["Rd","Grn","Bl"].indexOf(j_);if(eS==null)eS=t.z.b$.slice(0);
eS[eo]=as=="show"?1:0}}if(eS){var s=new eG(_.E.F,!0);s.T=A.MD;s.data={R:"setcls",b$:eS};v.J(s);if(!ji)return}}}if(d.G$=="rnm"){aj[d.ja]=aj[d.ja].b();
aj[d.ja].name=d.name}var p=new bd("Channel Edit",this);p.data={R:g,Qp:t.gM.slice(0),agg:t.Cv.slice(0),ot:aj,arI:i0,B2:ac,QK:jR,aFu:t.z.b$.slice(0),ax4:E};
this.BW(p.data,t);t.RS(p)}if(g==jn.Zv){var hb=new iW(0,0,t.r,t.$),p=new bd(d.qq,this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:d.zA,AZ:t.l.slice(0),Bv:d.QK};
t.RS(p);this.BW(p.data,t);var fL=A.Fv.DP(t);if(fL){p.data.xs=hb;p.data.GE=fL}}if(g==jn.o1){var dE=t.A6(null,d.B),gA=1e10;
if(dE.length==0)return;if(t.U.length==dE.length){alert("Project must have at least 1 layer");return}var gF=[];
for(var n=0;n<t.U.length;n++)if(dE.indexOf(n)==-1)gF.push(t.U[n]);for(var n=0;n<dE.length;n++)gA=Math.min(gA,dE[n]);
while(gA>gF.length-1)gA--;gA=Math.max(gA,0);while(gF[gA].name=="</Layer group>")gA++;this.track({oN:"delete",mQ:{classID:"Dlt",null:kl.hR("Lyr",!0)}});
var cI=new iW(0,0,t.r,t.$),p=new bd([6,31],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[gA]};
t.RS(p);this.BW(p.data,t);var kP=A.Fv.gg(t);if(kP){p.data.GE=kP;p.data.xs=cI;A.Fv.DP(t)}}if(g==jn.Zh){if(!h.A(cQ.cm))return;
var p=new bd("Switch Layer Link",this);p.data={R:g,B:d.B};t.RS(p);this.BW(p.data,t)}if(g==jn.kc){var i2=d.arv?d.arv:t.l,gP=0,cD=!1;
if(i2.length==0)return;if(i2.length==1&&t.U[i2[0]].aT==0){alert(f7.get([15,7,5]));return}var km=[];for(var n=0;
n<t.U.length;n++){var jA=t.U[n].aT;km.push(jA);gP=Math.max(gP,jA)}var i4=-1,dv=-1;for(var n=0;n<i2.length;
n++){var jA=t.U[i2[n]].aT;if(jA==0)cD=!0;else if(i4==-1||i4==jA)i4=jA;else dv=jA}if(!cD)for(var n=0;
n<i2.length;n++)t.U[i2[n]].aT=0;else if(i4!=-1&&dv==-1)for(var n=0;n<i2.length;n++)t.U[i2[n]].aT=i4;
else for(var n=0;n<i2.length;n++)t.U[i2[n]].aT=gP+1;var eK=[];for(var n=0;n<t.U.length;n++){var jA=t.U[n].aT;
if(eK[jA]==null)eK[jA]=0;eK[jA]++}for(var n=0;n<t.U.length;n++){var jA=t.U[n].aT;if(eK[jA]==1)t.U[n].aT=0}var k2=km;
km=[];for(var n=0;n<t.U.length;n++){var jA=t.U[n].aT;km.push(jA);gP=Math.max(gP,jA)}var p=new bd(cD?[6,54,0]:[6,54,1],this);
p.data={R:jn.kc,aLu:k2,a3k:km};t.RS(p);this.BW(p.data,t)}if(g==jn.jl&&(d.B!=null||t.l.length!=0)||g==jn.j0){var gl=t.w$(g==jn.jl?d.B:x,null,d.a0f),eU;
if(g==jn.j0){var c=gl[0],as=c.add.SoLd.Idnt.v,d9=t.u7(as).b();c.add.SoLd.Idnt.v=d9.tj=hc.HQ()+as.slice(8);
t.add.lnk2.push(d9)}if(g==jn.jl){var iJ={oN:"duplicate",mQ:{classID:"null",null:kl.hR("Lyr",!0)}};if(d.co){gl[gl.length-1].qv(d.co);
iJ.Nm={t:"TEXT",v:d.co}}this.track(iJ);d.a2E=d.B}g=jn.h$;d.U=gl;d.tq=t;d.qQ=t}if(g==jn.h$){var jl,fd,el=d.tq,cT=d.qQ,jg=0,aw=0,du=el.Hq(),df=!1,b5,ku=0,bX=0;
if(el!=cT){console.log("ADDLAYERS different projs");var jl=new iW(0,0,el.r,el.$),fd=new iW(0,0,cT.r,cT.$),e7=[],dN=[],gw=new iW;
for(var n=0;n<d.U.length;n++){var c=d.U[n];gw=gw.Ue(c.S);if(c.add.SoLd==null)continue;var as=c.add.SoLd.Idnt.v;
if(e7.indexOf(as)==-1){e7.push(as);dN.push(hc.HQ()+as.slice(8))}c.add.SoLd.Idnt.v=dN[e7.indexOf(as)];
var lA=c.Ip(el);if(lA){el.Xi(lA);cT.f1(lA)}}if(du==-1&&!d.g$&&d.aCj&&!fd.GD(gw)){jg=-gw.x;aw=-gw.y}if(e7.length>0){if(cT.add.lnk2==null)cT.add.lnk2=[];
for(var n=0;n<e7.length;n++){var iy=el.u7(e7[n]),d9=iy.b();d9.tj=dN[n];cT.add.lnk2.push(d9)}}}var ac=cT.l.slice(0);
ac.sort(function(p,ep){return p-ep});var gF=cT.U.slice(0),jR=[],cb=-1;for(var n=0;n<ac.length;n++)cb=Math.max(cb,ac[n]);
if(d.a2E!=null)cb=d.a2E;if(d.g$){cb=d.g$-1;var aJ=cT.U[d.g$].x1();jg+=aJ.x;aw+=aJ.y}if(du!=-1&&(el!=cT||d.g$)){var iO=el.U[du].x1();
jg-=iO.x;aw-=iO.y}var i$=cT.Dy();for(var n=0;n<i$[0].length;n++){var iC=i$[1][n];if(iC!=-1)i$[1][n]=gF[iC]}cb++;
for(var n=0;n<d.U.length;n++){var m=d.U[n],h4=m.add.artb;gF.splice(cb,0,m);jR.push(cb);cb++;if(h4){b5=!0;
var ii=h4.guideIndeces;if(ii){ii=ii.v;for(var bx=0;bx<ii.length;bx++){i$[0].push(el.MQ[ii[bx].v].slice(0));
i$[1].push(m);df=!0}}}}for(var n=0;n<i$[0].length;n++){var iC=i$[1][n];if(iC!=-1)i$[1][n]=gF.indexOf(iC)}for(var n=0;
n<d.U.length;n++){var m=d.U[n];if(m.add.lsct==f$.Xr){if(ku==0)bX++;ku++}else if(m.h5())ku--}if(bX==1)jR=[cb-1];
var e9=d.aEy;if(e9){var L=[];for(var n=0;n<jR.length;n++)L.push(gF[jR[n]]);for(var n=0;n<e9.length;n++)gF.splice(gF.indexOf(e9[n]),1);
jR=[];for(var n=0;n<L.length;n++)jR.push(gF.indexOf(L[n]))}var p=new bd([6,0],this);p.data={R:jn.Zv,ID:cT.U.slice(0),zA:gF,AZ:ac,Bv:jR};
if(df){p.data._l=[cT.Dy(),i$]}cT.RS(p);this.BW(p.data,cT);if(jg!=0||aw!=0)A.jt.n8(cT,cT.A6(),null,jg,aw);
if(b5){p.data.xs=new iW(0,0,cT.r,cT.$);p.data.GE=A.Fv.gg(cT);A.Fv.DP(cT)}if(el.depth!=cT.depth){alert("Converting from "+el.depth+"-bit mode to "+cT.depth+"-bit mode.");
A.hZ.aFD(cT,cT.l,cT.depth)}var a_=el.yr(),j3=cT.yr();if(el!=cT&&(a_||j3)){if(a_&&j3&&f.fE(a_[0],j3[0])){}else{alert("Converting between color spaces");
var b4=17;if(a_){var dw=a_[1],l3=ICC.U.sampleLUT(dw,b4);for(var n=0;n<d.U.length;n++){var ep=d.U[n].buffer;
ICC.U.applyLUT(l3,b4,ep,ep)}}if(j3){var dw=j3[1],l3=ICC.U.sampleLUT(dw,b4,!0);for(var n=0;n<d.U.length;
n++){var ep=d.U[n].buffer;ICC.U.applyLUT(l3,b4,ep,ep)}}}}}if(g==jn.eC){var ao=d.B!=null?[d.B]:t.A6(),gF=t.U.slice(0);
for(var n=0;n<ao.length;n++){var m=t.U[ao[n]].b();m.XJ(t);gF.splice(ao[n],1,m)}var p=new bd([6,8],this);
p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:t.l.slice(0)};t.RS(p);this.BW(p.data,t)}if(g==jn.auT){var gF=t.U.slice(0),m=gF[t.l[0]]=gF[t.l[0]].b(),ls=m.add.lmfx,eJ,aJ;
delete m.add.lmfx;var f2=t.l[0],eH=f2+1;if(m.h5()){var jf=t.U[t.l[0]].nG;aJ=jf.aoF;eJ=jf.ql;var q=t.root.Ty(f2);
f2=q.ol}else{aJ=m.S;eJ=f.m(aJ.k());f.Po(f.OO(m.buffer,8),eJ,3)}var kh=lb.Jt(ls,m.add.fxrp,eJ,aJ,t,aJ),dX=kh.e;
lb.aqd(kh);for(var n=0;n<kV.order.length;n++){var cq=kV.order[n],is=dX[cq];is.reverse();for(var bx=0;
bx<is.length;bx++){var hO=is[bx],L=t.vv(),gR=n>7;if(cq=="ebbl"){if(hO._6||hO.C7){var aL=hO._6?hO._6:hO.C7;
if(hO._6)delete hO._6;else delete hO.C7;if(hO.C7||hO.Vf)bx--}else if(hO.Vf||hO.JF){var aL=hO.JF?hO.JF:hO.Vf;
if(hO.JF){delete hO.JF;if(hO.Vf)bx--}gR=!0}hO=aL}L.uF=hO.Z3;L.JS=Math.round(255*hO.J9);L.buffer=f.OO(hO.sN,t.depth);
L.S=hO.QN.b();L.S.offset(aJ.x,aJ.y);if(cq=="FrFX"){L.buffer=L.buffer.slice(0);f.Gj(f.OO(hO.k$?hO.k$:hO.wi,t.depth),L.buffer,3);
if(hO.k$){gR=!0;delete hO.k$;if(hO.wi)bx--}}L.cD=!gR;L.qv(m.getName()+"'s "+f7.get(kV.names[n]));gF.splice(gR?f2:eH,0,L);
if(gR)eH++}}var p=new bd("Styles to Layers",this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[eH-1]};
t.RS(p);this.BW(p.data,t)}if(g==jn.aha){var ao=t.A6(),gF=t.U.slice(0),jw=new iW(0,0,t.r,t.$);for(var n=0;
n<ao.length;n++){var iH=t.U[ao[n]],h7=iH.ZC();iH.fF(!0);var lh=t.root.Ty(ao[n]);if(iH.h5())continue;
if(lh==null)continue;var m=iH.b();m.XJ(t);var f5=lh.pT(t,!0),aH=t.U;t.xd([iH]);t.uM();t.Yn();m.buffer=f.m(f5.k()*4);
f.wH(t.jP(),jw,m.buffer,f5);m.S=f5;m.JS=255;m.add.iOpa=255;m.uF="norm";m.uM();m.nG.sj=!0;t.xd(aH);if(m.add.lmfx)delete m.add.lmfx;
m.AU=m._k=null;gF.splice(ao[n],1,m);m.fF(h7);iH.fF(h7)}var p=new bd([6,34],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:t.l.slice(0)};
t.RS(p);this.BW(p.data,t)}if(g==jn.by){var ao=t.A6(),gF=t.U.slice(0);for(var n=0;n<ao.length;n++){var m=t.U[ao[n]],jS=m.add.TySh;
if(jS==null)continue;var c=new cl(jS.Oo,X.FP,jS.s1),de=f.Q.Tl(ka.qp(c,jS,!0));for(var kf in de){var gm=de[kf],dh=m.b();
delete dh.add.TySh;dh.Xw=dh.Xw|1<<4;dh.add.SoCo=f.v(kV.Em[0]);var jt=dh.add.SoCo.Clr.v;jt.Rd.v=parseInt(kf.slice(1,3),16);
jt.Grn.v=parseInt(kf.slice(3,5),16);jt.Bl.v=parseInt(kf.slice(5,7),16);var c9=new jn.rz;c9.D=f.Q.Q$(gm,!1);
if(dh.add.vmsk!=null){dh.add.vmsk.a7v();c9.concat(dh.add.vmsk)}dh.add.vmsk=c9;dh.add.vstk=kV.UY.yu(!0);
dh.bB();dh.tG(t);gF.splice(gF.indexOf(m),0,dh)}gF.splice(gF.indexOf(m),1)}var jR=t.l.slice(0);for(var n=jR.length-1;
n>=0;n--)if(jR[n]>=gF.length)jR.splice(n,1);var p=new bd([6,40],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:jR};
t.RS(p);this.BW(p.data,t)}if(g==jn.acQ){var ic=t.l.length,fB,bw;if(ic<2){alert("Select two or more layers.");
return}for(var n=0;n<ic;n++){var iO=t.U[t.l[n]].S;fB=n==0?iO:fB.hL(iO);bw=n==0?iO:bw.Ue(iO)}if(fB.k()*1.2>bw.k()){alert("stacking images");
var ai=[],hV=[];for(var n=0;n<ic;n++){var m=t.U[t.l[n]];ai.push(m.buffer);hV.push(m.S)}var iX=f.abX.RM(ai,hV),jc=iX[0],iR=iX[1],hC=[];
for(var n=0;n<ic;n++){var dz=new jn.Ks(t.depth);dz.color=255;dz.S=iR;dz.N=jc[n];hC.push(t.l[n],null,dz)}var p=new bd("Focus-Stack",this);
p.data={R:jn.nE,NO:hC};t.RS(p);this.BW(p.data,t);return}if(!t.sD())return;var dh=t.U[t.l[0]].b(),gF=[];
for(var n=0;n<t.U.length;n++)if(t.l.indexOf(n)==-1)gF.push(t.U[n]);gF.splice(t.l[0],0,dh);for(var n=1;
n<ic;n++)if(t.U[t.l[n]].S.k()>2e6){alert("Blended areas are too large.");return}for(var n=1;n<ic;n++){var m=t.U[t.l[n]],iR=m.S.b();
iR.o2(1,1);var ep=f.m(iR.k()*4);f.wH(m.buffer,m.S,ep,iR);dh.extend(iR);var cL=f.m(iR.k()*4);f.wH(dh.buffer,dh.S,cL,iR);
var p=f.m(iR.k());f.Po(ep,p,3);f.round(p,200);f.Gj(p,ep,3);f.V.Qe("norm",ep,iR,cL,iR,iR,1);f._L.oC(cL,p,iR);
f.wH(cL,iR,dh.buffer,dh.S)}var p=new bd([2,10,0],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[t.l[0]]};
t.RS(p);this.BW(p.data,t)}if(g==jn.kt){var gF=t.U.slice(0),i0=t.l.slice(0);for(var n=0;n<gF.length;n++){var m=gF[n],cW=m.add.vmsk;
if(m.c5()&&cW&&m.add.vstk.strokeEnabled.v&&!m.add.vstk.fillEnabled.v){var aa=cW.D,hB=0,hK=-1;for(var bx=0;
bx<aa.length;bx++){if((aa[bx].e==0||aa[bx].e==3)&&aa[bx].qG!=-1){hB++;if(aa[bx].e==3&&hK==-1){aa[bx].Dk=aa[bx].qG=1;
hK=bx}}}if(hB>1&&hK!=-1&&hB<10){console.log("separating an open path into a new layer");m=m.b();cW=m.add.vmsk;
aa=cW.D;var L=aa[hK].length,e9=m.b();e9.add.lyid=t.xC();cW.D=aa.slice(0,2).concat(aa.slice(hK,hK+L+1));
cW.l=[];m.tG(t);m.uM();var bg=e9.add.vmsk.D;e9.add.vmsk.D=bg.slice(0,hK).concat(bg.slice(hK+L+1,bg.length));
e9.add.vmsk.l=[];e9.tG(t);gF[n]=m;gF.splice(n+1,0,e9);for(var bx=0;bx<i0.length;bx++)if(i0[bx]>n)i0[bx]++;
var aN=i0.indexOf(n);if(aN!=-1){i0.splice(aN+1,0,n+1)}}}}if(gF.length!=t.U.length){var p=new bd("Splitting open paths",this);
p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:i0};t.RS(p);this.BW(p.data,t)}}if(g==jn.fD){this.Oh({R:jn.kt},v,t,h,X);
var ac=t.l.slice(0),aH=t.U.slice(0),ao=t.A6();if(ao.length==0)return;t.azC(ao,!1,d.Cm);var p=new bd([6,36,0],this);
p.data={R:jn.Zv,ID:aH,zA:t.U.slice(),AZ:ac,Bv:t.l.slice(0)};t.RS(p);this.BW(p.data,t)}if(g==jn.a0_){var d1=Z.add.SoLd;
if(d1==null)return;var as=d1.Idnt.v,ed=t.u7(as);ed.jP(!1);var jZ=f.OO(ed.Rc[0],8),iR=ed.Rc[1];if(f.jF(jZ)){alert("The smart object contains transparency.");
return}var gs=b3.bV("jpg").V$([[jZ.buffer]],iR.r,iR.$,[90]);this.Oh({R:jn.El,data:new Uint8Array(gs),Ps:"image.jpg"},v,t,h,X);
console.log(t.add);return}if(g==jn.Cf){var d1=Z.add.SoLd,ky=!1;if(d1==null)return;var as=d1.Idnt.v,ab=new hc;
e4.lS(t.Cq(as).raw.buffer,ab);if(d.G$!="del")for(var n=1;n<ab.U.length-1;n++)ab.U[n].fF(!1);if(d.G$=="switch"){ab.U[d.K].fF(!0);
ky=!0}else if(d.G$=="del"){ab.U.splice(d.K,1);ab.l=[ab.U.length-1]}else{var m=ab.vv();m.S=Z.S.b();m.qv(d.apb);
var kq=m.buffer=f.m(m.S.k()*4);f.wH(d.K[0],d.K[1],kq,m.S);m.S.x=m.S.y=0;ab.U.splice(ab.U.length-1,0,m)}var by=b3.d9.V$(ab);
this.Oh({R:jn.El,data:new Uint8Array(by),Ps:"image.psd",id:as,aNT:ky},v,t,h,X);return}if(g==jn.El){var jw=d.Vr,as=d.id;
if(jw==null)jw=t;if(as==null)as=Z.add.SoLd.Idnt.v;var iy=jw.u7(as),d9=iy.b();d9.raw=d.data;d9.Ps=d.Ps;
var im=b3.IF(d.data.buffer);if(im=="psd"){d9.Cd="8BIM";d9.Ci="8BPB"}else{d9.Cd="    ";d9.Ci="    "}d9.jP(!1);
iy.jP(!1);var N=t.oD();if(d.aNT&&N&&N.T==this&&N.data.R==g&&N.data.id==as){p=N;p.data.HD=d9}else{var p=new bd(d.aNT?"Select Variation":[6,36,1],this);
p.data={R:jn.El,id:as,aLx:iy,HD:d9};jw.RS(p)}this.BW(p.data,jw)}if(g==jn.gC){var p=new bd([6,36,4],this);
p.data={R:g,B:x,Mo:Z.add.SoLd.Impr.v.classID,VE:d.VE};t.RS(p);this.BW(p.data,t)}if(g==jn.Ng){var bT,kN;
if(d.uK){bT=d.Vr;kN=d.uK}else{d.Vr.nA();d.Vr.Zd();d.Vr.uM();d.Vr.Yn();d.Vr.jP();bT=b3.bV("PSD").V$(d.Vr,0,0,[!0,!0]);
kN=d.Vr.name}if(!(bT instanceof ArrayBuffer))throw"e";bT=new Uint8Array(bT);var J=d.r5;if(J==null){if(t.l.length==0)J=t.l.length;
else{var ad=t.l[t.l.length-1],L=t.U[ad];J=L.h5()?ad:ad+1}}var i1=new iW(0,0,t.r,t.$),hM=t.Hq();if(hM!=-1)i1=t.U[hM].x1();
var jd=t.b0(bT,kN,null,null,i1,X.FP,v),gF=t.U.slice(0);gF.splice(J,0,jd);var p=new bd([6,36,2],this);
p.data={R:jn.Zv,ID:t.U.slice(),zA:gF,AZ:t.l.slice(0),Bv:[gF.indexOf(jd)]};t.RS(p);this.BW(p.data,t)}if(g==jn.Ex&&d.G$=="merge"){var ia=[],ei=t.root.children,j2=0;
for(var n=0;n<ei.length;n++){var q=ei[n],m=q.B,aV=q.children,aY=!0;if(!m.h5()||aV.length==0)continue;
for(var bx=0;bx<aV.length;bx++)if(!aV[bx].B.getName().startsWith("_a_")){aY=!1;break}if(aY)ia.push(t.U.indexOf(m))}var fw=[];
for(var n=0;n<ia.length;n++)if(t.l.indexOf(ia[n])!=-1)fw.push(ia[n]);if(fw.length>=2)ia=fw;if(ia.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var dR=[];for(var n=0;n<ia.length;n++)dR.push(t.U[ia[n]].getName());var is=[];for(var cE=0;cE<ia.length;
cE++){var q=t.root.Ty(ia[cE]),am=[[],[],0,cE];is.push(am);for(var n=0;n<q.children.length;n++){var y=q.children[n].index,m=q.children[n].B,hs=m.getName(),jh=20,gN=hs.split(",");
if(gN.length>1){var h8=parseInt(gN.pop());if(!isNaN(h8)&&h8!=0)jh=h8}if(jh<17)jh=17;am[0].push(m);am[1].push(jh);
am[2]+=jh}}is.sort(function(p,ep){return ep[2]-p[2]});if(is[0][2]>2e3){var dZ=0,cf=0;for(var n=0;n<is.length;
n++){var d8=is[n][1].length/is[n][2];if(d8>cf){cf=d8;dZ=n}}var hY=(is[0][2]/1e3).toFixed(1),gG=window.confirm("- \""+dR[is[0][3]]+"\" is "+hY+" seconds long\n"+"- \""+dR[is[dZ][3]]+"\" is playing at "+Math.round(cf*1e3)+" frames per second\n"+"A merged animation must be "+hY+" sec, up to "+Math.round(is[0][2]*cf)+" frames. Proceed?");
if(!gG)return}var i6=is[0],iv=i6[2];for(var iC=1;iC<is.length;iC++){var am=is[iC],b6=1,gh=am[1].slice(0),fO=0;
while((b6+1)*am[2]<=i6[2]){b6++;gh=gh.concat(am[1])}am[1]=gh;am[2]*=b6;var eI=i6[2]/am[2];for(var n=0;
n<am[1].length;n++){var di=Math.floor(am[1][n]*eI);am[1][n]=di;fO+=di}while(fO<iv){fO++;am[1][am[1].length-1]++}am[2]=fO}var kT=[],b$=[],di=[];
for(var n=0;n<is.length;n++){kT.push(0);b$.push(0)}while(j2<iv){var bt=1e9,kW=-1;for(var n=0;n<is.length;
n++){var aG=is[n][1],f2=kT[n];if(f2!=aG.length&&b$[n]+aG[f2]<j2+bt){kW=n;bt=b$[n]+aG[f2]-j2}}b$[kW]+=is[kW][1][kT[kW]];
kT[kW]++;if(bt!=0){di.push(bt);j2+=bt}}for(var n=1;n<di.length;n++){var fm=di[n];if(fm<16&&(di[n-1]<16||n<di.length-1&&16<=di[n+1])){di[n-1]+=fm;
di.splice(n,1);n--}}var h7=[],jw=new iW(0,0,t.r,t.$);for(var n=0;n<t.U.length;n++){h7[n]=t.U[n].ZC();
t.U[n].fF(!1)}var dA=t.l.slice(0);t.l=ia;var dE=t.A6();dE.sort(function(p,ep){return p-ep});var gF=[];
for(var n=0;n<t.U.length;n++){if(dE.indexOf(n)==-1)gF.push(t.U[n])}is.sort(function(p,ep){return p[3]-ep[3]});
function dI(aG,i7){var n=0,ba=0;while(ba+aG[n]<=i7){ba+=aG[n];n++}return n}j2=0;gF.splice(dE[0],0,t.Rw());
for(var h6=0;h6<di.length;h6++){var r=[];for(var n=0;n<is.length;n++){var f2=dI(is[n][1],j2)%is[n][0].length,m=is[n][0][f2];
r.push(m)}var m=t.vv();for(var n=0;n<is.length;n++){var kM=r[n],aq=t.U[ia[n]];kM.fF(!0);aq.fF(!0)}t.uM();
t.Yn();var jZ=t.jP();m.S=f.mZ(jZ,jw,2);m.buffer=f.m(m.S.k()*4);f.wH(jZ,jw,m.buffer,m.S);for(var n=0;
n<is.length;n++){var kM=r[n],aq=t.U[ia[n]];kM.fF(!1);aq.fF(!1)}m.fF(h6==0);m.qv("_a_frm"+h6+","+di[h6]);
gF.splice(dE[0]+1+h6,0,m);j2+=di[h6]}var m=t.vv();m.qv(dR.join(" + "));m.uF="pass";m.add.lsct=f$.wM;
m.Xw=24;gF.splice(dE[0]+1+di.length,0,m);for(var n=0;n<t.U.length;n++)t.U[n].fF(h7[n]);var p=new bd([6,12,0],this);
p.data={R:jn.Zv,ID:t.U,zA:gF,AZ:dA,Bv:[dE[0]+1+di.length]};t.RS(p);this.BW(p.data,t)}if(g==jn.IC){var hF=d.wR,dy=t.l.slice(0);
dy.sort(function(p,ep){return p-ep});if(dy.length<2){alert("Select at least two layers.");return}for(var n=0;
n<dy.length;n++)if(!t.U[dy[n]].c5()){alert("Select only vector shapes.");return}var jp=[["AuB"],["AsB"],["AiB"],["AsB","BsA"],["AsB","BsA","AiB"],["AsB","B"],["AuB"],["BsAs","AiB"],["BsAs","AiBs","AsBs"],["BsA"]],gl=[],kn=jp[hF],fZ=jn.rz.Pf,aS=t.U[dy[0]].add.vmsk,bC=t.U[dy[1]].add.vmsk,H=fZ(aS.D),bF=fZ(bC.D);
for(var n=2;n<dy.length;n++)bF=bF.concat(t.U[dy[n]].add.vmsk.D.slice(2));H[2].Dk=aS.Dk==0?2:1;for(var n=3;
n<H.length;n++)if(H[n].qG!=null)H[n].qG=-1;bF[2].Dk=bC.Dk==0?2:1;for(var n=3;n<bF.length;n++)if(bF[n].qG!=null)bF[n].qG=-1;
if(kn.length>1)gl.push(t.Rw());for(var n=0;n<kn.length;n++){var jJ=kn[n],m=t.U[dy[hF==1?0:dy.length-1]].b(),cW=m.add.vmsk;
f._5.Z7(m.add.vogk);gl.push(m);if(jJ.length==1)cW.D=fZ(jJ=="A"?H:bF);else{var p=H,ep=bF;if(jJ[0]=="B"){p=bF;
ep=H}p=fZ(p);ep=fZ(ep);for(var bx=0;bx<ep.length;bx++)if(ep[bx].qG!=null&&ep[bx].qG!=-1)ep[bx].qG={u:1,s:2,i:3}[jJ[1]];
cW.D=f.t.T3(p.concat(ep.slice(2)));if(jJ[3]=="s")m.add.vstl.W4=[]}}if(kn.length>1){var m=t.vv();m.qv("<Group>");
gl.push(m);m.add.lsct=f$.wM;m.uF="pass";m.Xw=24}var gF=[],jR=[];for(var n=0;n<t.U.length;n++)if(dy.indexOf(n)==-1)gF.push(t.U[n]);
for(var n=0;n<gl.length;n++){gF.splice(dy[0]+n,0,gl[n]);jR.push(dy[0]+n)}var p=new bd("Pathfinder",this);
p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l,Bv:jR};t.RS(p);this.BW(p.data,t)}if(g==jn.ahb){var gF=t.U.slice(0),jR=[],kW=t.l[0],ad=0;
gF.splice(kW,1);var iH=t.U[kW];while(!0){var m=iH.b(),cW=m.add.vmsk,aa=cW.D,hu=f.t.fn(aa,ad),k7=f.t.fn(aa,ad+1);
if(hu==-1)break;if(k7==-1)k7=1e9;cW.D=aa.slice(0,2).concat(aa.slice(hu,k7));m.tG(t);gF.splice(kW+ad,0,m);
jR.push(kW+ad);ad++}var p=new bd([6,12,0],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:jR};
t.RS(p);this.BW(p.data,t)}if(g==jn.AX||g==jn.Wa){var es=t.l.length==1&&!t.U[t.l[0]].h5(),j9=!0,jd=null,jR;
if(es&&t.l[0]==0)return;var iD=g==jn.AX&&d.B!=null&&t.l.indexOf(d.B)==-1,aH=t.U.slice(0),ac=t.l.slice(0);
if(es||iD)t.l=[x,x-1];if(g==jn.Wa){t.l=[];for(var n=0;n<t.U.length;n++)if(t.U[n].ZC())t.l.push(n)}var ao=t.A6();
ao.sort(function(p,ep){return p-ep});var bs=new iW,jw=new iW(0,0,t.r,t.$);for(var n=0;n<ao.length;n++){var y=ao[n],m=t.U[y];
if(m.h5()||m.getName()=="</Layer group>")continue;j9=j9&&m.c5()&&m.add.vmsk!=null;bs=bs.Ue(t.root.Ty(y).pT(t,!0))}if(d.wR!=null&&!j9){alert("Select shape layers only.");
return}if(j9){var cW=null,hF=d.wR;for(var n=0;n<ao.length;n++){var L=t.U[ao[n]];if(j8==0&&L.S.k()==0)continue;
if(jd==null){jd=L.b();cW=jd.add.vmsk}else{var L=t.U[ao[n]],bg=jn.rz.Pf(L.add.vmsk.D);if(hF!=null)for(var bx=0;
bx<bg.length;bx++)if(bg[bx].qG!=null&&bg[bx].qG!=-1)bg[bx].qG=[1,2,3,0][hF];cW.D=cW.D.concat(bg.slice(2));
jd.add.vogk=jd.add.vogk.concat(f.v(L.add.vogk))}}jd.add.vmsk.vF=!0;jd.tG(t)}else if(jw.GV(bs)){jd=t.vv();
jd.qv(t.U[ao[ao.length-1]].getName());jd.S=bs;jd.buffer=f.m(bs.k()*4,t.depth);var bG=t.add.artd;delete t.add.artd;
var dt=t.jP(ao);if(bG)t.add.artd=bG;f.wH(dt,jw,jd.buffer,bs);jd.s4();jd.uM()}else{t.azC(ao,!0);jd=t.U[t.l[0]];
t.U.splice(t.l[0],1);var i_=t.u7(jd.add.SoLd.Idnt.v);t.add.lnk2.splice(t.add.lnk2.indexOf(i_),1);delete jd.add.SoLd}var lg=Y,hG=-1;
if(d.mQ&&d.mQ.Dplc&&d.mQ.Dplc.v)lg=!0;if(lg&&g==jn.Wa&&ac.length!=0&&t.U[ac[0]].Kz()&&t.U[ac[0]].S.HP()){hG=ac[0]}if(hG!=-1||es){var hP=t.U[hG!=-1?hG:x-1];
jd.qv(hP.getName());jd.add.lclr=hP.add.lclr}var gF=[];for(var n=0;n<t.U.length;n++)if(lg||ao.indexOf(n)==-1)if(n!=hG)gF.push(t.U[n]);
var dp=ao[ao.length-1],a8=dp==t.U.length-1?null:t.U[dp+1],aP=a8?gF.indexOf(a8):gF.length;gF.splice(aP,0,jd);
jR=[aP];if(iD)jR=ac.slice(0);var p=new bd([6,12,0],this);p.data={R:jn.Zv,ID:aH,zA:gF,AZ:ac,Bv:jR};t.RS(p);
this.BW(p.data,t)}if(g==jn.aLg){var dh=t.vv();dh.S=new iW(0,0,t.r,t.$);dh.buffer=f.m(dh.S.k()*4);dh.buffer.fill(255);
f.V.Qe("norm",t.jP(),dh.S,dh.buffer,dh.S,dh.S,1);dh.qv("Background");dh.add.lspf=1<<2;var p=new bd([6,12,1],this);
p.data={R:jn.Zv,ID:t.U.slice(),zA:[dh],AZ:t.l.slice(0),Bv:[0]};t.RS(p);this.BW(p.data,t)}var bo=g==jn.g8||g==jn.L3;
if(g==jn.XK||g==jn.Ts||g==jn.$z||g==jn.mj||bo){var m=bo?t.w$()[0]:t.vv(),jV=f7.get([0,3]),e$=d.co,dH=!1,hL,k_;
if(g==jn.$z)jV=f7.get([12,76,1]);if(bo){if(t.p){var iH=t.U[t.l[0]],fp=iH.DE(t,t.p);if(fp==null){alert("Copied area is empty");
return}m.S=fp.S;m.buffer=fp.Gw;m.XJ(t);m.fF(!0)}else e$=m.getName();m.add.lspf=0;m.cD=!1;if((m.Xw&1)!=0)m.Xw--}if(g==jn.mj){m.S=A.OJ.a05(d.H4,t);
m.buffer=f.OO(d.H4.buffer.slice(0),f.UJ(m.buffer));if(d.asj&&t.p){m.AU=new jn.Ks(t.depth);m.AU.S=t.p.S;
m.AU.color=0;m.AU.N=t.p.N.slice(0)}}if(g==jn.XK){this.track({oN:"make",mQ:{classID:"Mk",null:kl.hR("Lyr")}})}if(g==jn.Ts){m.Xw|=16;
var dV=d.mQ.Usng.v,er=dV.Type.v,bl=cV.Hz[er.classID];jV=f7.get(cV.names[bl]);if(dV.Nm)e$=dV.Nm.v;m.add[bl]=e0.yu(bl);
if(m.add[bl]==null)m.add[bl]={};for(var gn in er)m.add[bl][gn]=f.v(er[gn]);m.AU=A.OJ.aB6(t);m.VL=1}if(g==jn.$z){m.Xw|=16;
var kF=d.mQ,dV=kF.Usng.v,ey=dV.Type.v,gB=dV.Shp;if(dV.Nm)e$=dV.Nm.v;if(gB==null){var c2=t.V9(),de=c2[0],fP=c2[1];
if(fP.length!=0&&de[fP[0]].ja<0){var hh=de[fP[0]].add;m.add.vmsk=hh.vmsk.b();m.add.vstk=kV.UY.yu(!0);
m.add.vogk=f.v(hh.vogk);t.lE=[]}else m.AU=A.OJ.aB6(t)}else{m.add.vmsk=new jn.rz;m.add.vstk=f.v(dV.strokeStyle?dV.strokeStyle.v:kV.UY.yu(!0));
m.add.vogk=[];if(gB){var hH=f._5.zF(gB,t.r,t.$);if(hH){m.add.vogk=[hH];m.add.vmsk.D.push({e:0,qG:1,length:0});
f._5.MG(m.add.vogk,m.add.vmsk)}else{gB=gB.v;var cU=gB.classID;if(cU=="Plgn"){var l7=gB.Cntr.v,iO=gB.corner.v;
l7=new cK(l7.Hrzn.v.val,l7.Vrtc.v.val);iO=new cK(iO.Hrzn.v.val,iO.Vrtc.v.val);m.add.vmsk.D=f.t.I7.af(l7.x,l7.y,Math.sqrt(iO.x*iO.x+iO.y*iO.y),Math.atan2(iO.y,iO.x),gB.sides.v,0)}else if(cU=="customShape"){var j6=f._5.$i(gB),e6=j6[2]-j6[0],dC=j6[3]-j6[1],gf=X.qI,cv,dL;
for(var n=0;n<gf.length;n++)if(gf[n].ar==gB.Nm.v)cv=gf[n];if(cv){dL=jn.rz.Pf(cv.D);f.t.kh(dL,new gi(e6,0,0,dC,j6[0],j6[1]))}else dL=f.t.I7.Rect(j6[0],j6[1],e6,dC,0);
m.add.vmsk.D=dL}m.bB()}}}if(j8==0){var kx={solidColorLayer:0,gradientLayer:1,patternLayer:2}[ey.classID],ck=["SoCo","GdFl","PtFl"][kx];
m.add[ck]=f.v(kV.Em[kx]);if(kx==0)m.add[ck].Clr.v=f.iF.Zi(f.le(X.Sw));A.OJ.mw(ey,m.add[ck],kx);if(gB==null)jV=f7.get([6,48,0,kx]);
var kA=t.Hq();if(ck=="GdFl"&&kA!=-1){var aJ=t.U[kA].x1(),dJ=aJ.x+aJ.r/2,il=aJ.y+aJ.$/2,eN=m.add[ck].Ofst.v;
eN.Hrzn.v.val=Math.round(100*(-.5+dJ/t.r));eN.Vrtc.v.val=Math.round(100*(-.5+il/t.$));var eI=Math.min(aJ.r/t.r,aJ.$/t.$);
m.add[ck].Scl.v.val=Math.round(100*eI)}if(ck=="PtFl"){var bM=m.add[ck].Ptrn.v,gN=lb.Jg(bM,X.Da);if(gN==null)gN=lb.Jg(bM,t.add.Patt);
if(gN==null)gN=X.Da[0];bM.Idnt.v=gN.id;t.HM(gN)}m.tG(t)}else{m.add.vstl=f.v(X.aFi)}}var ic=A.OJ.rY(t,jV+" ");
m.qv(jV+" "+(ic+1));if(e$)m.qv(e$);var dO=t.l.length==0?t.U.length-1:t.l[t.l.length-1],gJ=t.U[dO];if(j8==0&&g==jn.$z&&gJ.Kz()&&gJ.S.HP()){dH=!0;
m.qv(gJ.getName());hL=dO}else{hL=dO+(g==jn.XK&&z&&!a?0:1);if(gJ&&gJ.add.lsct==f$.fG)hL--}if(d.aAV)hL=Math.max(0,hL-1);
var gF=t.U.slice(0);if(g==jn.L3){var bQ=gF[t.l[0]]=gF[t.l[0]].b(),jY=t.p.N.slice(0);f.zJ(jY);f.Qc(jY,t.p.S,bQ.buffer,bQ.S)}gF.splice(hL,dH?1:0,m);
var fo=[5,2];if(g==jn.XK)fo=[6,13];if(g==jn.Ts)fo=[6,1];if(g==jn.$z){fo=[6,48,1];var gB=d.mQ.Usng.v.Shp;
if(gB){var fD={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[gB.v.classID];
if(fD)fo=fD}}if(bo){fo=[6,49,g==jn.g8?0:1]}if(bo||g==jn.$z||g==jn.mj||g==jn.Ts)if(t.p)k_=[t.p,null];
var p=new bd(fo,this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[hL],MZ:k_};t.RS(p);this.BW(p.data,t);
if(g==jn.$z&&gB==null&&kx!=0||g==jn.Ts){var w=new eG(_.E.c);w.data={R:_.Y.Qu,cG:f1.q2.Ol};v.J(w)}}if(g==jn.aoW){var gF=t.U.slice(0),m=t.U[t.l[0]],bH=m.S.k(),cy=bH*4,c_=gF.indexOf(m),hP=t.vv();
hP.qv("Decomposition");hP.add.lsct=f$.fG;hP.uF="pass";hP.Xw=24;gF.splice(c_+1,0,hP);gF.splice(c_+1,0,t.Rw());
var cx=m.b();cx.qv("Residual");gF.splice(c_+2,0,cx);function bt(p,ep,n){ep[n]+=128-p[n];ep[n+1]+=128-p[n+1];
ep[n+2]+=128-p[n+2];ep[n+4]+=128-p[n+4];ep[n+5]+=128-p[n+5];ep[n+6]+=128-p[n+6]}gF.splice(c_,0);var fz=Date.now();
for(var cG=0;cG<5;cG++){var e9=cx.b();gF.splice(c_+3,0,e9);e9.JS=128;e9.uF="lLit";e9.qv("Scale "+(cG+1));
e0.ta(1<<cG,1,cx.buffer,m.S);var j6=cx.buffer,aB=new Uint8ClampedArray(e9.buffer.buffer);for(var n=0;
n<cy;n+=8)bt(j6,aB,n)}var p=new bd("Wavelet Decompose",this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[c_+2]};
t.RS(p);this.BW(p.data,t)}if(g==jn.yC){var m=t.vv(),jV=f7.get([0,4]),ic=A.OJ.rY(t,jV+" ");m.qv(jV+" "+(ic+1));
m.uF="pass";m.add.lsct=f$.fG;m.Xw=24;if(d.co)m.qv(d.co);if(d.Qj!=null)m.add.lclr=d.Qj;var fC=t.Rw(),dO=x,hL=dO+(z?0:1),gF=t.U.slice(0);
gF.splice(hL,0,fC,m);var p=new bd([6,20],this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[hL+1]};
t.RS(p);this.BW(p.data,t)}if(g==jn.F$||g==jn.pi){var ff=g==jn.F$?d.source:t.l[0],ju,d4,d6=t.l.indexOf(ff)!=-1,b_=Y|d.at3,kz,bt=null;
if(d6)kz=t.A6();else kz=t.YS(ff);kz.sort(function(p,ep){return p-ep});if(g==jn.F$){ju=d.target;d4=d.Hj>.5}else if(d.target!=null){ju=Math.min(d.target,t.U.length-1);
d4=d.target<t.U.length;t.oZ=!0}else{var fv=d.G$;d4=fv>1;if(fv==0){ju=t.U.length-1}if(fv==1){ju=kz[kz.length-1]+1;
var L=t.YS(ju);if(L.indexOf(ff)==-1)ju+=L.length-1}if(fv==2){ju=kz[0]-1;var L=t.YS(ju);if(L.indexOf(ff)==-1)ju-=L.length-1}if(fv==3){ju=0;
if(t.U[0].add.lnsr=="bgnd")ju++}if(ju<0||ju>t.U.length-1)return;t.oZ=!0}if(kz.indexOf(ju)!=-1&&!b_)return;
var iu=A.OJ.sZ(t,kz,ju,d4,b_?t.w$(d6?null:ff):null,g==jn.F$&&d.Hj>.8),eq=iu.pop(),i0=iu.pop(),gF=iu.pop(),bV=t.l;
t.l=[ff];var du=t.Hq();t.l=[ju];var l3=t.Hq();if(l3==ju&&!d4)l3=-1;t.l=bV;if(ff==du){}else if(du!=l3){var bt=new cK(0,0);
if(du!=-1){var iR=t.U[du].x1();bt.x-=iR.x;bt.y-=iR.y}if(l3!=-1){var iR=t.U[l3].x1();bt.x+=iR.x;bt.y+=iR.y}}var p=new bd(b_?[6,0]:[6,35],this);
p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:i0,wf:bt};t.RS(p);this.BW(p.data,t);var kF={classID:"move",null:kl.hR("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:eq+(d4?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:b_}};
this.track({oN:"move",mQ:kF})}if(g==jn.DL){var gJ=d.ej;if(d.lA){if(Z==null||!Z.h5())return;var q=t.root.Ty(x),fF=t.U.indexOf(q.aIl),gF=t.U.slice(0);
gF.splice(x,1);gF.splice(fF,1);var i0=[];for(var n=fF;n<x-1;n++)i0.push(n);if(gJ){var at=x-2;gF[at]=gF[at].b();
gF[at].ej=!1}var p=new bd(gJ?[6,6,0]:"Ungroup Layers",this);p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:i0};
t.RS(p);this.BW(p.data,t)}else{var m=t.vv(),cd=f7.get([0,4])+" ";m.qv(cd+(A.OJ.rY(t,cd)+1));m.uF="pass";
if(gJ){if(t.l.length==1){alert("Select more than one layer for a clipping group.");return}m.qv("<Clip Group>")}if(d.co)m.qv(d.co);
if(d.Qj!=null)m.add.lclr=d.Qj;m.add.lsct=t.l.length==1?f$.fG:f$.wM;m.Xw=24;var fC=t.Rw(),kz=t.A6();if(kz.length==0)return;
kz.sort(function(p,ep){return p-ep});var gF=[];for(var n=0;n<t.U.length;n++)if(kz.indexOf(n)==-1)gF.push(t.U[n]);
var dO=t.l[t.l.length-1]-kz.length;gF.splice(dO+1,0,fC);for(var n=0;n<kz.length;n++)gF.splice(dO+2+n,0,t.U[kz[n]]);
gF.splice(dO+2+kz.length,0,m);if(gJ){var at=dO+kz.length+1;gF[at]=gF[at].b();gF[at].ej=!0}var p=new bd(gJ?[6,6,0]:[6,9],this);
p.data={R:jn.Zv,ID:t.U.slice(0),zA:gF,AZ:t.l.slice(0),Bv:[gF.indexOf(m)]};t.RS(p);this.BW(p.data,t);
var i={oN:"make",_n:!0};i.mQ={classID:"Mk",null:kl.hR("layerSection"),From:kl.hR("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:m.getName()}}}};
this.track(i)}}if(g==jn.aMC){if(t.l.length!=1)return;var J=t.l[0],iI=Y;if(t.U[J]._B()==null&&!h.A(cQ.LE)){g=jn.ks;
d.y1=t.p?!iI?"RvlS":"HdSl":!iI?"RvlA":"HdAl"}else{g=jn.RW;d.abK=!0}}if(g==jn.ks){if(t.l.length!=1)return;
var J=t.l[0],m=t.U[J];if(m.add.vmsk&&m.AU==null)m.tG(t);var cF=m._B();if(cF==null||d.agb){var p=new bd(d.co?d.co:[6,21],this),jK=new jn.Ks(t.depth),hS=d.y1,ak=hS=="RvlS"||hS=="HdSl";
if(hS=="RvlS"||hS=="HdAl"||hS=="Trns")jK.color=0;if(ak){jK.N=t.p.N.slice(0);jK.S=t.p.S.b();if(hS=="HdSl")f.zJ(jK.N)}if(hS=="Trns"){jK.S=m.S.b();
jK.N=f.m(m.S.k());f.Po(m.buffer,jK.N,3)}p.data={R:jn.nE,NO:[J,cF,jK],MZ:ak?[t.p,null]:null,aDy:hS=="Trns"};
t.RS(p);this.BW(p.data,t);t.U[J].VL=1;this.track({oN:"make",mQ:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:hS}}}})}}else if(g==jn.a8b){var dc=t.U[d.src],lq=t.U[d.US],p=new bd([6,21],this),cH=dc._B(),a7=lq._B(),dz=[d.src,cH,null,d.US,a7,cH];
if(Y||a){var hs=cH.b();if(Y)dz=[d.US,a7,hs];else dz[5]=hs;if(a){f.zJ(hs.N);hs.color=255-hs.color}}p.data={R:jn.nE,NO:dz};
t.RS(p);this.BW(p.data,t)}if(g==jn.yf){if(t.l.length!=1)return;var J=x,jm=t.U[J]._B();if(jm!=null){var p=new bd([6,22],this);
p.data={R:jn.nE,NO:[x,jm,null]};t.RS(p);this.BW(p.data,t)}}if(g==jn.vz){var aH=t.U.slice(0),dh=Z.b(),cR=dh._B();
f.Qc(cR.NN(dh.S),dh.S,dh.buffer,dh.S);A.OJ.Fo(t,dh);dh.s4();t.U[t.l[0]]=dh;var p=new bd([5,8],this);
p.data={R:jn.Zv,ID:aH,zA:t.U.slice(),AZ:t.l.slice(0),Bv:t.l.slice(0)};t.RS(p);this.BW(p.data,t)}if(g==jn.qV){if(t.l.length!=1)return;
var J=t.l[0];if(t.U[J].Ip(t).AU==null){var p=new bd([6,45],this);p.data={R:g,B:J,AU:new jn.Ks(t.depth)};
t.RS(p);this.BW(p.data,t)}}if(g==jn.qH){if(t.l.length!=1)return;var J=t.l[0];if(t.U[J].Ip(t).AU!=null){var p=new bd([6,46],this);
p.data={R:g,B:J,AU:t.U[J].Ip(t).AU};t.RS(p);this.BW(p.data,t)}}if(g==jn.IX){if(d.src==null&&t.l.length!=1)return;
if(d.src!=null)x=d.src;if(t.U[x].l4()){var p=new bd([6,47],this),d1=JSON.stringify(t.U[x].add.SoLd),h3=JSON.parse(d1);
delete h3.filterFX;p.data={R:jn.Ai,wV:[{Ew:x,wC:[d1,JSON.stringify(h3)],wG:[t.U[x].Ip(t),null]}]};t.RS(p);
this.BW(p.data,t)}}if(g==jn.RW){if(t.l.length!=1)return;if(Z.add.vmsk==null){var p=new bd([6,23],this),aa=t.V9(),i2=aa[1],aa=aa[0],jK,hH;
if(d.abK&&i2.length!=0){var hh=aa[i2[0]].add;jK=hh.vmsk.b();hH=hh.vogk}else{jK=new jn.rz;hH=[];jK.D[1].all=d.arA?0:1}p.data={R:g,B:x,aJ5:!0,AU:jK,_5:JSON.stringify(hH),UY:null};
if(Z.c5()){p.data.UY=Stroke.UY.yu(!0)}t.RS(p);this.BW(p.data,t)}}if(g==jn.Nj){var dc=t.U[d.src],lq=t.U[d.US];
if(lq.add.vmsk)return;var p=new bd([6,23],this),cW=dc.add.vmsk;p.data={B:d.US,aJ5:dc.s$,AU:cW.b(),_5:JSON.stringify(dc.add.vogk),UY:dc.add.vstk?JSON.stringify(dc.add.vstk):null};
if(Y){p.data.R=jn.RW}else{p.data.R=g;p.data.src=d.src;p.data.US=d.US}t.RS(p);this.BW(p.data,t)}if(g==jn.i8||g==jn.nn){if(t.l.length!=1)return;
var m=t.U[x],cW=m.add.vmsk;if(cW!=null){var dx=g==jn.nn,p=new bd(dx?[6,8]:[6,24],this);p.data={R:jn.i8,B:x,aJ5:m.s$,AU:cW,_5:JSON.stringify(m.add.vogk),UY:m.add.vstk?JSON.stringify(m.add.vstk):null};
if(dx){p.data._k=cW._B(m.add.vstk);p.data._k.Ku=!1}t.RS(p);this.BW(p.data,t)}}if(g==jn.iI){var p=new bd("Metadata",this);
p.data={R:g,D2:JSON.stringify(t.VN),pf:JSON.stringify(d.pf)};t.RS(p);this.BW(p.data,t)}if(g==jn.Rm){var iB=d.US?d.US:t,eL=iB.name,e$=d.K+"."+eL.split(".").pop();
if(eL==e$)return;var p=new bd([6,37],this);p.data={R:g,aa3:eL,co:e$};if(d.auK!=!0)iB.RS(p);this.BW(p.data,iB)}if(g==jn.Ex&&d.G$.endsWith("makeframes")){var h2=[],hT=d.G$.startsWith("make");
for(var n=0;n<t.l.length;n++){var y=t.l[n],m=t.U[y],aM=m.getName(),kc=aM.startsWith("_a_");if(hT==kc||m.add.lsct==f$.Xr)continue;
var kk=hT?"_a_"+aM:aM.slice(3);h2.push([y,aM,kk,m.add.lnsr,null])}var p=new bd([6,37],this);p.data={R:jn.zG,Ic:h2};
t.RS(p);this.BW(p.data,t)}if(g==jn.zG){var eL=Z.getName(),e$=d.name.substring(0,255);if(eL==e$)return;
var p=new bd([6,37],this);p.data={R:g,Ic:[[x,eL,e$,Z.add.lnsr,null]]};t.RS(p);this.BW(p.data,t);this.track(kl.cd("Nm",{t:"TEXT",v:e$}))}if(g==jn.WO){var fY=t.A6(),gz=[],kB=[];
for(var n=0;n<fY.length;n++){gz.push(t.U[fY[n]].add.lclr);kB.push(d.agj)}var p=new bd([6,38],this);p.data={R:g,U:fY,ala:gz,Qj:kB};
t.RS(p);this.BW(p.data,t)}if(g==jn.ex){var p=t.history[t.UG];if(p!=null&&p.T==this&&p.data.R==g&&p.data.B==d.ME&&p.data.VE.Bb==d.ZE.Bb)p.data.VE=d.ZE;
else{p=new bd("Mask Density / Feather",this);p.data={R:g,B:d.ME,Mo:t.U[d.ME].Ta(d.ZE.Bb),VE:d.ZE};t.RS(p)}this.BW(p.data,t)}if(g==jn.Gh){var bk=JSON.stringify(d.K),dP=JSON.parse(bk),p=t.history[t.UG];
if(p!=null&&p.T==this&&p.data.R==g&&p.data._A==d._A&&p.data.ls.join(",")==d.ls.join(",")){for(var n=0;
n<d.ls.length;n++)p.data.ahU[n]=dP;if(p.data.mQ&&dP.Ci!=0)A.OJ.mw(dP.hn,p.data.mQ.T.v,dP.Ci-1)}else{p=new bd([11,6],this);
p.data={R:g,ls:d.ls,_A:d._A,akj:[],ahU:[]};var eV=!1;for(var n=0;n<d.ls.length;n++){var y=d.ls[n],m=t.U[y],jx=d._A?kV.yz(m.add):f.v(m.add.vstk);
p.data.akj.push(jx);p.data.ahU.push(dP);if(JSON.stringify(jx)!=bk)eV=!0}if(!eV)return;t.RS(p);if(d._A&&dP.Ci>0){var kF=p.data.mQ={classID:"setd",null:kl.hR("contentLayer",!0),T:{t:"Objc",v:{}}};
A.OJ.mw(dP.hn,kF.T.v,dP.Ci-1);this.track({oN:"set",mQ:kF})}}if(d._A&&dP.Ci==3)t.HM(lb.Jg(dP.hn.Ptrn.v,X.Da));
if(!d._A){var ea=dP.strokeStyleContent.v;if(ea.classID==kV.UY.$B[2])t.HM(lb.Jg(ea.Ptrn.v,X.Da))}this.BW(p.data,t)}if(g==jn.oX){var kp=X.J1,lC=[];
for(var n=0;n<t.l.length;n++){var y=t.l[n],m=t.U[y],kd=m.add.vstl;if(kd==null)continue;var jx=JSON.stringify(kd);
for(var jw in kp)kd[jw]=kp[jw];var dP=JSON.stringify(kd);if(jx==dP)continue;lC.push([y,jx,dP])}if(lC.length!=0){var N=t.oD();
if(N&&N.T==this&&N.data.R==g&&N.data.dG.length==lC.length){var dS=!0;for(var n=0;n<lC.length;n++)if(lC[n][0]!=N.data.dG[n][0])dS=!1;
if(dS){for(var n=0;n<lC.length;n++)N.data.dG[n][2]=lC[n][2];t.uM();return}}var p=new bd("Style Change",this);
p.data={R:g,dG:lC};t.RS(p);t.uM()}}};A.OJ.sZ=function(d,v,t,h,X,g){var x=d.U[t],Z=[];if(X)Z=d.U.slice(0);
else for(var n=0;n<d.U.length;n++)if(v.indexOf(n)==-1)Z.push(d.U[n]);var Y=Z.indexOf(x);if(g&&x.h5()&&x.add.lsct==f$.wM)Y-=d.YS(t).length-1;
var a=[];for(var n=0;n<v.length;n++){var z=Y+(h?0:1)+n,p=X?X[n]:d.U[v[n]];Z.splice(z,0,p);a.push(z)}return[Z,a,Y]};
A.OJ.mw=function(d,v,t){var h=[kV.o9,kV.oA,kV.aO][t];if(v.classID==null)v.classID=["solidColorLayer","gradientLayer","patternLayer"][t];
for(var n=0;n<h.length;n++)if(d[h[n]])v[h[n]]=f.v(d[h[n]])};A.OJ.aB6=function(d){var v=new jn.Ks(d.depth);
if(d.p!=null){v.color=0;v.N=d.p.N.slice(0);v.S=d.p.S.b()}return v};A.OJ.ki=function(d,v,t,h,X){var g=h.Kw,x=t.Kw,Z=h.u3/t.u3,Y=g.r/x.r,a=g.$/x.$,z=g.r/2,p=g.$/2;
Y/=Z;a/=Z;var U=f.Q.Ya(g).I;for(var n=0;n<d.U.length;n++){var l=d.U[n],L=l.add.SoLd;if(L==null||L.Idnt.v!=v)continue;
var j=Y!=1||a!=1;if(j){var O=A.hZ.Q9(L.nonAffineTransform),F=f.G.ms(O,g),i=new gi;i.translate(-z,-p);
i.scale(Y,a);i.translate(z,p);var $=f.G.Sn(F,f.G.KO(i)),H=U.slice(0);f.G.M($,H);if(f.kk.vs(L.quiltWarp.v)){L.Trnf=A.hZ.gX(H);
L.nonAffineTransform=A.hZ.gX(H)}if(L.quiltWarp){var b=L.quiltWarp.v.bounds.v;if(b.Rght.v.val!=null){b.Rght.v.val=g.r;
b.Btom.v.val=g.$}else{b.Rght.v=g.r;b.Btom.v=g.$}}}l.Lc(d,null,X,!j)}d.uM()};A.OJ.ayr=function(d,v,t){v.color=255-v.color;
f.zJ(v.N);v.vF=!0;d.tG(t);t.uM()};A.OJ.prototype.Js=function(d,v){var t=d.R,h=v.U[d.B];v.Ir=!0;if(t==jn.El){var n=v.add.lnk2.indexOf(v.u7(d.id));
if(n==-1)throw"e";v.add.lnk2[n]=d.aLx;A.OJ.ki(v,d.id,d.HD,d.aLx)}if(t==jn.gC){h.add.SoLd.Impr.v.classID=d.Mo;
h.Lc(v)}if(t==jn.cW){var X=JSON.parse(d.ls);for(var n=0;n<X.length;n++)v.U[X[n]].uF=d.Lp[n];v.uM()}if(t==jn.Q3){var X=JSON.parse(d.ls);
for(var n=0;n<X.length;n++)v.U[X[n]].JS=d.Lp[n];v.uM()}if(t==jn.vT){var X=JSON.parse(d.ls);for(var n=0;
n<X.length;n++)v.U[X[n]].add.iOpa=d.Lp[n];v.uM()}if(t==jn.rD){h.Y.jJ=d.Lp.jJ;h.Y.volume=d.Lp.volume}if(t==jn.YJ){v.Y.VC=d.Lp.VC;
v.Y.AV=d.Lp.AV}if(t==jn.dS){var X=JSON.parse(d.ls);for(var n=0;n<X.length;n++)if(v.U[X[n]].add.lsct!=f$.Xr)v.U[X[n]].add.lspf=d.Lp[n]}if(t==jn.un){var g=d.uY,x=d.aDk;
delete h.add[g[0]];if(x[0]!="----")h.add[x[0]]=x[1]}if(t==jn.kJ){for(var n=0;n<d.ls.length;n++){var Z=v.U[d.ls[n]];
Z.fF(!Z.ZC())}v.uM()}if(t==jn.gu){var Y=h._B();Y.isEnabled=!Y.isEnabled;h.tG(v);v.uM()}if(t==jn.V7){var Y=h.Ip(v).AU;
Y.isEnabled=!Y.isEnabled;h.uM();v.uM()}if(t==jn._c){var Y=h.add.vmsk;Y.isEnabled=!Y.isEnabled;if(!Y.isEnabled){if(h._k){h.AU=h._k;
h._k=null}else h.AU=null}else if(h.AU){h._k=h.AU;h.AU=null}h.tG(v);v.uM()}if(t==jn.BV){h.cD=!h.cD;v.uM()}if(t==jn.QT){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.nG.sj=!0;v.uM()}if(t==jn.po){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.JI(v);v.uM()}if(t==jn.lT){var a=d.index,z=h.add.lmfx[kV.dv[a[0]]].v[a[1]].v;
z.enab.v=!z.enab.v;h.nG.sj=!0;v.uM()}if(t==jn.DD){var p=v.U[d.HJ],U=v.U[d.en],l=d.a9L,L=d.aAi;if(l=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse(l);if(L=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(L);p.nG.sj=!0;U.nG.sj=!0;
v.uM()}if(t==jn.FC){var j=h.add.SoLd.filterFX.v.filterFXList.v[d.index].v;j.enab.v=!j.enab.v;h.JI(v);
v.uM()}if(t==jn.a6V){h.add.SoLd.filterFX.v=f.v(d.a3j);h.JI(v);v.uM()}if(t==jn.Du){var Y=h._B();Y.az=!Y.az}if(t==jn.Yz){var Y=h.add.vmsk;
Y.az=!Y.az}if(t==jn.VY){var O=JSON.parse(d.aDh);v.a1=O[0];v.YD=O[1]}if(t==jn.PU){var O=d.Qp;for(var n=0;
n<O.length;n+=2){var F=O[n],Z=F>=0?v.U[F]:v.S5[-1-F];Z.add.vogk=JSON.parse(O[n+1]);f._5.MG(Z.add.vogk,Z.add.vmsk);
if(F>=0)Z.tG(v)}v.uM()}if(t==jn.QO){h.add.artb=JSON.parse(d.a2R);v.uM();A.Fv.dM(v,d)}if(t==jn.KQ){v.p=d.B2;
if(d.aFu)v.z.b$=d.aFu.slice(0);v.gM=d.Qp.slice(0);v.Cv=d.agg.slice(0);v.QW=v.zs=!0}if(t==jn.Zh){h.mv=!h.mv}if(t==jn.kc){var i=d.aLu;
for(var n=0;n<i.length;n++)v.U[n].aT=i[n]}if(t==jn.Zv){if(d.wf)A.jt.n8(v,v.l,null,-d.wf.x,-d.wf.y);if(d.AZ)v.l=d.AZ;
if(d.MZ)v.p=d.MZ[0];v.so=null;v.uM();A.Fv.dM(v,d);v.xd(d.ID);if(d._l)v.gY(d._l[0])}if(t==jn.nE){for(var n=0;
n<d.NO.length;n+=3)A.OJ.Fo(v,v.U[d.NO[n]],d.NO[n+1]);if(d.MZ){var $=d.MZ[0];if($==null)delete v.p;else v.p=$}if(d.aDy){var Z=v.U[d.NO[0]];
f.Gj(d.NO[2].N,Z.buffer,3)}}if(t==jn.qV){h.Ip(v).AU=null;h.uM();v.uM()}if(t==jn.qH){h.Ip(v).AU=d.AU;
h.uM();v.uM()}if(t==jn.Ai){A.OJ.aji(v,d.wV,0)}if(t==jn.RW){A.OJ.ZW(v,h,!0)}if(t==jn.Nj){A.OJ.ZW(v,v.U[d.US],d.AU.isEnabled);
A.OJ.kN(v,v.U[d.src],d)}if(t==jn.i8){if(d._k)A.OJ.Fo(v,h,null);A.OJ.kN(v,h,d)}if(t==jn.iI){v.VN=JSON.parse(d.D2)}if(t==jn.Rm){v.name=d.aa3}if(t==jn.zG){for(var n=0;
n<d.Ic.length;n++){var H=d.Ic[n],Z=v.U[H[0]];Z.qv(H[1]);if(H[3])Z.add.lnsr=H[3];else delete Z.add.lnsr}}if(t==jn.WO){for(var n=0;
n<d.U.length;n++)v.U[d.U[n]].add.lclr=d.ala[n]}if(t==jn.Gh){var b=d.akj;for(var n=0;n<d.ls.length;n++){var Z=v.U[d.ls[n]],r=b[n];
if(!d._A)Z.add.vstk=f.v(r);else kV.MX(Z.add,f.v(r));Z.H1(v)}v.uM()}if(t==jn.oX){for(var n=0;n<d.dG.length;
n++){var W=d.dG[n];v.U[W[0]].add.vstl=JSON.parse(W[1])}v.uM()}if(t==jn.ex){h.awG(d.Mo);h.tG(v);v.uM()}v.zs=!0};
A.OJ.prototype.BW=function(d,v){var t=d.R,h=v.U[d.B];v.Ir=!0;if(t==jn.El){var n=v.add.lnk2.indexOf(v.u7(d.id));
if(n==-1)throw"e";v.add.lnk2[n]=d.HD;A.OJ.ki(v,d.id,d.aLx,d.HD)}if(t==jn.gC){h.add.SoLd.Impr.v.classID=d.VE;
h.Lc(v)}if(t==jn.cW){var X=JSON.parse(d.ls);for(var n=0;n<X.length;n++)v.U[X[n]].uF=d.VE;v.uM()}if(t==jn.Q3){var X=JSON.parse(d.ls);
for(var n=0;n<X.length;n++)v.U[X[n]].JS=d.VE;v.uM()}if(t==jn.vT){var X=JSON.parse(d.ls);for(var n=0;
n<X.length;n++)v.U[X[n]].add.iOpa=d.VE;v.uM()}if(t==jn.rD){h.Y.jJ=d.VE.jJ;h.Y.volume=d.VE.volume}if(t==jn.YJ){v.Y.VC=d.VE.VC;
v.Y.AV=d.VE.AV}if(t==jn.dS){var X=JSON.parse(d.ls);for(var n=0;n<X.length;n++)if(v.U[X[n]].add.lsct!=f$.Xr)v.U[X[n]].add.lspf=d.VE[n]}if(t==jn.un){var g=d.aDk,x=d.uY;
delete h.add[g[0]];if(x[0]!="----")h.add[x[0]]=x[1]}if(t==jn.kJ){for(var n=0;n<d.ls.length;n++){var Z=v.U[d.ls[n]];
Z.fF(!Z.ZC())}v.uM()}if(t==jn.gu){var Y=h._B();Y.isEnabled=!Y.isEnabled;h.tG(v);v.uM()}if(t==jn.V7){var Y=h.Ip(v).AU;
Y.isEnabled=!Y.isEnabled;h.uM();v.uM()}if(t==jn._c){var Y=h.add.vmsk;Y.isEnabled=!Y.isEnabled;if(!Y.isEnabled){if(h._k){h.AU=h._k;
h._k=null}else h.AU=null}else if(h.AU){h._k=h.AU;h.AU=null}h.tG(v);v.uM()}if(t==jn.BV){h.cD=!h.cD;v.uM()}if(t==jn.QT){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.nG.sj=!0;v.uM()}if(t==jn.po){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.JI(v);v.uM()}if(t==jn.lT){var a=d.index,z=h.add.lmfx[kV.dv[a[0]]].v[a[1]].v;
z.enab.v=!z.enab.v;h.nG.sj=!0;v.uM()}if(t==jn.DD){var p=v.U[d.HJ],U=v.U[d.en],l=d.ayK,L=d.aJj;if(l=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse(l);if(L=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(L);p.nG.sj=!0;U.nG.sj=!0;
v.uM()}if(t==jn.FC){var j=h.add.SoLd.filterFX.v.filterFXList.v[d.index].v;j.enab.v=!j.enab.v;h.JI(v);
v.uM()}if(t==jn.a6V){h.add.SoLd.filterFX.v=f.v(d.aLh);h.JI(v);v.uM()}if(t==jn.Du){var Y=h._B();Y.az=!Y.az}if(t==jn.Yz){var Y=h.add.vmsk;
Y.az=!Y.az}if(t==jn.VY){var O=JSON.parse(d.awc);v.a1=O[0];v.YD=O[1]}if(t==jn.PU){var O=d.ot;for(var n=0;
n<O.length;n+=2){var F=O[n],Z=F>=0?v.U[F]:v.S5[-1-F];Z.add.vogk=JSON.parse(O[n+1]);f._5.MG(Z.add.vogk,Z.add.vmsk);
if(F>=0)Z.tG(v)}v.uM()}if(t==jn.QO){h.add.artb=JSON.parse(d.pr);v.uM();A.Fv.Ms(v,d)}if(t==jn.KQ){v.p=d.QK;
if(d.ax4)v.z.b$=d.ax4.slice(0);v.gM=d.ot.slice(0);v.Cv=d.arI.slice(0);v.QW=v.zs=!0}if(t==jn.Zh){h.mv=!h.mv}if(t==jn.kc){var i=d.a3k;
for(var n=0;n<i.length;n++)v.U[n].aT=i[n]}if(t==jn.Zv){v.akb();var $=d.zA,H=0,b;for(var n=0;n<$.length;
n++){var Z=$[n],r=Z.add.lsct;if(r==f$.Xr)H++;else if(r==f$.fG||r==f$.wM)H--;if(Z.add.artb&&H!=0)b="Artboards can not be inside folders."}if(b){v.history.pop();
v.UG--;alert(b);return}if(d.Bv)v.l=d.Bv;if(d.MZ)v.p=d.MZ[1];v.so=null;v.uM();v.xd(d.zA);A.Fv.Ms(v,d);
if(d.wf)A.jt.n8(v,v.l,null,d.wf.x,d.wf.y);if(d._l)v.gY(d._l[1])}if(t==jn.nE){for(var n=0;n<d.NO.length;
n+=3)A.OJ.Fo(v,v.U[d.NO[n]],d.NO[n+2]);if(d.MZ){var W=d.MZ[1];if(W==null)delete v.p;else v.p=W}if(d.aDy){var Z=v.U[d.NO[0]],V=Z.buffer;
for(var n=0;n<V.length;n+=4)V[n+3]=255}}if(t==jn.qV){h.Ip(v).AU=d.AU;h.VL=0;h.uM();v.uM()}if(t==jn.qH){h.Ip(v).AU=null;
h.VL=0;h.uM();v.uM()}if(t==jn.Ai){A.OJ.aji(v,d.wV,1)}if(t==jn.RW){A.OJ.kN(v,h,d)}if(t==jn.Nj){A.OJ.ZW(v,v.U[d.src],d.AU.isEnabled);
A.OJ.kN(v,v.U[d.US],d)}if(t==jn.i8){A.OJ.ZW(v,h,d.AU.isEnabled);if(d._k)A.OJ.Fo(v,h,d._k)}if(t==jn.iI){v.VN=JSON.parse(d.pf)}if(t==jn.Rm){v.name=d.co}if(t==jn.zG){for(var n=0;
n<d.Ic.length;n++){var y=d.Ic[n],Z=v.U[y[0]];Z.qv(y[2]);if(y[4])Z.add.lnsr=y[4];else delete Z.add.lnsr}}if(t==jn.WO){for(var n=0;
n<d.U.length;n++)v.U[d.U[n]].add.lclr=d.Qj[n]}if(t==jn.Gh){var c=d.ahU;for(var n=0;n<d.ls.length;n++){var Z=v.U[d.ls[n]],S=c[n];
if(!d._A)Z.add.vstk=f.v(S);else kV.MX(Z.add,f.v(S));Z.H1(v)}v.uM()}if(t==jn.oX){for(var n=0;n<d.dG.length;
n++){var K=d.dG[n];v.U[K[0]].add.vstl=JSON.parse(K[2])}v.uM()}if(t==jn.ex){h.awG(d.VE);h.tG(v);v.uM()}v.zs=!0};
A.OJ.rY=function(d,v){var t=0;for(var n=0;n<d.U.length;n++){var h=d.U[n].getName();if(h.startsWith(v)){var X=h.slice(v.length).trim(),g=parseInt(X);
if(!isNaN(g)&&g+""==X&&g>t)t=g}}return t};A.OJ.aji=function(d,v,t){for(var n=0;n<v.length;n++){var h=v[n],X=d.U[h.Ew];
if(h.wC){X.add.SoLd=JSON.parse(h.wC[t])}if(h.wG){if(h.wG[1-t]!=null)d.Xi(h.wG[1-t]);if(h.wG[t]!=null)d.f1(h.wG[t]);
else X.VL=0}X.Lc(d)}};A.OJ.a05=function(d,v){var t=d.jX,h=d.S.b();if(t!=null&&(t.x!=v.r||t.y!=v.$)){h.x=Math.floor((v.r-h.r)/2);
h.y=Math.floor((v.$-h.$)/2)}else if(t==null){var X=new iW(0,0,v.r,v.$),g=v.Hq();if(g!=-1)X=v.U[g].x1();
h.x+=X.x;h.y+=X.y}return h};A.OJ.aN2=function(d,v){if(v._k)v._k=null;else v.AU=null;v.tG(d);d.uM();v.VL=0};
A.OJ.Fo=function(d,v,t){var h=v._B();if(h==null&&t==null)return;if(h)A.OJ.aN2(d,v);if(t==null)return;
if(v.AU)v._k=t;else v.AU=t;v.tG(d);d.uM()};A.OJ.ZW=function(d,v,t){if(v._k&&t){v.AU=v._k;v._k=null}else if(v.AU&&t){v.AU=null}delete v.add.vogk;
delete v.add.vstk;delete v.add.vmsk;v.tG(d);v.s$=!1;d.so=[];d.uM()};A.OJ.kN=function(d,v,t){v.add.vogk=JSON.parse(t._5);
if(t.UY)v.add.vstk=JSON.parse(t.UY);else delete v.add.vstk;v.add.vmsk=t.AU.b();if(v.AU&&v.add.vmsk.isEnabled)v._k=v.AU;
v.tG(d);v.s$=t.aJ5;d.so=[d.U.indexOf(v)];d.lE=[];d.uM()};A.lx=function(){A.M$.call(this,"Layer Styles",A.iL);
this.W0=null;this.zH=null;this.D9=null;this.v0=[];this.uz=null};A.lx.prototype=new A.M$;A.lx.prototype.Oh=function(d,v,t,h,X){var g=d.B;
if(g==null)g=t.l[0];var x=t.U[g],Z=d.ja;if(this.W0==null){this.D9=A.lx.Pa(t,x);this.W0=JSON.stringify(this.D9);
if(x.add.lmfx)this.zH=JSON.stringify(x.add.lmfx)}if(x.add.lmfx==null){x.add.lmfx=JSON.parse(kV.default);
for(var n=0;n<kV.order.length;n++)x.add.lmfx[kV.dv[n]]={t:"VlLs",v:[]}}if(d.R=="scaleeffects"){if(d.K=="confirm"||d.K=="cancel"){this.Oh({R:d.K},v,t,h,X);
return}x.add.lmfx=JSON.parse(this.zH);lb.mS(x.add.lmfx,d.K/100)}else if(d.R=="changeprop"){var Y=null;
if(Z!=0){var a=this.v0[Z[0]];if(a==null)a=kV.v0[Z[0]];a=JSON.parse(a);var z=x.add.lmfx[kV.dv[Z[0]]].v;
if(z[Z[1]]==null)z[Z[1]]={t:"Objc",v:a};Y=z[Z[1]].v;for(var p in a)if(Y[p]==null)Y[p]=a[p]}if(d.R=="changeprop"){if(Z==0){this.D9[d.Wg].v=d.K;
A.lx.U4(t,x,this.D9)}else if(d.Wg=="lagl"){if(Y.uglg&&Y.uglg.v){t.Si(d.K.val);this.D9.gagl.v.val=t.$t()}else Y[d.Wg].v=d.K}else if(d.Wg=="Lald"){if(Y.uglg.v){t.Nd(d.K.val);
this.D9.globalAlt=t.hz()}else Y[d.Wg].v=d.K}else if((Z[0]==3||Z[0]==8)&&(d.Wg=="Clr"||d.Wg=="Grad")){if(d.Wg=="Clr"){Y.Clr={t:"Objc",v:d.K};
delete Y.Grad}if(d.Wg=="Grad"){Y.Grad={t:"Objc",v:d.K};delete Y.Clr}}else{Y[d.Wg].v=d.K}if(Z!=0)this.v0[Z[0]]=JSON.stringify(Y)}if(Z!=0)if(Y.Ptrn)t.HM(lb.Jg(Y.Ptrn.v,X.Da))}else if(d.R=="setstl"){var U=d.K.Lefx;
if(U)lb.aIt(U,t,X.Da);lb.auQ(d.K,x,null,t);this.D9=A.lx.Pa(t,x)}else if(d.R=="st_dupsingle"){var l=x.add.lmfx[kV.dv[d.E1[0]]].v;
if(l[d.E1[1]]==null)return;var L=f.v(l[d.E1[1]]);l.splice(d.E1[1],0,L)}else if(d.R=="st_movsingle"){var j=d.E1[1],l=x.add.lmfx[kV.dv[d.E1[0]]].v;
if(l[d.E1[1]]==null)return;var O=Math.max(0,Math.min(l.length-1,j+d.ad9)),F=l[O];l[O]=l[j];l[j]=F}else if(d.R=="cancel"){if(this.zH==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(this.zH);A.lx.U4(t,x,JSON.parse(this.W0));this.W0=null;this.zH=null}else if(d.R=="confirm"){var i=JSON.stringify(x.add.lmfx),$=new bd([11,6],this);
$.data={U:[g],aK2:[this.zH],aDU:[i],arp:[this.W0],aOt:[JSON.stringify(this.D9)]};t.RS($);this.W0=null;
this.zH=null;if(i!=null){var H=JSON.parse(i);kY.oB(H);H.classID="Lefx";delete H.masterFXSwitch;var b=new eG(_.E.U0);
b.Mw=!0;b.data={oN:"set",_n:!0};var r=kl.hR("Lyr",!0);r.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
b.data.mQ={__name:"Set",classID:"setd",null:r,T:{t:"Objc",v:H}};v.J(b)}}else if(d.R=="st_copy"){this.uz=[this.W0,this.zH];
this.W0=null;this.zH=null}else if(d.R=="st_paste"||d.R=="st_clear"){if(d.R=="st_paste"&&this.uz==null)return;
var W=d.B!=null?[d.B]:t.l.slice(0),V=[],y=[],c=[],S=[];for(var n=0;n<W.length;n++){var x=t.U[W[n]],C=A.lx.Pa(t,x);
V.push(x.add.lmfx?JSON.stringify(x.add.lmfx):null);c.push(JSON.stringify(C));if(d.R=="st_paste"){y.push(this.uz[1]);
S.push(this.uz[0])}else{y.push(null);C.lrMd.v=0;C.Opct.v.val=100;C.iOpa.v.val=100;C.blIf={v:[]};for(var K=0;
K<10;K++)C.blIf.v.push(0,0,255,255);S.push(JSON.stringify(C))}}var $=new bd([11,6],this);$.data={U:W,aK2:V,aDU:y,arp:c,aOt:S};
this.BW($.data,t);t.RS($);this.W0=null;this.zH=null}else{var T=this.D9,H=null;if(d.R=="st_delsingle"){H=JSON.parse(this.zH);
H[kV.dv[d.E1[0]]].v.splice(d.E1[1],1);H=JSON.stringify(H)}if(H==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse(H);
if(T!=null)A.lx.U4(t,x,T);var $=new bd([11,6],this);$.data={U:[d.B],aK2:[this.zH],aDU:[H],arp:[this.W0],aOt:[JSON.stringify(T)]};
t.RS($);this.W0=null;this.zH=null}x.nG.sj=!0;t.Ir=!0;t.uM()};A.lx.Pa=function(d,v){if(v.add.iOpa==null)v.add.iOpa=255;
if(v.add.brst==null)v.add.brst=[1,1,1];var t=v.h5()?["pass"].concat(gL.iX):gL.iX;return{lrMd:{v:t.indexOf(v.uF)},Opct:{v:{type:"#Prc",val:Math.round(v.JS*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(v.add.iOpa*100/255)},t:"UntF"},blIf:{v:v._F.slice(0)},brst:{v:v.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:d.$t()}},globalAlt:d.hz(),isFolder:v.h5()}};
A.lx.U4=function(d,v,t){var h=v.h5()?["pass"].concat(gL.iX):gL.iX;v.uF=h[t.lrMd.v];v.JS=Math.round(t.Opct.v.val*255/100);
v.add.iOpa=Math.round(t.iOpa.v.val*255/100);v._F=t.blIf.v.slice(0);v.add.brst=t.brst.v.slice(0);d.Si(t.gagl.v.val);
d.Nd(t.globalAlt)};A.lx.prototype.Js=function(d,v){for(var n=0;n<d.U.length;n++){var t=v.U[d.U[n]],h=d.aK2[n];
if(h==null)delete t.add.lmfx;else t.add.lmfx=JSON.parse(h);A.lx.U4(v,t,JSON.parse(d.arp[n]));t.nG.sj=!0}v.Ir=!0;
v.uM()};A.lx.prototype.BW=function(d,v){for(var n=0;n<d.U.length;n++){var t=v.U[d.U[n]],h=d.aDU[n];if(h==null)delete t.add.lmfx;
else t.add.lmfx=JSON.parse(h);A.lx.U4(v,t,JSON.parse(d.aOt[n]));t.nG.sj=!0}v.Ir=!0;v.uM()};A.Qi=function(){A.M$.call(this,"Layer Comps",A.AQ)};
A.Qi.prototype=new A.M$;A.Qi.prototype.Oh=function(d,v,t,h){var X=f.v(t.cc),g=f.v(t.cc),x=null,Z=null,Y=null,a=-1,z=!1;
if(d.R=="delLC"){var p=A.Qi.JU(t.cc,d.ja),U=t.cc.lastAppliedComp?t.cc.lastAppliedComp.v:0;g.list.v.splice(p,1);
if(U==d.ja)delete g.lastAppliedComp;x="Delete Layer Comp"}if(d.R=="editLC"){var p=A.Qi.JU(t.cc,d.ja),l=g.list.v[p].v;
if(d.co!=null)l.Nm.v=d.co;if(d.ag6!=null){var L=d.ag6,j=l.capturedInfo.v,O=j&(1<<L)-1;j=j>>L;if((j&1)==1)j--;
else j++;l.capturedInfo.v=(j<<L)+O}x="Layer Comp properties"}if(d.R=="setLC"){A.Qi.qr(t);if(d.ja==0)delete g.lastAppliedComp;
else g.lastAppliedComp={t:"long",v:d.ja};x="Switch Layer Comp";z=!0}if(d.R=="updLC"){A.Qi.qr(t);Z=A.Qi.asw(t,d.ja);
Y=A.Qi.wh(t,d.ja);g.lastAppliedComp={t:"long",v:d.ja};x="Update Layer Comp";a=d.ja;z=!0}if(d.R=="addLC"){A.Qi.qr(t);
var F=1;for(var n=0;n<g.list.v.length;n++)F=Math.max(F,g.list.v[n].v.compID.v)+1;F+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(g.list.v.length+1)},compID:{t:"long",v:F},capturedInfo:{t:"long",v:7}}};
g.list.v.push(i);g.lastAppliedComp={t:"long",v:F};x="New Layer Comp";var $=A.Qi.wh(t,F);A.Qi.fV(t,$,F)}var H=new bd(x,this);
H.data={a6Y:X,a0K:g,aNp:Z,aNr:Y,ja:a,Yc:z};this.BW(H.data,t);t.RS(H)};A.Qi.prototype.BW=function(d,v){v.cc=d.a0K;
v.Ir=!0;if(d.aNr)A.Qi.fV(v,d.aNr,d.ja);if(d.Yc){var t=v.cc.lastAppliedComp?v.cc.lastAppliedComp.v:0,h=A.Qi.JU(v.cc,t),X=h==-1?null:v.cc.list.v[h].v,g=X?X.capturedInfo.v:7;
A.Qi.Fs(v,t,g);v.uM()}};A.Qi.prototype.Js=function(d,v){v.cc=d.a6Y;v.Ir=!0;if(d.aNp)A.Qi.fV(v,d.aNp,d.ja);
if(d.Yc){var t=v.cc.lastAppliedComp?v.cc.lastAppliedComp.v:0,h=A.Qi.JU(v.cc,t),X=h==-1?null:v.cc.list.v[h].v,g=X?X.capturedInfo.v:7;
A.Qi.Fs(v,t,g);v.uM()}};A.Qi.qr=function(d){if(d.cc.lastAppliedComp!=null||!d.aD8)return;var v=A.Qi.wh(d,0);
A.Qi.fV(d,v,0);d.aD8=!1};A.Qi.aL=function(d,v,t){d.v.Hrzn.v+=v;d.v.Vrtc.v+=t};A.Qi.JU=function(d,v){var t=d.list.v;
for(var n=0;n<t.length;n++)if(t[n].v.compID.v==v)return n;return-1};A.Qi.agr=function(d){var v=d.layerSettings.v,X=null;
if(v.length==0)return;var t="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),h=v[0].v;
if(h.enab==null)h.enab={t:"bool",v:!0};if(h.Ofst==null)h.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var n=0;n<v.length;n++){var g=v[n].v;if(X==null)X=f.v(g);else for(var x=0;x<t.length;x++){var Z=t[x];
if(g[Z])X[Z]=f.v(g[Z])}v[n].v=f.v(X)}};A.Qi.afV=function(d,v){var t=d.add.shmd.cmls,h=t.layerSettings.v;
for(var X=0;X<h.length;X++){var g=h[X].v,x=g.compList.v[0].v;if(x==v)return X}return-1};A.Qi.asz=function(d,v){var t=A.Qi.afV(d,v);
return t==-1?null:d.add.shmd.cmls.layerSettings.v[t].v};A.Qi.Fs=function(d,v,t){for(var n=0;n<d.U.length;
n++){var h=d.U[n],X=h.add.shmd.cmls;if(X==null)continue;var g=X.layerSettings.v,x=A.Qi.asz(h,v);if(x==null){h.fF(!1);
continue}if((t&1)!=0){if(x.enab)h.fF(x.enab.v);else h.fF(!0)}if((t&2)!=0){if(x.Ofst){var Z=x.Ofst.v,Y=h.pT(d),a=Math.round(Z.Hrzn.v-Y.x),z=Math.round(Z.Vrtc.v-Y.y);
if(a!=0||z!=0)A.jt.n8(d,[n],null,a,z)}}if((t&4)!=0){if(x.Lefx){var p=f.v(x.Lefx.v);kY.ru(p);if(JSON.stringify(p)!=JSON.stringify(h.add.lmfx)){h.add.lmfx=p;
h.nG.sj=!0}}else delete h.add.lmfx;if(x.blendOptions){var U=x.blendOptions.v;if(U.Opct)h.JS=Math.round(255*U.Opct.v.val/100);
if(U.fillOpacity)h.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);if(U.Md)h.uF=h.add.lsct==f$.Xr?"norm":gL.__(U.Md.v.BlnM)}else{h.JS=255;
h.uF=h.h5()?"pass":"norm";h.add.iOpa=255}}}};A.Qi.asw=function(d,v){var t={};for(var n=0;n<d.U.length;
n++){var h=d.U[n];if(h.add.shmd==null||h.add.shmd.cmls==null)continue;t["l"+h.add.lyid]=f.v(A.Qi.asz(h,v))}return t};
A.Qi.wh=function(d,v){var t={};for(var n=0;n<d.U.length;n++){var h=d.U[n],X=h.add.lyid;t["l"+X]=A.Qi.aaF(d,h,v)}return t};
A.Qi.aaF=function(d,v,t){var h=v.add.shmd?v.add.shmd.cmls:null,X={classID:"null"},g=v.pT(d),x={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:g.x},Vrtc:{t:"long",v:g.y}}};
X.compList={t:"VlLs",v:[{t:"long",v:t}]};X.enab={t:"bool",v:v.ZC()};X.Ofst=f.v(x);X.FXRefPoint=f.v(h&&h.origFXRefPoint?h.origFXRefPoint:x);
X.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:gL.V6(v.uF)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*v.JS/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:v.add.iOpa!=null?100*v.add.iOpa/255:100}}}};
if(v.add.vmsk){X.vectorMask={t:"Objc",v:{classID:"null"}};X.vectorMask.v.Ofst=f.v(x)}if(v.add.lmfx){X.Lefx={t:"Objc",v:f.v(v.add.lmfx)};
kY.oB(X.Lefx.v)}return X};A.Qi.ani=function(d,v){var t=v.add.lyid;if(v.add.shmd==null)v.add.shmd={};
if(v.add.shmd.cmls==null){v.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:t},layerSettings:{t:"VlLs",v:[{t:"Objc",v:A.Qi.aaF(d,v,0)}]}}}};
A.Qi.fV=function(d,v,t){for(var n=0;n<d.U.length;n++){var h=d.U[n],X=h.add.lyid;A.Qi.ani(d,h);var g=h.add.shmd.cmls,x=g.layerSettings.v,Z=v["l"+X];
if(Z!=null)Z={t:"Objc",v:f.v(Z)};var Y=A.Qi.afV(h,t);if(Y==-1){if(Z==null)continue;else x.push(Z)}else{if(Z==null)x.splice(Y,1);
else x[Y]=Z}}};A.Qi.Sf=function(d,v){for(var n=0;n<d.U.length;n++){var t=d.U[n],h=t.add.lyid;if(t.add.shmd==null||t.add.shmd.cmls==null)continue;
var X=t.pT(d),g=Math.round(X.x),x=Math.round(X.y);if(!v){g=-g;x=-x}var Z=t.add.shmd.cmls,Y=Z.layerSettings.v;
if(Z.origFXRefPoint)A.Qi.aL(Z.origFXRefPoint,-g,-x);for(var a=0;a<Y.length;a++){var z=Y[a].v;A.Qi.aL(z.Ofst,g,x);
var p=z.imageMask,U=z.vectorMask;if(p&&p.v.Ofst)A.Qi.aL(p.v.Ofst,g,x);if(U&&U.v.Ofst)A.Qi.aL(U.v.Ofst,g,x)}}};
A.Y$=function(){A.M$.call(this,"Adjust Edit",A.xU);this.pf=null;this.c8=null};A.Y$.prototype=new A.M$;
A.Y$.VH=function(d,v,t,h){if(h)v/=4;var X=0,g=0,x=255,Z=0,Y=0,a=255;while(g+d[X]<v){g+=d[X];X++}while(Z+d[x]<v){Z+=d[x];
x--}if(h){X-=Math.round(d[X]/(t/32));x+=Math.round(d[x]/(t/32));if(X<0)Y=Math.round(-X*255/(x-X));if(x>255)a=255-Math.round((x-255)*255/(x-X))}return[Math.max(X,0),Math.min(x,255),Y,a,100]};
A.Y$.prototype.Oh=function(d,v,t,h,X){var g=d.R;if(g=="auto"){var x=d.a7S,Z=A.Y$.getData(t);for(var n=0;
n<Z.length;n++){var Y=Z[n],a;if(x<3){}else{var z=e0.yu("hue2");kg.jq(z,0,[0,-100,0]);a=cV.MM("hue2",z)}cV.yh(a,Y.Gw,Y.JX,Y.BS)}A.Y$.NV(t,Z);
A.Y$.wP(t,Z,x<3?[4,16,x]:[19,7,0],this);t.uM()}if(g=="edit_layer")this.asY(d,v,t,h);if(g=="edit"||g=="confirm"||g=="cancel")this.hE(d,v,t,X,!0);
if(g=="start"){if(t.l.length==0)return;var p=t.U[t.l[0]];if(p.add.SoLd&&p.VL<=0&&t.Cv.length==0){var U=new eG(_.E.F,!0);
U.T=A.bH;U.data={R:"start",zh:d.Gm,k1:d.k1};v.J(U);return}if(!t.sD(v,null,!0))return;if(ds[d.Gm]&&d.k1==null){if(t.l.length!=1)alert("Will be applied to "+t.l.length+" layers.");
var U=new eG(_.E.c,!0);U.data={R:_.Y.S8,cG:"afw_"+d.Gm};v.J(U)}else{this.hE({R:"edit",k1:d.k1,zh:d.Gm},v,t,X);
this.hE({R:"confirm",zh:d.Gm},v,t,X)}}};A.Y$.prototype.asY=function(d,v,t,h){var X=d.R,g=t.l[0],x=t.U[g],Z=cV.get(x.add),U;
if(x.add[Z]==null)return;var Y=f.v(x.add[Z]);for(var a in d.K)Y[a]=d.K[a];var z=f.v(Y);for(var a in cV.Hz)if(cV.Hz[a]==Z)z.classID=a;
var p=t.history[t.UG];if(p&&p.T==this&&p.data.Mo!=null&&p.data.B==g)U=p;else{var l=new eG(_.E.U0,!0),L={classID:"setd",null:kl.hR("AdjL",!0),T:{t:"Objc",v:z}};
l.data={_n:!0,oN:"set",mQ:L};v.J(l);var U=new bd([6,39],this);U.data={B:g,Mo:x.add[Z],VE:Y,alF:L};t.RS(U)}U.data.VE=Y;
U.data.alF.T.v=z;this.BW(U.data,t)};A.Y$.getData=function(d,v,t){var h=[],X=new iW(0,0,d.r,d.$),g=d.Cv.length!=0?[-1-d.Cv[0]]:d.l;
for(var n=0;n<g.length;n++){var x=g[n],Z=x<0?null:d.U[x],Y={B:x,qj:x<0?1:Z.VL};h.push(Y);var a=d.gM[-1-x];
if(0<=x)a=Z.VL<=0?null:Z.VL==1?Z._B():Z.Ip(d).AU;var z=a?a.S:Z.S;if(d.p){Y.BS=d.p.S.hL(v||a!=null?X:z)}else Y.BS=v||a!=null?z.Ue(X):z.b();
if(t)Y.BS=t[n].BS.b();var p=Y.BS.k();Y.Gw=f.m(p*4,d.depth);if(a)A.mE.$d(a.N,a.S,a.color,Y.Gw,Y.BS);else f.wH(Z.buffer,z,Y.Gw,Y.BS);
Y.JX=Y.Gw.slice(0);if(d.p){Y.NO=f.m(p,d.depth);f.Qb(d.p.N,d.p.S,Y.NO,Y.BS)}}return h};A.Y$.azX=function(d,v,t){if(v==null)return v;
var h=cV.FU(d,v),g;if(h==-1)return v;var X=t.length>>>2,x=f.R4(t),Z=.001*X;if(h==0||h==2)g=[[0,255,0,255,100],A.Y$.VH(x[1],Z,X,h==2),A.Y$.VH(x[2],Z,X,h==2),A.Y$.VH(x[3],Z,X,h==2)];
if(h==1)g=[A.Y$.VH(x[0],Z*.33,X,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var Y=e0.yu("levl");
for(var n=0;n<4;n++)k9.jq(Y,n,g[n]);return Y};A.Y$.ahm=function(d,v,t,h){var X,g;if(t.t=="name"){var x=0;
for(var Z=0;Z<d.U.length;Z++)if(d.U[Z].getName()==t.v.val)x=Z;if(d==v&&x==h.B){X=h.Gw;g=h.BS}else{var Y=d.U[x];
X=Y.buffer;g=Y.S}}else{g=new iW(0,0,d.r,d.$);X=d==v?h.MP:d.jP()}return[X,g]};A.Y$.prototype.hE=function(d,v,t,h){var X=t.p,g=d.zh=="matc"&&d.k1;
if(this.pf==null){if(d.zh=="aply")t.U[t.l[0]].extend(new iW(0,0,t.r,t.$));if(g)t.p=null;this.pf=A.Y$.getData(t,null,d.zh=="fade"?t.oD().data:null);
t.p=X;if(d.zh=="aply"||d.zh=="matc")this.pf[0].MP=t.jP()}if(d.R=="edit"){this.c8=[d.zh,d.k1];var x=this.pf[0],Z=A.Y$.azX(d.zh,d.k1,x.Gw),Y=cV.MM(d.zh,Z);
if(d.zh=="fade"||d.zh=="matc"||d.zh=="aply")Y=d.k1;if(Y!=null){for(var a=0;a<this.pf.length;a++){var z=this.pf[a];
if(d.$T)f.Hy(z.Gw,z.JX);else if(d.zh=="fade"){var p=gL.__(d.k1.Md.v.BlnM),U=d.k1.Opct.v.val/100,l=t.oD().data[a];
f.Hy(l.Gw,z.JX);if(p=="norm")f.V.cI(z.Gw,z.BS,z.JX,z.BS,null,null,null,z.BS,U);else{var L=lb.Rn();L.CZ=!0;
for(var n=0;n<l.Gw.length;n+=4)if(l.Gw[n+3]!=z.Gw[n+3]){L=null;break}f.V.Qe(p,z.Gw,z.BS,z.JX,z.BS,z.BS,U,L)}}else if(d.zh=="matc"){function j(E,e){if(e==null)return E;
var w=f.m(e[1].k()*4);f.wH(E,e[0],w,e[1]);return w}var O,F,W=null,V=null,y=null;if(Y.noReference&&Y.noReference.v){O=z.Gw;
F=z.BS}else{var i=Y.Srce.v,$=i[1].v.val,H=v.n0,b=t;for(var n=0;n<H.length;n++)if(H[n].name==$)b=H[n];
var r=A.Y$.ahm(b,t,i[0],z);O=r[0];F=r[1]}if(X&&Y.selectedSourceAreas&&Y.selectedSourceAreas.v)V=[F,X.S];
if(X&&Y.SlcA&&Y.SlcA.v)W=[z.BS,X.S];if(X&&Y.fsel&&Y.fsel.v)y=[z.BS,X.S];z.JX.set(z.Gw);var c=j(z.JX,y);
cn(j(z.Gw,W),j(O,V),c,[Y.Lght.v,Y.ClrR.v,Y.Fade.v,Y.neutralizeColor?Y.neutralizeColor.v:!1]);if(y)f.wH(c,X.S,z.JX,z.BS)}else if(d.zh=="aply"){Y=Y.With.v;
var S=Y.T.v,r=A.Y$.ahm(t,t,S[1],z),O=r[0],F=r[1],C=Y.Clcl?Y.Clcl.v.Clcn:null,p=C?gL.__(C):"norm",U=Y.Opct?Y.Opct.v.val/100:1,K=["RGB","Rd","Grn","Bl","Trsp"].indexOf(S[0].v.enum),Z=Y.Invr&&Y.Invr.v;
if(Z||K!=0){O=O.slice(0);if(Z)f.a9v(O);if(K!=0){var T=f.m(F.k());f.Po(O,T,K-1);if(K==4)f.zJ(T);for(var D=0;
D<3;D++)f.Gj(T,O,D)}}if(C=="Add"||C=="Sbtr"){var N=1/Y.Scl.v,G=Y.Ofst.v,s=C=="Add"?1:-1,Q=new Uint8ClampedArray(z.JX.buffer);
for(var n=0;n<O.length;n+=4){Q[n]=(z.Gw[n]+s*O[n])*N+G;Q[n+1]=(z.Gw[n+1]+s*O[n+1])*N+G;Q[n+2]=(z.Gw[n+2]+s*O[n+2])*N+G}}else{var L=lb.Rn();
L.CZ=Y.PrsT&&Y.PrsT.v;z.JX.fill(0);z.JX.set(z.Gw);f.V.Qe(p,O,F,z.JX,z.BS,z.BS,U,L)}}else cV.yh(Y,z.Gw,z.JX,z.BS)}if(g)t.p=null;
A.Y$.NV(t,this.pf);t.p=X}}if(d.R=="cancel"){A.Y$.a8Q(t,this.pf);this.pf=null}if(d.R=="confirm"){var q={fade:[2,11],aply:[2,12],matc:[4,18]},R=q[d.zh];
if(R==null)R=cV.names[d.zh];var m=cV.FU(d.zh,this.c8[1]);if(m!=-1)R=[4,16,m];A.Y$.wP(t,this.pf,R,this);
this.pf=null;if(m==-1)A.Y$.o6(v,this.c8)}t.uM()};A.Y$.o6=function(d,v){var t=v[0],h=v[1],X,g;if(cV.qU[t]){X=cV.qU[t];
if(ds[t])g=h}if(e0.qU[t]){X=e0.qU[t];if(ds[t])g=h}if(t=="fade"){X="fade";g=h}if(t=="matc"){X="matchColor";
g=h}if(t=="aply"){X="applyImageEvent";g=h}if(t=="GEfc"){if(g.GEfs)g=g.GEfs.v[0].v}if(X==null)return;
var x=new eG(_.E.U0,!0);x.data={_n:!0,oN:X};if(g){g=f.v(g);x.data.mQ=g}d.J(x)};A.Y$.a8Q=function(d,v){A.Y$.zW(d,v)};
A.Y$.wP=function(d,v,t,h){for(var n=0;n<v.length;n++){var X=v[n],g=d.U[X.B],x=X.B<0?d.gM[-1-X.B]:X.qj<=0?null:X.qj==1?g._B():g.Ip(d).AU;
if(x){x.s4();x.vF=!0;if(g)g.tG(d)}else{g.s4();g.uM()}delete X.JX;delete X.NO}var Z=new bd(t,h);Z.data=v;
d.RS(Z);d.Ir=!0};A.Y$.NV=function(d,v,t){for(var n=0;n<v.length;n++){var h=v[n],X=d.U[h.B],g=t?h.Gw:h.JX,x=h.BS;
if(h.qj==0){X.extend(x);if(h.NO){f.wH(h.Gw,x,X.buffer,X.S);f.V.cI(g,x,X.buffer,X.S,h.NO,x,0,x,1)}else f.wH(g,x,X.buffer,X.S)}else{var Z=h.B<0?d.gM[-1-h.B]:h.qj==1?X._B():X.Ip(d).AU;
Z.extend(x);if(h.NO){var Y=f.m(x.k()*4);f.Hy(h.Gw,Y);f.V.cI(g,x,Y,x,h.NO,x,0,x,1);A.mE.qK(Y,x,Z)}else A.mE.qK(g,x,Z);
Z.vF=!0;if(X)X.tG(d)}if(X)X.uM()}if(!t)A.Y$.awp(d,v)};A.Y$.zW=function(d,v){for(var n=0;n<v.length;n++){var t=v[n],h=d.U[t.B],X=t.BS,g=f.m(X.k()*4,d.depth);
if(t.qj==0){f.wH(h.buffer,h.S,g,X);h.extend(X);f.wH(t.Gw,X,h.buffer,h.S);h.s4()}else{var x=t.B<0?d.gM[-1-t.B]:t.qj==1?h._B():h.Ip(d).AU;
A.mE.$d(x.N,x.S,x.color,g,X);x.extend(X);A.mE.qK(t.Gw,X,x);x.s4();x.vF=!0;if(h)h.tG(d)}t.Gw=g;if(h)h.uM()}d.Ir=!0};
A.Y$.QH=function(d){var v=0;for(var n=0;n<d.length;n++)v+=d[n].Gw.length;return v};A.Y$.awp=function(d,v){var t=A.Y$.ax1(d),h=~t;
if(t==16777215)return;var X=d.z.b$;for(var n=0;n<v.length;n++){var g=v[n],x=d.U[g.B],Z=g.BS;if(g.qj!=0)continue;
x.extend(Z);var Y=Z.x-x.S.x,a=Z.y-x.S.y,z=x.S.r;if(d.depth==8){var p=new Uint32Array(g.Gw.buffer),U=new Uint32Array(x.buffer.buffer);
for(var l=0;l<Z.$;l++)for(var L=0;L<Z.r;L++){var j=l*Z.r+L,O=(l+a)*z+(L+Y);U[O]=U[O]&t|p[j]&h}}else{for(var l=0;
l<Z.$;l++)for(var L=0;L<Z.r;L++){var j=l*Z.r+L,O=(l+a)*z+(L+Y);if(X[0]==0)x.buffer[O*4]=g.Gw[j*4];if(X[1]==0)x.buffer[O*4+1]=g.Gw[j*4+1];
if(X[2]==0)x.buffer[O*4+2]=g.Gw[j*4+2]}}x.s4();x.uM()}d.uM()};A.Y$.ax1=function(d){var v=d.z.b$;return v[2]*16711680|v[1]*65280|v[0]*255};
A.Y$.prototype.Js=function(d,v){var t=v.U[d.B];if(d.Mo!=null)t.add[cV.get(t.add)]=d.Mo;else A.Y$.zW(v,d);
v.uM()};A.Y$.prototype.BW=function(d,v){var t=v.U[d.B];if(d.Mo!=null)t.add[cV.get(t.add)]=d.VE;else A.Y$.zW(v,d);
v.uM()};A.Y$.prototype.QH=function(d){return d.Mo==null?A.Y$.QH(d):0};A.yI=function(){A.M$.call(this,"Filter Edit",A.bH);
this.pf=null;this.E2=null;this.R=null;this.c8=null;this.vh=null};A.yI.prototype=new A.M$;A.yI.prototype.Oh=function(d,v,t,h,X){if(d.R=="start"){if(t.l.length==0)return;
var g=t.U[t.l[0]];if(g.add.SoLd&&g.VL<=0&&t.Cv.length==0){}else if(!t.sD(v,null,!0))return;var x=d.zh;
if((ds[x]||e0.B5[x])&&d.k1==null){if(t.l.length!=1)alert("Will be applied to "+t.l.length+" layers.");
var Z=new eG(_.E.c,!0);Z.data=A.yI.Od(x,this.Tk(t,x),d.amD);v.J(Z)}else{var Y={R:"edit",zh:x,k1:d.k1,Ws:this.Tk(t)};
this.Oh(Y,v,t,h,X);Y.R="confirm";delete Y.k1;this.Oh(Y,v,t,h,X)}}if(d.R=="edit"||d.R=="cancel"||d.R=="confirm"){if(d.R=="edit"){this.c8=[d.zh,d.k1];
if(cV.names[d.zh]==null)this.vh=this.c8}if(d.Ws)this.aJr(d,v,t,X);else this.a9n(d,v,t,X)}if(d.R=="applylast"&&this.vh!=null){var x=this.vh[0],a=this.vh[1];
if(h.A(cQ.io)&&(ds[x]||e0.B5[x])){var Z=new eG(_.E.c,!0);Z.data=A.yI.Od(x,this.Tk(t,x),null,a);v.J(Z)}else{var Y={R:"edit",zh:x,k1:a,Ws:this.Tk(t)};
this.Oh(Y,v,t,h,X);Y.R="confirm";delete Y.k1;this.Oh(Y,v,t,h,X)}}};A.yI.Od=function(d,v,t,h){var X=e0.B5[d];
if(X)return{R:_.Y.H_,T:X,IW:{Ws:v,amD:t}};else return{R:_.Y.S8,cG:"afw_"+d,Ws:v,K8:h}};A.yI.prototype.Tk=function(d,v){var t=d.U[d.l[0]],h;
if(t.add.SoLd&&t.VL<=0&&d.Cv.length==0){h={B:d.l[0],index:0};if(t.add.SoLd.filterFX!=null){var X=t.add.SoLd.filterFX.v.filterFXList.v;
h.index=X.length;for(var n=0;n<X.length;n++)if(e0.A$(X[n].v)=="rigidTransform")h.index=n}}return h};
A.yI.prototype.aJr=function(d,v,t,h){var X=t.U[d.Ws.B],g=d.zh;if(d.R=="edit"){if(this.R==null){var x=e0.names[g];
if(x==null)x=cV.names[g];if(g=="blendOptions")x=[14,10];this.R=new bd(x,this);this.R.data={Ws:d.Ws,aK1:f.v(X.add.SoLd)}}if(!X.l4()){X.add.SoLd.filterFX=e0.jE();
var Z=this.R.data.wG=hc.aO0(X.add.SoLd.placed.v,t.depth);t.f1(Z);if(t.p){Z.AU.N=t.p.N.slice(0);Z.AU.S=t.p.S.b();
Z.AU.color=0;this.R.data.B2=t.p;t.p=null}X.Lc(t)}var Y=X.add.SoLd.filterFX.v.filterFXList.v;if(Y[d.Ws.index]==null){Y.push(e0.s_(g,h))}if(d.k1){Y[d.Ws.index].v.enab.v=d.$T!=!0;
if(g=="blendOptions")Y[d.Ws.index].v.blendOptions.v=d.k1;else Y[d.Ws.index].v.Fltr.v=d.k1}this.R.data.aKG=f.v(X.add.SoLd);
this.BW(this.R.data,t)}if(d.R=="cancel"){if(this.R)this.Js(this.R.data,t);this.R=null}if(d.R=="confirm"){if(this.R)t.RS(this.R);
if(this.c8)A.Y$.o6(v,this.c8);this.R=null}};A.yI.prototype.a9n=function(d,v,t,h){if(this.pf==null){var X=e0.fl(d.zh,d.k1);
this.pf=A.Y$.getData(t,X.x!=0||X.y!=0,d.zh=="VaPo"?[{BS:d.MP[1]}]:null)}if(d.R=="edit"){var g=JSON.stringify(d.k1);
if((d.k1==null||g!=this.E2)&&d.$T!=!0)for(var n=0;n<this.pf.length;n++){var x=this.pf[n],Z={S:x.BS,buffer:x.Gw},Y={S:x.BS,buffer:x.JX};
if(d.zh=="Avrg"&&x.NO){Z.buffer=x.Gw.slice(0);f.XE(x.NO,Z.buffer)}e0.yh(d.zh,Z,d.k1,f.le(h.Sw),f.le(h.dL),Y,[t.add.lnk2?t.add.lnk2:[],t.U[t.l[0]]._B(),t.gM,t.V9()]);
if(d.zh=="VaPo"){f.wH(d.MP[0],d.MP[1],Y.buffer,Y.S)}if(d.zh=="Avrg"&&x.NO){var a=x.Gw.length;for(var n=0;
n<a;n+=4)x.JX[n+3]=x.Gw[n+3]}this.E2=g}A.Y$.NV(t,this.pf,d.$T)}if(d.R=="cancel"){A.Y$.a8Q(t,this.pf);
this.pf=null;this.E2=null}if(d.R=="confirm"){if(d.zh=="VaPo"){this.pf.aDD=JSON.stringify(t.uB);this.pf.aCU=JSON.stringify(d.K);
t.uB=d.K}A.Y$.wP(t,this.pf,e0.names[d.zh],this);this.pf=null;this.E2=null;A.Y$.o6(v,this.c8)}t.uM();
t.Ir=!0};A.yI.prototype.Js=function(d,v){if(d.aCU)v.uB=JSON.parse(d.aDD);if(d.Ws){var t=v.U[d.Ws.B];
if(d.wG)v.Xi(d.wG);if(d.B2)v.p=d.B2;t.add.SoLd=f.v(d.aK1);if(t.l4())t.JI(v);else{t.Lc(v);t.VL=0}}else A.Y$.zW(v,d);
v.uM();v.Ir=!0};A.yI.prototype.BW=function(d,v){if(d.aCU)v.uB=JSON.parse(d.aCU);if(d.Ws){var t=v.U[d.Ws.B];
if(d.wG)v.f1(d.wG);if(d.B2)v.p=null;t.add.SoLd=f.v(d.aKG);if(t.l4())t.JI(v);else t.Lc(v);if(!t.d5())t.Xw+=32}else A.Y$.zW(v,d);
v.uM();v.Ir=!0};A.yI.prototype.QH=function(d){return d.Ws==null?A.Y$.QH(d):0};var jG={};jG.PP=function(d){var v=[[0,300,12,d.Y.AV]];
for(var n=0;n<d.U.length;n++)if(d.U[n].Y.jJ==501)v=v.concat(d.U[n].Y.list);jG.aj(v);return v};jG.gF=function(d){var v=[[0,300,12,d.Y.VC]];
for(var n=0;n<d.U.length;n++){var t=d.U[n];if(t.Y&&t.Y.jJ==500)v=v.concat(t.Y.list)}jG.aj(v);return v};
jG.aj=function(d){d.sort(function(v,t){return v[0]-t[0]});for(var n=1;n<d.length;n++)if(d[n-1][0]==d[n][0]){d.splice(n-1,1);
n--}};jG.wY=function(d){var v=0;for(var n=0;n<d.U.length;n++){var t=d.U[n].Y.list,h=t[t.length-1];v=Math.max(v,h[0]+h[1])}return v};
jG.vr=function(d,v){var t=jG.gF(v),h=v.Y.VC,X=0,g=0;for(var n=0;n<t.length;n++){var x=t[n],Z=(x[0]-X)/(h/60*v.Y.BP);
if(Z<d-g){X=x[0];g+=Z;h=x[3]}else break}X+=(d-g)*(h/60)*v.Y.BP;return X};jG.iE=function(d,v){var t=jG.gF(v),h=v.Y.VC,X=0,g=0;
for(var n=0;n<t.length;n++){var x=t[n],Z=(x[0]-X)/(h/60*v.Y.BP);if(x[0]<d){X=x[0];g+=Z;h=x[3]}else break}g+=(d-X)/(h/60*v.Y.BP);
return g};jG.aIz=function(d){var v=new Uint32Array(128);for(var n=0;n<d.length;n++)v[d[n][2]]+=1;return v};
jG.atK=function(d){var v="C,C#,D,D#,E,F,F#,G,G#,A,A#,B".split(","),t=[],x=0,Z=0;for(var n=0;n<12;n++)t.push([n,v[n],0]);
var h=-1,X=[1,h,1,h,1,1,h,1,h,1,h,1];for(var g=0;g<12;g++){for(var bW=0;bW<128;bW++)t[g][2]+=d[bW]*X[(bW+12-g)%12]}t.sort(function(Y,a){return a[2]-Y[2]});
for(var n=0;n<d.length;n++){x+=n*d[n];Z+=d[n]}return{key:t,z8:x/Z}};function ev(){}ev.prototype=new ToContext2D;
var lD=function(){function d(S){var C=[],K=S.U[S.l[0]],N=0,s=0,E=0,e=0;if(200<K.Y.jJ)return C;var T=S.Y.BP,D=jG.PP(S),G=jG.gF(S),Q=S.U[S.l[0]].Y.list,q=Q[Q.length-1],R=q?q[0]+q[1]:0,m=Math.ceil(R/T);
for(var w=0;w<m;){var M=w*T;while(N+1!=D.length&&M>=D[N+1][0]){N++}var P=D[N][3];P=[Math.round(P[0]*4/P[1]),4];
while(s+1!=G.length&&M>=G[s+1][0]){s++}var I=G[s][3],k=t(K.Y.list,M,M+P[0]*T,T);w+=P[0];C.push({AV:P[0]==E?null:P,VC:I==e?null:I,list:k,aJw:iE.E$(k,C.length)});
E=P[0];e=I}return C}function v(S,C){return C*Math.round(S/C)}function t(S,C,K,T){var D=T>>>2,N=Math.round((K-C)/D),G=[],E=0;
for(var n=0;n<N;n++)G.push({Ko:2,aML:C+n*D,list:[],ajA:(n&3)==0});for(var n=0;n<S.length;n++){var s=S[n],Q=v(s[0],D),q=v(s[0]+s[1],D)-Q;
if(Q+q<C||K<Q)continue;Q-=C;for(var R=0;R<N;R++){var m=R*D;if(Q<=m&&m+D<=Q+q)G[R].list.push({K:s[2],Iz:Q<m})}}while(E<2){var e=!1;
for(var R=0;R<G.length-1;R++){var w=G[R],M=G[R+1],P=w.list,I=M.list,k=w.Ko/M.Ko;if(k<1)k=1/k;if(E==0&&k!=1)continue;
if(E==1&&k>2)continue;if(P.length==I.length&&(!M.ajA||w.Ko>=8&&M.Ko>=8||w.Ko==8&&M.Ko==4&&G[R+2]&&!G[R+1].Iz)){var bW=0;
for(var i=0;i<P.length;i++)if(P[i].K==I[i].K&&I[i].Iz)bW++;if(bW==P.length){w.Ko+=M.Ko;G.splice(R+1,1);
R--;e=!0}}}if(!e)E++}return G}function h(S,C,K){var T=c(C),D=T.wr,N=T.aoy,G=T.aO4,s=T.a28,Q=D*(3+(K?1.5:0)),q=Y(S,C-D*2,N);
return q.length*Q}function X(S,C,K,T,D){var N=c(K),G=N.wr,s=N.aoy,Q=N.aO4,q=N.a28,R=G*(3+(D?1.5:0)),m=Y(S,K-G*2,s),E=m.length*R,e=new gi(1,0,0,-1,0,E),w=UDOC.getState(),af=0,J=0,ke=0;
C.StartPage(0,0,K,E);w.colr=w.COLR=[.25,.25,.25];var M=new Uint32Array(128);for(var n=0;n<S.length;n++){var P=S[n].list;
if(P!=null)for(var I=0;I<P.length;I++){var k=P[I].list;for(var i=0;i<k.length;i++)M[k[i].K]++}}var o=jG.atK(M);
while(o.key[af][0]!=0)af++;if(o.key[af][2]==o.key[J][2])J=af;var at=o.key[J][0];if(o.z8<64)ke--;if(o.z8<52)ke--;
var c_={s2:[],I:[]},ag={s2:[],I:[]},dz={s2:[],I:[]},kL={s2:[],I:[]},aq=[];w.font.Tf="Arial";w.font.Tfs=Q;
for(var dh=0;dh<m.length;dh++){var gK=new gi;gK.translate(G,G+dh*R);gK.concat(e);var ad=new gi;ad.translate(0,G*1.9);
ad.concat(gK);f.Q.concat(c_,N.a8E,gK);if(D)f.Q.concat(c_,N.as0,ad);f.Q.concat(ag,{s2:["M","L"],I:[0,0,0,Q*5+(D?G*1.9:0)]},gK);
var dc=dh==0?4*s:s;if(dh==0){var lq=b([0,0],Q);f.Q.concat(c_,{s2:["M","L"],I:[0,lq,3.3*Q,lq]},gK);w.ctm=[gK.aX,gK.X,gK.Wp,-gK.r7,gK.r2+Q*3.7,gK.pE-5.36*Q];
C.PutText(w,"C"+(4+ke));f.Q.concat(dz,N.aBr,gK);var H=L[at];for(var n=0;n<H.length;n++){var hn=new gi,dF=H[n],c3=dF[0],i8=r(c3,0,-1),dr=b(i8,Q);
hn.translate(dc-2*s+Q*n*.6,dr);hn.concat(gK);f.Q.concat(ag,dF[1]==1?N.asB:N.anr,hn)}}for(var jO=0;jO<m[dh].length;
jO++){var d1=m[dh][jO],P=S[d1],h3=P.aJw,d5=P.list,ah=0,gE=0,fj;if(d5==null)continue;w.ctm=[gK.aX,gK.X,gK.Wp,-gK.r7,gK.r2+dc-s,gK.pE+Q*.5];
C.PutText(w,d1+1+"");if(P.AV){w.font.Tfs=Q*2.5;w.ctm=[gK.aX,gK.X,gK.Wp,-gK.r7,gK.r2+dc-s/2,gK.pE-1.8*Q];
C.PutText(w,P.AV[0]+"");w.ctm=[gK.aX,gK.X,gK.Wp,-gK.r7,gK.r2+dc-s/2,gK.pE-4*Q];C.PutText(w,P.AV[1]+"");
w.font.Tfs=Q;dc+=s}if(P.VC){w.font.Tfs=Q*1.2;w.ctm=[gK.aX,gK.X,gK.Wp,-gK.r7,gK.r2+dc-s/2,gK.pE+2*Q];
C.PutText(w,Math.round(P.VC)+" bpm");w.font.Tfs=Q;dc+=s}var em={},H=L[at];for(var n=0;n<H.length;n++){var fl=H[n];
for(var I=0;I<10;I++){var lA=I*12+fl[0]%12,av=r(lA,0,ke)[0];em[av]=fl[1]}}for(var bR=0;bR<d5.length;
bR++){var k=d5[bR],bD=k.Ko,e1=1e9,am=-1e9;for(var I=0;I<k.list.length;I++){var c3=k.list[I],hn=new gi,i8=r(c3.K,at,ke),dj,av=i8[0],dr=b(i8,Q);
hn.translate(dc,dr);hn.concat(gK);if(dr<e1)e1=dr;if(am<dr)am=dr;if(av<.5||av>5){var ja=new gi;ja.translate(dc,Q*5);
ja.concat(gK);var aj=[],dS=[];if(av<1)for(var eW=0;eW>=Math.floor(av/2);eW--){dS.push("M","L");aj.push(-Q,-Q*eW,Q,-Q*eW)}if(5<av)for(var eW=6;
eW<=Math.floor(av/2);eW++){dS.push("M","L");aj.push(-Q,-Q*eW,Q,-Q*eW)}f.Q.concat(c_,{I:aj,s2:dS},ja)}if(bD>=16)f.Q.concat(ag,N.aCy,hn);
else f.Q.concat(dz,N.ak0,hn);if(c3.Iz){var cI=dr*.5<2.5*Q?1:0;f.Q.concat(ag,cI?N.at6:N.a4i,hn)}if(em[av]==null)em[av]=0;
if(em[av]<i8[1]){em[av]++;f.Q.concat(ag,em[av]==0?N.aq0:N.asB,hn)}else if(em[av]>i8[1]){em[av]--;f.Q.concat(ag,em[av]==0?N.aq0:N.anr,hn)}if([32,16,8,4,2,1].indexOf(bD)==-1){f.Q.concat(dz,N.Cl,hn)}}if(D)for(var i=0;
i<6;i++){var kP=h3[bR][i];if(kP==-1)continue;var hn=new gi;hn.translate(dc-Q*.5-(i==6?Q*.5:0),(i+.3)*Q);
hn.concat(ad);w.ctm=[hn.aX,hn.X,hn.Wp,-hn.r7,hn.r2,hn.pE];C.PutText(w,(i==6?"| ":"")+kP)}if(gE==0&&k.list.length!=0&&bD<=8){var i=bR+1;
while(i<d5.length){var i0=d5[i];if(i0.list.length==0||i0.ajA||i0.Ko>6)break;i++}if(i>bR+1){ah=bR;gE=i-bR;
fj=[]}else{gE=0}}if(gE!=0){if(bR<ah+gE)fj.push(e1,am,bD,0);if(bR==ah+gE-1){var ac=1e9,jR=-ac,eo=fj.length>>>2;
for(var n=0;n<eo;n++){ac=Math.min(ac,fj[n*4+0]);jR=Math.max(jR,fj[n*4+1])}var eP=x(ac,jR,Q),as=eP==1?1:-1,kF=fj[eP],kW=fj[eo*4-4+eP],hs=(kW-kF)/(eo-1);
hs=Math.max(-Q*1.3,Math.min(Q*1.3,hs));for(var n=0;n<eo;n++){if(eP==1)kF=Math.max(kF,fj[n*4+eP]-n*hs);
if(eP==0)kF=Math.min(kF,fj[n*4+eP]-n*hs)}var aj=[],dS=[],gc=[],fK=[];for(var n=0;n<eo;n++){var lo=(n+1-eo)*s-as*q,cR=kF+as*3*Q+n*hs,fU=-as*Q;
dS.push("M","L");aj.push(lo,fj[n*4+(1-eP)],lo,cR);if(n<eo-1){g(lo,cR+fU*.25,lo+s,cR+hs+fU*.25,Q*.5,fK,gc)}if(fj[n*4+2]==2){var g8=0;
if(n<eo-1)g8=fj[(n+1)*4+2]==2?1:.3;else if(fj[(n-1)*4+2]!=2)g8=-.3;if(g8!=0)g(lo,cR+fU,lo+s*g8,cR+fU+hs*g8,Q*.5,fK,gc)}}var hn=new gi;
hn.translate(dc,0);hn.concat(gK);f.Q.concat(ag,{s2:dS,I:aj},hn);f.Q.concat(dz,{s2:fK,I:gc},hn);gE=0}}else if(k.list.length==0){var hn=new gi;
hn.translate(dc,0);hn.concat(gK);f.Q.concat(dz,N.ayw[bD>=32?0:bD>=16?1:bD>=8?2:bD>=4?3:bD>=2?4:5],hn);
if([32,16,8,4,2,1].indexOf(bD)==-1){var hn=new gi;hn.translate(dc,Q*1.5);hn.concat(gK);f.Q.concat(dz,N.Cl,hn)}}else if(bD<32){var cI=x(e1,am,Q),as=cI==1?1:-1,i2=N.asI[cI],hn=new gi;
hn.translate(dc,cI?am:e1);hn.concat(gK);f.Q.concat(ag,{s2:["M","L"],I:[-as*q,-as*(am-e1),-as*q,as*3*Q]},hn);
if(bD<8){f.Q.concat(dz,i2[1],hn);if(bD<4){f.Q.concat(dz,i2[2],hn)}if(bD<2){f.Q.a1F(dz,i2[3],hn)}}}if(k.list.length!=0)aq.push([k.aML,gK._V(new cK(dc,0))]);
dc+=s}f.Q.concat(ag,{s2:["M","L"],I:[dc,0,dc,4*Q]},gK);if(D)f.Q.concat(ag,{s2:["M","L"],I:[dc,0,dc,5*Q]},ad);
dc+=s}}if(T!=-1&&aq.length!=0){var jQ=0;while(aq[jQ+1]&&aq[jQ+1][0]<T)jQ++;var eS=aq[jQ],i0=aq[jQ==aq.length-1?jQ:jQ+1],ji=eS[1],l7=i0[1],g8=eS[0]==i0[0]?0:(T-eS[0])/(i0[0]-eS[0]),dc=ji.x+(l7.x-ji.x)*g8,eW=ji.y==l7.y?ji.y+Math.sin(g8*Math.PI)*Q:ji.y+(l7.y-ji.y)*g8,j_=Q/2;
f.Q.concat(kL,{s2:["M","L","L","Z"],I:[dc-j_,eW+j_,dc,eW,dc+j_,eW+j_]})}W(w,c_,new gi);w.lwidth=Q*.02;
C.Stroke(w);W(w,ag,new gi);w.lwidth=Q*.1;C.Stroke(w);W(w,dz,new gi);C.Fill(w);w.colr=[1,0,0];W(w,kL,new gi);
C.Fill(w);C.ShowPage();C.Done();return[K,E,aq]}function g(S,C,K,T,D,N,G){var s=D/2;N.push("M","L","L","L","Z");
G.push(S,C-s,K,T-s,K,T+s,S,C+s)}function x(S,C,K){return(S+C)*.5<2.5*K?1:0}function Z(S,C){f.Q.M(S.I,C,S.I)}function Y(S,C,K){var T=[],D=0,N=3*K;
for(var n=0;n<S.length;n++){var G=S[n],s=((G.list?G.list.length:1)+1+(G.AV?1:0))*K;if(N+s>C&&n!=0){D++;
N=K}if(T[D]==null)T[D]=[];T[D].push(n);N+=s}return T}var a=4*12,z=[7,2,9,4,11,6,1],p=[a+5+12,a+0+12,a+7+12,a+2+12,a+9,a+4+12,a+11],U=[5,10,3,8,1,6,11],l=[a+11,a+4+12,a+9,a+2+12,a+7,a+0+12,a+5],L=[[]],j=[],O=[],V=0,y=null;
for(var n=0;n<6;n++){O=L[U[n]]=O.slice(0);O.push([l[n],-1]);j=L[z[n]]=j.slice(0);j.push([p[n],1])}var F=[];
for(var i=0;i<12;i++){var $=[[0,0],[0,1],[1,0],[1,1],[2,0],[3,0],[3,1],[4,0],[4,1],[5,0],[5,1],[6,0]];
F.push($);var H=L[i];if(H==null)continue;if(i!=0&&H[0][1]==-1)for(var n=0;n<12;n++)if($[n][1]==1){$[n][0]++;
$[n][1]=-1}}function b(S,C){return C*5-C*S[0]*.5}function r(S,C,K){var T=Math.floor(S/12),D=F[C][S%12];
return[7*(T-5-K)+D[0],D[1]]}function W(S,C,K){var T=C.I.slice(0);f.Q.M(T,K,T);S.pth={crds:T,cmds:C.s2}}function c(S){if(S==V)return y;
V=S;var C=S,m=1;S=595.44;var K=S*.05,T=K*2,D=S*.01,N=D/2,G=D/4,s=2.5*D,Q=D*.065,q={s2:"M L M L M L M L M L".split(" "),I:[0,0,C-T,0,0,D,C-T,D,0,2*D,C-T,2*D,0,3*D,C-T,3*D,0,4*D,C-T,4*D]},R=f.v(q);
R.s2.push("M","L");R.I.push(0,5*D,C-T,5*D);var E={s2:["M","C","C"],I:[-1,0,-1,-1,1,-1,1,0,1,1,-1,1,-1,0]},e=JSON.parse(JSON.stringify(E));
Z(E,new gi(N*m,-.25*N,0,N*.9,0,0));Z(e,new gi(2*Q,0,0,2.7*Q,D,0));var w=f.v(E);Z(w,new gi(1.1,0,0,1.1,0,0));
var M={s2:["M","C"],I:[-s*.3,G,-s*.4,N,-s*.6,N,-s*.7,G]},P={s2:["M","C"],I:[-s*.3,-G,-s*.4,-N,-s*.6,-N,-s*.7,-G]},I={s2:"M L M L M L M L".split(" "),I:[-3,-1,3,-1,-3,1,3,1,-1,-3,-1,3,1,-3,1,3]};
Z(I,new gi(1.45*Q,-.4*Q,0,2.5*Q,-D,0));var k={s2:"M L L M L L".split(" "),I:[-1,-3,-1,1,1,1,1,3,1,-1,-1,-1]};
Z(k,new gi(2*Q,-.4*Q,0,3.3*Q,-D,0));var o={s2:["M","L","C"],I:[-1,-4,-1,1,1,1,1,-2.5,-1,-.7]};Z(o,new gi(3.2*Q,0,0,3.2*Q,-D*.9,0));
var af=Typr.U.SVGToPath("m5.1 8.2c0.1-3 3-7.9 4.8-8.4 1.3-0.3 3.1 7.1 3.1 10.1 0 3.7-2.3 6.7-4.7 9.5 0.5 1.8 1.5 5.4 1.5 5.4 4.1 0 7 3.3 7 6.8 0 2-0.9 5-4.7 6.4 0 0 0.1 3.8 0.1 4.3-0.2 3.1-2.4 5.9-5.5 5.9-2.8 0-5.1-2.3-5.1-5.1 0-1.6 1.4-2.7 3-2.7 1.4 0 2.4 1.2 2.4 2.7 0 1.3-1 2.7-3.2 2.3 0 0 1.7 1.7 3 1.7 2.5 0 4.1-2.4 4.3-5 0-0.5-0.2-3.9-0.2-3.9-7.9 0.8-10.9-4.2-10.9-9.5 0-4.6 3.4-8 6.5-11.5-0.5-1.6-1.4-4.6-1.4-9zm6.9 28.7c1.7-0.6 2.9-2.4 2.9-4.2 0-2.4-1.7-4.7-4.5-5 0.6 3 1.2 6 1.6 9.2zm-3.8-2.8c0.7 0.3 0.2 1.2-0.5 0.9-2.2-0.8-3.2-3.1-3.2-4.9 0-2.3 1.5-4.5 4.1-5.1q-0.5-2.3-1.2-4.6c-2.8 3.1-5.5 6.3-5.5 10.5 0 3.5 3.9 6.9 9 6.3-0.1-1.7-1.6-9.5-1.6-9.5-4.7 1.1-3.3 5.4-1.1 6.4zm-0.9-17.9c2.2-2.7 4.4-6.2 3.3-11.8-3.5 2.3-4.1 9.1-3.3 11.8z");
af={I:af.crds,s2:af.cmds};Z(af,new gi(D*.14,0,0,D*.14,D,-D));var J=N*m,at=D*3,ke=Typr.U.SVGToPath("m6.5 19c2.5-6.9 0.6-10.2-2.1-11.8-4.4-2.8-4.2-2.1-4.2-7.3 0.9 2.7 3.2 3.9 5.9 6 5.3 4.2 2.3 10.3 0.4 13.1z");
f.Q.M(ke.crds,new gi(Q,0,0,Q,0,0),ke.crds);var c_=f.v({I:ke.crds,s2:ke.cmds});Z(c_,new gi(1,0,0,1.25,J,-at));
var ag=f.v(c_);Z(ag,new gi(1,0,0,1,0,D*.5));var dz=f.v(c_);Z(dz,new gi(1,0,0,1,0,D*1));var kL=f.v({I:ke.crds,s2:ke.cmds});
Z(kL,new gi(1,0,0,-1.25,-J,at));var aq=f.v(kL);Z(aq,new gi(1,0,0,1,0,-D*.5));var dh=f.v(kL);Z(dh,new gi(1,0,0,1,0,-D*1));
var gK=[[{s2:["M","L"],I:[J,0,J,-at]},c_,ag,dz],[{s2:["M","L"],I:[-J,0,-J,at]},kL,aq,dh]],ad=Typr.U.SVGToPath("m4.3-0.1c1.2-0.7 8.2 7.6 8.2 9.3-0.1 2.1-5.6 4.2-5.6 7.7 0.1 3.5 6.1 7.8 4.4 8.9-8.1-4-8.7-1.7-6 6-7.2-9-6.6-13.6 2-9.9-11.6-12.3-2.8-8.9-0.9-14.7 1.2-3.5-3.4-6.5-2.1-7.3z");
ad={s2:ad.cmds,I:ad.crds};Z(ad,new gi(.8*Q,0,0,.8*Q,-D/6,D));var dc=Typr.U.SVGToPath("m12.3 1.5c1.1 0.2-6.1 21.8-6.1 21.8l-2-0.6 4.9-15.9c0 0-7.2 2.6-8.6-1.5-1.3-4.2 2.6-5.8 4.5-4.7 2.8 1.6 1 4 2.8 4.4 2 0.3 2.8-3.7 4.5-3.5z");
dc={s2:dc.cmds,I:dc.crds},Z(dc,new gi(.9*Q,0,0,.9*Q,-D/3,D*1.4));var lq=D*.6,hn=[{s2:["M","L","L","L","Z"],I:[-lq,D,lq,D,lq,D*1.5,-lq,D*1.5]},{s2:["M","L","L","L","Z"],I:[-lq,D*1.5,lq,D*1.5,lq,D*2,-lq,D*2]},ad,dc];
for(var n=0;n<2;n++){var dF=f.v(hn[3]);hn.push(dF);for(var c3=0;c3<n+1;c3++){var i8=f.v(dF);Z(i8,new gi(1,0,0,1,-D/4,D*.75));
dF.s2=dF.s2.concat(i8.s2);dF.I=dF.I.concat(i8.I)}}y={wr:K,aoy:s,aO4:D,a28:J,a8E:q,as0:R,aBr:af,aCy:E,ak0:w,asI:gK,Cl:e,asB:I,aq0:k,anr:o,at6:P,a4i:M,ayw:hn};
return y}return{shape:d,LB:X,jN:h}}(),iE=function(){var d=[64,59,55,50,45,40],v=[-1,-1,-1,-1,-1,-1,-1];
function t(Y,a){var z=[],p=[],U=[],l=[],H=0;for(var n=0;n<Y.length;n++){var L=Y[n],j=L.list,O=[],F=[];
for(var i=0;i<j.length;i++){var bW=j[i].K;if(O.indexOf(bW)==-1&&d[5]<=bW){O.push(bW);if(j[i].Iz)F.push(bW)}}p[n]=O.length!=0;
if(O.length!=0)z.push(O);U.push(F)}if(z.length==0){for(var n=0;n<Y.length;n++)l.push(v);return l}var $=h(z,a);
for(var n=0;n<Y.length;n++){var b=v;if(p[n]){b=$[H];H++;for(var i=0;i<6;i++)if(b[i]!=-1){var bW=d[i]+b[i];
if(U[n].indexOf(bW)!=-1)b[i]=-1}}l.push(b)}return l}function h(Y,a){var z=[],p={},U=[],b=1e9,r=0;for(var n=0;
n<Y.length;n++){var l=Y[n],L=g(l);while(L.length==0){l.pop();L=g(l)}z.push(L);for(var j=0;j<L.length;
j++)p[n+","+j]=L[j]}var O=[null],F={},i={},$={};for(var n=0;n<z[0].length;n++){var H=0+","+n;F[H]=0;
f.qA.e7(O,[H,0,n])}while(!0){var W=f.qA.Az(O);if(W==null)break;if(W[1]==z.length-1){if(F[W[0]]<b){b=F[W[0]];
r=W[0]}continue}var H=W[0],V=W[1]+1,y=z[V];for(var n=0;n<y.length;n++){var c=V+","+n;if($[H])continue;
var S=F[H]+X(p[H],p[c]),C=F[c];if(C==null||S<C){F[c]=S;i[c]=H}f.qA.e7(O,[c,V,n])}$[H]=!0}var K=[];while(r!=null){K.push(p[r]);
r=i[r]}K.reverse();return K}function X(Y,a){var z=Y[7],p=a[7],U=Y[8]+a[8],j=0;if(z!=-1&&p!=-1)U+=Math.abs(z-p);
var l=Y[6],L=a[6];if(l!=-1&&l==L){for(var n=0;n<6;n++){var O=Y[n],F=a[n];if(O==F||F==-1){}else if(F==0){throw"e"}else if(O==-1){if(F!=l)j++}else{if(l==O&&O<F)j+=1;
else if(l==F&&O>F)j+=1;else if(l<O&&O<F)j+=1.5;else if(l<F&&F<O)j+=1.5;else{console.log(l,O,F);throw"e"}}}}else{if(l!=-1||L!=-1)j+=1;
for(var n=0;n<6;n++){var O=Y[n],F=a[n];if(O==F||F==-1){}else if(F==0){if(O>0)j+=1}else if(O<=0)j+=1;
else j+=1.5}}return U+j}function g(Y){if(Y.length==0)return[[-1,-1,-1,-1,-1,-1,-1,-1,0]];var a=[],z=[-1,-1,-1,-1,-1,-1];
x(Y,0,z,100,-100,a);return a}function x(Y,a,z,p,U,l){if((U+p)/2<10&&U-p>3)return;if(U-p>4)return;if(a==Y.length){var L=z.slice(0),j=0,bW=0;
l.push(L);if(p>U){L.push(-1,-1,0);return}for(var n=0;n<L.length;n++)if(L[n]>0){j+=L[n];bW++}var O=j/bW,F=(U-p)*.2;
if(U-p>4)F+=10;if(O>11)F+=5;if(bW>2)F++;F+=Math.sqrt(O)*.2;L.push(-1,O,F);var i=Z(L);if(i!=-1){L=L.slice(0);
L[6]=i;if(bW>2)L[8]-=1;l.push(L);if(1<=bW&&bW<=1)for(var n=0;n<3;n++)if(p>1+n){L=L.slice(0);L[6]=p-1-n;
l.push(L)}}return}var $=Y[a];for(var H=0;H<z.length;H++){if(z[H]!=-1)continue;if(d[H]<=$&&$<=d[H]+17){var b=$-d[H];
z[H]=b;x(Y,a+1,z,b==0?p:Math.min(p,b),b==0?U:Math.max(U,b),l);z[H]=-1}}}function Z(Y){var a=100;for(var n=0;
n<6;n++){if(Y[n]!=-1&&Y[n]<a)a=Y[n]}if(a==100||a==0)return-1;else return a}return{E$:t}}(),jy=function(){var d=!1,v=0,t=0,h,X,g,x=null,Z=0,Y=-1;
function a(){if(g)return;g=new AudioContext;var F=g.createScriptProcessor(2048,2,2);F.connect(g.destination);
F.onaudioprocess=z}function z(F){var i=F.outputBuffer,$=i.sampleRate;if(x){if(Z==0)Z=Date.now()*.001-Y;
var H=fi.Yd(x,X,i.getChannelData(0),i.getChannelData(1),Z*$+4096,$);if(!H){Y=-1;x.U[0].Y.list=[]}Z+=i.getChannelData(0).length/$}if(!d)return;
if(t==0)t=Date.now()*.001-v;fi.Yd(h,X,i.getChannelData(0),i.getChannelData(1),t*$+4096,$);t+=i.getChannelData(0).length/$;
var b=h.Y.BP*4*h.Y.AV[0]/h.Y.AV[1],r=Math.ceil(jG.wY(h)/b)*b,W=jG.iE(r,h);if(t>W-.1){t-=W;v=Date.now()*.001}}function p(F){jy.B3();
d=!0;v=Date.now()*.001-(F?F:0);t=0}function U(){d=!1}function l(F,i){h=F;X=i}function L(){return Date.now()/1e3-v}function j(F,i){if(x==null){var $=x=new hc;
$.Y={BP:960,VC:60,Nn:!1};var H=$.vv();H.Y={list:[],l:[],jJ:0,volume:1};$.U.push(H)}if(Y==-1){Y=Date.now()*.001;
Z=0}var b=Date.now()*.001,r=Math.round((b-Y+.1)*960),$=x,W=$.U[0].Y;W.jJ=i<=200?i:0;if(F[0]==9)W.list.push([r,1e6,F[1],F[2]]);
if(F[0]==8){var V=W.list.pop();V[1]=r-V[0];W.list.push(V)}jy.B3()}function O(){var F=h,i=F.Y.BP*4*F.Y.AV[0]/F.Y.AV[1],$=Math.ceil(jG.wY(F)/i)*i,H=jG.iE($,F),b=8e3,r=Math.round(H*b);
console.log(r);var W=new Float32Array(r),V=new Float32Array(r),t=Date.now();fi.Yd(F,X,W,V,0,b);console.log(Date.now()-t)}return{B3:a,play:p,aNm:j,pause:U,Ad:l,getTime:L,aOs:O}}(),fi=function(){var d,v=0,t=3;
function h(L,j,O,F,i,$){v=$;d=j;var H=O.length,b=i/v,r=b+H/v,W=jG.vr(Math.max(0,b-t),L),V=jG.vr(r,L),y=!1;
for(var c=0;c<L.U.length;c++){var S=L.U[c],C=S.Y,K=C.list;if(!S.ZC())continue;if(C.jJ>200)continue;for(var n=0;
n<K.length;n++){var T=K[n];if(T[0]<V&&W<T[0]+T[1]&&T[3]!=0){var D=jG.iE(T[0],L),N=jG.iE(T[0]+T[1],L);
X(T[2],C.jJ,D-b,N-b,T[3],C.volume,O,F);y=!0}}}for(var n=0;n<O.length;n++){if(O[n]<-1)O[n]=-1;else if(O[n]>1)O[n]=1;
if(F[n]<-1)F[n]=-1;else if(F[n]>1)F[n]=1}return y}function X(L,j,O,F,i,$,H,b){var r=Math.max(Math.round(O*v),0),W=Math.min(Math.round((F+t)*v),H.length),V=bp.Br(d,j,L,i),y=F-O,c=1/v,S=bp.sK;
for(var C=0;C<V.length;C++){var K=V[C],T=K[S.loop],D=x(K),at=1;D[1]=Math.max(D[1],.01);var N=d.ax_[K[S.awI]],G=N.start,s=N.end-G,Q=d.Rp[G][0];
if(d.Rp[G][1]){G=0;s=Q.length}var q=N.ase-G+K[S.azc],R=N.afc-G+K[S.a2g],m=L+K[S.a6W]+K[S.aEf]/100,E=K[S.at_];
if(E==null||E==-1)E=N.aIh;E-=N.akq/100;var e=N.Pc*a(m)/a(E),w=$*(i/127)*(1/65536)*Z(.4*K[S.aEp]),M=.5+K[S.u4]/1e3,P=a(K[S.aGo]/100),I=K[S.adC];
if(P>15e3)I=0;var k=Math.ceil(.5*e/P),o=1-Math.max(0,Math.min(1,-I/100)),af=p(y,D),J=1/D[5];for(var n=r;
n<W;n++){var ke=n*c-O,c_=ke*e;if(T!=0){if(R<c_)c_=q+(c_-q)%(R-q)}else if(c_>=s)break;if(ke<y)at=p(ke,D);
else{at=af*z(1-(ke-y)*J);if(at<.002)break}var ag=U(G+c_,Q);if(I!=0){var dz=l(G+c_,Q,k);ag=dz+o*(ag-dz)}var kL=w*at*ag;
H[n]+=(1-M)*kL;b[n]+=M*kL}}}var g=[0,1/1e3,1/1e3,1/1e3,1,20/1e3];function x(L){var j=bp.sK,O=[L[j.amV],L[j.a4g],L[j.aao],L[j.ajw],L[j.aF8],L[j.aFm]],F=0;
for(var n=0;n<6;n++){var i=O[n];if(i==null){O[n]=g[n];F++}else if(n==4)O[n]=Z(Math.max(i,0));else O[n]=Math.pow(2,i/1200)}return O}function Z(L){return 1/Math.pow(10,L/200)}function Y(L){return Math.log10(L/27.5)/Math.log10(Math.pow(2,1/12))+21}function a(bW){return 27.5*Math.pow(2,(bW-21)/12)}function z(L){return L*L*L}function p(L,j){var O=j[0],F=j[1],i=j[2],$=j[3],H=j[4];
if(L<O)return 0;L-=O;return L<F+i?Math.min(1,z(L/F)):Math.max(H,H+(1-H)*((F+i+$-L)/$))}function U(n,L){var j=~~n,O=n-j;
return L[j]*(1-O)+L[j+1]*O}function l(n,L,j){var O=~~n,F=O+1,i=0;for(var $=0;$<j;$++)i+=L[O-$]+L[F+$];
return i/(j*2)}return{Yd:h}}(),lx={Np:"0",nj:"1",t0:"2",fJ:"3",Xp:"3.5",_0:"4",Nt:"5",C4:"6",ly:"7",XV:"7.5",F:"8",nx:"8.5",Iv:"8.8",ph:"9",IQ:"10",aDg:"10.5",jO:"11",Ih:"12",XN:"13",FA:"14",Iw:"15",gp:"16",xY:"17",LO:"18",py:"19",bX:"21",ao:"22",b9:"23",yy:"23.0",gB:"23.1",ET:"23.2",Hv:"23.3",tz:"23.4",lk:"23.5",Vq:"23.6",aFY:"30",cO:"31",x8:"40",Jv:"41",$f:"42"};
lx.HL={};lx.HL[lx.nj]=["abr","brushes",a5,[9,3],3];lx.HL[lx.t0]=["grd","gradients",iU,[12,37],4,36,36];
lx.HL[lx.fJ]=["shc","contours",k$,[12,21],0];lx.HL[lx.Xp]=["acv","curves",js,[4,2],0];lx.HL[lx._0]=["asl","styles",cu,[12,22],5];
lx.HL[lx.Nt]=["pat","patterns",fJ,[12,62],6];lx.HL[lx.C4]=["csh","shapes",g4,[12,77],7];lx.HL[lx.ly]=["aco","swatches",aC,[9,8],0,22,22];
lx.HL[lx.XV]=["act","color tables",fI,"Color tables",0,22,22];lx.HL[lx.F]=["atn","actions",bN,[9,9],2];
lx.HL[lx.nx]=["tpl","tpresets",l6,[9,12],0];lx.HL[lx.Iv]=["icc","profiles",ce,"LUTs",8];lx.dC={};lx.dC[lx.ly]=!0;
function bd(d,v,t){if(t==null)t=!1;this.name=d;this.T=v;this.aeP=t;this.data=null;this.aLy=Date.now()}bd.prototype.QH=function(){return this.T?this.T.QH(this.data):0};
var kl={};kl.hR=function(d,v){var t={t:"Clss",v:{classID:d}};if(v)t={t:"Enmr",v:{classID:d,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[t]}};kl.cd=function(d,v){var t={classID:"Lyr"};t[d]=v;return{oN:"set",mQ:{classID:"null",null:kl.hR("Lyr",!0),T:{t:"Objc",v:t}}}};
kl.aop=function(d,v,t,h,X){var g=new eG(_.E.U0,!0),x=[],n=0,Z=kl.XP(v,t,h,x);while(x.length!=0){var Y=x.pop();
n++;if(!Y.f)continue;console.log(n-1);if(Y.oN=="conditional"){var a=d.U[d.l[0]],z=Y.mQ.null.v.Cndt,p=!1;
if(z=="Bckg")p=!1;else if(z=="Pxel"&&d.fi(!1))p=!0;else if(z=="Adjs"&&cV.get(a.add))p=!0;else if(z=="Shp"&&a.add.vogk)p=!0;
else if(z=="Grup"&&a.h5())p=!0;else if(z=="Opn"&&d!=null)p=!0;else if(z=="32Bt")p=!1;else if(z=="RGB")p=!0;
var U=Y.mQ.then,l=Y.mQ.else;if(p&&U)kl.XP(v,U.v[0].v.val,U.v[1].v.val,x);if(!p&&l)kl.XP(v,l.v[0].v.val,l.v[1].v.val,x)}else if(Y.oN=="stop"){if(Y.mQ.Cntn&&Y.mQ.Cntn.v==!0)window.confirm(Y.mQ.Msge.v);
else{alert(Y.mQ.Msge.v);break}}else if(Y.oN=="play"){var L=Y.mQ.null.v,j=new eG(_.E.c,!0);j.data={R:_.Y.j4,HW:[L[0].v.val,L[1].v.val]};
X.J(j)}else{g.data={oN:Y.oN,mQ:Y.mQ};X.J(g)}}};kl.SW=function(d,v,t){var h;for(var n=0;n<d.length;n++){if(d[n].qq!=t)continue;
var X=d[n].Yx;for(var g=0;g<X.length;g++){if(X[g].qq!=v)continue;h=X[g]}}return h};kl.XP=function(d,v,t,h){var X=kl.SW(d,v,t).Yx,g=X.length;
for(var n=0;n<g;n++)h.push(X[g-1-n])};kl.a3J=function(d){var v=d.oN,t=d.mQ,h,x,Z,Y,a;if(t&&t.null)h=t.null.v[0];
if(t&&h==null&&t.At)h=t.At.v[0];if(h&&h.t=="obj ")h=h.v[0];var X=h&&h.v?h.v.classID:null,g=["purge"];
if(g.indexOf(v)!=-1)return v[0].toUpperCase()+v.slice(1);if(v=="GEfc"||v=="paintDaubs")return fH.names[t.GEfk.v.GEft][1];
a=cV.qU;for(x in a)if(a[x]==v)Z=x;a=e0.qU;for(x in a)if(a[x]==v)Y=x;a=e0.qU;for(x in a)if(x==v)Y=x;if(Z){var z=cV.FU(Z,t);
if(z!=-1)return[4,16,z];return cV.names[Z]}if(Y)return e0.names[Y];var p=kl.as1;if(v=="make"){if(h){if(X=="AdjL")return[6,1];
else if(X=="layerSection")return t.From?[6,9]:[6,20];else if(X=="Lyr")return[6,13];else if(X=="Chnl"&&h.v.enum=="Msk")return[6,2];
else if(X=="contentLayer")return[6,48,1];else if(X=="BckL")return"Make Background Layer";else if(X=="Path")return"Make Path";
else if(X=="TxLr")return"Make Text Layer";else if(X=="slice")return"Make Slices";else if(X=="Dcmn")return[11,7];
else if(X=="Gd")return[23,4];else if(X=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(t.Nw){X=t.Nw.v.classID;
if(X=="Dcmn")return[11,7];else if(X=="Chnl"||X=="SCch")return"New Channel"}}else if(v=="deselect"){if(X=="Path")return"Deselect current path";
else throw X}else if(v=="draw"){return"Draw"}else if(v=="select"){if(X=="Chnl"){var U={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[h.v.enum];
if(U==null)U="";return"Select "+U+" Channel"}else if(X=="Mn")return"Select Panel \""+h.v.enum+"\"";else if(X=="Lyr"){if(h.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[h.v.enum]+" Layer";
return"Select Layer \""+h.v.val+"\""}else if(X=="Path")return"Select Path";else if(X=="Brsh")return"Select Brush";
else if(X=="Dcmn")return"Select Document"}else if(p[v]&&X=="Chnl"){var l=h.v.keyID=="fsel";return p[v]+" "+(l?"Selection":"Channel")}else if(v=="set"){if(X=="Lyr")return"Set Current Layer";
else if(X=="AdjL")return[6,39];else if(X=="contentLayer")return[6,48,2];else if(X=="Prpr"){var L=h.v.keyID;
if(L=="TxtS")return"Set Text Style";else if(L=="paragraphStyle")return"Set Paragraph Style";else if(L=="Lefx")return[11,6];
else if(L=="FlIn")return"Set "+f7.get([1,14]);else if(L=="GnrP")return"Set General Preferences";else if(L=="QucM")return["+ VAR0",[6,6,1]];
else console.log(L)}else if(X=="Clr")return"Set "+(h.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(X=="Brsh")return"Set Brush";else if(X=="Path")return"Set Work Path";else console.log(X)}else if(v=="move"){if(X=="Lyr")return"Move Layer";
else if(X=="Chnl"&&h.v.keyID=="fsel")return[7,7];else console.log(X)}else if(v=="show"||v=="hide"){var j="";
if(X=="Lyr")j="Layer";if(X=="Chnl")j="Channel";if(X=="filterFX")j="Filter Effect";return(v=="show"?"Show":"Hide")+" "+j}else if(v=="reset"){if(X=="Clr")return"Reset Colors"}else if(v=="exchange"){if(X=="Clr")return[22,7,0]}else if(v=="rotateEventEnum")return[2,5];
else if(v=="flip"){var O=t.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,O?2:3]]}if(v=="duplicate"&&X=="Dcmn")return"Duplicate first document";
if(X=="Chnl"){if(v=="duplicate"){if(h.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(v=="delete")return"Delete Channel"}if(v=="transform")return h&&h.v.keyID=="fsel"?[7,10]:[10,16];
if(v=="convertMode"){var F="Convert Mode",i=t.Dpth;if(i)F+=" To "+i.v+"-Bit";return F}var $={cut:[5,0],copyEvent:[5,1],clearEvent:["- VAR0",[6,6,1]],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:t?X=="Lyr"?[6,31]:X=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerMakeCopy:"New Smart Obj. via Copy",placedLayerEditContents:"Edit Contents",placedLayerResetTransforms:"Reset Transform",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},H=$[v];
if(H==null)H=kl.agI[v];if(H)return H;return v};kl.agI={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
kl.as1={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
kl.aqQ=function(d,v,t,h){var X=d.oN,g=d.mQ,x=!1,Z=new eG(_.E.F,!0),p,U,l,L;Z.T=A.EM;var Y=new eG(_.E.c,!0),a=["purge","updatePlacedLayer"];
if(a.indexOf(X)!=-1)return;var z=X;while(z.length<4)z+=" ";L=cV.qU;for(p in L)if(L[p]==z)U=p;L=e0.qU;
for(p in L)if(L[p]==z)l=p;L=e0.qU;for(p in L)if(p==z)l=p;if(X=="fade")U=X;if(X=="matchColor")U="matc";
if(X=="applyImageEvent")U="aply";if(U){Z.T=A.xU;Z.data={R:"start",Gm:U,k1:g}}else if(l){Z.T=A.bH;Z.data={R:"start",zh:l,k1:g}}else if(X=="GEfc"||X=="paintDaubs"){Z.T=A.bH;
Z.data={R:"start",zh:"GEfc",k1:g}}else if(X=="convertMode"){var j=g.Dpth;if(j==null)return;Z.T=A.Oi;
Z.data={R:"cmode",K:j.v}}else if(X=="assignProfile"||X=="convertToProfile"){var O=g.profile;if(O==null)O=g.T;
Z.T=A.Oi;Z.data={R:"cprof",K:O?O.v:null,ayJ:X[0]=="c"}}else if(X=="imageSize"||X=="canvasSize"||X=="revealAll"||X=="trim"||X=="crop"){Z.T=A.bl;
Z.data={R:"fromAction",VV:d}}else if(X=="fill"||X=="stroke"||X=="delete"&&g==null){var F=null;if(h.l.length!=0)F=h.U[h.l[0]];
if(g&&JSON.stringify(g).indexOf("aiHeal")!=-1)F=null;var i=f.le(t.Sw);if(F!=null&&X=="fill"&&F.add.TySh){var $="var c = new SolidColor();  c.rgb.red="+i.C+";  c.rgb.green="+i.L+";  c.rgb.blue="+i.X+";  app.activeDocument.activeLayer.textItem.color = c;";
Y.data={R:_.Y.z7,uq:$}}else if(F!=null&&X=="delete"&&F.add.TySh){Z.T=A.uW;Z.data={R:"insertText",K:""}}else if(F!=null&&X=="fill"&&F.c5()&&F.C5<=0){var Z=new eG(_.E.U0,!0),g={classID:"setd",null:kl.hR("contentLayer",!0),T:{t:"Objc",v:{}}};
A.OJ.mw({Clr:{t:"Objc",v:f.iF.Zi(f.le(t.Sw))}},g.T.v,0);Z.data={oN:"set",mQ:g};v.J(Z);return}else if(X=="stroke"&&g&&g.null==null){Z.T=A.OG;
Z.data={R:"stroke",a7k:g}}else{if(X=="stroke"&&g&&g.Usng)Z.T=A.qU[g.Usng.v.classID];else Z.T=t.tN==A.D8?A.D8:A.nj;
Z.data={R:"fromAction",VV:d}}}else if(X=="colorRange"||X=="grow"||X=="similar"){Z.T=A.CD;Z.data={R:"fromAction",VV:d}}else if(X=="set"&&g&&g.T&&g.T.v.Ordn=="Al"&&t.tN==A.uW&&v.H8().Ht()){Z.T=A.uW;
Z.data={R:"selectAll"}}else if(X=="clearEvent"){Z.T=A.Nf;Z.data={R:"qmask"}}else if(X=="set"&&g&&g.null&&g.null.v[0]&&g.null.v[0].v.keyID=="QucM"){Z.T=A.Nf;
Z.data={R:"qmask"}}else if(j8==2&&X=="set"&&g.T){var F=h.U[h.l[0]];if(F)F.Y.l=[];if(g.T.v.Ordn=="Al"&&F)for(var n=0;
n<F.Y.list.length;n++)F.Y.l.push(n);h.QW=!0;return}else if(kl.agI[X]||kl.as1[X]&&(!1||g.With&&g.With.v[0].v.keyID=="fsel"||g.From&&g.From.v[0].v.keyID=="fsel"||g.null&&g.null.v[0].v.keyID=="fsel"||g.T.v[0]&&g.T.v[0].v.keyID=="fsel")){Z.T=A.Nf;
Z.data={R:"fromAction",VV:d}}else if(X=="rasterizeLayer"){Z.data={R:g.What?g.What.v.rasterizeItem=="vectorMask"?jn.nn:jn.aha:jn.eC}}var H={copyToLayer:jn.g8,cutToLayer:jn.L3,mergeLayersNew:jn.AX,mergeVisible:jn.Wa,flattenImage:jn.aLg,newPlacedLayer:jn.fD,placedLayerMakeCopy:jn.j0};
if(H[X])Z.data={R:H[X],mQ:g};if(Z.data){v.J(Z);return}if(X=="collapseAllGroupsEvent"){for(var n=0;n<h.U.length;
n++){var F=h.U[n];if(F.h5())F.add.lsct=f$.wM}h.zs=!0;return}if(X=="desaturate"||X=="Dstt"){Z.T=A.xU;
Z.data={R:"auto",a7S:3};if(h&&h.U[h.l[0]].add.SoLd==null)v.J(Z);return}if(X=="close"){if(g&&g.Svng.v.YsN=="Ys"){Y.data={R:_.Y.Qk};
v.J(Y)}Y.data={R:_.Y.bC,Wt:h};v.J(Y);return}if(X=="save"){Y.data={R:_.Y.Qk};v.J(Y);return}if(X=="copyMerged"){Y.data={R:_.Y._M,Nx:!0,U6:!0};
v.J(Y);return}if(X=="placedLayerReplaceContents")Y.data={R:_.Y.mx,iy:!0};if(X=="placedLayerConvertToLayers"){Y.data={R:_.Y.eW};
v.J(Y);var b=v.n0[v.n0.length-1];b.l=[];for(var n=0;n<b.U.length;n++)b.l.push(n);Z.T=A.EM;Z.data={R:jn.DL};
v.J(Z);var r=h.U[h.l[0]];Z.T=A.EM;Z.data={R:jn.h$,U:b.w$(),tq:b,qQ:h,aEy:[r]};v.J(Z);Y.data={R:_.Y.bC};
v.J(Y);var W=h.history[h.history.length-1];W.name="Convert to Layers";var V=h.U[h.l[0]];V.qv(r.getName());
A.jt.n8(h,h.A6(),null,r.S.x,r.S.y);return}if(X=="placedLayerResetTransforms"){Z.T=A.Oi;Z.data={R:"reset",qq:"Reset Transform"};
v.J(Z);return}var H={placedLayerEditContents:_.Y.eW,placedLayerExportContents:_.Y.a3a,copyEvent:_.Y._M,paste:_.Y.me};
if(H[X])Y.data={R:H[X],U6:!0};if(Y.data){v.J(Y);return}var y=g.null?g.null.v:null,c=y?y[0].v.classID:"";
if(X=="make"){if(g.null==null&&g.Nw)c=g.Nw.v.classID;if(c=="AdjL"){Z.data={R:jn.Ts,mQ:g}}else if(c=="layerSection"){Z.data=g.From?{R:jn.DL}:{R:jn.yC};
if(g.Usng){var S=g.Usng.v;if(S.Nm)Z.data.co=S.Nm.v;if(S.Clr)Z.data.Qj=kl.Un(S)}}else if(c=="Lyr"){if(g.Usng&&g.Usng.v.length==2)Z.data={R:jn.auT};
else{Z.data={R:jn.XK};if(g.Usng)Z.data.co=g.Usng.v.Nm.v;if(g.below&&g.below.v)Z.data.aAV=!0}}else if(c=="Chnl"&&g.At&&g.At.v[0].v.enum=="Msk"){Z.data={R:jn.ks,y1:g.Usng.v.UsrM}}else if(c=="Chnl"||c=="SCch"){Z.data={R:jn.KQ,G$:"fromAction",K:d}}else if(c=="contentLayer"){Z.data={R:jn.$z,mQ:g}}else if(c=="BckL"){h.U[h.l[0]].aBE();
return}else if(c=="Dcmn"){if(g.Nw==null)return;var C=g.Nw.v;Y.data={R:_.Y.cJ,Vr:hc.acA(C,t)}}else if(c=="Ptrn")Y.data={R:_.Y.m5,Ic:0};
else if(c=="Brsh")Y.data={R:_.Y.m5,Ic:1};else if(c=="Path"){var K=g.At;if(K&&K.v&&K.v[0]&&K.v[0].v&&K.v[0].v.enum=="vectorMask"){Z.T=A.EM;
var T=!1,D=!1;if(g&&g.Usng){var S=g.Usng.v;T=S.vectorMaskEnabled=="RvlA";D=S[0]&&S[0].v.classID=="Path"}Z.data={R:jn.RW,arA:!T,abK:D}}else{Z.T=A.Z4;
Z.data={R:"pathedit",G$:"fromsel"}}}else if(c=="TxLr"){Z.T=A.uW;Z.data={R:"fromAction",VV:d}}else if(c=="slice"){Z.T=A.sE;
Z.data={R:"fromAction",VV:d}}else if(c=="Gd"){var N=[[],[]],C=g.Nw.v;N[C.Ornt.v.Ornt=="Vrtc"?0:1].push(C.Pstn.v.val);
var G=ee.gH(N);A.jt.Z$(G,h.Dy());Z.T=A.Xc;Z.data={R:"gids",BH:G}}else{console.log(X,c,g);throw"e"}}else if(X=="divide"){Z.T=A.sE;
Z.data={R:"fromAction",VV:d}}else if(X=="deselect"){if(c=="Path"){h.lE=[];h.so=[];h.zs=h.QW=!0;return}else throw c}else if(X=="selectNoLayers"){h.l=[];
h.Ir=!0}else if(X=="selectAllLayers"){h.l=[];for(var n=0;n<h.U.length;n++)h.l.push(n);h.Ir=!0;return}else if(X=="select"){var s=A.qU;
if(c=="Lyr"){var Q=g.selectionModifier,q=Q?Q.v.selectionModifierType:null,R=kl.y7(h,y[0]),m=0;if(R==-1){alert("Layer "+y[0].v.val+" does not exist.");
return}var F=h.U[R];if(F.h5()&&F._B()&&Q==null)m=1;Z.data={R:jn.yF,B:R,aum:q?["addToSelection","addToSelectionContinuous"].indexOf(q):null,C5:m}}else if(c=="Path"){if(y[0].v.keyID=="WrPt"){h.lE=[0];
h.zs=h.QW=!0;return}else if(y[0].t=="name"){for(var n=0;n<h.S5.length;n++)if(h.S5[n].name==y[0].v.val){h.lE=[n];
h.zs=h.QW=!0;return}}else throw y[0]}else if(c=="Chnl"){var E=y?y[0].v.enum:"",e=["Rd","Grn","Bl"].indexOf(E);
if(e!=-1){var w=g.Extd&&g.Extd.v?h.z.b$.slice(0):[0,0,0];w[e]=1;Z.T=A.MD;Z.data={R:"setcls",b$:w}}else Z.data={R:jn.yF,B:R,C5:E=="RGB"?0:1}}else if(c=="Dcmn"){if(v.n0.length<2)return;
Y.data={R:_.Y.awE,dir:g.null.v[0].v.val}}else if(c=="Brsh"){var M=t.LG.list,P;for(var n=0;n<M.length;
n++){if(M[n].v.Nm.v.split("/").pop()==y[0].v.val)P=M[n].v}if(t.tN==A.Xc){Y.data={R:_.Y.H_,T:A.nj};v.J(Y)}Y.data={R:_.Y.Kf,Ic:lx.FA,mV:P}}else if(c=="Mn"){if(y[0].v.enum=="FrTr")Y.data={R:_.Y.H_,T:A.Oi};
if(y[0].v.enum=="Scl")Y.data={R:_.Y.H_,T:A.Oi,IW:{y1:3}};if(y[0].v.enum=="Plce")Y.data={R:_.Y.mx,acK:!0};
if(y[0].v.enum=="ZmIn"){Z.T=A.CK;Z.data={R:"zoom",JR:!0}}if(y[0].v.enum=="ZmOt"){Z.T=A.CK;Z.data={R:"zoom",JR:!1}}if(y[0].v.enum=="FtOn"){Z.T=A.CK;
Z.data={R:"adapt",K:"fitscr"}}}else if(s[c]){Y.data={R:_.Y.H_,T:s[c]}}else throw c}else if(X=="draw"){Z.T=A.Z4;
Z.data={R:"fromAction",VV:d}}else if(X=="gradientClassEvent"){Z.T=A.vQ;Z.data={R:"fromAction",VV:d}}else if((X=="set"||X=="reset"||X=="exchange")&&c=="Clr"){Y.data={R:_.Y.Kf,Ic:lx.bX,G$:X=="reset"?3:2};
if(X=="set"){Y.data.G$=y[0].v.keyID=="FrgC"?0:1;var I=f.iF.pq(g.T.v);Y.data.K=I.C<<16|I.L<<8|I.X}}else if(X=="set"){if(c=="AdjL"){var k=g.T.v.classID;
k=cV.Hz[k];Z.T=A.xU;if(k)Z.data={R:"edit_layer",K:g.T.v}}else if(c=="Lyr"){var o=g.T.v,R=kl.y7(h,y[0]);
for(var af in o){if(af=="classID")continue;Z.T=A.EM;if(af=="Nm")Z.data={R:jn.zG,name:o.Nm.v};else if(af=="Opct")Z.data={R:jn.Q3,VE:Math.round(o.Opct.v.val*255/100)};
else if(af=="fillOpacity")Z.data={R:jn.vT,VE:Math.round(o.fillOpacity.v.val*255/100)};else if(af=="Md")Z.data={R:jn.cW,VE:gL.RG.indexOf(o.Md.v.BlnM)+(h.U[R].h5()?1:0)};
else if(af=="Usrs")Z.data={R:jn.Du,B:R};else if(af=="Blnd"){Z.T=A.iL;Z.data={R:"setstl",B:R,K:{blendOptions:{t:"objc",v:o}}};
v.J(Z);Z.data={R:"confirm",B:R}}else if(af=="userMaskFeather"||af=="userMaskDensity"){var J=o.userMaskFeather,j=o.userMaskDensity,R=h.l[0],at=h.U[R].Ta(0);
if(J)at.sP=J.v.val;if(j)at.LP=j.v.val;Z.data={R:jn.ex,ME:R,ZE:at}}else if(af=="Clr"){var i=kl.Un(o);
Z.data={R:jn.WO,agj:i}}else if(af=="Lefx")kl.aG7(v,R,o.Lefx.v,t);else if(af=="UsrM"){if(o[af].v==h.U[R]._B().isEnabled)return;
Z.data={R:jn.gu,B:R}}else{console.log(g);throw af}if(Z.data){v.J(Z);delete Z.data}}Z.data={};var F=h.U[R];
F.aa6()}else if(c=="Prpr"){var o=f.v(g.T.v),R=kl.y7(h,g.null.v[1]),F=h.U[R],ke=y[0].v.keyID;if(ke=="TxtS"||ke=="paragraphStyle"){var c_=F.add.TySh,ag=f.v(c_.Oo),dz=jM.W3(ag),kL=jM.Sj(ag,0,dz.length-2);
if(ke=="TxtS")jM.OL(o,kL.Uy);else jM.OL(o,kL.eE);jM.yx(ag,0,dz.length-1,kL);Z.T=A.uW;Z.data={R:"newED",ED:R,ac6:ag}}else if(ke=="Lefx"){for(var aq in o)if(o[aq].v){if(aq=="Scl")o[aq].v.val=100}kl.aG7(v,R,o,t);
Z.data={}}else if(ke=="FlIn"||ke=="GnrP")return;else throw ke}else if(c=="contentLayer"){var R=kl.y7(h,y[0]),o=g.T.v,dh=!0;
if(o.classID=="shapeStyle"){if(o.strokeStyle){o=o.strokeStyle.v;dh=!1}else o=o.FlCn.v}if(dh){var gK={solidColorLayer:0,gradientLayer:1,patternLayer:2}[o.classID],ad=kV.yz(h.U[R].add),l=ad.Ci==gK+1?ad.hn:kV.Em[gK];
l=f.v(l);A.OJ.mw(o,l,gK);Z.data={R:jn.Gh,ls:[R],_A:!0,K:{Ci:gK+1,hn:l}}}else{var dc=f.v(h.U[R].add.vstk);
for(var aq in o)dc[aq]=o[aq];Z.data={R:jn.Gh,ls:[R],_A:!1,K:dc}}}else if(c=="Brsh"){var P=f.v(t.LG.fh),lq=g.T.v;
if(lq.masterDiameter)P.Brsh.v.Dmtr.v.val=lq.masterDiameter.v.val;else console.log("unknown brush parameters");
Y.data={R:_.Y.Kf,Ic:lx.FA,mV:P}}else if(c=="Path"){Z.T=A.Z4;Z.data={R:"fromAction",VV:d}}else if(c=="TxLr"){Z.T=A.uW;
Z.data={R:"fromAction",VV:d}}else{console.log(y[0],g);throw c}}else if(X=="move"){if(c=="Lyr"){var o=g.T.v;
if(o.classID=="Ofst"){Z.data={R:"trsl",T9:o.Hrzn.v.val,Io:o.Vrtc.v.val};Z.T=A.Xc}else{var hn,dF;if(o[0].t=="Enmr"){if(o[0].v.enum=="Frnt")dF=0;
else if(o[0].v.enum=="Nxt")dF=1;else if(o[0].v.enum=="Prvs")dF=2;else if(o[0].v.enum=="Back")dF=3;else throw"e"}else hn=o[0].v.val;
Z.data={R:jn.pi,target:hn,G$:dF,at3:g.Dplc?g.Dplc.v:!1}}}else if(c=="Chnl"&&y[0].v.keyID=="fsel"){Z.T=A.Nf;
Z.data={R:"fromAction",VV:d}}}else if(X=="cut"){var o=g.T.v,c3=o.Hrzn.v.val,i8=o.Vrtc.v.val;Z.data={R:"trsl",T9:c3,Io:i8};
Z.T=A.Xc}else if(X=="groupEvent"||X=="ungroup")Z.data={R:jn.BV};else if(X=="show"||X=="hide"){var dr=g.null.t;
if(dr=="obj "){if(y[0].v.val!=null)Z.data={R:jn.FC,index:y[0].v.val-1};else Z.data={R:jn.po}}else if(dr=="VlLs"){var c=y[0].v[0].v.classID;
if(c=="Chnl")Z.data={R:jn.KQ,G$:"fromAction",K:d};else{var jO=c=="filterFX"?y:y[0].v;for(var n=0;n<jO.length;
n++){if(c=="filterFX")Z.data={R:jn.FC,index:jO[n].v[0].v.val-1};else if(jO[n].v.enum=="Trgt"){var d1=[];
for(var h3=0;h3<h.l.length;h3++){var R=h.l[h3],d5=h.U[R].ZC();if(X=="show"&&d5||X=="hide"&&!d5)continue;
d1.push(R)}Z.data={R:jn.kJ,ls:d1}}else{var R=kl.y7(h,jO[n]),d5=h.U[R].ZC();if(X=="show"&&d5||X=="hide"&&!d5)continue;
Z.data={R:jn.kJ,ls:[R]}}v.J(Z)}return}}else throw dr}else if(X=="rotateEventEnum"){Z.T=c=="Lyr"?A.Oi:A.bl;
var em=g.Angl.v.val;Z.data={R:"rot",qq:[2,5],K:-em*Math.PI/180}}else if(X=="flip"){Z.T=c=="Lyr"?A.Oi:A.bl;
var fl=g.Axis.v.Ornt=="Hrzn",lA=fl?new cK(-1,1):new cK(1,-1);Z.data={R:"scl",qq:[[2,6],[22,4,fl?2:3]],K:lA}}else if(X=="transform"){var y=g.null;
if(y&&y.v instanceof Array)y=y.v[0];Z.T=y&&y.v.keyID=="fsel"?A.Yt:A.Oi;Z.data=A.hZ.aa5(g)}else if(X=="duplicate"){if(c=="Chnl")Z.data={R:jn.KQ,G$:"fromAction",K:d};
else if(c=="Dcmn"){var av=b3.bV("PSD").V$(h);dY.o_({url:h.name},av,v);return}else if(c=="Actn"){var ah=t.TK,gE=y[1].v.val,fj=null;
for(var n=0;n<ah.length;n++)if(ah[n].qq==gE)fj=ah[n];var bR=kl.SW(ah,y[0].v.val,gE);bR=f.v(bR);bR.qq+=" copy";
fj.Yx.push(bR);return}else Z.data={R:jn.jl,co:g.Nm?g.Nm.v:null}}else if(X=="delete"){if(c=="filterFX"){if(y[0].v.val!=null)Z.data={R:jn.SJ,pd:y[0].v.val-1};
else Z.data={R:jn.IX}}else if(c=="Path"){if(y&&y.length==2&&y[0].v.enum=="vectorMask"&&y[1].v.classID=="Lyr"){Z.T=A.EM;
Z.data={R:jn.i8}}else{Z.T=A.Z4;Z.data={R:"pathedit",G$:"del"}}}else if(c=="Lyr")Z.data={R:jn.o1};else if(c=="Chnl"&&y[0].v.enum=="Msk")Z.data={R:jn.yf};
else if(c=="Chnl")Z.data={R:jn.KQ,G$:"fromAction",K:d};else if(c=="Cmnd"){var ah=t.TK,gE=y[2].v.val,bR=kl.SW(ah,y[1].v.val,gE);
bR.Yx.splice(y[0].v.val-1,1);return}else if(c=="Actn"){var ah=t.TK,gE=y[1].v.val,fj=null;for(var n=0;
n<ah.length;n++)if(ah[n].qq==gE)fj=ah[n];var bR=kl.SW(ah,y[0].v.val,gE);fj.Yx.splice(fj.Yx.indexOf(bR),1);
return}else if(c=="ASet"){var ah=t.TK,gE=y[0].v.val,fj=null;for(var n=0;n<ah.length;n++)if(ah[n].qq==gE)fj=ah[n];
if(fj==null)return;ah.splice(ah.indexOf(fj),1);h.Ir=!0;return}else throw c}else if(X=="align"){if(g.Aply&&g.Aply.v.projection=="Auto"){Z.T=A.bl;
Z.data={R:"auto-align"}}else{Z.T=A.Xc;var bD=g.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[bD];
if(U==null)throw bD;Z.data={R:"algn",K:U}}}else if(X=="applyLocking"){var e1=g.layerLocking.v,am;if(e1.protectTransparency)am=[[e1.protectTransparency.v],[0]];
else if(e1.protectNone)am=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(e1);throw"e"}Z.data={R:jn.dS,VE:am}}else if(X=="play"){var y=g.target.v;
Y.data={R:_.Y.j4,HW:[y[0].v.val,y[1].v.val]}}if(Z.data)v.J(Z);else if(Y.data)v.J(Y);else{console.log(d);
alert("Unknown action \""+X+"\"");throw"e"}};kl.aG7=function(d,v,t,h){t=f.v(t);kY.ru(t);if(t.masterFXSwitch==null)t.masterFXSwitch={t:"bool",v:!0};
console.log(t);var X=kV.dv;for(var g=0;g<X.length;g++)if(t[X[g]]){for(var n=0;n<t[X[g]].v.length;n++){var x=t[X[g]].v[n].v;
for(var Z=0;Z<2;Z++){var Y=x[Z==0?"TrnS":"MpgS"];if(Y&&Y.v.Crv==null){var a=Y.v,z=a.Nm.v.split("=").pop(),p=h.ff,U=0;
for(var l=0;l<p.length;l++){var L=p[l].Nm.v.split("=").pop();if(L==z)U=l}a.Crv=f.v(p[U].Crv)}}}}var j=new eG(_.E.F,!0);
j.T=A.iL;j.data={R:"setstl",B:v,K:{Lefx:{t:"objc",v:t}}};d.J(j);j.data={R:"confirm",B:v};d.J(j)};kl.Un=function(d){var v={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[d.Clr.v.Clr];
if(v==null)throw d.Clr.v.Clr;return v};kl.y7=function(d,v){var t=1e6,h=0,X=d.U.length;for(var n=0;n<d.l.length;
n++){t=Math.min(t,d.l[n]);h=Math.max(h,d.l[n])}var g=v.t,x=-1;if(g=="name"){var Z=v.v.val,x=-1;for(var n=0;
n<X;n++)if(d.U[n].getName()==Z){x=n;break}}else if(g=="Enmr"){if(d.l.length!=0)x=d.l[0];if(v.v.enum=="Frwr")x=h+1;
if(v.v.enum=="Bckw")x=t-1;if(v.v.enum=="Back")x=0;if(v.v.enum=="Frnt")x=X-1;x=(x+X)%X}else if(g=="prop"){if(v.v.keyID=="Bckg")x=0}else if(g=="indx")x=v.v.val-1;
return x};var cV={};cV.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
cV.az9=["expA","clrL","selc"];cV.gd=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];cV.aa8=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
cV.Yv=[[13,1,1],[13,1,4],[13,1,5]];cV.vN={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
cV.Hz=function(){var d=f.v(cV.vN);delete d.GrMp;d.GdMp="grdm";return d}();cV.qU={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
cV.keys={levl:[cQ.LE,cQ.f0],curv:[cQ.LE,cQ.wr],hue2:[cQ.LE,cQ.Yu],nvrt:[cQ.LE,cQ.Fc],blnc:[cQ.LE,cQ.ST]};
cV.kL=function(d){var v=e0.yu("mixr");v.Mnch={t:"bool",v:d.I4};function t(h,n){var X={classID:"ChMx"},g={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in g)X[x]={t:"UntF",v:{type:"#Prc",val:h[n+g[x]]}};return{t:"Objc",v:X}}if(d.I4)v.Gry=t(d.K,0);
else{v.Rd=t(d.K,0);v.Grn=t(d.K,5);v.Bl=t(d.K,10)}return v};cV._m=function(d){function v(h,X,n){var g={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in g)if(h[x])X[n+g[x]]=h[x].v.val}var t={I4:!1,K:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(d.Mnch&&d.Mnch.v)t.I4=!0;if(t.I4)v(d.Gry.v,t.K,0);else{v(d.Rd.v,t.K,0);v(d.Grn.v,t.K,5);v(d.Bl.v,t.K,10)}return t};
cV.get=function(d){for(var v in cV.names)if(d[v]!=null)return v;return null};cV.MM=function(d,v){var t=cV.df,h;
if(d=="brit"){var X=v.Brgh?v.Brgh.v:0,g=v.Cntr?v.Cntr.v:0,x=v.useLegacy?v.useLegacy.v:!1;if(x){var Z=X/255,Y=1+g/100;
if(Y>1)Y=1+Math.tan(Math.PI/2*g/101);var a=(1-Y)/2,z=f.Yh.tm(Z,Z,Z),p=[Y,0,0,a,0,Y,0,a,0,0,Y,a,0,0,0,1],U=f.Yh.multiply(p,z),l={C:new Float32Array(256),L:new Float32Array(256),X:new Float32Array(256)};
for(var n=0;n<256;n++)l.C[n]=n/255;f.Yh.Fd(l,l,U);h={e:t.SL,Ea:l.C,MJ:l.C,Z3:l.C,N3:!1,xX:!1}}else{var L=1024,j=-30+60*(g+100)/200,O=[];
for(var n=0;n<4;n++)O.push(f.kB.lY(n/3*255,n/3*255,!0));O[1].v.Hrzn.v=64;O[1].v.Vrtc.v=64-j;O[2].v.Hrzn.v=128+64;
O[2].v.Vrtc.v=128+64+j;O.sort(function(jl,fd){return jl.v.Hrzn.v-fd.v.Hrzn.v});var F=f.kB.hi(O,L);function i(jl,L){var O=[],bW=3;
for(var n=0;n<bW+1;n++)O.push(f.kB.lY(n/bW*255,n/bW*255,!0));O[1].v.Hrzn.v=130-jl*26;O[1].v.Vrtc.v=130+jl*51;
O[2].v.Hrzn.v=233-jl*48;O[2].v.Vrtc.v=233+jl*10;return f.kB.hi(O,L)}var $=i(Math.abs(X)/100,L);if(X<0){var H=[],b=1/L;
for(var n=0;n<L;n++){var r=n*b,W=n;while($[W]>r&&W>1)W--;H[n]=W*b}$=H}var V=new Float32Array(L);for(var n=0;
n<L;n++){var y=Math.round((L-1)*$[n]);V[n]=F[y]}h={e:t.SL,Ea:V,MJ:V,Z3:V,N3:!1,xX:!1}}}if(d=="levl"){var c=[],S,C,z,K,T,D,N=256;
for(var n=0;n<4;n++)c.push(k9.TC(v,n));var G=N-1;S=-c[0][0]/255;C=1/(c[0][1]/255-c[0][0]/255);z=f.Yh.multiply(f.Yh.iO(C,C,C),f.Yh.tm(S,S,S));
K=f.Yh.iO(1/(c[1][1]/255-c[1][0]/255),1/(c[2][1]/255-c[2][0]/255),1/(c[3][1]/255-c[3][0]/255));T=f.Yh.tm(-c[1][0]/255,-c[2][0]/255,-c[3][0]/255);
D=f.Yh.multiply(K,T);var V={C:new Float32Array(N),L:new Float32Array(N),X:new Float32Array(N)};for(var n=0;
n<N;n++)V.C[n]=V.L[n]=V.X[n]=n/G;var s=1/(c[0][4]/100),Q=1/(c[1][4]/100),q=1/(c[2][4]/100),R=1/(c[3][4]/100);
f.Yh.Fd(V,V,D);for(var n=0;n<N;n++){V.C[n]=Math.max(0,Math.min(1,Math.pow(V.C[n],Q)));V.L[n]=Math.max(0,Math.min(1,Math.pow(V.L[n],q)));
V.X[n]=Math.max(0,Math.min(1,Math.pow(V.X[n],R)))}f.Yh.Fd(V,V,z);for(var n=0;n<N;n++){V.C[n]=Math.max(0,Math.min(1,Math.pow(V.C[n],s)));
V.L[n]=Math.max(0,Math.min(1,Math.pow(V.L[n],s)));V.X[n]=Math.max(0,Math.min(1,Math.pow(V.X[n],s)))}S=c[0][2]/255;
C=c[0][3]/255-c[0][2]/255;z=f.Yh.multiply(f.Yh.tm(S,S,S),f.Yh.iO(C,C,C));K=f.Yh.iO(c[1][3]/255-c[1][2]/255,c[2][3]/255-c[2][2]/255,c[3][3]/255-c[3][2]/255);
T=f.Yh.tm(c[1][2]/255,c[2][2]/255,c[3][2]/255);D=f.Yh.multiply(T,K);f.Yh.Fd(V,V,f.Yh.multiply(z,D));
h={e:t.SL,Ea:V.C,MJ:V.L,Z3:V.X,N3:!1,xX:!1}}if(d=="curv"){var m=js.TC(v,0).length==256?1:0,E=[];if(m==0){var e=f.kB.hi(js.TC(v,0),256);
for(var n=1;n<4;n++){var w=f.kB.hi(js.TC(v,n),256);E.push(f.kB.aI5(w,e))}}else{var M=[];for(var n=0;
n<4;n++){var P=new Float32Array(256);M.push(P);var I=js.TC(v,n);for(var W=0;W<256;W++)P[W]=I[W]/255}for(var n=1;
n<4;n++)E.push(f.kB.aI5(M[n],M[0]))}h={e:t.SL,Ea:E[0],MJ:E[1],Z3:E[2],N3:!1,xX:!1}}if(d=="expA"){var k=v.Exps,o=v.Ofst,af=v.gammaCorrection,J=k?k.v:0,at=o?o.v:0,ke=af?af.v:1,V=new Float32Array(256);
for(var n=0;n<256;n++){var v=n/255,c_=Math.pow(Math.abs(at),1/(Math.PI/2));if(at>0){v=Math.max(at/Math.E,v);
v=v*Math.exp(at/1.75+J/Math.PI);v=(1-c_)*v+c_*1}else{v=v*Math.exp(-at*1.75+J/Math.PI);v=v+-c_*1.14}v=Math.pow(v,1/ke);
V[n]=Math.max(0,Math.min(1,v))}h={e:t.SL,Ea:V,MJ:V,Z3:V,N3:!1,xX:!1}}if(d=="vibA"){var ag=(v.vibrance?v.vibrance.v:0)/100,dz=(v.Strt?v.Strt.v:0)/100,c_=1+ag*(ag>0?.25:.5),kL=.8+.2/c_;
h={e:t.yk,Ic:[ag,dz,kL,c_]}}if(d=="hue2"){var aq=[],dh=[],gK=[],ad=v.Clrz?v.Clrz.v:!1,N=256,G=N-1;for(var n=0;
n<N;n++){aq[n]=n/G;dh[n]=0;gK[n]=0}var dc=kg.TC(v,0),lq=cV.Ug(dc[1]/100);if(ad){var hn=dc[0]/360;for(var n=0;
n<N;n++){aq[n]=hn;dh[n]=lq}}else{for(var n=0;n<N;n++){var dF=aq[n],c3=dh[n];aq[n]+=dc[0]/360;for(var W=0;
W<6;W++){var i8=kg.TC(v,W+1),dr=i8.I5,jO=i8.Cy,c_=0;for(var d1=1;d1<4;d1++)if(jO[d1]<jO[0])jO[d1]+=360;
var h3=jO[0],d5=jO[1],em=jO[2],fl=jO[3],lA=dF*360;if(lA<jO[0])lA+=360;var av=(lA-h3)/(d5-h3),ah=(lA-em)/(fl-em);
if(av<0)c_=0;else if(av<1)c_=av;else if(ah<0)c_=1;else if(ah<1)c_=1-ah;else c_=0;var Y=cV.Ug(dr[1]/100);
aq[n]+=c_*dr[0]/360;dh[n]+=c_*Y;gK[n]+=c_*dr[2]/100}}for(var n=0;n<N;n++){dh[n]=(1+dh[n])*(1+lq)-1;gK[n]=Math.max(-1,Math.min(1,gK[n]))}}var V=f.m(N*4*1,32);
for(var n=0;n<N;n++){V[4*n]=aq[n];V[4*n+1]=cV.aKR(dh[n]);V[4*n+2]=gK[n]}var gE=dc[2]/100,bR=gE<0?-gE:gE,bD=gE<0?0:1;
h={e:t.A1,map:V,acl:bR*bD,aqt:1-bR,ahL:dc[2]/100,afH:ad?1:0}}if(d=="nvrt"){var V=new Float32Array(256);
for(var n=0;n<256;n++)V[n]=1-n/255;h={e:t.SL,Ea:V,MJ:V,Z3:V,N3:!1,xX:!1}}if(d=="post"){var e1=v.Lvls.v,V=new Float32Array(256),c_=e1/255.001,am=1/(e1-1);
for(var n=0;n<256;n++)V[n]=Math.floor(n*c_)*am;h={e:t.SL,Ea:V,MJ:V,Z3:V,N3:!1,xX:!1}}if(d=="grdm"){var dj=v.Grad.v,ja=v.Rvrs,aj=v.gs99,L=1024,dS=f.iF.a6v(dj,L,ja?ja.v:!1,0,0,aj?aj.v.gradientInterpolationMethodType:"Gcls"),eW=new Float32Array(L),be=new Float32Array(L),cI=new Float32Array(L);
f.Po(dS,eW,0);f.Po(dS,be,1);f.Po(dS,cI,2);h={e:t.SL,Ea:eW,MJ:be,Z3:cI,N3:!0,xX:!1}}if(d=="selc"){var kP=new Float32Array(9*3*2),i0=v.q4,ac=v.Mthd?v.Mthd.v.CrcM=="Absl":!1;
for(var W=0;W<9;W++){var eo=W*6,eP=g5.TC(v,W),as=eP[0]/100,kF=eP[1]/100,kW=eP[2]/100,hs=eP[3]/100;if(ac){kP[eo]=kP[eo+1]=kP[eo+2]=1;
kP[eo+3]=as*(1+hs)+hs;kP[eo+4]=kF*(1+hs)+hs;kP[eo+5]=kW*(1+hs)+hs}else{kP[eo+0]=(1+as)*(1+hs);kP[eo+1]=(1+kF)*(1+hs);
kP[eo+2]=(1+kW)*(1+hs)}}h={e:t.Go,a9h:kP}}if(d=="blwh"){var gc="Rd Yllw Grn Cyn Bl Mgnt".split(" "),h=[],i2=0,jQ=0;
for(var n=0;n<6;n++)h.push(v[gc[n]]?v[gc[n]].v:50);h.push(v.useTint.v,v.tintColor.v);var fK=[];for(var n=0;
n<6;n++)fK.push((h[n]-50)/50);var lo=f.iF.pq(h[7]);lo.C/=255;lo.L/=255;lo.X/=255;var cR=f.qZ(lo.C,lo.L,lo.X),fU=f.iP(f.aU(cR.uV,1,.5)),g8=cR.Wx*cR.k1;
if(fU==.5)i2=jQ=.5;else{i2=g8*(.5-fU)/(.5/fU-1);jQ=1-g8*(.5-fU)-1/(2*(1-fU));jQ/=1-1/(2*(1-fU))}h={e:t.DK,a1b:fK,H7:h[6]?1:0,aFX:cR.uV,iP:fU,aE4:g8,v$:i2,aIp:jQ}}if(d=="blnc"){var c=[],eS=["ShdL","MdtL","HghL"];
for(var n=0;n<3;n++){if(v[eS[n]]==null){c[n]=[0,0,0];continue}var e1=v[eS[n]].v,ji=e1[0].v/100,l7=e1[1].v/100,j_=e1[2].v/100,hb=v.PrsL==null||v.PrsL.v?(Math.min(ji,l7,j_)+Math.max(ji,l7,j_))/2:0;
c[n]=[ji-hb,l7-hb,j_-hb]}var E=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var W=0;
W<3;W++)for(var n=0;n<256;n++){var r=n*(1/255),fL=0,j=0,dE=0;j=c[2][W];dE=Math.abs(j);if(j<0)fL=Math.pow(r,Math.SQRT2);
else fL=1.63*(Math.pow(r+.04,.5)-.2);r=dE*fL+(1-dE)*r;j=c[1][W];dE=Math.abs(j);if(j<0)fL=Math.pow(r,2);
else fL=Math.min(2.35*(Math.pow(r+.09,.5)-.3),Math.pow(r,1/2));r=dE*fL+(1-dE)*r;j=c[0][W];dE=Math.abs(j);
if(j<0)fL=r<.4?0:Math.pow((r-.4)/.6,Math.SQRT2);else fL=Math.pow(r,Math.SQRT2/2);r=dE*fL+(1-dE)*r;r=Math.max(0,Math.min(1,r));
E[W][n]=r}h={e:t.SL,Ea:E[0],MJ:E[1],Z3:E[2],N3:!1,xX:!1}}if(d=="phfl"){var gF=f.iF.pq(v.Clr.v),gA=[gF.C/255,gF.L/255,gF.X/255],gP=v.Dnst.v/100,E=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var W=0;W<3;W++)for(var n=0;n<256;n++){var r=n*(1/255),km=r*gA[W];km=Math.max(0,Math.min(1,km));
r=gP*km+(1-gP)*r;E[W][n]=r}h={e:t.SL,Ea:E[0],MJ:E[1],Z3:E[2],N3:!1,xX:v.PrsL.v}}if(d=="thrs"){var V=new Float32Array(256);
for(var n=v.Lvl.v;n<256;n++)V[n]=1;h={e:t.SL,Ea:V,MJ:V,Z3:V,N3:!0,xX:!1}}if(d=="mixr"){var jA=cV._m(v),U=[];
for(var n=0;n<jA.K.length;n++)if(n%5!=3)U.push(jA.K[n]/100);if(jA.I4){for(var cD=1;cD<3;cD++)for(var r=0;
r<4;r++)U[cD*4+r]=U[r]}h={e:t.Lo,AC:U}}if(d=="rplc"){var i4=v.Mnm.v,dv=v.Mxm.v;h={e:t.bi,ad:[i4.Lmnc.v,i4.A.v,i4.B.v],cs:[dv.Lmnc.v,dv.A.v,dv.B.v],shift:[v.H.v/360,v.Strt.v/100,v.Lght.v/100],rE:v.Fzns.v/150}}if(d=="clrL"&&v.profile){var eK=new Uint8Array(v.profile.v),k2=ICC.R(eK.buffer),gl=[],eU=17,gl=ICC.U.sampleLUT(k2,eU);
h={e:t.NP,Gw:ICC.U.lutToRGBA32(gl,eU),nC:gl,OW:eU}}var Y=v?v.showClipping:null;if(Y){var d9=[h.Ea,h.MJ,h.Z3],iJ=Y.v==1?1/255:253/255;
for(var P=0;P<3;P++)for(var n=0;n<d9[P].length;n++)d9[P][n]=d9[P][n]<iJ?0:1}return h};cV.FU=function(d,v){var t=-1;
if(d!="levl"||v==null)t=-1;else if(v.Auto)t=0;else if(v.AuCo)t=1;else if(v.autoBlackWhite)t=2;return t};
cV.df={SL:0,A1:1,yk:2,Go:3,DK:4,Lo:5,bi:6,NP:7};cV.Ug=function(d){if(d<0)return d;return Math.pow(Math.tan(Math.PI/2*d),1.3)};
cV.aKR=function(d){if(d<0)return d;d=Math.pow(d,1/1.3);return Math.atan2(d,1)/(Math.PI/2)};cV.yh=function(d,v,t,h){var X=cV.df,g=Date.now();
if(fq.Dz&&h.k()>300*300&&d.e!=X.SL&&d.e!=X.NP){h=h.b();h.x=h.y=0;var x=fq.IU(0,h.r,h.$,f.UJ(v));x.set(v);
fq.Bg(x,h);x.f4(h);cV.$R(d,x.XR,h);x.get(t);return}var Z=v.length,Y=f.UJ(v),a=Y==8?255:Y==16?65535:1,z=1/a;
for(var n=0;n<Z;n+=4)t[n+3]=v[n+3];if(d.e==X.NP){var p=d.nC,U=d.OW;ICC.U.applyLUT(p,U,v,t);var Z=v.length}if(d.e==X.Lo)f.Yh.a5b(v,t,d.AC);
if(d.e==X.DK){var l=d.aE4,L=d.iP,j=d.v$,O=d.aIp,Z=v.length;for(var n=0;n<Z;n+=4){var h=v[n]*z,F=v[n+1]*z,i=v[n+2]*z,$=f.Kt(h,F,i),H=0;
for(var b=0;b<6;b++)H+=Math.min(1,1.7*(1-$.Se))*$.Wx*d.a1b[b]*cV.axe($.uV,b*(1/6));var r=Math.max(0,Math.min(1,$.Se*(1+H)));
if(d.H7==1){var W=0;if(r<j)W=r*(.5/L);else if(r<O)W=r+l*(.5-L);else W=1-(1-r)*.5/(1-L);$.uV=d.aFX;$.Wx=Math.min(1,l+3*l*Math.abs(r-.5*(j+O)));
$.Se=W}else{$.uV=0;$.Wx=0;$.Se=r}var V=f.aU($.uV,$.Wx,$.Se);t[n]=V.C*a;t[n+1]=V.L*a;t[n+2]=V.X*a}}if(d.e==X.Go){var y=d.a9h,Z=v.length,c=1/255;
for(var n=0;n<Z;n+=4){var h=v[n]*c,F=v[n+1]*c,i=v[n+2]*c,$=f.Kt(h,F,i),S=Math.max(h,Math.max(F,i)),C=Math.min(h,Math.min(F,i)),K=1-h,T=1-F,D=1-i,N=0,G=0,s=0;
for(var b=0;b<9;b++){var Q=b*6,E=0;if(y[Q]==1&&y[Q+1]==1&&y[Q+2]==1&&y[Q+3]==0&&y[Q+4]==0&&y[Q+5]==0)continue;
var q=K*y[Q]+y[Q+3],R=T*y[Q+1]+y[Q+4],m=D*y[Q+2]+y[Q+5];if(b<6)E=cV.axe($.uV,b*(1/6))*$.Wx*2*Math.min($.Se,1-$.Se);
else if(b==6)E=Math.max(0,C-.5)*2;else if(b==7)E=1-(Math.abs(S-.5)+Math.abs(C-.5));else E=Math.max(0,.5-S)*2;
N+=(Math.max(0,Math.min(1,q))-K)*E;G+=(Math.max(0,Math.min(1,R))-T)*E;s+=(Math.max(0,Math.min(1,m))-D)*E}K=Math.max(0,Math.min(1,K+N));
T=Math.max(0,Math.min(1,T+G));D=Math.max(0,Math.min(1,D+s));h=1-K;F=1-T;i=1-D;t[n]=Math.round(h*255);
t[n+1]=Math.round(F*255);t[n+2]=Math.round(i*255)}}if(d.e==X.SL){f.apA(v,t,d.Ea,d.MJ,d.Z3,d.N3,d.xX)}if(d.e==X.A1){if(cV.adh==null){cV.adh=new Float64Array(1024);
for(var n=0;n<1024;n++)cV.adh[n]=cV.Ug(-1+2*n/1023)}var e=cV.adh,w=(d.map.length>>>2)-1,M=d.map;for(var n=0;
n<Z;n+=4){var h=v[n]*z,F=v[n+1]*z,i=v[n+2]*z,P=Math.min(h,F,i),I=Math.max(h,F,i),k=(f.Kt(h,F,i).uV+5e-4)*w,o=0,af=0,J=k-Math.floor(k),at=Math.floor(k)*4,ke=Math.min(w*4,at+4),c_=(1-J)*M[at]+J*M[ke+0],ag=(1-J)*M[at+1]+J*M[ke+1],dz=(1-J)*M[at+2]+J*M[ke+2],H=-dz,kL=P;
if(0<dz){H=dz;kL=I}var aq=d.acl+d.aqt*H*kL,dh=d.aqt*(1-H);h=aq+dh*h;F=aq+dh*F;i=aq+dh*i;I=Math.max(h,F,i);
P=Math.min(h,F,i);af=(I+P)*.5;if(I!=P){var gK=I-P;o=af>.5?gK/(2-(I+P)):gK/(I+P)}var ad=ag;if(d.afH==0){ag=e[Math.floor((1+ag)*511.5)];
ad=Math.min(o*(1+ag),1)}var V=f.aU(c_,ad,af);h=V.C;F=V.L;i=V.X;t[n]=h*a;t[n+1]=F*a;t[n+2]=i*a}}if(d.e==X.bi){f.Hy(v,t);
var dc=new Uint32Array(v.buffer),lq=new Uint32Array(t.buffer),Z=dc.length,hn=d.rE,dF=1/hn,c3={f0:d.ad[0],aX:d.ad[1],X:d.ad[2]},i8={f0:d.cs[0],aX:d.cs[1],X:d.cs[2]};
for(var n=0;n<Z;n++){var dr=dc[n],jO=dr&255,d1=dr>>>8&255,h3=dr>>>16&255,h=jO*(1/255),F=d1*(1/255),i=h3*(1/255),d5=dr>>>24,em=f.Nv(jO,d1,h3),fl=f.aHc(em,c3,i8,hn,dF);
if(fl==0)continue;var $=f.Kt(h,F,i),c_=2+$.uV+d.shift[0];$.uV=c_-~~c_;$.Wx=Math.max(0,Math.min(1,$.Wx+d.shift[1]));
$.Se=Math.max(0,Math.min(1,$.Se+d.shift[2]));var V=f.aU($.uV,$.Wx,$.Se);h=(1-fl)*h+fl*V.C;F=(1-fl)*F+fl*V.L;
i=(1-fl)*i+fl*V.X;lq[n]=d5<<24|i*255<<16|F*255<<8|h*255}}if(d.e==X.yk){var lA=d.Ic[0],av=d.Ic[1],ah=d.Ic[2],H=d.Ic[3],gE=f.Yh.Tz([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),fj=f.Yh.zJ(gE),bR=2.4;
function U(dS){return Math.max(0,Math.min(1,dS))}function bD(dS){return Math.pow(dS,bR)}function e1(dS){return Math.pow(dS,1/bR)}function am(h,F,i,dS,av){h=bD(h);
F=bD(F);i=bD(i);var eW=f.Yh.ip(gE,[h,F,i,1]);eW[0]*=ah;eW[1]*=H;eW[2]*=H;eW[1]*=1+av;eW[2]*=1+av;var V=f.Yh.ip(fj,eW);
V[0]=e1(U(V[0]));V[1]=e1(U(V[1]));V[2]=e1(U(V[2]));return V}for(var n=0;n<Z;n+=4){var dj=v[n]*z,ja=v[n+1]*z,aj=v[n+2]*z,V=am(dj,ja,aj,lA,av);
dj=V[0];ja=V[1];aj=V[2];t[n]=dj*a;t[n+1]=ja*a;t[n+2]=aj*a}}};cV.$R=function(d,v,t){fq.Gm.$R(d,v)};cV.axe=function(d,v){var t=f.eY(v,d)*6;
return Math.max(0,Math.min(1,t<0?1+t:1-t))};var e0={};e0.A$=function(d){var v=d.filterID.v;return v>16777215?B.a4A(v):d.Fltr.v.classID};
e0.Dl=[{hn:"GEfc"},{hn:"LnCr"},{hn:"Adobe Camera Raw Filter"},{hn:"LqFy"},{hn:"VaPo",G0:!0},{gT:"3D",fC:["lightFilterGradient","Dila"]},{gT:[24,2],fC:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{gT:[24,3,11],fC:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{gT:[24,4],fC:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{gT:[24,6],fC:["AdNs","Dspc","DstS","Mdn ","denoise"]},{gT:[24,8],fC:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl,ShMs".split(",")},{gT:[24,10],fC:["Flam","Clds","DfrC","Fbrs","LnsF"]},{gT:[24,12],fC:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{gT:[24,14],fC:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{gT:[24,16],fC:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{gT:"Fourier",fC:["dDFT","iDFT"]}];
e0.qU={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
e0.Lh={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
e0.B5={rigidTransform:A.IH,perspectiveWarpTransform:A.w0,blurbTransform:A.rX};e0.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],perspectiveWarpTransform:"Perspective Warp",blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],ShMs:"Shape Mosaic",Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
e0.yu=function(d){var v=null;if(d=="GEfc")v={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:fH.yu("GlwE")}]}};
if(d=="LqFy"){var t={F0:5,uV:5,map:new Float32Array(5*5*2)},h=new Uint8Array(l5.Al(t)),X=[];for(var n=0;
n<h.length;n++)X.push(h[n]);v={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:X}}}if(d=="rigidTransform"){v={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(d=="perspectiveWarpTransform"){v={__name:"Perspective Warp",classID:"perspectiveWarpTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Md:{t:"enum",v:{perspectiveWarpMode:"layout"}},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:-1014}},Left:{t:"UntF",v:{type:"#Pxl",val:0}},Btom:{t:"UntF",v:{type:"#Pxl",val:3098}},Rght:{t:"UntF",v:{type:"#Pxl",val:3320}}}},vertices:{t:"VlLs",v:[]},warpedVertices:{t:"VlLs",v:[]},quads:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(d=="blurbTransform"){v={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(d=="LnCr")v={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(d=="adaptCorrect")v={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(d=="Dfs ")v={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(d=="Fbrs")v={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(d=="Embs")v={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(d=="oilPaint")v={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(d=="TrcC")v={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(d=="Wnd ")v={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(d=="lightFilterGradient")v={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(d=="boxblur")v={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(d=="GsnB")v={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(d=="Bokh")v={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(d=="MtnB")v={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(d=="RdlB")v={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(d=="surfaceBlur")v={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(d=="denoise")v={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(d=="Dspl")v={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(d=="Pnch")v={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(d=="Plr ")v={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(d=="Rple")v={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(d=="Shr ")v={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(d=="Sphr")v={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(d=="Twrl")v={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(d=="Wave")v={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(d=="ZgZg")v={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(d=="AdNs")v={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(d=="DstS")v={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(d=="Mdn ")v={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(d=="Clds")v={__name:"Clouds",classID:"Clds",FlRs:{t:"long",v:Math.round(Math.random()*4294967295)}};
if(d=="ClrH")v={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(d=="Crst")v={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(d=="Mztn")v={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(d=="Msc ")v={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(d=="Pntl")v={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(d=="LnsF")v={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(d=="Dthr")v={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(d=="Part")v={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(d=="Adobe Camera Raw Filter")v={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(d=="smartSharpen")v={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(d=="UnsM")v={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(d=="HghP")v={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(d=="HsbP")v={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(d=="Mxm ")v={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(d=="Mnm ")v={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(d=="Ofst")v={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(d=="ShMs")v={__name:"Shape Mosaic",classID:"ShMs",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}},Shap:{t:"long",v:0},Sprd:{t:"long",v:0},Mono:{t:"bool",v:!1},Invr:{t:"bool",v:!1}};
if(d=="Kale")v={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(d=="Rept")v={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(d=="Flam")v={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(d=="Ctoa")v={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(d=="brit")v={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(d=="levl")v={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(d=="curv")v={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(d=="expA")v={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(d=="vibA")v={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(d=="hue2")v={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(d=="blnc")v={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(d=="blwh")v={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(d=="phfl")v={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(d=="grdm")v={__name:"Gradient Map",classID:"GrMp",gs99:{t:"enum",v:{gradientInterpolationMethodType:"Gcls"}},Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Grad:JSON.parse(kV.v0[6]).Grad};
if(d=="selc")v={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(d=="thrs")v={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(d=="mixr")v={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(d=="clrL")v={__name:"Color Lookup",classID:"colorLookup"};if(d=="post")v={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(d=="rplc")v={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(d=="fade")v={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(d=="aply")v={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(d=="matc"){v={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},"neutralizeColor    ":{t:"bool",v:!1},selectedSourceAreas:{t:"bool",v:!0},SlcA:{t:"bool",v:!0},noReference:{t:"bool",v:!0}}}if(d=="Dila")v={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(d=="blendOptions")v={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return v};e0.g4={sFlam:function(d,v){v[0]=d.Type.v;v[1]=d.Leng.v;v[2]=d.RndL.v;v[3]=d.Widt.v;v[4]=d.Angl.v;
v[5]=d.Intr.v;v[6]=d.Adpt.v;v[7]=d.Clr.v;v[8]=d.Qual.v;v[9]=d.Turb.v;v[10]=d.Jag.v;v[11]=d.Opct.v.val;
v[12]=d.Lins.v;v[13]=d.Botm.v;v[14]=d.Styl.v;v[15]=d.Shap.v;v[16]=d.RnSh.v;v[17]=d.Arng.v},gFlam:function(d,v){d.Type.v=v[0];
d.Leng.v=v[1];d.RndL.v=v[2];d.Widt.v=v[3];d.Angl.v=v[4];d.Intr.v=v[5];d.Adpt.v=v[6];d.Clr.v=v[7];d.Qual.v=v[8];
d.Turb.v=v[9];d.Jag.v=v[10];d.Opct.v.val=v[11];d.Lins.v=v[12];d.Botm.v=v[13];d.Styl.v=v[14];d.Shap.v=v[15];
d.RnSh.v=v[16];d.Arng.v=v[17]},sAdNs:function(d,v){v[0]=d.Nose.v.val;v[1]=["Gsn","Unfr"].indexOf(d.Dstr.v.Dstr);
v[2]=d.Mnch.v},gAdNs:function(d,v){d.Nose.v.val=v[0];d.Dstr.v.Dstr=["Gsn","Unfr"][v[1]];d.Mnch.v=v[2]},sDstS:function(d,v){v[0]=d.Rds.v;
v[1]=d.Thsh.v},gDstS:function(d,v){d.Rds.v=v[0];d.Thsh.v=v[1]},sGsnB:function(d,v){v[0]=d.Rds.v.val},gGsnB:function(d,v){d.Rds.v.val=v[0]},sDila:function(d,v){v[0]=d.Crop.v.val;
v[1]=d.Rds.v.val},gDila:function(d,v){d.Crop.v.val=v[0];d.Rds.v.val=v[1]},sHghP:function(d,v){v[0]=d.Rds.v.val},gHghP:function(d,v){d.Rds.v.val=v[0]},sHsbP:function(d,v){var t=["RGBC","HSBl","HSLC"];
v[0]=t.indexOf(d.Inpt.v.ClrS);v[1]=t.indexOf(d.Otpt.v.ClrS)},gHsbP:function(d,v){var t=["RGBC","HSBl","HSLC"];
d.Inpt.v.ClrS=t[v[0]];d.Otpt.v.ClrS=t[v[1]]},"sMxm ":function(d,v){var t="preserveShape";v[0]=d.Rds.v.val;
v[1]=d[t]?["squareness","Rndn"].indexOf(d[t].v[t]):0},"gMxm ":function(d,v){var t="preserveShape";d.Rds.v.val=v[0];
d[t]={t:"enum",v:{preserveShape:["squareness","Rndn"][v[1]]}}},"sMnm ":function(d,v){var t="preserveShape";
v[0]=d.Rds.v.val;v[1]=d[t]?["squareness","Rndn"].indexOf(d[t].v[t]):0},"gMnm ":function(d,v){var t="preserveShape";
d.Rds.v.val=v[0];d[t]={t:"enum",v:{preserveShape:["squareness","Rndn"][v[1]]}}},sMtnB:function(d,v){v[0]=[d.Angl.v];
v[1]=d.Dstn.v.val;console.log(v)},gMtnB:function(d,v){d.Angl.v=typeof v[0]=="number"?v[0]:v[0][0];d.Dstn.v.val=v[1]},sOfst:function(d,v){v[0]=d.Hrzn.v;
v[1]=d.Vrtc.v;v[2]=["Rpt","Bckg","Wrp"].indexOf(d.Fl.v.FlMd)},gOfst:function(d,v){d.Hrzn.v=v[0];d.Vrtc.v=v[1];
d.Fl.v.FlMd=["Rpt","Bckg","Wrp"][v[2]]},sPnch:function(d,v){v[0]=d.Amnt.v},gPnch:function(d,v){d.Amnt.v=v[0]},"sPlr ":function(d,v){v[0]=["RctP","PlrR"].indexOf(d.Cnvr.v.Cnvr)},"gPlr ":function(d,v){d.Cnvr.v.Cnvr=["RctP","PlrR"][v[0]]},sRple:function(d,v){v[0]=d.Amnt.v;
v[1]=["Sml","Mdm","Lrg"].indexOf(d.RplS.v.RplS)},gRple:function(d,v){d.Amnt.v=v[0];d.RplS.v.RplS=["Sml","Mdm","Lrg"][v[1]]},sTwrl:function(d,v){v[0]=d.Angl.v},gTwrl:function(d,v){d.Angl.v=v[0]},sZgZg:function(d,v){v[0]=d.Amnt.v;
v[1]=d.NmbR.v;v[2]=["ArnC","OtFr","PndR"].indexOf(d.ZZTy.v.ZZTy)},gZgZg:function(d,v){d.Amnt.v=v[0];
d.NmbR.v=v[1];d.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][v[2]]},sUnsM:function(d,v){v[0]=d.Amnt.v.val;v[1]=d.Rds.v.val;
v[2]=d.Thsh.v},gUnsM:function(d,v){d.Amnt.v.val=v[0];d.Rds.v.val=v[1];d.Thsh.v=v[2]},sWave:function(d,v){v[0]=d.NmbG.v;
v[1]=d.WLMn.v;v[2]=d.WLMx.v;v[3]=d.AmMn.v;v[4]=d.AmMx.v;v[5]=d.SclH.v;v[6]=d.SclV.v;v[7]=["WvSn","WvTr","WvSq"].indexOf(d.Wvtp.v.Wvtp);
v[8]=["WrpA","RptE"].indexOf(d.UndA.v.UndA);v[9]=d.RndS.v},gWave:function(d,v){d.NmbG.v=v[0];d.WLMn.v=v[1];
d.WLMx.v=v[2];d.AmMn.v=v[3];d.AmMx.v=v[4];d.SclH.v=v[5];d.SclV.v=v[6];d.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][v[7]];
d.UndA.v.UndA=["WrpA","RptE"][v[8]];if(v[9]!=null){var t=parseInt(v[9]);if(isNaN(t))t=248325464;t=Math.max(0,Math.min(268435455,t));
d.RndS.v=t}},sDspl:function(d,v){v[0]=d.HrzS.v;v[1]=d.VrtS.v;v[2]=0;v[3]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)},gDspl:function(d,v){d.HrzS.v=v[0];
d.VrtS.v=v[1];d.UndA.v.UndA=["WrpA","RptE"][v[3]];d.DspF.v.pth=v[4]},sbrit:function(d,v){v[0]=d.Brgh?d.Brgh.v:0;
v[1]=d.Cntr?d.Cntr.v:0;v[2]=d.useLegacy?d.useLegacy.v:!1},gbrit:function(d,v){d.Brgh.v=v[0];d.Cntr.v=v[1];
if(v[2]!=null)d.useLegacy.v=v[2]}};e0.adK=function(d){var v=new cK(0,0);if(d.enab.v==!1)return v;var t=d.filterFXList.v;
for(var n=0;n<t.length;n++){var h=t[n].v;if(h.enab.v==!1)continue;var X=e0.A$(h),g=e0.fl(X,h.Fltr?h.Fltr.v:null);
if(g.x>v.x)v.x=g.x;if(g.y>v.y)v.y=g.y}return v};e0.fl=function(d,v){var t=0,h=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(d)!=-1){var X=v.Rds?v.Rds.v.val:1;
t=h=X*2.57}if(d=="MtnB")t=h=v.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,perspectiveWarpTransform,Frgm,Flam".split(",").indexOf(d)!=-1){t=h=1e4}if(d=="GEfc")return fH.fl(v);
return new cK(Math.ceil(t),Math.ceil(h))};e0.jE=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
e0.s_=function(d,v){var t={C:v.Sw>>16,L:v.Sw>>8&255,X:v.Sw&255},h={C:v.dL>>16,L:v.dL>>8&255,X:v.dL&255},X=e0.names[d];
if(X==null)X=cV.names[d];var g=d;for(var x in cV.vN)if(cV.vN[x]==d)g=x;var Z={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:f7.get(X)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:f.iF.Zi(t)},BckC:{t:"Objc",v:f.iF.Zi(h)},filterID:{t:"long",v:g.length==4?B.aGm(g):777}}},Y=e0.yu(d);
if(Y)Z.v.Fltr={t:"Objc",v:Y};return Z};e0.ta=function(d,v,t,h){var X=Date.now(),g=fq.Dz&&Math.max(h.r,h.$)<=fq.fy.getParameter(fq.fy.MAX_TEXTURE_SIZE),x=f.UJ(t);
if(d<1){var Z=Math.round(d*5),Y=[1,2,1,2,[40,26,13,6,4,2][Z],2,1,2,1];Y=f.mD.Za(Y);if(!g){f.Oz(t);var a=t.slice(0);
f.mD.Rz(a,t,h.r,h.$,Y,!0);f.DJ(t)}else{var z=h.r,p=h.$,U=fq.IU(0,z,p,x);U.set(t);var l=fq.IU(1,z,p,x),L=new Float32Array([1/z,1/p]);
fq.Bg(l);fq.filter.$R({e:fq.filter.aLL,k0:L,a6X:new Float32Array(Y)},U.gL);l.get(t)}}else{var j=[];while(v!=2&&d*[1,2.4][v]>20&&j.length<4){var O=f.kz(t,h);
j.push(t,h);t=O.sN;h=O.S;d/=2}var z=h.r,p=h.$;if(!g||v==2&&d>15){f.Oz(t);if(v==0)f.C2.anY(t,h,d);if(v==1)f.C2.ao_(t,h,d);
if(v==2)f.C2.arD(t,h,d);f.DJ(t)}else{var U=fq.IU(0,z,p,x);U.set(t);var l=fq.IU(1,z,p,x),L=new Float32Array([1/z,1/p]);
if(v==0){var F=1;while(F<d)F<<=1;fq.Bg(l);fq.filter.$R({e:fq.filter.xj,k0:L,_9:d,IW:[0,0,F]},U.gL);fq.Bg(U);
fq.filter.$R({e:fq.filter.xj,k0:L,_9:d,IW:[0,1,F]},l.gL);U.get(t)}else if(v==1){var i=3,$=f.C2.aBX(d,i);
for(var n=0;n<i;n++){var H=$[n]>>>1,b=1;while(b<H)b<<=1;if(H==0)continue;fq.Bg(l);fq.filter.$R({e:fq.filter.xj,k0:L,_9:H,IW:[0,0,b]},U.gL);
fq.Bg(U);fq.filter.$R({e:fq.filter.xj,k0:L,_9:H,IW:[0,1,b]},l.gL)}U.get(t)}else{var F=1;while(F<d)F<<=1;
fq.Bg(l);fq.filter.$R({e:fq.filter.xj,k0:L,_9:d,IW:[0,0,F]},U.gL);l.get(t)}}var r=Date.now();while(j.length!=0){var W=j.pop(),V=j.pop();
f.scale.agc(t,h.r,h.$,V,W.r,W.$);t=V;h=W}}};e0.a0W=function(d,v,t,h){for(var n=0;n<d.length;n++){t[n]=d[n]*(1/255);
h[n]=0}FFT.fft2d(t,h);var X=v>>>1,g=16384,x=128,Y=100;while(x<v){x<<=1;g<<=2}var Z=255/Math.log(g),a=-100;
for(var z=0;z<v;z++)for(var p=0;p<X;p++){var U=v+X+z&v-1,l=t[U*v+p],L=h[U*v+p],j=Math.sqrt(l*l+L*L),O=Math.atan2(L,l);
d[z*v+p]=Math.round(Z*Math.log(j+1));d[z*v+X+p]=Math.round((Math.PI+O)*(255*.5/Math.PI))}};e0.aje=function(d,v,t,h){t.fill(0);
h.fill(0);var X=v>>>1,g=16384,x=128;while(x<v){x<<=1;g<<=2}var Z=255/Math.log(g),Y=[],a=[],z=[];for(var n=0;
n<256;n++){Y[n]=Math.exp(n/Z)-1;var p=n*(2*Math.PI/255)-Math.PI;a[n]=Math.sin(p);z[n]=Math.cos(p)}for(var U=0;
U<v;U++)for(var l=0;l<X;l++){var L=v+X+U&v-1,j=Y[d[U*v+l]],p=d[U*v+X+l],O=j*z[p],F=j*a[p];t[L*v+l]=O;
h[L*v+l]=F;if(l!=0){var i=L==0?L*v+v-l:(v-L)*v+(v-l);t[i]=O;h[i]=-F}}FFT.ifft2d(t,h);for(var n=0;n<d.length;
n++){d[n]=Math.max(0,Math.min(255,~~(.5+255*t[n])))}};e0.aGl=new ArrayBuffer(512);e0.aa1=function(d){var v=e0.aGl,t=d.length;
if(v.byteLength<t)e0.aGl=v=new ArrayBuffer(t);var h=new Uint8Array(v);for(var n=0;n<t;n+=4){h[n]=d[n];
h[n+1]=d[n+1];h[n+2]=d[n+2];h[n+3]=d[n+3]}return v};e0.yh=function(d,v,t,h,X,g,x){var Z,Y,a=f.UJ(v.buffer);
if(g==null)g={buffer:f.m(v.buffer.length,a),S:v.S.b()};g.buffer.set(v.buffer);var z="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),p=a!=8&&z.indexOf(d)==-1;
if(p){Z=v.buffer;Y=g.buffer;v.buffer=f.OO(Z,8);g.buffer=f.OO(Y,8)}g=e0.atE(d,v,t,h,X,g,x);if(p){v.buffer=Z;
f.OO(g.buffer,a,Y);g.buffer=Y}return g};e0.atE=function(d,v,t,h,X,g,x){var Z=t&&t.RndS?t.RndS.v>>>1:0,Y=f.UJ(v.buffer),a=f.ay(Y);
if(d=="GEfc"){var z=[];if(t.GEfs){var p=t.GEfs.v;for(var n=0;n<p.length;n++){var l=p[n].v;if(l.GELv&&l.GELv.v==!1)continue;
z.push(l)}}else z=[t];for(var n=0;n<z.length;n++){var L;if(n==0)fH.yh(d,v,z[n],h,X,g,x);else{if(L==null)L={buffer:f.m(v.buffer.length),S:v.S.b()};
f.Hy(g.buffer,L.buffer);fH.yh(d,L,z[n],h,X,g,x)}}}if(d=="Dila"){var j=t.Crop.v.val,O=t.Rds.v.val+j;O=O*O;
if(O==0)return;var F=v.S,i=F.r,$=F.$,H=i*$,b=v.buffer,L=g.buffer,r=f.m(H);f.Po(b,r,3);if(j!=0){var W=F.b();
W.o2(1,1);var V=f.m(W.k());f.Qb(r,F,V,W);f.zJ(V);f.style.stroke(V,V,W,j);f.zJ(V);f.Qb(V,W,r,F)}var y=f.style.$E(r,i,$);
L.fill(0);for(var c=0;c<$;c++)for(var S=0;S<i;S++){var n=c*i+S,C=n<<1,K=n<<2,T=y[C],D=y[C+1];if(T*T+D*D<O){var N=(c+D)*i+(S+T)<<2;
L[K]=b[N];L[K+1]=b[N+1];L[K+2]=b[N+2];L[K+3]=255}}}if(d=="Adobe Camera Raw Filter"){var F=v.S,i=F.r,$=F.$,G=f.OO(v.buffer,32),s=f.v(t);
delete s.Upri;delete s.GuUr;fX(G,i,$,G,s);f.OO(G,8,g.buffer)}if(d=="Fct "){var F=v.S,i=F.r,$=F.$,H=i*$,Q=H*4;
function q(kx){var h3=kx.slice(0);for(var c=0;c<3;c++)for(var S=0;S<3;S++)h3[c*3+S]=kx[(2-S)*3+c];return h3}function R(jS,cr,fD,bH){var hK=0;
for(var c=0;c<3;c++)for(var S=0;S<3;S++)hK+=cr[c*3+S]*jS[(bH-1+c)*i+fD-1+S];return hK}var m=[8,5,2,5,2,-1,2,-1,-4],E=[5,5,5,2,2,2,-1,-1,-1],e=[2,2,2,2,2,2,2,2,2],w=[];
w.push(m);for(var n=0;n<3;n++)w.push(q(w[w.length-1]));w.push(E);for(var n=0;n<3;n++)w.push(q(w[w.length-1]));
w.push(e);for(var n=0;n<9;n++)w[n]=f.mD.Za(w[n]);var M=[-i-1,-i,-i+1,-1,0,1,i-1,i,i+1],P=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],I=f.m(H),k=new Float32Array(H),o=f.m(H);
for(var af=0;af<3;af++){f.Po(v.buffer,I,af);for(var J=0;J<1;J++){for(var c=1;c<$-1;c++)for(var S=1;S<i-1;
S++){var at=c*i+S,ke=I[at];k[at]=1e9;for(var n=0;n<9;n++){var c_=R(I,w[n],S,c),ag=(c_-ke)*(c_-ke);if(ag<k[at])k[at]=ag}}for(var c=1;
c<$-1;c++)for(var S=1;S<i-1;S++){var dz=0,kL=1e9;for(var n=0;n<9;n++){var aq=c*i+S+M[n],ag=k[aq];if(ag<kL){kL=ag;
dz=I[aq]}}o[c*i+S]=dz}I.set(o)}f.Gj(o,g.buffer,af)}}if(d=="adaptCorrect"){var F=v.S,i=F.r,$=F.$,H=i*$,Q=H*4,dh=t.sdwM.v,gK=dh.Amnt.v.val/100,ad=dh.Wdth.v.val/100,dc=dh.Rds.v,lq=t.hglM.v,hn=lq.Amnt.v.val/100,dF=lq.Wdth.v.val/100,c3=lq.Rds.v;
f.ay8.RM(v.buffer,g.buffer,i,$,gK,ad,dc,hn,dF,c3,t.ClrC.v/100,t.Cntr.v/100)}if(d=="denoise"){var F=v.S,i=F.r,$=F.$,i8=t.channelDenoise.v[0].v;
f.a0N.ajW(v.buffer,i,$,g.buffer,i8.Amnt.v/10,i8.EdgF.v/100)}if(d=="HsbP"){var dr=t.Inpt.v.ClrS,jO=t.Otpt.v.ClrS,F=v.S,i=F.r,$=F.$,H=i*$;
for(var n=0;n<H;n++){var K=n*4,J=v.buffer[K]*(1/255),d1=v.buffer[K+1]*(1/255),h3=v.buffer[K+2]*(1/255);
if(dr=="RGBC"){}else if(dr=="HSLC"){var o=f.aU(J,d1,h3);J=o.C;d1=o.L;h3=o.X}else if(dr=="HSBl"){var o=f.aIc(J,d1,h3);
J=o.C;d1=o.L;h3=o.X}var d5=J,em=d1,fl=h3;if(jO=="RGBC"){}else if(jO=="HSLC"){var o=f.Kt(J,d1,h3);d5=o.uV;
em=o.Wx;fl=o.Se}else if(jO=="HSBl"){var o=f.aac(J,d1,h3);d5=o.uV;em=o.Wx;fl=o.X}g.buffer[K]=~~(255*d5);
g.buffer[K+1]=~~(255*em);g.buffer[K+2]=~~(255*fl)}}if(d=="Fbrs"){var F=v.S,i=F.r,$=F.$;f.O.auu(v.buffer,i,$,g.buffer,[t.Vrnc.v,t.Strg.v,Z]);
var lA=f.m(i*$);f.Po(g.buffer,lA,0);f.zJ(lA);fH.Pk(lA,g.buffer,h,X)}if(d=="Frgm"){var F=v.S,i=F.r,$=F.$,av=v.buffer.slice(0);
f.Oz(av);f.O.adv(av,i,$,g.buffer);f.DJ(g.buffer)}if(d=="Flam"){var F=v.S,i=F.r,$=F.$,ah=t.Clr.v,gE={e:t.Type.v+1,length:t.Leng.v,adp:t.RndL.v,a3:t.Widt.v,aE6:t.Angl.v,aFH:t.Intr.v,a8_:t.Adpt.v,color:{C:ah.Rd.v,L:ah.Grn.v,X:ah.Bl.v},gx:t.Qual.v+1,d$:t.Turb.v,awU:t.Jag.v,JS:t.Opct.v.val,q9:t.Lins.v,ad_:t.Botm.v,style:t.Styl.v+1,shape:t.Shap.v+1,aMf:t.RnSh.v,aiu:t.Arng.v,asG:!1};
if(x[3]==null)return;var fj=x[3],bR=fj[0],bD=fj[1],e1=bR[bD.length!=0?bD[0]:0];if(e1==null){alert("Make a path first");
return}var am=e1.add.vmsk.D,dj=f.t.HR(am),ja=[];for(var N=0;N<dj;N++){var aj=f.t.fn(am,N),dS=am[aj];
if(dS.length<2)continue;var eW=[];ja.push(eW);var be=dS.length-(dS.e==3?1:0);for(var at=0;at<be;at++){var cI=am[aj+1+at],kP=at==dS.length-1?am[aj+1]:am[aj+1+at+1],i0=cI.Z,ac=cI.KU,m=kP.dH,jR=kP.Z,eo=Math.round(cK.A_(i0,jR)/5);
for(var eP=0;eP<eo;eP++){var as=eP/eo,kF=1-as,S=kF*kF*kF*i0.x+3*kF*kF*as*ac.x+3*kF*as*as*m.x+as*as*as*jR.x,c=kF*kF*kF*i0.y+3*kF*kF*as*ac.y+3*kF*as*as*m.y+as*as*as*jR.y;
eW.push(S,c)}}}var kW=[ja,gE],hs=Date.now(),gc=gt(kW);k1(v.buffer,i,$,g.buffer,gc,kW)}if(d=="Dfs "){var F=v.S,i=F.r,$=F.$,fK=["Nrml","DrkO","LghO","anisotropic"].indexOf(t.Md.v.DfsM);
if(fK<3)f.O.a9G(v.buffer,i,$,g.buffer,[fK]);else{var kW=[1.4,1.6,1,4,!1,2,[0,0,.001]],F=v.S.b();F.x=F.y=0;
f.gr.filter(v.buffer,F,g.buffer,kW)}}if(d=="TrcC"){var F=v.S,i=F.r,lo=i<<2,$=F.$,cR=t.Lvl.v,fU=t.Edg.v.CntE=="Lwr",g8=v.buffer,i2=g.buffer;
f.VT(i2,1,1,1);function jQ(fP,hh){ji(fP,hh);ji(fP+1,hh+1);ji(fP+2,hh+2)}function eS(fP,hh){l7(fP,hh);
l7(fP+1,hh+1);l7(fP+2,hh+2)}function ji(fP,hh){var d5=g8[fP],em=g8[hh];if(d5>=cR&&em<cR)i2[fP]=0;if(d5<cR&&em>=cR)i2[hh]=0}function l7(fP,hh){var d5=g8[fP],em=g8[hh];
if(d5>cR&&em<=cR)i2[hh]=0;if(d5<=cR&&em>cR)i2[fP]=0}if(fU)for(var c=1;c<$;c++)for(var S=1;S<i;S++){var K=c*i+S<<2;
jQ(K,K-4);jQ(K,K-lo)}else for(var c=1;c<$;c++)for(var S=1;S<i;S++){var K=c*i+S<<2;eS(K,K-4);eS(K,K-lo)}}if(d=="Embs"){var F=v.S,i=F.r,$=F.$,j_=-t.Angl.v*Math.PI/180,hb=t.Hght.v,fL=t.Amnt.v/100;
hb/=2;var T=Math.cos(j_)*hb,D=Math.sin(j_)*hb,g8=v.buffer,i2=g.buffer;i2.fill(0);var dE=new Uint32Array(g8.buffer),o=new Uint8Array(4),gF=new Uint32Array(o.buffer);
for(var c=0;c<$;c++)for(var S=0;S<i;S++){var gA=0,gP=0,km=0;if(0<=S+T&&S+T<i&&0<=c+D&&c+D<$){f.G.Wl(S+T+.5,c+D+.5,dE,i,$,gF,0,0);
gA+=o[0]-128;gP+=o[1]-128;km+=o[2]-128}if(0<=S-T&&S-T<i&&0<=c-D&&c-D<$){f.G.Wl(S-T+.5,c-D+.5,dE,i,$,gF,0,0);
gA-=o[0]-128;gP-=o[1]-128;km-=o[2]-128}var K=c*i+S<<2;i2[K]=Math.max(0,Math.min(255,gA*fL+128));i2[K+1]=Math.max(0,Math.min(255,gP*fL+128));
i2[K+2]=Math.max(0,Math.min(255,km*fL+128));i2[K+3]=g8[K+3]}}if(d=="ShrE"){var F=v.S,i=F.r,$=F.$;f.O.aoN(v.buffer,i,$,g.buffer)}if(d=="Dspc"){var F=v.S,i=F.r,$=F.$;
f.O.adH(v.buffer,i,$,g.buffer)}if(d=="Slrz"){var jA=g.buffer,cD=128;for(var n=0;n<jA.length;n+=4){if(jA[n]>cD)jA[n]=255-jA[n];
if(jA[n+1]>cD)jA[n+1]=255-jA[n+1];if(jA[n+2]>cD)jA[n+2]=255-jA[n+2]}}if(d=="Wnd "){var F=v.S,i=F.r,$=F.$,i4=["Wnd","Blst","Stgr"],dv=t.WndM.v.WndM;
f.O.cG(v.buffer,i,$,g.buffer,[i4.indexOf(dv),t.Drct.v.Drct!="Left"])}if(d=="Bokh"){var F=v.S,i=F.r,$=F.$,H=i*$,Q=H*4,eK=v.buffer.slice(0),k2=t.BkDi.v.BtDi,gl=t.BkDc,eU=t.BkDs.v,d9=t.BkDp.v/255;
if(k2=="BeIn")d9=0;var iJ=57*(.3+.7*((i+$)/2)/1750)*(t.BkIb.v/100)*(1+.2*Math.pow(d9,.1)),bW=parseInt(t.BkIs.v.BtIs.slice(3)),jl=-t.BkIr.v*Math.PI/180,fd=[];
for(var n=0;n<8;n++){var el=jl+n*(Math.PI*2/bW),cT=jl+(n+1)*(Math.PI*2/bW),jg=Math.cos(el),aw=Math.sin(el),du=Math.cos(cT),e7=Math.sin(cT),dN=[0,0,0];
f.AC.Y5([[jg,aw,1,0],[du,e7,1,0],[1,1,1,1]],dN);if(dN[2]>0){dN[0]*=-1;dN[1]*=-1;dN[2]*=-1}fd.push(dN[0],dN[1],dN[2],0)}if(k2=="BeIn"){f.Xq(eK,0);
d9=1}else if(k2=="BeIt"&&gl.v.BtDc=="BeCt"){}else{var gw;if(k2=="BeIt"&&gl.v.BtDc=="BeCm")gw=x[1];else if(k2=="BeIa")gw=x[2][gl.v];
if(gw==null){f.Xq(eK,0)}else{var I;if(gw.S.fE(F))I=gw.N;else I=gw.NN(F);f.Gj(I,eK,3)}}if(eU)for(var n=0;
n<Q;n+=4)eK[n+3]=255-eK[n+3];if(fq.Dz){var iy=eK,cb=i,aJ=$,iO=1,i$=(t.BkSb.v==0||t.BkSt.v==255)&&k2=="BeIn";
if(!i$){var df=0;for(var n=0;n<Q;n+=4)df+=Math.abs(d9-eK[n+3]*(1/255));df=df/H*iJ;var b5=3.14*df*df*i*$/3e6;
if(b5>2e3){alert("too large radius");return}}while(i$&&3*(iJ/iO)*(iJ/iO)*i*$>500*2e3*2e3){var iC=f.atu(eK,new iW(0,0,cb,aJ));
eK=iC.sN;cb=iC.S.r;aJ=iC.S.$;iO*=2}var hs=Date.now(),b=fq.IU(0,cb,aJ);b.set(eK);var h4=fq.IU(1,i,$);
fq.Bg(h4);fq.filter.$R({e:fq.filter.aNg,k0:new Float32Array([1/cb,1/aJ]),a1U:d9,gl:iJ/iO,a5B:new Float32Array([t.BkSb.v/100,t.BkSt.v/255]),aC5:new Float32Array([t.BkNa.v/100,t.BkNt.v.BtNt=="BeNu"?0:1,t.BkNm.v?1:0]),aCp:new Float32Array(fd.slice(0,16)),avv:new Float32Array(fd.slice(16))},b.gL);
h4.get(g.buffer);var ii=g.buffer;for(var n=0;n<Q;n+=4)ii[n+3]=v.buffer[n+3]}}if(d=="blurbTransform"){f.NJ.apply(t,v,g)}if(d=="rigidTransform"){var hs=Date.now(),bx=e0.aa1,b=v.buffer.slice(0),b4=0,dw=0;
f.Oz(b);var i=v.S.r,$=v.S.$,ku=t.puppetShapeList.v,bX=[],e9=[],a_=[],j3=[];for(var at=0;at<ku.length;
at++){var l3=ku[at].v,C=b4*2,ep=dw*3,ao=l3.originalVertexArray.v.length>>>2,ls=l3.indexArray.v.length>>>2,eJ=new Float32Array(bx(l3.originalVertexArray.v));
for(var n=0;n<ao;n++)bX[C+n]=eJ[n];var f2=new Float32Array(bx(l3.deformedVertexArray.v));for(var n=0;
n<ao;n++)e9[C+n]=f2[n];var eH=new Uint32Array(bx(l3.indexArray.v));for(var n=0;n<ls;n++)a_[ep+n]=b4+eH[n];
var jf=[],kh=[],dX=l3.PnDp.v;for(var n=0;n<dX.length;n++){jf.push(l3.pinVertexIndices.v[n].v);kh.push(dX[n].v)}var cq=f.Zb.aD$(eJ,eH,jf,kh);
for(var n=0;n<cq.length;n++)j3[b4+n]=cq[n];b4+=ao>>>1;dw+=~~(ls/3)}var is=new gi(1,0,0,1,-v.S.x,-v.S.y);
f.Q.M(bX,is,bX);f.Q.M(e9,is,e9);g.buffer.fill(0);f.Zb.LB(b,i,$,g.buffer,i,$,bX,e9,j3,a_);f.DJ(g.buffer)}if(d=="perspectiveWarpTransform"){var hO=f.xn.afh(t);
if(hO.y1==0){g.buffer.set(v.buffer);return}var gR=hO.E1,aL=hO.$w,jw=hO._C,gA=v.S,iH=g.S;g.buffer.fill(0);
var h7=new gi;h7.translate(-iH.x,-iH.y);function lh(cr,db,n,J){var fP=db[n]*2,hh=db[n+1]*2,hx=db[n+2]*2,jq=db[n+3]*2;
return f.G.ms([cr[fP],cr[fP+1],cr[hh],cr[hh+1],cr[hx],cr[hx+1],cr[jq],cr[jq+1]],J)}if(gR.length==4){var f5=lh(aL,gR,0),aH=lh(jw,gR,0),jS=f.G.Sn(aH,f.G.zJ(f5)),de=A.hZ.zL([v.buffer,gA],1,jS,null,null,g.S,!1);
if(de)f.wH(de.buffer,de.S,g.buffer,g.S)}else{var kf=[],gm=[],jt=[];for(var n=0;n<gR.length;n+=4){var f5=lh(aL,gR,n),aH=lh(jw,gR,n),ic=[],bw=24,ai=1/(bw-1),hV=gm.length>>>1;
for(var c=0;c<bw;c++)for(var S=0;S<bw;S++){ic.push(S*ai,c*ai);if(S<bw-1&&c<bw-1)kf.push(hV+c*bw+S,hV+c*bw+S+1,hV+(c+1)*bw+S+1,hV+c*bw+S,hV+(c+1)*bw+S+1,hV+(c+1)*bw+S)}var i0=ic.slice(0);
f.G.M(f5,i0);gm=gm.concat(i0);var ac=ic.slice(0);f.G.M(aH,ac);jt=jt.concat(ac)}f.Q.M(gm,h7,gm);f.Q.M(jt,h7,jt);
var hs=Date.now();f.Zb.LB(v.buffer,gA.r,gA.$,g.buffer,iH.r,iH.$,gm,jt,null,kf)}}if(d=="lightFilterGradient"){function iX(i0){var hV=1/Math.sqrt(i0[0]*i0[0]+i0[1]*i0[1]+i0[2]*i0[2]);
i0[0]*=hV;i0[1]*=hV;i0[2]*=hV}var i=v.S.r,$=v.S.$,H=i*$,hs=Date.now(),jc=f.m(H),em=.3,fl=.7;f.TA(g.buffer,jc);
var iR=jc.slice(0);f.C2.Hd(iR,g.S,16);var hC=jc.slice(0);f.C2.Hd(hC,g.S,8);var cL=jc,fh=new Float32Array(H),io=t.Dtl.v,cW=io[2].v,aa=io[1].v,hB=io[0].v,hK=t.Scl.v*40*t.textureScale.v/(cW+aa+hB);
cW*=hK;aa*=hK;hB*=hK;for(var n=0;n<H;n++){var bg=iR[n]*(1/255),aN=hC[n]*(1/255),ed=cL[n]*(1/255);ed=ed*ed;
fh[n]=cW*bg+aa*aN+hB*ed}var jZ=t.blur.v;if(jZ!=0){f.C2.Hd(fh,g.S,jZ)}var ky=i-1,gZ=$-1;for(var c=0;c<$;
c++)for(var S=0;S<i;S++){var n=c*i+S,K=n*4,kq=fh[n],T=em*(fh[n+(S==ky?0:1)]-kq)+fl*(kq-fh[n-(S==0?0:1)]),D=em*(fh[n+(c==gZ?0:i)]-kq)+fl*(kq-fh[n-(c==0?0:i)]),i0=[1,0,T],ac=[0,1,D];
iX(i0);iX(ac);var cT=i0[0],by=i0[2],im=ac[1],bT=ac[2],kN=-by*im,i1=-cT*bT,jd=cT*im;g.buffer[K]=~~(127.5+kN*127.5);
g.buffer[K+1]=~~(127.5+i1*127.5);g.buffer[K+2]=~~(127.5+jd*127.5)}}if(d=="defr"){var i=v.S.r,$=v.S.$;
cB(v.buffer,i,$,g.buffer)}if(d=="dDFT"||d=="iDFT"){function ia(bW){if(bW==0)return 1;bW--;bW|=bW>>1;
bW|=bW>>2;bW|=bW>>4;bW|=bW>>8;bW|=bW>>16;return bW+1}var i=v.S.r,$=v.S.$,ei=ia(Math.max(i,$)),aV=ei>>>1,cY=new iW(0,0,ei,ei),aY=new iW(0,0,i,$);
aY.y=ei-$>>>1;var dR=i>>>1,cE=new iW(0,aY.y,dR,$),jh=new f.lh(i*$);f.xI(v.buffer,jh);var gN=new Float64Array(ei*ei),h8=new Float64Array(ei*ei),I=f.m(ei*ei);
FFT.init(ei);var dZ=[jh.C,jh.L,jh.X];for(var n=0;n<3;n++){var cf=dZ[n];I.fill(0);if(d=="dDFT"){f.Qb(cf,aY,I,cY);
e0.a0W(I,ei,gN,h8);f.Qb(I,cY,cf,aY,cE);cE.x+=dR;cY.x-=aV-dR;f.Qb(I,cY,cf,aY,cE);cE.x-=dR;cY.x+=aV-dR}else{f.Qb(cf,aY,I,cY,cE);
cE.x+=aV;aY.x+=aV-dR;f.Qb(cf,aY,I,cY,cE);cE.x-=aV;aY.x-=aV-dR;e0.aje(I,ei,gN,h8);f.Qb(I,cY,cf,aY)}}f.E4(jh,g.buffer)}if(d=="Avrg"){var d8=0,hY=0,gG=0,i6=0,iv=1;
for(var n=0;n<v.buffer.length;n+=4){var r=v.buffer[n+3];d8+=v.buffer[n]*r;hY+=v.buffer[n+1]*r;gG+=v.buffer[n+2]*r;
i6+=r}var b6=1/i6;d8=Math.round(iv*(d8*b6)+(1-iv)*255);hY=Math.round(iv*(hY*b6)+(1-iv)*255);gG=Math.round(iv*(gG*b6)+(1-iv)*255);
f.VT(g.buffer,d8/255,hY/255,gG/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(d)!=-1){var gh=t.Rds?t.Rds.v.val:1;
e0.ta(gh,d=="boxblur"?0:1,g.buffer,g.S);if(d=="UnsM"||d=="smartSharpen"){var fL=(t.Amnt?t.Amnt.v.val:200)/100,eI=0;
if(d=="UnsM")eI=t.Thsh.v*a/255;else fL*=.75;for(var n=0;n<v.buffer.length;n++){if((n&3)==3){g.buffer[n]=v.buffer[n];
continue}var ke=v.buffer[n],c_=g.buffer[n],fO=fL*(ke-c_);if(fO>0)fO=Math.max(0,fO-eI);else fO=Math.min(0,fO+eI);
g.buffer[n]=Math.max(0,Math.min(a,ke+fO))}}if(d=="HghP")for(var n=0;n<v.buffer.length;n++){if((n&3)==3){g.buffer[n]=v.buffer[n];
continue}var ke=v.buffer[n],c_=g.buffer[n];g.buffer[n]=Math.max(0,Math.min(a,.5*a+ke-c_))}}if(d=="AdNs"){var di=new Uint8ClampedArray(g.buffer.buffer),j2=255*t.Nose.v.val/100,kT;
if(t.Dstr.v.Dstr=="Gsn")kT=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kT=function(){return Math.random()*2-1};for(var n=0;n<di.length;n+=4){var J=di[n],d1=di[n+1],h3=di[n+2],bt,aG,fm;
if(t.Mnch.v){bt=aG=fm=kT()}else{bt=kT();aG=kT();fm=kT()}J+=j2*bt;d1+=j2*aG;h3+=j2*fm;di[n]=J;di[n+1]=d1;
di[n+2]=h3}}var hs=Date.now();if(d=="Mdn "||d=="DstS"||d=="Mxm "||d=="Mnm "||d=="surfaceBlur"){var J=0,iH=t.Thsh,l3=0;
if(iH)iH=iH.v;else iH=0;if(d=="Mdn "||d=="Mxm "||d=="Mnm "||d=="surfaceBlur")J=t.Rds.v.val;else J=t.Rds.v;
var dA=10*Math.ceil(J/10),i=v.S.r,$=v.S.$,dI=["Mnm ","Mxm ","surfaceBlur"].indexOf(d),h6=t.preserveShape;
if(h6&&h6.v.preserveShape=="Rndn")l3=1;var kM=(l3==0?1:.75)*[.73,.73,1.2][dI]*(i*$*Math.pow(dA*dA,1.05))/6022387,hF=.6*(i*$*Math.pow(J,1/2.6))/6500;
if(d=="Mxm "||d=="Mnm ")hF=i*$/13e3;if(fq.Dz&&dI!=-1&&(kM<hF||l3==1)&&kM<1e3){var b=fq.IU(0,i,$);b.set(v.buffer);
var L=fq.IU(1,i,$);fq.Bg(L);fq.filter.$R({e:fq.filter.aap,k0:new Float32Array([1/i,1/$]),gl:J,a50:iH/255,IW:[l3,dI,dA]},b.gL);
L.get(g.buffer)}else if(d=="Mxm "||d=="Mnm "){var i=v.S.r,$=v.S.$;f.eV.aLj(v.buffer,g.buffer,i,$,1+Math.floor(t.Rds.v.val)*2,d=="Mxm ")}else{J=Math.round(J);
f.lD.zu=.5;f.lD.q0=iH;var dy=d=="surfaceBlur"?1:0;f.lD.Ba(v.buffer,g.buffer,i,$,J,dy);if(d=="DstS")for(var n=0;
n<i*$*4;n++){var jp=Math.abs(v.buffer[n]-g.buffer[n]);if(jp<=iH)g.buffer[n]=v.buffer[n]}}}if(d=="ClrH"){var cE=v.S.b(),hu=0;
cE.x=cE.y=0;var J=t.Rds.v;J=J*Math.sqrt(2);var i=cE.r,$=cE.$,kn=f.km(i,$),fZ=new Float32Array(256);for(var n=0;
n<256;n++){var ah=n/255,gh=Math.sqrt(ah*(1/Math.PI));if(gh>.5)gh=.5+Math.pow((gh-.5)/(.564-.5),1.35)*.2;
fZ[n]=J*gh}var aS=Math.floor(2*i/J),bC=Math.floor(2*$/J),bF=10-(J-54*Math.sqrt(2))*1.5,jJ=[v.buffer,cE];
f.vD(jJ);while(jJ[hu*2+1].r>1.5*i/J)hu++;var gA=jJ[hu*2+1],km=jJ[hu*2],k7=f.m(gA.k()),iO=1/(1<<hu),cb=gA.r,aJ=gA.$,I=f.m(i*$);
for(var jS=0;jS<3;jS++){f.Po(km,k7,jS);f.zJ(k7);var j_=Math.PI*t["Ang"+(jS+1)].v/180,h7=new gi;h7.translate(-i/2,-$/2);
h7.rotate(-j_);h7.translate(i/2,$/2);kn.clearRect(0,0,i,$);for(var c=-(bC>>>2);c<bC;c++)for(var S=-(aS>>>2);
S<aS;S++){var es=h7._V(new cK((S+.5)*J-bF,(c+.5)*J-bF)),iD=Math.max(0,Math.min(es.x*iO,cb-.51)),j9=Math.max(0,Math.min(es.y*iO,aJ-.51)),H=~~f.G.us(iD,j9,k7,cb,aJ);
kn.beginPath();kn.arc(es.x,es.y,fZ[H],0,2*Math.PI);kn.fill()}var bs=kn.getImageData(0,0,i,$);f.Po(bs.data,I,3);
f.zJ(I);f.Gj(I,g.buffer,jS)}}if(d=="ShMs"){var hs=Date.now(),dj=t.ClSz.v.val,bG=t.Shap.v,dt=t.Sprd.v,i_=t.Invr.v,i=v.S.r,$=v.S.$,lg=Math.ceil(i/dj),hG=Math.ceil($/dj),jA=v.buffer.slice(0),hP=f.m(i*$),aS=1,bC=1;
f.TA(jA,hP);if(t.Mono.v)f.I0(hP,jA);var kn=f.km(i,$);kn.fillStyle=i_?"white":"black";kn.fillRect(0,0,i,$);
kn.globalCompositeOperation=i_?"multiply":"lighter";var dp=i_?["#00ffff","#ff00ff","#ffff00"]:["#ff0000","#00ff00","#0000ff"],a8=[27.865,31.83,17.615,26.209,7.462,32.009,9.553,20.362,.99,12.335,12.532,10.758,17.394,0,22.436,10.672,34,12.047,25.574,20.22],gA=new iW(0,0,dj,dj),km=f.m(gA.k()*4);
for(var c=0;c<hG;c++)for(var S=0;S<lg;S++){for(var jS=0;jS<3;jS++){var hK=0,jg=S*dj,du=Math.min(jg+dj,i),aw=c*dj,e7=Math.min(aw+dj,$);
for(var j9=aw;j9<e7;j9++)for(var iD=jg;iD<du;iD++){var n=j9*i+iD;hK+=jA[4*n+jS]}var iO=hK/((du-jg)*(e7-aw)*255);
iO=f.e0(iO);if(i_)iO=1-iO;kn.fillStyle=dp[jS];kn.translate(jg+dj/2+.5,aw+dj/2+.5);var aP=(dt==0?Math.sqrt(iO):iO)*dj,bo=aP,jV=aP;
if(dt==1)jV=dj-1;if(dt==2)bo=dj-1;kn.scale(bo,jV);if(bG==0)kn.fillRect(-.5,-.5,1,1);if(bG==1){kn.beginPath();
kn.arc(0,0,.6,0,Math.PI*2,!0);kn.fill()}if(bG==2){kn.beginPath();for(var n=0;n<a8.length;n+=2){var e$=-.65+a8[n]*(1.3/32),fp=-.65+a8[n+1]*(1.3/32);
if(n==0)kn.moveTo(e$,fp);else kn.lineTo(e$,fp)}kn.fill()}kn.resetTransform()}}kn.globalCompositeOperation="source-over";
var bs=kn.getImageData(0,0,i,$);g.buffer.set(bs.data)}if(d=="Crst"||d=="Pntl"){var i=v.S.r,$=v.S.$,dy=d=="Crst"?f.YP.aAw:f.YP.awm;
dy(v.buffer,i,$,g.buffer,t.ClSz.v,[Math.round(X.C),Math.round(X.L),Math.round(X.X)])}if(d=="Mztn"){var i=v.S.r,$=v.S.$,H=i*$,jh=new f.lh(H),dV=[jh.C,jh.L,jh.X];
f.xI(v.buffer,jh);var dv=t.MztT.v.MztT,er={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[dv],hs=Date.now(),bl=[];
for(var n=0;n<H;n++){bl[n]=Math.random()}var H=i*$,gn=Math.round(H*er[0]),ey=H-i-1;for(var n=0;n<gn;
n++){var gB=Math.random(),c2=1;if(gB<.5){c2=i;gB*=2}else gB=2*(gB-.5);var fP=Math.floor(gB*ey),hh=fP+c2;
bl[fP]=bl[hh]}var hH=Math.round(i*er[1]);for(var c=0;c<$;c++)for(var n=0;n<hH;n++){var gB=f.V.tu(c*H+n),fP=c*i+Math.floor(gB*(i-1));
bl[fP]=bl[fP+1]}var cU=new Float64Array(256);for(var n=0;n<256;n++){var j6=n/255,e6=2*(j6<.5?j6:1-j6);
e6=er[2]+Math.pow(e6,er[3])*(1-er[2]);j6=j6<.5?e6*.5:1-e6*.5;cU[n]=j6}for(var af=0;af<3;af++){var I=dV[af];
for(var c=0;c<$;c++){for(var S=0;S<i;S++){var n=c*i+S,dC=I[n],j6=cU[dC],gB=bl[n];I[n]=gB>j6?0:255}}}f.E4(jh,g.buffer)}if(d=="Msc "){var dj=t.ClSz.v.val,i=v.S.r,$=v.S.$,lg=Math.ceil(i/dj),hG=Math.ceil($/dj),gf=f.m(lg*hG*4);
f.scale.R_(v.buffer,i,$,gf,lg,hG,1/dj);f.scale.R_(gf,lg,hG,g.buffer,i,$,dj)}if(d=="Clds"||d=="DfrC"){var i=g.S.r,$=g.S.$,H=i*$,cv=f.m(H);
if(d=="Clds")f.pl(g.buffer,4278190080);var dL=f.m(256*4);for(var n=0;n<256;n++){var K=n<<2,kx=n/255,eH=1-kx;
dL[K]=Math.round(kx*h.C+eH*X.C);dL[K+1]=Math.round(kx*h.L+eH*X.L);dL[K+2]=Math.round(kx*h.X+eH*X.X)}var Z=Math.random();
if(t&&t.FlRs){var h3=new Int32Array(1);h3[0]=t.FlRs.v;Z=new Uint32Array(h3.buffer)[0]/4294967295;console.log(Z)}f.O.awn(v.buffer,i,$,cv,null,Z);
var ck=g.buffer;for(var n=0;n<H;n++){var K=n<<2,af=cv[n]<<2,J=dL[af],d1=dL[af+1],h3=dL[af+2];if(d=="Clds"){ck[K]=J;
ck[K+1]=d1;ck[K+2]=h3}else{ck[K]=Math.abs(ck[4*n]-J);ck[K+1]=Math.abs(ck[4*n+1]-d1);ck[K+2]=Math.abs(ck[4*n+2]-h3)}}}if(d=="LnsF"){var i=v.S.r,$=v.S.$,dv=["Zm","Nkn","Nkn1","PnVs"].indexOf(t.Lns.v.Lns),kA=t.FlrC.v,dJ=[Math.min(dv,2),t.Brgh.v/100,kA.Hrzn.v,kA.Vrtc.v],hs=Date.now();
f.aca(v.buffer,i,$,g.buffer,dJ)}var il=["Blr ","BlrM","Shrp","ShrM"].indexOf(d);if(il!=-1){var eN=il>1,i=v.S.r,$=v.S.$,bM=f.mD.dY[il],dO=v.buffer.slice(0);
if(!eN)f.Oz(dO);f.mD.Rz(dO,g.buffer,i,$,bM,!0,!1);if(!eN)f.DJ(g.buffer)}if(d=="MtnB"){var gJ=-t.Angl.v*Math.PI/180,dH=t.Dstn.v.val/2,hs=Date.now(),i=v.S.r,$=v.S.$,F=v.S.b();
F.x=F.y=0;if(fq.Dz){var hs=Date.now(),hL=g.buffer;hL.set(v.buffer);f.Oz(hL);var bQ=fq.IU(0,i,$);bQ.set(hL);
var g8=f.m(4);g8[0]=Math.round(128+127*Math.cos(gJ));g8[1]=Math.round(128+127*Math.sin(gJ));f.pl(hL,new Uint32Array(g8.buffer)[0]);
var jY=fq.IU(1,i,$);jY.set(hL);fq.Bg(bQ,F);bQ.f4(F);fq.filter.$R({e:fq.filter.Jf,ya:jY.gL,k0:new Float32Array([1/i,1/$]),AF:dH/2,a2s:1},bQ.XR);
bQ.get(hL);f.DJ(hL)}else{var fo=g.buffer,is=new gi;is.rotate(gJ);var o=A.hZ.Pr([v.buffer,v.S],is);e0.ta(dH,2,o.buffer,o.S);
is.zJ();o=A.hZ.Pr([o.buffer,o.S],is,!1,fo.buffer,g.S);if(!f.jF(v.buffer))for(var n=0;n<fo.length;n+=4)fo[n+3]=255}console.log(Date.now()-hs)}if(d=="RdlB"){var i=v.S.r,$=v.S.$,fL=t.Amnt.v,k_=t.BlrM.v.BlrM=="Zm",jS=t.Cntr.v,fD=jS.Hrzn.v,bH=jS.Vrtc.v,T=Math.max(fD,1-fD)*i,D=Math.max(bH,1-bH)*$,gh=Math.sqrt(T*T+D*D),cy=2*Math.PI*gh*1.5,bo=Math.round(cy),jV=Math.round(gh),cE=new iW(0,0,bo,jV),cx=f.m(bo*jV*4),fz=k_?4:1,cG=k_?.6:8*((i+$)/2)/1400,aB=.1,iO=1,aS=1;
f.G.ab9(v.buffer,i,$,cx,bo,jV,fD,bH,fz,aB,iO,aS);var fC=k_?f.m(bo*jV*4):null;if(k_){f.G.zR(cx,fC,bo,jV);
var as=fC;fC=cx;cx=as;cE.r=jV;cE.$=bo}e0.ta(cG*fL,2,cx,cE);if(k_){f.G.zR(cx,fC,jV,bo);var as=fC;fC=cx;
cx=as;cE.r=bo;cE.$=jV}f.G.apy(cx,bo,jV,g.buffer,i,$,fD,bH,fz,aB,iO,aS)}if(d=="Plr "){var i=v.S.r,$=v.S.$;
if(t.Cnvr.v.Cnvr=="RctP")f.G.apy(v.buffer,i,$,g.buffer,i,$,.5,.5,1,0,2,i/$);else f.G.ab9(v.buffer,i,$,g.buffer,i,$,.5,.5,1,0,2,i/$)}if(d=="FndE"){var i=v.S.r,$=v.S.$;
f.mD.axD(v.buffer,g.buffer,i,$)}if(d=="oilPaint"){var j_=t.LghD.v*Math.PI/180,ff=[Math.cos(j_),Math.sin(j_),.001],kW=[t.stylization.v,t.cleanliness.v,t.brushScale.v,t.microBrush.v,t.lightingOn.v,t.specularity.v,ff],F=v.S.b();
F.x=F.y=0;f.gr.filter(v.buffer,F,g.buffer,kW)}if(d=="Ofst"){var i=v.S.r,$=v.S.$,ju=new Uint32Array(v.buffer.buffer),d4=new Uint32Array(g.buffer.buffer);
d4.fill(0);var d6=t.Hrzn.v,b_=t.Vrtc.v,kz=t.Fl.v.FlMd;if(kz=="Bckg"||kz=="Rpt"){var cE=v.S.b();cE.offset(d6,b_);
f.wH(ju,cE,d4,g.S)}if(kz=="Rpt"){var jg,aw,du,e7,fv;d6=Math.max(-i,Math.min(i,d6));b_=Math.max(-$,Math.min($,b_));
jg=d6>0?d6:0;du=d6>0?i:i+d6;aw=b_>0?0:b_+$;e7=b_>0?b_:$;fv=b_>0?0:i*($-1);for(var c=aw;c<e7;c++)for(var S=jg;
S<du;S++)d4[c*i+S]=ju[fv+S-d6];jg=d6>0?0:i+d6;du=d6>0?d6:i;aw=b_>0?b_:0;e7=b_>0?$:$+b_;fv=d6>0?0:i-1;
for(var c=aw;c<e7;c++)for(var S=jg;S<du;S++)d4[c*i+S]=ju[fv+i*(c-b_)];if(d6>=0&&b_>=0){jg=0;du=d6;aw=0;
e7=b_;fv=0}if(d6>=0&&b_<0){jg=0;du=d6;aw=$+b_;e7=$;fv=i*($-1)}if(d6<0&&b_>=0){jg=i+d6;du=i;aw=0;e7=b_;
fv=i-1}if(d6<0&&b_<0){jg=i+d6;du=i;aw=$+b_;e7=$;fv=i*$-1}for(var c=aw;c<e7;c++)for(var S=jg;S<du;S++)d4[c*i+S]=ju[fv]}if(kz=="Wrp"){d6=(d6+100*i)%i;
b_=(b_+100*$)%$;var cE=new iW(d6-i,b_-$,i,$);f.wH(ju,cE,d4,g.S);cE.offset(i,0);f.wH(ju,cE,d4,g.S);cE.offset(0,$);
f.wH(ju,cE,d4,g.S);cE.offset(-i,0);f.wH(ju,cE,d4,g.S)}}if(d=="Rept"){var iu=t.Rsft.v.val/100,eq=t.SpcX.v.val/100;
eq=Math.max(eq,-.99);var bV=t.SpcY.v.val/100;bV=Math.max(bV,-.99);var iO=t.Scl.v.val/100,is=new gi;is.rotate(t.Angl.v*Math.PI/180);
is.scale(iO,iO);var fF={buffer:v.buffer,S:v.S};f.R2(fF);if(fF.S.HP()){fF.buffer=v.buffer;fF.S=v.S}var ck=fF.buffer,cE=fF.S,cd=f.mZ(ck,cE,0),iI=new Uint32Array(ck.buffer)[0];
if(!cd.HP()&&!cd.fE(cE)){var cF=f.m(cd.k()*4);f.wH(ck,cE,cF,cd);ck=cF;cE=cd}cE.x=cE.y=0;iI=eq==0&&bV==0&&!f.jF(v.buffer)||t.SpcC.v?iI:0;
function ay(S){return S<0?Math.ceil(S):Math.floor(S)}var jK=is._V(new cK(cE.r,0));jK.x=ay(jK.x);jK.y=ay(jK.y);
var hS=is._V(new cK(0,cE.$));hS.x=ay(hS.x);hS.y=ay(hS.y);var o=A.hZ.Pr([ck,cE],is,!1),aY=o.S,i2=o.buffer,ak=Math.round(aY.x),cH=Math.round(aY.y),a7=Math.max(g.S.r,g.S.$)/Math.min(cE.r*iO*(1+eq),cE.$*iO*(1+bV));
a7=Math.ceil(a7*1.7);f.pl(g.buffer,iI);for(var c=-a7;c<a7;c++){for(var S=-a7;S<a7;S++){var jm=(S+c*iu)*(1+eq),iB=c*(1+bV);
aY.x=ak+Math.round(jm*jK.x+iB*hS.x);aY.y=cH+Math.round(jm*jK.y+iB*hS.y);if(aY.GD(g.S))f.V.Qe("norm",i2,aY,g.buffer,g.S,aY,1)}}}if(d=="Ctoa"){var X=f.iF.pq(t.Clr.v),iH=t.Trsp.v.val/100,eL=t.Opct.v.val/100;
iH=eL==0?0:iH/eL;var i=v.S.r,$=v.S.$,h2=~~X.C,hT=~~X.L,aM=~~X.X,fv=v.buffer,aq=g.buffer;for(var c=0;
c<$;c++)for(var S=0;S<i;S++){var n=c*i+S,K=n<<2,cE=fv[K],kc=fv[K+1],ck=fv[K+2],kk=Math.abs(h2-cE),fY=Math.abs(hT-kc),gz=Math.abs(aM-ck),kB=Math.max(kk,fY,gz)*(1/255);
kB=Math.max(0,Math.min(1,kB/eL));var bk=kB==0?0:1/kB,dP=iH==1?1:Math.max(0,Math.min(1,(kB-iH)/(1-iH)));
aq[K]=Math.max(0,Math.min(255,(cE-h2*(1-kB))*bk));aq[K+1]=Math.max(0,Math.min(255,(kc-hT*(1-kB))*bk));
aq[K+2]=Math.max(0,Math.min(255,(ck-aM*(1-kB))*bk));aq[K+3]=Math.min(aq[K+3],~~(.5+dP*255))}}if(d=="Dthr"){var eV=fH.azD(t.Plte.v),jx=new Uint32Array(fH.qs(eV));
f.Jm(new Uint8Array(jx.buffer));var i=v.S.r,$=v.S.$,H=i*$,ea=H*4,km=v.buffer.slice(0),kp=g.buffer;f.Jm(km);
var kf=f.m(i*$);UPNG.encode.dither(km,i,$,jx,kp,kf,t.Mthd?t.Mthd.v:1);f.aCd(kp)}if(d=="Part"){var lC=[t.RndS.v,t.Cont.v/100,t.Size.v,t.Dpth.v/100,t.Brgh.v/100,f.iF.pq(t.Clr.v),t.Time.v,t.Blnk.v,t.Fall.v,t.Turb.v/100];
f.MY.E$(g.buffer,v.S.r,v.S.$,lC)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(d)!=-1){var kd=x[0],i=v.S.r,$=v.S.$,cU,i7=0;
if(d=="LqFy")cU=l5.lS(new Uint8Array(t.LqMe.v).buffer);else{var ba=3;if(d=="Wave")ba=Math.min(3,t.WLMn.v);
cU={F0:Math.floor(i/ba),uV:Math.floor($/ba)};cU.map=new Float32Array(cU.F0*cU.uV*2);if(d=="LnCr"){var fD=.5*(cU.F0-1),bH=.5*(cU.uV-1),fr=Math.max(Math.abs(0-fD),Math.abs(1-fD)),lG=Math.max(Math.abs(0-bH),Math.abs(1-bH)),h7=Math.sqrt(fr*fr+lG*lG),cO=0,cg=0,hJ=-1,kZ=2,iO=t.LnSi.v/100,k_=1/iO,i3=t.LnIa.v/100,jP=i3==0?1e-6:i3*4.6,iL=k_/h7;
for(var c=0;c<cU.uV;c++){for(var S=0;S<cU.F0;S++){var T=(S-fD)*iL,D=(c-bH)*iL,J=Math.sqrt(T*T+D*D)*jP,jC=Math.atan(J),bj=i3>0?jC/J:J/jC,aS=fD+h7*bj*T,bC=bH+h7*bj*D,n=c*cU.F0+S<<1;
cU.map[n]=aS-S;cU.map[n+1]=bC-c}}}else if(d=="Kale"){var lg=cU.F0,hG=cU.uV,aK=(lg-1)*.5,gZ=(hG-1)*.5,gp=t.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,jb=t.Mirr.v,c5=Math.PI*2/jb,dk=.5*c5;
for(var c=0;c<hG;c++)for(var S=0;S<lg;S++){var T=S-aK,D=c-gZ,iF=Math.sqrt(T*T+D*D),j_=Math.atan2(D,T)+gp;
j_=j_%c5;if(j_>dk)j_=c5-j_;var aS=aK+Math.cos(j_-gp)*iF,bC=gZ+Math.sin(j_-gp)*iF,n=(c*lg+S)*2;cU.map[n]=aS-S;
cU.map[n+1]=bC-c}}else if(d=="Dspl"&&kd.length!=0){i7=t.UndA.v.UndA=="WrpA"?2:1;var l1=t.DspF.v.pth,hU,hX=t.DspD,dT,ft,fS;
if(hX){var d8=hX.v;ft=d8[1]*256+d8[0];dT=d8[5]*256+d8[4];fS=new Uint8Array(d8.slice(10,10+dT*ft))}else{for(var n=0;
n<kd.length;n++)if(kd[n].tj==l1)hU=kd[n];if(hU==null)hU=kd[0];hU.jP();var kk=hU.Rc[1],fS=f.m(kk.k());
f.TA(hU.Rc[0],fS);dT=kk.r;ft=kk.$}cU={F0:dT,uV:ft};cU.map=new Float32Array(cU.F0*cU.uV*2);var ci=2.54*t.HrzS.v*dT/i,lf=2.54*t.VrtS.v*ft/$;
for(var c=0;c<cU.uV;c++){for(var S=0;S<cU.F0;S++){var jp=-.5+fS[c*dT+S]*(1/255),n=c*cU.F0+S<<1;cU.map[n]=jp*ci;
cU.map[n+1]=jp*lf}}}else if(d=="Pnch"||d=="Twrl"||d=="Sphr"||d=="ZgZg"){var fL=1,gJ=Math.PI,l0=0,hd=1,k5=0,jS=3,dj=1.53,bj=1;
if(d=="Pnch"||d=="Sphr"||d=="ZgZg")fL=t.Amnt.v/100;if(d=="ZgZg"){hd=t.NmbR.v;k5=["ArnC","OtFr","PndR"].indexOf(t.ZZTy.v.ZZTy)}if(d=="Twrl")gJ=t.Angl.v*Math.PI/180;
if(d=="Sphr")l0=["Nrml","HrzO","VrtO"].indexOf(t.SphM.v.SphM);function dy(S){S=Math.pow(S,1-S*.3-S*S*(S*S)*.5);
return-.225*Math.sin(S*Math.PI)}function kE($,cr,J,jg,aw,du,e7,bj){var T=du-jg,D=e7-aw,hR=jg-$,db=aw-cr,kx=T*T+D*D,h3=2*(T*hR+D*db),jS=hR*hR+db*db-J*J,hx=Math.sqrt(h3*h3-4*kx*jS),jq=bj/(2*kx),bv=(-h3+hx)*jq,jF=(-h3-hx)*jq;
return bj*Math.min(bv,jF)}var lg=cU.F0,hG=cU.uV,aK=cU.F0/2,gZ=cU.uV/2,gy=1/aK,J=Math.sqrt(jS*jS+1)/jS,cf=jS+Math.sqrt(1/(jS*jS));
if(fL<0){jS=1.72;J=1;cf=jS;dj=-1;bj=-1}for(var c=0;c<hG;c++){var D=(c-gZ)/gZ;for(var S=0;S<lg;S++){var T=(S-aK)*gy;
if(l0==1)D=0;else if(l0==2)T=0;var h9=Math.sqrt(T*T+D*D);if(h9<1&&h9!=0){var n=c*cU.F0+S<<1;if(d=="Pnch"){var ks=-fL*dy(h9)/h9;
cU.map[n]=T*ks*aK;cU.map[n+1]=D*ks*gZ}else if(d=="Sphr"){var as=kE(0,cf,J,0,0,h9,jS,bj),bF=dj*fL*(as-1);
cU.map[n]=T*bF*aK;cU.map[n+1]=D*bF*gZ}else if(d=="Twrl"){var j_=Math.atan2(D,T)-gJ*(1-h9)*(1-h9),ef=Math.cos(j_),hZ=Math.sin(j_);
cU.map[n]=(h9*ef-T)*aK;cU.map[n+1]=(h9*hZ-D)*gZ}else if(d=="ZgZg"){var ef=0,hZ=0,hI=fL*(.5-.5*Math.cos(h9*hd*2*Math.PI))*(1-h9);
if(k5==0){var j_=Math.atan2(D,T)-3.5*hI;ef=h9*Math.cos(j_);hZ=h9*Math.sin(j_)}if(k5==1){hI=100/i*hI/h9;
ef=(1-hI)*T;hZ=(1-hI)*D}if(k5==2){var e=512/i*hI*Math.PI/4;ef=e+T;hZ=e+D}cU.map[n]=(ef-T)*aK;cU.map[n+1]=(hZ-D)*gZ}}}}}else if(d=="Shr "){var am=f.v(t.ShrP.v);
f.kB.M(am,new gi(0,255/127,255/127,0,-2,0));var bm=f.kB.hi(am,cU.uV,!0);i7=t.UndA.v.UndA=="WrpA"?2:1;
for(var c=0;c<cU.uV;c++){var T=-bm[c]*cU.F0;for(var S=0;S<cU.F0;S++){var n=c*cU.F0+S<<1;cU.map[n]=T}}}else if(d=="Wave"){var hz=t.NmbG.v,dl=t.WLMn.v,lu=t.WLMx.v,k3=t.AmMn.v*(Math.PI/4),ax=t.AmMx.v*(Math.PI/4),bO=t.SclH.v/100,ar=t.SclV.v/100,dv=t.Wvtp.v.Wvtp,hI=Math.sin;
if(dv=="WvTr")hI=function(S){S*=2/Math.PI;return-.5+Math.abs(S%2-1)};if(dv=="WvSq")hI=function(S){S*=2/Math.PI;
return 1+2*Math.floor(S%2-1)};var br=[],jz=new f.V.Pz(t.RndS.v);for(var n=0;n<hz;n++){br.push(jz.get()*10);
br.push(Math.PI*ba/(dl+jz.get()*(lu-dl)));br.push(bO*(k3+jz.get()*(ax-k3))/ba);br.push(jz.get()*10);
br.push(Math.PI*ba/(dl+jz.get()*(lu-dl)));br.push(ar*(k3+jz.get()*(ax-k3))/ba)}var gx=[],aW=[],jj=Math.max(cU.F0,cU.uV);
for(var n=0;n<jj;n++){var T=0,D=0;for(var eP=0;eP<hz;eP++){var aO=eP*6;T+=br[aO+2]*hI(br[aO]+n*br[aO+1]);
D+=br[aO+5]*hI(br[aO+3]+n*br[aO+4])}gx[n]=D;aW[n]=T}for(var c=0;c<cU.uV;c++){for(var S=0;S<cU.F0;S++){var n=c*cU.F0+S<<1;
cU.map[n]=aW[c];cU.map[n+1]=gx[S]}}i7=t.UndA.v.UndA=="WrpA"?2:1}else if(d=="Rple"){i7=1;var fL=t.Amnt.v/100,ig=4,gO=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],kJ=1,e3=1,hR=0,bb=["Sml","Mdm","Lrg"].indexOf(t.RplS.v.RplS);
if(bb==0){kJ=1;e3=.2;hR=3}if(bb==2){kJ=1;e3=2;hR=-1;gO=gO.reverse()}var a1=function(S,c){var jS=Math.cos,hK=0;
for(var n=0;n<ig;n++)for(var eP=0;eP<ig;eP++)hK+=gO[n*ig+eP]*jS(S*(n+hR)-c*(eP+hR));return hK},fG=Math.floor(50/ba),eg=new Float32Array(fG*fG*2),al=e3*fL*.5/ba;
for(var c=0;c<fG;c++)for(var S=0;S<fG;S++){var fD=kJ*S*2*Math.PI/fG,bH=kJ*c*2*Math.PI/fG,iV=a1(fD,bH),T=(a1(fD+.01,bH)-iV)*100,D=(a1(fD,bH+.01)-iV)*100,n=(c*fG+S)*2;
eg[n]=T*al;eg[n+1]=D*al}for(var c=0;c<cU.uV;c++)for(var S=0;S<cU.F0;S++){var hZ=c%fG,ef=S%fG,n=c*cU.F0+S<<1,f8=hZ*fG+ef<<1;
cU.map[n]=eg[f8];cU.map[n+1]=eg[f8+1]}}}f.wc.Bp(v.buffer,g.buffer,i,$,null,cU.map,cU.F0,cU.uV,i7)}return g};
var fH={};fH.akB="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");fH.m$="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
fH.C9=["ScrC","ScrD","ScrL"];fH.Mq=["SDRD","SDHz","SDLD","SDVt"];fH.nD="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
fH.hW="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");fH.k9="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
fH.Dl=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];fH.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
fH.yu=function(d){var v;if(d=="ClrP")v={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(d=="Ct")v={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(d=="DryB")v={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(d=="FlmG")v={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(d=="Frsc")v={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(d=="NGlw")v={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(d=="PntD")v={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(d=="PltK")v={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(d=="PlsW")v={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(d=="PstE")v={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(d=="RghP")v={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(d=="SmdS")v={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(d=="Spng")v={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(d=="Undr")v={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(d=="Wtrc")v={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(d=="AccE")v={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(d=="AngS")v={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(d=="Crsh")v={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(d=="DrkS")v={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(d=="InkO")v={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(d=="Smie")v={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(d=="Spt")v={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(d=="SprS")v={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(d=="DfsG")v={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(d=="Gls")v={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(d=="OcnR")v={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(d=="BsRl")v={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(d=="ChlC")v={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(d=="Chrc")v={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(d=="Chrm")v={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(d=="CntC")v={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(d=="GraP")v={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(d=="HlfS")v={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(d=="NtPr")v={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(d=="Phtc")v={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(d=="Plst")v={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(d=="Rtcl")v={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(d=="Stmp")v={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(d=="TrnE")v={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(d=="WtrP")v={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(d=="GlwE")v={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(d=="Crql")v={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(d=="Grn")v={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(d=="MscT")v={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(d=="Ptch")v={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(d=="StnG")v={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(d=="Txtz")v={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
v.__name="Filter Gallery";v.classID="GEfc";v.GEfk={t:"enum",v:{GEft:d}};v.GELv={t:"bool",v:!0};return v};
fH.N3=function(d,v){for(var n=0;n<v.length;n++)~~(v[n]=(d[4*n]+d[4*n+1]+d[4*n+2])*(1/3))};fH.az0=function(d,v,t,h){var X=UPNG.quantize(d,v);
X={Bm:X.inds,S1:fH.alg(X.plte)};return X};fH.alg=function(d){var v=[];for(var n=0;n<d.length;n++){var t=d[n].est.q;
v.push(["",{C:t[0]*255,L:t[1]*255,X:t[2]*255,aX:t[3]*255}])}return v};fH.qs=function(d){var v=[];for(var n=0;
n<d.length;n++){var t=d[n][1];v.push(t.aX<<24|t.X<<16|t.L<<8|t.C)}return v};fH.ajz=[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"];
fH.azD=function(d){var v=[];if(d==0)v=[["",{C:0,L:0,X:0,aX:255}],["",{C:255,L:255,X:255,aX:255}]];else{var t=[[1,1,1],[2,2,2],[3,3,2]][d-1],h=[1<<t[0],1<<t[1],1<<t[2]],X=[~~(255/(h[0]-1)),~~(255/(h[1]-1)),~~(255/(h[2]-1))];
v=[];for(var g=0;g<h[0];g++)for(var x=0;x<h[1];x++)for(var Z=0;Z<h[2];Z++)v.push(["",{C:g*X[0],L:x*X[1],X:Z*X[2],aX:255}])}return v};
fH.yh=function(d,v,t,h,X,g,x){d=t.GEfk.v.GEft;var Z=v.S,Y=Z.r,a=Z.$,z=Y*a,p=t.FlRs?t.FlRs.v>>>1:0;function l(W){return W.C<<24|W.L<<16|W.X<<8|255}if(d=="ClrP")f.O.aHf(v.buffer,Y,a,g.buffer,[t.Pncl.v,t.StrP.v,t.PprB.v]);
if(d=="Ct"){var L=t.NmbL.v,j=t.EdgS.v,O=fH.az0(v.buffer.buffer,L*2,Y,a);f.Db.a75(O.Bm,Y,a,Math.floor((Y+a)*.015));
for(var n=0;n<O.Bm.length;n++)O.Bm[n]++;var F=new Uint8Array((Y+2)*(a+2));f.Qb(O.Bm,new iW(1,1,Y,a),F,new iW(0,0,Y+2,a+2));
var i=f.Q.et(F,Y+2,a+2,j,!1),$=new gi(1,0,0,1,-1,-1);for(var n=0;n<i.length;n++)f.Q.M(i[n].path.I,$,i[n].path.I);
var H=O.S1,b=f.km(Y,a);for(var n=0;n<i.length;n++){var r=i[n],W=H[r.color-1][1];if(W.aX==0)continue;
b.fillStyle="rgba("+W.C+","+W.L+","+W.X+","+W.aX/255+")";b.beginPath();Typr.U.pathToContext({crds:r.path.I,cmds:r.path.s2},b);
b.fill()}if(!Z.HP()){var V=b.getImageData(0,0,Y,a);f.Hy(V.data,g.buffer)}}if(d=="DryB")f.O.a4R(v.buffer,Y,a,g.buffer,[t.BrsS.v,t.BrsD.v,t.Txtr.v]);
if(d=="FlmG")f.O.aey(v.buffer,Y,a,g.buffer,[t.Grn.v,t.HghA.v,t.Intn.v,p]);if(d=="Frsc")f.O.amo(v.buffer,Y,a,g.buffer,[t.BrsS.v,t.BrsD.v,t.Txtr.v]);
if(d=="NGlw")f.O.a3M(v.buffer,Y,a,g.buffer,[t.Sz.v,t.Brgh.v,l(f.iF.pq(t.Clr.v)),l(h),l(X)]);if(d=="PltK")f.O.aJG(v.buffer,Y,a,g.buffer,[t.StrS.v,t.StDt.v,t.Sftn.v]);
if(d=="PstE")f.O.a0T(v.buffer,Y,a,g.buffer,[t.EdgT.v,t.EdgI.v,t.Pstr.v]);if(d=="RghP")f.O.a8P(v.buffer,Y,a,g.buffer,[t.StrL.v,t.StDt.v,fH.nD.indexOf(t.TxtT.v.TxtT),t.Scln.v,t.Rlf.v,fH.m$.indexOf(t.LghD.v.LghD),t.InvT.v]);
if(d=="SmdS")f.O.a0F(v.buffer,Y,a,g.buffer,[t.StrL.v,t.HghA.v,t.Intn.v,t.FlRs?t.FlRs.v:0,p]);if(d=="Spng")f.O.auq(v.buffer,Y,a,g.buffer,[t.BrsS.v,t.Dfnt.v,t.Smth.v,t.FlRs?t.FlRs.v:0,p]);
if(d=="Undr")f.O.axk(v.buffer,Y,a,g.buffer,[t.BrsS.v,t.TxtC.v,fH.nD.indexOf(t.TxtT.v.TxtT),t.Scln.v,t.Rlf.v,fH.m$.indexOf(t.LghD.v.LghD),t.InvT.v]);
if(d=="Wtrc")f.O.aCL(v.buffer,Y,a,g.buffer,[t.BrsD.v,t.ShdI.v,t.Txtr.v]);if(d=="AccE")f.O.arq(v.buffer,Y,a,g.buffer,[t.EdgW.v,t.EdgB.v,t.Smth.v]);
if(d=="AngS")f.O.aH8(v.buffer,Y,a,g.buffer,[t.DrcB.v,t.StrL.v,t.Shrp.v]);if(d=="Crsh")f.O.aOq(v.buffer,Y,a,g.buffer,[t.StrL.v,t.Shrp.v,t.Strg.v]);
if(d=="DrkS")f.O.akO(v.buffer,Y,a,g.buffer,[t.Blnc.v,t.BlcI.v,t.WhtI.v]);if(d=="InkO")f.O.aKq(v.buffer,Y,a,g.buffer,[t.StrL.v,t.DrkI.v,t.LghI.v]);
if(d=="Smie")f.O.awK(v.buffer,Y,a,g.buffer,[t.StrW.v,t.StrP.v,t.Cntr.v]);if(d=="DfsG")f.O.ap9(v.buffer,Y,a,g.buffer,[t.Grns.v,t.GlwA.v,t.ClrA.v,l(X),p]);
if(d=="CntC")f.O.aB4(v.buffer,Y,a,g.buffer,[t.FrgL.v,t.BckL.v,fH.nD.indexOf(t.TxtT.v.TxtT),t.Scln.v,t.Rlf.v,fH.m$.indexOf(t.LghD.v.LghD),t.InvT.v,l(X),l(h)]);
if(d=="ChlC")f.O.ayz(v.buffer,Y,a,g.buffer,[t.ChrA.v,t.ChlA.v,t.StrP.v,p,l(X),l(h)]);var y=d=="GraP"||d=="Chrc"||d=="Plst"||d=="Rtcl"||d=="Stmp"||d=="TrnE";
if(y){var c=f.m(Y*a);if(d=="GraP")f.O.a4$(v.buffer,Y,a,g.buffer,[t.StrL.v,t.LgDr.v,fH.Mq.indexOf(t.SDir.v.StrD),p]);
if(d=="Chrc")f.O.amP(v.buffer,Y,a,g.buffer,[t.ChAm.v,t.Dtl.v,t.LgDr.v]);if(d=="Plst")f.O.alE(v.buffer,Y,a,g.buffer,[t.ImgB.v,fH.hW.indexOf(t.LghP.v.LghP),t.Smth.v]);
if(d=="Rtcl")f.O.ah1(v.buffer,Y,a,g.buffer,[t.Dnst.v,t.BlcL.v,t.WhtL.v,p]);if(d=="Stmp")f.O.aH3(v.buffer,Y,a,g.buffer,[t.LgDr.v,t.Smth.v]);
if(d=="TrnE")f.O.aLd(v.buffer,Y,a,g.buffer,[t.ImgB.v,t.Smth.v,t.Cntr.v,p]);f.Po(g.buffer,c,0);fH.Pk(c,g.buffer,h,X)}if(d=="NtPr")f.O.aLt(v.buffer,Y,a,g.buffer,[t.ImgB.v,t.Grns.v,t.Rlf.v,l(h),l(X),p]);
if(d=="WtrP")f.O.a1T(v.buffer,Y,a,g.buffer,[t.FbrL.v,t.Brgh.v,t.Cntr.v,p>>>1]);if(d=="Crql")f.O.aw_(v.buffer,Y,a,g.buffer,[t.CrcS.v,t.CrcD.v,t.CrcB.v,p]);
if(d=="Grn")f.O.aah(v.buffer,Y,a,g.buffer,[t.Intn.v,fH.k9.indexOf(t.Grnt.v.Grnt),t.Cntr.v,l(h),l(X),p]);
if(d=="MscT")f.O.a0i(v.buffer,Y,a,g.buffer,[t.TlSz.v,t.GrtW.v,t.LghG.v,p]);if(d=="Ptch")f.O.a8r(v.buffer,Y,a,g.buffer,[t.SqrS.v,t.Rlf.v,p]);
if(d=="Phtc"){function S(am,dj,Z,j_){f.C2.Hd(dj,Z,j_,2);for(var n=0;n<z;n++)dj[n]=Math.max(0,Math.min(255,128+am[n]-dj[n]))}var C=t.Dtl.v,K=t.Drkn.v,T=f.m(z);
f.TA(v.buffer,T);var D=T.slice(0);S(T,D,Z,1);if(C==1){C=2;K=Math.round(K/4)}var N=T.slice(0);S(T,N,Z,C);
for(var n=0;n<z;n++)T[n]=Math.max(0,Math.min(255,255-(D[n]-N[n])*K));fH.Pk(T,g.buffer,h,X)}if(d=="Spt"||d=="SprS"){var G,s=1,Q=1;
G={F0:Math.floor(Y/Q),uV:Math.floor(a/Q)};G.map=new Float32Array(G.F0*G.uV*2);var q=new f.V.Pz(p),R=new Float32Array(8192),m=t.SprR.v,E=m<20?.018*m:.36+(m-20)*.128;
if(d=="SprS"){E=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][m]}for(var n=0;
n<8192;n++)R[n]=(-1+2*q.get())*E*70;for(var e=0;e<a;e++)for(var w=0;w<Y;w++){var M=e*Y+w<<1;G.map[M]=R[M%7919];
G.map[M+1]=R[(M+1)%7919]}var P=G.map.slice(0),I=d=="Spt"?t.Smth.v-1:1;if(d=="Spt"&&I!=0){fH.aBu(G.map,P,Y,a,I);
fH.aLp(P,G.map,Y,a,I)}if(d=="SprS"){var k=t.StrL.v>>>1,o=k==0?2:1;fH.aBu(G.map,P,Y,a,o);fH.aLp(P,G.map,Y,a,o);
if(k!=0){var af=fH.Mq.indexOf(t.SDir.v.StrD),J=[1,1,1,0][af],at=[-1,0,1,1][af],ke=2*k+1,c_=1/ke;for(var e=0;
e<a;e++)for(var w=0;w<Y;w++){var M=e*Y+w<<1,ag=0,dz=0;for(var n=0;n<ke;n++){var kL=Math.max(0,Math.min(Y-1,w-(k+n)*J)),aq=Math.max(0,Math.min(a-1,e-(k+n)*at)),dh=aq*Y+kL<<1;
ag+=G.map[dh];dz+=G.map[dh+1]}P[M]=ag*c_;P[M+1]=dz*c_}G.map=P}}f.wc.Bp(v.buffer,g.buffer,Y,a,null,G.map,G.F0,G.uV,s)}if(d=="BsRl"||d=="PlsW"||d=="Chrm"){var gK=Date.now(),ad=f.m(z);
f.TA(v.buffer,ad);var C=t.Dtl.v,dc=t.Smth.v;if(C!=15){f.C2.Hd(ad,Z,Math.round((15-C)*.5))}var lq=1.4/Y,hn=1.4/a,dF=new Float32Array(z),c3=new Float32Array(z),i8=new Float32Array(g.buffer.buffer);
for(var e=0;e<a;e++)for(var w=0;w<Y;w++){var n=e*Y+w,J=w==Y-1?ad[n]-ad[n-1]:ad[n+1]-ad[n],at=e==a-1?ad[n]-ad[n-Y]:ad[n+Y]-ad[n],dr=w*lq-.7,jO=e*hn-.7;
dF[n]=J==0?dr:J*.4;c3[n]=at==0?jO:at*.4}if(d=="BsRl"){var d1=(2+fH.m$.indexOf(t.LghD.v.LghD))*Math.PI*.25,ag=Math.cos(d1);
if(Math.abs(ag)<.1)ag=0;ag=Math.sign(ag);var dz=Math.sin(d1);if(Math.abs(dz)<.1)dz=0;dz=Math.sign(dz);
var h3=1/(ag*ag+dz*dz),d5=ad.slice(0);for(var e=0;e<a;e++)for(var w=0;w<Y;w++){var n=e*Y+w,em=Math.max(-1,Math.min(1,ag*dF[n])),fl=Math.max(-1,Math.min(1,dz*c3[n]));
d5[n]=128+127*(em+fl)*h3}if(dc!=1){f.C2.Hd(d5,Z,Math.round((dc-1)*.5))}fH.Pk(d5,g.buffer,h,X)}else{if(d=="Chrm")dc=5+dc;
if(dc>1)fH.ta(dF,c3,i8,Z,dc-1);if(d=="PlsW"){var lA=new Uint8Array(dF.buffer);for(var n=0;n<z;n++){var av=n<<2,J=dF[n],at=c3[n],ah=1/(Math.sqrt(1+J*J)*Math.sqrt(1+at*at)),gE=ah*ah,fj=gE*gE,W=~~(255*(fj*fj*gE));
lA[av+0]=W;lA[av+1]=W;lA[av+2]=W;lA[av+3]=W}g.buffer.set(v.buffer);f.V.Qe("norm",lA,Z,g.buffer,Z,Z,t.HghS.v/20)}else if(d=="Chrm"){var bR=g.buffer,bD=Y>>>1,e1=a>>>1;
for(var n=0;n<z;n++){var av=n<<2,J=dF[n],at=c3[n],am={x:1,y:0,HC:J};lb.Q8(am);var dj={x:0,y:1,HC:at};
lb.Q8(dj);var ja=lb.aqe(am,dj),aj=1/ja.HC,dS=~~Math.max(0,Math.min(Y-1,bD-ja.x*aj*bD)),eW=~~Math.max(0,Math.min(a-1,e1-ja.y*aj*e1)),W=ad[eW*Y+dS];
bR[av+0]=W;bR[av+1]=W;bR[av+2]=W}}}}if(d=="Gls"||d=="OcnR"||d=="Txtz"){var be=d=="OcnR"?2:fH.nD.indexOf(t.TxtT.v.TxtT),cI=fH.MB(be),kP=cI[0],ad=cI[1],i0=kP.r,ac=kP.$,ke=24,fK=0,lo,cR;
function jR(e7,dN,gw){return~~(eo*(e7+dN)+8192)&127}var dF=new Float32Array(z),c3=new Float32Array(z),i8=new Float32Array(g.buffer.buffer),eo=d=="OcnR"?1/(1+(t.RplS.v-1)*.1):100/t.Scln.v;
if(be==3)eo*=32/22.2;var gK=Date.now(),eP=eo,lq=1.4/Y,hn=1.4/a;if(d=="Txtz"){eP*=1/255;ke=256}for(var e=0;
e<a;e++){var as=jR(e,Z.y,ac),aq=as+1&127;for(var w=0;w<Y;w++){var n=e*Y+w,kF=jR(w,Z.x,i0),kL=kF+1&127,kW=0,hs=0,gc=0;
if(d=="Txtz"){kW=f.G.us(eo*w,eo*e,ad,128,128);hs=f.G.us(eo*w,eo*e+1,ad,128,128);gc=f.G.us(eo*w+1,eo*e,ad,128,128)}else{kW=ad[as*i0+kF];
hs=ad[aq*i0+kF];gc=ad[as*i0+kL]}dF[n]=Math.max(-ke,Math.min((gc-kW)*eP,ke));c3[n]=Math.max(-ke,Math.min((hs-kW)*eP,ke))}}if(d=="Txtz")fH.a7n(dF,c3,i8,Z,6);
else fH.ta(dF,c3,i8,Z,d=="Txtz"?1:d=="OcnR"?3.5/eo:t.Smth.v);if(d=="Txtz")fK=t.InvT.v?-1:1;else if(d=="Gls"){fK=[1,.4,.5,.5,.5,.5,.5][be]*(Math.exp(t.Dstr.v*.155)-1);
if(t.InvT.v)fK=-fK}else{fK=.5*(Math.exp(t.RplM.v*.155)-1)}var bR=g.buffer;if(d=="Txtz"){var d1=(2+fH.m$.indexOf(t.LghD.v.LghD))*Math.PI*.25,ag=Math.cos(d1),dz=Math.sin(d1);
lo={x:ag,y:dz,HC:0};lb.Q8(lo);cR=t.Rlf.v;cR=cR/4+Math.max(0,(cR-35)*2)}function fU(am,dj,i2){var gP=f.V.overF(dj,am,1),e7=(1-i2)*am+i2*(i2*dj+(1-i2)*gP);
return e7*255}for(var e=0;e<a;e++)for(var w=0;w<Y;w++){var n=e*Y+w,av=n<<2,J=dF[n],at=c3[n],am={x:1,y:0,HC:J};
lb.Q8(am);var dj={x:0,y:1,HC:at};lb.Q8(dj);var ja=lb.aqe(am,dj);if(d=="Txtz"){var g8=lb.Cl(ja,lo)*fK,i2=1,W=1;
if(g8<0){W=0;g8=-g8}i2=Math.min(1,g8*cR);bR[av+0]=~~fU(v.buffer[av]*(1/255),W,i2);bR[av+1]=~~fU(v.buffer[av+1]*(1/255),W,i2);
bR[av+2]=~~fU(v.buffer[av+2]*(1/255),W,i2)}else{var aj=fK/ja.HC,dS=~~Math.max(0,Math.min(Y-1,w-ja.x*aj)),eW=~~Math.max(0,Math.min(a-1,e-ja.y*aj)),jQ=eW*Y+dS<<2;
bR[av+0]=v.buffer[jQ];bR[av+1]=v.buffer[jQ+1];bR[av+2]=v.buffer[jQ+2]}}}if(d=="PntD"){var eS=t.Shrp.v*.4,ji=t.BrsT.v.BrsT,l7={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ji],j_=Math.round(t.Sz.v*.5);
f.lD.zu=l7[0];f.lD.Ba(v.buffer,g.buffer,Y,a,j_,0,[]);var hb=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];hb=f.mD.Za(hb);
var fL=g.buffer.slice(0);f.mD.Rz(fL,g.buffer,Y,a,hb);for(var n=0;n<v.buffer.length;n++){var dE=g.buffer[n]-fL[n];
g.buffer[n]=Math.max(0,Math.min(255,fL[n]+eS*dE))}}if(d=="GlwE"){var gF=g.buffer.slice(0);f.lD.zu=.5;
f.lD.Ba(v.buffer,gF,Y,a,t.Smth.v>>>1,0,[]);f.mD.axD(gF,g.buffer,Y,a);f.Hy(g.buffer,gF);f.zJ(gF);f.Xq(gF,1);
f.eV.aLj(gF,g.buffer,Y,a,(t.EdgW.v>>>1)*2+1,!0);var gA=t.EdgB.v/10;for(var n=0;n<gF.length;n++){if((n&3)==3)continue;
var gP=g.buffer[n];g.buffer[n]=Math.max(0,Math.min(255,gP*gA))}}if(d=="StnG"){f.YP.avt(v.buffer,Y,a,g.buffer,t.ClSz.v,[Math.round(h.C),Math.round(h.L),Math.round(h.X)],t.BrdT.v,p)}if(d=="HlfS"){var km=t.HlSz.v,jA=km*2+1,cD=t.Cntr.v,i4=fH.C9.indexOf(t.ScrT.v.ScrT),z=Y*a,dv=z*4,eK=f.m(z),k2=v.buffer,iJ=0,jl=0;
fH.N3(k2,eK);f.C2.ae8(eK,Z,km);var gl=Math.PI/jA,eU=new Float64Array(Y),ag=new Float64Array(Y),d9=new Float64Array(2*Y);
for(var w=0;w<Y;w++){var kF=(w-(Y>>>1))*gl;eU[w]=kF*kF;ag[w]=Math.cos(kF);var J=w<<1;d9[J]=Math.sin(J*(1/4.5));
d9[J+1]=Math.sin((J+1)*(1/4.5))}for(var e=0;e<a;e++){var as=(e-(a>>>1))*gl,dz=Math.cos(as),fd=as*as;
for(var w=0;w<Y;w++){var W=dz;if(i4==0){var el=.5+Math.sqrt(eU[w]+fd)*4.5;W=d9[~~el]}else if(i4==1){W=ag[w]*dz}var n=e*Y+w,cT=eK[n]*(.75+.25*W),i2=k2[(n<<2)+3]*(1/255),jg=Math.max(0,Math.min(255,~~cT));
iJ+=jg*i2,jl+=i2;eK[n]=jg}}iJ/=jl;var aw=128+1.26*(iJ-128),gA=.08+.25*Math.abs((128-iJ)/128),du=1+gA*cD;
for(var n=0;n<z;n++){var cT=aw+(eK[n]-aw)*du;eK[n]=Math.max(0,Math.min(255,~~cT))}if(cD>46)f.round(eK);
fH.Pk(eK,g.buffer,h,X)}for(var n=0;n<v.buffer.length;n+=4)g.buffer[n+3]=v.buffer[n+3]};fH.Pk=function(d,v,t,h){var X=d.length,g=t.C,x=t.L,Z=t.X,Y=h.C,a=h.L,z=h.X;
for(var n=0;n<X;n++){var p=d[n]*(1/255),l=1-p,L=n<<2;v[L]=~~(g*l+Y*p);v[L+1]=~~(x*l+a*p);v[L+2]=~~(Z*l+z*p)}};
fH.MB=function(d){if(d==6)d=2;var v="blocks canvas frosted tinylens brick burlap".split(" ")[d];if(fH.lo==null)fH.lo=[];
if(fH.lo[d]==null){var t,h;if(d==2){h=new iW(0,0,128,128);var X=e0.yu("AdNs");X.Mnch.v=!0;X.Dstr.v.Dstr="Gsn";
X.Nose.v.val=50;var t=f.m(h.k()*4),g=t.slice(0);f.pl(g.buffer,4286611584);e0.yh("AdNs",{buffer:g,S:h},X,0,0,{buffer:t,S:h})}else{var x=b3.qk.get("tex/"+v,!0)[0];
h=x._S;t=new Uint8Array(x.data)}var Z=f.m(h.k());f.Po(t,Z,0);fH.lo[d]=[h,Z]}return fH.lo[d]};fH.ta=function(d,v,t,h,X){if(X<=1){X=Math.round(X);
fH.a7n(d,v,t,h,[1,16,4][X]);return}var g=X*.42;if(d){f.C2.Hd(d,h,g,3)}if(v){f.C2.Hd(v,h,g,3)}};fH.a7n=function(d,v,t,h,X){var g=f.mD.Za([1,2,1,2,X,2,1,2,1]);
if(d){t.set(d);f.mD.avD(d,t,h.r,h.$,g);d.set(t)}if(v){t.set(v);f.mD.avD(v,t,h.r,h.$,g);v.set(t)}};fH.fl=function(d){if(d==null)return new cK(0,0);
var v=0,t=d.GEfs?d.GEfs.v:[{v:d}];for(var n=0;n<t.length;n++){var h=t[n].v,g=1e4;if(h.GELv&&!h.GELv.v)continue;
var X=h.GEfk.v.GEft;if(X=="GlwE"||X=="Phtc"||X=="BsRl"||X=="PlsW"||X=="Chrm"||X=="Gls"||X=="OcnR"||X=="InkO")g=0;
v=Math.max(v,g)}return new cK(v,v)};fH.ah4=function(d){var v=[0,0,0,0,0,0,0,0,0,0,0,0,0],t=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][d];
for(var n=0;n<13;n++){var h=n-6;v[n]=1/(t*Math.sqrt(2*Math.PI))*Math.exp(-.5*(h/t)*(h/t))}return v};
fH.aBu=function(d,v,t,h,X){var g=fH.ah4(X),x=6,Z=13;for(var Y=0;Y<h;Y++)for(var a=0;a<t;a++){var z=Y*t+a<<1,p=0,U=0;
for(var n=0;n<Z;n++){var l=a+n-x,L=l<0?0:l>=t?t-1:l,j=(Y*t+L)*2,O=g[n];p+=O*d[j];U+=O*d[j+1]}v[z]=p;
v[z+1]=U}};fH.aLp=function(d,v,t,h,X){var g=fH.ah4(X),x=6,Z=13;for(var Y=0;Y<h;Y++)for(var a=0;a<t;a++){var z=Y*t+a<<1,p=0,U=0;
for(var n=0;n<Z;n++){var l=Y+n-x,L=l<0?0:l>=h?h-1:l,j=(L*t+a)*2,O=g[n];p+=O*d[j];U+=O*d[j+1]}v[z]=p;
v[z+1]=U}};function gL(){}gL.F_=[2,5,5,7,4,4];gL.iX="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
gL.RG="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
gL.GY=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
gL.AJ=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
gL.__=function(d){if(d=="passThrough")return"pass";return gL.iX[gL.RG.indexOf(d)]};gL.V6=function(d){if(d=="pass")return"passThrough";
return gL.RG[gL.iX.indexOf(d)]};gL.getName=function(d){return gL.GY[gL.iX.indexOf(d)]};function jn(){this.S=null;
this.buffer=null;this.uF="norm";this.JS=255;this.cD=!1;this.ej=!1;this.Xw=0;this.aT=0;this.mv=!0;this._F=[];
for(var n=0;n<10;n++)this._F.push(0,0,255,255);this.name=null;this.add={};this.yZ=null;this.eX=null;
this.Y={list:[],l:[],jJ:0,volume:1};this.AU=null;this._k=null;this.aDi=30;this.ur=null;this.a4D=null;
this.aJ$=null;this.aMG=null;this.VL=0;this.s$=!1;this.k7=null;this.nG=new jn.Dm}jn.Dm=function(){this.bh=!0;
this.sj=!0;this.ql=f.m(0);this.abx=f.m(0);this.FV=null;this.Fw={};this.ayc=null;this.azh=null;this.zb=null;
this.rF=null;this.T8=null;this.nS=!1};jn.Dm.prototype.axP=function(){this.bh=null;this.sj=!1;this.FV=null;
this.nS=fq.Dz};jn.Dm.prototype.a48=function(){lb.asT(this.Fw);this.ql=f.m(0);this.abx=f.m(0);if(this.rF)this.rF.delete();
if(this.T8)this.T8.delete();this.rF=null;this.T8=null};jn.prototype.uM=function(d){if(d==null)d=this.S.b();
if(this.nG.FV==null)this.nG.FV=d;else this.nG.FV=this.nG.FV.Ue(d)};jn.prototype.h5=function(){return this.add.lsct==f$.fG||this.add.lsct==f$.wM};
jn.prototype.c5=function(){var d=this.add;return d.SoCo!=null||d.GdFl!=null||d.PtFl!=null||d.vstl!=null};
jn.prototype.abA=function(){var d=this.add.lmfx;if(d==null)return;var v=["GrFl","patternFill"];for(var n=0;
n<v.length;n++){var t=kV.dv[kV.order.indexOf(v[n])],h=d[t].v;if(h.length==0)continue;for(var X=0;X<h.length;
X++){var g=h[X].v;if(g.enab.v&&(g.Algn==null||!g.Algn.v))this.nG.sj=!0}}};jn.prototype.abW=function(){var d=this.AU,v=this.nG.bh;
if(this.c5())d=this._B();if(!fq.Dz)return d.Nr();if(this.nG.T8==null||v||fq.Dz!=this.nG.nS){var t=d.pT(),h=d.Nr(),X=this.nG.T8,g=f.UJ(h),x=null;
if(v!=!0&&v!=null){x=v.b();x.offset(-t.x,-t.y)}if(X==null||X.r!=t.r||X.$!=t.$||X.depth!=g){X=this.nG.T8=new fq.lu(t.r,t.$,g);
x=null}X.set(h,x)}return this.nG.T8};jn.prototype.aO7=function(d){var v=this.S,t=this.buffer;if(!fq.Dz){var h=this.Uq(d,t,v);
if(h){t=h.sN;v=h.S}return t}if(this.nG.FV!=null||fq.Dz!=this.nG.nS){var h=this.Uq(d,t,v);if(h){t=h.sN;
v=h.S}var X=v;if(fq.Dz!=this.nG.nS||this.nG.rF==null||this.nG.rF.r!=X.r||this.nG.rF.$!=X.$||this.nG.rF.depth!=d.depth){if(this.nG.rF)this.nG.rF.delete();
this.nG.rF=new fq.lh(X.r,X.$,d.depth);this.nG.rF.set(t)}else{var g=this.nG.FV.b();g.offset(-v.x,-v.y);
this.nG.rF.set(t,g)}}return this.nG.rF};jn.prototype.Ki=function(){var d=this.AU;if(this.c5())d=this._B();
return d!=null&&d.isEnabled&&(!d.S.HP()||d.pq()!=255)};jn.prototype.Uq=function(d,v,t){if(this.l4()){var h=this.Ip(d);
if(h.AU&&h.AU.isEnabled&&(!h.AU.S.HP()||h.AU.color==0)){var X=this.add.SoLd.filterFX.v;h.AU.wb=X.filterMaskDensity?X.filterMaskDensity.v:255;
h.AU.mO=X.filterMaskFeather?X.filterMaskFeather.v:0;var g=h.buffer,x=h.S;if(x.k()<t.k()){x=t;g=f.m(x.k()*4,d.depth);
f.wH(h.buffer,h.S,g,x)}var Z=h.AU.NN(t);f.zJ(Z);v=v.slice(0);f.V.cI(g,x,v,t,Z,t,0,t,1);return{sN:v,S:t}}}};
jn.prototype.awu=function(){var d={nT:!1,fk:!1,Xh:0,WS:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)d.fk=!0;
if(this._B()&&this._B().isEnabled)d.nT=!0;if(d.nT&&d.fk){d.Xh=this._B().S.x-this.add.vmsk._B().S.x;d.WS=this._B().S.y-this.add.vmsk._B().S.y}return d};
jn.prototype.tG=function(d,v){if(j8!=0)return;if(v&&this._B().mO!=0){v=v.b();var t=Math.round(this._B().mO*2.4);
v.o2(t,t)}var h=!1;if(this.add.lsct==f$.Xr)return;var X=this,g=this._B()!=null&&this._B().vF,x=this.add.vmsk!=null&&this.add.vmsk.vF,Z=this.awu(),Y=JSON.stringify(Z)!=this.nG.ayc||Z.nT&&g||Z.fk&&x;
if(Y){if(Z.fk){var a=this.add.vmsk._B(null,d.depth,this.add.vstk&&!this.add.vstk.fillEnabled.v);if(Z.nT){this.AU=this._B().Sn(a);
this.nG.azh=new cK(this.AU.S.x-this._B().S.x,this.AU.S.y-this._B().S.y)}else this.AU=a}if(this.AU)h=!0;
if(this.AU)this.nG.zb=new cK(this.S.x-this.AU.S.x,this.S.y-this.AU.S.y);if(Z.nT)this._B().vF=!1;if(Z.fk)this.add.vmsk.vF=!1;
this.uM(v)}else{if(Z.nT&&Z.fk){this.AU.S.x=this._B().S.x+this.nG.azh.x;this.AU.S.y=this._B().S.y+this.nG.azh.y}}if(X.c5()){this.H1(d)}if(X.Kz()){var z;
if(this.AU)z=new cK(this.S.x-this.AU.S.x,this.S.y-this.AU.S.y);if(this.AU&&this.AU.isEnabled&&(this.nG.zb==null||!z.fE(this.nG.zb))){this.nG.zb=z;
this.uM(v);h=!0}}if(cV.get(X.add)!=null)h=!0;if(h){var p=this.nG.bh;if(v&&p&&p!=!0)p=p.Ue(v);else p=v?v:!0;
this.nG.bh=p}this.nG.ayc=JSON.stringify(Z)};jn.prototype.H1=function(d){if(j8!=0)return;var v=this,t=v.add.vstk,h=new iW(0,0,d.r,d.$),X,g=v.add.vmsk?this.add.vmsk._B(null,d.depth):null,Y=!0,p;
if(g&&g.isEnabled&&g.pq()==0)X=g.pT().b();else X=h;var x=v._B();if(x&&x.isEnabled&&x.pq()==0)X=X.hL(v.AU.pT());
var Z=g&&t;if(t&&(!t.strokeEnabled.v||t.strokeStyleLineWidth.v.val==0))Z=!1;if(t&&!t.fillEnabled.v&&Z)Y=!1;
var a=f.m(X.k()*4,d.depth);if(Y){if(v.add.SoCo)lb.xQ(a,v.add.SoCo.Clr.v);if(v.add.GdFl){var z=g&&g.color==0?f.t.ft(v.add.vmsk.D,null,!0):null;
lb.os(v.add.GdFl,a,X,d,null,z)}if(v.add.PtFl)lb.og(v.add.PtFl,a,X,d.add.Patt,v.add.fxrp)}if(Z)p=kV.UY.an.indexOf(t.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(g){var U=g.wb;if(Z)g.wb=255;var l=f.m(X.k(),d.depth);if(g.pq()!=0)l.fill(f.ay(d.depth)*g.pq()/255);
if(g&&g.isEnabled){var L=g.pT(),j=g.Nr();if(L.fE(X))f.Hy(j,l);else f.Qb(j,L,l,X)}if(Z&&p==2){}else{if(!Y){}else if(v.add.SoCo){f.Gj(l,a,3)}else f.Qc(l,X,a,X)}if(Z)g.wb=U}v.buffer=a;
v.S=X;if(Z){var O=t.strokeStyleContent.v,F=kV.UY.$B.indexOf(O.classID),i=this.add.vmsk._B(t,d.depth);
if(p!=0&&!v.S.fE(h))v.extend(v.S.Ue(i.pT()));var U=i.wb;i.wb=255;var $=i.NN(v.S);i.wb=U;if(i.color==255)f.zJ($);
var H=f.m(v.S.k()*4,d.depth);if(F==0)lb.xQ(H,O.Clr.v);if(F==1)lb.os(O,H,v.S,d,null,g.color==0?g.S:null);
if(F==2)lb.og(O,H,v.S,d.add.Patt,v.add.fxrp);var b=t.strokeStyleOpacity.v.val/100;if(b!=1)f.h0($,b);
if(i.color==255)p=2-p;if(p<2){f.V.cI(H,v.S,v.buffer,v.S,$,v.S,255,v.S,1,!1);if(p==0)f.XE(l,v.buffer)}if(p==2){f.XE($,H);
f.zJ(l);f.V.cI(H,v.S,v.buffer,v.S,l,X,255,v.S,1,!1);f.zJ(l)}if(i.wb!=255){var r=H.slice(0);f.Xq(r,1);
f.V.Qe("norm",r,v.S,v.buffer,v.S,v.S,1-i.wb/255)}U=g.wb;g.wb=255;this.abx=g.NN(v.S);g.wb=U}this.uM()};
jn.prototype.Lc=function(d,v,t,h,X){var g=this,x=g.add.SoLd.Idnt.v,Z=g.add.SoLd,Y=A.hZ.Q9(Z.nonAffineTransform),a=f.Q.mo(Y),z=d.Cq(x,Z.Crop?Z.Crop.v:null,[a.r,a.$],Z.Impr.v.classID,t),V=null;
if(z==null)return;var p=z.Rc;if(!z.afX){z.afX=!0;f.avp(p,d.depth);var U=d.yr();if(U||z.jk){if(U&&z.jk&&f.fE(U[0],z.jk)){}else{var l=17;
if(z.jk){var L=ICC.R(z.jk.buffer),j=ICC.U.sampleLUT(L,l);for(var n=0;n<p.length;n+=2){var O=p[n];ICC.U.applyLUT(j,l,O,O)}}if(U){var L=U[1],j=ICC.U.sampleLUT(L,l,!0);
for(var n=0;n<p.length;n+=2){var O=p[n];ICC.U.applyLUT(j,l,O,O)}}}}}if(X&&f.ht(p[0],0))return;if(Z.Sz){Z.Sz.v.Wdth.v=z.Kw.r;
Z.Sz.v.Hght.v=z.Kw.$}if(j8!=0)return;var F=z.u3==null?Z.Rslt.v.val:z.u3,i=Z.quiltWarp.v;if(f.kk.vs(i))i=null;
var $=f.G.ms(Y,z.Kw);if(i){var a=f.Q.mo(f.kk.kU(i)[3]),H=a.x,b=a.y,r=1/a.r,W=1/a.$;$=f.G.ms(Y);$=f.G.Sn($,[r,0,-H*r,0,W,-b*W,0,0])}if(!v&&!g.l4()&&i==null){var y=d.U.indexOf(g),c=jn.lM(g);
for(var n=0;n<y;n++){var S=d.U[n];if(S.add.SoLd&&!S.l4()&&jn.lM(S)[0]==c[0]){var C=jn.lM(S);V={buffer:S.buffer.slice(0),S:S.S.b()};
V.S.offset(Math.round(c[1]-C[1]),Math.round(c[2]-C[2]));break}}}var K=window.locStor.getItem("__itp");
K=K==null?1:K;if(V==null)V=A.hZ.zL(p,v?0:K,$,i,null,null,v);if(V==null){g.buffer=f.m(0,d.depth);g.S=new iW}else if(g.l4()){var T=g.Ip(d);
if(h){T.buffer=f.OO(T.buffer,d.depth);T.buffer.fill(0);f.wH(V.buffer,V.S,T.buffer,T.S)}else{T.buffer=V.buffer;
T.S=V.S.b()}this.JI(d,v)}else{g.buffer=V.buffer;g.S=V.S}g.tG(d);g.uM();d.uM()};jn.lM=function(d){var v=d.add.SoLd,t=v.Idnt.v,h=A.hZ.Q9(v.nonAffineTransform),X=f.G.ms(h,new iW(0,0,1e3,1e3)),g=v.quiltWarp.v;
if(f.kk.vs(g))g=null;return[[t,X[0],X[1],X[3],X[4],X[6],X[7],g==null].join(":"),X[2],X[5]]};jn.prototype.JI=function(d,v){if(v==null)v=!1;
var t=this.Ip(d),h=this.add.SoLd.filterFX.v,X=e0.adK(h),g=new iW(0,0,d.r,d.$),x=t.S.Ue(g),Z=t.S.b();
Z.o2(X.x,X.y);var Y={buffer:null,S:x.hL(Z)};Y.buffer=f.m(Y.S.k()*4,d.depth);f.wH(t.buffer,t.S,Y.buffer,Y.S);
if(h.enab.v&&v==!1){var a=h.filterFXList.v;for(var n=0;n<a.length;n++){var z=a[n].v;if(z.enab.v==!1)continue;
var p=z.blendOptions.v,U=gL.__(p.Md.v.BlnM),l=p.Opct.v.val/100,L=f.iF.pq(z.FrgC.v),j=f.iF.pq(z.BckC.v),O=e0.A$(z),F={buffer:f.m(Y.buffer.length,d.depth),S:Y.S.b()},i=z.Fltr?z.Fltr.v:null;
if(cV.vN[O]!=null){var $=cV.vN[O],H=cV.MM($,i);if(H)cV.yh(H,Y.buffer,F.buffer,Y.S)}else e0.yh(O,Y,i,L,j,F,[d.add.lnk2?d.add.lnk2:[],this._B(),d.gM]);
if(U=="norm"&&l==1)Y=F;else if(U=="norm"){f.V.cI(F.buffer,F.S,Y.buffer,Y.S,null,null,null,Y.S,l)}else{f.V.Qe(U,F.buffer,F.S,Y.buffer,Y.S,Y.S,l)}}}this.S=Y.S;
this.buffer=Y.buffer;this.s4();this.uM();d.uM()};jn.prototype.lO=function(d,v,t){this.k7=this.aaV(d,v,t)};
jn.prototype.DE=function(d,v){var t=this.aaV(d,v,!0);if(t==null)return null;var h={C5:t.VL,Gw:t.SS,S:t.rG};
if(h.C5==1||h.C5==3){var X=h.S,g=f.m(X.r*X.$*4,f.UJ(d.p.N));f.Gj(h.Gw,g,0);f.Gj(h.Gw,g,1);f.Gj(h.Gw,g,2);
f.aID(d.p.N,d.p.S,g,X);h.Gw=g}return h};jn.prototype.aaV=function(d,v,t){var h,X,g,x,Z,Y,a;if(this.VL<=0){var z=f.m(this.S.k(),d.depth);
f.Po(this.buffer,z,3);h=f.wR.Ga(v,{N:z,S:this.S},3);if(h==null)return null;var U=f.FY(h.N,h.S);x=h.S.b();
Z=this.S.b();X=f.m(x.k()*4,d.depth);f.wH(this.buffer,Z,X,x);f.Gj(h.N,X,3);g=this.buffer.slice(0);if(!t){var l=v.N.slice(0);
f.zJ(l);f.Qc(l,v.S,g,Z)}Y=this.buffer.slice(0);a=this.S.b()}if(this.VL==1||this.VL==3){var L=this.VL==1?this._B():this.Ip(d).AU;
x=v.S.b();Z=L.S.b();X=L.bg(x);var g=L.N.slice(0);if(!t){var j=f.m(x.k(),d.depth);if(L.color==255)j.fill(f.ay(d.depth));
f.V.XF(j,x,g,Z,v.N,x,1)}Y=L.N.slice(0);a=L.S.b()}return{VL:this.VL,SS:X,rG:x,l7:g,t6:Z,lv:Y,aOj:a}};
jn.prototype.Dn=function(d,v){var t=this.k7;if(t.VL==0){this.S=t.aOj;this.buffer=t.lv;this.uM()}if(t.VL==1||t.VL==3){var h=t.VL==1?this._B():this.Ip(d).AU;
h.N=t.lv;h.S=t.aOj;if(this.VL==1){h.vF=!0;this.tG(d)}if(this.VL==3)this.uM()}this.k7=v};jn.prototype.Gp=function(d,v){var t=d.depth;
if(this.VL<=0&&v.S.fE(this.S)){var h=f.m(this.S.k(),t);f.Po(this.buffer,h,3);if(f.fE(d.p.N,h)){var X=this.S,g=this.buffer;
this.k7={VL:this.VL,SS:g.slice(0),rG:X.b(),l7:f.m(0),t6:new iW,lv:f.m(0),aOj:new iW};return!0}}var x=this.k7;
if(x==null)return!1;if(x.VL!=this.VL)return!1;if(!v.S.fE(x.rG))return!1;var Z=x.t6.Ue(x.rG);if(x.VL<=0){if(!Z.fE(this.S))return!1;
var Y=f.m(x.SS.length>>2,t);f.Po(x.SS,Y,3);if(!f.fE(v.N,Y))return!1;var a=f.m(Z.k()*4,t);f.wH(x.l7,x.t6,a,Z);
f.V.Qe("norm",x.SS,x.rG,a,Z,Z,1);return f.fE(a,this.buffer)}if(x.VL==1||x.VL==3){var z=x.VL==1?this._B():this.Ip(d).AU;
if(!Z.fE(z.S))return!1;var p=f.m(Z.k(),t);p.fill(z.color*f.ay(t)/255);f.Qb(x.l7,x.t6,p,Z);f.V.XF(x.SS,x.rG,p,Z,v.N,Z,1);
return f.fE(p,z.N)}};jn.prototype.pv=function(d,v,t,h){var X=this.k7;X.rG.offset(v,t);var g=X.t6.Ue(X.rG);
if(X.VL<=0){var x=f.m(g.k()*4,d.depth);f.wH(X.l7,X.t6,x,g);f.V.Qe("norm",X.SS,X.rG,x,g,g,1);this.buffer=x;
this.S=g;this.uM()}else{var Z=this.VL==1?this._B():this.Ip(d).AU,Y=f.m(g.k());Y.fill(Z.color);f.Qb(X.l7,X.t6,Y,g);
f.V.XF(X.SS,X.rG,Y,g,h.N,g,1);Z.N=Y;Z.S=g.b();if(this.VL==1){Z.vF=!0;this.tG(d)}if(this.VL==3)this.uM()}};
jn.prototype.a1a=function(d){var v=[-1,0,1,2];if(d)v.push(3);if(this.AU)v.push(-2);if(this._k)v.push(-3);
return v};jn.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};jn.prototype.qv=function(bW){this.add.luni=this.name=bW};
jn.prototype.JB=function(d){var v=this.add.lnsr,t=this.add.TySh;if(v=="rend"&&t){var h=jM.W3(t.Oo);this.qv(h.slice(0,h.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
jn.prototype.ZC=function(){return(this.Xw&1<<1)==0};jn.prototype.Kz=function(){return(this.Xw&1<<4)==0};
jn.prototype.d5=function(){return(this.Xw&1<<5)!=0};jn.prototype.aBE=function(){var d=this;if(d.add.lnsr!="bgnd"){d.add.lnsr="bgnd";
d.qv("Background");d.add.lspf=1<<2}};jn.prototype.aa6=function(){var d=this;if(d.add.lnsr=="bgnd"){delete d.add.lnsr;
d.qv("Layer 0");d.add.lspf=0}};jn.prototype.BL=function(d){var v=this.add.lspf;return v==null?!1:(v>>d&1)!=0};
jn.prototype.fF=function(d){if(d&&!this.ZC())this.Xw-=2;if(!d&&this.ZC())this.Xw+=2};jn.prototype.kx=function(){var d=this.add.lmfx;
if(d==null)return!1;for(var v in d){if(v=="masterFXSwitch")continue;if(v=="Scl")continue;if(v=="classID")continue;
if(d[v].v.length>0)return!0}return!1};jn.prototype.l4=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
jn.prototype.sQ=function(){var d=this.add.lmfx;if(d==null)return!1;if(!d.masterFXSwitch.v)return!1;for(var v in d){if(v=="masterFXSwitch")continue;
if(v=="Scl")continue;if(v=="classID")continue;var t=d[v].v;for(var n=0;n<t.length;n++)if(t[n].v.enab.v)return!0}return!1};
jn.prototype.lw=function(){var d=this,v=d.add.SoLd,t=d.add.TySh,h=d.add.vmsk,X=[];if(v)X=A.hZ.Q9(v.nonAffineTransform);
if(t&&this.nG.PJ){X=f.Q.Ya(d.nG.PJ).I;f.Q.M(X,t.M,X)}if(h)X=f.Q.Ya(h.adt()).I;return X};jn.prototype.pT=function(d,v,t,h){if(j8==1)return f.Q.mo(this.lw());
var X=new iW,g=this.tr(d,t,h);if(g.indexOf(0)!=-1)X=X.Ue(this.S);if(g.indexOf(1)!=-1){var x=this._B(),Z=x.pT();
X=t&&x.pq()==0?X.HP()?Z:X.hL(Z):X.Ue(Z)}if(g.indexOf(2)!=-1){var Y=this.add.vmsk,a=this.add.vstk,z;if(v){if(Y.aD.length>1){var p=f.t.Bi(Y.D,null,Y.aD);
z=f.Q.mo(p);if(z.HP())z=null}if(z==null)z=f.t.ft(Y.D,Y.l.length!=0?Y.l:null)}else z=f.t.ft(Y.D);if(!h&&a&&a.strokeEnabled.v){var U=a.strokeStyleLineAlignment.v.strokeStyleLineAlignment,l=a.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(U!="strokeStyleAlignInside"){var L=a.strokeStyleLineWidth.v.val;if(l=="strokeStyleMiterJoin")z=new iW(0,0,d.r,d.$);
else z.o2(L,L)}}if(!h&&Y.mO!=0)z.o2(Y.mO*2.2,Y.mO*2.2);X=X.Ue(z)}if(g.indexOf(3)!=-1)X=X.Ue(this.Ip(d).AU.pT());
if(g.length==0&&this.c5())X=h?new iW(0,0,0,0):new iW(0,0,d.r,d.$);return X};jn.prototype.FE=function(){var d=this.add.artb,v=d.artboardBackgroundType.v,t=0;
if(v==1)t=4294967295;else if(v==2)t=4278190080;else if(v==3)t=0;else if(v==4){t=d.Clr.v;t=255<<24|t.Bl.v<<16|t.Grn.v<<8|t.Rd.v}else throw v;
return t};jn.prototype.x1=function(){var d=this.add.artb.artboardRect.v,v=d.Btom.v,t=d.Left.v,h=d.Rght.v,top=d.Top.v;
return new iW(t,top,h-t,v-top)};jn.prototype.In=function(d){var v=jn.ez(d);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=v};jn.ez=function(d){var v={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
v.Btom.v=d.y+d.$;v.Left.v=d.x;v.Rght.v=d.x+d.r;v.Top.v=d.y;return v};jn.prototype.tr=function(d,v,t){var h=[],X=this;
if(!v&&X.s$&&t){h.push(2)}else if(X.VL<=0||v){if(X.Kz()){if(j8==1&&X.add.TySh)h.push(0);else if(j8==1&&X.add.SoLd)h.push(0);
else if(!this.S.HP()||X.add.SoLd||X.add.TySh)h.push(0)}if(X._B()&&!X._B().S.HP())if(X._B().az||v)h.push(1);
if(X.add.vmsk)if(X.add.vmsk.az||v)h.push(2);if(X.l4()&&X.Ip(d).AU&&!X.Ip(d).AU.S.HP())h.push(3)}else if(X.VL==1){h.push(1);
if(X._B().az&&!X._B().S.HP()){if(X.Kz())if(!this.S.HP())h.push(0);if(X.add.vmsk)if(X.add.vmsk.az)h.push(2)}}else if(X.VL==3&&!X.Ip(d).AU.S.HP())h.push(3);
if(X.add.artb&&h.indexOf(0)==-1)h.push(0);h.sort();return h};jn.prototype._B=function(){var d=this;return d._k?d._k:d.add.vmsk&&d.add.vmsk.isEnabled?null:d.AU};
jn.prototype.Ip=function(d){if(this.add.SoLd==null)return null;var v=this.add.SoLd.placed.v,t=d.add.FEid;
if(t==null)return null;for(var n=0;n<t.length;n++)if(t[n].id==v)return t[n];return null};jn.prototype.extend=function(d){f.aJB(this,d)};
jn.prototype.awL=function(d,v,t){var h=d.b();if(this.sQ()){var X=this.add.lmfx,g=v.root.Ty(v.U.indexOf(this)),x=X.gradientFillMulti.v,Z=!1;
for(var n=0;n<x.length;n++)if(x[n].v.enab.v&&x[n].v.Algn.v)Z=!0;if(Z)h=h.Ue(g.pT(v,!1));var Y=lb.aIS(this.add.lmfx,v,t);
h.offset(Y.x,Y.y);h.r+=Y.r;h.$+=Y.$}return h};jn.prototype.s4=function(){if(this.Kz())f.R2(this);var d=this._B();
if(d)d.s4()};jn.prototype.b=function(){var d=new jn;d.S=this.S.b();d.buffer=this.buffer.slice(0);d.uF=this.uF;
d.JS=this.JS;d.cD=this.cD;d.Xw=this.Xw;d.name=this.name;d._F=this._F.slice(0);d.Y=f.v(this.Y);if(this.AU)d.AU=this.AU.b();
if(this._k)d._k=this._k.b();for(var v in this.add)d.add[v]=kY.b(v,this.add[v]);return d};jn.prototype.XJ=function(d){var v=this;
if(v.add.TySh)delete v.add.TySh;if(v.add.SoLd){var t=this.Uq(d,this.buffer,this.S);if(t){this.buffer=t.sN;
this.S=t.S;this.uM()}delete v.add.SoLd}if(v.add.SoCo||v.add.GdFl||v.add.PtFl){if(v.add.vogk)delete v.add.vogk;
if(v.add.SoCo)delete v.add.SoCo;if(v.add.GdFl)delete v.add.GdFl;if(v.add.PtFl)delete v.add.PtFl;if(v.add.vmsk){console.log(v._k,v.AU);
delete v.add.vmsk;if(v._k==null&&v.AU)delete v.AU;else if(v._k!=null&&v.AU!=null){v.AU=v._k;delete v._k}}}if(!v.h5()&&cV.get(v.add)==null&&!this.Kz())this.Xw-=16};
jn.prototype.Ta=function(d){var v=255,t=0;if(d==2){var h=this.add.SoLd.filterFX.v;if(h.filterMaskDensity)v=h.filterMaskDensity.v;
if(h.filterMaskFeather)t=h.filterMaskFeather.v}else{var X=d==0?this._B():this.add.vmsk;v=X.wb;t=X.mO}return{Bb:d,LP:v,sP:t}};
jn.prototype.awG=function(d){if(d.Bb==2){var v=this.add.SoLd.filterFX.v;if(d.LP==255)delete v.filterMaskDensity;
else v.filterMaskDensity={t:"long",v:d.LP};if(d.sP==0)delete v.filterMaskFeather;else v.filterMaskFeather={t:"doub",v:d.sP};
this.uM()}else{var t=d.Bb==0?this._B():this.add.vmsk;t.wb=d.LP;t.mO=d.sP;t.vF=!0}};jn.prototype.bB=function(){var d=this,v=d.add.vmsk;
if(v==null)return;d.add.vogk=f._5.ayv(v.D)};jn.bB=function(d){var v=[],t=f.t.HR(d);for(var h=0;h<t;h++)v.push(f._5.sS());
return v};var f$={K_:0,fG:1,wM:2,Xr:3};jn.Ks=function(d){this.name="Mask";this.ak=!1;this.EJ={C:255,L:0,X:0};
this.TF=50;this.tJ=0;this.color=255;this.az=!0;this.isEnabled=!0;this.Ku=!1;this.wb=255;this.mO=0;this.S=new iW;
this.N=f.m(0,d);this.bW=null;this.agk=null;this.vF=!0};jn.Ks.prototype.Sn=function(d){if(!this.isEnabled)return d;
var v=new jn.Ks;v.color=Math.round(this.pq()*d.pq()/255);if(this.pq()==0&&d.pq()==0)v.S=this.pT().hL(d.pT());
else if(d.pq()==0)v.S=d.pT().b();else if(this.pq()==0)v.S=this.pT().b();else v.S=this.pT().Ue(d.pT());
v.N=this.NN(v.S);v.wb=255;v.mO=0;var t=d.NN(v.S);f.afB(t,v.S,v.N,v.S);return v};jn.Ks.prototype.pT=function(){if(this.mO==0)return this.S;
var d=Math.ceil(this.mO*2.2),v=this.S.b();if(v.y==0){if(v.x==0)v.r+=d;else v.o2(d,0);v.$+=d}else v.o2(d,d);
return v};jn.Ks.prototype.Nr=function(){if(this.mO==0&&this.wb==255)return this.N;if(this.mO==0){var d=this.N.slice(0);
f.zJ(d);f.h0(d,this.wb/255);f.zJ(d);return d}var v=this.pT(),d=this.bg(v);f.C2.Hd(d,v,this.mO);if(this.wb!=255){f.zJ(d);
f.h0(d,this.wb/255);f.zJ(d)}return d};jn.Ks.prototype.pq=function(){return Math.round(255-(255-this.color)*(this.wb/255))};
jn.Ks.prototype.extend=function(d){f.extend(this,d,this.color/255)};jn.Ks.prototype.s4=function(){if(this.color==255)f.zJ(this.N);
f.s4(this);if(this.color==255)f.zJ(this.N)};jn.Ks.prototype.b=function(){var d=new jn.Ks;d.name=this.name;
d.ak=this.ak;d.EJ=this.EJ;d.TF=this.TF;d.tJ=this.tJ;d.color=this.color;d.az=this.az;d.isEnabled=this.isEnabled;
d.Ku=this.Ku;d.wb=this.wb;d.mO=this.mO;d.S=this.S.b();d.N=this.N.slice(0);return d};jn.Ks.prototype.bg=function(d,v){var t=f.UJ(this.N);
if(v==null)v=f.m(d.k(),t);v.fill(this.color*f.ay(t)/255);f.Qb(this.N,this.S,v,d);return v};jn.Ks.prototype.NN=function(d,v){var t=this.pT(),h=this.Nr(),X=f.UJ(h);
if(v==null)v=f.m(d.k(),X);v.fill(this.pq()*f.ay(X)/255);f.Qb(h,t,v,d);return v};jn.rz=function(){this.az=!0;
this.isEnabled=!0;this.wb=255;this.mO=0;this.Vk=0;this.Dk=1;this.D=[{e:6},{e:8,all:0}];this.Pd=[-3,-3];
this.GJ=!1;this._k=null;this.vF=!0;this.l=[];this.aD=[]};jn.rz.prototype.adt=function(d){var v=jn.rz.Pf(this.D),t=new gi;
if(d)t.rotate(-this.Vk);f.t.kh(v,t);return f.t.ft(v)};jn.rz.prototype.Fy=function(){var d=this.adt(!0),v=f.Q.Ya(d).I,t=new gi;
t.rotate(this.Vk);f.Q.M(v,t,v);return v};jn.rz.prototype.offset=function(d,v){this._k=this._B();f.t.kh(this.D,new gi(1,0,0,1,d,v));
this._k.S.offset(d,v)};jn.rz.prototype._B=function(d,v,t){if(!this.vF&&this._k&&d==null){this._k.isEnabled=this.isEnabled;
return this._k}var h=this.D,X=f.t.ft(h),g="strokeStyleLineAlignment",x="strokeStyleLineJoinType";if(X.k()>2e4*2e4)X=new iW(0,0,100,100);
if(d&&d[g].v[g]!="strokeStyleAlignInside"){var Z=1;if(d[x].v[x]=="strokeStyleMiterJoin"){var Y=f.t.ayy(h),a=Y/2,z=Math.sin(a),p=Math.cos(a);
p/=z;z=1;var Z=Math.sqrt(p*p+z*z);if(isNaN(Z)||Z<1)Z=1}Z*=d[g].v[g]=="strokeStyleAlignOutside"?1:.5;
var U=d.strokeStyleLineWidth.v.val,l=Math.ceil(U*Z);l=Math.min(l,600,U*20);X.o2(l,l)}X=f.Q.kI(X);var L=new jn.Ks;
L.color=f.t.Ft(h)?0:255;L.az=this.az;L.isEnabled=this.isEnabled;L.Ku=!0;L.S=X;L.wb=this.wb;L.mO=this.mO;
L.N=f.m(L.S.k());if(!X.HP()&&t!=!0){f.t.a3t(h,L.N,L.S,d)}if(v!=null&&v!=8)L.N=f.OO(L.N,v);if(d==null){this._k=L;
this.vF=!1}return L};jn.rz.prototype.b=function(){var d=new jn.rz;d.az=this.az;d.isEnabled=this.isEnabled;
d.wb=this.wb;d.mO=this.mO;d.Vk=this.Vk;d.Dk=this.Dk;d.D=jn.rz.Pf(this.D);d.Pd=this.Pd.slice(0);d.GJ=this.GJ;
d.l=this.l.slice(0);d.aD=this.aD.slice(0);return d};jn.rz.prototype.concat=function(d){var v=d.D.slice(2);
if(v.length==0)return;v[0].qG=3;this.D=this.D.concat(v)};jn.rz.Pf=function(d){var v=[];for(var n=0;n<d.length;
n++){var t=d[n];if(t.e>5||t.e==0||t.e==3)v.push(f.v(t));else v.push({e:t.e,dH:t.dH.b(),Z:t.Z.b(),KU:t.KU.b()})}return v};
jn.rz.apF=function(d,v,t){if(d.length!=v.length)return!1;for(var n=2;n<d.length;n++){var h=d[n],X=v[n];
if(h.e!=X.e)return!1;if(h.e==0||h.e==3){if(h.length!=X.length||!t&&h.qG!=X.qG)return!1}else if(!h.dH.fE(X.dH)||!h.Z.fE(X.Z)||!h.KU.fE(X.KU))return!1}return!0};
jn.rz.prototype.a7v=function(){var d=this.D;for(var n=3;n<d.length;n++)if(d[n].e==0||d[n].e==3)d[n].qG=-1};
jn.Tq=function(){this.e=null;this.uZ=2;this.tj=null;this.Ps="";this.Ci="";this.Cd="";this.open=0;this.raw=null;
this.Rc=null;this.a9d="none";this.Um=!1;this.u3=null;this.jk=null;this.afX=!1;this.Kw=null};jn.Tq.prototype.b=function(){var d=new jn.Tq;
d.e=this.e;d.uZ=this.uZ;d.tj=this.tj;d.Ps=this.Ps;d.Ci=this.Ci;d.Cd=this.Cd;d.open=this.open;d.raw=new Uint8Array(this.raw.buffer.slice(0));
return d};jn.Tq.prototype.jP=function(d,v,t,h,X){if(t==null)t="none";var g=this,x=b3.IF(g.raw.buffer),Z=x=="svg"||x=="pdf"||x=="ai";
if(g.Rc){var Y=v&&Z&&Math.max(g.Rc[1].r,g.Rc[1].$)<Math.max(v[0],v[1]);if(!Y&&t==this.a9d&&!g.Um)return}this.a9d=t;
if(!Z)d=0;if(x==null){alert("Unsupported format: "+B.o3(g.raw,0,4));return null}var a=b3.bV(x);if(x=="psd"&&j8==1){var z=e4.awM(g.raw)[0],p=new Uint8Array(z.data);
g.Rc=[p,z._S]}else if(a.e4){var U=new hc(name+(x=="psd"?"":"-"+x)+".psd"),p;a.CE(g.raw.buffer,U,v);var l=new iW(0,0,U.r,U.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(t)!=-1){var L=[];for(var n=0;n<U.U.length;
n++){var j=U.U[n],O=j.buffer;if(!j.S.fE(l)){O=f.m(l.k()*4);f.wH(j.buffer,j.S,O,l);console.log("resizing")}L.push(O)}p=f.m(l.k()*4);
f.stack.stack(L,p,t)}else{for(var n=0;n<U.U.length;n++)if(U.U[n].c5())U.U[n].tG(U);if(h&&U.Um){var F=ka.Or(U,h,X);
g.Um=!F;if(F)ka.Wm(U,h,X)}U.nA();U.uM();U.Yn();p=U.jP()}g.Rc=[p,l];g.u3=U.u3!=null&&U.u3!=0?U.u3:72;
if(U.yr())g.jk=U.yr()[0]}else if(a){var i=a.CE(g.raw.buffer)[0],$=i.depth;g.Rc=[$==16?new Uint16Array(i.data):new Uint8Array(i.data),i._S];
g.u3=i.u3!=null&&i.u3!=0?i.u3:72;g.jk=i.jk}if(g.Rc){g.Kw=g.Rc[1].b();if(d==1){var O=g.Rc[0],H=g.Rc[1],b=f.m(H.k());
f.Po(O,b,3);var r=f.FY(b,H),W=f.m(r.k()*4);f.wH(O,H,W,r);r.x=r.y=0;g.Rc=[W,r]}else{var O=g.Rc[0],H=g.Rc[1],r=f.mZ(O,H,2,null,4278190080);
if(r.HP())r=new iW(0,0,1,1);while((r.x&15)!=0){r.x--;r.r++}while((r.y&15)!=0){r.y--;r.$++}if(!r.fE(H)&&r.k()/H.k()<.7){var W=f.m(r.k()*4,f.UJ(O));
f.wH(O,H,W,r);g.Rc=[W,r]}}f.vD(g.Rc)}};jn.jl="0";jn.o1="2";jn.kc="2.5";jn.Zh="2.6";jn.fD="3";jn.El="4";
jn.Cf="4.4";jn.gC="4.5";jn.a0_="4.6";jn.Ng="5";jn.j0="5.5";jn.eC="6";jn.aha="7";jn.auT="8";jn.AX="9";
jn.ahb="9.2";jn.Wa="9.3";jn.IC="9.4";jn.aLg="9.5";jn.Ex="9.6";jn.gu="10";jn._c="11";jn.V7="12";jn.ks="13";
jn.yf="13.1";jn.a8b="13.2";jn.vz="13.3";jn.nE="13.4";jn.RW="14";jn.i8="14.1";jn.Nj="14.2";jn.nn="14.3";
jn.Du="17";jn.Yz="18";jn.aMC="19";jn.PU="19.5";jn.KQ="19.6";jn.QO="19.7";jn.VY="19.8";jn.cW="20";jn.Q3="21";
jn.rD="21.2";jn.YJ="21.3";jn.dS="21.5";jn.vT="22";jn.un="22.5";jn.kJ="23";jn.aFt="24";jn.yF="25";jn.aN$="26";
jn.aGh="27";jn.QT="28";jn.lT="29";jn.h$="30";jn.BV="31";jn.XK="32";jn.aoW="32.5";jn.yC="33";jn.Ts="34";
jn.mj="35";jn.F$="36";jn.DD="36.5";jn.DL="37";jn.pi="37.5";jn.avS="37.6";jn.zG="38";jn.Rm="38.5";jn.iI="38.6";
jn.Zv="39";jn.WO="40";jn.by="41";jn.acQ="42";jn.po="50";jn.FC="51";jn.qV="52";jn.qH="53";jn.IX="54";
jn.a0I="54.5";jn.SJ="54.6";jn.a6V="54.7";jn.Ai="54.8";jn.Gh="55";jn.oX="55.5";jn.$z="56";jn.g8="57";
jn.L3="58";jn.ex="59";jn.kt="60";function fV(){this.depth=0;this.index=-1;this.B=null;this.aIl=null;
this.ol=-1;this.children=null;this.parent=null;this.B$=null}fV.prototype.a0$=function(d,v){if(this.depth!=0)d.push(this.B.getName());
if(this.children)for(var n=0;n<this.children.length;n++)this.children[n].a0$(d,v);if(d.length>v.k1.length)v.k1=d.slice(0);
if(this.depth!=0)d.pop()};fV.prototype.a0H=function(){var d=0;if(this.B.h5()){for(var n=0;n<this.children.length;
n++)d+=this.children[n].a0H()}else if(this.B.buffer)d+=this.B.buffer.length;return d};fV.prototype.Ty=function(d){var v=this.B$[d];
return this.B$[d]};fV.prototype.Mz=function(d,v){var t=this.B;if(!t.ZC()||t.BL(2)||t.BL(31))return null;
if(t.Ki()){var h=t.AU.S.GD(d);if(!h&&t.AU.color==0)return}if(t.h5()){for(var n=0;n<this.children.length;
n++){var bW=this.children[n];bW.Mz(d,v)}}else if(j8==1){var X=t.lw();if(d.GD(f.Q.mo(X))&&v.indexOf(this.index)==-1)v.push(this.index)}else if(t.S.GD(d))v.push(this.index)};
fV.prototype.x6=function(d,v){var t=this.B;if(!t.ZC()||t.BL(2)||t.BL(31))return null;if(t.Ki()){if(t.AU.S.QQ(d)){if(!f.x6(d,t.AU.N,t.AU.S))return null}else if(t.AU.color==0)return null}if(t.h5()){if(t.add.artb&&!t.x1().QQ(d))return null;
for(var n=this.children.length-1;n>=0;n--){var bW=this.children[n],h=bW.x6(d,v);if(h&&v==null)return h}return null}else if(j8==1){if(t.add.vmsk){var X=t.add.vstk,g=!X.fillEnabled.v&&!t.ej,x=X.strokeStyleLineWidth.v.val*.5,Z=f.t.x6(t.add.vmsk.D,d,g,x);
return Z.ja==-1?null:this}var Y=t.lw();if(bJ.PC(Y,d.x,d.y))return this}else if(t.add.TySh&&t.S.QQ(d)||f.aru(d,t.buffer,t.S)){if(v==null)return this;
else v.push(this.index)}return null};fV.prototype.a7q=function(d){var v=this.B;if(!v.ZC()||v.BL(2)||v.BL(31))return null;
var t=v.add.vmsk;if(t&&t.isEnabled){var h=f.t.x6(t.D,d).ja;if(h!=-1)return{aga:this,aBU:h}}if(v.h5()){if(v.add.artb&&!v.x1().QQ(d))return null;
for(var n=this.children.length-1;n>=0;n--){var bW=this.children[n],X=bW.a7q(d);if(X)return X}return null}return null};
fV.prototype.ub=function(d,v){d.push(this.index);if(this.B.h5()){d.push(this.ol);if(v)if(this.B.VL==1&&this.B._B().az==!1)return;
for(var n=0;n<this.children.length;n++)this.children[n].ub(d)}};fV.HI=function(){var d=document.createElement("canvas");
return d.getContext("2d")};fV.aM$=function(d,v){var t,h;if(d.r>d.$){t=Math.floor(v);h=Math.floor(v*(d.$/d.r))}else if(d.r==0&&d.$==0){t=h=v}else{t=Math.floor(v*(d.r/d.$));
h=Math.floor(v)}return new cK(t,h)};fV.kr=32;fV.Wd=1;fV.R$=1;fV.Zl=function(d){if(d==200)return"#666666";
if(d==300)return"#ffffff";if(d==500)return"#cccccc";if(d==501)return"#999999";var v="#0080ff #00ffff #4000ff #ff8000 #ffc000 #ffff00 #00dd00 #c000ff #ff4000 #ff0000 #0000ff #ff00ff #80ff00 #00ff80 #8000ff #ff0080".split(" "),t=parseInt(v[d>>>3].slice(1),16),h=0,X=d&7;
for(var n=0;n<3;n++){var g=t>>>n*8&255;if(X<4)g=Math.round((1-(X-0)/6)*g+(X-0)/6*255);else g=Math.round((1-(X-3)/6)*g+(X-3)/6*0);
h|=g<<n*8}return"#"+h.toString(16).padStart(6,"0")};fV.prototype.tp=function(d,v,t){var h=fV.Wd,X=this.B;
if(X.h5()&&X.add.artb!=null)v=X.x1();var g=h==0?X.S:v;if(g.HP()||X.add.TySh)g=v;var x=fV.kr*A.LY(),Z=fV.aM$(g,x),Y=Z.x,a=Z.y,z=fV.aM$(v,x),p=cV.get(X.add)!=null;
if(X.c5()&&X.add.vmsk==null||X.add.TySh||p)Y=a=Math.max(a,16);else if(X.h5()){Y=a=Math.round(18*A.LY())}else{Y=Math.max(Y,6);
a=Math.max(a,6)}if(t&&X.ur==null){X.ur=fV.HI();if(j8==0){X.a4D=fV.HI();X.aJ$=fV.HI();X.aMG=fV.HI()}}var U=X.c5()&&X.add.vmsk;
if(j8==2&&!X.h5()&&X.ur){f.Kr.hf(X.ur,Y,a);X.ur.fillStyle=fV.Zl(X.Y.jJ);X.ur.fillRect(0,0,300,300)}else if(j8==1&&!X.h5()){if(t)f.Kr.akF(X.ur,Y,a,d,this)}else if(U){if(t&&X.add.vstk)f.Kr.rn(X.ur,Y,a,g,X.buffer,X.S,!1,null,!X.add.vstk.fillEnabled.v&&!X.add.vstk.strokeEnabled.v);
if(t)f.Kr.akm(X.ur,Y,a)}else if(X.add.TySh){if(t)f.Kr.agh(X.ur,a,a,X.add.TySh)}else if(X.add.SoCo){if(t)f.Kr.ac$(X.ur,a,a,X.add.SoCo)}else if(X.add.GdFl){if(t)f.Kr.aKO(X.ur,a,a,X.add.GdFl)}else if(X.add.PtFl){if(t)f.Kr.a9t(X.ur,a,a,X.add.PtFl,d)}else if(p){if(t)f.Kr.a2O(X.ur,a,a,X.add)}else if(X.add.SoLd){if(t)f.Kr.rn(X.ur,Y,a,g,X.buffer,X.S,!1);
if(t)f.Kr.arU(X.ur,Y,a,X.add.SoLd)}else if(X.h5()){}else{if(t){if(X.Kz())f.Kr.rn(X.ur,Y,a,g,X.buffer,X.S,!1);
else{f.Kr.a11(X.ur,a,a)}}}var l=X._B();if(t){if(l)f.Kr.zI(X.a4D,z.x,z.y,v,l);if(X.l4()&&X.Ip(d)&&X.Ip(d).AU){var L=X.Ip(d).AU;
f.Kr.zI(X.aMG,z.x,z.y,v,L)}if(!U&&X.add.vmsk){f.Kr.zI(X.aJ$,z.x,z.y,v,X.add.vmsk._B(),!0)}}if(l||X.add.vmsk)a=Math.max(a,z.y);
X.aDi=Math.max(a,16);if(t!=!0&&X.h5()&&(X.add.lsct==f$.fG||d.U.length<4e3))for(var n=0;n<this.children.length;
n++)this.children[n].tp(d,v)};fV.prototype.a5V=function(d,v,t,h){this.depth=t;var X=d[v];if(h==null)h=[];
this.B$=h;if(X.add.lsct==f$.Xr){this.aIl=X;this.ol=v-1;this.children=[];var n=v+1;while(!0){var g=d[n];
if(g==null)console.log(n,d.length);if(g.add.lsct==f$.fG||g.add.lsct==f$.wM){if(X.add.lyid==g.add.lyid)X.add.lyid+=16777215;
this.B=g;this.index=n-1;h[this.index]=this;h[v-1]=this;break}var x=new fV;x.parent=this;n=x.a5V(d,n,t+1,h);
this.children.push(x)}return n+1}else{this.B=X;this.index=v-1;h[this.index]=this;return v+1}};fV.prototype.T5=function(d,v,t,h){var X=this.Ty(t),g=d;
while(X.parent!=null){g=X.B.awL(g,v,h);X=X.parent}return g};fV.prototype.pT=function(d,v){var t=this.B,h=new iW;
if(!t.ZC())return h;var X=t._B();if(t.h5())for(var n=0;n<this.children.length;n++){var g=this.children[n].pT(d,!0);
h=h.Ue(g)}else if(cV.get(t.add)!=null)h=t.Ki()&&t.AU.color==0?t.AU.pT().b():new iW(0,0,d.r,d.$);else if(t.c5()&&t.add.vmsk&&t.add.vmsk.isEnabled&&t.add.vstk){h=t.S.b()}else if(t.c5()&&X&&X.isEnabled&&X.pq()!=0)h=new iW(0,0,d.r,d.$);
else{h=t.pT(d,!1,!0);if(t.add.vmsk)h=f.Q.kI(h)}return v?t.awL(h,d):h};fV.Yu={delete:function(d){if(d&&d.r)d.delete()},m:function(d,v){return fq.Dz?new fq.lh(d,v):f.m(d*v*4)},aij:function(d,v,t){var h=v.r,X=v.$;
if(d==null||fq.Dz&&(d.r!=h||d.$!=X||d.depth!=t)||!fq.Dz&&(d.length!=h*X*4||f.UJ(d)!=t)){fV.Yu.delete(d);
return fq.Dz?new fq.lh(h,X,t):f.m(h*X*4,t)}else return d},Qb:function(d,v,t,h,X){(fq.Dz?fq.ua:f.wH)(d,v,t,h,X)},cI:function(d,v,t,h,X,g,x,Z,n,Y,a){(fq.Dz?fq.V.je:f.V.cI)(d,v,t,h,X,g,x,Z,n,Y,a)},aA3:function(d,v,t,h,X,g,x,Z){var Y=t.b(),a=X.r,z=X.$,p=Y.x,U=Y.y,l=Y.x+Y.r>a?-1:0,L=Y.x<0?2:1,j=Y.y+Y.$>z?-1:0,O=Y.y<0?2:1;
for(var F=j;F<O;F++)for(var i=l;i<L;i++){Y.x=p+i*a;Y.y=U+F*z;fV.Yu.Qe(d,v,Y,h,X,g,x,Z)}},Qe:function(d,v,t,h,X,g,x,Z){if(fq.Dz)fq.V.aIr(d,v,t,h,X,g,x,Z);
else f.V.Qe(d,v,t,h,X,g,x,Z)},BE:function(d,v){if(fq.Dz){fq.Bg(d);fq.fv(v)}else f.pl(d,v)},hH:function(d){if(fq.Dz){fq.Bg(d);
fq.hH()}else{var v=f.UJ(d),t=v==8?255:v==16?65535:1;if(v==8)f.Xq(d,1);else for(var n=0;n<d.length;n+=4)d[n+3]=t}},a4u:function(d,v,t,h,X){if(fq.Dz){fq.V.je(null,null,h,X,d,v,t,X,1,!1)}else{if(t==255)f.Qc(d,v,h,X);
else{var g=f.m(v.k(),f.UJ(d));f.h1(h,X,g,v);f.yK(d,g);f.Xq(h,0);f.aID(g,v,h,X)}}},Z1:function(d,v,t,h,X){if(fq.Dz)fq.V.je(null,null,t,h,d,v,0,X,1,!1);
else f.Z1(d,v,t,h,X)}};fV.prototype.cw=function(d,v,t,h,X,g,x){var Z=typeof g=="number";if(!this.B.h5()&&(Z&&this.index>g||!Z&&g.indexOf(this.index)==-1)){return}var Y=this.B,a=lb.Pa(Y),z=fV.Yu,p=d.depth;
if(p==null)p=f.UJ(d);var U=Y.c5()?Y._B():Y.AU;if(!Y.ZC())return;if(Y.Ki()&&U.S.HP()&&U.pq()==0){return}if(Y.add.vstk==null&&this.pT(h,!1).HP()){return}if(Y.c5()&&Y.S.HP())return;
var l=this.pT(h,!0).hL(t);if(!v.fE(t)&&!t.GD(l))return;if(Y.h5()&&Y.add.artb){var L=Y.x1();t=t.hL(L)}var j=fV.ak6(Y,X,a);
if(!j){this.a1n(d,v,t,h,X,g,x);return}var O=x.$N(l,p),F=O[0],i=O[1];z.Qb(d,v,F,i,t);this.a1n(F,i,t,h,X,g,x);
z.cI(F,i,d,v,null,null,0,t,Y.JS/255,Y.uF=="diss",a.jK);x.v_(F)};fV.ak6=function(d,v,t){if(t.jK[0]*t.jK[1]*t.jK[2]==0)return!0;
return d.JS!=255&&(v.length!=0||d.h5()||d.sQ())};fV.prototype.a1n=function(d,v,t,h,X,g,x){var Z=this.B,Y=lb.Pa(Z),a=cV.get(Z.add)!=null,z=fV.Yu,p=d.depth,y=null,c=null;
if(p==null)p=f.UJ(d);var U=fV.ak6(Z,X,Y),l=U?1:Z.JS/255,L=Z.c5()?Z._B():Z.AU,j=Z.h5()&&Y.vU==null&&(Z.uF=="pass"||Z.add.artb!=null)&&!(X.length>0||Y.fill!=1||Z.sQ()),O=!Z.h5()&&!a&&!Z.sQ()&&X.length==0,F=a&&!Z.sQ()&&X.length==0;
if(j||O||F){var i=d,$=v;if(Z.Ki()){var H=x.$N(this.pT(h,!1),p);i=H[0];$=H[1];z.Qb(d,v,i,$)}if(j)this.hc(i,$,t,h,g,x);
if(O)z.Qe(Z.uF,Z.aO7(h),Z.S,i,$,t,l,Y);if(F){var b=Z.Ki()&&L.pq()==0?L.pT().b():$.b(),H=x.$N(b,p),r=H[0],W=H[1];
this.aKi(i,$,r,W,Z.add);Y.CZ=!0;z.Qe(Z.uF,r,W,i,$,t,l,Y);x.v_(r)}if(Z.Ki()){z.cI(i,$,d,v,Z.abW(),L.pT(),L.pq(),t,1,Z.uF=="diss");
x.v_(i)}Z.nG.axP();return}var V=Z.h5()&&Z.uF=="pass"&&(X.length>0||Y.fill!=1||Z.sQ()),b=Z.S;if(Z.h5()){b=this.pT(h,!1);
if(b.k()>t.k())b=b.hL(new iW(0,0,h.r,h.$));c=x.sK(b,p);z.BE(c,0);this.hc(c,b,Z.sQ()?b:b.hL(t),h,g,x)}else if(a){b=Z.Ki()&&L.pq()==0?L.pT().b():v.b()}else{b=Z.S;
y=Z.aO7(h)}var S=x.sK(b,p);if(Z.h5()){z.Qb(c,b,S,b,Z.sQ()?b:b.hL(t));if(!V)x.v_(c)}else if(a){z.BE(S,4294967295)}else{z.Qb(y,b,S,b)}if(Z.Ki())z.a4u(Z.abW(),L.pT(),L.pq(),S,b);
if(Z.sQ())if(Z.nG.FV||Z.nG.sj||Z.nG.nS!=fq.Dz||Z.nG.bh||Z.h5()){var C=Z.add.vmsk,K=f.m(b.k(),p);if(lb.a6r(Z.add.lmfx)){if(fq.Dz){if(!Z.h5()&&Z._B()==null&&Z.S.fE(b)&&C==null)f.Po(Z.buffer,K,3);
else{var T=f.m(b.k()*4,p);S.get(T);f.Po(T,K,3)}}else f.Po(S,K,3)}if(Z.nG.sj||Z.nG.nS!=fq.Dz||!f.fE(K,Z.nG.ql)){var D=null;
if(Z.c5()&&C&&C.isEnabled&&C._B().color==0)D=C._B().S;lb.asT(Z.nG.Fw);Z.nG.Fw=lb.anb(K,b,Z.add.lmfx,Z.add.fxrp,h,D);
Z.nG.ql=K;Z.nG.aoF=b}}if(Z.sQ())lb.a7F(Z.add.lmfx,Z.nG.Fw,b,d,v,t);var H=x.$N(b,p),N=H[0],G=H[1];if(Z.h5()){z.BE(N,0);
if(Z.uF=="pass")z.Qb(d,v,N,G);if(V){z.Z1(c,b,N,G,Z.sQ()?b:b.hL(t));x.v_(c)}this.hc(N,G,t,h,g,x)}else if(a){this.aKi(d,v,N,G,Z.add)}else{z.Qb(y,b,N,G,t)}z.hH(N);
for(var n=0;n<X.length;n++)X[n].cw(N,G,t,h,[],g,x);var H=x.$N(b,p),s=H[0],Q=H[1];z.Qb(d,v,s,Q,t);if(a)Y.CZ=!0;
z.Qe(Z.uF=="pass"?"norm":Z.uF,N,G,s,Q,t,1,Y);x.v_(N);if(Z.sQ()){var q=Z.nG.Fw.e.FrFX,R=null,m=null,E=null,e=null,w=null;
if(q.length!=0){R=q[0];for(var n=0;n<q.length;n++)if(q[n].Bu.r>R.Bu.r)R=q[n];var H=x.$N(R.Bu,p);m=H[0];
E=H[1];var H=x.$N(R.Bu,p);e=H[0];w=H[1];z.Qb(d,v,m,E,t)}lb.aIw(Z.add.lmfx,Z.nG.Fw,b,d,v,t,s,Q,m,E,e,w);
x.v_(m);x.v_(e)}z.cI(s,Q,d,v,S,b,0,t,1,Z.uF=="diss");Z.nG.axP();x.v_(S);x.v_(s)};fV.prototype.aKi=function(d,v,t,h,X){var g=cV.get(X),x;
if(g)x=cV.MM(g,X[g]);var Z=f.UJ(d),Y=fV.Yu;if(!(fq.Dz&&v.fE(h)))Y.Qb(d,v,t,h);if(x){if(fq.Dz){var a=h.b();
a.x=a.y=0;if(v.fE(h)){fq.Bg(t,a);cV.$R(x,d.gL,a)}else{fq.Bg(t,a);t.f4(a);cV.$R(x,t.XR,a)}}else cV.yh(x,t,t,h)}return t};
fV.prototype.hc=function(d,v,t,h,X,g){var x=v.r,Z=v.$,Y=v.x,a=v.y,bW=t,z=bW.x,p=bW.y,U=-1,l=-1,L=2,j=2,F=!1;
if(!h.Dw){U=l=0;L=j=1}var O=this.children;for(var n=0;n<O.length;n++){if(!O[n].B.cD)F=!0;if(!F)continue;
var i=cV.get(O[n].B.add)!=null,$=[];for(var H=n+1;H<O.length;H++)if(O[H].B.cD)$.push(O[H]);else break;
for(var b=l;b<j;b++)for(var r=U;r<L;r++){v.x=Y+r*x;v.y=a+b*Z;bW.x=z+r*x;bW.y=p+b*Z;if((r!=0||b!=0)&&i)continue;
O[n].cw(d,v,bW,h,$,X,g)}n+=$.length}v.x=Y;v.y=a;bW.x=z;bW.y=p};(function(){fV.prototype.ZD=function(X,g,x,Z){var Y=this.B,a=Y.add.lmfx,z=Y.add.TySh,p=Y.add.SoLd,l=null;
if(!Y.ZC())return;g.save();var U=Y.JS/255*(Y.add.iOpa?Y.add.iOpa/255:1);g.globalAlpha*=U;g.globalCompositeOperation=gL.AJ[gL.iX.indexOf(Y.uF)];
var L=X.add.prvw==0;if(L){g.lineWidth=1/X.z.OI;g.fillStyle="black"}var j=lb.ay9(Y,!1);if(j){l=g;var O=document.createElement("canvas");
O.width=g.canvas.width;O.height=g.canvas.height;var F=g.getTransform();g=O.getContext("2d");g.setTransform(F.a,F.b,F.c,F.d,F.e,F.f)}if(Y.h5()){var i=this.children,$=null;
for(var n=0;n<i.length;n++)if(i[n].B.ej&&i[n].B.ZC())$=i[n].B;if($&&!L){g.beginPath();v($,g);g.clip()}for(var n=0;
n<i.length;n++)i[n].ZD(X,g,x,Z)}else if(z){var H=!0;if(Y.nG.path==null){H=ka.Ns(z,x.FP);if(H)ka.Vs(Y,x.FP,!1)}if(H){{var b=z.M;
g.save();d(g,b);var r=Y.nG.path;if(L){var W=r.s2.slice(0);for(var n=0;n<W.length;n++)if(W[n][0]=="#")W[n]="#000000";
r={s2:W,I:r.I}}ka.alB(r,g);g.restore()}}}else if(Y.c5()&&Y.add.vmsk&&(!Y.ej||L)){var V=Y.add.vmsk;g.beginPath();
v(Y,g);if(L){g.stroke()}else{var y=Y.add.vstl;if(y.W4.length!=0){var c=t(y.W4,V.D,X,g);if(c[1]){g.save();
d(g,c[1])}g.fillStyle=c[0];g.fill(["nonzero","evenodd"][V.Dk]);if(c[1]){g.restore()}}if(y.rA.length!=0){f.t.hd(y,g);
g.strokeStyle=t(y.rA,V.D,X,g,!0)[0];g.stroke()}}}else if(p){var S=p.filterFX;if(S){var c=S.v.filterFXList.v;
for(var n=0;n<c.length;n++){var C=c[n].v;if(!C.enab.v)continue;var K=e0.A$(C);if(K=="GsnB"){g.filter="blur("+C.Fltr.v.Rds.v.val*X.z.OI+"px)"}}}var T=p.Idnt.v,D=X.Cq(T,p.Crop?p.Crop.v:null),b=f.G.V0(p),N=D.Rc;
if(L){var s=A.hZ.Q9(p.Trnf);g.moveTo(s[0],s[1]);for(var n=2;n<8;n+=2)g.lineTo(s[n],s[n+1]);g.closePath();
g.stroke()}else h(X,Y,g,b,N)}if(j){l.save();l.setTransform(1,0,0,1,0,0);l.drawImage(g.canvas,0,0);l.restore();
g=l}g.globalAlpha/=U;g.globalCompositeOperation="source-over";g.restore()};function d(X,g){X.transform(g.aX,g.X,g.Wp,g.r7,g.r2,g.pE)}function v(X,g){var x=X.add.vmsk.D;
for(var n=0;n<x.length;n++){if(x[n].e>5)continue;var Z=x[n].length;if(Z==0)continue;var Y=x[n].e==3;
f.t.aIK(g,x,n+1,Z,0,0,Y);if(!Y)g.closePath();n+=Z}}function t(X,g,x,Z,Y){if(X.length==3)return[CSS.aaI(X),null];
else if(X.length==2){var a=x.lW[X[0]],z=1,p=a.at2;if(p==null){var U=document.createElement("canvas"),l=U.getContext("2d");
U.width=Math.round(a.r*z);U.height=Math.round(a.$*z);l.scale(z,z);a.root.ZD(a,l,{},null);p=a.at2=Z.createPattern(U,"repeat")}var L=new gi(1/z,0,0,1/z,0,0),j=x.u3/72,O=new gi;
O.concat(L);var F=X[1][1];O.concat(new gi(F[0],F[1],F[2],F[3],j*F[4],j*F[5]));O.scale(1,-1);return[p,O]}else{var i=X[0],$=X[1],H=X[2],b=-H[5]*Math.PI/180,r=eT.hN(X,g),W,L;
if(i==0){var V=[0,0,1,0];f.Q.M(V,r,V);W=Z.createLinearGradient(V[0],V[1],V[2],V[3])}else{var V=[Math.cos(b)*H[6],Math.sin(b)*H[6],0,0,1,0],y=Math.abs(r.aX*r.X+r.Wp*r.r7)<1e-9,c=Math.abs(r.aX*r.aX+r.X*r.X-r.Wp*r.Wp-r.r7*r.r7)<1e-9,S=y&&c;
if(S||Y){f.Q.M(V,r,V);var C=V[4]-V[2],K=V[5]-V[3];W=Z.createRadialGradient(V[0],V[1],0,V[2],V[3],Math.sqrt(C*C+K*K))}else{W=Z.createRadialGradient(V[0],V[1],0,0,0,1);
L=r}}f.iF.a4E(W,$);return[W,L]}}function h(X,g,x,Z,Y){if(Z==null)Z=new gi;var a=g.buffer,z=g.S;if(Y){var p=Z.Mk()*X.z.OI,U=0;
while(1<<U/2<.5/p&&U+2<Y.length)U+=2;a=Y[U];z=Y[U+1];z=z.b();z.x=z.y=0;var p=1<<U/2,l=new gi;l.scale(p,p);
l.concat(Z);Z=l}if(z.HP())return;var L=document.createElement("canvas");L.width=z.r;L.height=z.$;var j=L.getContext("2d");
j.putImageData(new ImageData(new Uint8ClampedArray(a.buffer),z.r,z.$),0,0);x.transform(Z.aX,Z.X,Z.Wp,Z.r7,Z.r2,Z.pE);
x.drawImage(L,z.x,z.y);Z.zJ();x.transform(Z.aX,Z.X,Z.Wp,Z.r7,Z.r2,Z.pE)}}());function hc(d){this.P8="psd";
this.pM=!1;this.name=d;this.z1=8;this.depth=8;this.Va=-1;this.Dw=!1;this.QS=null;this.UI=null;this.II=null;
this.S3=null;this.r=0;this.$=0;this.buffer=null;this.U=[];this._t={};this.add={};this.Aw=[];this.lW={};
this.S1=[];this.at2=null;this.ES=4;this.ko=null;this.u3=72;this.VN={};this.l=[];this.MQ=[];this.CB=!1;
this.Wc=[];this.ga=[];this.S5=[hc.$$("Work Path")];this.v1=-1;this.lE=[];this.so=null;this.cc={classID:"CompList",list:{t:"VlLs",v:[]}};
this.ZR=null;this.uB=[];this.a1=[];this.YD=[];this.Y={BP:960,VC:120,Nn:!1,AV:[4,4]};this.root=null;this.SR=null;
this.Um=!1;this.aw1=!1;this.a07=!1;this.aD8=!1;this.B6=!1;this.QW=!1;this.zs=!1;this.Ir=!1;this.bU=!1;
this.oZ=!1;this.FV=null;this.a7K=null;this.p=null;this.gM=[];this.Cv=[];this.W={gq:{},ag:[],ZM:[],QL:[],N8:[],_r:[],sG:null,IJ:null,gA:null,jC:null,ei:null,O1:null,kp:null,jM:null,E9:[],NX:[],Gn:null};
this.history=[new bd([1,0],null)];this.UG=0;this.QJ=0;this.adb=0;this.aoC=0;this.auf=Date.now();this.l2=null;
this.OB=!1;this.z=new co(this);this.gP=null;this.a6I=null}hc.prototype.qi=function(d){var v=this,t=v.a6B,h=null,X,x=!1;
if(d&&t==null)return;var g=new iW(0,0,v.r,v.$);if(this.fi(!1))h=v.U[v.l[0]];if(d)h=null;if(d)console.log("clearing");
if(t&&t!=h){X=t.S;t.s4();if(!X.fE(t.S)){t.uM();if(x)console.log("compressing",t.getName())}}if(h){X=h.S;
h.extend(g);if(!X.fE(h.S)){h.uM();if(x)console.log("extending",h.getName())}}this.a6B=h};hc.prototype.Ia=function(d){var v=this;
v.QJ=v.UG;v.adb=Date.now();v.QW=!0;if(d)this.auf=Date.now()};hc.prototype.aMd=function(){var d=this,v=d.add.artd;
return v!=null&&v.Cnt.v>1||d.add.arts&&d.add.arts.length>1};hc.prototype.m3=function(d){if(d){if(d.length==30240){this.m3(null);
return}this._t.r1039=d;var v=ICC.R(d.buffer),X=null,g=17,p,U;if(v==null||v.tags.desc==null){this.m3(null);
return}var t=v.header.spaceIn.toLowerCase(),h=JSON.stringify(v.tags.desc).toLowerCase();try{X=ICC.U.profileName(v)}catch(cQ){}if(t!="rgb "||X==null||h.indexOf("srgb")!=-1&&h.indexOf("p3")==-1&&this.depth!=32||h.indexOf("apple wide color sharing profile")!=-1||h.indexOf("apple poppy output profile")!=-1||t=="rgb "&&this.add.fcmy==1){this.m3(null);
return}console.log("We got an ICC profile!",v,X);try{var x=ICC.U.sampleLUT(v,g)}catch(cQ){this.m3(null);
return}var Z=f.gV("rgbToRgbC"),Y=Z[2],a=Z[3],z=hc.a6H(x,a,Y);if(fq.Dz){p=new fq.lh(g,g*g,fq.FL());p.set(ICC.U.lutToRGBA32(x,g));
U=new fq.lh(g,g*g,fq.FL());U.set(ICC.U.lutToRGBA32(z,g))}this.gP=[d,v,g,x,p,z,U]}else{delete this._t.r1039;
this.gP=null}};hc.a6H=function(d,v,t){var h=d.slice(0),X=f.m(4,32);for(var n=0;n<d.length;n+=3){X[0]=d[n];
X[1]=d[n+1];X[2]=d[n+2];ICC.U.applyLUT(v,t,X,X);h[n]=X[0];h[n+1]=X[1];h[n+2]=X[2]}return h};hc.prototype.yr=function(){return this.gP};
hc.prototype.UR=function(){if(this.gP)return this.gP;if(this.add.fcmy==1){if(this.a6I==null){var d=f.gV("rgbToRgbC"),v=d[2],t=d[3],h;
if(fq.Dz){h=new fq.lh(v,v*v,fq.FL());h.set(ICC.U.lutToRGBA32(t,v))}this.a6I=[null,null,v,null,null,t,h]}return this.a6I}};
hc.prototype.aD0=function(){var d=this.yr();if(d==null)return 0;var v=ICC.U.profileName(d[1]);if(v=="Adobe RGB (1998)")return 1;
if(v=="ProPhoto RGB")return 2;if(v=="Display P3")return 3;return-1};hc.prototype.akb=function(){var d=this;
if(d.z.b$.join("")!="111"){d.z.b$=[1,1,1];d.QW=!0}for(var n=0;n<d.U.length;n++){var v=d.U[n],t=v.add.vmsk;
if(v.l4()){var h=v.Ip(d);if(h&&h.AU&&h.AU.ak){h.AU.ak=!1;d.QW=!0}}var X=v._B();if(X&&X.ak){X.ak=!1;d.QW=!0}if(t){if(t.l.length!=0)t.l=[];
if(t.aD.length!=0)t.aD=[]}}};hc.prototype.ahl=function(){var d=this;return d.p!=null||d.V9()[1].length!=0||d.l.length>1};
hc.prototype.Dy=function(){var d=this.MQ,v=[];for(var n=0;n<d.length;n++)v[n]=-1;var t=this.root.children;
for(var n=0;n<t.length;n++){var h=t[n],X=h.B.add.artb;if(X==null)continue;var g=X.guideIndeces;g=g?g.v:[];
for(var x=0;x<g.length;x++)v[g[x].v]=h.index}return[f.v(d),v]};hc.prototype.gY=function(d){this.MQ=f.v(d[0]);
var v=d[1],t=this.root.children;for(var n=0;n<t.length;n++){var h=t[n],X=h.B.add.artb;if(X==null)continue;
X.guideIndeces={t:"VlLs",v:[]}}for(var n=0;n<v.length;n++)if(v[n]!=-1)this.U[v[n]].add.artb.guideIndeces.v.push({t:"long",v:n})};
hc.prototype.aOa=function(d){var v=this;if(d[0])v.add.lnk2=d[0];else delete v.add.lnk2;if(d[1])v.add.FEid=d[1];
else delete v.add.FEid;if(d[2])v.add.Patt=d[2];else delete v.add.Patt};hc.prototype.aLv=function(d){var v=this,t=[],h=[],X=[],L=null,j=null,O=null;
for(var n=0;n<d.length;n++){var g=d[n];if(g.add.SoLd){t.push(g.add.SoLd.Idnt.v);h.push(g.add.SoLd.placed.v)}if(g.add.PtFl)X.push(g.add.PtFl.Ptrn.v.Idnt.v);
if(g.add.lmfx){for(var x=0;x<kV.dv.length;x++){var Z=g.add.lmfx[kV.dv[x]].v;for(var Y=0;Y<Z.length;Y++)if(Z[Y].v.Ptrn){var a=Z[Y].v;
if(a.classID=="FrFX"&&a.PntT.v.FrFl!="Ptrn")continue;X.push(a.Ptrn.v.Idnt.v)}}}var z=g.add.vstk;if(z&&z.strokeStyleContent.v.classID=="patternLayer"){X.push(z.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var p=v.add.lnk2,U=v.add.FEid,l=v.add.Patt;
if(p){L=[];for(var n=0;n<p.length;n++)if(t.indexOf(p[n].tj)!=-1)L.push(p[n]);if(L.length==0)L=null}if(U){j=[];
for(var n=0;n<U.length;n++)if(h.indexOf(U[n].id)!=-1)j.push(U[n]);if(j.length==0)j=null}if(l){O=[];for(var n=0;
n<l.length;n++)if(X.indexOf(l[n].id)!=-1)O.push(l[n]);if(O.length==0)O=null}return[L,j,O]};hc.prototype.nb=function(d){var v=this,t=v.root.Ty(d==null?v.l[0]:d),h=!1;
while(t.parent!=null){h=h||t.B.BL(31);t=t.parent}return h};hc.prototype.PW=function(){var d=this.gM,v=this.gM.length;
if(v!=0&&d[v-1].name=="Quick Mask")return d[v-1]};hc.prototype.s9=function(){return this.P8==f4.RI("% |/!)")||this.P8==f4.Rb("gP")};
hc.prototype.q7=function(d){var v=this.add.artd;if(d!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:d},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hc.prototype.f1=function(d){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(d)==-1)this.add.FEid.push(d)};
hc.prototype.Xi=function(d){var v=this.add.FEid.indexOf(d);this.add.FEid.splice(v,1);if(this.add.FEid.length==0)delete this.add.FEid};
hc.prototype.uM=function(d){if(d==null)d=new iW(0,0,this.r,this.$);if(this.FV==null)this.FV=d;else this.FV=this.FV.Ue(d)};
hc.prototype.aju=function(d){return this.FV!=null};hc.prototype._U=function(d){var v=this.U[d],t=this.root.Ty(d);
if(t==null)return!1;if(v.h5()||t.parent.children.indexOf(t)==0)return!1;return!0};hc.ap_=function(d){if(d.add.lnk2)for(var n=0;
n<d.add.lnk2.length;n++){var v=d.add.lnk2[n].tj;d.add.lnk2[n].tj=hc.HQ()+v.slice(8);for(var t=0;t<d.U.length;
t++){var h=d.U[t].add.SoLd;if(h&&h.Idnt.v==v)h.Idnt.v=d.add.lnk2[n].tj}}};hc.prototype.HU=function(d,v,t){d.sort(function(p,U){return p-U});
var top=d[d.length-1],h=this.U.slice(0),X=this.l.slice(0),g=[],x=[];for(var n=0;n<this.U.length;n++){if(d.indexOf(n)!=-1)x.push(this.U[n]);
else g.push(this.U[n])}this.xd(x);this.l=[];var Z=this.root.pT(this,!0);if(v)Z=Z.hL(v);if(t)Z=Z.Ue(t);
if(Z.HP())Z=new iW(0,0,100,100);var Y=new iW(-Z.x,-Z.y,this.r,this.$),a=new Uint8Array(b3.bV("PSD").V$(this,0,0,[!0,!1]));
this.xd(h);this.l=X;var z=new hc(this.U[top].getName());b3.bV("PSD").CE(a.buffer,z);delete z.add.artd;
z.Wc=[];z.xd(z.U);z.gY([[],[]]);hc.ap_(z);A.Fv.za(z,Z);z.uM();z.Yn();z.jP();return[z,Z,g,top]};hc.prototype.azC=function(d,v,t){var h=this.HU(d),X=h[0],g=h[1],x=h[2],top=h[3],Z;
if(t=="jpg")Z=new Uint8Array(b3.bV("JPG").V$([[X.jP().buffer]],X.r,X.$,[80]));else Z=new Uint8Array(b3.bV("PSD").V$(X,null,null,[!0,!1]));
if(v)x=this.U.slice(0);var Y=this.b0(Z,X.name,g.x,g.y);if(top==this.U.length-1)x.push(Y);else x.splice(v?top+1:top-d.length+1,0,Y);
this.xd(x);this.l=[x.indexOf(Y)]};hc.HQ=function(d){if(d==null)d="";var v="";while(v==""||v==d){v="";
for(var n=0;n<8;n++)v+=Math.floor(Math.random()*16).toString(16)}return v};hc.prototype.HM=function(d){if(d==null)return;
if(this.add.Patt==null)this.add.Patt=[];var v=this.add.Patt;for(var n=0;n<v.length;n++)if(v[n].id==d.id)return;
v.push(d)};hc.prototype.ao8=function(d){for(var n=0;n<this.U.length;n++){var v=this.U[n],t=v.add.SoLd;
if(t&&t.Idnt.v==d)v.Lc(this)}};hc.prototype.b0=function(d,v,t,h,X,g,x){if(this.add.lnk2==null)this.add.lnk2=[];
var Z=null;for(var n=0;n<this.add.lnk2.length;n++)if(f.fE(d,this.add.lnk2[n].raw)){Z=this.add.lnk2[n].tj;
break}if(Z==null){var Y=b3.IF(d.buffer);Z=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f";var a=new jn.Tq;a.tj=Z;
a.Cd=Y=="psd"?"8BIM":"    ";a.Ps=v+"."+Y;a.Ci=Y=="psd"?"8BPB":"    ";a.open=0;a.raw=d;a.e="liFD";a.uZ=2;
this.add.lnk2.push(a)}var z=this.Cq(Z,null,null,null,g,x),p=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.vv(),l=z?z.Kw:new iW;
U.qv(v);U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:Z},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:p},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:f.kk.m(l)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:l.r},Hght:{t:"doub",v:l.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:z?z.u3:72}}};
var L=l.b();if(t!=null)L.offset(t,h);if(z!=null&&X){var Y=b3.IF(d.buffer),j=this.z,O=X,F=j.X4(X.x+X.r/2,X.y+X.$/2);
if(!j.Yx.QQ(F)){var i=f.Q.Ya(j.Yx).I;f.Q.M(i,j.jG(),i);X=X.hL(f.Q.k2(i))}var $=X.x,H=X.y,b=X.r,r=X.$;
L=z.Kw.b();L.offset($+t,H+h);var W=W=this.u3/(z.u3?z.u3:Y=="pdf"?144:this.u3);L.r=L.r*W;L.$=L.$*W;var V=Math.max(L.r/O.r,L.$/O.$);
if(V>1.0001){L.r=L.r/V;L.$=L.$/V}L.x=Math.round($+(b-L.r)/2);L.y=Math.round(H+(r-L.$)/2)}var y=f.Q.Ya(L).I;
U.add.SoLd.Trnf=A.hZ.gX(y);U.add.SoLd.nonAffineTransform=A.hZ.gX(y);if(z){if(X)U.Lc(this,!1);else if(j8==0){U.S=z.Rc[1].b();
U.S.offset(L.x,L.y);U.buffer=z.Rc[0].slice(0)}}return U};hc.prototype.e9=function(d){var v=this.add.arts,t=new iW;
for(var n=0;n<v.length;n++)t=t.Ue(f.Q.mo(v[n].l7));if(d!=!0)t=f.Q.kI(t);return t};hc.prototype.pz=function(d,v,t){var h=this.e9();
if(v==null){v=h.r;t=h.$}var X=f.km(v,t);X.save();X.translate(-h.x,-h.y);X.scale(v/h.r,t/h.$);this.root.ZD(this,X,d,new iW(0,0,v,t));
X.restore();return X.getImageData(0,0,v,t).data.buffer};hc.prototype.jP=function(d){if(d!=null){this.uM();
this.Yn(d);var v=this.buffer;if(fq.Dz)this.SR.get(v);else v=v.slice(0);this.uM();this.Yn();return v}if(this.FV){this.Yn();
this.FV=null}if(fq.Dz&&this.a7K){this.SR.get(this.buffer);this.a7K=null;this.zs=!0}return this.buffer};
hc.prototype.aJX=function(){for(var n=0;n<this.U.length;n++)this.U[n].abA();this.uM()};hc.prototype.a6L=function(){for(var n=0;
n<this.U.length;n++)if(this.U[n].add.lmfx)this.U[n].nG.sj=!0};hc.prototype.xC=function(){var d=this._t.r1044;
if(d==null){d=this._t.r1044=new Uint8Array(4);var v=0;for(var n=0;n<this.U.length;n++)v=Math.max(v,this.U[n].add.lyid);
B.NI(d,0,v)}var t=B.BT(d,0);B.NI(d,0,t+1);return t+1};hc.prototype.fi=function(d,v,t){if(d==null)d=!0;
var h=this;if(h.Cv.length!=0)return!0;if(h.l.length!=1){if(d)alert(h.l.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.sD(d,v,t)};hc.prototype.sD=function(d,v,t){if(d==null)d=!0;if(v==null)v=!1;var h=this;
if(h.Cv.length!=0)return!0;for(var n=0;n<h.l.length;n++){var X=h.U[h.l[n]],g=v||X.VL<=0;if(X.add.lsct!=null&&X.add.lsct!=f$.K_&&X.VL!=1){if(d)alert(f7.get([15,7,2]));
return!1}if(g&&!X.Kz()){if(d)alert(f7.get([15,7,2]));return!1}if(g&&X.add.TySh){return this.a9f(d,[15,7,3],t)}if(g&&X.add.SoLd){return this.a9f(d,[15,7,4],t)}if(X.BL(1)||h.nb(h.l[n])){if(d)alert(f7.get([6,57,0]));
return!1}}return!0};hc.prototype.a9f=function(d,v,t){if(d&&typeof d=="object"){var h=new eG(_.E.c);h.data={R:_.Y.S8,cG:"confirm"};
h.data.K=f7.get(v)+". "+f7.get([6,8])+"?";var X=d;h.data.No=function(){var g=new eG(_.E.U0,!0);g.data={oN:"rasterizeLayer",mQ:{classID:"rasterizeLayer",null:kl.hR("Lyr",!0)}};
X.J(g)};d.J(h);return!1}if(d)alert(f7.get(v));return!1};hc.prototype.aj4=function(d){var v=this.root.Ty(d);
if(v.parent)return v.B.ZC()&&this.aj4(v.parent.index);else return v.B.ZC()};hc.prototype.Hq=function(d){var v=this;
if(d){var t=0;for(var n=0;n<v.l.length;n++)if(v.U[v.l[n]].add.artb)t++;if(t>1)return-1}if(v.add.artd&&v.l.length!=0){var h=v.root.Ty(v.l[0]);
while(h.parent.parent)h=h.parent;if(h.B.add.artb)return h.index}return-1};hc.prototype.si=function(){var d=this.Hq();
if(d!=-1){var v=this.U[d].x1();return new cK(v.x,v.y)}return new cK(0,0)};hc.prototype.adi=function(){var d=this.U[this.l[0]];
if(d.VL<=0&&!d.S.GD(this.p.S)){alert("Selected area is empty.");return!1}if(this.l.length==1&&this.p){var v=f.m(this.p.N.length);
f.h1(d.buffer,d.S,v,this.p.S);f.yK(this.p.N,v);if(f.ht(v,0)){alert("Selected area is empty.");return!1}}return!0};
hc.prototype.$t=function(){if(this._t["r"+1037]==null)this.Si(30);return B.vW(this._t["r"+1037],0)};
hc.prototype.Si=function(d){if(this._t["r"+1037]==null)this._t["r"+1037]=new Uint8Array(4);if(B.vW(this._t["r"+1037],0)==d)return;
B.By(this._t["r"+1037],0,d);this.a6L()};hc.prototype.hz=function(){if(this._t["r"+1049]==null)this.Nd(30);
return B.vW(this._t["r"+1049],0)};hc.prototype.Nd=function(d){if(this._t["r"+1049]==null)this._t["r"+1049]=new Uint8Array(4);
if(B.vW(this._t["r"+1049],0)==d)return;B.By(this._t["r"+1049],0,d);this.a6L()};hc.prototype.u7=function(d){if(this.add.lnk2==null)return null;
for(var n=0;n<this.add.lnk2.length;n++)if(this.add.lnk2[n].tj==d)return this.add.lnk2[n];return null};
hc.prototype.acr=function(d){var v=this.u7(d);if(v==null)return!1;var t=b3.IF(v.raw.buffer);if(t==null)return!1;
if(b3.bV(t)!=null||t=="psd")return!0;return!1};hc.prototype.Cq=function(d,v,t,h,X,g){var x=this.u7(d);
if(x==null)return null;x.jP(v,t,h,X,g);if(x.Rc)return x};hc.prototype.aqO=function(){var d=this.r,v=this.$,t=this.SR,h=this.depth;
if(fq.Dz&&t==null)t=this.SR=new fq.lh(d,v,h,!0);if(this.buffer==null||this.buffer.length!=d*v*4||fq.Dz&&(t.r!=d||t.$!=v||t.depth!=h)){this.buffer=f.m(d*v*4,h);
if(t)t.delete();if(fq.Dz)t=this.SR=new fq.lh(d,v,h,!0)}};hc.prototype.aOy=function(){this.aqO();if(fq.Dz){this.SR.set(this.buffer)}};
hc.prototype.Yn=function(d){if(j8!=0)throw"redrawing in vector mode";var v=this.r,t=this.$,h=new iW(0,0,v,t),X=this.Dw?h:h.hL(this.FV);
this.aqO();if(X.HP())return;if(!X.fE(h)){if(!fq.Dz){var g=f.m(X.k()*4,this.depth);f.wH(g,X,this.buffer,h)}if(fq.Dz){fq.Bg(this.SR,X);
fq.fv(0)}}else{if(fq.Dz){this.SR.set(null)}else{this.buffer.fill(0)}}var x=Date.now(),Z=fq.Dz?this.SR:this.buffer;
if(d==null)d=1e9;var Y=this.root.children;for(var n=0;n<Y.length;n++){var a=Y[n].B;if(a.ZC()&&a.add.artb&&this.add.artd){var z=a.x1(),p=X.hL(z),U=a.FE();
if(U!=0){if(fq.Dz){fq.Bg(Z,p);fq.fv(U);fq.fv(U)}else f.aKg(Z,h,p,U)}}}this.root.cw(Z,h,X,this,[],d,gd);
gd.a18();this.a7K=this.FV.b()};hc.prototype.vv=function(d){var v=new jn;v.S=new iW(0,0,0,0);v.buffer=f.m(0,this.depth);
v.qv("Layer");if(d!=!0)v.add.lyid=this.xC();v.add.lsct=f$.K_;v.add.lclr=0;v.add.fxrp=new cK(0,0);return v};
hc.prototype.Rw=function(d){var v=this.vv(d);v.qv("</Layer group>");v.add.lsct=f$.Xr;v.Xw=24;return v};
hc.prototype.IY=function(){return this.UG!=this.QJ||Date.now()-this.auf>5*60*1e3&&this.UG>0&&this.U.length>1};
hc.prototype.RS=function(d){while(this.history.length>this.UG+1)this.history.pop();if(this.QJ>this.UG)this.QJ=-1;
if(d.T.id!=A.AQ){this.aD8=!0;if(this.cc.lastAppliedComp){delete this.cc.lastAppliedComp;this.zs=!0}}this.history.push(d);
this.UG++;this.zs=!0;var v=iP.yU()?40:20,t=0;for(var n=this.history.length-1;n>=0;n--){var h=this.history[n];
if(h.aeP)continue;t++;if(t==v){this.UG-=n;this.history=this.history.slice(n);break}}};hc.prototype.oD=function(){if(this.UG!=this.history.length-1)return null;
return this.history[this.history.length-1]};hc.prototype.A6=function(d,v,t,h){if(d==null)d=!1;var X=v!=null?[v]:this.l.slice(0);
if(h){var g=[];for(var n=0;n<X.length;n++){var x=this.U[X[n]],Z=x.aT;if(x.mv&&Z!=0&&g.indexOf(Z)==-1)g.push(Z)}if(g.length!=0)for(var n=0;
n<this.U.length;n++){var x=this.U[n],Z=x.aT;if(x.mv&&Z!=0&&g.indexOf(Z)!=-1&&X.indexOf(n)==-1)X.push(n)}}var Y=[];
for(var n=0;n<X.length;n++){var a=this.YS(X[n],d);for(var z=0;z<a.length;z++)if(Y.indexOf(a[z])==-1)Y.push(a[z]);
if(t){var bW=this.root.Ty(X[n]);while(bW.parent!=null&&bW.parent.parent!=null){bW=bW.parent;if(Y.indexOf(bW.index)==-1){Y.push(bW.index,bW.ol)}}}}return Y};
hc.prototype.w$=function(d,v,t){var h=this,X=h.A6(!1,d,null,t);X.sort(function($,H){return $-H});var g={};
for(var x=0;x<h.U.length;x++){var Z=h.U[x].getName();g[Z]=!0}var Y=[];for(var n=0;n<X.length;n++){var a=h.U[X[n]].b(),O,F;
a.add.lyid=h.xC();a.add.lspf=0;if(a.l4()){var z=a.Ip(h),p=hc.abd(z);h.f1(p);a.add.SoLd.placed.v=p.id}else if(a.add.SoLd){var U=a.add.SoLd.placed.v;
a.add.SoLd.placed.v=hc.HQ(U.slice(0,8))+U.slice(8)}a.tG(h);var l=a.getName(),L=l.length;while(48<=l.charCodeAt(L-1)&&l.charCodeAt(L-1)<=57)L--;
var j=parseInt(l.slice(L));if(isNaN(j)){if(l.endsWith(" copy")){j=1;O=l.slice(0,l.length-5)}else{j=0;
O=l}}else if(l.slice(0,L).endsWith(" copy ")){j=j;O=l.slice(0,L-6)}else{j=0;O=l}j++;while(!0){F=O+" copy"+(j==1?"":" "+j);
if(g[F]==null)break;j++}var i=X.indexOf(this.root.Ty(X[n]).parent.index)!=-1;if(l=="Background"&&h.U.length==1)F=O="Layer 1";
if(v!=!0&&!i)a.qv(F);g[F]=!0;if(fV.R$==0)a.qv(O);Y.push(a)}return Y};hc.abd=function(d){return{id:hc.HQ(d.id.slice(0,8))+d.id.slice(8),buffer:d.buffer.slice(0),S:d.S.b(),AU:d.AU?d.AU.b():null}};
hc.aO0=function(d,v){return{id:d,S:new iW,buffer:f.m(1,v),AU:new jn.Ks(v)}};hc.$$=function(d,v,t){if(t==null)t=[0,0];
if(v==null)v={vmsk:new jn.rz};if(v.vogk==null){v.vogk=[];var h=f.t.HR(v.vmsk.D);for(var X=0;X<h;X++)v.vogk.push(f._5.sS())}return{name:d,ja:0,_$:t,add:v}};
hc.prototype.V9=function(d){var v=[],t=[],h=this;for(var n=1;n<h.S5.length;n++){var X=h.S5[n];X.ja=-1-n;
v.push(X);if(h.lE.indexOf(n)!=-1)t.push(v.length-1)}if(h.S5[0].add.vmsk.D.length>2){var X=h.S5[0];X.ja=-1;
v.push(X);if(h.lE.indexOf(0)!=-1)t.push(v.length-1)}var g=h.so==null;if(g)h.so=[];for(var n=h.l.length-1;
n>=0;n--){var x=h.l[n],Z=h.U[x],Y=Z.add.TySh;if(Z.add.vmsk!=null){var X=hc.$$("\""+Z.getName()+"\" Shape Path",Z.add);
X.ja=x;v.push(X);if(g&&(Z.s$||Z.c5()))h.so.push(x);if(h.so.indexOf(x)!=-1)t.push(v.length-1)}if(Y&&Y.add&&f.kk.vs(Y.yv)){var X=hc.$$("\""+Z.getName().slice(0,10)+"..\" Text Path",Y.add);
X.ja=1e6+h.l[n];v.push(X);t.push(v.length-1)}}if(t.length==0&&d){h.S5[0].ja=-1;h.lE=[0];t.push(v.length);
v.push(h.S5[0])}return[v,t]};hc.prototype.YS=function(n,d){var v=[],bW=this.root.Ty(n);if(bW)bW.ub(v,d);
return v};hc.prototype.Zd=function(){this.root.tp(this,new iW(0,0,this.r,this.$))};hc.prototype.xd=function(d){for(var n=0;
n<this.U.length;n++){var v=this.U[n];if(d.indexOf(v)==-1){v.nG.a48();v.uM()}}var t=0;for(var n=0;n<d.length;
n++)if(d[n].add.artb)t++;this.q7(t);this.U=d.slice(0);this.nA()};hc.prototype.nA=function(){var d=this.U,v=d.length;
this.root=new fV;var t=this.vv(!0);t.uF="pass";t.add.lsct=f$.fG;t.qv("");var h=this.Rw(!0),X=[h];for(var n=0;
n<v;n++)X.push(d[n]);X.push(t);this.root.a5V(X,0,0);if(this.l.length==0)this.l=[v-1]};hc.prototype.Qs=function(){if(this.l.length!=1)return;
var d=this.root.Ty(this.l[0]);while(d.parent!=null){var v=d.parent.B;v.add.lsct=f$.fG;d=d.parent}this.QW=this.aeU=!0};
hc.prototype.ada=function(){this.nA();var d=[this.root],ko=0;while(d.length!=0){var top=d.pop();ko++;
if(top.B.add.lsct==f$.fG)for(var n=0;n<top.children.length;n++)d.push(top.children[n])}if(ko>1e3){var v=this.root.children;
for(var n=0;n<v.length;n++)if(v[n].B.add.lsct==f$.fG)v[n].B.add.lsct=f$.wM}};hc.z$=function(d,v,t,h,X,g,x,Z,Y){if(Z==null)Z="sRGB IEC61966-2.1";
if(Y==null)Y=8;var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:h},artboard:{t:"bool",v:g},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:d*72/t}},Hght:{t:"UntF",v:{type:"#Rlt",val:v*72/t}},Rslt:{t:"UntF",v:{type:"#Rsl",val:t}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:X}},Dpth:{t:"long",v:Y},profile:{t:"TEXT",v:Z}}}};
if(X=="Clr")a.Nw.v.FlCl={t:"Objc",v:x};return{oN:"make",mQ:a}};hc.cB=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
hc.X8=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];hc.IL=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
hc.acA=function(d,v){var t=0,h=0,X=72,g=v.aEu,x=d.preset&&d.preset.v=="Clipboard",Z=d.Dpth?d.Dpth.v:8;
if(x){t=g.r;h=g.$}else{t=d.Wdth.v.val;h=d.Hght.v.val;X=d.Rslt.v.val;t=Math.round(t*X/72);h=Math.round(h*X/72)}var Y=new hc((d.Nm?d.Nm.v:f7.get([11,7]))+"."+["psd","ai","mid"][j8]);
if(j8==2){t=h=1;var a=Y.vv();a.qv("Track 1");Y.U.push(a)}Y.r=t;Y.$=h;Y.u3=X;Y.depth=Z;var z=d.Fl?d.Fl.v.Fl:"Wht";
if(d.artboard&&d.artboard.v){var p=Y.vv();p.qv(f7.get([1,16,0])+" 1");p.add.lsct=f$.fG;p.In(new iW(0,0,t,h));
p.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[z]};if(z=="Clr")p.add.artb.Clr={t:"Objc",v:f.iF.Zi(f.iF.pq(d.FlCl.v))};
p.uF="pass";p.Xw=24;var U=Y.vv();U.qv("Layer 1");Y.xd([Y.Rw(),U,p]);Y.q7(1);Y.l=[1]}else if(j8==0){var a=Y.vv(),l=0;
a.qv("Background");Y.xd([a]);a.add.lspf=1<<2;if(z=="Clr")l=f.iF.pq(d.FlCl.v);else if(z!="Trns"){var L=v.dL;
l={Wht:{C:255,L:255,X:255},Blck:{C:0,L:0,X:0},BckC:{C:L>>>16,L:L>>>8&255,X:L&255}}[z]}if(l){a.S=new iW(0,0,t,h);
a.buffer=f.m(t*h*4,Z);lb.xQ(a.buffer,f.iF.Zi(l))}}if(j8==0)Y.buffer=f.m(t*h*4,Z);var j=d.profile;if(j){var O=hc.IL[hc.X8.indexOf(j.v)];
if(O)Y.m3(b3.qk.get(O))}if(j8==1)Y.u3=72;return Y};hc.prototype.oJ=function(){var d=this,v,t,h=128,X=0;
for(var n=0;n<d.U.length;n++){var g=d.U[n];if(g.Y.jJ<=200){for(var x=0;x<g.Y.list.length;x++){var bW=g.Y.list[x][2];
if(bW<h)h=bW;if(bW>X)X=bW}}}console.log(h,X);for(var n=0;n<d.U.length;n++){var g=d.U[n];g.Y.list.sort(function(j,O){return j[0]-O[0]});
if(g.Y.jJ==500)v=g;if(g.Y.jJ==501)t=g;if(g.Y.jJ==300){var Z=0,Y=0;for(var x=0;x<g.Y.list.length;x++){var a=g.Y.list[x],z=a[0],p=Math.round((2+a[3].trim().length)*d.Y.BP/18),U=z<Z?Y+1:0;
Z=z+p;Y=U;a[1]=p;a[2]=(h==128?9:h)-3-U}}if(g.Y.jJ==500||g.Y.jJ==501)for(var x=0;x<g.Y.list.length;x++){var a=g.Y.list[x];
a[1]=d.Y.BP}var l=[];for(var x=0;x<g.Y.list.length;x++){var a=g.Y.list[x],bW=a[2];if(l[bW])l[bW][1]=Math.min(l[bW][1],a[0]-l[bW][0]);
l[bW]=a}}d.Y.Uf=0;if(v){d.Y.VC=v.Y.list[0][3];if(v.Y.list.length==1)d.U.splice(d.U.indexOf(v),1)}if(t){d.Y.AV=t.Y.list[0][3];
if(t.Y.list.length==1)d.U.splice(d.U.indexOf(t),1)}d.l=[d.U.length-1];var L=(h+X)/2-5*12;if(h!=128)d.z.h.y=L*(200/12)*A.LY()};
hc.prototype.apO=function(){var d=this,v=d.add.arts=[],t=!0;d.add.prvw=1;d.nA();var h=d.root.children;
for(var n=0;n<h.length;n++)if(!h[n].B.h5())t=!1;if(!t||d.U.length==0){d.U.unshift(d.Rw());var X=d.vv();
X.qv("Layer 1");X.add.lsct=f$.fG;X.uF="pass";X.Xw=24;d.U.push(X);for(var n=0;n<d.l.length;n++)d.l[n]++;
d.Ir=!0}if(d.add.artd){delete d.add.artd;var g=[];for(var n=0;n<d.U.length;n++){var X=d.U[n],x=X.add.artb;
if(x==null)continue;var Z=X.x1();delete X.add.artb;v.push({cF:X.getName(),l7:[Z.x,Z.y,Z.x+Z.r,Z.y+Z.$],l:!1});
var Y=x.artboardBackgroundType.v;if(Y!=1&&Y!=3){var a=d.root.Ty(n).aIl;g.push([a,Y,Z,f.iF.pq(x.Clr.v)])}}for(var n=0;
n<g.length;n++){var a=g[n][0],Y=g[n][1],Z=g[n][2],z=g[n][3],X=d.vv();X.qv("Background");X.add.vmsk=new jn.rz;
X.add.vmsk.D=f.t.I7.Rect(Z.x,Z.y,Z.r,Z.$);X.add.vstk=kV.UY.yu(!0);X.add.vstl=kV.J1.yu();X.add.vstl.W4=[null,[1,1,1],[0,0,0],[],[z.C/255,z.L/255,z.X/255],[1,1,1]][Y];
X.bB();d.U.splice(d.U.indexOf(a)+1,0,X);d.nA()}console.log(g)}else v.push({cF:"Artboard",l7:[0,0,d.r,d.$],l:!1});
if(d.name.endsWith(".psd"))d.name=d.name.slice(0,-4)+".ai";if(d.buffer)d.buffer=null;for(var n=0;n<d.U.length;
n++){var X=d.U[n],Z=X.S;if(X.h5()&&X.add.vmsk==null&&X._B()){var p=X._B();A.OJ.Fo(d,X,null);X.add.vmsk=new jn.rz;
A.fL.aKv(p,X)}if(X._B())A.OJ.Fo(d,X,null);if(X.h5()&&X.add.vmsk){var U=d.vv();d.U.splice(n,0,U);U.qv("<Clipping Path>");
U.ej=!0;U.add.vogk=X.add.vogk;delete X.add.vogk;U.add.vmsk=X.add.vmsk;delete X.add.vmsk;U.add.vstk=kV.UY.yu();
U.add.SoCo=JSON.parse(kV.v0[kV.order.indexOf("SoFi")]);console.log("mask here!")}else if(X.add.SoLd&&X.add.vmsk){delete X.add.vmsk}else if(X.c5()&&X.add.vstl==null){if(X.add.vmsk==null){X.add.vmsk=new jn.rz;
X.add.vmsk.D=f.t.I7.Rect(0,0,d.r,d.$);X.add.vstk=kV.UY.yu(!0);X.bB()}var l=X.add.vstl=hc.WH(X.add)}delete X.add.lmfx;
if(X.add.SoLd||X.add.TySh||X.add.vmsk||Z.HP())continue;var L=Z.r,j=Z.$,O=f.p0(X.buffer,L,j)?"JPG":"PNG";
if(L*j<700*700)O="PNG";var F=b3.bV(O).V$([[X.buffer.buffer]],L,j),i=d.U[n]=d.b0(new Uint8Array(F),X.getName(),Z.x,Z.y);
i.fF(X.ZC());i.uF=X.uF;i.JS=X.JS}};hc.WH=function(d,v){var t=d.vstk,Y=null,a=null;if(t==null)t=kV.UY.yu(!0);
var h=kV.UY.ck(t),X=kV.yz(d),g=kV.Wy(t);function x(Y){var j=f.iF.pq(Y.Clr.v);return[j.C/255,j.L/255,j.X/255]}var Z=d.lmfx;
if(Z)Y=Z.solidFillMulti.v[0];if(Y)Y=Y.v;if(Y&&(!Y.enab.v||Y.Opct.v.val<50))Y=null;if(Z)a=Z.frameFXMulti.v[0];
if(a)a=a.v;if(a&&(!a.enab.v||a.Opct.v.val<50))a=null;var z=d.vmsk,p=z?z.D:f.t.I7.Rect(0,0,v.r,v.$);for(var U=0;
U<2;U++){var l=U==0?X:g,L=[];if(l.Ci==1)L=dW.gt(l.hn.Clr.v);if(l.Ci==2){L=d[U==0?"_fstl":"_sstl"];if(L==null||j8==0)L=eT.ou(l.hn,p,v)}if(U==0&&Y)L=x(Y);
if(U==1&&a){L=x(a);h.O8=a.Sz.v.val;h.Q0=kV.stroke.types.indexOf(a.Styl.v.FStl);h.yQ=1}if(U==0)h.W4=L;
else h.rA=L}return h};function co(d){this.Vr=d;this.OI=0;this.azv=1;this.eQ=1;this.h=new cK(0,0);this.eP=new cK(0,0);
this.r$=0;this.b$=[1,1,1];this.qc=0;this.Yx=new iW(0,0,1,1);this.ayd=new iW(0,0,d.r,d.$);this.O0=null;
this.bc=null;this.YE=null;this.q_=null}co.aQ=null;co.jT=null;co.oM=function(d){var v=co,t=d.k();if(v.aQ==null||v.aQ.length!=t*4){v.jT=f.m(t);
v.aQ=f.m(t*4)}};co.prototype.jG=function(d){var v=new gi,t=this.Yx,h=this.Vr,X=d?this.eQ:this.OI,g=d?this.eP:this.h,x=Math.round((t.r-h.r*X)/2+g.x),Z=Math.round((t.$-h.$*X)/2+g.y);
v.translate(-x,-Z);v.scale(1/X,1/X);var Y=h.r/2,a=h.$/2;v.translate(-Y,-a);v.rotate(this.r$);v.translate(Y,a);
return v};co.prototype.arj=function(d){var v=this.Yx,t=this.Vr,h=Math.atan2(-d.X,d.aX),X=t.r/2,g=t.$/2;
d.translate(-X,-g);d.rotate(-h);d.translate(X,g);var x=1/d.Mk();d.scale(x,x);var Z=-d.r2,Y=-d.pE,a=Math.round(Z-(v.r-t.r*x)/2),z=Math.round(Y-(v.$-t.$*x)/2);
if(Math.abs(x-Math.round(x))<1e-6)x=Math.round(x);this.r$=h;this.OI=x;this.h=new cK(a,z)};co.prototype.HB=function(){var d=this.jG(),v=200,t=100,h=Math.round(A.LY()*v/12)*this.azv;
d.scale(this.Vr.Y.BP/(t*u.LY()),-1/h);d.translate(0,5*12);return d};co.prototype.mM=function(d,v,t){return this.HB()._V(new cK(d,v))};
co.prototype.tw=function(d,v,t){var h=this.jG(),X=h._V(new cK(d,v));if(t){X.x=Math.round(X.x);X.y=Math.round(X.y)}return X};
co.prototype.X4=function(d,v){var t=this.jG();t.zJ();return t._V(new cK(d,v))};var fT=function(){function d(){this.GT=0;
this.Vt={}}d.prototype.sK=function(v,t){var h=v.r+"x"+v.$,X=this.Vt[h],g=0;if(X==null)X=this.Vt[h]=[];
while(X[g]&&X[g][2])g++;if(X[g]==null)X[g]=[null,0,!1,0];X[g][0]=fV.Yu.aij(X[g][0],v,t);X[g][1]=this.GT;
X[g][2]=!0;X[g][3]=t;return X[g][0]};d.prototype.$N=function(v,t){var h=[];for(var X in this.Vt){var g=X.split("x"),x=parseInt(g[0]),Z=parseInt(g[1]);
if(v.r>x||v.$>Z||v.k()*10<x*Z)continue;var Y=this.Vt[X];for(var n=0;n<Y.length;n++)if(!Y[n][2])h.push([x*Z,Y[n],x,Z])}h.sort(function(p,U){return p[0]-U[0]});
if(h.length==0)return[this.sK(v,t),v];var a=h[0],z=v.b();z.r=a[2];z.$=a[3];a[1][1]=this.GT;a[1][2]=!0;
a[1][0]=fV.Yu.aij(a[1][0],z,t);return[a[1][0],z]};d.prototype.v_=function(v){for(var t in this.Vt){var h=this.Vt[t];
for(var n=0;n<h.length;n++)if(h[n][0]==v)h[n][2]=!1}};d.prototype.a18=function(){for(var v in this.Vt){var t=this.Vt[v];
for(var n=0;n<t.length;n++)if(t[n][1]!=this.GT){fV.Yu.delete(t[n][0]);t.splice(n,1);n--}if(t.length==0)delete this.Vt[v]}this.GT++};
return d}(),gd=new fT;function kV(){}kV.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
kV.dv="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
kV.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];kV.atG=["DrSh","IrSh","SoFi","GrFl","FrFX"];
kV.o9=["Clr"];kV.oA="Grad Rvrs Type Algn Angl Dthr Scl gs99 Ofst".split(" ");kV.aO=["Ptrn","Angl","Scl","Algn","phase"];
kV.CU={wo:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aJu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a2l:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aEP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",_b:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
kV.CU.wo="\"Clr\": "+kV.CU.wo;kV.CU.iF="\"Grad\":"+kV.CU.aJu+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"},\"gs99\":{\"t\":\"enum\",\"v\":{\"gradientInterpolationMethodType\":\"Gcls\"}}";
kV.CU._b="\"Ptrn\":"+kV.CU._b+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
kV.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
kV.v0=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+kV.CU.wo+","+kV.CU.iF+","+kV.CU._b+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kV.CU.wo+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kV.CU.iF+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kV.CU._b+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
kV.iF={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),IG:["Perc","Lnr","Gcls","Smoo","stripes"],names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
kV.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],D3:["SClr","GrFl","Ptrn"],a4F:[[13,0],[12,37],[12,62]]};
kV.QP={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aik:["SrcC","SrcE"],a24:[[19,5,1],[12,69]]};kV.rL={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],adg:["SfBL","PrBL","Slmt"],aJz:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
kV.UY={gQ:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],an:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],$B:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+kV.CU.wo+"}")},strokeStyleResolution:{t:"doub",v:72}},yu:function(d,v){var t=JSON.parse(kV.UY.aws);
if(d)t.fillEnabled.v=!0;if(v)t.strokeEnabled.v=!0;return t},ck:function(d,v,t){if(v==null)v={};if(t==null)t=1;
var h=d.strokeStyleLineDashSet.v,X=v.O8=d.strokeStyleLineWidth.v.val*t;v.Ek=d.strokeStyleMiterLimit.v;
v.h2=d.strokeStyleLineDashOffset.v.val;v.yQ=kV.UY.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
v.ln=kV.UY.gQ.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType);v.Q0=kV.UY.an.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
v.gn=[];for(var n=0;n<h.length;n++)v.gn.push(h[n].v.val*X);if(v.gn.length==1&&v.gn[0]==0)v.gn=[];return v},write:function(d,v,t){if(t==null)t=1;
var h=v.O8,X=v.Ek,g=v.gn,x=v.h2,Z=v.yQ,Y=v.ln,a=v.Q0;if(h!=null)h=d.strokeStyleLineWidth.v.val=Math.max(.4,h*t);
else h=d.strokeStyleLineWidth.v.val;if(a!=null)d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[a];
if(X!=null)d.strokeStyleMiterLimit.v=X;if(g!=null)d.strokeStyleLineDashSet.v=lb.K0(g,t/h);if(x!=null)d.strokeStyleLineDashOffset.v.val=x;
if(Z!=null)d.strokeStyleLineJoinType.v.strokeStyleLineJoinType=kV.UY.join[Z];if(Y!=null)d.strokeStyleLineCapType.v.strokeStyleLineCapType=kV.UY.gQ[Y]}};
kV.UY.aws=JSON.stringify(kV.UY.default);kV.J1={yu:function(){return{W4:[1,1,1],rA:[0,0,0],O8:1,Ek:10,gn:[],h2:0,yQ:0,ln:0,Q0:1}},aHr:function(d){var v=jM.pq(d.StrokeColor),t=kV.J1.yu();
t.Q0=d.FillFirst?1:2;var h=d._LineCap,X=d._LineJoin,g=d._MiterLimit,x=d._LineDashOffset,Z=d._LineDashArray,Y=d.OutlineWidth;
if(h)t.ln=h;if(X)t.yQ=X;if(g)t.Ek=g;if(Z)t.gn=Z;if(Y!=null)t.O8=Y;t.rA=[v.C/255,v.L/255,v.X/255];return t},aks:function(d,v){v.FillFirst=d.Q0==1;
v._LineCap=d.ln;v._LineJoin=d.yQ;v._MiterLimit=d.Ek;v._LineDashArray=d.gn}};kV.Wy=function(d){var v=d.strokeEnabled.v,t=d.strokeStyleContent.v;
return v?{Ci:1+kV.UY.$B.indexOf(t.classID),hn:t}:{Ci:0}};kV.hd=function(d,v){var t=v.Ci;d.strokeEnabled.v=t!=0;
if(t!=0){d.strokeStyleContent.v=v.hn;v.hn.classID=kV.UY.$B[t-1]}};kV.yz=function(d){var v=d.vstk,t=null;
if(v&&!v.fillEnabled.v)t={Ci:0};else if(d.SoCo)t={Ci:1,hn:d.SoCo};else if(d.GdFl)t={Ci:2,hn:d.GdFl};
else if(d.PtFl)t={Ci:3,hn:d.PtFl};return t};kV.MX=function(d,v){var t=d.vmsk,h=d.vstk,X=v.Ci;if(h)h.fillEnabled.v=X!=0;
if(X>0){var g=["SoCo","GdFl","PtFl"][X-1];for(var n=0;n<3;n++)delete d[["SoCo","GdFl","PtFl"][n]];d[g]=v.hn}};
kV.Em=[{classID:"null",Clr:JSON.parse(kV.v0[5]).Clr},{classID:"null",Grad:JSON.parse(kV.v0[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(kV.v0[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var lb={};lb.aiv=function(d,v){function t(d,U){if(d==null||!d.masterFXSwitch.v)return null;var l=d[U].v,L;
if(l.length!=0){L=l[0].v;if(!L.enab.v)L=null}return L}var h=v.SoCo,X=v.GdFl,g=t(d,"solidFillMulti"),x=t(d,"gradientFillMulti");
if(g==null&&x==null)return[h,X];var Z=lb.a7O;if(h&&g&&x==null){var Y=f.v(h);Y.Clr.v=Z(g.Clr.v,h.Clr.v,g);
return[Y,null]}if(X&&g&&x==null){var a=f.v(X),z=a.Grad.v.Clrs.v;for(var n=0;n<z.length;n++){var p=z[n].v.Clr;
p.v=Z(g.Clr.v,p.v,g)}return[null,a]}if(h&&x){var a=f.v(x),z=a.Grad.v.Clrs.v;for(var n=0;n<z.length;n++){var p=z[n].v.Clr;
p.v=Z(p.v,h.Clr.v,x)}return[null,a]}return[g,x]};lb.jR={Kh:f.m(4),NC:f.m(4),C:new iW(0,0,1,1)};lb.a7O=function(d,v,t){var h=gL.__(t.Md.v.BlnM),X=t.Opct.v.val/100,g=lb.jR;
d=f.iF.pq(d);v=f.iF.pq(v);g.Kh[0]=d.C;g.Kh[1]=d.L;g.Kh[2]=d.X;g.Kh[3]=255;g.NC[0]=v.C;g.NC[1]=v.L;g.NC[2]=v.X;
g.NC[3]=255;f.V.Qe(h,g.Kh,g.C,g.NC,g.C,g.C,X);return{classID:"RGBC",Rd:{t:"doub",v:g.NC[0]},Grn:{t:"doub",v:g.NC[1]},Bl:{t:"doub",v:g.NC[2]}}};
lb.ahK=function(d,v,t){var h=d;d=d.slice(0);var X=gL.iX[gL.RG.indexOf(v.Md.v.BlnM)],g=f.iF.pq(v.Clr.v),x=4278190080|Math.round(g.X)<<16|Math.round(g.L)<<8|Math.round(g.C),Z=f.m(t.k()*4);
f.pl(Z,x);f.V.Qe(X,Z,t,d,t,t,v.Opct.v.val/100);for(var n=0;n<d.length;n+=4)d[n+3]=h[n+3];return d};lb.mS=function(d,v){var t=["Sz","blur","Sftn","Dstn"];
for(var n=0;n<kV.order.length;n++){var h=kV.order[n],X=d[kV.dv[n]].v;for(var g=0;g<X.length;g++){var x=X[g].v;
for(var Z=0;Z<t.length;Z++){var Y=x[t[Z]];if(Y){var a=Y.v.val,z=a;z=Math.max(a==0?0:1,z*v);if(h=="ChFX")z=Math.min(z,250);
if(h=="ebbl"){if(t[Z]=="blur")z=Math.min(z,250);if(t[Z]=="Sftn")z=Math.min(z,16)}Y.v.val=Math.round(z)}}if(h=="ebbl"||h=="patternFill"||h=="FrFX")if(x.Ptrn&&x.Scl)x.Scl.v.val=Math.max(1,Math.min(1e3,x.Scl.v.val*v))}}};
lb.aIS=function(d,v,t){var h=new iW(-.5,-.5,1,1);for(var n=0;n<kV.order.length;n++){var X=kV.order[n],g=d[kV.dv[n]].v;
for(var x=0;x<g.length;x++){var Z=g[x].v,p;if(!Z.enab.v)continue;var Y=Z.blur?Z.blur.v.val+1:0,a=Z.Ckmt?Z.Ckmt.v.val/100:0,z=Math.round(Y*a);
if(X=="DrSh"||X=="IrSh"&&t){p=new iW(-.5,-.5,1,1);p.o2(Y,Y);lb.SE(p,Z,v,0)}if(X=="St3D"){p=new iW(-.5,-.5,1,1);
lb.SE(p,Z,v,Math.PI,"Angl")}if(X=="OrGl"||X=="IrGl"&&t){p=new iW(-.5,-.5,1,1);p.o2(Y,Y)}if(X=="FrFX"){var U=lb.KY(Z),l=U[1];
if(t)l=Math.max(U[0],l);p=new iW(-.5,-.5,1,1);p.o2(Math.ceil(l),Math.ceil(l))}if(X=="ebbl"){var Y=Z.blur.v.val,L=Z.bvlS.v.BESl;
if(L=="Embs"||L=="PlEb")Y/=2;var j=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],F=["In","Out"],i=Z.bvlT.v.bvlT!="SfBL"?Y:Y*.43,$=Math.round(Y);
p=new iW(-$-1,-$-1,2*$+2,2*$+2)}if(t&&X=="ChFX"){p=new iW(-.5,-.5,1,1);p.o2(Y,Y);var H=p.b();lb.SE(p,Z,v,0);
lb.SE(H,Z,v,Math.PI);p=p.Ue(H)}if(p)h=h.Ue(p)}}if(h.x!=Math.ceil(h.x)){h.x=Math.ceil(h.x);h.r-=1}if(h.y!=Math.ceil(h.y)){h.y=Math.ceil(h.y);
h.$-=1}h.r=Math.floor(h.r);h.$=Math.floor(h.$);return h};lb.KY=function(d){var v,t,h=0,X=0;if(d.Sz){v=d.Sz.v.val;
t=kV.stroke.types.indexOf(d.Styl.v.FStl)}else{v=d.Wdth.v;t=["Insd","Cntr","Otsd"].indexOf(d.Lctn.v.StrL)}if(t==0)h=v;
if(t==1)h=X=v/2;if(t==2)X=v;return[h,X]};lb.amw=function(d,v){if(fq.Dz&&d.Eo==null){var t=d.sN,h=t instanceof Array;
if(h){d.Eo=[d.sN[0],new fq.lu(d.QN.r,d.QN.$,v)];d.Eo[1].set(d.sN[1]);delete d.sN}else{d.Eo=new fq.lh(d.QN.r,d.QN.$,v);
d.Eo.set(d.sN);delete d.sN}if(d.wi){d.XB=new fq.lu(d.QN.r,d.QN.$,v);d.XB.set(d.wi);delete d.wi}if(d.k$){d.Ja=new fq.lu(d.QN.r,d.QN.$,v);
d.Ja.set(d.k$);delete d.k$}}};lb.a8J=function(d){if(d.Eo)d.Eo instanceof Array?d.Eo[1].delete():d.Eo.delete();
if(d.XB)d.XB.delete();if(d.Ja)d.Ja.delete()};lb.asT=function(d){if(d.all==null)return;for(var n=0;n<d.all.length;
n++){lb.a8J(d.all[n])}};lb.aqd=function(d){var v=d.all;for(var n=0;n<v.length;n++){var t=v[n];if(t.sN instanceof Array){var h=t.sN[1],X=t.sN[0],g=f.UJ(h),x=f.m(t.QN.k()*4,g);
if(g==8)new Uint32Array(x.buffer).fill(new Uint32Array(X.buffer)[0]);else for(var n=0;n<x.length;n+=4){x[n]=X[0];
x[n+1]=X[1];x[n+2]=X[2]}f.Gj(h,x,3);t.sN=x}}};lb.anb=function(d,v,t,h,X,g){var x=lb.Jt(t,h,d,v,X,g),Z=X.depth;
for(var n=0;n<x.all.length;n++){var Y=x.all[n];if(Y.sN instanceof Array)Y.sN=[f.OO(Y.sN[0],Z),f.OO(Y.sN[1],Z)];
else Y.sN=f.OO(Y.sN,Z);if(Y.wi)Y.wi=f.OO(Y.wi,Z);if(Y.k$)Y.k$=f.OO(Y.k$,Z);lb.amw(Y,Z)}return x};lb.a6r=function(d){for(var n=0;
n<kV.order.length;n++){var v=kV.order[n],t=kV.dv[n],h=d[t].v;for(var X=0;X<h.length;X++){var g=h[X].v;
if(g.enab.v&&["patternFill","GrFl","SoFi"].indexOf(v)==-1)return!0}}return!1};lb.Jt=function(d,v,t,h,X,g){var x=f.UJ(t),Z=16,Y=0,a=0;
t=f.OO(t,Z);if(g==null)g=h;for(var n=0;n<kV.order.length;n++){var z=kV.order[n],p=kV.dv[n],U=d[p].v;
for(var l=0;l<U.length;l++){var L=U[l].v;if(z=="DrSh"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0)Y=Math.max(Y,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(z=="OrGl"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0&&L.GlwT.v.BETE=="SfBL")Y=Math.max(Y,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(z=="OrGl"&&L.enab.v&&L.blur.v.val>0&&L.GlwT.v.BETE=="PrBL")Y=Math.max(Y,L.blur.v.val);if(z=="FrFX"&&L.enab.v&&L.Sz.v.val>0){if(L.Styl.v.FStl=="OutF")Y=Math.max(Y,L.Sz.v.val);
if(L.Styl.v.FStl=="CtrF")Y=Math.max(Y,Math.ceil(L.Sz.v.val/2));a=Math.max(a,lb.KY(L)[1])}}}var j=new lb.SZ(t,h,Y,lb.a6r(d)),O=-h.x,F=-h.y,i={e:{},all:[]};
for(var $=0;$<kV.order.length;$++){var z=kV.order[$],p=kV.dv[$];i.e[z]=[];for(var H=d[p].v.length-1;
H>=0;H--){var b=d[p].v[H].v,y;if(!b.enab.v)continue;var r=b.blur?b.blur.v.val:0,W=b.Ckmt?b.Ckmt.v.val/100:0,V=r*W;
if(z=="St3D"){var c=Math.max(1e-4,1-b.Srnk.v.val/100),N=2,em=0;function S(C,e1,b){var jS=b.Angl.v.val;
jS*=Math.PI/180;var af=b.Dstn.v.val,de=Math.cos(jS)*af,kf=-Math.sin(jS)*af,gm=c+e1*(1-c),dj=new gi;dj.translate(-C.r/2,-C.$/2);
dj.scale(gm,gm);dj.translate(C.r/2,C.$/2);dj.translate((1-e1)*de,(1-e1)*kf);return dj}var C=h.b(),K=f.OO(t,8);
C.x=C.y=0;var T=Date.now(),D=C.b();D.o2(N,N);var G=f.m(D.k(),8);f.Qb(K,C,G,D);f.C2.Hd(G,D,2);var s=f.ay(8),Q=f.iF.pq(b.Clr.v),q=Q.C/255,R=Q.L/255,m=Q.X/255,E=f.m(C.k()),e=C.r,w=C.$,M=D.r,P=D.$,I=f.m(256*4),k=new Uint32Array(I.buffer),o=lb.aau(b,X),af=Math.cos(o[1]),J=-Math.cos(o[0])*af,at=Math.sin(o[0])*af;
if(Math.abs(J)<.001&&Math.abs(at)<.001)J=at=0;for(var ke=0;ke<w;ke++)for(var c_=0;c_<e;c_++){var n=(ke+N)*M+c_+N,l=ke*e+c_,ag=l*4,dz=G[n+1]-G[n-1],kL=G[n+M]-G[n-M],aq=dz*dz+kL*kL;
if(aq>10){var dh=1/Math.sqrt(aq),gK=J*dh*dz+at*dh*kL;E[l]=Math.max(1,Math.min(s,s*.5+s*.5*gK));var ad=E[l]*4;
if(I[ad+3]==0){var dc=-gK,lq=0;if(gK>0){dc=0;lq=gK}I[ad]=255*(1-dc)*(lq+(1-lq)*q);I[ad+1]=255*(1-dc)*(lq+(1-lq)*R);
I[ad+2]=255*(1-dc)*(lq+(1-lq)*m);I[ad+3]=255}}else E[l]=0}var hn=G;hn.fill(0);f.Qb(K,C,hn,D);var dF=[K,C],c3=S(C,0,b),i8=f.Q.Ya(C).I,dr=i8.slice(0);
f.Q.M(i8,c3,dr);var jO=C.Ue(f.Q.k2(dr)),d1=f.m(jO.k()*4,8),h3=jO.r,d5=jO.$;for(var n=0;n<8;n+=2){var dz=i8[n]-dr[n],kL=i8[n+1]-dr[n+1];
em=Math.max(em,Math.sqrt(dz*dz+kL*kL))}var fl=Math.round(em/2),lA=new Uint16Array(E.length),av=new Uint16Array(w);
for(var ke=0;ke<w;ke++)for(var c_=e-1;c_>=0;c_--){var n=ke*e+c_,ah=0;if(E[n]!=0){ah=0;if(av[ke]==0)av[ke]=c_+1}else if(c_==e-1)ah=50;
else ah=lA[n+1]+1;lA[n]=ah}var gE=b.Drkn.v.val/100,fj=new Uint32Array(d1.buffer),bR=new Uint8ClampedArray(d1.buffer);
for(var bD=fl-1;bD>=0;bD--){var e1=bD/fl,am=1-gE+e1*gE,dj=S(C,e1,b),ja=dj.b();ja.zJ();var aj=1/ja.aX;
for(var ke=0;ke<d5;ke++){var dS=(ke+jO.y+.5)*ja.r7+ja.pE;if(!(0<=dS&&dS<w))continue;var eW=Math.floor(dS),be=eW*e,cI=Math.max(0,Math.floor((lA[be]-ja.r2)*aj-jO.x-.5)),kP=Math.min(h3,Math.ceil((av[eW]-ja.r2)*aj-jO.x-.5)),i0=(cI-1+jO.x+.5)*ja.aX+ja.r2;
for(var c_=cI;c_<kP;c_++){var ac=ke*h3+c_<<2;i0+=ja.aX;if(d1[ac+3]==255){}else if(0<=i0&&i0<e){var jR=be+Math.floor(i0),eo=lA[jR];
if(eo!=0){var ah=Math.floor((eo-1)*aj);c_+=ah;i0+=ah*ja.aX}else{var eP=f.G.aDI(i0+N,dS+N,hn,M,P)*(1/255),as=255-d1[ac+3],kF=1/255*eP*am*as,kW=k[E[jR]];
bR[ac]+=(kW&255)*kF;bR[ac+1]+=(kW>>>8&255)*kF;bR[ac+2]+=(kW>>>16&255)*kF;bR[ac+3]+=eP*as}}}}}f.DJ(d1);
y={sN:d1,QN:jO}}else if(z=="DrSh"){var hs=j.bQ(V,r-V,!0),gc=hs.VA,fK=hs.BS.b();lb.v9(gc,b,!1);if(b.Cntn&&b.Cntn.v){var lo=new iW;
lb.SE(lo,b,X,0);var cR=fK.b();cR.offset(-lo.x,-lo.y);cR=cR.Ue(fK);var fU=f.m(cR.k(),Z);f.Qb(gc,fK,fU,cR);
var g8=Math.sqrt(lo.x*lo.x+lo.y*lo.y),i2=gc.slice(0);for(var n=0;n<g8-1;n++){var dz=Math.round(-lo.x*n/g8),kL=Math.round(-lo.y*n/g8),jQ=hs.BS.b();
jQ.offset(dz,kL);f.am5(i2,jQ,fU,cR)}gc=fU;fK=cR}fK.offset(O,F);lb.SE(fK,b,X,0);var d1=f.m(4,Z);lb.xQ(d1,b.Clr.v);
y={sN:[d1,gc],QN:fK,arN:b.layerConceals.v}}else if(z=="IrSh"){var hs=j.bQ(V,r-V,!1);lb.SE(hs.BS,b,X,0);
var fK=j.S().b(),gc=f.m(fK.k(),Z);gc.fill(f.ay(Z));f.Qb(hs.VA,hs.BS,gc,fK);lb.v9(gc,b,!0,!0);var d1=f.m(4,Z);
lb.xQ(d1,b.Clr.v);fK.offset(O,F);y={sN:[d1,gc],QN:fK}}else if(z=="GrFl"){var d1=f.m(j.S().k()*4,x);lb.os(b,d1,j.S(),X,null,g);
var fK=j.S().b();fK.offset(O,F);y={sN:d1,QN:fK}}else if(z=="SoFi"){var d1=f.m(4,Z);lb.xQ(d1,b.Clr.v);
var eS=f.m(j.VA().length,x);eS.fill(f.ay(x));var fK=j.S().b();fK.offset(O,F);y={sN:[d1,eS],QN:fK}}else if(z=="ebbl"){var ji=!1;
if(ji)console.log(b);var T=Date.now(),l7=T,j_=b.bvlS.v.BESl,hb=b.bvlT.v.bvlT;if(j_=="strokeEmboss"){var fL=d.frameFXMulti.v;
if(fL.length==0)continue;fL=fL[0].v;if(!fL.enab.v)continue;var dE=fL.Styl.v.FStl;if(dE=="OutF")j_="OtrB";
if(dE=="CtrF")j_="Embs";if(dE=="InsF")j_="InrB"}var r=b.blur.v.val;if(r==0)r=.7;if(j_=="Embs"||j_=="PlEb")r/=2;
var gF=["OtrB","InrB","Embs","PlEb","strokeEmboss"],gA=["SfBL","PrBL","Slmt"],gP=["In","Out"],km=hb!="SfBL"?r:r*.45,jA=Math.round(r),cD=j.S().b(),i4=cD.b();
i4.o2(jA,jA);var e=i4.r,w=i4.$,dv=e*w,eK=f.m(dv,Z);f.Qb(j.VA(),cD,eK,i4);var k2=f.style.wW(eK,e,w);f.zJ(eK);
var gl=f.style.wW(eK,e,w);if(ji)console.log("distTransform computed",Date.now()-T);T=Date.now();lb.awj(km,k2,gl);
if(ji)console.log("summing + cropping",Date.now()-T);T=Date.now();if(hb=="SfBL"){var eU=Math.pow(r*.21,1.22);
if(!0)eU=Math.max(eU,2);f.C2.Hd(gl,i4,eU,2)}if(ji)console.log("blurring",Date.now()-T);T=Date.now();
var d9=gl,iJ=k2;iJ.set(d9);if(b.useShape.v){var jl=Math.min(100,b.Inpr.v.val+1)/100;if(j_!="OtrB"&&j_!="InrB")jl=1;
var fd=f.kB.hi(b.MpgS.v.Crv.v,2e3),el=Math.round(2e3/jl);fd=f.kB.aii(fd,el,j_=="InrB");var cT=.5/km;
for(var n=0;n<dv;n++){var jg=d9[n],aw=.99999*(jg+km)*cT;d9[n]=-km+2*km*fd[~~(aw*(el-1))]}if(ji)console.log("applying shape",Date.now()-T);
T=Date.now()}if(b.useTexture.v){var du=f.m(e*w*4);lb.og(b,du,i4,X.add.Patt,v);var e7=f.m(e*w);f.TA(du,e7);
f.C2.ae8(e7,i4,1);var dN=r*b.textureDepth.v.val*(1/100)*(1/255);if(b.InvT.v)dN=-dN;for(var n=0;n<dv;
n++)d9[n]+=-dN*e7[n];if(ji)console.log("applying texture",Date.now()-T);T=Date.now()}var gw=j_=="PlEb",iy=new Float32Array(dv),cb=iy;
if(gw){cb=new Float32Array(dv)}var aJ=lb.ayb(e,w,b,X,d9,iy,cb,gw);if(ji)console.log("raycasting",Date.now()-T);
T=Date.now();if(b.Sftn.v.val!=0){f.C2.Hd(iy,i4,b.Sftn.v.val*.43,2);if(gw)f.C2.Hd(cb,i4,b.Sftn.v.val*.43,2)}if(ji)console.log("softening",Date.now()-T);
T=Date.now();var iO=f.m(e*w,Z),i$=f.m(e*w,Z),df=iO,b5=i$;if(gw){df=f.m(e*w,Z);b5=f.m(e*w,Z)}lb.asx(b,e,w,aJ,km,gw,iJ,iO,i$,df,b5,iy,cb);
if(ji)console.log("baking textures",Date.now()-T);T=Date.now();i4=j.S().b();i4.o2(jA,jA);i4.offset(O,F);
y={aD6:b.bvlS.v.BESl=="strokeEmboss"};var iC=gL.__(b.hglM.v.BlnM),h4=b.hglO.v.val/100,ii=gL.__(b.sdwM.v.BlnM),bx=b.sdwO.v.val/100,ku=f.m(4,Z);
lb.xQ(ku,b.hglC.v);var bX=f.m(4,Z);lb.xQ(bX,b.sdwC.v);if(["InrB","Embs","PlEb"].indexOf(j_)!=-1){y.C7={sN:[ku,iO],QN:i4,Z3:iC,J9:h4};
y._6={sN:[bX,i$],QN:i4,Z3:ii,J9:bx}}if(["OtrB","Embs","PlEb"].indexOf(j_)!=-1){y.Vf={sN:[ku,df],QN:i4,Z3:iC,J9:h4};
y.JF={sN:[bX,b5],QN:i4,Z3:ii,J9:bx}}if(ji)console.log(Date.now()-l7)}else if(z=="patternFill"){var e9=j.S(),d1=f.m(e9.k()*4,x);
lb.og(b,d1,e9,X.add.Patt,v);var fK=e9.b();fK.offset(O,F);y={sN:d1,QN:fK}}else if(z=="ChFX"){var T=Date.now(),r=b.blur.v.val,a_=j.S().b();
a_.o2(r,r);var j3=f.m(a_.k(),Z);f.Qb(j.VA(),j.S(),j3,a_);f.C2.Hd(j3,a_,r*.43);lb.adx(j3,b.MpgS.v.Crv.v);
var q=j.S(),b4=a_.b(),dw=a_.b();lb.SE(b4,b,X,0);lb.SE(dw,b,X,Math.PI);var Q=f.m(q.k(),Z);f.Qb(j3,dw,Q,q);
var l3=q.hL(b4),e=l3.r;for(var ke=0;ke<l3.$;ke++){var ep=(ke+l3.y-q.y)*q.r+l3.x-q.x,ao=(ke+l3.y-b4.y)*b4.r+l3.x-b4.x;
for(var c_=0;c_<e;c_++)Q[ep+c_]=Math.abs(Q[ep+c_]-j3[ao+c_])}if(b.Invr.v)f.zJ(Q);var d1=f.m(4,Z);lb.xQ(d1,b.Clr.v);
var fK=j.S().b();fK.offset(O,F);y={sN:[d1,Q],QN:fK}}else if(z=="OrGl"){var hs,ls=lb.aeK(b),d1=null;if(b.GlwT.v.BETE=="SfBL"){hs=j.bQ(V,r-V,!0);
lb.ajQ(hs.VA,ls)}else hs=j.ail(r,W,!0,ls);var gc=hs.VA,fK=hs.BS,eJ=gc.slice(0);if(b.Grad==null){lb.v9(gc,b,!1);
var du=f.m(4,Z);lb.xQ(du,b.Clr.v);d1=[du,gc]}else{lb.lg(gc,b);var f2={nY:gc,ah:f.ay(Z),G2:0,mz:fK};d1=f.m(fK.k()*4,Z);
lb.os(b,d1,fK,X,f2);var eH=fK.r,jf=f.ay(Z),kh=jf*(32/255);for(var n=0;n<eJ.length;n++){var dX=jf,cq=eJ[n];
if(cq<jf){var is=(cq+eJ[n-1]+eJ[n+1]+eJ[n-eH]+eJ[n+eH])*.2-1;dX=Math.min(jf,Math.round(Math.max(0,is)*8))}gc[n]=dX}lb.Uc(gc,b,!1);
f.XE(gc,d1)}fK.offset(O,F);y={sN:d1,QN:fK}}else if(z=="IrGl"){var hs,ls=lb.aeK(b),d1=null;if(b.GlwT.v.BETE=="SfBL"){hs=j.bQ(V,r-V,!1);
lb.ajQ(hs.VA,ls)}else hs=j.ail(r,W,!1,ls);var gc=hs.VA,fK=hs.BS;if(b.glwS.v.IGSr=="SrcC")f.zJ(gc);if(b.Grad==null){lb.v9(gc,b,!0);
var du=f.m(4,Z);lb.xQ(du,b.Clr.v);d1=[du,gc]}else{lb.lg(gc,b);var f2={nY:gc,ah:f.ay(Z),G2:0,mz:fK};d1=f.m(fK.k()*4,Z);
lb.os(b,d1,fK,X,f2);gc.fill(f.ay(Z));lb.Uc(gc,b,!1);f.XE(gc,d1)}fK.offset(O,F);y={sN:d1,QN:fK}}else if(z=="FrFX"){var hO=lb.KY(b),gR=hO[0],aL=hO[1],fK=j.S().b(),jw=null,iH=null,d1=null;
fK.o2(Math.ceil(a),Math.ceil(a));if(aL>0){var hs=j.bQ(aL,0,!0);iH=hs.VA;if(iH.length<fK.k()){iH=f.m(fK.k(),Z);
f.Qb(hs.VA,hs.BS,iH,fK)}}if(gR>0){var hs=j.bQ(gR,0,!1);jw=f.m(fK.k(),Z);jw.fill(f.ay(Z));f.Qb(hs.VA,hs.BS,jw,fK)}fK.offset(O,F);
var h7=b.PntT.v.FrFl;if(h7=="SClr"){var du=f.m(4,x),lh=f.m(fK.k(),x);lb.xQ(du,b.Clr.v);lh.fill(f.ay(x));
d1=[du,lh]}else{d1=f.m(fK.k()*4,x);if(h7=="GrFl")lb.os(b,d1,fK,X,j.atX(gR,aL));if(h7=="Ptrn")lb.og(b,d1,fK,X.add.Patt,v)}var f5=b.overprint,aH=f5?f5.v:!1;
if(aH){var eS=jw?jw:iH;if(jw&&iH)f.wR.hL(jw,iH,eS);eS=f.OO(eS,x);if(d1 instanceof Array)d1[1].set(eS);
else f.Gj(eS,d1,3)}y={sN:d1,QN:fK,k$:iH,wi:jw,aN7:aH}}i.e[z].push(y);if(z=="ebbl"){if(y.C7)i.all.push(y.C7,y._6);
if(y.Vf)i.all.push(y.Vf,y.JF)}else{y.Z3=gL.__(b.Md.v.BlnM);y.J9=b.Opct.v.val/100,i.all.push(y)}}}return i};
lb.Q8=function(d){var v=1/Math.sqrt(d.x*d.x+d.y*d.y+d.HC*d.HC);d.x*=v;d.y*=v;d.HC*=v};lb.aqe=function(d,v){return{x:d.y*v.HC-d.HC*v.y,y:d.HC*v.x-d.x*v.HC,HC:d.x*v.y-d.y*v.x}};
lb.Cl=function(d,v){return d.x*v.x+d.y*v.y+d.HC*v.HC};lb.awj=function(d,v,t){var h=v.length;for(var n=0;
n<h;n++){var X=t[n]-v[n];t[n]=X}for(var n=0;n<h;n++){var X=t[n];if(X<-d)t[n]=-d;else if(X>d)t[n]=d}};
lb.ayb=function(d,v,t,h,X,g,x,Z){var Y=lb.aau(t,h),a=Y[0],z=Y[1],p=Math.cos(a)*Math.cos(z),U=-Math.sin(a)*Math.cos(z),l=Math.sin(z);
g.fill(l);if(Z)x.fill(l);var L=(t.bvlT.v.bvlT=="SfBL"?1:.5)*(t.bvlD.v.BESs=="In"?1:-1)*t.srgR.v.val/100,j=-.125*L;
for(var O=0;O<v;O++){var F=O==0?0:-d,i=O==v-1?0:d,n=O*d;for(var $=0;$<d;$++,n++){var H=$==0?n:n-1,b=$==d-1?n:n+1,r=X[b]-X[H],W=X[n+i]-X[n+F];
if(r*r+W*W<.005)continue;var V=X[H+F],y=X[b+F],c=X[H+i],S=X[b+i],C=j*(y+2*r+S-V-c),K=j*(c+2*W+S-V-y),T=1/Math.sqrt(C*C+K*K+1);
C*=T;K*=T;g[n]=Math.max(0,C*p+K*U+T*l);if(Z)x[n]=Math.max(0,-C*p-K*U+T*l)}}return l};lb.asx=function(d,v,t,h,X,g,x,Z,Y,a,z,p,U){var l=1/h,L=1/(1-h),j=1/X,O=f.UJ(Z),F=f.ay(O),i=f.kB.hi(d.TrnS.v.Crv.v,1024),$=new Float32Array(2500);
for(var n=0;n<2500;n++){var H=Math.max(0,Math.min(1,(n-500)*.001));$[n]=Math.pow(H,.2)}var b=new Float32Array(1024),r=new Float32Array(1024);
for(var n=0;n<1024;n++){var W=i[n];b[n]=F*(1-Math.min(1,W*l));r[n]=F*(1-Math.min(1,(1-W)*L))}for(var V=0;
V<t;V++)for(var H=0;H<v;H++){var n=V*v+H,y=(x[n]+X*.993)*j,c=$[~~(500+y*1e3)],S=~~(p[n]*1023);Y[n]=c*b[S];
Z[n]=c*r[S];if(g){S=~~(U[n]*1023);z[n]=c*b[S];a[n]=c*r[S]}}};lb.Pa=function(d){var v=lb.Rn(),t=d._F,h=!1;
for(var n=0;n<32;n+=8)if(t[n]+t[n+1]+t[n+4]+t[n+5]!=0||t[n+2]+t[n+3]+t[n+6]+t[n+7]!=1020)h=!0;if(h){t=t.slice(0);
for(var n=0;n<40;n+=4){var X=t[n]/255,g=t[n+1]/255,x=t[n+2]/255,Z=t[n+3]/255;t[n]=X-.001;t[n+1]=X==g?1e6:1/(g-X);
t[n+2]=x==Z?-1e6:1/(x-Z);t[n+3]=Z+.001}}var Y=d.add.iOpa!=null?d.add.iOpa/255:v.fill,a=d.add.vstk;if(a&&!a.fillEnabled.v&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))Y=0;
return{fill:Y,vU:h?t:null,jK:d.add.brst!=null?d.add.brst:v.jK,aff:d.add.knko!=null?d.add.knko:v.aff,style:!1,CZ:!1}};
lb.Rn=function(){return{fill:1,vU:null,jK:[1,1,1],aff:0,style:!1,CZ:!1}};lb.aod=function(d,v,t,h,X,g,x,Z){if(Z==null)Z=1;
if(x==null)x=new gi;var Y=d.kv[1].r,a=d.kv[1].$,z=new gi,p=X<2;if(p)z.translate(-Y/2,-a/2);if(X==0){Z*=Math.max(t/Y,h/a)}else if(X==1){Z*=Math.min(t/Y,h/a)}else if(X==2){z.scale(1/Y,1/a);
z.concat(x);z.scale(t,h)}else if(X==3){Z=Z}z.scale(Z,Z);if(p)z.translate(t/2,h/2);z.concat(g);v.Ptrn.v.Idnt.v=d.id;
v.Scl.v.val=Math.round(100*z.Mk());v.Angl.v.val=Math.round(180*Math.atan2(-z.X,z.aX)/Math.PI);v.Algn.v=!0;
var U=v.phase.v;U.Hrzn.v=Math.round(z.r2);U.Vrtc.v=Math.round(z.pE)};lb.Jg=function(d,v){if(v==null)return null;
var t=d.Idnt.v,h=d.Nm.v;for(var n=0;n<v.length;n++)if(v[n].id==t)return v[n];for(var n=0;n<v.length;
n++)if(v[n].name==h)return v[n];return null};lb.aIt=function(d,v,t){var h=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var n=0;n<h.length;n++){var X=d.v[h[n]].v;for(var g=0;g<X.length;g++)if(X[g].v.Ptrn)v.HM(lb.Jg(X[g].v.Ptrn.v,t))}};
lb.aw3=function(d,v,t){var h=["patternFillMulti","ebblMulti","frameFXMulti"];for(var n=0;n<h.length;
n++){var X=d.v[h[n]].v;for(var g=0;g<X.length;g++)if(X[g].v.Ptrn){var x=X[g].v.Ptrn.v,Z=lb.Jg(x,t),Y=lb.Jg(x,v.add.Patt);
if(Z==null&&Y)t.push(Y)}}};lb.og=function(d,v,t,h,X){if(d.Ptrn==null)return;var g=lb.Jg(d.Ptrn.v,h);
if(g!=null&&!t.HP()){var x=g.kv,Z=x[0],Y=x[1],a=0;f.vD(x);var z=(d.Scl?d.Scl.v.val:100)/100;while((z<.3||z==.5)&&x[a+2]){z*=Y.r/x[a+3].r;
a+=2;Z=x[a];Y=x[a+1]}var p=f.scale.og(Z,Y.r,Y.$),U=d.phase?d.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},l=d.Angl?d.Angl.v.val:0,L=-t.x+U.Hrzn.v-1,j=-t.y+U.Vrtc.v-1;
if(d.Algn!=null&&!d.Algn.v){}else if(X){L+=X.x;j+=X.y}if(v)f.scale.aMH(p,v,t.r,t.$,z,z,L+1,j+1,l*Math.PI/180);
else return[p,z,L+1,j+1,l*Math.PI/180]}};lb.os=function(d,v,t,h,X,g,x,Z){if(g==null)g=t;var Y=d.Type?d.Type.v.GrdT:"shapeburst",a=d.Algn&&d.Algn.v?g:new iW(0,0,h.r,h.$),z=d.Angl?f.iF.ajF(d,a):[new cK(0,0),new cK(100,0)],p=z[0].x,l=z[0].y,L=z[1].x-p,j=z[1].y-l,O=Math.sqrt(L*L+j*j);
O=1/(2*O*O);var F=[L*O,j*O,-j*O,L*O],i=d.Rvrs?d.Rvrs.v:!1,$=d.Dthr?d.Dthr.v:!1,H=d.gradientsInterpolationMethod;
if(H==null)H=d.gs99;var b=H?H.v.gradientInterpolationMethodType:"Gcls";f.iF.fo(d.Grad.v,v,t,F,p,l,i,kV.iF.types.indexOf(Y),x==null?0:x,Z==null?0:Z,X,$,b)};
lb.aiG=function(d,v,t){for(var n=0;n<d.all.length;n++){var h=d.all[n];h.Bu=h.QN.b();h.Bu.offset(v,t)}};
lb.a7F=function(d,v,t,h,X,g){var x=fq.Dz?lb.agi:lb.ahS;lb.aiG(v,t.x,t.y);var Z=v.e.DrSh;for(var n=0;
n<Z.length;n++)if(!Z[n].arN)x(Z[n],h,X,g)};lb.aIw=function(d,v,t,h,X,g,x,Z,Y,a,z,p){var U=fq.Dz?lb.agi:lb.ahS,l=fq.Dz?fq.V.je:f.V.cI,L;
L=v.e.DrSh;for(var n=0;n<L.length;n++)if(L[n].arN)U(L[n],h,X,g);L=v.e.St3D;for(var n=0;n<L.length;n++)U(L[n],h,X,g);
L=v.e.OrGl;for(var n=0;n<L.length;n++)U(L[n],h,X,g);var j="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var O=0;O<j.length;O++){var L=v.e[j[O]];for(var n=0;n<L.length;n++)U(L[n],x,Z,g)}var F=v.e.ebbl[0],i=F!=null&&F.aD6;
L=v.e.FrFX;for(var n=0;n<L.length;n++){var $=L[n];fV.Yu.Qb(Y,a,z,p,g);U($,z,p,g);if(i&&n==L.length-1){if(F.JF)U(F.JF,z,p,g);
if(F.Vf)U(F.Vf,z,p,g);if(F._6)U(F._6,z,p,g);if(F.C7)U(F.C7,z,p,g)}if($.aN7){if($.wi||$.XB){U($,x,Z,g)}if($.k$||$.Ja){U($,h,X,g)}}else{if($.wi||$.XB)l(z,p,x,Z,fq.Dz?$.XB:$.wi,$.Bu,0,g,1);
if($.k$||$.Ja)l(z,p,h,X,fq.Dz?$.Ja:$.k$,$.Bu,0,g,1)}}if(!i&&F!=null){if(F.JF)U(F.JF,h,X,g);if(F.Vf)U(F.Vf,h,X,g);
if(F._6)U(F._6,x,Z,g);if(F.C7)U(F.C7,x,Z,g)}};lb.ahS=function(d,v,t,h){var X=lb.Rn();X.fill=d.J9;X.style=!0;
f.V.Qe(d.Z3,d.sN,d.Bu,v,t,h,1,X)};lb.agi=function(d,v,t,h){var X=lb.Rn();X.fill=d.J9;X.style=!0;fq.V.aIr(d.Z3,d.Eo,d.Bu,v,t,h,1,X)};
lb.aeK=function(d){var v=1-d.Inpr.v.val/100;return 1+Math.tan(v*(Math.PI/2))};lb.ajQ=function(d,v){var t=f.ay(f.UJ(d));
for(var n=0;n<d.length;n++)d[n]=Math.min(t,d[n]*v)};lb.lg=function(d,v,t){var h=v.blur.v.val,X=Math.round(h*(v.Ckmt.v.val/100));
if(h>X)lb.adx(d,v.TrnS.v.Crv.v,t!=!0)};lb.adx=function(d,v,t){if(v.length==2){function h(p){return new cK(p.Hrzn.v,p.Vrtc.v)}var X=h(v[0].v),g=h(v[1].v);
if(X.x==0&&X.y==0&&g.x==255&&g.y==255)return}var x=2048,Z=f.UJ(d),Y=f.ay(Z),a=(x-1)/Y,z=f.kB.akp(v,x,t,Z);
for(var n=0;n<d.length;n++)d[n]=z[~~(a*d[n])]};lb.Uc=function(d,v,t){var h=v.Nose.v.val/100,X=d,g=f.UJ(d),x=f.ay(g),Z=g==32?x/2:x>>>1,Y=g==32?1/65535:g==16?1:1/255;
if(h>0){if(t)for(var n=0;n<X.length;n++){var a=X[n];if(a>0)X[n]=Math.max(0,Math.min(x,a+h*2*(Y*lb.tu(n*3)-Z)))}else for(var n=0;
n<X.length;n++){var a=X[n];if(a>0)X[n]=Math.max(0,Math.min(x,a+Math.min(a*3,h*2*(Y*lb.tu(n*3)-Z))))}}};
lb.v9=function(d,v,t,h){lb.lg(d,v,h);lb.Uc(d,v,t)};lb.amc=function(d,v){var t=v.ShdN.v.val/100;if(t>0)for(var n=0;
n<d.length;n++){var h=d[n];h=Math.min(510-(1+t)*lb.tu(n),h);d[n]=h}};lb.tu=function(d){d=d^61^d>>16;
d=d+(d<<3);d=d^d>>4;d=d*668265261;d=d^d>>15;return d&65535};lb.auU=function(d,v,t){var h=f.iF.pq(d);
if(t!=null){h.C=Math.round(h.C*t);h.L=Math.round(h.L*t);h.X=Math.round(h.X*t)}return v<<24|h.X<<16|h.L<<8|h.C};
lb.xQ=function(d,v,t){var h=f.UJ(d);if(h==8)new Uint32Array(d.buffer).fill(lb.auU(v,255,t));else{var X=f.iF.pq(v),g=(t==null?1:t)/255;
f.VT(d,X.C*g,X.L*g,X.X*g);f.Xq(d,1)}};lb.SE=function(d,v,t,h,X){var g=v.uglg&&v.uglg.v?t.$t():v[X?X:"lagl"].v.val;
g=g*Math.PI/180+h;var x=Math.cos(g)*v.Dstn.v.val,Z=Math.sin(g)*v.Dstn.v.val;d.x-=Math.round(x);d.y+=Math.round(Z)};
lb.aau=function(d,v){var t=d.uglg&&d.uglg.v?v.$t():d.lagl.v.val;t=t*(Math.PI/180);var h=d.uglg&&d.uglg.v?v.hz():d.Lald.v.val;
h=h*(Math.PI/180);return[t,h]};lb.ai2=function(d){if(d==null||!d.masterFXSwitch.v)return null;var v=d.frameFXMulti.v,t=null;
for(var n=0;n<v.length;n++)if(v[n].v.enab.v)t=v[n].v;if(t==null)return null;var h=kV.UY.yu();lb.ah$(t,h);
return h};lb.ah$=function(d,v){var t=kV.stroke.D3.indexOf(d.PntT.v.FrFl),h=[kV.o9,kV.oA,kV.aO][t],X=v.strokeStyleContent.v={classID:kV.UY.$B[t]};
for(var n=0;n<h.length;n++)X[h[n]]=d[h[n]];v.strokeEnabled=d.enab;v.strokeStyleLineWidth=d.Sz;v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kV.UY.an[kV.stroke.types.indexOf(d.Styl.v.FStl)];
v.strokeStyleOpacity=d.Opct;v.strokeStyleBlendMode=d.Md;v.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
lb.K0=function(d,v){var t=[];for(var n=0;n<d.length;n++)t.push({t:"UntF",v:{type:"#Nne",val:d[n]*v}});
return t};lb.ay9=function(d,v){var t=d.JS/255*(d.add.iOpa?d.add.iOpa/255:1),h=d.add.TySh,X=d.h5()||d.c5()&&d.add.vmsk&&d.add.vstk.fillEnabled.v&&d.add.vstk.strokeEnabled.v;
if(h){var g=h.Oo.EngineDict.StyleRun.RunArray,x=g[0].StyleSheet.StyleSheetData,Z=0;if(x.FillFlag)Z++;
if(x.StrokeFlag)Z++;if(x._FillBackgroundFlag)Z++;if(Z>1)X=!0}return X&&(v||t!=1||d.uF!="pass"&&d.uF!="norm")};
lb.SZ=function(d,v,t,h){this.v7=v.b();this.a2c=v.b();this.a2c.o2(t,t);if(h){this.v7.o2(1,1);this.tb=f.m(this.v7.k(),f.UJ(d));
f.Qb(d,v,this.tb,this.v7)}else this.tb=d;this.LL=null;this.Ap=null;this.Cc=null};lb.SZ.prototype.VA=function(){return this.tb};
lb.SZ.prototype.S=function(){return this.v7};lb.SZ.prototype.q$=function(){return this.a2c};lb.SZ.prototype.lA=function(){if(this.LL)return this.LL;
this.LL=this.VA().slice(0);f.zJ(this.LL);return this.LL};lb.SZ.prototype.fp=function(){if(this.Ap)return this.Ap;
this.Ap=f.style.wW(this.lA(),this.S().r,this.S().$);return this.Ap};lb.SZ.prototype.tA=function(){if(this.Cc)return this.Cc;
var d=this.q$(),v=f.m(d.k(),f.UJ(this.VA()));f.Qb(this.VA(),this.S(),v,d);var t=Date.now();this.Cc=f.style.wW(v,d.r,d.$);
return this.Cc};lb.SZ.prototype.atX=function(d,v){var t={ah:-v,G2:d,mz:null,nY:null};if(v==0){t.mz=this.S();
t.nY=this.fp();return t}var h=this.tA().slice(0),X=this.q$();t.mz=X;t.nY=h;for(var n=0;n<h.length;n++)h[n]=-h[n];
if(d==0)return t;var g=this.fp(),x=this.S();for(var Z=0;Z<x.$;Z++)for(var Y=0;Y<x.r;Y++){var a=Z*x.r+Y,z=(Z+x.y-X.y)*X.r+Y+x.x-X.x;
h[z]+=g[a]}return t};lb.SZ.prototype.bQ=function(d,v,t){var h=Math.ceil(d+v),X={BS:this.S().b(),VA:null};
X.BS.o2(h,h);X.VA=f.m(X.BS.k(),f.UJ(this.VA()));if(d==0&&v==0)f.Hy(t?this.VA():this.lA(),X.VA);else{var g=X.VA;
f.Qb(this.VA(),this.S(),g,X.BS);if(!t)f.zJ(g);if(d!=0){if(t)f.style.ey(g,X.BS,this.tA(),this.q$(),d);
else f.style.ey(g,X.BS,this.fp(),this.S(),d)}if(v!=0)f.C2.Hd(g,X.BS,Math.max(1,v*.43))}return X};lb.SZ.prototype.ail=function(d,v,t,h){var X=d*(v-.5),g=1/d,x={BS:this.S().b(),VA:null};
if(t)x.BS.o2(d,d);var Z=f.UJ(this.VA()),Y=f.ay(Z);x.VA=f.m(x.BS.k(),Z);var a=t?this.tA():this.fp(),z=t?this.q$():this.S(),p=x.BS,U=p.hL(z),l=U.r,L=U.$,j=U.x-p.x,O=U.y-p.y,F=U.x-z.x,i=U.y-z.y,$=1-v*2;
for(var H=0;H<L;H++)for(var b=0;b<l;b++){var r=a[(H+i)*z.r+b+F],W=r*g;x.VA[(H+O)*p.r+b+j]=Y*Math.max(0,Math.min(1,h*(1-(W+$)/(1+$))))}return x};
lb.auQ=function(d,v,t,h){var X=d.Lefx,g=d.blendOptions;if(X){var x=v.add.lmfx;if(t==null)t=x?x.Scl.v.val:100;
v.add.lmfx=f.v(X.v);if(v.add.lmfx.Scl==null)v.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};lb.mS(v.add.lmfx,t/v.add.lmfx.Scl.v.val);
if(x)v.add.lmfx.Scl.v.val=x.Scl.v.val;var Z=X.v.gagl;if(Z&&h)h.Si(Z.v.val)}else delete v.add.lmfx;if(g){g=g.v;
if(g.Md)v.uF=gL.__(g.Md.v.BlnM);if(g.Opct)v.JS=Math.round(g.Opct.v.val*255/100);if(g.fillOpacity)v.add.iOpa=Math.round(g.fillOpacity.v.val*255/100);
if(g.Blnd){var Y=[];for(var n=0;n<10;n++)Y.push(0,0,255,255);var a=g.Blnd.v,z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var n=0;n<a.length;n++){var p=a[n].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(p.Chnl.v[0].v.enum);for(var l=0;
l<8;l++){Y[U+l]=p[z[l]].v}}v._F=Y}}};lb.aEn=function(d){var v="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),t=[],h=d._F;
for(var n=0;n<4;n++){var X=n*8;if(h[X]+h[X+1]+h[X+4]+h[X+5]==0&&h[X+2]+h[X+3]+h[X+6]+h[X+7]==4*255)continue;
var g={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][n]}}]}}};
t.push(g);for(var x=0;x<8;x++)g.v[v[x]]={t:"long",v:h[n*8+x]}}var Z={classID:"blendOptions"};if(d.uF!="norm")Z.Md={t:"enum",v:{BlnM:gL.V6(d.uF)}};
if(d.JS!=255)Z.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(d.JS*100/255)}};if(d.add.iOpa!=null)Z.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(d.add.iOpa*100/255)}};
if(t.length!=0)Z.Blnd={t:"VlLs",v:t};var Y={Me:{classID:"null",Idnt:{t:"TEXT",v:hc.HQ()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},m9:{classID:"Styl",blendOptions:{t:"Objc",v:Z}}},a=d.add.lmfx;
if(a)Y.m9.Lefx={t:"Objc",v:a};return Y};function ip(){}ip.kf=function(d){var v=f.v(ip.av$),t=v.Brsh.v;
if(d!=null){delete t.Hrdn;t.classID="sampledBrush";t.sampledData={t:"TEXT",v:d}}return v};ip.av$={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
ip.aNU=function(d,v){var t=["opVr","szVr"],h=["usePaintDynamics","useTipDynamics"];for(var n=0;n<2;n++){var X=t[n];
if(d[X]==null)d[X]=JSON.parse(ip.Q8.I8[X]);d[X].v.bVTy.v=v[n]?2:0;if(v[n])d[h[n]].v=!0}ip.Q8.abT(d)};
ip.Q8={};ip.Q8.check=function(d){var v=ip.Q8.yE;for(var n=0;n<v.length;n++)if(d[v[n]]==null)d[v[n]]=JSON.parse(ip.Q8.I8[v[n]]);
var t=[];for(var n=0;n<v.length;n++)t.push(v[n]);var h=ip.Q8.a4O;for(var n=0;n<h.length;n++){var X=h[n][0],g=h[n][1],x=!0;
for(var Z=0;Z<X.length;Z++)x=x&&d[X[Z]].v==!0;if(x)for(var Z=0;Z<g.length;Z++){if(d[g[Z]]==null)console.log("Missing conditional parameter "+g[Z]);
else t.push(g[Z])}}for(var Y in d)if(t.indexOf(Y)==-1&&Y!="toolOptions")console.log("Extra parameter "+Y);
d=d.Brsh.v;v=ip.Q8.mV.yE;for(var n=0;n<v.length;n++)if(d[v[n]]==null)d[v[n]]=JSON.parse(ip.Q8.mV.I8[v[n]]);
t=[];for(var n=0;n<v.length;n++)if(d[v[n]])t.push(v[n]);else console.log("Missing default parameter "+v[n]);
h=ip.Q8.mV.afT[d.classID];for(var n=0;n<h.length;n++)if(d[h[n]]==null&&h[n]!="dtipsGridSize"&&h[n]!="dtipsErodibleTipHeightMap"&&d.aOw!=1)console.log("Missing conditional parameter "+h[n]);
else t.push(h[n]);for(var Y in d)if(t.indexOf(Y)==-1)console.log("Extra parameter "+Y)};ip.Q8.abT=function(d){var v=ip.Q8.a4O;
for(var n=0;n<v.length;n++){var t=v[n][0],h=v[n][1],X=!0;for(var g=0;g<t.length;g++)X=X&&d[t[g]]&&d[t[g]].v==!0;
if(X){for(var g=0;g<h.length;g++)if(d[h[g]]==null){d[h[g]]=JSON.parse(ip.Q8.I8[h[g]])}}else for(var g=0;
g<h.length;g++)if(d[h[g]]!=null){delete d[h[g]]}}};ip.Q8.mV={};ip.Q8.mV.yE="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
ip.Q8.mV.I8={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};ip.Q8.mV.afT={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
ip.Q8.a4O=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
ip.Q8.yE="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
ip.Q8.I8={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function k8(d,v){this.a0r=d;this.r$=v==null?0:v;this.dir=0}k8.prototype.NA=function(d,v){var t=this.a0r,h=new cK(d.x-t.x,d.y-t.y),X=new gi;
X.rotate(-this.r$);h=X._V(h);if(this.dir==0&&!t.fE(d))this.dir=Math.abs(h.x)<Math.abs(h.y)?1:2;if(v.A(cQ.cm)){if(this.dir==1)h.x=0;
if(this.dir==2)h.y=0}X.zJ();h=X._V(h);var g=new cK(t.x+h.x,t.y+h.y);return g};k8.prototype.am0=function(d){if(d.A(cQ.cm))return this.dir;
return 0};var b0=function(){function d(){this.aet={}}d.aqP=function(v,t){var h=v.b();h.r2-=Math.floor(h.r2);
h.pE-=Math.floor(h.pE);var X=new cK(t,0),g=new cK(0,t),x=h._V(X),Z=h._V(g),Y=new cK(h.r2,h.pE);return[x,Z,Y]};
d.ayM=function(v,t){var h=cK.A_;return h(v[0],t[0])+h(v[1],t[1])+h(v[2],t[2]);return dsum};d.prototype.aMw=function(v){var t=this.aet,h=t[v];
if(h==null)h=t[v]={yl:[],ys:0,k:0,atB:0,at$:0};h.ys=Date.now();while(Object.keys(t).length>3){var X="",g=Date.now();
for(var x in t){var Z=t[x].ys;if(Z<g){g=Z;X=x}}delete t[X]}return h};d.prototype.a9m=function(v,t){var h=v.yl,X,g=1e6;
for(var n=0;n<h.length;n++){var x=h[n],Z=d.ayM(x.mO,t);if(Z<g){X=x;g=Z}}return X};d.prototype.awe=function(v,t){var h=v.yl;
h.push(t);v.k+=t.S.k();if(h.length>1e3||v.k>100*100*1600){h.sort(function(g,x){return x.ys-g.ys});while(h.length>500||v.k>100*100*800){var X=h.pop();
v.k-=X.S.k()}}};return d}();function hv(d,v,t,h,X,g,x,Z,Y){this.Qt=v;this.ku=t;this.dL=g;this.HW=h;this._I=null;
this.CT=null;this.kF=0;this.af4=0;this.aKk=0;this.hJ=0;this.DO=0;this.Fl=Y==null?Math.floor(Math.random()*16777215):Y;
this.QC=Y==null?Math.floor(Math.random()*16777215):Y;this._S=new iW;this.B9=new iW;this.qx=h.depth?h.depth:8;
if(Z!=null){this.sN=Z}else{var a=hv.atH;if(a.length!=x.k()*4)a=f.m(x.k()*4,this.qx);else a.fill(0);this.sN=hv.atH=a}this.S=x.b();
this.IV=[];this.xf=[];this.dg=null;this.Sw=0;this.X=null;this.a1O="";this.lH=null;this.atm=null;this.alS(d,X)}hv.atH=f.m(0);
hv.prototype.alS=function(d,v){this.Sw=v;this.X=d;this.a1O=JSON.stringify(d)+JSON.stringify(this.HW.Uo);
this.lH=hv.aA8(this.X,this.Qt,this.ku);this.lH.kv[0]=f.OO(this.lH.kv[0],this.qx);this.atm=f.m(this.lH.kv[1].k()*4,this.qx);
f.Gj(this.lH.kv[0],this.atm,3)};hv.prototype.moveTo=function(d,v,t){t=this.aKU(t);this.kF=t;var h=new cK(d,v),X=this.X.Brsh.v.Dmtr.v.val;
this._I=h.b();this.CT=h.b();this.dg=h.b();this.IV=[d,v];this.xf=[t];if(this.HW.aNt!=hv.FT){var g=this.X.angleDynamics,x=g?g.v.bVTy.v==6:!1;
this.iB(x?new iW:this.aki(h,this.axy(t),t,new cK(0,0)))}this.hJ=h.b()};hv.prototype.lineTo=function(d,v,t){t=this.aKU(t);
var h=this.IV,X=h.length,g=h[X-2],x=h[X-1];if(d==g&&v==x)return;var Z=this.X.Brsh.v.Dmtr.v.val,Y=Math.ceil(Z)+1,a=new iW(Math.round(g),Math.round(x),0,0);
a.o2(Y,Y);var z=new iW(Math.round(d),Math.round(v),0,0);z.o2(Y,Y);this.IV.push(d,v);this.xf.push(t);
X+=2;if(X>=6)this.iB(this.aMW(X))};hv.prototype.aKU=function(d){if(d==null)d=1;d=Math.max(.05,Math.min(5,d));
if(isNaN(d)){alert("Pressure is not a number");throw"e"}return d};hv.prototype.iB=function(d){this._S=d;
this.B9=this.B9.Ue(d)};hv.prototype.finish=function(){var d=this.IV,v=d.length,t;if(v==4)t=this.U2(d[v-2],d[v-1],this.xf[(v>>1)-1],!0);
if(v>4)t=this.aMW(v+2);if(t)this.iB(t)};hv.prototype.pT=function(){return this.S.b()};hv.prototype.iS=function(){return this._S.hL(this.S)};
hv.prototype.WM=function(){return this.B9.hL(this.S)};hv.prototype.Ll=function(){return this.sN};hv.prototype.aMW=function(d){var v=this.IV,t=this.xf,h=v[d-6],X=v[d-5],g=v[d-4],x=v[d-3],Z=t[(d>>1)-3],Y=t[(d>>1)-2],a=new cK(0,0),z=new cK(0,0);
if(8<=d)a=hv.apd(v[d-8],v[d-7],h,X,g,x);if(d<=v.length)z=hv.apd(v[d-2],v[d-1],g,x,h,X);var p=h+a.x,U=X+a.y,l=g+z.x,L=x+z.y,j=new iW,O=this.aKF()?1:10;
for(var n=0;n<O;n++){var F=(n+1)/O,i=1-F,$=i*i*i*h+3*F*i*i*p+3*F*F*i*l+F*F*F*g,H=i*i*i*X+3*F*i*i*U+3*F*F*i*L+F*F*F*x,b=this.U2($,H,Z+F*(Y-Z));
j=j.Ue(b)}return j};hv.apd=function(d,v,t,h,X,g){var x=d-t,Z=v-h,Y=X-t,a=g-h,z=Math.sqrt(x*x+Z*Z),p=Math.sqrt(Y*Y+a*a),U=Math.acos((x*Y+Z*a)/(z*p))/Math.PI,l=.35,L=.1;
U=L+U*(l-L);var j=X-d,O=g-v,F=Math.sqrt(j*j+O*O),i=U*p/F;return new cK(j*i,O*i)};hv.prototype.U2=function(d,v,t,h){var X=new iW,g=this.HW.a0S;
if(g==null)g=0;if(g==0||h){X=this.ac3(d,v,t);return X}var x=this.dg,Z=d-x.x,Y=v-x.y,a=Math.sqrt(Z*Z+Y*Y);
Z/=a;Y/=a;if(a>g){var z=x.x+Z*(a-g),p=x.y+Y*(a-g);X=this.ac3(z,p,t);this.dg.QG(z,p)}return X};hv.prototype.aKF=function(){var d=this.X,v=d.Brsh.v.Dmtr.v.val;
return this.HW.Uo&&v==1};hv.prototype.ac3=function(d,v,t){var h=new iW,X=new cK(d,v),g=this.HW.aNt,x=X.hP(this.CT);
x.normalize(1);var Z=cK.A_(this.CT,X),Y=-this.af4,a=this.CT.b();if(this.aKF()){if(Z>.99){var z=this.CT,p=f.yB.a5D(X,this.S,this.HW._$);
for(var n=0;n<p.length;n++){var U=p[n],l=U._V(z),L=U._V(X);hv.aco(l,L,this.sN,this.S,this.Un(this.X));
h=h.Ue(f.Q.k2([l.x,l.y,L.x,L.y]))}Y=Z}else X=this.CT}else while(!0){var j=this.kF+(t-this.kF)*(Math.max(0,Y)/Z),O=this.axy(j),F=this.a5p()*(O+this.aKk)/2*this.lH.aJn;
if(g==hv.FT)F=1;F=Math.max(F,.5);if(Y+F<Z){Y+=F;this.DO+=F;var i=new cK(this.CT.x+x.x*Y,this.CT.y+x.y*Y),H=1;
if(g==hv.FT){var L=a.b();L.x+=x.x>0?1:-1;var $=a.b();$.y+=x.y>0?1:-1;if(cK.A_(L,i)<cK.A_($,i))i=L;else i=$;
Y=cK.A_(i,this.CT)}if(this.X.useScatter.v==!0){H=this.X.Cnt.v;var b=this.X.countDynamics.v.jitter.v.val/100,r=b*(-1+2*this.V5());
H+=Math.round(H*r)}for(var n=0;n<H;n++){var W=this.aki(i,O,t,x);h=h.Ue(W)}a=i}else break}this.af4=Z-Y;
this.CT=X;this.kF=t;return h};hv.prototype.a5p=function(){var d=this.X.Brsh.v,v=d.Spcn.v.val,t=Math.max(5,d.Rndn.v.val);
return t/100*(v/100)};hv.prototype.axy=function(d){var v=this.X,t=v.Brsh.v.Dmtr.v.val;if(v.useTipDynamics.v){var h=t*(v.minimumDiameter.v.val/100);
t=h+(t-h)*(1-this.V5(this.QC)*(v.szVr.v.jitter.v.val/100));t*=hv.oz(v,"szVr",d,this.DO)}return t};hv.oz=function(d,v,t,h){var X=1,g=d[v].v,x=g.bVTy.v,Z=g.fStp.v;
if(x==1)X*=Math.max(0,(Z-h)/Z);if(x==2)X*=t;return X};hv.prototype.aki=function(d,v,t,h){var X=this.HW.oF,j=0;
X=Math.min(1,X);var g=this.X,x=this.X.Brsh.v,Z=x.Dmtr.v.val,Y=this.HW,a=Y.aNt,z=Y.a03,p=this.lH.kv[1],U=new gi;
U.translate(-p.r/2,-p.$/2);U.scale(1/this.lH.ab7,1/this.lH.ab7);U.scale(v/Z,v/Z);U.scale(1,Math.max(5,x.Rndn.v.val)/100);
if(g.usePaintDynamics&&g.usePaintDynamics.v){var l=g.opVr.v.jitter.v.val/100,L=g.prVr.v.jitter.v.val/100;
X*=1-this.V5()*l;X*=1-this.V5()*L;X*=hv.oz(g,"opVr",t,this.DO)*hv.oz(g,"prVr",t,this.DO)}if(g.useTipDynamics.v){var O=g.angleDynamics.v,F=g.minimumRoundness.v.val/100;
U.scale(1,F+(1-F)*Math.round(100-this.V5()*g.roundnessDynamics.v.jitter.v.val)/100);j+=(-.5+this.V5())*4*Math.PI*(O.jitter.v.val/100);
j+=hv.oz(g,"angleDynamics",t,this.DO)*2*Math.PI;if(O.bVTy.v==6)j+=Math.atan2(-h.y,h.x)}j+=x.Angl.v.val*(Math.PI/180);
U.rotate(j);if(g.useScatter.v){var i=(-1+2*this.V5())*g.scatterDynamics.v.jitter.v.val/100;U.translate(-i*v*h.y,i*v*h.x)}U.translate(d.x,d.y);
var H=this.aMZ(U,d,v),b=H.S.b();if(a==null){var r=this.Un(g);f.VT(H.Rx,r.C,r.L,r.X);if(this.B9.HP()&&this.S.fE(H.S)&&X==1)this.sN=H.Rx.slice(0);
else{var W=f.yB.a5D(d,this.S,Y._$);for(var n=0;n<W.length;n++){var V=W[n],y,c;if(V.aX==1&&V.X==0&&V.Wp==0&V.r7==1){y=H.Rx;
c=H.S.b();c.x+=V.r2;c.y+=V.pE}else{var S=U.b();S.concat(V);var C=this.aMZ(S,V._V(d),v);y=C.Rx;c=C.S;
f.VT(y,r.C,r.L,r.X)}if(c.GD(this.S)){b=b.Ue(c);if(this.qx==8)f.V.ate(y,c,this.sN,this.S,c,X);else f.V.Qe("norm",y,c,this.sN,this.S,c,X)}}}}if(a==hv.FT){var K=new cK(H.S.x+H.S.r/2,H.S.y+H.S.$/2),T=Math.round(K.x-this.hJ.x),D=Math.round(K.y-this.hJ.y),N=H.S.b();
N.offset(-T,-D);var G=N.hL(this.S);G.offset(T,D);f.wH(this.sN,this.S,H.Rx,N);if(this.qx==8)f.V.asC(H.Rx,H.S,this.sN,this.S,H.rR,H.S,X);
else f.V.cI(H.Rx,H.S,this.sN,this.S,H.rR,H.S,0,G,X,!1)}if(a==hv.xj||a==hv.oT||a==hv.dJ){var s=H.S.hL(this.S),Q;
if(s.fE(H.S))Q=H.rR;else{Q=f.m(s.k(),this.qx);f.Qb(H.rR,H.S,Q,s)}var q=f.m(s.k()*4,this.qx);f.wH(this.sN,this.S,q,s);
if(a==hv.oT){var R=q.slice(0),m=f.mD.Za([-1,-1,-1,-1,25,-1,-1,-1,-1]);f.mD.Rz(q,R,s.r,s.$,m);f.Hy(R,q)}else if(a==hv.dJ){var E=e0.yu("UnsM");
E.Amnt.v.val=15;E.Thsh.v=0;E.Rds.v.val=5;var R=f.m(q.length,this.qx);e0.yh("UnsM",{buffer:q,S:s},E,0,0,{buffer:R,S:s});
f.Hy(R,q)}else{e0.ta(1,0,q,s)}if(this.qx==8)f.V.asC(q,s,this.sN,this.S,Q,s,X);else f.V.cI(q,s,this.sN,this.S,Q,s,0,s,X,!1)}this.aKk=v;
this.hJ=K;this.QC++;return b};hv.prototype.Un=function(d){var v=f.le(this.Sw,1),t=d.colorDynamicsPerTip,h=null;
t=t?t.v:!1;if(this.afA==null)this.afA=this.Fl;if(!t){h=this.Fl;this.Fl=this.afA}if(d.useColorDynamics&&d.useColorDynamics.v){var X=1-this.V5()*d.clVr.v.jitter.v.val/100,g=f.le(this.dL,1);
v.C=X*v.C+(1-X)*g.C;v.L=X*v.L+(1-X)*g.L;v.X=X*v.X+(1-X)*g.X;var x=(-.5+this.V5())*d.H.v.val/100,Z=(-1+2*this.V5())*d.Strt.v.val/100,Y=(-1+2*this.V5())*d.Brgh.v.val/100,a=f.qZ(v.C,v.L,v.X);
a.uV=(a.uV+x+1)%1;a.Wx=a.Wx+Z;if(a.Wx<0)a.Wx=-a.Wx;if(a.Wx>1)a.Wx=1-(a.Wx-1);a.k1=a.k1+Y;if(a.k1<0)a.k1=-a.k1;
if(a.k1>1)a.k1=1-(a.k1-1);v=f.JY(a.uV,a.Wx,a.k1)}if(!t)this.Fl=h;return v};hv.prototype.Q8=function(d){return Math.max(0,Math.min(1,d))};
hv.prototype.V5=function(d){if(d==null){d=this.Fl++}return hv.hash(d)};hv.hash=function(d){d=d^61^d>>16;
d=d+(d<<3);d=d^d>>4;d=d*668265261;d=d^d>>15;return(d&16777215)/16777215};hv.auX=new b0;hv.a7d=function(d,n,v){var t=d[n],h=d[v];
d[n]=4+7*t+h>>>3;d[v]=4+7*h+t>>>3};hv.prototype.aMZ=function(d,v,t){var h=this.HW.Uo,X=this.X.Brsh.v,g=Math.round(X.Dmtr.v.val),x;
if(h&&g<=3){x={N:f.m(g*g,this.qx),S:new iW(Math.round(v.x-g/2),Math.round(v.y-g/2),g,g)};x.N.fill(f.ay(this.qx))}else if(d.aX==1&&d.X==0&&d.Wp==0&&d.r7==1){x={N:this.lH.kv[0],S:this.lH.kv[1].b(),Rx:this.atm};
x.S.x=Math.round(d.r2);x.S.y=Math.round(d.pE)}else{if(d.Mk()>1e-4){x=A.hZ.a0t(this.lH.kv,d);var Z=x.S.r,Y=x.S.$,a=x.N;
if(X.classID=="sampledBrush"&&f.UJ(a)==8&&Z*Y>25)for(var z=1;z<Y;z++)for(var p=1;p<Z;p++){var n=z*Z+p;
hv.a7d(a,n,n-1);hv.a7d(a,n,n-Z)}}}if(x)x.N=f.OO(x.N,this.qx);if(x==null)x={N:f.m(0,this.qx),S:new iW};
var U={rR:x.N,S:x.S,Rx:x.Rx};if(U.Rx==null||h){if(h)f.round(x.N);U.Rx=f.m(x.S.k()*4,this.qx);f.Gj(U.rR,U.Rx,3)}return U};
hv.aA8=function(d,v,t){var h,X,g,x=d.Brsh.v.Dmtr.v.val,Z=d.Brsh.v.classID;if(Z=="computedBrush"){var Y=d.Brsh.v.Hrdn.v.val/100;
X=x<100?1.4:1;g=1;h=f.auH.akG(x,Y,X)}if(Z=="sampledBrush"){var a;for(var n=0;n<v.length;n++)if(v[n].id==d.Brsh.v.sampledData.v)a=v[n];
h=a.kv;var z=h[1];X=Math.max(z.r,z.$)/x;g=Math.min(z.r,z.$)/Math.max(z.r,z.$)}return{ab7:X,aJn:g,kv:h}};
hv.$D=null;hv.fy=null;hv.tp=function(d,v,t,h,X,g){var x=hv.$D,Z=hv.fy;if(x==null){hv.$D=x=document.createElement("canvas");
hv.fy=Z=x.getContext("2d")}if(g==null)g=h;if(x.width!=g||x.height!=X){x.width=g;x.height=X}else Z.clearRect(0,0,g,X);
Z.fillStyle="#000000";Z.font=Math.floor(10*A.LY())+"px sans-serif";var Y=d.Brsh.v.Dmtr.v.val,a=""+Y,z=d.useBrushSize;
if(z&&z.v)a="---";var p=Z.measureText(a);Z.fillText(a,(h-p.width)/2,X-2);var U=h,l=X-10*A.LY(),L=Math.min(U,l),j=d.Brsh.v.classID;
if(j=="computedBrush"){Z.translate(U/2,l/2);Z.rotate(-d.Brsh.v.Angl.v.val*Math.PI/180);Z.scale(1,.1+.9*d.Brsh.v.Rndn.v.val/100);
var O=Math.min(.95*L/2,Y/2)+.5,F=.9*d.Brsh.v.Hrdn.v.val/100,i=Z.createRadialGradient(0,0,0,0,0,O);i.addColorStop(F,"rgba(0,0,0,1)");
i.addColorStop((.5+F)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");Z.fillStyle=i;Z.fillRect(-O,-O,2*O,2*O);
Z.setTransform(1,0,0,1,0,0)}else if(j=="sampledBrush"){var $,V=0;for(var n=0;n<v.length;n++)if(v[n].id==d.Brsh.v.sampledData.v)$=v[n];
var H=$.kv;f.n7(H);var b=H[0],r=H[1].r,W=H[1].$;while((r>U||W>l)&&H[V+2]){V+=2;b=H[V];r=H[V+1].r;W=H[V+1].$}if(r*W!=0){var y=f.m(r*W*4);
f.Gj(b,y,3);var c=new ImageData(new Uint8ClampedArray(y.buffer),r,W);Z.putImageData(c,Math.round((U-r)/2),Math.round((l-W)/2))}}else{}return x.toDataURL()};
hv.hv=function(d,v,t,h){if(t==0)t=1;var X=d.Brsh.v,g=X.Dmtr.v.val,x=X.Angl.v.val,Z=X.Dmtr.v.val=Math.min(h!=null?Math.round(h*2.6):3e3,g*t),Y=X.Hrdn?X.Hrdn.v.val/100:1,a=h!=null?h:Math.round((x==0?1:1.42)*Z*(1+.55*(1-Y)))+4,U;
a=Math.max(25,Math.min(a,3e3));var z=new iW(0,0,a,a),p=new hv(d,v,null,{oF:1},16711712,0,z);X.Dmtr.v.val=g;
p.moveTo(z.r/2,z.$/2);var l=f.OO(p.Ll(),8),L=p.pT();if(z.fE(L))U=l;else{U=f.m(z.k()*4);f.wH(l,L,U,z)}return[U,z,Z]};
hv.zt=function(d,v,t,h){var X=v.r,g=X>>>1;for(var n=2;n<7;n++){d[X*(g-n)+g-1]=h;d[X*(g-n)+g]=t;d[X*(g-n)+g+1]=h;
d[X*(g+n)+g-1]=h;d[X*(g+n)+g]=t;d[X*(g+n)+g+1]=h;d[X*(g-1)+g-n]=h;d[X*g+g-n]=t;d[X*(g+1)+g-n]=h;d[X*(g-1)+g+n]=h;
d[X*g+g+n]=t;d[X*(g+1)+g+n]=h}h=t;if(A.LY()>=1.5)for(var n=5;n<11;n++){d[X*(g-n)+g-1]=h;d[X*(g-n)+g]=t;
d[X*(g-n)+g+1]=h;d[X*(g+n)+g-1]=h;d[X*(g+n)+g]=t;d[X*(g+n)+g+1]=h;d[X*(g-1)+g-n]=h;d[X*g+g-n]=t;d[X*(g+1)+g-n]=h;
d[X*(g-1)+g+n]=h;d[X*g+g+n]=t;d[X*(g+1)+g+n]=h}};hv.FR=function(d,v,t,h){var X=hv.hv(d,v,t),g=X[0].slice(0),x=X[1],Z=X[2],Y=x.k(),a=f.m(Y);
f.Po(g,a,3);var z=f.m(Y);f.p.aHe(a,z,x,A.LY()>1.9);if(Z<3||f.ht(z,0)||h&&Z>12){hv.zt(z,x,255,0)}var p=[3,5,3,4,8,4,3,5,3];
p=f.mD.Za(p);f.mD.HG(z,a,x.r,x.$,p);g.fill(255);f.Gj(a,g,3);for(var n=0;n<Y;n++)if(z[n]==255){g[n<<2]=g[(n<<2)+1]=g[(n<<2)+2]=0;
g[(n<<2)+3]=255}return{MP:g,BS:x,h4:new cK(x.r/2,x.$/2)}};hv.aco=function(d,v,t,h,X){var g=4278190080|Math.round(X.X*255)<<16|Math.round(X.L*255)<<8|Math.round(X.C*255)<<0;
t=new Uint32Array(t.buffer);var x=Math.floor(d.x),Z=Math.floor(d.y),Y=Math.floor(v.x),a=Math.floor(v.y),z=Math.abs(Y-x),p=Math.abs(a-Z),U=x<Y?1:-1,l=Z<a?1:-1,L=z-p;
while(!0){if(0<=x&&x<h.r&&0<=Z&&Z<=h.$)t[Z*h.r+x]=g;if(x==Y&&Z==a)break;var j=2*L;if(j>-p){L-=p;x+=U}if(j<z){L+=z;
Z+=l}}};hv.FT="0";hv.xj="1";hv.oT="2";hv.dJ="3";var ka={};ka.Vs=function(d,v,t){if(t==null)t=!0;var h=d.add.TySh,X=h.Oo,g=new cl(X,v,h.s1);
d.nG.PJ=g.Es();var x=d.nG.path=ka.qp(g,h);if(j8!=0)return[x,g,null];var Z=ka.LB(x,h.M,jM.nk(h));if(t){d.S=Z.BS;
var Y=f.UJ(d.buffer);d.buffer=f.OO(Z.sN,Y);d.uM()}return[x,g,Z]};ka.LB=function(d,v,t){d={s2:d.s2,I:d.I.slice(0)};
f.Q.M(d.I,v,d.I);var h=f.Q.k2(d.I),X=0,g=!1;if(h.HP())return{sN:f.m(0),BS:new iW};for(var n=0;n<d.s2.length;
n++){var x=d.s2[n];if(x[0]=="O"&&x[1]=="-"){var Z=x.split("-");X=Math.max(X,parseFloat(Z[2]));if(Z[4]=="0")g=!0}}X=Math.ceil((g?2:1)*X*v.Mk()/2);
h.o2(X,X);var Y=f.km(h.r,h.$);Y.translate(-h.x,-h.y);ka.alB(d,Y);var a=Y.getImageData(0,0,h.r,h.$),z=new Uint8Array(a.data.buffer);
if(t==0)for(var n=0;n<z.length;n+=4)z[n+3]=z[n+3]>80?255:0;if(t==3)for(var n=0;n<z.length;n+=4)z[n+3]=Math.min(255,z[n+3]*1.5);
Y.resetTransform();Y.beginPath();return{sN:z,BS:h}};ka.qp=function(d,v,t){var h=v.M,X=v.Oo;ka.Xd=h.Mk();
var g=jM.nk(v),x=Math.max(h.X*h.X,h.Wp*h.Wp)<1e-9?h:null;if(g==3||g==4)x=null;var Z={s2:[],I:[]};ka.apg(d,Z,x,!0);
ka.apg(d,Z,x,!1);Z=ka.vA(Z,v,d,t);return Z};ka.Xd=1;ka.vA=function(d,v,t,h){if(d==null)return d;if(t&&t.Ea)f.Q.M(d.I,t.Ea,d.I);
if(t&&!f.kk.vs(v.yv)){var X=jM.pT(v,t);if(!X.HP()){if(d.s2){d=f.Q.jo(d);var g=Math.min(X.r,X.$)/8;if(g<1)g=1;
d=f.Q.f5(d,g)}var x=f.kk.kU(v.yv,X);f.g_.M(x,d.I,X)}}var Z=v.M;if(h)f.Q.M(d.I,Z,d.I);return d};ka.alB=function(d,v){v.save();
v.miterLimit=2;Typr.U.pathToContext({crds:d.I,cmds:d.s2},v);v.restore()};ka.Ns=function(d,v,t){var h=cl.azl(t),X=d.Oo,g=X.ResourceDict.FontSet,x=X.ResourceDict.StyleSheetSet[0].StyleSheetData,Z=X.EngineDict.StyleRun.RunLengthArray,Y=X.EngineDict.StyleRun.RunArray,a=jM.W3(X),z=!0,p={},U=0;
for(var n=0;n<Y.length;n++){var l=Y[n].StyleSheet.StyleSheetData.Font;if(l==null)l=x.Font;for(var L=0;
L<Z[n];L++){var j=a.charCodeAt(U+L),O=l+","+(j>128?j:-1),F=jM.Ps(g[l]);if(p[O]==null){p[O]=1;if(v.wv(F,j)==null)z=!1}}U+=Z[n]}return z&&h};
ka.Or=function(d,v,t){var h=!0;for(var X=0;X<d.U.length;X++){var g=d.U[X],x=g.add.TySh;if(x!=null&&!ka.Ns(x,v,t))h=!1}return h};
ka.Wm=function(d,v,t){for(var h=0;h<d.U.length;h++){var X=d.U[h],g=X.add.TySh;if(g!=null&&ka.Ns(g,v,t)){ka.Vs(X,v);
d.uM()}}};ka.apg=function(d,v,t,h){var X=new gi;for(var n=0;n<d.eE.length;n++)ka.aBg(d.Uy,d.eE[n],v,X,t,h)};
ka.aBg=function(d,v,t,h,X,g){h.translate(v.rT.x,v.rT.y);for(var n=0;n<v.w4.length;n++){var x={},Z=v.w4[n],z=0;
if(!Z.xH)break;var Y=h.b();Y.translate(Z.rT.x,Z.rT.y);if(X){var a=X.pE+Y.pE*X.r7;Y.pE=(Math.round(a)-X.pE)/X.r7}for(var p=Z.start;
p<Z.end;p++)z=Math.max(z,v.DI[p].hl);for(var p=Z.start;p<Z.end;p++){ka.adn(d,v.DI[p],v,x,t,Y,X,g,z)}}h.translate(-v.rT.x,-v.rT.y)};
ka.adn=function(d,v,t,h,X,g,x,Z,Y){g.translate(v.rT.x,v.rT.y);for(var a=v.bR;a<=v.fw;a++){var z=t.Ym[a],p=z.BS.r,U=d[t.auM+z.bv],l=U.j8._FillBackgroundFlag;
if(U.yR=="\n"||Z&&!l)continue;var L=U.j8.FontSize/U.ai.head.unitsPerEm,j=g.b();j.translate(z.rT.x+z.Xh*L,z.rT.y-z.WS*L);
var O=new gi;O.scale(L,-L);if(U.j8.FauxItalic)O.concat(new gi(1,0,-Math.tan(.18),1,0,0));O.translate(0,U.acf);
O.scale(U.scale.x,U.scale.y);if(U.j8.BaselineShift!=null)O.translate(0,-U.j8.BaselineShift);if(z.r$!=0){O.rotate(-z.r$)}O.concat(j);
var F=(U.j8.OutlineWidth?U.j8.OutlineWidth:1)*ka.Xd;if(Z){X.s2.push(ka.Un(U.j8._FillBackgroundColor));
var i=1.005*z.BS.$/L,$=new iW(-z.Xh,-i*.27,1.03*z.BS.r/(L*U.scale.x),i);if(U.j8.StrokeFlag)$.o2(F/L,F/L);
f.Q.concat(X,f.Q.Ya($),O);X.s2.push("X");continue}if(U.j8.FillFlag)X.s2.push(ka.Un(U.j8.FillColor));
if(U.j8.StrokeFlag){var H=kV.J1.aHr(U.j8);X.s2.push(ka.aLf(H))}if(z.path.s2.length!=0&&U.yR!="\t"){if(x){var b=x.r2+O.r2*x.aX;
O.r2=(Math.round(b)-x.r2)/x.aX}if(U.j8.FauxBold){var r=U.j8.FontSize/2048*27*U.scale.x,W=Math.cos(z.r$)*r,V=Math.sin(z.r$)*r;
O.r2+=W;O.pE+=V;f.Q.concat(X,z.path,O);O.r2-=W+W;O.pE-=V+V;f.Q.concat(X,z.path,O)}else f.Q.concat(X,z.path,O)}if(U.yR!="\n"){var y=z.BS.r/L;
if(U.j8.Underline){if(h.aa2==null)h.aa2=U.ai.post.underlineThickness/U.ai.head.unitsPerEm;if(h.a3Q==null)h.a3Q=U.ai.post.underlinePosition;
console.log(U.ai.name.aDC,U.ai.post.underlineThickness/U.ai.head.unitsPerEm);var c=0,S=0,C=0,K=1/(L*U.scale.y),T=-Y*K;
C=-T*h.aa2*1.6;S=T*.3;f.Q.concat(X,{s2:["M","L","L","L","Z"],I:[c,S,c+y,S,c+y,S+C,c,S+C]},O)}if(U.j8.Strikethrough){var D=U.ai["OS/2"].yStrikeoutSize,N=U.ai["OS/2"].yStrikeoutPosition,c=0,S=N+D/2,C=-D;
f.Q.concat(X,{s2:["M","L","L","L","Z"],I:[c,S,c+y,S,c+y,S+C,c,S+C]},O)}}var G=U.j8.FillFlag,s=U.j8.FillFirst;
if(s==null)s=!0;if(G&&s)X.s2.push("X");if(U.j8.StrokeFlag)X.s2.push("OX");if(G&&!s)X.s2.push("X")}g.translate(-v.rT.x,-v.rT.y)};
ka.aLf=function(d){var v=d.rA,t=["O","#"+f.Uj(f.Lw({C:v[0],L:v[1],X:v[2]},1)),d.O8];t.push(d.ln,d.yQ,d.Ek,d.h2,d.gn.join(","));
return t.join("-")};ka.aJ9=function(d){var v=parseFloat,t=d.split("-"),h=f.le(parseInt(t[1].slice(1),16)),X=t[8]=="1"?2:0;
return{rA:[h.C/255,h.L/255,h.X/255],O8:v(t[2]*(X==2?.5:1)),ln:v(t[3]),yQ:v(t[4]),Ek:v(t[5]),h2:v(t[6]),gn:t[7]==""?[]:t[7].split(",").map(v),Q0:X}};
ka.Un=function(d){return"#"+f.Uj(f.Lw(jM.pq(d)))};function cl(d,v,t){var h=jM.YX(d),X,g,x=jM.pg(d),Z=d._LineOrientation==2?new gi:null,p,l;
if(d.Curve)g=cl.Vz(d.Curve);if(h!=0){X=new iW(x[0],x[1],x[2],x[3]);if(Z){var Y=X.r;X.r=X.$;X.$=Y;Z.translate(0,-x[2])}if(h==2){X.r=g[5]-g[4];
X.$=9999}}this.eE=[];this.Uy=[];this.tJ=h;this.Ea=Z;var a=this.asa=jM.W3(d),z=-1,U=-1;for(var n=0;n<a.length;
n++){var L=p,j=jM.aoD(d,n);if(j!=z){z=j;L=p=jM.apX(d,j)}var O=l,j=jM.aad(d,n);if(j!=U){U=j;O=l=jM.ag3(d,j)}var F={yR:a.charAt(n),j8:L,ai:null,Nq:null,ae6:!1,FQ:-1,XQ:jM.aEX(d,n),acf:0,scale:new cK(0,0),hl:0,lineHeight:0,lb:0},i=d.ResourceDict.FontSet[L.Font],$=jM.Ps(i),H=F.ai=v.wv($,a.charCodeAt(n));
if(i.Axis){var b=F.Nq=i.Axis.slice(0),r=H.fvar;for(var W=0;W<b.length;W++)b[W]/=65536;if(r&&r[0].length<b.length)F.Nq=F.Nq.slice(0,r[0].length)}if(L.FontCaps==1)F.ae6=H&&H.GSUB&&H.GSUB.smcp?!1:!0;
F.scale.x=L.HorizontalScale==null?1:L.HorizontalScale;F.scale.y=L.VerticalScale==null?1:L.VerticalScale;
var V=H["OS/2"],y=H.hhea;if(F.ae6&&F.yR!=F.yR.toUpperCase()){var c=.7;F.scale.x*=c;F.scale.y*=c}var S=1/H.head.unitsPerEm*L.FontSize;
if(L.FontBaseline==1){var c=d.ResourceDict.SuperscriptSize;F.scale.x*=c;F.scale.y*=c;F.acf-=d.ResourceDict.SuperscriptPosition*L.FontSize}if(L.FontBaseline==2){var c=d.ResourceDict.SubscriptSize;
F.scale.x*=c;F.scale.y*=c;F.acf+=d.ResourceDict.SubscriptPosition*L.FontSize}F.hl=cl.hl(H)*L.FontSize;
var C=O.AutoLeading;F.lineHeight=L.FontSize*(C==null?1.2:C);if(L.AutoLeading==!1)F.lineHeight=L.Leading;
if(F.yR=="\n"&&a[n-1]!="\n")F.lineHeight=0;if(F.lineHeight==0)F.lineHeight=.01;this.Uy.push(F)}var K=this.eE,T=[0];
for(var n=0;n<d.EngineDict.ParagraphRun.RunLengthArray.length;n++){var D=new cl.P4(d,v,this.Uy,n,X,T,h==1?g:null);
K.push(D)}if(Z){if(h==0)Z.translate(0,K[0].DI[0].hl/2);Z.rotate(-Math.PI/2)}if(h==2){var N=d.Curve.Points,G=g[0],s=g[1],Q=g[2],q=g[3],R=g[4],m=g[5];
for(var n=0;n<K.length;n++)for(var W=0;W<K[n].w4.length;W++)if(!(n==0&&W==0))K[n].w4[W].xH=!1;var D=K[0],E=D.w4[0];
D.rT.QG(0,0);E.rT.QG(0,0);for(var W=E.start;W<E.end;W++){var e=D.DI[W],w=e.rT.x;e.rT.x=0;for(var M=e.bR;
M<=e.fw;M++){var P=D.Ym[M],I=P.BS.r/2;P.rT.x+=w;var k=cl.ai_(G,(R+P.rT.x+I)%q);P.rT.x=k[0]-I*k[2];P.rT.y=k[1]-I*k[3];
P.r$=Math.atan2(k[3],k[2])}}}if(t){var o=t.VAlign.v;if(o!=0&&jM.YX(d)==1){var af=jM.pg(d)[3],J=this.Es().$,at=0;
if(o==1)at=af-J;if(o==2)at=(af-J)/2;for(var n=0;n<this.eE.length;n++)this.eE[n].rT.y+=at}}}cl.hl=function(d){var v=d._hhhh;
if(v==null){var t=Typr.U,h=t.codeToGlyph(d,104),X=f.Q.mo(Typr.U.glyphToPath(d,h).crds).$;v=d._hhhh=X*(1/d.head.unitsPerEm)}return v};
cl.prototype.aIL=function(){return!this.atO(0)};cl.prototype.aNC=function(){return this.atO(1)};cl.prototype.atO=function(d){var v=this.eE,t=!0,h=0;
for(var n=0;n<v.length;n++){var X=v[n].w4,g=X.length;h+=g;for(var x=0;x<g;x++)t&=X[x].xH}return[t,h][d]};
cl.Vz=function(d,v,t){if(v==null)v=.25;var h=d.Points,X=h.length,g=X>>>3,x=d.TextOnPathTRange,Z=d.Reversed,U=0,l=0;
if(Z){var Y=h.slice(0);for(var n=0;n<X;n+=2){Y[n]=h[X-2-n];Y[n+1]=h[X-1-n]}h=Y;x=[g-x[1]%g,g-x[0]%g]}var a=[],z=[0],p=[0];
for(var n=0;n<X;n+=8){var L=h[n+6]-h[n+0],j=h[n+7]-h[n+1],O=Math.round(Math.sqrt(L*L+j*j)/v),F=t&&n==X-8?O+1:O;
for(var i=0;i<F;i++){var $=i/O,H=1-$,b=H*H*H*h[n+0]+3*H*H*$*h[n+2]+3*H*$*$*h[n+4]+$*$*$*h[n+6],r=H*H*H*h[n+1]+3*H*H*$*h[n+3]+3*H*$*$*h[n+5]+$*$*$*h[n+7];
a.push(b,r);if(n+i!=0){var L=b-U,j=r-l;p.push(p[p.length-1]+Math.sqrt(L*L+j*j));z.push((n>>>3)+$)}U=b;
l=r}}var v=p.length,W=p[v-1],V=cl.he(x[0]%g,z),y=cl.he(x[1]%g,z),c=p[V%v],S=p[y%v];if(c>=S)S+=W;return[a,z,p,W,c,S]};
cl.he=function(d,v){var n=0;while(v[n]<d)n++;return n};cl.ai_=function(d,v){var t=0,n=0,h,X,g;while(t<v){h=d[n+2]-d[n];
X=d[n+3]-d[n+1];g=Math.sqrt(h*h+X*X);t+=g;n+=2}return[d[n],d[n+1],h/g,X/g]};cl.prototype.akn=function(d){return this.Uy[d]};
cl.prototype.aiS=function(d){for(var v=0;v<this.eE.length;v++){var t=this.eE[v];for(var h=0;h<t.w4.length;
h++){var X=t.w4[h],g=t.DI[X.start].start,x=t.DI[X.end-1].end;if(g<d&&d<x)return[g,x-1]}}return[0,1]};
cl.prototype.aN3=function(d,v){var t=-1,h=this.eE;if(this.tJ==2){var X=1e9,g=0,x=h[0],Z=x.w4[0];for(var Y=Z.start;
Y<Z.end;Y++){var a=x.DI[Y];for(var z=a.bR;z<=a.fw;z++){var p=x.Ym[z],U=p.BS.r,l=d.x-p.rT.x,L=d.y-p.rT.y,j=l*l+L*L;
if(j<X){X=j;g=p.bv}}}if(g!=0&&this.asa.codePointAt(g-1)>65535)g--;return g}for(var O=0;O<h.length;O++){var x=h[O];
for(var F=0;F<x.w4.length;F++){t++;var Z=x.w4[F],i=x.w4[F+1];if(i==null&&O<h.length-1)i=h[O+1].w4[0];
if(v!=null){if(t!=v)continue}else{if(i!=null&&x.rT.y+Z.rT.y<d.y)continue}for(var Y=Z.start;Y<Z.end;Y++){var a=x.DI[Y];
for(var z=a.bR;z<=a.fw;z++){var p=x.Ym[z],U=p.BS.r,$=x.rT.x+Z.rT.x+a.rT.x,H=$+p.rT.x,b=$+(z<a.fw?x.Ym[z+1].rT.x:p.rT.x+U);
if(d.x<=b||Y+1==Z.end&&z==a.fw){var r=x.auM+p.bv,W=this.Uy[r],V=W.lb&1;if(W.yR!="\n"&&(V==0&&d.x>H+U/2||V==1&&d.x<H+U/2))r+=this.asa.codePointAt(r)>65535?2:1;
return r}}}}}};cl.prototype.Ev=function(d){var v={BS:new iW,bS:0},t=0;for(var h=0;h<this.eE.length;h++){var X=this.eE[h];
for(var g=0;g<X.w4.length;g++){var x=X.w4[g];v.bS=t;t++;for(var Z=x.start;Z<x.end;Z++){var Y=X.DI[Z];
for(var a=Y.start;a<Y.end;a++){if(a==d){var z=this.Uy[a],p=z.FQ,U=X.Ym[p].bv,l=1;while(X.Ym[p]!=null&&X.Ym[p].bv==U){var L=X.Ym[p],j=X.rT.x+x.rT.x+Y.rT.x+L.rT.x,O=X.rT.y+x.rT.y+Y.rT.y+L.rT.y;
v.BS=v.BS.Ue(new iW(j,O-z.lineHeight,L.BS.r,z.lineHeight));v.r$=L.r$;p+=l}return v}}}}}};cl.prototype.Es=function(){var d=Infinity,v=Infinity,t=-Infinity,h=-Infinity;
for(var n=0;n<this.eE.length;n++){var X=this.eE[n];for(var g=0;g<X.w4.length;g++){var x=X.w4[g];if(!x.xH)break;
for(var Z=x.start;Z<x.end;Z++){var Y=X.DI[Z];for(var a=Y.bR;a<=Y.fw;a++){var z=X.Ym[a],p=z.BS,U=X.rT.x+x.rT.x+Y.rT.x+z.rT.x,l=X.rT.y+x.rT.y+Y.rT.y+z.rT.y;
d=Math.min(d,U+p.x);v=Math.min(v,l+p.y);t=Math.max(t,U+p.x+p.r);h=Math.max(h,l+p.y+p.$)}}}}return new iW(d,v,t-d,h-v)};
cl.x7=function(d){return 19968<=d&&d<=40959||12288<=d&&d<=12543};cl.sd=function(d,v,t,h,X,g,x){var Z=[g],Y=0;
for(var n=g;n<x;n++){if(t[n]==null)console.log(n,g,x,t);var a=t[n].yR,z=a.charCodeAt(0);if(z==32||z==9){Z.push(Y,n,1,n+1);
Y=0}else if(z==3851){Z.push(Y+1,n+1);Y=0}else if(cl.x7(z)){Z.push(Y,n);Y=1}else if(n!=g&&t[n].lb!=t[n-1].lb){Z.push(Y,n);
Y=1}else Y++}Z.push(Y);var p=[];for(var n=0;n<Z.length;n+=2){var U=Z[n],l=Z[n+1];if(l==0)continue;p.push(new cl.ahv(d,v,t,h,X,U,l))}return p};
cl.aAy=function(d,v,t,h,X,g,x){var Z=[0,v?v.r:1e9],Y=[];if(h){var a=d[g].hl,z=X+(X==0?a:d[g].lineHeight),p=z-a*.9,U=f.Q.asE(h[0],p),l=U.length,L=f.Q.asE(h[0],z),j=L.length;
if(l!=0&&j!=0){var O=0,F=0,i=[];while(O<l&&F<j){var $=Math.max(U[O],L[F]),H=U[O+1],b=L[F+1],r=Math.min(H,b);
if($<r)i.push($,r);if(H<b)O+=2;else F+=2}if(i.length!=0)Z=i}}for(var W=0;W<Z.length;W+=2){var V=0,y=g,c=v?Z[W+1]-Z[W]-t.StartIndent-t.EndIndent-(g==0?t.FirstLineIndent:0):Infinity;
while(g!=d.length){var S=d[g],C=V==0||(S.Cx||S.sr)||V+S.BS.r<c;if(!C)break;V+=S.BS.r;g++}Y.push(g-y)}x[0]=Y;
x[1]=Z;x[2]=g};cl.a17=function(d,v){var t=d.length,h=new Uint32Array(t),X=new Uint8Array(t),g=0;for(var n=0;
n<t;n++){X[n]=0;var x=d.charCodeAt(n);h[n]=x;if(x>g)g=x}if(g>1424)X=cl.av2(h,v);return X};cl.ak9=function(d){return d=="ß"?d:d.toUpperCase()};
cl.P4=function(d,v,t,h,X,g,x){this.DI=[];this.w4=[];this.rT=new cK(0,0);this.Ym=null;this.DI=null;this.j8=jM.ag3(d,h);
var Z=this.j8,p=0,L="",b=0,r=1,J=0;if(h!=0){var Y=Z.SpaceBefore;if(Y!=null)g[0]+=Y}var a=d.EngineDict.ParagraphRun.RunLengthArray,z=a[h];
for(var n=0;n<h;n++)p+=a[n];var U=Z._Direction?Z._Direction:0;this.auM=p;var l=jM.W3(d).slice(p,p+z);
for(var j=0;j<l.length;j++){var O=t[p+j],F=O.j8.FontCaps,i=l.charAt(j);if(F==0)L+=i;if(F==1)L+=O.ae6?cl.ak9(i):i;
if(F==2)L+=cl.ak9(i)}l=L;var $=cl.a17(l,U),H=[],W=$[0]&1,V=t[p].ai;t[p].lb=$[0];for(var n=1;n<l.length;
n++){var i=t[p+n],y=$[n];i.lb=y;if(y!=W||i.ai!=V){H.push(b,r);b=n;r=1;W=y;V=i.ai}else r++}H.push(b,r);
var c=this.Ym=[];for(var n=0;n<H.length;n+=2){var S=H[n],C=H[n+1],K=(t[p+S].lb&1)==0,T=l.slice(S,S+C),D=[];
for(var j=0;j<C;j++){var N=t[p+S+j].j8,G=[];D.push(G);for(var s=0;s<8;s++)G.push(N[jM.N_[s]]?1:0);G.push(N.FontCaps==1?1:0);
var Q=T.charCodeAt(j),q=N._DigitSet;if(q==null)q=0;if(q>1&&48<=Q&&Q<=57){Q=Q-48+1632+(q-2)*144;T=T.slice(0,j)+String.fromCharCode(Q)+T.slice(j+1)}}D=cl.a0m(D);
var R=Typr.U.shapeHB(t[p+S].ai,T,{ltr:K,fts:D,axs:t[p+S].Nq}),m=[];for(var j=0;j<R.length;j++){var E=R[j];
m.push({L:E.g,bv:E.cl,eT:E.ax,UF:E.ay,Xh:E.dx,WS:E.dy})}R=m;for(var j=0;j<C;j++){var e=0,w=-1;for(var M=0;
M<R.length;M++){var r=R[M].bv;if(r<=j&&r>w){w=r;e=M}}t[p+S+j].FQ=c.length+e}for(var j=0;j<R.length;j++){c.push(R[j]);
R[j].bv+=S;var i=t[p+R[j].bv];if(i.XQ!=-1&&i.XQ<i.ai.maxp.numGlyphs){R[j].L=i.XQ;var P=i.ai.hmtx;if(P){var I=Object.keys(P)[0];
R[j].eT=P[I][i.XQ]}}if(i.yR=="\n")R[j].eT=0;if(i.yR=="\t")R[j].eT=i.ai.head.unitsPerEm*36/i.j8.FontSize}}var k=jM._s(Z),o=this.DI=cl.sd(d,v,t,p,c,p,p+z),af=this.w4,at=-1,L=[null,null,0];
while(J<o.length){cl.aAy(o,X,Z,x,g[0],J,L);at++;var ke={start:J,end:0,BS:new iW,rT:new cK(0,0),xH:!0},jO=0,d1=0;
af.push(ke);ke.end=L[2];if(ke.start==ke.end)throw"e";var c_=ke.end==o.length;function ag(em,S,fl){var lA=fl-S>>>1;
for(var n=0;n<lA;n++){var av=em[S+n];em[S+n]=em[fl-1-n];em[fl-1-n]=av}}for(var dz=1;dz<5;dz++){var kL=-1;
for(var n=ke.start;n<ke.end;n++){var y=t[o[n].start].lb;if(kL==-1&&y>=dz)kL=n;else if(kL!=-1&&y<dz){ag(o,kL,n);
kL=-1}}var aq=ke.end;if(U==0&&o[aq-1].Cx)aq--;if(kL!=-1)ag(o,kL,aq)}var dh=L[0],gK=L[1],kL=J,ad=J;for(var dc=0;
dc<gK.length;dc+=2){var lq=X?gK[dc+1]-gK[dc]-Z.StartIndent-Z.EndIndent-(J==0?Z.FirstLineIndent:0):Infinity,hn=0;
kL=ad;ad+=dh[dc>>>1];var dF=this.aJS(kL,ad,o,U,X!=null);if(X){if(k==1||c_&&k==4)hn=dF[1]+(lq-dF[0]);
if(k==2||c_&&k==5)hn=dF[1]+(lq-dF[0])/2;if(ad-kL==1&&o[kL].BS.r>lq)hn=0;if(at==0)hn+=Z.FirstLineIndent;
hn+=Z.StartIndent}else{if(k==0)hn=Z.StartIndent+Z.FirstLineIndent;if(k==1)hn=-dF[0]-Z.EndIndent;if(k==2)hn=-dF[0]/2}hn+=gK[dc];
if(X&&k>2&&(k==6||!c_))this.a3u(kL,ad,o,lq,U,hn);else{var c3=hn;for(var n=kL;n<ad;n++){var i8=o[n],dr=i8.BS.r;
i8.rT.x=c3;if(i8.wK=="\t")dr=Math.ceil((c3+4)/36)*36-c3;c3+=dr}}}J=ke.end;for(var n=ke.start;n<ke.end;
n++){var h3=o[n].BS.b();h3.aBH(o[n].rT);ke.BS=ke.BS.Ue(h3);jO=Math.max(jO,o[n].hl);d1=Math.max(d1,o[n].lineHeight)}ke.rT.y=at==0?0:af[at-1].rT.y+d1;
if(at==0){if(h==0&&X)g[0]+=jO;if(h!=0)g[0]+=d1;this.rT.y=g[0]}else g[0]+=d1;if(X)ke.xH=this.rT.y+ke.rT.y<X.y+X.$||h==0&&at==0}var d5=Z.SpaceAfter;
if(d5!=null)g[0]+=d5};cl.P4.prototype.aJS=function(d,v,t,h,X){var g=0,x=0;for(var n=d;n<v;n++)g+=t[n].BS.r;
if(X){if(h==0)for(var n=v-1;n>=d;n--)if(t[n].Cx||t[n].sr)g-=t[n].BS.r;else break;if(h==1)for(var n=d;
n<v;n++)if(t[n].Cx||t[n].sr){var Z=t[n].BS.r;g-=Z;x-=Z}else break}return[g,x]};cl.P4.prototype.a3u=function(d,v,t,h,X,g){var x=0,Z=0,Y=0,a=0;
for(var n=d;n<v;n++)if(t[n].Cx)Y++;else{x+=t[n].BS.r;Z++}if(X==0)for(var n=v-1;n>=d;n--)if(t[n].Cx||t[n].sr){if(t[n].Cx){Y--}}else break;
if(X==1)for(var n=d;n<v;n++)if(t[n].Cx||t[n].sr){if(t[n].Cx){Y--;a++}}else break;if(Z<=1){if(Z==1)t[d].rT.x=g;
return}if(Y==0){var z=(h-x)/(Z-1),p=-a*z;for(var n=d;n<v;n++){this.Ym[t[n].bR].BS.r+=z;t[n].BS.r+=z;
t[n].rT.x=g+p;p+=t[n].BS.r}}else{var z=(h-x)/Y,p=-a*z;for(var n=d;n<v;n++){if(t[n].Cx)this.Ym[t[n].bR].BS.r=t[n].BS.r=z;
t[n].rT.x=g+p;p+=t[n].BS.r}}};cl.ahv=function(d,v,t,h,X,g,x){this.wK="";for(var n=0;n<x;n++)this.wK+=t[g+n].yR;
this.Cx=x==1&&(t[g].yR==" "||t[g].yR=="\t");this.sr=x==1&&t[g].yR=="\n";this.start=g;this.end=g+x;this.BS=new iW;
this.rT=new cK(0,0);this.hl=0;this.lineHeight=0;var Z=0,Y=0;if(x==0){this.lineHeight=t[g].lineHeight;
this.hl=t[g].hl;this.BS=new iW(0,-t[g].lineHeight,0,t[g].lineHeight)}var a=t[g].FQ,z=t[g+x-1].FQ;if(a==-1)return;
if(z<a){var p=a;a=z;z=p}while(z+1<X.length&&X[z].bv==X[z+1].bv){z++}this.bR=a;this.fw=z;for(var U=a;
U<=z;U++){var l=X[U],L=t[h+l.bv],j=d._LineOrientation==2&&(L.j8.BaselineDirection!=2||cl.x7(L.yR.charCodeAt(0))),O=Typr.U.glyphToPath(L.ai,l.L,null,L.Nq),b=0;
l.path={s2:O.cmds,I:O.crds};var F=L.j8.FontSize,i=1/L.ai.head.unitsPerEm*F;if(!L.j8.AutoKerning)Z+=L.j8.Kerning*2*i*L.scale.x;
l.rT=new cK(Z,0);l.r$=0;if(j&&l.path.I.length>0){l.r$=-Math.PI/2;l.rT.x+=F*.83;l.rT.y=-F*.3+l.eT*i/2;
l.eT=F/i}var $=l.eT*i*L.scale.x;l.BS=new iW(0,-L.lineHeight,$,L.lineHeight);var H=l.BS.b();H.aBH(l.rT);
if(L.j8.Tracking!=null)b=L.j8.Tracking*.001*F;if(L.j8.FauxBold==!0)b+=.027*F;Z+=$+b;if(U<X.length-2)l.BS.r+=b;
if(x==1&&L.yR==" "){H.r+=2*b;l.rT.x+=b}else if(x==1&&L.yR!=null&&cl.x7(L.yR.charCodeAt(0)))H.r+=b;this.BS=this.BS.Ue(H);
this.hl=Math.max(this.hl,L.hl);this.lineHeight=Math.max(this.lineHeight,L.lineHeight)}};cl.pA=0;cl.azl=function(d){if(cl.pA==2)return!0;
if(cl.pA==1)return!1;cl.pA=1;function v(){fetch(iP.$j("code/ext/fribidi.wasm")).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t)}).then(function(t){var h=t.instance.exports,X=h.memory,g=16,x=256,Z=1,Y=g|x,a=g|x|Z;
cl.av2=function(p,U){var l=p.length,L=l*4+4+l*4+l*4+l;b3.ax(h,L+l+1e7);var j=new Uint8Array(X.buffer),O=new Uint32Array(X.buffer),F=h.calloc(L,1),i=F+l*4,$=i+4,H=$+l*4,b=H+l*4;
O.set(p,F>>>2);O[i>>>2]=U==0?Y:a;h.fribidi_get_bidi_types(F,l,$);h.fribidi_get_bracket_types(F,l,$,H);
h.fribidi_get_par_embedding_levels_ex($,H,l,i,b);var r=j.slice(b,b+l);h.free(F);return r};cl.pA=2;var z=new eG(_.E.c,!0);
z.data={R:_.Y.Kf,QS:"add",Ic:lx.IQ,Mc:null};if(d)d.J(z)})}Typr.U.initHB(iP.$j("code/ext/hb.wasm"),v);
return!1};cl.a0m=function(d){var v=[],t=d.length,h=jM.aB9;for(var X=0;X<9;X++){var g=h[X],Z=null;if(g==null)continue;
var x=-1;for(var n=0;n<t;n++){var Y=d[n][X];if(Y!=x){if(Z)Z[3]=n;Z=[g,Y,n,n+1];v.push(Z);x=Y}}Z[3]=t}return v};
function jM(){}jM.mF=function(d,v){for(var t in v)d[t]=v[t]};jM.N_="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
jM.VQ=[18,20,19,25,28,26,24,23];jM.auZ="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
jM.aB9="liga calt dlig swsh salt titl ordn frac smcp".split(" ");jM.Ps=function(d){return d.Axis?d.Name.split("_")[0]:d.Name};
jM.de=function(d,v,t,h){var X=jM.aCu();if(t)jM.yx(X,0,0,t);var g=new gi;if(h!=null)g.rotate(h);g.translate(Math.round(d),Math.round(v));
var x={M:g,Oo:X};x.s1=jM.au_();x.yv=f.kk.m();x.LS=new iW;return x};jM.aq2=function(d){var v=["CharacterDirection",0];
for(var n=0;n<v.length;n+=2){if(d[v[n]]!=null&&d[v[n]]!=v[n+1]){throw"e";console.log(v[n],d[v[n]])}}if(d instanceof Array)for(var n=0;
n<d.length;n++)jM.aq2(d[n]);else if(d instanceof Object)for(var t in d)jM.aq2(d[t])};jM._s=function(d,v){if(v==null)v=d.Justification;
var t=d._Direction?d._Direction:0;if(t==1){if(v==0||v==3)v++;else if(v==1||v==4)v--}return v};jM.hY=function(d){if(d.add==null)return;
var v=d.Oo,t=v.Curve,h=d.add.vmsk,X=h.D,g=f.Q.lR(X,2).I,x=d.M.b();x.zJ();f.Q.M(g,x,g);var Z=g.slice(0,8);
for(var Y=8;Y<g.length;Y+=6)Z.push(g[Y-2],g[Y-1],g[Y],g[Y+1],g[Y+2],g[Y+3],g[Y+4],g[Y+5]);t.Points=Z;
t.TextOnPathTRange=h.Pd.slice(0);t.Reversed=h.GJ;if(jM.YX(v)==1){var t=cl.Vz(v.Curve),a=f.Q.mo(t[0]);
jM.eg(v,[0,0,a.r,a.$].map(Math.round));for(var n=0;n<Z.length;n+=2){Z[n]-=a.x;Z[n+1]-=a.y}var z=new gi(1,0,0,1,a.x,a.y);
z.concat(d.M);d.M=z}};jM.ii=function(d){if(d.add==null)return;var v=d.add.vmsk,t=d.Oo.Curve,h=t.Points,X={s2:["M"],I:[h[0],h[1]]};
for(var n=0;n<h.length;n+=8){X.s2.push("C");X.I.push(h[n+2],h[n+3],h[n+4],h[n+5],h[n+6],h[n+7])}f.Q.M(X.I,d.M,X.I);
var g=f.Q.Q$(X,!0);v.D=g;v.GJ=t.Reversed;v.Pd=t.TextOnPathTRange.slice(0);d.add.vogk=jn.bB(g)};jM.pq=function(d){var v={C:0,L:0,X:0};
if(d){var t=d.Values;if(d.Type==1)v={C:t[1]*255,L:t[2]*255,X:t[3]*255};else if(d.Type==2){var h={classID:"CMYC",Cyn:{t:"doub",v:t[1]*100},Mgnt:{t:"doub",v:t[2]*100},Ylw:{t:"doub",v:t[3]*100},Blck:{t:"doub",v:t[4]*100}};
v=f.iF.pq(h)}else console.log("Unknown color type")}return v};jM.aav=function(d){for(var n=0;n<d.length;
n++){var v=d[n].StyleSheet.StyleSheetData,t=v.FillColor;if(t&&t.Type==2){var h=jM.pq(t);t.Type=1;t.Values=[1,h.C/255,h.L/255,h.X/255]}}};
jM.pT=function(d,v){var t;if(jM.YX(d.Oo)==1){var h=jM.pg(d.Oo);t=new iW(0,0,h[2]-h[0],h[3]-h[1])}else{t=v.Es();
if(v.Ea){var X=v.Ea.b(),g=f.Q.Ya(t);f.Q.M(g.I,X,g.I);t=f.Q.mo(g.I)}}return t};jM.Sn=function(d){var v=d[0];
for(var n=0;n<d.length;n++)v=jM.ahD(v,d[n]);return v};jM.ahD=function(d,v){var t={};for(var h in d)if(JSON.stringify(d[h])==JSON.stringify(v[h]))t[h]=d[h];
return t};jM.aW=function(d,v){var t=d._G,h=-1;for(var n=0;n<t.length;n++)if(t[n].Name==v)h=n;if(h==-1){h=t.length;
t.push({FontType:1,Name:v,Script:0,Synthetic:0})}d.Uy.Font=h};jM.W3=function(d){return d.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
jM.xT=function(d,v){d.EngineDict.Editor.Text=v.replace(/\n/g,"\r")};jM.YX=function(d){return d.Curve&&d.Curve.TextOnPathTRange[0]>=0?2:d.EngineDict.Rendered.Shapes.Children[0].ShapeType};
jM.kM=function(d,v){var t=d.EngineDict.Rendered.Shapes.Children[0];t.ShapeType=v;var h=t.Cookie.Photoshop;
h.ShapeType=v;h.Base.ShapeType=v;if(v==0){delete h.BoxBounds;h.PointBase=[0,0]}if(v==1){delete h.PointBase;
h.BoxBounds=[0,0,1,1]}};jM.pg=function(d){return d.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
jM.eg=function(d,v){d.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=v};jM.aEX=function(d,v){var t=d.EngineDict.AlternateGlyphRun;
if(t==null)return-1;var h=jM.ud(t.RunLengthArray,v).s8;if(t.RunArray[h]==null)return-1;var X=t.RunArray[h].Glyph;
return X==null?-1:X};jM.aLW=function(d,v,t){var h=d.EngineDict.AlternateGlyphRun;if(h==null){h=d.EngineDict.AlternateGlyphRun=jM.aOk();
h.RunArray.push({});h.RunLengthArray.push(jM.W3(d).length)}var X=jM.ud(h.RunLengthArray,v),g=X.s8,x=v-X.SX,Z=h.RunArray[g],Y=JSON.stringify(Z),a=h.RunLengthArray[g];
if(x!=0){h.RunArray.splice(g,0,JSON.parse(Y));h.RunLengthArray.splice(g,0,x);h.RunLengthArray[g+1]-=x;
g++;a-=x;x=0}if(a!=1){h.RunArray.splice(g+1,0,JSON.parse(Y));h.RunLengthArray.splice(g+1,0,a-1);h.RunLengthArray[g]=1;
a=1}Z.Glyph=t};jM.aoD=function(d,v){var t=d.EngineDict.StyleRun.RunLengthArray;return jM.ud(t,v).s8};
jM.apX=function(d,v){var t=d.ResourceDict.StyleSheetSet[0].StyleSheetData,h={};for(var X in t)h[X]=t[X];
var g=d.EngineDict.StyleRun.RunArray[v].StyleSheet.StyleSheetData;jM.mF(h,g);return h};jM.aad=function(d,v){var t=d.EngineDict.ParagraphRun.RunLengthArray;
return jM.ud(t,v).s8};jM.ag3=function(d,v){var t=d.ResourceDict.ParagraphSheetSet[0].Properties,h={};
for(var X in t)h[X]=t[X];var g=d.EngineDict.ParagraphRun.RunArray[v].ParagraphSheet.Properties;jM.mF(h,g);
var x=["StartIndent","EndIndent","FirstLineIndent"];for(var n=0;n<3;n++)if(h[x[n]]==null)h[x[n]]=0;return h};
jM.aHW=function(d,v,t){var h=jM.W3(v);for(var X=0;X<2;X++){var g=d[X==0?"Txtt":"paragraphStyleRange"];
if(g==null)continue;g=g.v;console.log(g);for(var n=0;n<g.length;n++){var x=g[n].v,Z=x.From.v,Y=Math.min(x.T.v-1,h.length-1);
x=x[X==0?"TxtS":"paragraphStyle"].v;var a=jM.Sj(v,Z,Y);jM.OL(x,X==0?a.Uy:a.eE,a,t.u3);jM.yx(v,Z,Y,a)}}};
jM.a4h=function(d,v,t){var h=jM.W3(v).slice(0,-1);for(var X=0;X<2;X++){var g=X==0?"Txtt":"paragraphStyleRange",x=X==0?"TxtS":"paragraphStyle",Z=d[g]={t:"VlLs",v:[]},z=0;
Z=Z.v;var Y=v.EngineDict[X==0?"StyleRun":"ParagraphRun"],a=Y.RunLengthArray;for(var n=0;n<a.length;n++){var p=z+a[n],U=jM.Sj(v,z,p-1),l=X==0?U.Uy:U.eE,L={t:"Objc",v:{classID:g,From:{t:"long",v:z},T:{t:"long",v:p}}};
Z.push(L);L.v[x]={t:"Objc",v:{classID:x}};L=L.v[x].v;jM.sb(l,L,U,t.u3);z=p}}};jM.OL=function(d,v,t,h){for(var X in d){var g=d[X].v;
if(X=="Sz")v.FontSize=Math.round(g.val*(g.type=="#Pnt"?h/72:1));if(X=="fontPostScriptName")jM.aW(t,g);
if(X=="Algn")v.Justification=["Left","Rght","Cntr"].indexOf(g.Alg);if(X=="leading")v.Leading=d[X].v.val;
if(X=="baselineShift"||X=="Bsln")v.BaselineShift=d[X].v.val;if(X=="autoLeading")v.AutoLeading=d[X].v;
if(X=="syntheticBold")v.FauxBold=d[X].v;if(X=="syntheticItalic")v.FauxItalic=d[X].v;if(X=="Trck")v.Tracking=d[X].v;
if(X=="verticalScale"||X=="VrtS")v.VerticalScale=d[X].v/100;if(X=="horizontalScale"||X=="HrzS")v.HorizontalScale=d[X].v/100;
if(X=="Clr")v.FillColor={Type:1,Values:[1,g.Rd.v/255,g.Grn.v/255,g.Bl.v/255]}}};jM.sb=function(d,v,t,h){for(var X in d){var g=d[X];
if(X=="FontSize")v.Sz={t:"UntF",v:{type:"#Pnt",val:g*72/h}};if(X=="Font")v.fontPostScriptName={t:"TEXT",v:t._G[g].Name};
if(X=="Justification")v.Algn={t:"enum",v:{Alg:["Left","Rght","Cntr"][g]}};if(X=="Leading")v.leading={t:"long",v:g};
if(X=="BaselineShift")v.Bsln={t:"UntF",v:{type:"#Pnt",val:g}};if(X=="AutoLeading")v.autoLeading={t:"bool",v:g};
if(X=="FauxBold")v.syntheticBold={t:"bool",v:g};if(X=="FauxItalic")v.syntheticItalic={t:"bool",v:g};
if(X=="Tracking")v.Trck={t:"long",v:g};if(X=="VerticalScale")v.VrtS={t:"doub",v:g*100};if(X=="HorizontalScale")v.HrzS={t:"doub",v:g*100};
if(X=="FillColor")v.Clr={t:"Objc",v:f.iF.Zi({C:255*g.Values[1],L:255*g.Values[2],X:255*g.Values[3]})}}};
jM.Uh=function(d,v,t){if(t=="")return;var h=jM.W3(d);jM.xT(d,h.substring(0,v)+t+h.substring(v,h.length));
var X=d.EngineDict.StyleRun,g=X.RunLengthArray,x=jM.ud(g,v-1);g[x.s8]+=t.length;var Z=d.EngineDict.AlternateGlyphRun;
if(Z){var g=Z.RunLengthArray,x=jM.ud(g,v-1);g[x.s8]+=t.length}var Y=d.EngineDict.ParagraphRun,g=Y.RunLengthArray,a=jM.ud(g,v),z=t.split("\n");
if(z.length==1){g[a.s8]+=t.length;return}g.splice(a.s8+1,0,g[a.s8]-(v-a.SX));Y.RunArray.splice(a.s8+1,0,f.v(Y.RunArray[a.s8]));
g[a.s8]-=g[a.s8+1];g[a.s8]+=z[0].length+1;for(var n=1;n<z.length-1;n++){Y.RunArray.splice(a.s8+n,0,f.v(Y.RunArray[a.s8+n-1]));
Y.RunLengthArray.splice(a.s8+n,0,z[n].length+1)}g[a.s8+z.length-1]+=z[z.length-1].length};jM.MW=function(d,v,t){var h=jM.W3(d);
jM.xT(d,h.substring(0,v)+h.substring(t,h.length));jM.Gd(d.EngineDict.ParagraphRun,v,t,!0);jM.Gd(d.EngineDict.StyleRun,v,t,!1);
var X=d.EngineDict.AlternateGlyphRun;if(X)jM.Gd(X,v,t,!1)};jM.Gd=function(d,v,t,h){var X=d.RunLengthArray,g=jM.ud(X,v),x=jM.ud(X,t),Z=[];
for(var n=0;n<X.length;n++)for(var Y=0;Y<X[n];Y++)Z.push(n);Z.splice(v,t-v);var a=[];for(var n=0;n<X.length;
n++)a.push(0);for(var n=0;n<Z.length;n++)a[Z[n]]++;for(var n=0;n<X.length;n++){if(a[n]==0){a.splice(n,1);
X.splice(n,1);d.RunArray.splice(n,1);n--}else if(a[n]<X[n])X[n]=a[n]}if(h&&g.s8!=x.s8&&g.SX!=v){X[g.s8]+=X[g.s8+1];
X.splice(g.s8+1,1);d.RunArray.splice(g.s8+1,1)}};jM.yx=function(d,v,t,h){var X=h.Uy.Font,g=d.ResourceDict.FontSet,x=d.EngineDict.Editor.Text.length;
if(t==x-2)t++;if(X!=null){var Z=h._G[X],Y=-1;for(var n=0;n<g.length;n++)if(g[n].Name==Z.Name)Y=n;if(Y==-1){Y=g.length;
g.push(f.v(Z))}h.Uy.Font=Y}if(v<=t)jM.aGD(d.EngineDict.StyleRun,h.Uy,v,t,!0);jM.aGD(d.EngineDict.ParagraphRun,h.eE,v,t,!1);
h.Uy.Font=X;if(g.length>20){var a=d.ResourceDict.FontSet=[],z=d.EngineDict.StyleRun.RunArray,p={};for(var n=0;
n<z.length;n++){var U=z[n].StyleSheet.StyleSheetData,l=U.Font;if(l!=null){if(p[l]==null){p[l]=a.length;
a.push(g[l])}U.Font=p[l]}}}};jM.Sj=function(d,v,t){var h={_G:d.ResourceDict.FontSet.slice(0),Uy:[],eE:[]},X=d.EngineDict.StyleRun.RunLengthArray,g=jM.ud(X,v).s8,x=jM.ud(X,t).s8;
for(var n=g;n<=x;n++){var Z=f.v(d.ResourceDict.StyleSheetSet[0].StyleSheetData),Y=d.EngineDict.StyleRun.RunArray;
if(Y.length==0)continue;var a=Y[n].StyleSheet.StyleSheetData;jM.mF(Z,a);h.Uy.push(Z)}var z=d.EngineDict.ParagraphRun.RunLengthArray,p=jM.ud(z,v).s8,U=jM.ud(z,t).s8;
for(var n=p;n<=U;n++){var l=d.EngineDict.ParagraphRun.RunArray;if(l.length==0)continue;h.eE.push(f.v(l[n].ParagraphSheet.Properties))}h.Uy=h.Uy.length==0?{}:jM.Sn(h.Uy);
h.eE=h.eE.length==0?{}:jM.Sn(h.eE);return h};jM.aGD=function(d,v,t,h,X){var g=d.RunLengthArray;if(X){var x=jM.ud(g,t);
if(x.SX!=t){var Z=g[x.s8];g.splice(x.s8,0,t-x.SX);g[x.s8+1]=Z-g[x.s8];d.RunArray.splice(x.s8+1,0,f.v(d.RunArray[x.s8]))}var Y=jM.ud(g,h);
if(Y.SX+g[Y.s8]-1!=h){var Z=g[Y.s8];g.splice(Y.s8,0,h-Y.SX+1);g[Y.s8+1]=Z-g[Y.s8];d.RunArray.splice(Y.s8+1,0,f.v(d.RunArray[Y.s8]))}}var x=jM.ud(g,t),Y=jM.ud(g,h);
if(X)for(var n=x.s8;n<=Y.s8;n++)jM.mF(d.RunArray[n].StyleSheet.StyleSheetData,v);else for(var n=x.s8;
n<=Y.s8;n++)jM.mF(d.RunArray[n].ParagraphSheet.Properties,v)};jM.aqz=function(d,v,t){var h=d.EngineDict.StyleRun.RunLengthArray,X=[],g=0;
for(var n=0;n<h.length;n++){var x=h[n];for(var Z=0;Z<x;Z++)if(v<=g+Z&&g+Z<t)X.push(n);g+=x}var Y=X[0],a=[];
for(var n=0;n<X.length;n++){var z=X[n]-Y;if(z==a.length)a.push(0);a[z]++}return a};jM.aGS=function(d){var v=d.EngineDict.StyleRun,t=v.RunArray,h=v.RunLengthArray;
for(var n=0;n<h.length-1;n++){var X=t[n].StyleSheet.StyleSheetData,g=t[n+1].StyleSheet.StyleSheetData;
if(JSON.stringify(X)==JSON.stringify(g)){t.splice(n+1,1);h[n]+=h[n+1];h.splice(n+1,1);n--}}};jM.nk=function(d){var v=d.s1.AntA.v.Annt;
v=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(v);if(v==-1)v=1;return v};jM.Y7=function(d,v){d.s1.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][v]};
jM.b5=function(d,v){var t,h;t=["FontSize","Leading","BaselineShift","OutlineWidth"];h=d.Uy;for(var n=0;
n<t.length;n++)if(h[t[n]]!=null)h[t[n]]*=v;t=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
h=d.eE;for(var n=0;n<t.length;n++)if(h[t[n]]!=null)h[t[n]]*=v};jM.apm=function(){return jM.Sj(f.v(jM.a6h),0,0)};
jM.au_=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
jM.ud=function(d,v){var t=0,n=0;while(t+d[n]<=v){t+=d[n];n++}return{s8:n,SX:t}};jM.aCu=function(){var d=f.v(this.a6h);
return d};jM.a8D={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
jM.aAb={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,_MiterLimit:4,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
jM.aOk=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};jM.a6h={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:f.v(jM.a8D)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:f.v(jM.a8D)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:f.v(jM.aAb)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dq={};dq.aaM=function(d){var v=dq.aHT(d._0,d._1);dq.a5I(v,d._0);return v};dq.a09=function(d,v,t){var h={};
h._98={_0:"i7"};h._0=dq.ahx(d,v,t?t._0:null);h._1=dq.aKw(d,v,h._0,t?t._1:null);return h};dq.ahx=function(d,v,t){var h={};
h._1=dq.awi(d,t?t._1:null);h._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};h._3=f.v(dq.aIo);h._4=f.v(dq.a3$);
h._5=dq.a51(d,h._1._0,t?t._5:null);h._6=dq.a3p(d,t?t._6:null);h._8=dq.aJc(d,v,t?t._8:null);h._9=dq.aCD;
return h};dq.a5I=function(d,v){dq.aHA(d,v._5,v._1._0)};dq.awi=function(d,v){var t=[],h=[];for(var n=0;
n<d.length;n++){var X=d[n].ResourceDict.FontSet;for(var g=0;g<X.length;g++){var x=X[g];if(h.indexOf(x.Name)!=-1)continue;
t.push(x);h.push(x.Name)}}var Z={_0:[]};for(var n=0;n<t.length;n++){var Y=t[n],a=Y.Axis,z={_0:"s"+Y.Name,_1:"i"+Y.Script,_2:"i"+Y.FontType};
if(a){var p=z._4=[];for(var g=0;g<a.length;g++)p.push("i"+a[g])}if(Y.Script==0)delete z._1;Z._0.push({_0:{_99:"/CoolTypeFont",_0:z}})}return Z};
dq.a51=function(d,v,t){var h={_0:[],_1:[]},X={_0:f.v(dq.aqc)};dq.a4r(X._0,d[0].ResourceDict.StyleSheetSet[0],v,d[0].ResourceDict.FontSet);
h._0.push(X);h._1.push({_0:"i0"});h._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});h._1.push({_0:"i1"});return h};
dq.aHA=function(d,v,t){var h=v._0[0];for(var n=0;n<d.length;n++)dq.aoB(h._0,d[n].ResourceDict.StyleSheetSet[0],t,d[n].ResourceDict.FontSet)};
dq.a3p=function(d,v){var t={_0:[],_1:[]},h={_0:f.v(dq.o8)};dq.AD(h._0,d[0].ResourceDict.ParagraphSheetSet[0]);
t._0.push(h);t._1.push({_0:"i0"});h={_0:f.v(dq.o8)};dq.AD(h._0,d[0].ResourceDict.ParagraphSheetSet[0]);
h._0._0="sBasic Paragraph";h._0._6="i0";t._0.push(h);t._1.push({_0:"i1"});return t};dq.aJc=function(d,v,t){var h={_0:[]};
for(var n=0;n<d.length;n++){var X=d[n].Curve,g={};h._0.push({_0:g});var x=jM.YX(d[n]);g._1={};g._2={};
g._2._0="i"+x;if(d[n]._LineOrientation==2)g._2._1="i2";if(x==0){delete g._1;g._2._6=["f-1","f-1"];g._2._11={_4:"i-1",_7:!1}}else if(x==1&&X==null){var Z=jM.pg(d[n]),Y=Z[2],a=Z[3];
g._1._0=dq.O7("f",[0,0,0,0,Y,0,Y,0,Y,0,Y,0,Y,a,Y,a,Y,a,Y,a,0,a,0,a,0,a,0,a,0,0,0,0]);g._2._6=["f-2","f-2"];
g._2._11={_4:"i-2",_7:!1}}else if(x==1){var Z=jM.pg(d[n]),Y=Z[2],a=Z[3];g._1._0=dq.O7("f",X.Points);
g._2._6=["f-3","f-3"];g._2._11={_4:"i-3",_7:!1}}else if(x==2){g._1._0=dq.O7("f",X.Points);g._2._6=dq.O7("f",X.TextOnPathTRange);
g._2._11={_0:X.Reversed,_3:"i0",_5:"f0",_7:!1}}}return h};dq.aKw=function(d,v,t,h){var X={};X._0=f.v(dq.aqn);
X._1=dq.aKa(d,v,t,h?h._1:null);X._2=f.v(dq.aqc._6);X._3=f.v(dq.o8._5);return X};dq.aHT=function(d,v){return dq.arY(d,v._1)};
dq.aKa=function(d,v,t,h){var X=[],g=t._1._0;for(var n=0;n<d.length;n++){var x=d[n],Z={_0:{}};X.push(Z);
Z._0._0="s"+x.EngineDict.Editor.Text;Z._0._0=Z._0._0;var Y=Z._0._5={_0:[]},a=x.EngineDict.ParagraphRun;
for(var z=0;z<a.RunArray.length;z++){var p={_0:{}};Y._0.push(p);p._0._0={_0:"s",_5:{},_6:"i1"};dq.AD(p._0._0,a.RunArray[z].ParagraphSheet);
p._1="i"+a.RunLengthArray[z]}var U=Z._0._6={_0:[]};a=x.EngineDict.StyleRun;for(var z=0;z<a.RunArray.length;
z++){var l={_0:{}};U._0.push(l);l._0._0={_0:"s",_5:"i1",_6:{}};dq.a4r(l._0._0,a.RunArray[z].StyleSheet,g,x.ResourceDict.FontSet);
l._1="i"+a.RunLengthArray[z]}a=x.EngineDict.AlternateGlyphRun;if(a){var L=Z._0._9={_0:[]};for(var z=0;
z<a.RunArray.length;z++){var j={_0:{}};L._0.push(j);var O=a.RunArray[z];if(O.Glyph!=null){j._0._0={_0:"i"+O.Glyph,_1:"e"}}j._1="i"+a.RunLengthArray[z]}}Z._0._10={_0:"i4",_2:!0};
Z._1=dq.view.aNI(x,null,n,null)}return X};dq.arY=function(d,v){var t=[],h=d._1._0;if(v)for(var n=0;n<v.length;
n++){var X=jM.aCu();t.push(X);var g=v[n];X.EngineDict.Editor.Text=g._0._0.slice(1);var x=X.EngineDict.ParagraphRun.RunArray[0],Z=X.EngineDict.ParagraphRun,Y=g._0._5;
if(Y)for(var a=0;a<Y._0.length;a++){var z=Y._0[a];Z.RunLengthArray[a]=parseInt(z._1.slice(1));Z.RunArray[a]=f.v(x);
dq.aqG(z._0._0,Z.RunArray[a].ParagraphSheet)}else{Z.RunLengthArray[0]=jM.W3(X).length}var p=g._0._6;
Z=X.EngineDict.StyleRun;if(p)for(var a=0;a<p._0.length;a++){var U=p._0[a];Z.RunLengthArray[a]=parseInt(U._1.slice(1));
Z.RunArray[a]={StyleSheet:{StyleSheetData:{}}};dq.aoB(U._0._0,Z.RunArray[a].StyleSheet,h,X.ResourceDict.FontSet)}else{Z.RunLengthArray[0]=jM.W3(X).length;
Z.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return t};dq.a4r=function(d,v,t,h,X){d._0="s"+(v.Name?v.Name:"");
var g=d._6,x=X?X._6:null,Z=v.StyleSheetData;if(Z.Font!=null){var Y=h[Z.Font].Name,a=-1;for(var n=0;n<t.length;
n++)if("s"+Y==t[n]._0._0._0){a=n;break}g._0="i"+a}if(Z.FontSize!=null)g._1="f"+Z.FontSize;if(Z.FauxBold!=null)g._2=Z.FauxBold;
if(Z.FauxItalic!=null)g._3=Z.FauxItalic;if(Z.AutoLeading!=null)g._4=Z.AutoLeading;if(Z.Leading!=null)g._5="f"+Z.Leading;
if(Z.HorizontalScale!=null)g._6="f"+Z.HorizontalScale;if(Z.VerticalScale!=null)g._7="f"+Z.VerticalScale;
if(Z.Tracking!=null)g._8="i"+Z.Tracking;if(Z.BaselineShift!=null)g._9="f"+Z.BaselineShift;if(Z.AutoKerning!=null)g._11="i"+(Z.AutoKerning?1:0);
if(Z.FontCaps!=null)g._12="i"+Z.FontCaps;if(Z.FontBaseline!=null)g._13="i"+Z.FontBaseline;if(Z.Strikethrough!=null)g._15="i"+(Z.Strikethrough?1:0);
if(Z.Underline!=null)g._16="i"+(Z.Underline?2:0);if(Z.Ligatures!=null)g._18=Z.Ligatures;if(Z.DLigatures!=null)g._19=Z.DLigatures;
if(Z.BaselineDirection!=null)g._35="i"+Z.BaselineDirection;if(Z.Language!=null)g._38="i"+Z.Language;
if(Z.FillColor!=null)g._53=dq.Un(Z.FillColor);if(Z.StrokeColor!=null)g._54=dq.Un(Z.StrokeColor);if(Z.FillFlag!=null)g._56=Z.FillFlag;
if(Z.StrokeFlag!=null)g._57=Z.StrokeFlag;if(Z.FillFirst!=null)g._58=Z.FillFirst;if(Z.OutlineWidth!=null)g._63="f"+Z.OutlineWidth;
if(Z._FillBackgroundColor!=null)g._79=dq.Un(Z._FillBackgroundColor);if(Z._FillBackgroundFlag!=null)g._80=Z._FillBackgroundFlag;
if(Z._LineCap!=null)g._61="i"+Z._LineCap;if(Z._LineJoin!=null)g._62="i"+Z._LineJoin;if(Z._MiterLimit!=null)g._64="f"+Z._MiterLimit;
if(Z._LineDashOffset!=null)g._65="f"+Z._LineDashOffset;if(Z._LineDashArray!=null)g._66=dq.O7("f",Z._LineDashArray);
if(Z._DigitSet!=null)g._70="i"+Z._DigitSet;for(var n=0;n<8;n++)if(Z[jM.N_[n]]!=null)g["_"+jM.VQ[n]]=Z[jM.N_[n]]};
dq.Un=function(d){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dq.O7("f",d.Values)}}};dq.aoB=function(d,v,t,h){var X=d._6;
if(X==null)return;var g=v.StyleSheetData;if(X._0){var x=parseInt(X._0.slice(1)),Z=t[x]._0._0._0.slice(1);
jM.aW({Uy:g,_G:h},Z)}if(X._1!=null)g.FontSize=parseFloat(X._1.slice(1));if(X._2!=null)g.FauxBold=X._2;
if(X._3!=null)g.FauxItalic=X._3;if(X._4!=null)g.AutoLeading=X._4;if(X._5!=null)g.Leading=parseFloat(X._5.slice(1));
if(X._6!=null)g.HorizontalScale=parseFloat(X._6.slice(1));if(X._7!=null)g.VerticalScale=parseFloat(X._7.slice(1));
if(X._8!=null)g.Tracking=parseFloat(X._8.slice(1));if(X._9!=null)g.BaselineShift=parseFloat(X._9.slice(1));
if(X._11!=null)g.AutoKerning=parseFloat(X._11.slice(1))==1;if(X._12!=null)g.FontCaps=parseFloat(X._12.slice(1));
if(X._13!=null)g.FontBaseline=parseFloat(X._13.slice(1));if(X._15!=null)g.Strikethrough=parseFloat(X._15.slice(1))==1;
if(X._16!=null)g.Underline=parseFloat(X._16.slice(1))==1;if(X._18!=null)g.Ligatures=X._18;if(X._19!=null)g.DLigatures=X._19;
if(X._35!=null)g.BaselineDirection=parseFloat(X._35.slice(1));if(X._38!=null)g.Language=parseFloat(X._38.slice(1));
if(X._53!=null)g.FillColor=dq.DC(X._53);if(X._54!=null)g.StrokeColor=dq.DC(X._54);if(X._56!=null)g.FillFlag=X._56;
if(X._57!=null)g.StrokeFlag=X._57;if(X._63!=null)g.OutlineWidth=parseFloat(X._63.slice(1));if(X._79!=null)g._FillBackgroundColor=dq.DC(X._79);
if(X._80!=null)g._FillBackgroundFlag=X._80;if(X._61!=null)g._LineCap=parseFloat(X._61.slice(1));if(X._62!=null)g._LineJoin=parseFloat(X._62.slice(1));
if(X._64!=null)g._MiterLimit=parseFloat(X._64.slice(1));if(X._65!=null)g._LineDashOffset=parseFloat(X._65.slice(1));
if(X._66!=null)g._LineDashArray=dq.zd(X._66);if(X._70!=null)g._DigitSet=parseFloat(X._70.slice(1));for(var n=0;
n<8;n++)if(X["_"+jM.VQ[n]]!=null)g[jM.N_[n]]=X["_"+jM.VQ[n]]};dq.DC=function(d){var v=d._0._0,t=[1,0,0,0],h=dq.zd(d._0._1);
if(v=="i0")t[1]=t[2]=t[3]=h[1];else if(v=="i1")t=h;else if(v=="i2")t=[1].concat(UDOC.C.cmykToRgb(h.slice(1)));
else console.log("unknown color type",v,h);return{Type:1,Values:t}};dq.AD=function(d,v){d._0="s"+(v.Name?v.Name:"");
var t=d._5,h=v.Properties;if(h.Justification!=null)t._0="i"+h.Justification;if(h.FirstLineIndent!=null)t._1="f"+h.FirstLineIndent;
if(h.StartIndent!=null)t._2="f"+h.StartIndent;if(h.EndIndent!=null)t._3="f"+h.EndIndent;if(h.SpaceBefore!=null)t._4="f"+h.SpaceBefore;
if(h.SpaceAfter!=null)t._5="f"+h.SpaceAfter;if(h.AutoLeading!=null)t._7="f"+h.AutoLeading;if(h.AutoHyphenate!=null)t._9=h.AutoHyphenate;
if(h._Direction!=null)t._33="i"+h._Direction;if(h._ComposerEngine!=null)t._35="i"+h._ComposerEngine};
dq.aqG=function(d,v){var t=d._5;if(t==null)return;var h=v.Properties;if(t._0)h.Justification=parseInt(t._0.slice(1))};
dq.O7=function(d,v){var t=[];for(var n=0;n<v.length;n++)t.push(d+v[n]);return t};dq.zd=function(d){var v=[];
for(var n=0;n<d.length;n++)v.push(parseFloat(d[n].slice(1)));return v};dq.aIo={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dq.a3$={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dq.aqc={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dq.o8={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dq.aCD={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dq.aqn={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var f6={};f6.aw9=function(d){return f6.bt(d,f6.Vt,0)};f6.aFG=function(d){return f6.fa(d,f6.Vt)};f6.bt=function(d,v,t){var h;
if(typeof d=="string")return d;if(d instanceof Array){h=[];for(var n=0;n<d.length;n++)h[n]=f6.bt(d[n],v,t+1)}else{h={};
var X={};for(var g in v){var x=v[g],Z="_"+x[0];if(d[Z]!=null){h[g]=x[1]?f6.bt(d[Z],x[1],t+1):d[Z];X[Z]=!0}}for(var g in d){if(X[g]==null){if(g.length>3)continue;
console.log(v,X);console.log(g,d);throw"e"}}}return h};f6.fa=function(d,v){var t;if(typeof d=="string")return d;
else if(d instanceof Array){t=[];for(var n=0;n<d.length;n++)t[n]=f6.fa(d[n],v)}else{t={};var h={};for(var X in v){var g=v[X],x="_"+g[0];
if(d[X]!=null){t[x]=g[1]?f6.fa(d[X],g[1]):d[X];h[X]=!0}}for(var X in d){if(h[X]==null){console.log(v,h);
console.log(X,d);throw"e"}}}return t};f6.G7={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
f6.RG={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,f6.G7],_StrokeColor:[54,f6.G7],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,f6.G7],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_91:[91],_92:[92],_TrackingAdjustment:[93],_94:[94],_95:[95],_96:[96]};
f6.aFQ={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,f6.RG],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
f6.ax9={_Name:[0],_Features:[5,f6.aFQ],_Parent:[6],_UUID:[97]};f6.aJt={_Name:[0],_Parent:[5],_Features:[6,f6.RG],_UUID:[97]};
f6.Vt={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_MMAxis:[4],_VersionString:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,f6.aJt]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,f6.ax9]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_RowCount:[12],_ColumnCount:[13],_15:[15],_16:[16],_17:[17]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,f6.ax9]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,f6.aJt]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,f6.RG],_OriginalNormalParagraphFeatures:[3,f6.aFQ],_4:[4],_5:[5]}]};
dq.view={};dq.view.aNI=function(d,v,t,h){var X={},g=jM.YX(d);X._0=[{_0:"i"+t}];return X};function CSS(){}CSS.azK=function(d,v){var t=d.add,h=t.vmsk,X=t.vstk,g=t.lmfx,x=t.TySh,Z=[],Y=CSS.yz(g,t),a=d.JS/255*(d.add.iOpa!=null?d.add.iOpa/255:1);
if(a!=1)Z.push("opacity: "+a.toFixed(3));if(d.c5()&&h){var z=f.t.ft(h.D);if(!z.HP()){Z.push("width: "+Math.round(z.r)+"px");
Z.push("height: "+Math.round(z.$)+"px")}var p=f.t.asM(h.D);if(p>0)Z.push("border-radius: "+Math.round(p)+"px")}else if(x){var U=x.Oo;
if(jM.YX(U)==1){var z=jM.pg(U);Z.push("width: "+Math.round(z[2])+"px");Z.push("height: "+Math.round(z[3])+"px")}CSS.aIE(Z,jM.Sj(U,0,0),x.M,!1,!1,Y[0])}CSS.aqh(v,g,Z);
if(x==null)CSS.atq(Y,Z);if(X==null||!X.strokeEnabled.v)X=lb.ai2(g);if(X&&X.strokeEnabled.v){var l=X.strokeStyleContent.v,L=l.classID,j=X.strokeStyleOpacity.v.val/100,O=X.strokeStyleLineWidth.v.val,F="";
if(L=="solidColorLayer")F=CSS.oc(l.Clr.v,j);Z.push("border: "+O+"px solid "+F)}return Z};CSS.aqh=function(d,v,t){if(v==null||!v.masterFXSwitch.v)return;
var h=v.dropShadowMulti.v.concat(v.innerShadowMulti.v);for(var n=0;n<h.length;n++){var X=h[n].v;if(X.enab.v){var g=X.classID=="IrSh",x=X.Dstn.v.val,Z=X.lagl.v.val*Math.PI/180;
if(X.uglg&&X.uglg.v)Z=d.$t()*Math.PI/180;var Y=x*Math.cos(Z),a=x*Math.sin(Z),z=(Y==0?"0 ":CSS.akf(-Y)+"px ")+(a==0?"0 ":CSS.akf(a)+"px ")+X.blur.v.val/2+"px "+CSS.oc(X.Clr.v,X.Opct.v.val/100);
if(g)t.push("box-shadow: inset "+z);else t.push("filter: drop-shadow("+z+")")}}};CSS.yz=function(d,v){var t=lb.aiv(d,v),h=t[0],X=t[1],g,x;
if(h){g=CSS.oc(h.Clr.v,v.iOpa!=null?v.iOpa/255:1)}else if(X){x=CSS.ou(X)}return[g,x]};CSS.atq=function(d,v){if(d[0])v.push("background-color: "+d[0]);
if(d[1])v.push("background-image: "+d[1])};CSS.Q4={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.akf=function(bW){return""+parseFloat(bW.toFixed(3))};CSS.bT=function(d){if(d==null)return{C:0,L:0,X:0};
var v=d.indexOf("(");if(v!=-1){var t=d.slice(v+1,d.length-1).split(",");for(var n=0;n<t.length;n++){var h=t[n].trim();
t[n]=parseFloat(h)*(h.endsWith("%")?255/100:1)}if(d.startsWith("hsl")){var X=f.aU(t[0]/360,t[1]/255,t[2]/255);
X.C*=255;X.L*=255;X.X*=255;return X}return{C:t[0],L:t[1],X:t[2]}}if(d.charAt(0)!="#"){var g=CSS.Q4;if(g[d])d=g[d];
else if(d=="currentColor")d="#000000";else console.log("unknown color "+d)}d=d.slice(1);if(d.length==4)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]+d[3]+d[3];
if(d.length==3)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];var x=-1;if(d.length==8){x=parseInt(d.slice(6),16);d=d.slice(0,6)}d=parseInt(d,16);
var Z={C:d>>16&255,L:d>>8&255,X:d&255};if(x!=-1)Z.aX=x;return Z};CSS.oc=function(d,v){return CSS.cZ(f.iF.pq(d),v)};
CSS.cZ=function(d,v){if(v==null)v=1;var t=Math.round(d.C),h=Math.round(d.L),X=Math.round(d.X),g=t<<16|h<<8|X;
return v==1?"#"+f.Uj(g):"rgba("+t+","+h+","+X+","+v+")"};CSS.aaI=function(d,v){return CSS.cZ({C:d[0]*255,L:d[1]*255,X:d[2]*255},v)};
CSS.ou=function(d){var v=d.Grad.v;if(v.Clrs==null)return"";var t=v.Clrs.v.slice(0),h=v.Trns.v.slice(0),X=d.Ofst.v,g=d.Type.v.GrdT=="Rdl"?1:0,x=(g==1?"radial":"linear")+"-gradient",Z=g==0?Math.round(-d.Angl.v.val+90)+"deg":"circle at center",Y=d.Rvrs.v,a=f.iF.aiq(v,Y);
for(var n=0;n<a.length;n++){var z=a[n],p=z[1];Z+=", "+CSS.cZ({C:p[0]*255,L:p[1]*255,X:p[2]*255},z[2])+" "+Math.round(z[0]*100)+"%"}return x+"("+Z+")"};
CSS.aIE=function(d,v,t,h,X,g){var x=v.Uy,Z=h?1:t.Mk(),Y=Math.round(x.FontSize*Z);d.push("font-size: "+Y+"px");
var a=x.Tracking;if(!h&&a!=null&&a!=0)d.push("letter-spacing: "+Math.round(a*Y/1e3)+"px");if(!x.AutoLeading)d.push("line-height: "+Math.round(x.Leading*Z)+"px");
if(x.Strikethrough)d.push("text-decoration: line-through");if(x.Underline)d.push("text-decoration: underline");
if(x.FontCaps==2)d.push("text-transform: uppercase");var z=jM.pq(x.FillColor);z=[z.C,z.L,z.X].map(Math.round);
d.push((h?"fill: ":"color: ")+(g?g:"#"+f.Uj(z[0]<<16|z[1]<<8|z[2])));var p=v._G[x.Font].Name;if(p){var U=fy.sU.wv(p),l="",L=null,O=null;
if(U!=null&&p!=fy.dO(U))U=null;if(X&&U)l+="\""+p+"\", ";var F=p.toLowerCase();if(U){L=fy.aAD(U)[0];if(U["OS/2"])O=U["OS/2"].usWeightClass}else{L=CSS.ahV(p);
if(F.indexOf("light")!=-1)O=300;else if(F.indexOf("medium")!=-1)O=500;else if(F.indexOf("black")!=-1||F.indexOf("extrabold")!=-1)O=800;
else if(F.indexOf("bold")!=-1)O="bold"}if(L!=null)l+="\""+L+"\"";if(O!=null)d.push("font-weight: "+O);
if(F.indexOf("italic")!=-1||F.indexOf("oblique")!=-1)d.push("font-style: italic");if(l)d.push("font-family: "+l)}var i=v.eE.Justification;
if(i!=null&&i!=0)if(h){}else d.push("text-align: "+["left","right","center"][i%3])};CSS.ahV=function(d){d=d.split("-")[0];
while(d.endsWith("MT")||d.endsWith("PS"))d=d.slice(0,d.length-2);var v=!0;for(var n=0;n<d.length;n++){var t=d.charAt(n);
if(!v&&t.toLowerCase()!=t){d=d.slice(0,n)+" "+d.slice(n);n++;v=!0}else v=!1}return d};function c1(){}c1.hj={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0,setTimeout:!0,setInterval:!0,fetch:!0};
c1.JG=function(d,v){var t=Date.now(),h=d.split("\n"),X;if(h.length==1)h=d.split("\r");for(var n=0;n<h.length;
n++)if(h[n].trim()[0]=="#"){h[n]=""}d=h.join("\n");try{X=acorn.parse(d)}catch(cQ){console.log(cQ);return}var g=f.v(c1.aJ.y4);
g.__return=!1;g.__continue=!1;g.__break=!1;g.__throw=!1;g.__fs={};g.__window={};c1.eval(X,v,g);var x=g.__fs;
if(Object.keys(x).length!=0){var Z=UZIP.encode(x);dY.save(Z,"output.zip")}};c1.eval=function(d,v,t){var h=d.type;
if(!1){}else if(h=="Program"||h=="BlockStatement"){var X=d.body;for(var n=0;n<X.length;n++){var g=X[n].type;
if(g=="FunctionDeclaration")t[X[n].id.name]=X[n]}for(var n=0;n<X.length;n++){var g=X[n].type,x=c1.eval(X[n],v,t);
if(t.__continue&&t.__pif==null){t.__continue=!1;return x}if(t.__return||t.__break||t.__throw)return x}}else if(h=="ReturnStatement"){t.__return=!0;
return d.argument?c1.oR(d.argument,v,t):null}else if(h=="BreakStatement"){t.__break=!0}else if(h=="ContinueStatement"){t.__continue=!0}else if(h=="VariableDeclaration"){var Z=d.declarations;
for(var n=0;n<Z.length;n++)c1.eval(Z[n],v,t)}else if(h=="VariableDeclarator"){t[d.id.name]=d.init?c1.oR(d.init,v,t):null}else if(h=="FunctionDeclaration"){t[d.id.name]=d}else if(h=="MemberExpression"){var Y=c1.oR(d.object,v,t),x;
if(t.__throw)return;var a=d.computed?c1.oR(d.property,v,t):c1.eval(d.property,v,t);if(Y.b$!=null)x=c1.aJ.Wg(Y,a,v,t);
else if(Y==window&&c1.hj[a]){}else x=Y[a];return x}else if(h=="ArrayExpression"){var z=[],p=d.elements;
for(var n=0;n<p.length;n++)z.push(c1.oR(p[n],v,t));return z}else if(h=="ObjectExpression"){var z={},p=d.properties;
for(var n=0;n<p.length;n++){var U=p[n],l=p[n].key.name?p[n].key.name:p[n].key.value;z[l]=c1.oR(p[n].value,v,t)}return z}else if(h=="ExpressionStatement"){return c1.eval(d.expression,v,t)}else if(h=="NewExpression"){var L=d.arguments,j=d.callee,O=j.type,F=j.name,i=[],z=null;
for(var n=0;n<L.length;n++)i.push(c1.oR(L[n],v,t));if(F=="Array")z=new window[F];else if(O=="Identifier")z=c1.aJ.aHs(F,i,v,t);
else throw"e";if(z==null)throw"new "+F;return z}else if(h=="CallExpression"){var L=d.arguments,j=d.callee,O=j.type,$={};
for(var H in t)$[H]=t[H];var i=[];for(var n=0;n<L.length;n++)i.push(c1.oR(L[n],v,t));if(O=="Identifier"){var b=j.name,r=t[b];
if(r&&r.b$=="AppFunc"){b=r.cF;r=null}if(r){if(r.params){var W=r.params;for(var n=0;n<W.length;n++)$[W[n].name]=i[n];
return c1.eval(r.body,v,$)}else{return r.apply(null,i)}}else if(c1.aJ.aCC.indexOf(b)!=-1)return c1.aJ.RR({b$:"Application"},b,i,v,t);
else if(window[b]==null)console.log("Unknown function "+b);else if(c1.hj[b])alert(b+"() not available");
else{var V=window[b].apply(window,i);return V}}else if(O=="MemberExpression"){var Y=c1.oR(j.object,v,t),a=j.computed?c1.oR(j.property,v,t):c1.eval(j.property,v,t);
if(Y==window&&c1.hj[a])return;if(Y.b$!=null)return c1.aJ.RR(Y,a,i,v,t);else if(a=="sort"&&Y[0]&&Y[0].b$=="Layer"){return Y.sort(function(P,I){return P.K.getName()>I.K.getName()?1:-1})}else if(a=="toSource")return JSON.stringify(Y);
else return Y[a].apply(Y,i)}else if(O=="FunctionExpression"){var y=c1.eval(j.body,v,t);t.__return=!1;
return y}else console.log(d)}else if(h=="AssignmentExpression"){var c=d.operator,S=d.left,C=S.type,K=c1.oR(S,v,t),T=c1.oR(d.right,v,t),x=null;
if(!1){}else if(c=="=")x=T;else if(c=="+=")x=K+T;else if(c=="-=")x=K-T;else if(c=="*=")x=K*T;else if(c=="/=")x=K/T;
else if(c=="%=")x=K%T;else if(c=="&=")x=K&T;else if(c=="|=")x=K|T;else if(c=="&&=")x=K&&T;else if(c=="||=")x=K||T;
else console.log(d);if(C=="Identifier"){var D=S.name;if(t.hasOwnProperty(D))t[D]=x;else t.__window[D]=x}else if(C=="MemberExpression"){var N=c1.eval(S.property,v,t),G=c1.oR(S.object,v,t);
if(G.b$!=null)c1.aJ.avM(G,N,x,v,t);else G[N]=x}else console.log(d);return x}else if(h=="Identifier")return d.name;
else if(h=="Literal")return d.value;else if(h=="UpdateExpression"){var c=d.operator,s=d.argument.name,z=c1.oR(d.argument,v,t),Q=t;
if(Q[s]==null)Q=t.__window;if(!1){}else if(c=="++"){Q[s]++;return d.prefix?Q[s]:Q[s]-1}else if(c=="--"){Q[s]--;
return d.prefix?Q[s]:Q[s]+1}else console.log(d)}else if(h=="UnaryExpression"){var c=d.operator,q=c1.oR(d.argument,v,t);
if(q&&q.b$=="UnitValue"){if(c=="-")return-q.K;else return c1.aFy(q.K,c)}else return c1.aFy(q,c)}else if(h=="BinaryExpression"||h=="LogicalExpression"){var c=d.operator,S=c1.oR(d.left,v,t);
if(h=="LogicalExpression"&&c=="&&"&&!S)return S;var q=c1.oR(d.right,v,t);if(S==null||q==null)return c1.Yw(S,q,c);
else if(S.b$=="UnitValue"&&q.b$=="UnitValue")return c1.Yw(S.K,q.K,c);else if(S.b$=="UnitValue")return c1.Yw(S.K,q,c);
else if(q.b$=="UnitValue"){if(c=="-")return-(S-q.K);else return c1.Yw(S,q.K,c)}else return c1.Yw(S,q,c)}else if(h=="IfStatement"){var R=c1.oR(d.test,v,t),m=t.__pif,x=null;
t.__pif=!0;if(R)x=c1.eval(d.consequent,v,t);else if(d.alternate)x=c1.eval(d.alternate,v,t);t.__pif=m;
return x}else if(h=="ConditionalExpression"){var R=c1.oR(d.test,v,t);if(R)return c1.oR(d.consequent,v,t);
else if(d.alternate)return c1.oR(d.alternate,v,t)}else if(h=="ForInStatement"){c1.eval(d.left,v,t);var E=d.left.declarations[0].id.name,e=c1.oR(d.right,v,t);
for(var H in e){t[E]=H;var w=c1.eval(d.body,v,t);if(t.__break)break;if(t.__return)return w}t.__break=!1}else if(h=="ForStatement"){c1.eval(d.init,v,t);
while(c1.eval(d.test,v,t)){var w=c1.eval(d.body,v,t);if(t.__break)break;if(t.__return)return w;c1.eval(d.update,v,t)}t.__break=!1}else if(h=="WhileStatement"){while(c1.eval(d.test,v,t)){var w=c1.eval(d.body,v,t);
if(t.__break)break;if(t.__return)return w}t.__break=!1}else if(h=="DoWhileStatement"){do{var w=c1.eval(d.body,v,t);
if(t.__break)break;if(t.__return)return w}while(c1.eval(d.test,v,t));t.__break=!1}else if(h=="TryStatement"){c1.eval(d.block,v,t);
if(t.__throw){var M=d.handler;t[M.param.name]=t.__throw;t.__throw=!1;c1.eval(M.body,v,t);delete t[M.param.name]}}else if(h=="FunctionExpression"){return d}else if(h=="EmptyStatement"){}else console.log(d)};
c1.Yw=function(d,v,t){if(t=="+")return d+v;else if(t=="-")return d-v;else if(t=="*")return d*v;else if(t=="/")return d/v;
else if(t=="%")return d%v;else if(t=="^")return d^v;else if(t=="&")return d&v;else if(t=="&&")return d&&v;
else if(t=="|")return d|v;else if(t=="||")return d||v;else if(t=="<")return d<v;else if(t==">")return d>v;
else if(t=="=="){if(d!=null&&v!=null&&d.b$&&v.b$)return d.K==v.K;return d==v}else if(t=="===")return d===v;
else if(t=="<=")return d<=v;else if(t==">=")return d>=v;else if(t=="!=")return d!=v;else if(t=="!==")return d!==v;
else if(t=="<<")return d<<v;else if(t==">>")return d>>v;else console.log(t)};c1.aFy=function(d,v){if(v=="-")return-d;
else if(v=="!")return!d;else if(v=="~")return~d;else if(v=="+")return d;else if(v=="typeof")return typeof d;
else console.log(v,d)};c1.oR=function(d,v,t){var h=d.type;if(h=="Identifier")return c1.aBh(d.name,v,t);
else return c1.eval(d,v,t)};c1.aBh=function(d,v,t){if(d=="undefined")return undefined;else if(t.hasOwnProperty(d))return t[d];
else if(d=="app")return{b$:"Application"};else if(d=="Folder")return{b$:"Folder"};else if(d=="File")return{b$:"File"};
else if(d=="$")return{b$:"$"};else if(c1.aJ.aoX.indexOf(d)!=-1)return c1.aJ.Wg({b$:"Application"},d,v,t);
else if(c1.aJ.aCC.indexOf(d)!=-1)return{b$:"AppFunc",cF:d};else if(t.__window.hasOwnProperty(d))return t.__window[d];
else if(window[d]&&!c1.hj[d])return window[d];else{t[d]=null;return null}};c1.aJ={};c1.aJ.aHs=function(d,v,t,h){var X;
if(d=="PathPointInfo")X={b$:d,kind:0,Z:[],dH:[],KU:[]};if(d=="SubPathInfo")X={b$:d,fb:0,d3:!1,K:[]};
if(d=="SolidColor")X={b$:d,K:[1,0,0,0]};if(d=="RGBColor")X={b$:d,K:[1,0,0,0]};if(d=="Window")X={b$:d,K:new id(v[0],v[1],v[2])};
if(d=="ExportOptionsSaveForWeb")X={b$:d,K:{Cm:"png",ti:100}};if(d=="PhotoshopSaveOptions")X={b$:d,K:{Cm:"psd"}};
if(d=="PNGSaveOptions")X={b$:d,K:{Cm:"png",ti:100}};if(d=="JPEGSaveOptions")X={b$:d,K:{Cm:"jpg",ti:100}};
if(d=="PDFSaveOptions")X={b$:d,K:{Cm:"pdf",L2:""}};if(d=="File")X={b$:d,K:v[0]};if(d=="ActionReference")X={b$:d,K:{t:"obj ",v:[]}};
if(d=="ActionDescriptor")X={b$:d,K:{t:"Objc",v:{classID:"null"}}};if(d=="ActionList")X={b$:d,K:{t:"VlLs",v:[]}};
if(d=="UnitValue"){var g=0,x="px",Z=v[0],Y=v[1];if(Z){g=parseFloat(Z);if(typeof Z=="string"&&Z.indexOf(" ")!=-1)x=Z.split(" ").pop()}X={b$:d,K:g,aEI:Y?Y:x}}return X};
c1.aJ.aoX="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
c1.aJ.aCC="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue echoToOE".split(" ");
c1.aJ.Wg=function(d,v,t,h){var X=t.n,g=t.c6();if(!1){}else if(v=="typename"){if(d.b$=="Layer")return d.K.h5()?"LayerSet":"ArtLayer";
else return d.b$}else if(["Document","Layer"].indexOf(d.b$)!=-1&&["layers","artLayers","layerSets"].indexOf(v)!=-1){var x=g;
if(d.b$=="Document")x=d.K;else x=d.Aq;var Z=x.root,Y={b$:"Layers",abq:v,K:[],Aq:x};if(d.b$=="Layer")Z=x.root.Ty(x.U.indexOf(d.K));
if(Z.children==null)return null;for(var n=0;n<Z.children.length;n++){var a=Z.children[n].B,z=a.h5();
if(z&&v=="artLayers"||!z&&v=="layerSets")continue;Y.K.push({b$:"Layer",K:a,Aq:x})}Y.K.reverse();return Y}else if(d.b$=="Documents"||d.b$=="Layers"||d.b$=="HistoryStates"||d.b$=="LayerComps"||d.b$=="PathItems"||d.b$=="SubPathItems"||d.b$=="PathPoints"){if(!1){}else if(v=="length")return d.K.length;
else if(Number.isInteger(v))return d.K[v];else console.log(d.b$+": unknown property ",v)}else if(d.b$=="Application"){if(!1){}else if(v=="activeDocument")return{b$:"Document",K:t.c6()};
else if(v=="documents"){var Y={b$:"Documents",K:[]};for(var n=0;n<t.n0.length;n++)Y.K.push({b$:"Document",K:t.n0[n]});
return Y}else if(v=="fonts")return{b$:"TextFonts"};else if(v=="preferences")return{b$:"Preferences"};
else if(v=="displayDialogs")return{b$:"DialogModes"};else if(v=="foregroundColor"||v=="backgroundColor"){var p=v[0]=="f"?X.Sw:X.dL;
return{b$:"SolidColor",K:[1,(p>>>16&255)/255,(p>>>8&255)/255,(p>>>0&255)/255]}}else if(v=="UI")return{b$:"UI"};
else if(v=="version")return 30;else console.log(d,v)}else if(d.b$=="Document"){var g=d.K;if(!1){}else if(v=="activeLayer"){var a=g.U[g.l[0]];
return{b$:"Layer",K:a,Aq:g}}else if(v=="pixelAspectRatio")return 1;else if(v=="resolution")return g.u3;
else if(v=="width")return g.r;else if(v=="height")return g.$;else if(v=="name")return g.name.split(".")[0];
else if(v=="saved")return!g.IY();else if(v=="selection")return{b$:"Selection"};else if(v=="activeHistoryState")return{b$:"HistoryState",ja:g.UG};
else if(v=="source")return g.UI;else if(v=="layerComps"){var U=g.cc.list.v,l=[];for(var n=0;n<U.length;
n++)l.push({b$:"LayerComp",K:n});return{b$:"LayerComps",K:l}}else if(v=="historyStates"){var L=[];for(var n=0;
n<g.history.length;n++)L.push({b$:"HistoryState",ja:n});return{b$:"HistoryStates",K:L}}else if(v=="mode")return g.add.fcmy?1:7;
else if(v=="colorSamplers"){var Y={b$:"ColorSamplers",abq:v,K:g.Aw.slice(0),Aq:g};return Y}else if(v=="pathItems"){var j=[],g=d.K,O=g.V9(),F=O[0],i=O[1];
for(var n=0;n<F.length;n++)j.push({b$:"PathItem",K:F[n]});return{b$:"PathItems",K:j}}else console.log(d,v)}else if(d.b$=="PathItem"){if(v=="subPathItems"){var $=d.K,H=$.add.vmsk.D,j=[];
for(var n=0;n<f.t.HR(H);n++){var b=f.t.fn(H,n),r=H[b],W=H.slice(b+1,b+1+r.length);j.push({b$:"SubPathItem",fb:r.qG,d3:r.e==0,K:jn.rz.Pf(W)})}return{b$:"SubPathItems",K:j}}else alert(v)}else if(d.b$=="SubPathItem"||d.b$=="SubPathInfo"){if(v=="pathPoints"||v=="entireSubPath"){var j=[];
for(var n=0;n<d.K.length;n++){var V=d.K[n];j.push({b$:"PathPointInfo",kind:V.e==1||V.e==4?1:0,Z:[V.Z.x,V.Z.y],dH:[V.dH.x,V.dH.y],KU:[V.KU.x,V.KU.y]})}return{b$:"PathPoints",K:j}}else if(v=="operation")return d.fb;
else if(v=="closed")return d.d3;else throw v}else if(d.b$=="PathPointInfo"){if(v=="kind")return d.kind;
else if(v=="anchor")return d.Z;else if(v=="leftDirection")return d.dH;else if(v=="rightDirection")return d.KU;
else throw v}else if(d.b$=="LayerComp"){if(v=="name")return g.cc.list.v[d.K].v.Nm.v;else throw v}else if(d.b$=="ColorSamplers"){if(Number.isInteger(v))return{b$:"ColorSampler",K:d.K[v]};
else if(v=="length")return g.Aw.length}else if(d.b$=="ColorSampler"){if(v=="color"){var p=A.Ds.Ah(g,g.z.X4(d.K.x,d.K.y),1,2);
return{b$:"SolidColor",K:[1,(p>>>16&255)/255,(p>>>8&255)/255,(p>>>0&255)/255]}}else if(v=="position")return[d.K.x,d.K.y]}else if(d.b$=="Layer"){var y={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=d.K;
if(!1){}else if(v=="visible")return a.ZC();else if(v=="selected")return g.l.indexOf(g.U.indexOf(a))!=-1;
else if(v=="grouped")return a.cD;else if(y[v]!=null)return a.BL(y[v]);else if(v=="opacity")return a.JS*100/255;
else if(v=="fillOpacity")return(a.add.iOpa==null?255:a.add.iOpa)*100/255;else if(v=="blendMode")return a.uF;
else if(v=="name")return a.getName();else if(v=="id")return a.add.lyid;else if(v=="textItem")return{b$:"TextItem",K:a};
else if(v=="bounds"){var c=A.hZ.pT(g,[g.U.indexOf(a)]);return c1.aJ.ax3(c,g)}else if(v=="parent"){var S=t.n0,x;
for(var n=0;n<S.length;n++)if(S[n].U.indexOf(a)!=-1)x=S[n];var C=x.root.Ty(x.U.indexOf(a)).parent;return C.depth==0?{b$:"Document",K:x}:{b$:"Layer",K:C.B,Aq:x}}else if(v=="kind"){var K=c1.aJ.N2;
for(var n=0;n<K.length;n++)if(a.add[K[n]]!=null)return n;return 0}else if(v=="isBackgroundLayer")return a.add.lnsr=="bgnd";
else if(v=="itemIndex")return g.U.indexOf(a)+1;else if(v.startsWith("layerMask")||v.startsWith("filterMask")){var T=v.startsWith("layerMask")?a._B():a.Ip(g).AU;
return v.endsWith("Density")?T.wb*100/255:T.mO}else console.log(d,v)}else if(d.b$=="Selection"){if(!1){}else if(v=="bounds"){if(g.p==null)h.__throw={message:"no selection"};
else return c1.aJ.ax3(g.p.S,g)}else console.log(d,v)}else if(d.b$=="TextItem"){var D=d.K.add.TySh,N=D.Oo,G=jM.W3(N),s=D.M.Mk(),Q=jM.Sj(N,0,0);
if(v=="contents")return G.slice(0,G.length-1).replace(/\n/g,"\r");else if(v=="font")return Q.Uy.Font!=null?Q._G[Q.Uy.Font].Name:null;
else if(v=="size")return c1.aJ.NE(Q.Uy.FontSize*s,g);else if(v=="leading")return c1.aJ.NE(Q.Uy.Leading*s,g);
else if(v=="tracking")return c1.aJ.NE(Q.Uy.Tracking);else if(v=="baselineShift")return c1.aJ.NE(Q.Uy.BaselineShift);
else if(v=="kind")return 1-jM.YX(N);else if(c1.aJ.TE[v])return Q.Uy[c1.aJ.TE[v]];else if(v=="justification")return c1.aJ.NE(Q.eE.Justification);
else if(v=="color")return{b$:"SolidColor",K:Q.Uy.FillColor.Values.slice(0)};else if(v=="width"||v=="height"){var q=jM.pg(N),R=(q[2]-q[0])*s,m=(q[3]-q[1])*s;
return c1.aJ.NE(v=="width"?R:m,g)}else if(v=="position"){var T=D.M;return c1.aJ.aiP([T.r2,T.pE],g)}else if(v=="horizontalScale"||v=="verticalScale"){var E=v[0].toUpperCase()+v.slice(1);
return Math.round(Q.Uy[E]*100)}else if(v=="antiAliasMethod")jM.nk(D);else if(v=="totalTextStyle"){var Y={};
for(var e=0;e<2;e++){var w=["Style","Paragraph"][e],M=N.EngineDict[w+"Run"].RunLengthArray,P=[],I=0;
for(var n=0;n<M.length;n++){var k=jM.Sj(N,I,Math.min(I+M[n],G.length-2));I+=M[n];P.push(e==0?k.Uy:k.eE);
Y.fontSet=k._G}Y[w]={runs:M,styles:P}}return JSON.stringify(Y)}else if(v=="transform"){var T=D.M;return JSON.stringify([T.aX,T.X,T.Wp,T.r7,T.r2,T.pE])}else console.log(d,v)}else if(d.b$=="Preferences"){if(v=="rulerUnits")return X.rp.iV;
else console.log(d,v)}else if(d.b$=="SolidColor"){if(v=="rgb")return{b$:"RGBColor",K:d.K};if(v=="cmyk")return{b$:"CMYKColor",K:f.aB(d.K.slice(1))};
else console.log(d,v)}else if(d.b$=="RGBColor"){var c=Math.round(255*d.K[1]),o=Math.round(255*d.K[2]),af=Math.round(255*d.K[3]);
if(!1){}else if(v=="red")return c;else if(v=="green")return o;else if(v=="blue")return af;else if(v=="hexValue")return f.Uj(c<<16|o<<8|af).toUpperCase();
else console.log(d,v)}else if(d.b$=="CMYKColor"){var J=[];for(var n=0;n<4;n++)J.push(Math.round(d.K[n]*100));
var at=["cyan","magenta","yellow","black"].indexOf(v);if(at!=-1)return J[at];else console.log(d,v)}else if(d.b$=="UnitValue"){if(v=="value")return d.K;
else throw"e"}else if(d.b$=="ExportOptionsSaveForWeb"){if(v=="format")return d.K.Cm;else if(v=="PNG8"||v=="interlaced")return!1;
else if(v=="quality")return d.K.ti;else if(v=="transparency")return!0;else throw v}else if(d.b$=="PNGSaveOptions"||d.b$=="JPEGSaveOptions"||d.b$=="PDFSaveOptions"){return 0}else if(d.b$=="$"){if(v=="localize")return!1;
else if(v=="os")return"Windows";else throw v}else if(d.b$=="ActionList"){if(v=="count")return d.K.v.length;
else throw v}else if(d.b$=="TextFonts"){var ke=fy.sU.KZ(),c_=Object.keys(ke);if(v=="length")return c_.length;
else if(typeof v=="number")return{b$:"TextFont",K:c_[v]};else throw v}else if(d.b$=="TextFont"){var ke=fy.sU.KZ();
if(v=="family")return ke[d.K][0];else if(v=="name")return ke[d.K][1];else if(v=="postScriptName")return ke[d.K][2];
else throw v}else console.log(d,v)};c1.aJ.ax3=function(d,v){return c1.aJ.aiP([d.x,d.y,d.x+d.r,d.y+d.$],v)};
c1.aJ.aiP=function(d,v){var t=[];for(var n=0;n<d.length;n++)t.push(c1.aJ.NE(d[n],v));return t};c1.aJ.Il=function(d){var v=[];
for(var n=0;n<d.length;n++)v.push(d[n].b$?d[n].K:d[n]);return v};c1.aJ.NE=function(d,v){return{b$:"UnitValue",K:d,aEI:"px"}};
c1.aJ.GC=function(d,v){if(d.b$=="UnitValue")return f.rd.LJ(d.K,v.u3,v.r,f.rd.XS.indexOf(d.aEI));return d};
c1.aJ.TE={fauxBold:"FauxBold",fauxItalic:"FauxItalic",useAutoLeading:"AutoLeading",hyphenation:"AutoHyphenate",ligatures:"_Ligatures"};
c1.aJ.avM=function(d,v,t,h,X){var g=new eG(_.E.F,!0),x=new eG(_.E.c,!0),Z=h.c6(),Y=h.n;if(!1){}else if(d.b$=="Application"){if(!1){}else if(v=="activeDocument"){x.data={R:_.Y.cJ,Vr:t.K};
h.J(x)}else if(v=="displayDialogs"){}else if(v=="foregroundColor"||v=="backgroundColor"){var a=t.K,z=a[1]*255<<16|a[2]*255<<8|a[3]*255<<0;
x.data={R:_.Y.Kf,Ic:lx.bX,G$:v=="foregroundColor"?0:1,K:z};h.J(x)}else console.log(d,v,t)}else if(d.b$=="Document"){var p=d.K;
if(!1){}else if(v=="name"){g.T=A.EM;g.data={R:jn.Rm,K:t,auK:!0,US:p};Z.zs=!0}else if(v=="source")p.UI=t;
else if(v=="activeLayer"){p.l=[p.U.indexOf(t.K)]}else if(v=="activeHistoryState"){g.T=A.Hh;g.data={R:"h_itemchange",index:t.ja}}else console.log(d,v)}else if(d.b$=="Layer"){g.T=A.EM;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=d.K,L=Z.U.indexOf(l);
if(!1){}else if(v=="visible"){if(l.ZC()!=t)g.data={R:jn.kJ,B:L}}else if(v=="opacity"){g.data={R:jn.Q3,B:L,VE:Math.round(255*t/100)}}else if(v=="fillOpacity"){g.data={R:jn.vT,B:L,VE:Math.round(255*t/100)}}else if(v=="blendMode"){g.data={R:jn.cW,B:L,VE:gL.iX.indexOf(t)}}else if(v=="name"){g.data={R:jn.zG,B:L,name:t}}else if(U[v]!=null){g.data={R:jn.dS,B:L,VE:[[t],[U[v]]]}}else if(v=="kind"){g.data={R:jn.un,B:L,uY:c1.aJ.N2[t]}}else if(v=="grouped"){g.data={R:jn.BV,B:L,VE:t}}else if(v.startsWith("layerMask")||v.startsWith("filterMask")){var j=l.Ta(v.startsWith("layerMask")?0:2);
if(v.endsWith("Density"))j.LP=Math.round(t*255/100);else j.sP=t;g.data={R:jn.ex,ME:L,ZE:j}}else console.log(d,v,t)}else if(d.b$=="TextItem"){g.T=A.uW;
var l=d.K,O=l.add.TySh,F=f.v(O.Oo),i=O.M.b(),$=O.M.Mk(),H=jM.W3(F),b=jM.Sj(F,0,H.length-2),r=!1;if(!1){}else if(v=="contents"){jM.MW(F,0,H.length-1);
jM.Uh(F,0,(t+"").replace(/\r/g,"\n"))}else if(v=="size"){b.Uy.FontSize=(t.K!=null?t.K:t)/$;r=!0}else if(v=="leading"){b.Uy.Leading=(t.K!=null?t.K:t)/$;
r=!0}else if(v=="tracking"){b.Uy.Tracking=t.K!=null?t.K:t;r=!0}else if(v=="baselineShift"){b.Uy.BaselineShift=t.K!=null?t.K:t;
r=!0}else if(v=="kind"){var W=jM.YX(F);if(W==1&&t==1){var V=new cl(F,h.n.FP,O.s1).eE[0],y=V.w4[0].end,c=V.DI[y-1].end;
jM.MW(F,0,H.length-1);jM.Uh(F,0,H.slice(0,c-1))}if(W==t)jM.kM(F,1-t)}else if(c1.aJ.TE[v]){b.Uy[c1.aJ.TE[v]]=t;
r=!0}else if(v=="justification"){b.eE.Justification=t;r=!0}else if(v=="font"){jM.aW(b,t);r=!0}else if(v=="color"){b.Uy.FillColor.Values=t.K.slice(0);
r=!0}else if(v=="width"||v=="height"){var S=jM.pg(F).slice(0),C=c1.aJ.GC(t,Z);if(v=="width")S[2]=Math.round(S[0]+C/$);
else S[3]=Math.round(S[1]+C/$);jM.eg(F,S)}else if(v=="position"){i.r2=t[0];i.pE=t[1]}else if(v=="horizontalScale"||v=="verticalScale"){var K=v[0].toUpperCase()+v.slice(1);
b.Uy[K]=t/100;r=!0}else if(v=="antiAliasMethod")jM.Y7(O,t);else console.log(d,v,t);if(r)jM.yx(F,0,H.length-1,b);
g.data={R:"newED",ED:Z.U.indexOf(l),ac6:F,M:i}}else if(d.b$=="Preferences"){if(!1){}else if(v=="rulerUnits"){var T=f.v(Y.rp);
T.iV=t;x.data={R:_.Y.Kf,Ic:lx.yy,VE:T};h.J(x)}else console.log(d,v,t)}else if(d.b$=="SolidColor"){if(v=="rgb")d.K=t.K;
else throw v}else if(d.b$=="RGBColor"){if(!1){}else if(v=="red")d.K[1]=t/255;else if(v=="green")d.K[2]=t/255;
else if(v=="blue")d.K[3]=t/255;else if(v=="hexValue"){var D=f.aAg(t.slice(t.charAt(0)=="#"?1:0));d.K[1]=(D>>>16&255)/255;
d.K[2]=(D>>>8&255)/255;d.K[3]=(D>>>0&255)/255}else console.log(d,v)}else if(d.b$=="ExportOptionsSaveForWeb"){if(v=="format")d.K.Cm=t;
else if(v=="PNG8"||v=="transparency"||v=="interlaced"){}else if(v=="quality")d.K.ti=t;else throw v}else if(d.b$=="PNGSaveOptions"||d.b$=="JPEGSaveOptions"){if(v=="quality")d.K.ti=Math.round(100*t/12)}else if(d.b$=="PDFSaveOptions"){if(v=="preset")d.K.L2=t}else if(d.b$=="PathPointInfo"){if(v=="kind")d.kind=t;
else if(v=="anchor")d.Z=t;else if(v=="leftDirection")d.dH=t;else if(v=="rightDirection")d.KU=t;else throw v}else if(d.b$=="SubPathInfo"){if(v=="operation")d.fb=t;
else if(v=="closed")d.d3=t;else if(v=="entireSubPath"){d.K=[];for(var n=0;n<t.length;n++){var N=t[n];
d.K.push({e:N.kind==1?1:2,dH:new cK(N.dH[0],N.dH[1]),Z:new cK(N.Z[0],N.Z[1]),KU:new cK(N.KU[0],N.KU[1])})}}else throw v}else if(d.b$=="$"){if(v=="localize"){}}else console.log(d,v,t);
if(g.data!=null)h.J(g)};c1.aJ.a49=function(d,v,t){if(v==null)return;var h=v.Oo.EngineDict.StyleRun.RunArray,X=v.Oo.ResourceDict.FontSet,g=[];
for(var n=0;n<h.length;n++){var x=h[n].StyleSheet.StyleSheetData,Z=X[x.Font].Name,Y=t.n.FP.wv(Z);if(Y&&Y.name.postScriptName!=Z)Y=null;
g.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:Y!=null},fontPostScriptName:{t:"TEXT",v:Z}}}}})}d.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:g},textKey:{t:"TEXT",v:jM.W3(v.Oo)}}}};
c1.aJ.RR=function(d,v,t,h,X){var g=d.b$,x=null,Z=new eG(_.E.F,!0),Y=new eG(_.E.U0,!0),a=new eG(_.E.c,!0),z=h.c6(),p=h.n0;
if(!1){}else if(g=="Application"){if(!1){}else if(v=="charIDToTypeID"){var U=t[0].trim(),l={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate",GrpL:"groupEvent"};
return l[U]?l[U]:U}else if(v=="stringIDToTypeID"){var L=t[0].trim(),l={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",type:"Type",using:"Usng",targetEnum:"Trgt",to:"T",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",userMaskEnabled:"UsrM",colorize:"Clrz",hue:"H",saturation:"Strt",lightness:"Lght",hueSaturation:"HStr",adjustment:"Adjs",textStyle:"TxtS"},j=l[L];
return j==null?L:j}else if(v=="typeIDToStringID"){return t[0].trim()}else if(v=="executeAction"){var O;
if(t[1]){O=t[1].K.v;O.classID=t[0]}var F={setd:"set"},i=F[t[0]];if(i==null)i=t[0];var $=cV.vN[t[0]];
if($&&cV.qU[$])i=cV.qU[$];Y.data={oN:i,mQ:O}}else if(v=="executeActionGet"){var H=t[0].K.v,x={};if(H.length==1){var b=x.classID=H[0].v.classID;
if(b=="Lyr"){var r=kl.y7(z,H[0]),V=z.U[r],y=V.add.SoLd,c=V.add.SoCo,S=V.add.TySh,C=V._B();if(y)x.smartObjectMore={t:"Objc",v:{transform:y.nonAffineTransform}};
if(c)x.adjustment={t:"VlLs",v:[{t:"Objc",v:f.v(c)}]};if(S)c1.aJ.a49(x,S,h);if(C)x.UsrM={t:"Objc",v:{}}}else if(b=="AdjL"){var r=kl.y7(z,H[0]),V=z.U[r],K=cV.get(V.add);
x.Adjs={t:"VlLs",v:[{t:"Objc",v:f.v(V.add[K])}]}}else if(b=="ASet"){var T=h.n.TK;x.NmbC={t:"long",v:T[0].Yx.length}}return{b$:"ActionDescriptor",K:{t:"null",v:x}}}if(H.length==2){var b=x.classID=H[1].v.classID,L=H[0].v.keyID;
if(b=="Dcmn"){var D=z;if(L=="numberOfLayers")x[L]={t:"long",v:D.U.length};else throw L}else if(b=="Lyr"){var r=kl.y7(z,H[1]),V=z.U[r],S=V.add.TySh;
if(L=="textKey")c1.aJ.a49(x,S,h);else throw L}else if(b=="ASet"){var T=h.n.TK,N=x.classID=H[0].v.classID;
if(N=="Actn"){x.NmbC={t:"long",v:kl.SW(T,H[0].v.val,H[1].v.val).Yx.length}}else throw N}else throw b;
return{b$:"ActionDescriptor",K:{t:"null",v:x}}}}else if(v=="doAction"){a.data={R:_.Y.j4,HW:[t[0],t[1]]}}else if(v=="bringToFront"){}else if(v=="open"){a.data={R:_.Y.PE,Ic:{url:t[0]}};
if(t[2]&&p.length!=0)a.data.Ic.e$=p.indexOf(z)}else if(v=="echoToOE"){a.data={R:_.Y.hy,Ic:t[0]}}else if(v=="showWindow"){a.data={R:_.Y.S8,cG:t[0]}}else if(v=="UnitValue"){return t[0]+" "+t[1]}else console.log(v)}else if(g=="LayerComp"){if(v=="apply"){Z.T=A.AQ;
Z.data={R:"setLC",ja:z.cc.list.v[d.K].v.compID.v}}else throw v}else if(g=="Document"){var z=d.K;if(!1){}else if(v=="changeMode"){Z.T=A.Xc;
Z.data={R:"fcmy",K:t[0]==1?1:0}}else if(v=="crop"){var G=t[0];Y.data=A.Fv.apr([G[0],G[1],G[2]-G[0],G[3]-G[1]])}else if(v=="trim"){var s=[];
for(var n=0;n<4;n++)s.push(t[n+1]!=null?t[n+1]:!0);Y.data=A.Fv.dm(t[0]!=null?t[0]:0,s)}else if(v=="suspendHistory"){var Q=acorn.parse(t[1]);
c1.eval(Q,h,X)}else if(v=="save"){a.data={R:_.Y.Qk}}else if(v=="saveToOE"){a.data={R:_.Y.Qk,ajo:t}}else if(v=="rotateCanvas"||v=="flipCanvas"){var q=v=="rotateCanvas";
Y.data=A.hZ.GB(q,q?t[0]:["Hrzn","Vrtc"][t[0]])}else if(v=="resizeImage"||v=="resizeCanvas"){var R=t[0],m=t[1];
if(R!=null){var E={r:z.r,u3:z.u3};if(t[2])E.u3=t[2];R=c1.aJ.GC(R,E),m=c1.aJ.GC(m,E);R=Math.round(R);
m=Math.round(m)}if(v=="resizeCanvas")Y.data=A.Fv.amB(R,m,t[2]);else Y.data=A.Fv.Ca(R,m,t[2],R!=null?1:null)}else if(v=="paste"){a.data={R:_.Y.me,a7M:t.length!=0&&t[0],U6:!0};
h.J(a);a.data=null;return{b$:"Layer",K:z.U[z.l[0]],Aq:z}}else if(v=="close"){a.data={R:_.Y.bC,Wt:z}}else if(v=="exportDocument"||v=="saveAs"){var e=X.__fs,w=v=="exportDocument"?t[2].K:t[1].K,M=t[0].K.replace(":","").replace("~/","");
if(!M.toLowerCase().endsWith("."+w.Cm))M+="."+w.Cm;var P=b3.vg(z,w.Cm,null,null,w.Cm=="pdf"?null:{qual:w.ti},h.n);
e[M]=new Uint8Array(P)}else if(v=="flatten"){Y.data={oN:"flattenImage"}}else if(v=="clearHistory"){Z.T=A.Hh;
Z.data={R:"h_clear",force:!0}}else console.log(d,v,t)}else if(g=="Layer"){var I=d.K,r=z.U.indexOf(I);
if(!1){}else if(v=="copy"){c1.aJ.IS(z,h,0);a.data={R:_.Y._M,Nx:t[0],Ew:r,U6:!0};h.J(a);delete a.data;
c1.aJ.IS(z,h,1)}else if(v=="clear"){c1.aJ.IS(z,h,0);Y.data={oN:"delete"};h.J(Y);delete Y.data;c1.aJ.IS(z,h,1)}else if(v=="autoLevels"||v=="autoContrast"){if(v=="autoContrast")Y.data={oN:"levels",mQ:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else Y.data={oN:"levels",mQ:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(v=="duplicate"){if(t.length==0){var k=z.l.slice(0);
Z.data={R:jn.jl,B:r};Z.T=A.EM;h.J(Z);Z.data=null;x={b$:"Layer",K:z.U[z.l[0]],Aq:d.Aq};z.l=k}else if(t[0].b$=="Document"){Z.data={R:jn.h$,U:z.w$(r),tq:z,qQ:t[0].K};
Z.T=A.EM}if(Z.data){h.J(Z);Z.data=null;return{b$:"Layer",K:z.U[z.l[0]],Aq:z}}}else if(v=="merge"||v=="remove"){Z.data={R:v=="merge"?jn.AX:jn.o1,B:r};
Z.T=A.EM;var o=z.U.length-r;h.J(Z);Z.data=null;if(v!="remove")x={b$:"Layer",K:z.U[z.U.length-o],Aq:d.Aq}}else if(v=="move"){var af=z.U.indexOf(t[0].K);
if(af==r+1&&t[1]==4)return;if(af==r-1&&t[1]==3)return;Z.data={R:jn.F$,source:r,target:af,Hj:t[1]!=3?.6:.3};
Z.T=A.EM}else if(v=="rasterize"){Z.T=A.EM;Z.data={R:jn.eC,B:r};h.J(Z);Z.data=null;d.K=z.U[r]}else if(v=="rotate"){Z.data={R:"rot",qq:[2,5],K:-t[0]*Math.PI/180,_Y:t[1],B:r};
Z.T=A.Oi}else if(v=="resize"){Z.data={R:"scl",qq:[2,4],K:new cK(t[0]/100,t[1]/100),_Y:t[2],B:r};Z.T=A.Oi}else if(v=="translate"){var J=c1.aJ.Il(t);
Z.data={R:"trsl",B:r,T9:J[0],Io:J[1]};Z.T=A.Xc}else if(v=="link"){Z.data={R:jn.kc,arv:[r,z.U.indexOf(t[0].K)]};
Z.T=A.EM}else if(v=="invert"){Z.T=A.xU;Z.data={R:"start",Gm:"nvrt"}}else if(v=="desaturate"){Y.data={oN:"desaturate"}}else if(v.startsWith("apply")&&e0.Lh[v.slice(5)]||v.startsWith("adjust")&&e0.Lh[v.slice(6)]||v=="mixChannels"){var at=v.startsWith("apply"),J=c1.aJ.Il(t),K=v=="mixChannels"?"mixr":e0.Lh[v.slice(at?5:6)];
if(K=="Dspl"){for(var n=0;n<z.U.length;n++)if(z.U[n].getName()==J[4]){J[4]=z.U[n].add.SoLd.Idnt.v;break}}Y.data={oN:at?e0.qU[K]:cV.qU[K]};
var O=e0.yu(K),k=z.l;z.l=[r];if(O){if(K=="mixr"){var ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var n=0;
n<3;n++){var c_=J[0][n],ag=n*5;ke[ag+0]=c_[0];ke[ag+1]=c_[1];ke[ag+2]=c_[2];ke[ag+4]=c_[3]}O=cV.kL({K:ke,I4:J[1]})}else e0.g4["g"+K](O,J);
Y.data.mQ=O}h.J(Y);Y.data=null;z.l=k}else if(v=="applyStyle"){var dz=h.n.Fw,kL=null;for(var n=0;n<dz.length;
n++)if(dz[n].Me.Nm.v.split("/").pop()==t[0])kL=dz[n];if(kL==null){alert("Style not found!");return}Z.T=A.iL;
Z.data={R:"setstl",K:kL.m9,B:r};h.J(Z);Z.data={R:"confirm",B:r}}else console.log(d,v,t)}else if(g=="Documents"){if(v=="getByName"){for(var n=0;
n<p.length;n++)if(p[n].name==t[0]||p[n].name.split(".")[0]==t[0])return{b$:"Document",K:p[n]};return null}else if(v=="add"){if(t.length==0)t=[100,100,72,"New Project"];
var aq=t[5];if(aq==null)aq=1;Y.data=hc.z$(t[0],t[1],t[2],t[3],["Wht","Trns","BckC"][aq],!1);h.J(Y);Y.data=null;
return{b$:"Document",K:h.c6()}}else throw"e"}else if(g=="Layers"){if(v=="getByName"){for(var n=0;n<d.K.length;
n++)if(d.K[n].K.getName()==t[0]){x=d.K[n];break}if(x==null)X.__throw={message:"No layer with a name "+t[0]}}else if(v=="add"){Z.data={R:d.abq=="layerSets"?jn.yC:jn.XK};
Z.T=A.EM;h.J(Z);Z.data=null;x={b$:"Layer",K:z.U[z.l[0]],Aq:d.Aq}}else console.log(d,v,t)}else if(d.b$=="Selection"){if(v=="select"){var dh=t[0],gK=[];
for(var n=0;n<dh.length;n++)gK.push(dh[n][0],dh[n][1]);Y.data=A.Oe.Z5(c1.aJ.Il(gK),t[1])}else if(v=="clear"){Y.data={oN:"delete"}}else if(v=="selectAll"){Y.data=A.Oe.qJ(!0)}else if(v=="invert"){Y.data={oN:"inverse"}}else if(v=="copy"){a.data={R:_.Y._M,Nx:t[0],U6:!0}}else if(v=="deselect"){Y.data=A.Oe.qJ()}else if(v=="fill"){var ad=t[0].K;
ad=f.iF.Zi({C:ad[1]*255,L:ad[2]*255,X:ad[3]*255});Y.data=A.mE.Ak("Clr",t[1],t[2]==null?1:t[2]/100,ad)}else if(v=="grow"||v=="similar"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(t[0]!=null)O.Tlrn={t:"long",v:t[0]};Y.data={oN:v,mQ:O}}else if(v=="expand"||v=="contract"||v=="feather"){Y.data=A.Oe.DX(v,t[0],!0)}else if(v=="translate"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:t[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:t[1]}}}}};
Y.data={oN:"move",mQ:O}}else if(v=="smooth"){Y.data=A.Oe.DX("smoothness",t[0],!1)}else if(v=="stroke"){var kL=JSON.parse(kV.v0[1]),dc=kL.Clr.v,ad=t[0].K;
dc.Rd.v=ad[1]*255;dc.Grn.v=ad[2]*255;dc.Bl.v=ad[3]*255;kL.Sz.v.val=t[1];kL.Styl.v.FStl=kV.stroke.types[t[2]];
console.log(kL,t);Z.T=A.OG;Z.data={R:"stroke",a7k:kL}}else console.log(d,v,t)}else if(d.b$=="Window"){if(v=="show"){a.data={R:_.Y.S8,cG:d.K}}else throw"e"}else if(d.b$=="ActionReference"){if(v=="putProperty"){d.K.v.push({t:"prop",v:{classID:t[0],keyID:t[1]}})}else if(v=="putClass"){d.K.v.push({t:"Clss",v:{classID:t[0]}})}else if(v=="putEnumerated"){d.K.v.push({t:"Enmr",v:{classID:t[0],typeID:t[1],enum:t[2]}})}else if(v=="putName"){d.K.v.push({t:"name",v:{classID:t[0],val:t[1]}})}else if(v=="putIndex"){d.K.v.push({t:"indx",v:{classID:t[0],val:t[1]}})}else console.log(v,t)}else if(d.b$=="ActionDescriptor"||d.b$=="ActionList"){var lq=d.b$=="ActionList";
if(v.startsWith("put")){var hn=lq?t:t.slice(1),j=null;if(v=="putReference"){j=hn[0].K}else if(v=="putObject"){j=hn[1].K;
j.v.classID=hn[0]}else if(v=="putList"){j=hn[0].K}else if(v=="putDouble"){j={t:"doub",v:hn[0]}}else if(v=="putUnitDouble"){j={t:"UntF",v:{type:hn[0],val:hn[1]}}}else if(v=="putBoolean"){j={t:"bool",v:hn[0]}}else if(v=="putInteger"){j={t:"long",v:hn[0]}}else if(v=="putString"){j={t:"TEXT",v:hn[0]}}else if(v=="putClass"){j={t:"type",v:{classID:hn[0]}}}else if(v=="putEnumerated"){var dF=t[0].split("+");
if(dF.length==2&&t[1]==null){t[0]=dF[0];t[1]=hn[0]=dF[1]}var ag={};ag[hn[0]]=hn[1];j={t:"enum",v:ag}}else throw v;
if(lq)d.K.v.push(j);else d.K.v[t[0]]=j}else if(v=="hasKey"){return d.K.v[t[0]]!=null}else if(v=="getEnumerationValue"){if(t[0]=="layerSection")x="layerSectionContent";
else console.log(t)}else if(v=="getBoolean"){x=d.K.v[t[0]].v}else if(v=="getString"){x=d.K.v[t[0]].v}else if(v=="getObjectValue"){var x=d.K.v[t[0]];
return{b$:"ActionDescriptor",K:f.v(x)}}else if(v=="getList"){var x=d.K.v[t[0]];return{b$:"ActionList",K:x}}else if(v=="getInteger"||v=="getDouble"){return d.K.v[t[0]].v}else console.log(v,t)}else if(d.b$=="$"){if(v=="writeln"){console.log(t[0])}else throw v}else if(d.b$=="UI"){if(v=="scroll"||v=="scrollTo"){var c3=t[0],i8=t[1],dr=z.z.OI;
if(v=="scrollTo"){c3=(-z.r/2+c3)*dr+z.z.h.x;i8=(-z.$/2+i8)*dr+z.z.h.y}Z.T=A.MD;Z.data={R:"scroll",KJ:new cK(Math.round(c3),Math.round(i8))}}else{var jO;
if(v=="zoomIn"||v=="zoomOut"){jO={R:"zoom",JR:v=="zoomIn"}}else if(v=="fitTheArea"){jO={R:"adapt",K:"fitscr"}}else if(v=="pixelToPixel"){jO={R:"adapt",K:"pixel"}}Z.T=A.CK;
Z.data=jO;if(v=="switchFullscreen"){var d1=h.n.mB,h3=document.fullscreenElement!=null==(d1==2);a.data={R:_.Y.oL,K:d1==0?2:0,GH:h3}}}}else if(d.b$=="ColorSamplers"){if(v=="removeAll")z.Aw=[];
else if(v=="add"){var d5={x:t[0][0],y:t[0][1]};z.Aw.push(d5);var x={b$:"ColorSampler",K:d5}}}else if(d.b$=="ColorSampler"){if(v=="move"){var em=z.Aw.indexOf(d.K);
d5=z.Aw[em];d5.x=t[0][0];d5.y=t[0][1]}else if(v=="remove"){var em=z.Aw.indexOf(d.K);z.Aw.splice(em,1)}}else if(d.b$=="PathItem"){if(v=="select"){z.lE=[z.S5.indexOf(d.K)];
z.zs=!0}else if(v=="remove"){Z.T=A.Z4;Z.data={R:"pathedit",G$:"del"}}else console.log(v)}else if(d.b$=="PathItems"){if(v=="add"){var fl=t[1],lA=hc.$$(t[0]),G=lA.add.vmsk.D;
for(var n=0;n<fl.length;n++){var av=fl[n],ah=av.K.length;G.push({e:av.d3?0:3,length:ah,qG:av.fb});for(var gE=0;
gE<ah;gE++){if(!av.d3)av.K[gE].e+=3;G.push(av.K[gE])}}Z.T=A.Z4;Z.data={R:"pathedit",G$:"new",c2:lA};
h.J(Z);return{b$:"PathItem",K:lA}}else throw v}else if(d.b$=="Folder"){if(v=="selectDialog")x="img";
else throw v}else if(d.b$=="File"){if(v=="openDialog")alert("A website can not show the Open dialog from a script");
else throw v}else console.log(d,v,t);if(Z.data)h.J(Z);if(Y.data)h.J(Y);if(a.data)h.J(a);return x};c1.aJ.IS=function(d,v,t){var h=new eG(_.E.F,!0);
h.T=A.Nf;var X=new eG(_.E.U0,!0);if(t==0){c1.aJ.a5z=d.p;X.data=A.Oe.qJ(!0)}else{var g=c1.aJ.a5z;if(g)h.data={R:"setsel",qq:"Restore Selection",p:{S:g.S.b(),N:g.N.slice(0)}};
else X.data=A.Oe.qJ()}v.J(h.data?h:X)};c1.aJ.a5z=null;c1.aJ.y4={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3},Direction:{HORIZONTAL:0,VERTICAL:1}};
c1.aJ.y4.ColorBlendMode=c1.aJ.y4.BlendMode;c1.aJ.N2="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function gr(){}gr.bd={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null],"xmp:Label":["",null],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:UserComment":["",37510],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
gr.Pp={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
gr.azM=function(d,v){if(v==null)v={};var t=gr.Pp,h=[],X=[],g="";for(var n=0;n<d.length;n++){var x=d[n],Z=t[x[0]+""];
if(Z&&(v[Z]==null||v[Z]==""))v[Z]=x[1];else if(x[0]==12)X.push(x[1]);else if(x[0]==25)h.push(x[1]);else if(x[0]==55)g=x[1];
else if(x[0]==60)g+=";"+x[1]}if(g!=""&&v["exif:DateTimeOriginal"]==null)v["exif:DateTimeOriginal"]=g;
if(X.length!=0&&v["Iptc4xmpCore:SubjectCode"]==null)v["Iptc4xmpCore:SubjectCode"]=X.join(";");if(h.length!=0&&v["dc:Keywords"]==null)v["dc:Keywords"]=h.join(";");
return v};gr.aBn=function(d){var v=gr.Pp,t=[];for(var h in v)if(d[v[h]])t.push([parseInt(h),d[v[h]]]);
if(d["Iptc4xmpCore:SubjectCode"]){var X=d["Iptc4xmpCore:SubjectCode"].split(";");for(var n=0;n<X.length;
n++)t.push([12,X[n].trim()])}if(d["dc:Keywords"]){var X=d["dc:Keywords"].split(";");for(var n=0;n<X.length;
n++)t.push([25,X[n].trim()])}t.sort(function(g,x){return g[0]-x[0]});return t};gr.VX=function(d,v){if(v==null)v={};
var t=new DOMParser,h=t.parseFromString(d,"image/svg+xml"),X=h.getElementsByTagName("rdf:Description")[0];
if(X==null)return v;var g=gr.bd;for(var x in g){var Z=[];if(g[x][2]){var Y=g[x][2],a=X.getElementsByTagName(Y)[0];
if(a==null)continue;var z=a.getElementsByTagName("rdf:li");for(var n=0;n<z.length;n++)Z.push(z[n].textContent)}else if(X.getAttribute(x))Z.push(X.getAttribute(x));
else continue;v[x]=Z.join("; ")}return v};gr.Ve=function(d){var v=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:photoshop=\"http://ns.adobe.com/photoshop/1.0/\" xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],t=gr.bd,h="";
for(var X in t){var g=d[X],x=t[X][2];if(g==null)continue;if(x){var Z="Seq",Y="";if(x=="dc:title"||x=="dc:description"){Z="Alt";
Y=" xml:lang=\"x-default\""}if(x=="dc:subject")Z="Bag";v.push("\t<"+x+"><rdf:"+Z+">");var a=x=="dc:subject"?g.split(";").join(",").split(","):[g];
for(var n=0;n<a.length;n++)v.push("\t\t<rdf:li"+Y+">"+a[n].trim()+"</rdf:li>");v.push("\t</rdf:"+Z+"></"+x+">")}else h+=" "+X+"=\""+g+"\""}v[3]+=h+">";
v.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return v.join("\n")};
gr.a3q=function(d){var v=[];for(var n=0;n<d.length;n++)v[n]=d[n][1]==0?0:d[n][0]/d[n][1];return v};gr.a1j=function(d){var v=[];
for(var n=0;n<d.length;n++){var t=d[n],h=1;if(t!=Math.round(t)){h=1e3;t=Math.round(t*h)}v[n]=[t,h]}return v};
gr.L6=function(d,v){var t=gr.bd;if(v==null)v={};for(var h in t){var X=t[h][1],g="t"+X;if(X!=null&&d[g]!=null){var x=d[g];
if(X==0)x=x.join(".");else if(X==2||X==4){var Z=d["t"+(X-1)];if(Z==null)Z=[X==2?"N":"E"];x=gr.a3q(x).join(",")+Z[0]}else if(X==42034)x=gr.a3q(x).join(" ");
else if(X==270||X==315){if(x instanceof Uint8Array)x=B.I$(x);else{var Y=x[0],a=new Uint8Array(Y.length);
B.js(a,0,Y);x=B.I$(a)}}else if(X==37510&&x instanceof Uint8Array){var Y=B.I$(x);x=Y.startsWith("ASCII")?Y.slice(8):Y}else x=x[0];
v[h]=x}}if(d.exifIFD)gr.L6(d.exifIFD,v);if(d.gpsiIFD)gr.L6(d.gpsiIFD,v);return v};gr.Kc=function(d,v,t){var h=gr.bd,g=0,Z=0;
if(v==null)v={};var X={},x={};for(var Y in h){if(d[Y]==null||h[Y][1]==null)continue;var a=h[Y][1],z="t"+a,p=v;
if(Y.startsWith("exif:")){p=X;g++;if(Y.startsWith("exif:GPS")){p=x;Z++}}var U=d[Y];if(a==0)U=new Uint8Array(U.split(".").map(parseFloat));
else if(a==2||a==4){var l=U.length;p["t"+(a-1)]=[U.slice(U.length-1)];U=gr.a1j(U.split(",").map(parseFloat))}else if(a==42034)U=gr.a1j(U.split(" ").map(parseFloat));
else if(a==270||a==315){var L=B.j9(U);U=[B.o3(L,0,L.length)]}else if(a==37510)U=B.j9(U);else U=[U];p[z]=U}if(g!=0){v.exifIFD=X;
v.t34665=[0]}if(Z!=0){v.gpsiIFD=x;v.t34853=[0]}var j=new Date,O=[j.getFullYear(),j.getMonth()+1,j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds()];
for(var n=0;n<6;n++)O[n]=(O[n]+"").padStart(2,"0");v.t305=["Photopea Editor (www.photopea.com)"];if(t!=!0)v.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return v};function aI(){}aI.lS=function(d){var v={av6:",",vK:"\r\n",aJh:"\""},t=[[""]],h,X,g,x,Z;for(h=X=g=x=0;
g<d.length;g++){switch(Z=d.charAt(g)){case v.aJh:if(x&&d.charAt(g+1)==v.aJh){t[h][X]+=v.aJh;++g}else{x^=1}break;
case v.av6:if(!x){t[h][++X]=""}else{t[h][X]+=Z}break;case v.vK.charAt(0):if(!x&&(!v.vK.charAt(1)||v.vK.charAt(1)&&v.vK.charAt(1)==d.charAt(g+1))){t[++h]=[""];
t[h][X=0]="";if(v.vK.charAt(1)){++g}}else{t[h][X]+=Z}break;default:t[h][X]+=Z}}if(t[t.length-1].length<t[0].length)t.pop();
return t};var u={};u.ae_=0;u.A$=function(){u.ae_++;return u.ae_};u.aAn="uint8";u.Qg=function(d){d._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
d._.style.opacity="1";d._.style.transform="scale(1)"};u.KI=function(d,v){d._.style.opacity="0";d._.style.transform="scale(0.95)";
if(v)setTimeout(function(){v.removeChild(d._)},100)};u.aGT=function(){var d=u.Ld();if(d=="")return 0;
if(d!=u.Rb("_TXZRPB;d7@;")&&d!=f4.Rb("eQLZRRM?8a4=8")&&d!=f4.Rb("YMVVHAj=FA")){var v=u.hm[f4.OU][f4.JT],t=v.indexOf(String.fromCharCode(35)),h;
if(t==-1)return 0;try{h=JSON.parse(u.hm[f4.aeJ](v.slice(t+1)))}catch(cQ){return 0}var X=h[u.Rb("bQ[ODL<E<M")];
if(X==null||X.length<<2!=64)return 0;var g=f4.ys(),x=parseInt(X.slice(3*4).split("").reverse().join(""),16)<<16;
if(x<g||X!=f4.apD(x,d))return 0;return 2}return 1};u.Ld=function(){var d=u.hm[u.RI("}$z{2*35")][u.Rb("W[\\ZQAJ?")],v=String.fromCharCode(46),t=d.split(v);
if(t.length<2)return"";var h=t.pop();h=t.pop()+v+h;return h};u.GU=function(d){var v=u.Ld();if(iP.yU())return!0;
if((v==f4.Rb("_TXZRPB;d7@;")||v==f4.Rb("~yy"))&&u.hm==u.hm[f4.a8v])return!0;var t=u.hm[f4.OU][f4.JT],h=t.indexOf("#");
if(h!=-1&&h!=t.length-1&&(t[h+1]=="%"||t[h+1]=="{")){var X=t.substring(h+1,t.length);X=JSON.parse(u.hm[f4.aeJ](X));
var g=X[f4.Rb("P\\RY")];if(g)if(d==0&&g[f4.Rb("aYKM")]||d==1&&g[f4.Rb("SQcMR")])return!0}return!1};u.aIR=function(){if(u.hm[f4.aag][f4.aHR]){var d=new u.hm[f4.dd];
d[f4.aK](f4.aDp,u.Rb("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+u.Ld());d[f4.wJ]()}};u.bk=function(){if(window.top!=window.self)return!1;
var d=navigator.userAgent.toLowerCase();if(d.indexOf("firefox")!=-1&&j8==0)return!1;if(d.indexOf("safari")!=-1&&d.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null&&navigator.clipboard!=null};u.CR=function(d){this.Ma=d;this._z=u.q("img");
this.l1=u.q("canvas");this.Sa=null;this.ef="";this.vp=null;this.X0=new cK(0,0);this.arg=!0;u.Fg(this.Ma,this.lC.bind(this))};
u.CR.prototype.dn=function(d,v){this.Sa=d;if(v)this.ef=v;this.lC()};u.CR.prototype.$e=function(d){this.arg=d;
this.lC()};u.CR.prototype.lC=function(d){if(d)this.X0=u.cN(d,this.Ma);var v=this.arg?this.Sa:"auto",t=typeof v=="string";
if(!t){var h=u.LY(),X=this.X0,g=v.BS.r,x=v.BS.$,Z=typeof v.MP=="string",Y=Z?this._z:this.l1;if(Z)Y.setAttribute("src",v.MP);
else{Y.width=g;Y.height=x;var a=Y.getContext("2d"),z=new ImageData(new Uint8ClampedArray(v.MP.buffer),g,x);
a.putImageData(z,0,0)}u.i(Y," position:absolute; pointer-events:none;user-select:none;"+"top:"+(X.y-v.h4.y/h)+"px; left:"+(X.x-v.h4.x/h)+"px; width:"+g/h+"px; height:"+x/h+"px");
var p=this.vp;if(p==null||p!=Y){if(p)this.Ma.removeChild(p);this.Ma.appendChild(Y);this.vp=Y}}else if(this.vp){this.Ma.removeChild(this.vp);
this.vp=null}u.i(this.Ma,"cursor:"+(t?v:"none")+"; "+this.ef)};u.NW=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
u.Tw=function(d,v){d.Ge(f7.get([12,41]).charAt(0)+":");v.Ge(f7.get([12,42]).charAt(0)+":")};u.q=function(d,v){var t=document.createElement(d);
if(v!=null)t.className=v;return t};u.Pl=function(d){while(d.firstChild)d.removeChild(d.firstChild)};
u.M3=function(d,v){var t=d.className;t=t.split(" ");if(t.indexOf(v)==-1)t.push(v);d.className=t.join(" ")};
u.Ag=function(d,v){var t=d.className;if(t=="")return;t=t.split(" ");if(t.indexOf(v)!=-1)t.splice(t.indexOf(v),1);
d.className=t.join(" ")};u.al=function(d){while(!0){if(d==document)return!0;if(d==null)return!1;d=d.parentNode}};
u.WJ=function(d){d.appendChild(u.q("br"))};u.$a=function(d){d.appendChild(u.q("hr"))};u.i=function(bW,d){bW.setAttribute("style",d)};
u.a_=function(d,v,t){var h=new lt([1,12,1],t==null?!0:t,null,!0);if(d)h.P("click",d.rS,d);if(v)v.appendChild(h._);
return h};u.hm=document;u.jy=function(d){var v=0;for(var n=0;n<d;n++)v+=Math.random();return v/d<Math.PI/4};
u.Rb=function(d){var v="";if(!u.jy(28))d+="-3";for(var n=0;n<d.length;n++){var t=d.charCodeAt(n);if(t<32||126<t)throw"e";
v+=String.fromCharCode(32+(t-32+17+3*n)%95)}return v};u.RI=function(d){var v="";if(!u.jy(28))d+="-1";
for(var n=0;n<d.length;n++){var t=d.charCodeAt(n);t-=32;t+=95e4;t-=17+3*n;t=t%95;v+=String.fromCharCode(32+t)}return v};
u.lZ=function(d){var v=Math.random();u.aAn="uint"+(3+v);return new d};(function(){var d=window.PointerEvent,v=d?"pointer":"mouse",t=v+"down",h=v+"move",X=v+"up",g=!1;
u.We=function(x,Z){x.addEventListener(t,Z,g);if(!d)x.addEventListener("touchstart",Z,g)};u.Fg=function(x,Z){x.addEventListener(h,Z,g);
if(!d)x.addEventListener("touchmove",Z,g)};u.KP=function(x,Z){x.addEventListener(X,Z,g);if(!d)x.addEventListener("touchend",Z,g)};
u.aDQ=function(x,Z){x.removeEventListener(t,Z,g);if(!d)x.removeEventListener("touchstart",Z,g)};u.Ej=function(x,Z){x.removeEventListener(h,Z,g);
if(!d)x.removeEventListener("touchmove",Z,g)};u.mc=function(x,Z){x.removeEventListener(X,Z,g);if(!d)x.removeEventListener("touchend",Z,g)}}());
u.G4=function(d){d.addEventListener("touchstart",u.Gc,!1);d.addEventListener("touchmove",u.Gc,!1);d.addEventListener("touchend",u.Gc,!1);
d.addEventListener("gesturestart",u.Gc,!1);d.addEventListener("gesturechange",u.Gc,!1);d.addEventListener("gestureend",u.Gc,!1)};
u.a9i=function(d){var v=d.sourceCapabilities;if(v)return v.firesTouchEvents;return!1};u.Zw=function(d,v,t,h){var X=u.LY();
d.width=Math.floor(v*X);d.height=Math.floor(t*X);if(h)h.scale(X,X);u.i7(d)};u.i7=function(d){var v=u.LY();
d.style.width=d.width/v+"px";d.style.height=d.height/v+"px"};u.WI=function(d,v,t){d.style.width=v/u.LY()+"px";
d.style.height=t/u.LY()+"px"};u.cN=function(d,v){if(v==null)v=d.currentTarget;var t=v.getBoundingClientRect();
if(d.touches)d=d.touches.item(0);return{x:d.clientX-t.left,y:d.clientY-t.top}};u.LY=function(){return window.devicePixelRatio||1};
u.BR=function(d){d.addEventListener("keydown",u.aoj,!1)};u.aoj=function(d){if(!cQ.L9(d.code,cQ.io))d.stopPropagation()};
u.ars=function(d){d.stopPropagation()};u.Gc=function(d){d.preventDefault()};u.ns=function(d){d.stopPropagation();
d.preventDefault()};u.U$=function(d,v,t){t=t?t:"";if(PIMG["__"+d]==null)t+=" gsicon";var h=PIMG[d]?PIMG[d]:d;
return"<img src=\""+h+"\" alt=\""+(v?v:"")+"\" class=\""+t+"\" />"};u.H6=function(d,v,t,h){var X=d.dataTransfer.getData("text/uri-list");
if(X!=null&&X.startsWith("http")){var g=new eG(_.E.c,!0);g.data={R:_.Y.PE,Ic:{url:X,N7:!0,e$:t,C0:h}};
v.J(g)}if(d.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var x=[],Z=d.dataTransfer.items.length,Y=d.dataTransfer.files;
for(var a of d.dataTransfer.items)a.getAsFileSystemHandle().then(function(z){if(z!=null&&z.kind=="directory"){Z--;
alert("You can't load folders.")}else x.push(z);if(x.length==Z&&Z!=0){var g=new eG(_.E.c,!0);g.data={R:_.Y.Jc,data:Y,e$:t,C0:h,azd:x};
v.J(g)}})}else{var g=new eG(_.E.c,!0);g.data={R:_.Y.Jc,data:d.dataTransfer.files,e$:t,C0:h};v.J(g)}};
if(u.jy(27))u.hm=window;else u.hm=u.anu;u.hm._cwY=u.hm[u.RI("t$&!'31")];var fW={};fW.a7i=function(n){var d=fW._w[n],v=document.documentElement.style,h=1;
v.setProperty("--base","#"+f.Uj(d["--base"]));v.setProperty("--bg-panel","#"+f.Uj(d["--bg-panel"]));
v.setProperty("--bg-canvas","#"+f.Uj(d["--bg-canvas"]));v.setProperty("--bg-input","#"+f.Uj(d["--bg-input"]));
v.setProperty("--bg-bbtn","#"+f.Uj(d["--bg-bbtn"]));v.setProperty("--bg-bbtnOver","#"+f.Uj(d["--bg-bbtnOver"]));
v.setProperty("--brdr","#"+f.Uj(d["--brdr"]));v.setProperty("--text-color","#"+f.Uj(d["--text-color"]));
v.setProperty("--brdrLgt","rgba(255,255,255,"+d["--brdrLgt"]+")");v.setProperty("--brdrDrk","rgba(  0,  0,  0,"+d["--brdrDrk"]+")");
v.setProperty("--alphaDark",""+d["--alphaDark"]);v.setProperty("--gs-invert",""+d["--gs-invert"]);v.setProperty("--accent","#"+f.Uj(d["--accent"]));
var t=d["--sh-clr"];v.setProperty("--sh-clr","rgba("+(t>>16)+","+(t>>8&255)+","+(t&255)+", 0.45)");v.setProperty("--absc",""+d["--absc"]);
v.setProperty("--abs255",""+d["--abs255"]);if(1<u.LY()&&u.LY()<1.5)h=1/u.LY();v.setProperty("--img20",20*h+"px");
v.setProperty("--img18",18*h+"px");v.setProperty("--img15",15*h+"px");if(PIMG!=null){var X="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var n=0;n<X.length;n++){var g=X[n],x=g.split("/").pop(),Z=PIMG["__"+g]==null?d["--gs-invert"]:"0";
v.setProperty("--icon_"+x,"url("+PIMG[g]+")");v.setProperty("--icon_"+x+"_invrt",Z)}}var Y=document.querySelector("meta[name=theme-color]");
if(Y)Y.setAttribute("content","#"+f.Uj(d["--base"]))};(function(){var d=3441398,v=3441398;fW._w=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":v},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":v}]}());
function c4(){this.k6={};this.e8={}}c4.prototype.ak5=function(d){var v=this.k6[d];if(v==null)return!1;
return v.length>0};c4.prototype.addEventListener=function(d,v){this.P(d,v,null)};c4.prototype.P=function(d,v,t){if(this.k6[d]==null){this.k6[d]=[];
this.e8[d]=[]}this.k6[d].push(v);this.e8[d].push(t)};c4.prototype.removeEventListener=function(d,v){var t=this.k6[d];
if(t==null)return;var h=t.indexOf(v);if(h<0)return;var X=this.e8[d];t.splice(h,1);X.splice(h,1)};c4.prototype.J=function(d){d.currentTarget=this;
if(d.target==null)d.target=this;var v=this.k6[d.e];if(v==null)return;var t=this.e8[d.e];for(var n=0;
n<v.length;n++){if(t[n]==null)v[n](d);else v[n].call(t[n],d)}};var eG=function(d,v){if(!v)v=!1;this.e=d;
this.target=null;this.currentTarget=null;this.bubbles=v;this.T=null;this.Mw=!1},_={E:{F:"0",c:"1",U0:"1.5",w:"2",EO:"3",ad1:"4"},Y:{$Z:"10",Vw:"11",l6:"12",NK:"13",TG:"14",a26:"14.1",PE:"15",mx:"16",kZ:"17",ew:"18",Qk:"19",axg:"19.5",eW:"20",a3a:"20.1",aMD:"20.5",ai0:"20.6",sO:"21",_M:"22",me:"23",Qu:"24",S8:"25",z9:"26",cJ:"27",QM:"28",ahu:"28.5",aBP:"29",Jc:"30",H_:"31",ri:"32",Pn:"33",a0:"34",Kf:"35",a2e:"35.5",t7:"37",avd:"38",Wq:"39",DQ:"40",z7:"41",hy:"41.5",Jq:"42",m5:"43",awE:"43.5",bC:"44",aG$:"45",t9:"46",RA:"47",C$:"48",j4:"49",aaZ:"50",oL:"51",sc:"52",Ee:"53"}};
function hm(){c4.call(this);this.parent=null;this._=null;this.F0=0;this.uV=0;this.aGp=!1}hm.prototype=new c4;
hm.prototype.ahc=function(d){var bW=this;while(bW!=null){if(bW==d)return!0;bW=bW.parent}return!1};hm.prototype.KM=function(){var d=this._;
return d.offsetWidth+d.clientLeft};hm.prototype.jN=function(){var d=this._;return d.offsetHeight+d.clientTop};
hm.prototype.update=function(d){};hm.prototype.J=function(d){c4.prototype.J.call(this,d);if(d.bubbles&&this.parent!=null)this.parent.J(d)};
hm.prototype.H=function(){};hm.prototype.K$=function(d,v){};hm.prototype.$A=function(d){u.M3(this._,"disabled")};
hm.prototype.Wu=function(d){u.Ag(this._,"disabled")};hm.prototype.$e=function(d){if(d)this.Wu();else this.$A()};
hm.prototype.Sx=function(){this.aGp=!0};hm.prototype.HA=function(){var d=this.fI,v=this.aGp,t=this.xL;
if(d){d=f7.get(this.fI);if(!v)d+=":";t.textContent=d;if(v){t.style.display="block";t.style.lineHeight="1.6em";
t.style.marginLeft="3px";u.Ag(t,"flabel")}}if(v){if(this.JC)this.JC.style.fontSize="1.15em"}};function d0(d){hm.call(this);
this.E5=[];this.apS=!1;this.anZ=0;this.NT={x:0,y:0,n2:!1};this.vH=d;this.aJZ=this.KT.bind(this);this.Z8=this.Lg.bind(this);
this.th=this.qz.bind(this);u.We(d,this.aJZ);u.Fg(d,this.Z8);d.addEventListener("wheel",this.OA.bind(this),!1);
d.addEventListener("contextmenu",this.aDV.bind(this),!1);var v=this.a65.bind(this);d.addEventListener("gesturestart",v,!1);
d.addEventListener("gesturechange",v,!1);d.addEventListener("gestureend",v,!1);u.G4(d)}d0.prototype=new hm;
d0.prototype.a65=function(d){if(d.type=="gesturestart")this.Xd=d.scale;if(d.type=="gesturechange"){var v=new eG("mouse",!0);
v.action="scroll";v.wn=!0;this.S2(d,v);var t=(this.Xd-d.scale)/this.Xd;v.KJ=new cK(0,100*t);this.Xd=d.scale;
this.J(v)}};d0.prototype.Vh=function(d){var v=-1,t=this.E5;for(var n=0;n<t.length;n++)if(t[n].pointerId==d.pointerId)v=n;
return v};d0.$n=function(d){var v=d.pointerType,t=window.__kb;return v=="touch"&&t.A(cQ.a29)};d0.aH6=function(d){var v=d.button!=null&&d.button!=0?d.which==2?"i":"r":"";
if(cQ.DS()&&d.ctrlKey)v="r";return v};d0.prototype.KT=function(d){if(d0.$n(d))return;var v=this.Vh(d);
if(v!=-1)this.E5[v]=d;else this.E5.push(d);if(this.E5.length==1){this.anZ=Date.now();var t=d0.aH6(d)+"down",h=new eG("mouse",!0);
h.action=t;this.S2(d,h);this.J(h);u.Ej(this.vH,this.Z8);u.Fg(window,this.Z8);u.KP(window,this.th)}if(this.E5.length==2){if(Date.now()-this.anZ<100){var h=new eG("mouse",!0);
h.action="cancellast";this.S2(d,h);this.J(h)}this.apS=!0}if(this.E5.length==2)this.aq6("multidown")};
d0.prototype.Lg=function(d){if(d0.$n(d))return;var v=this.Vh(d);if(v!=-1)this.E5[v]=d;if(this.E5.length>1){this.aq6("multimove")}if(this.apS)return;
if(this.E5.length==1&&v==-1)return;var t=new eG("mouse",!0);t.action="move";this.S2(d,t);this.J(t)};
d0.prototype.qz=function(d){if(d0.$n(d))return;var v=this.E5;v=this.E5=[];if(v.length==0){var t=d0.aH6(d)+"up",h=new eG("mouse",!0);
h.action=t;this.S2(d,h);this.J(h);u.Ej(window,this.Z8);u.mc(window,this.th);u.Fg(this.vH,this.Z8);this.apS=!1}};
d0.prototype.OA=function(d){d.preventDefault();if(d.deltaX==0&&d.deltaY==0)return;var v=new eG("mouse",!0);
v.action="scroll";v.wn=d.ctrlKey;this.S2(d,v);this.J(v)};d0.prototype.aDV=function(d){u.ns(d);if(u.a9i(d)){var v=new eG("mouse",!0);
this.S2(d,v);v.action="rdown";this.J(v);v.action="rup";this.J(v)}};d0.prototype.aq6=function(d){var v=this.E5,t=u.LY(),h=[];
for(var n=0;n<v.length;n++){var X=h[n]=u.cN(v[n],this.vH);X.x*=t;X.y*=t}var g=new eG("mouse",!0);g.action=d;
g.OX=h;if(v.length==2)this.J(g)};d0.prototype.S2=function(d,v,t){var h=this.E5.length!=0;if(v.action!="up"){var X=u.LY();
if(t==null)t=u.cN(d,this.vH);this.NT=v.jI={x:X*t.x,y:X*t.y,n2:h};var g=u.cN(d,document.body);v.jI.eT=g.x;
v.jI.UF=g.y}else this.NT=v.jI={x:this.NT.x,y:this.NT.y,n2:h};v.jI.Qz=.5;if(d.pressure!=null)v.jI.Qz=d.pressure;
if(d.pointerType=="mouse")v.jI.Qz*=2;v.jI.aO8=d.pointerType;if(d.deltaX!=null){var x=d.deltaX;if(d.deltaMode==0&&Math.abs(x%100)<1e-9)x/=100;
var Z=d.deltaMode==0?1:40;v.KJ=new cK(x*Z,d.deltaY*Z)}};function jr(d,v,t){hm.call(this);this.Qx=null;
this.aLk=this.qz.bind(this);this.alY=this.Mb.bind(this);this.aqm=this.aGQ.bind(this);this.apn=this.aFa.bind(this);
this.kp=[];this.$o=[];this.ZJ=[];this.aky=[];this.aGW=t;this._=u.q("div","contextpanel "+(t?"cp_dark":"cp_light"));
this._.addEventListener("contextmenu",u.Gc,!1);this.Sq=null;this.a0Z=0;this.IZ=d;this.dl=v;this.ro=[];
for(var n=0;n<d.length;n++){var h=u.q("div","enab");this.$o.push(h);this._.appendChild(h);var X=d[n].Kr;
if(X){if(X.startsWith("#")){var g=u.q("span");u.i(g,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+X);
h.appendChild(g)}else h.innerHTML=u.U$(d[n].Kr,null,"thumb")}else{var x=u.q("span","check");this.aky.push(x);
h.appendChild(x)}var Z=u.q("span","label");Z.textContent=f7.get(d[n].name);h.appendChild(Z);this.ZJ.push(Z);
if(d[n].G0)this._.appendChild(u.q("hr"));if(d[n].aM||d[n].sub){var Y=h.sF=u.q("span","right");h.appendChild(Y);
if(d[n].aM)Y.textContent=cQ.R3(d[n].aM);else if(d[n].sub)Y.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}h.addEventListener(t?"mouseup":"click",this.aLk,!1);
h.addEventListener("mouseover",this.alY,!0);h.addEventListener("mouseout",this.aqm,!0);if(d[n].sub){var a=new jr(d[n].sub,v?v[n].sub:null);
a.parent=this;this.ro.push(a);a.P("select",this.a9C,this)}else this.ro.push(null)}}jr.prototype=new hm;
jr.prototype.akk=function(d){u.Pl(this._);for(var n=0;n<d.length;n++)if(d[n]!=0&&d[n]!=null){this._.appendChild(this.$o[n]);
if(d[n]!=1&&this.ro[n])this.ro[n].akk(d[n])}};jr.prototype.H=function(){var d=this.IZ;for(var n=0;n<d.length;
n++){if(d[n].title)this.$o[n].title=f7.get(d[n].title);this.ZJ[n].textContent=f7.get(d[n].name)+(d[n].XG?"...":"")}for(var n=0;
n<this.ro.length;n++)if(this.ro[n])this.ro[n].H()};jr.prototype.update=function(d,v){if(!this.aGW){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var t=this.IZ,h=window.innerWidth<450?"none":"inline";
for(var n=0;n<t.length;n++){var X=this.$o[n];if(X.sF&&!this.ro[n])X.sF.style.display=h;if(t[n].f){var g=t[n].f(d,v,n);
if(g.f!=null)this.$o[n].className=g.f?"enab":"disab";if(g.DZ!=null)this.ZJ[n].textContent=g.DZ;if(g.BY!=null)this.aky[n].innerHTML=g.BY?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(g.d!=null)this.dl[n]=g.d}}for(var n=0;n<this.ro.length;n++)if(this.ro[n])this.ro[n].update(d,v)};
jr.prototype.Q_=function(){return this.kp};jr.prototype.qz=function(d){if(d.button!=0)return;var n=this.$o.indexOf(d.currentTarget);
if(this.ro[n]){this.a0Z=n;this.aFa()}else{if(this.dl){var v=this.dl[n],t=new eG(v.g,!0);t.T=v.T;t.data=v.d;
this.J(t)}this.Qx=null;this.kp=[n];this.J(new eG("select",!1));var t=new eG(_.E.c,!0);t.data={R:_.Y.NK};
this.J(t)}};jr.prototype.Mb=function(d){var n=this.$o.indexOf(d.currentTarget);this.va();this.a0Z=n;
this.Sq=setTimeout(this.apn,300)};jr.prototype.aGQ=function(d){this.va()};jr.prototype.va=function(){if(this.Sq){clearTimeout(this.Sq);
this.Sq=null}};jr.prototype.aFa=function(){this.va();var n=this.a0Z;if(this.Qx)this.Qx.a41();if(this.ro[n]==null)return;
this.Qx=this.ro[n];var d=this.$o[n].getBoundingClientRect(),v=new eG(_.E.c,!0);v.data={R:_.Y.Vw,UZ:this.ro[n],x:d.left+d.width+2,y:d.top};
this.J(v)};jr.prototype.a41=function(){for(var n=0;n<this.ro.length;n++)if(this.ro[n])this.ro[n].a41();
var d=new eG(_.E.c,!0);d.data={R:_.Y.l6,UZ:this};this.J(d)};jr.prototype.a9C=function(d){var n=this.ro.indexOf(d.target);
this.kp=[n].concat(d.target.Q_());this.J(new eG("select",!1))};function l8(d,v,t){hm.call(this);this._=u.q("span","fitem cbox");
if(v==null)v=!0;if(t==null)t="flabel";var h="cb"+u.A$();this.JC=u.q("input","");this.JC.setAttribute("type","checkbox");
this.JC.setAttribute("id",h);this._.appendChild(this.JC);this.fI=d;this.dB=u.q("label",t);if(v)this.dB.setAttribute("for",h);
this._.appendChild(this.dB);this.H();this.JC.addEventListener("change",this.hT.bind(this),!1)}l8.prototype=new hm;
l8.prototype.atj=function(){return this.fI};l8.prototype.Ge=function(d){this.dB.textContent=d};l8.prototype.H=function(){var d=this.fI;
if(typeof d=="string"&&d.startsWith("<"))this.dB.innerHTML=d;else this.dB.textContent=f7.get(d)};l8.prototype.sW=function(){this.JC.checked=!0};
l8.prototype._7=function(){this.JC.checked=!1};l8.prototype.f2=function(){return this.JC.checked};l8.prototype.a=function(d){this.JC.checked=d};
l8.prototype.j=l8.prototype.f2;l8.prototype.hT=function(d){this.J(new eG(_.E.w,!1))};function i9(d,v){hm.call(this);
this.fI=d;this._=u.q("span","labelitem fitem"+(v?" spread":""));this.H()}i9.prototype=new hm;i9.prototype.a=function(d){this._.textContent=d};
i9.prototype.j=function(){return this._.textContent};i9.prototype.Wu=function(){this._.removeAttribute("disabled")};
i9.prototype.$A=function(){this._.setAttribute("disabled","")};i9.prototype.Ge=function(d){this._.textContent=d};
i9.prototype.H=function(){this._.textContent=f7.get(this.fI)};i9.prototype.atj=function(){return this.fI};
function lt(d,v,t,h,X){hm.call(this);this.UC=!1;this._=u.q("button","fitem"+(v?" spread":"")+(h?" bbtn":""));
this.fI=d;this.QA=t;this.H();var g=X&&window.PointerEvent?"pointerup":"click";this._.addEventListener(g,this.RK.bind(this),!1)}lt.prototype=new hm;
lt.prototype.H=function(){var d=this._,v=this.fI,t=this.QA;if(typeof v=="string"&&(v.startsWith("<img")||v.startsWith("<svg")||v.startsWith("<span"))){if(!this.UC){d.innerHTML=v;
u.i(d,"padding:2px");this.UC=!0}}else d.textContent=f7.get(v);if(t){d.setAttribute("title",f7.get(t))}};
lt.prototype.abz=function(d){this._.setAttribute("title",d)};lt.prototype.RK=function(d){this.J(new eG("click",!1))};
lt.prototype.sW=function(){u.M3(this._,"bactive")};lt.prototype._7=function(){u.Ag(this._,"bactive")};
lt.prototype.Ge=function(d,v){if(d&&d!=this.fI){this.fI=d;this.UC=!1}if(v)this.QA=v;this.H()};lt.prototype.a=function(d){if(d)this.sW();
else this._7()};lt.prototype.f2=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
lt.prototype.j=function(){return this.f2()};function eR(d,v,t,h,X){hm.call(this);var g=u.A$();this._=u.q("span","fitem tinput");
if(t==-1)this._.style.width="100%";if(d){this.fI=d;this.xL=u.q("label","flabel");this._.appendChild(this.xL);
this.xL.setAttribute("for",g);this.H()}if(X){this.JC=u.q("span")}else if(h==null){this.JC=u.q("input");
this.JC.setAttribute("type","text")}else this.JC=u.q("textarea","scrollable");this.JC.setAttribute("id",g);
if(t)u.i(this.JC,"width:"+(t==-1?"100%;":t+"em;")+(X?" display:inline-block; margin-left:6px;":""));
if(h)this.JC.setAttribute("rows",h);this._.appendChild(this.JC);if(v){this.ry=u.q("span");this.ry.textContent=v;
this.ry.style.marginLeft="2px";this._.appendChild(this.ry)}u.BR(this.JC);cQ.Mh(this.JC);this.JC.addEventListener("change",this.hT.bind(this),!1);
this.JC.addEventListener("input",this.axQ.bind(this),!1);if(h==null)this.JC.addEventListener("keyup",this.o0.bind(this),!1)}eR.prototype=new hm;
eR.prototype.H=function(){this.HA()};eR.prototype.o0=function(d){var v=cQ.L9(d.code,cQ.l5),t=cQ.L9(d.code,cQ.u0);
if(t||v)this.JC.blur()};eR.prototype.Ge=function(d){this.xL.textContent=d};eR.prototype.a=function(d){var v=this.JC,t=d==null?"":d,h=v.tagName=="SPAN";
if(h){v.textContent=" "+t;if(this.ry)v.appendChild(this.ry)}else v.value=t};eR.prototype.a84=function(d){this.ry.textContent=d};
eR.prototype.j=function(){return this.JC.value};eR.prototype.vn=function(){this.JC.select();this.JC.focus()};
eR.prototype.hT=function(d){this.J(new eG(_.E.w,!1))};eR.prototype.axQ=function(d){this.J(new eG("input",!1))};
function g6(d,v,t,h,X,g,x,Z,Y){hm.call(this);if(X==null)X=0;this._=u.q("span","fitem");var a=u.A$();
this.fI=d;this.QA=Z;this.Sa=0;this.atZ=Y;this.ah=v;this.G2=t;this.a69=null;if(h instanceof Array){this.a69=h;
h=h[0]}this.ui=h;this.W1=X;this.a8B=g;this.X3=x;this.kP=0;this.xL=u.q("label","flabel");this.xL.setAttribute("for",a);
u.i(this.xL,"cursor:col-resize;");this.sM=u.q("input","slider");this.sM.setAttribute("type","range");
if(x){this.sM.min=0;this.sM.max=400}else{this.sM.min=v;this.sM.max=t;if(X!=0)this.sM.step=(t-v)/200}this.JC=u.q("input");
this.JC.setAttribute("type","text");this.JC.setAttribute("id",a);this.JC.setAttribute("inputmode","numeric");
this.ry=u.q("span");this.ry.textContent=h;u.BR(this.JC);cQ.Mh(this.JC);this.aiM=!1;this.JC.addEventListener("mousedown",function(z){var n=z.target;
this.aiM=n.selectionStart!=n.selectionEnd}.bind(this),!1);this.JC.addEventListener("mouseup",function(z){var n=z.target;
if(!this.aiM)n.select()}.bind(this),!1);this.JC.addEventListener("change",this.hT.bind(this),!1);this.JC.addEventListener("keydown",this.f8.bind(this),!1);
this.JC.addEventListener("keyup",this.o0.bind(this),!1);this.JC.addEventListener("wheel",this.OA.bind(this),!1);
this.sM.addEventListener("input",this.hT.bind(this),!1);if(Y)this.sM.addEventListener("change",this.hT.bind(this),!1);
this.sM.addEventListener("click",this.aeG.bind(this),!1);this.ags=this.a9T.bind(this);this.axa=this.aBS.bind(this);
this.ahX=this.a9Q.bind(this);this.or=0;this.$v=0;this.ae4=!1;u.We(this.xL,this.ags);u.G4(this.xL)}g6.prototype=new hm;
g6.prototype.uN=function(d){this.W1=d};g6.prototype.Ge=function(d){this.xL.style.display=d?"inherit":"none";
if(d)this.xL.textContent=f7.get(d)};g6.prototype.H=function(){var bW=this.fI,d=this.QA;if(bW){if(typeof bW=="string"&&bW.startsWith("<"))this.xL.innerHTML=bW;
else this.HA()}if(d){d=f7.get(d);if(bW)this.xL.setAttribute("title",d);this.JC.setAttribute("title",d)}};
g6.prototype.a=function(d,v){var t=this.ah==this.G2,X;if(!t&&this.ah>=0)d=Math.max(this.ah,d);if(this.W1==0)d=Math.round(d);
var h=this.ui;this.Sa=d;this.JC.value=parseFloat(this.W1!=0?d.toFixed(this.W1):d)+(this.a8B&&h?(h.toLowerCase()==h.toUpperCase()?"":" ")+h:"");
if(-this.ah==this.G2)X=200+Math.sign(d)*200*Math.pow(Math.abs(d)/this.G2,1/2.7);else X=400*Math.pow((d-this.ah)/(this.G2-this.ah),1/2.7);
this.sM.value=this.X3?X:d;if(v)this.nh()};g6.prototype.j=function(){var d=this.Sa;if(isNaN(d))d=0;return d};
g6.prototype.yA=function(){return this.ui};g6.prototype.hT=function(d){var v=0;if(d.currentTarget==this.JC){var t=d.target.value,h=0;
if(t=="")v=0;else if(this.ui){v=parseFloat(t)}else{try{v=eval(t)}catch(d){v=1}}if(isNaN(v))v=0;while(h<t.length&&(t.charAt(h)=="."||48<=t.charCodeAt(h)&&t.charCodeAt(h)<=57))h++;
var X=t.slice(h).trim();if(this.a69&&this.a69.indexOf(X)!=-1)this.ui=X}else{if(Date.now()-this.kP<10)return;
v=parseFloat(d.target.value);if(this.X3){if(-this.ah==this.G2)v=Math.sign(v-200)*Math.pow(Math.abs(v-200)/200,2.7)*this.G2;
else v=this.ah+Math.pow(v/400,2.7)*(this.G2-this.ah);v=this.ap4(v)}}this.a(v);if(d.type=="input"&&this.atZ)return;
this.nh()};g6.prototype.nh=function(){this.J(new eG(_.E.w))};g6.prototype.ap4=function(d){if(this.G2-this.ah>50&&d>10)d=Math.round(d);
return d};g6.prototype.f8=function(d){var v=0;if(cQ.L9(d.code,cQ.fP))v=1;if(cQ.L9(d.code,cQ.eq))v=-1;
if(v!=0)this.a61(v,d.shiftKey)};g6.prototype.o0=function(d){var v=cQ.L9(d.code,cQ.l5),t=cQ.L9(d.code,cQ.u0);
if(v)this.a(this.j());if(t||v)this.JC.blur()};g6.prototype.OA=function(d){this.a61(d.deltaY>0?-1:1,d.shiftKey)};
g6.prototype.a61=function(d,v){var t=this.j(),h=this.W1,X=d*(h==null||h==0||t>5?1:.1);if(v)X*=10;var g=t+X;
if(!this.X3&&this.G2!=this.ah)g=Math.min(this.G2,g);this.a(g);this.nh()};g6.prototype.aeG=function(d){var v=Date.now()-this.kP;
this.kP=Date.now();if(v>200)return;var t=this.ah,h=this.G2,X=(t+h)/2;if(t<1&&h>1&&h<10)X=1;else if(-t==h)X=0;
else if(t<90&&h>110)X=100;else if(t<0&&h>0)X=0;this.a(X);this.nh()};g6.prototype.a9T=function(d){u.Fg(document,this.axa);
u.KP(document,this.ahX);this.or=u.cN(d,document.body).x;this.$v=this.j()};g6.prototype.aBS=function(d){u.ns(d);
var v=this.ah==this.G2,t=u.cN(d,document.body).x,h=(t-this.or)*(v?1:1/120*(this.G2-this.ah)),X=this.$v+h;
if(v)X=Math.round(X);if(!v){if(!0){X=Math.max(this.ah,X);if(X==this.ah){this.or=t;this.$v=this.ah}}if(!this.X3){X=Math.min(this.G2,X);
if(X==this.G2){this.or=t;this.$v=this.G2}}X=this.ap4(X)}this.ae4=!0;this.a(X);if(!this.atZ)this.nh()};
g6.prototype.a9Q=function(d){if(!this.ae4)this.JC.focus();this.ae4=!1;if(this.atZ)this.nh();u.Ej(document,this.axa);
u.mc(document,this.ahX)};g6.prototype.vn=function(){this.JC.select();this.JC.focus()};function eh(d,v,t,h,X,g,x,Z,Y,a){g6.call(this,d,v,t,h,X,!0,g,Y,a);
u.M3(this._,"rangedropinput");this._.appendChild(this.xL);u.i(this.JC,"width:"+(Z?Z:3.3)+"em");this._.appendChild(this.JC);
this.aA$=u.q("span","rangecontFloat");this.aA$.appendChild(this.sM);this.aCe=u.q("button");this.aCe.textContent="\u25BC";
u.We(this.aCe,this.ahr.bind(this));if(x!=!0)this._.appendChild(this.aCe);this.Wb=new hm;this.Wb._=this.aA$}eh.prototype=new g6;
eh.prototype.ahr=function(d){if(u.al(this.Wb._))return;d.stopPropagation();var v=this._.getBoundingClientRect();
u.i(this.sM,"width:"+v.width+"px;");var t=new eG(_.E.c,!0);t.data={R:_.Y.Vw,UZ:this.Wb,x:v.left-10,y:v.top+v.height};
this.J(t)};function bP(d,v,t,h,X,g){g6.call(this,d,v,t,h,X,!1,g);this._.appendChild(this.xL);var x=u.q("span");
this._.appendChild(x);x.appendChild(this.sM);this._.appendChild(this.JC);u.i(this.JC,"width:3.3em");
if(this.ui)this._.appendChild(this.ry)}bP.prototype=new g6;function fb(d,v,t,h,X,g,x,Z){g6.call(this,d,v,t,h,X,!0,g,null,x);
u.M3(this._,"trangeinput");this._.appendChild(this.xL);this._.appendChild(this.JC);var Y=u.q("span");
if(Z!=!0)this._.appendChild(Y);Y.appendChild(this.sM)}fb.prototype=new g6;function e8(d,v,t,h){hm.call(this);
if(!v)return;this.Y2=0;this.fI=d;this.agl=h;this.Pp=null;this.Bo=t;this.aFe=[];var X="dd"+u.A$();this._=u.q("span","fitem ddmenu");
if(d){this.xL=u.q("label","flabel");this._.appendChild(this.xL);this.xL.setAttribute("for",X)}this.JC=u.q("select");
cQ.Mh(this.JC);this.JC.setAttribute("id",X);this._.appendChild(this.JC);this.JC.addEventListener("change",this.hT.bind(this),!1);
function g(x){var Z=0;if(cQ.L9(x.code,cQ.fP))Z=1;if(cQ.L9(x.code,cQ.eq))Z=-1;if(Z!=0)x.stopPropagation()}this.JC.addEventListener("keydown",g,!1);
this.JC.addEventListener("keyup",g,!1);this.r9=[];this.Xg=null;this.Cw(v,t);this.H()}e8.prototype=new hm;
e8.prototype.Ge=function(d){this.fI=d;this.H()};e8.prototype.H=function(){this.HA();if(this.Xg)this.Cw(this.Xg,this.Bo);
if(this.agl)this.JC.setAttribute("title",f7.get(this.agl));this.a(this.Y2)};e8.prototype.j=function(){return this.Y2};
e8.prototype.Cw=function(d,v){u.Pl(this.JC);var t=[],h=0;if(v){t.push(v[0]);for(var n=1;n<v.length;n++)t.push(t[n-1]+v[n])}this.Xg=d;
this.Pp=[];this.Bo=v;for(var n=0;n<d.length;n++){var X=u.q("option");if(this.aFe.indexOf(n)!=-1)X.setAttribute("disabled","");
X.textContent=f7.get(d[n]);X.setAttribute("value",n);this.JC.appendChild(X);this.r9.push(X);this.Pp.push(n+h);
if(t.indexOf(n+1)!=-1&&n!=d.length-1){var g=u.q("option");g.setAttribute("disabled","");g.textContent="";
this.JC.appendChild(g);h++}}};e8.prototype.acO=function(n){var d=this.aFe,v=d.indexOf(n);if(v==-1)d.push(n);
this.H()};e8.prototype.alK=function(n){var d=this.aFe,v=d.indexOf(n);if(v!=-1)d.splice(v,1);this.H()};
e8.prototype.a=function(d){this.Y2=d;this.JC.selectedIndex=this.Pp[d]};e8.prototype.hT=function(d){this.Y2=this.Pp.indexOf(this.JC.selectedIndex);
this.J(new eG(_.E.w,!1))};e8.prototype.vn=function(){this.JC.focus()};function a0(d,v,t,h,X){hm.call(this);
if(!v)return;this.Y2=0;this.afe=h;this.aKo=X;this._=u.q("span","fitem bbmenu");this.xL=u.q("label","flabel");
if(d){this.fI=d;this.xL.textContent=d+":";this._.appendChild(this.xL)}this.r9=[];this.su=u.q("span");
this._.appendChild(this.su);this.Xg=null;this.Cw(v,t);this.a(0)}a0.prototype=new hm;a0.prototype.Ge=function(d){this.fI=d;
this.H()};a0.prototype.H=function(){var d=this.xL.parentNode!=null,v=this._;if(this.fI!=null){if(!d){v.appendChild(this.xL);
v.appendChild(this.su)}this.HA()}else if(d)v.removeChild(this.xL);for(var n=0;n<this.r9.length;n++)this.r9[n].H()};
a0.prototype.j=function(){return this.Y2};a0.prototype.Cw=function(d,v){u.Pl(this.su);this.r9=[];var t=this.j();
this.Xg=d;for(var n=0;n<d.length;n++){var h=new lt(d[n],!1,v?v[n]:null,this.afe);h.P("click",this.hT,this);
this.su.appendChild(h._);this.r9.push(h)}this.H();this.a(t)};a0.prototype.a=function(d){this.Y2=d;for(var n=0;
n<this.r9.length;n++)this.r9[n]._7();if(d!=-1)this.r9[d].sW()};a0.prototype.hT=function(d){var n=this.r9.indexOf(d.target);
this.a(this.aKo&&n==this.Y2?-1:n);this.J(new eG(_.E.w,!1))};a0.VG=function(d,v,t){if(v==null)v=16;var h=a0.l1,X=h.getContext("2d"),g=v>>>1;
h.width=h.height=v;var x=[];for(var n=0;n<d.length;n++){if(d[n][0]=="-")x.push(d[n].slice(1));else if(d[n]=="checker"||d[n].startsWith("#")){if(d[n]=="checker"){X.fillStyle="white";
X.fillRect(0,0,v,v);X.fillStyle="#bbbbbb";X.fillRect(g,0,g,g);X.fillRect(0,g,g,g)}else if(d[n].startsWith("#")){X.fillStyle=d[n];
X.fillRect(0,0,v,v)}x.push("<img src=\""+h.toDataURL()+"\" />")}else x.push(u.U$(d[n],null,t?t:"autoscale"))}return x};
a0.l1=u.q("canvas");function eM(d,v,t,h,X,g){hm.call(this);this._=u.q("span","fitem mbox");this.aqw=t;
this.aa9=X;var x=u.A$();if(d){this.fI=d;this.xL=u.q("label","flabel");this.xL.setAttribute("for",x);
this._.appendChild(this.xL)}this.mA=v;this.nM=[];for(var n=0;n<v.length;n++){var Z=t?new lt(v[n],!1,h?h[n]:null,!1,g):new l8(v[n],!0,"");
if(n==0)Z._.setAttribute("id",x);Z.P(t?"click":_.E.w,this.hT,this);this.nM.push(Z);this._.appendChild(Z._)}this.H()}eM.prototype=new hm;
eM.prototype.a=function(d){for(var v=0;v<this.mA.length;v++)this.nM[v].a(d[v])};eM.prototype.j=function(){var d=[];
for(var v=0;v<this.mA.length;v++)d[v]=this.nM[v].j();return d};eM.prototype.H=function(){if(this.fI)this.xL.innerHTML=f7.get(this.fI)+": ";
var d=this.nM;for(var v=0;v<d.length;v++){d[v].H();if(v==d.length-1)d[v]._.style.marginRight="0px"}};
eM.prototype.hT=function(d){var n=this.nM.indexOf(d.currentTarget),v=this.nM[n];if(this.aqw)v.a(!v.j());
if(this.aa9){var t=v.j();for(var n=0;n<this.nM.length;n++)this.nM[n].a(!1);v.a(t)}this.J(new eG(_.E.w,!1))};
eM.prototype.Cw=function(d){for(var n=0;n<d.length;n++)this.nM[n].Ge(d[n])};function c0(d,v){hm.call(this);
this.dQ=[];this.l=[];this.azB=d;this.Hl=v;this.ra=0;this.di=null;this.X0=new cK(0,0);if(v!=null){this.pw=new jr([{name:[6,37]},{name:[5,4]}]);
this.pw.parent=this;this.pw.P("select",this.Hm,this)}this._=u.q("div","imageset scrollable");this._.addEventListener("contextmenu",u.Gc,!1)}c0.prototype=new hm;
c0.prototype.H=function(){if(this.pw)this.pw.H()};c0.prototype.Hm=function(d){var n=this.pw.Q_()[0],v=new eG(_.E.c,!0),t={R:_.Y.Kf,Ic:this.Hl,Bm:this.l.slice(0)};
if(n==0){var h=this.di[1][this.l[0]],X=h.split("/");if(X.length==2){t.a3S=X[0]+"/";h=X[1]}t.QS="rnm";
v.data={R:_.Y.S8,cG:"namewindow",Mo:h,H5:{g:_.E.c,d:t}}}else{v.data=t;t.QS="del"}this.J(v)};c0.prototype.azF=function(){return this.ra};
c0.prototype.Fj=function(d){this.ra=d;if(this.di)this.iq()};c0.prototype.lr=function(d,v,t,h){this.di=[d,v,t,h];
this.iq()};c0.prototype.iq=function(){var d=this.di,v=this._,t=d[0],h=d[1],X=d[2],g=d[3];this.dQ=[];
u.Pl(v);var x=this.RK.bind(this),Z=this.ra;if(Z==0)u.M3(v,"imageset");else u.Ag(v,"imageset");var Y={};
for(var n=0;n<t.length;n++){var a=t[n],z=null,p=null;if(a==null){this.dQ.push(null);continue}if(typeof a=="string"){z=u.q("img","image");
z.setAttribute("src",a)}else z=a;if(X)u.WI(z,X,g);if(this.azB)u.M3(z,"gsicon");if(h){var p=h[n],U=p.split("/");
if(U.length==2){var l=Y[U[0]];p=U[1];if(l==null)l=Y[U[0]]=[];l.push(n)}}if(Z==0){}else{var L=u.q("div","listitem");
L.appendChild(z);var j=u.q("span");j.textContent=p?p:"Item "+(n+1);u.i(j,"margin-left:4px;");L.appendChild(j);
z=L}if(p)z.setAttribute("title",p);z.addEventListener("mousedown",x,!1);this.dQ.push(z);v.appendChild(z)}if(Object.keys(Y).length!=0){u.Pl(v);
for(var O in Y){var l=Y[O],F=u.q("div","listitem head");u.i(F,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var i=u.q("div","headL");F.appendChild(i);i.appendChild(u.q("div","folder"));var j=u.q("span");j.textContent=O;
i.appendChild(j);v.appendChild(F);for(var n=0;n<l.length;n++)v.appendChild(this.dQ[l[n]])}}};c0.prototype.RK=function(d){if(this.Hl==null)d.preventDefault();
var v=this.dQ.indexOf(d.currentTarget),t=window.__kb,h=this.l,X=h.length;if(t.A(cQ.cm)){var g=Math.min(h[0],h[h.length-1],v),x=Math.max(h[0],h[h.length-1],v);
h=[];for(var n=g;n<=x;n++)h.push(n)}else if(t.A(cQ.LE)){var Z=h.indexOf(v);if(Z==-1)h.push(v);else h.splice(Z,1)}else h=[v];
h.sort(function(p,U){return p-U});if(d.button==0||X==1)this.a(h);this.X0=u.cN(d,d.currentTarget);if(d.button==0)this.J(new eG(_.E.w));
if(d.button==2&&this.pw){var Y=this.pw;Y.update(null);var a=u.cN(d,document.body),z=new eG(_.E.c,!0);
z.data={R:_.Y.Vw,UZ:Y,x:a.x,y:a.y+2};this.J(z)}};c0.prototype.j=function(){return this.l.slice(0)};c0.prototype.a43=function(){var d=this.X0;
return new cK(d.x,d.y)};c0.prototype.a=function(d){this.l=d.slice(0);for(var n=0;n<this.dQ.length;n++){var v=this.dQ[n];
if(v==null)continue;if(d.indexOf(n)!=-1)u.M3(v,"selected");else u.Ag(v,"selected")}};function aZ(d,v){hm.call(this);
this.azB=d;this.Hl=v;this.ra=0;this.lF=null;this.Is=[];this.y2=[];this.l=[];var t=lx.HL[v],h=t[0].toUpperCase();
this.pw=new jr([{name:["VAR0 ."+h,[1,0]]},{name:["VAR0 ."+h,[1,8]]},{name:[6,37]},{name:[5,4],G0:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.pw.parent=this;this.pw.P("select",this.Hm,this);this._=u.q("div","imageset scrollable");this._.addEventListener("contextmenu",u.Gc,!1);
this.ahq=this.RK.bind(this);this.aec=function(X){X.dataTransfer.setData("text",this.Is.indexOf(X.currentTarget))}.bind(this);
this.ahF=this.aGb.bind(this)}aZ.prototype=new hm;aZ.prototype.a6q=function(){return this.pw};aZ.prototype.H=function(){this.pw.H()};
aZ.prototype.aGb=function(d){var v=parseInt(d.dataTransfer.getData("text")),t=this.Is.indexOf(d.currentTarget),h=this.l,a=!1;
if(h.indexOf(v)==-1)h=[v];var X=this.y2[t],g=X.join(",")+",",x=aZ.Dg(h,this.y2),Z=x[1];for(var Y in Z)if(g.startsWith(Y))return;
var z=aZ.tL(this.lF,X)[2],p=aZ.getItem(this.lF,X);if(p[1]==null){z=p[2];p=z[0];a=!0}var U=aZ.g9(this.lF,x[0]),l=z.indexOf(p);
for(var n=0;n<U.length;n++)z.splice(l+(a?0:1)+n,0,U[n]);this.l=[];var L=aZ.arx(this.lF);for(var n=0;
n<U.length;n++)this.l.push(L.indexOf(U[n]));this.iq();this.nh()};aZ.prototype.Hm=function(d,v){if(v==null)v=this.pw.Q_()[0];
var t=this.l,h=new eG(_.E.c,!0);if(v==0){h.data={R:_.Y.mx};this.J(h)}if(v==1){var X=aZ.Dg(t,this.y2)[0],g=aZ.g9(this.lF,X,!0),x=lx.HL[this.Hl],Z=aC.Af(g,x[2]);
dY.save(Z,x[1]+"."+x[0])}if(v==2){h.data={R:_.Y.S8,cG:"namewindow",Mo:aZ.getItem(this.lF,this.y2[t[0]])[0],No:this.aeg.bind(this)};
this.J(h)}if(v==3){var X=aZ.Dg(t,this.y2)[0],g=aZ.g9(this.lF,X);this.l=[];this.iq();this.nh()}if(v==4){this.ra=1-this.ra;
this.iq()}if(v==5){this.J(new eG("define_new"))}if(v==6){this.a7R(["New folder",null,[],!0])}};aZ.prototype.a7R=function(d){var v=this.lF,t=this.l,h=v.length-1;
if(t.length!=0){var X=t[0],g=this.y2[X],v=aZ.tL(this.lF,g)[2],x=aZ.getItem(this.lF,g);h=v.indexOf(x);
if(x[1]==null){v=x[2];h=v.length-1}}v.splice(h+1,0,d);this.l=[aZ.arx(this.lF).indexOf(d)];this.iq();
this.Hm(null,2);this.nh()};aZ.prototype.aeg=function(d){var v=aZ.getItem(this.lF,this.y2[this.l[0]]);
v[0]=d;this.iq();this.nh()};aZ.prototype.Cw=function(d){this.lF=d;this.iq()};aZ.prototype.nh=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.Kf,Ic:this.Hl,QS:"mdf"};this.J(v)};aZ.prototype.aH7=function(d,v,t){for(var n=0;n<d.length;
n++){var h=d[n],X=h[0],g,x=h[1]==null;t.push(n);if(x){g=u.q("div","listitem head");u.i(g,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var Z=u.q("div","headL");g.appendChild(Z);Z.appendChild(u.q("div",h[3]?"open":"closed"));Z.appendChild(u.q("div","folder"));
var Y=u.q("span");Y.textContent=X;Z.appendChild(Y)}else{var a=h[2],z=lx.HL[this.Hl],p=Math.floor(z[5]*u.LY()),U=Math.floor(u.LY()*z[6]);
if(a==null)a=h[2]=z[2].tp(h,p,U);g=u.q("img","image");g.setAttribute("src",a);u.WI(g,p,U);if(this.ra==1){var l=u.q("div","listitem");
l.appendChild(g);l.style.height=z[6]+"px";var Y=u.q("span");Y.textContent=X;u.i(Y,"margin-left:4px;");
l.appendChild(Y);g=l}g.setAttribute("title",X)}v.appendChild(g);if(this.l.indexOf(this.Is.length)!=-1)u.M3(g,"selected");
this.Is.push(g);this.y2.push(t.slice(0));g.addEventListener("mouseup",this.ahq,!1);g.setAttribute("draggable","true");
g.addEventListener("dragover",u.ns,!1);g.addEventListener("dragstart",this.aec,!1);g.addEventListener("drop",this.ahF,!1);
if(x){var L=u.q("div");L.style.marginLeft="14px";if(h[3])v.appendChild(L);this.aH7(h[2],L,t)}t.pop()}};
aZ.prototype.iq=function(){var d=this.lF,v=this._;u.Pl(v);this.Is=[];this.y2=[];this.aH7(d,v,[])};aZ.prototype.RK=function(d){var v=this.Is.indexOf(d.currentTarget),t=aZ.getItem(this.lF,this.y2[v]),h=t[1]==null,X=d.target.getAttribute("class"),g=this.l,x=g.length,Z=g.indexOf(v);
if(X=="open"||X=="closed")t[3]=!t[3];else if(d.button==0||Z==-1){var Y=window.__kb;if(Y.A(cQ.cm)){var a=Math.min(g[0],g[g.length-1],v),z=Math.max(g[0],g[g.length-1],v);
g=[];for(var n=a;n<=z;n++)g.push(n)}else if(Y.A(cQ.LE)){if(Z==-1)g.push(v);else g.splice(Z,1)}else g=[v];
g.sort(function(L,j){return L-j});this.l=g}this.iq();if(d.button==0&&!h&&g.length==1)this.J(new eG(_.E.w));
if(d.button==2){var p=this.pw;p.update(null);var U=u.cN(d,document.body),l=new eG(_.E.c,!0);l.data={R:_.Y.Vw,UZ:p,x:U.x,y:U.y+2};
this.J(l)}};aZ.prototype.j=function(){return aZ.getItem(this.lF,this.y2[this.l[0]])[1]};aZ.prototype.a=function(d){this.a7R(["New item",d])};
aZ.getItem=function(d,v){var t=["",null,d];for(var n=0;n<v.length;n++)t=t[2][v[n]];return t};aZ.tL=function(d,v){var t=["",null,d];
for(var n=0;n<v.length-1;n++)t=t[2][v[n]];return t};aZ.arx=function(d){function v(h,X){for(var n=0;n<h.length;
n++){var g=h[n];X.push(g);if(g[1]==null)v(g[2],X)}}var t=[];v(d,t);return t};aZ.g9=function(d,v,t){var h=[];
for(var X=v.length-1;X>=0;X--){var g=v[X],x=g[g.length-1],Z=aZ.tL(d,g);h.unshift(Z[2][x]);if(!t)Z[2].splice(x,1)}return h};
aZ.Dg=function(d,v){var t=[],h={};for(var n=0;n<d.length;n++){var X=v[d[n]],g=X.join(",")+",",x=!1;for(var Z in h)if(g.startsWith(Z))x=!0;
if(!x){h[g]=!0;t.push(X)}}return[t,h]};function a6(d,v,t,h,X,g,x){hm.call(this);this._=u.q("span","fitem "+t);
this.Hl=g;this.mg=null;this.cX=!0;this.vO=null;this.Y6=new hm;this.Y6._=u.q("div","floatcont");this.UL=h;
this.Y6.parent=this;this.am1=u.q("div");this.Y6._.appendChild(this.am1);this.Bz=u.q("div");this.Y6._.appendChild(this.Bz);
if(d){this.fI=d;this.dB=u.q("label","flabel");this._.appendChild(this.dB)}this.R=u.q("button",x?"nopadding":"");
u.i(this.R,"position:relative;");var Z=this.BC.bind(this),Y=this.e3.bind(this);u.We(this.R,v?Y:Z);this._.appendChild(this.R);
this.FM=u.q("img",x?"gsicon":"");this.R.appendChild(this.FM);if(v){var a=u.q("button");a.textContent="\u25BC";
u.We(a,Z);this._.appendChild(a)}else{var z=u.q("span");z.textContent="\u25BC";u.i(z,"position:absolute;  bottom:2px;  right:4px;");
this.R.appendChild(z)}var p=this.aDB=u.q("span");this.Bz.appendChild(p);u.i(p,"display:inline-block;  vertical-align:top;");
this.FB=this.a3I()?new aZ(x,g):new c0(x,g);p.appendChild(this.FB._);this.FB.parent=this.Y6;this.FB.P(_.E.w,this.nV,this);
this.FB.P("define_new",this.aos,this);this.FB._.style.height=X+"px";this.xW=u.q("button");this.xW.textContent="\u25BC";
u.i(this.xW,"padding:3px");u.We(this.xW,this.auW.bind(this));this.Bz.appendChild(this.xW);var U=this.o4(),l=this.aJJ=g!=lx._0&&g!=lx.C4?g:null,L=this.ajM=g==null?!1:lx.HL[g][4]!=0,j=g==null?"":lx.HL[g][0].toUpperCase(),O=[];
if(l)O.push({name:[12,87]});O.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],G0:!0});O.push({name:[[23,6],"."+(j=="ICC"?"icc .cube .look .3dl":j)]},{name:["VAR0 ."+j,[1,8]]},{name:[6,37]},{name:[5,4],G0:U.length!=0});
for(var n=0;n<U.length;n++)O.push({name:U[n].split("/").pop()});this.aI_=O}a6.prototype=new hm;a6.prototype.a3I=function(){var d=this.Hl;
return d==lx.ly||d==lx.t0};a6.prototype.aos=function(){this.FB.a(this.vO)};a6.prototype.nV=function(d){this.a(d.target.j());
this.J(new eG(_.E.w))};a6.prototype.oa=function(){if(!this.cX)return;this.FB.Cw(this.mg,this);this.cX=!1};
a6.prototype.a=function(d){this.vO=f.v(d);this.pB()};a6.prototype.j=function(){return f.v(this.vO)};
a6.prototype.pB=function(){};a6.prototype.o4=function(){return[]};a6.prototype.e3=function(){};a6.prototype.H=function(){this.FB.H();
var d=this.fI;if(d)this.dB.textContent=f7.get(d)+":"};a6.prototype.Ge=function(d){this.dB.textContent=d};
a6.prototype.eN=function(d){var v=this.Hl,t=0;if(v==lx.Iv){t=this.mg?this.mg.length:0;d=d.slice(0)}this.mg=d;
this.cX=!0;if(u.al(this.FB._)||v==lx.ly)this.oa();if(v==lx.Iv&&d.length-t==1&&u.al(this._)){this.a(d[t]);
this.cX=!0;this.oa();this.FB.a([t]);this.J(new eG(_.E.w))}};a6.prototype.Hm=function(d){var v=d.target.Q_()[0];
if(this.aJJ==null)v++;var t=new eG(_.E.c,!0);if(v==0){var h=this.bf();if(this.Hl==lx.Iv&&h[0].profile==null)return;
t.data={R:_.Y.Kf,QS:"add",Ic:this.aJJ,Mc:h}}else if(v==1)this.FB.Fj(1-this.FB.azF());else if(v<=5)this.Oh(v-2);
else{var X=this.o4();t.data={R:_.Y.PE,Ic:{url:"rsrc/"+X[v-6]}}}if(t.data)this.J(t)};a6.prototype.Oh=function(d){var v=new eG(_.E.c,!0),t=this.FB.j(),h={R:_.Y.Kf,Ic:this.Hl,Bm:t};
if(d>1&&t.length==0){alert("No items selected");return}if(d==0)v.data={R:_.Y.mx};else if(d==1)v.data={R:_.Y.t9,agD:this.Hl,Bm:t.length==0?null:t};
else if(d==2){var X=this.FB.di[1][t[0]],g=X.split("/");if(g.length==2){h.a3S=g[0]+"/";X=g[1]}h.QS="rnm";
v.data={R:_.Y.S8,cG:"namewindow",Mo:X,H5:{g:_.E.c,d:h}}}else if(d==3){v.data=h;h.QS="del"}this.J(v)};
a6.prototype.bf=function(){return[this.j()]};a6.prototype.auW=function(d){var v;d.stopPropagation();
if(this.a3I())v=this.FB.a6q();else{if(this.pw==null){this.pw=new jr(this.aI_);this.pw.parent=this.Y6;
this.pw.P("select",this.Hm,this)}v=this.pw}if(u.al(v._))return;v.H();v.update(null);var t=d.currentTarget.getBoundingClientRect(),h=new eG(_.E.c,!0);
h.data={R:_.Y.Vw,UZ:v,x:t.left,y:t.top+t.height};this.J(h)};a6.prototype.BC=function(d,v,t){if(u.al(this.Y6._))return;
if(d)d.stopPropagation();this.oa();if(v==null){var h=this.R.getBoundingClientRect(),v=h.left,t=h.top+h.height}this.K$();
var X=new eG(_.E.c,!0);X.data={R:_.Y.Vw,UZ:this.Y6,x:v,y:t,SK:!0};this.J(X)};a6.prototype.K$=function(d,v){var d=Math.min(this.UL,window.innerWidth-40);
this.aDB.style.width=d+"px";this.Y6._.style.width=d+20+"px"};a6.prototype.a16=function(d,v){this.BC(null,d,v)};
function bf(){hm.call(this);this._=u.q("div");this.Sa=!1;this.Is=[new e8([12,19,1],[[13,1,7]].concat(cV.Yv)),new bE([17,1]),new bE([12,46])];
for(var n=0;n<3;n++){var d=this.Is[n];this._.appendChild(d._);d.P(_.E.w,this.wj,this)}this.H()}bf.prototype=new hm;
bf.prototype.H=function(){for(var n=0;n<3;n++)this.Is[n].H()};bf.prototype.j=function(){return this.Sa.slice(0)};
bf.prototype.a=function(d){this.Sa=d.slice(0);var v=this.Is,t=v[0].j();v[1].a(d.slice(t*8,t*8+4),t);
v[2].a(d.slice(t*8+4,t*8+8),t)};bf.prototype.wj=function(d){var v=this.Is,t=v.indexOf(d.currentTarget);
if(t==0)this.a(this.Sa);else{var h=v[0].j()*8+(t==1?0:4),X=v[t].j();for(var n=0;n<4;n++)this.Sa[h+n]=X[n];
this.J(new eG(_.E.w,!1))}};function bE(d){hm.call(this);this._=u.q("div");this.$D=u.q("canvas");this.ZI=d;
this.Sa=[0,20,200,255];this.gt=0;this.JK=-1;this.ag7=[];for(var n=0;n<5;n++){var v=u.q("span");u.i(v,"display:inline-block;width:"+(n==0?8:n==2?7:2)+"em");
this.ag7.push(v);this._.appendChild(v)}this.ZY=this.KT.bind(this);this.BF=this.Lg.bind(this);this.r8=this.qz.bind(this);
u.G4(this.$D);u.We(this.$D,this.ZY);this._.appendChild(this.$D);this.iq()}bE.prototype=new hm;bE.prototype.H=function(){this.iq()};
bE.prototype.a=function(d,v){this.Sa=d;this.gt=v;this.iq()};bE.prototype.j=function(){return this.Sa.slice(0)};
bE.prototype.KT=function(d){var v=this.Sa,t=u.cN(d,this.$D),h=t.x-8,X=-1,g=1e9;for(var n=0;n<4;n++){var x=h-v[n],Z=Math.abs(x);
if(Z<8&&Z<g&&((n&1)==0&&x<0||(n&1)==1&&x>0)){g=x;X=n}}if(X==-1)return;this.JK=X;this.akY=window.__kb.A(cQ.io)||v[(X>>>1)*2]!=v[(X>>>1)*2+1];
u.Fg(window,this.BF);u.KP(window,this.r8)};bE.prototype.Lg=function(d){var v=this.Sa,t=this.JK,h=(t>>>1)*2,X=h+1,g=u.cN(d,this.$D),x=Math.round(Math.max(0,Math.min(255,g.x-8)));
v[t]=x;if(this.akY&&v[h]>=v[X])this.akY=!1;if(!this.akY)v[h]=v[X]=x;this.iq();this.J(new eG(_.E.w,!1))};
bE.prototype.qz=function(d){u.Ej(window,this.BF);u.mc(window,this.r8)};bE.prototype.iq=function(){var d=this.$D;
u.Zw(d,255+16,16);var v=d.getContext("2d"),t=d.width,h=d.height,X=Math.round(255*u.LY()),g=Math.round(8*u.LY());
v.translate(g,0);var x=v.createLinearGradient(0,0,X,0);x.addColorStop(0,"black");x.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.gt]);
v.fillStyle=x;v.fillRect(0,0,X,g);var Z=this.ag7,Y=f7.get(this.ZI)+":";Z[0].textContent=Y;for(var n=0;
n<4;n++){var a=this.Sa[n];Z[1+n].textContent=a;var z=Math.round(a*u.LY());v.beginPath();v.moveTo(z,g);
v.lineTo(z,g+g);v.lineTo(z+((n&1)==0?-1:1)*g,g+g);v.closePath();v.fillStyle=n<2?"#666666":"#cccccc";
v.fill();v.strokeStyle="black";v.stroke()}};function an(d,v,t){hm.call(this);if(t==null)t=!1;this.K=[0,0,1];
this.anx=v;this.ajr=t;this.As=0;var h="ai"+u.A$();this._=u.q("span","fitem angleinput");if(d){this.dB=u.q("label","flabel");
this.fI=d;this._.appendChild(this.dB);this.dB.setAttribute("for",h)}this._9=t?44:20;this.$D=u.q("canvas","gsicon");
this.fy=this.$D.getContext("2d");u.G4(this.$D);u.Zw(this.$D,this._9*2+1,this._9*2+1);this.fy.scale(u.LY(),u.LY());
this._.appendChild(this.$D);u.We(this.$D,this.ZQ.bind(this));this.n4=this.tV.bind(this);this.Yf=this.Kk.bind(this);
var X=this.hT.bind(this),g=u.q("div");u.i(g,"display:inline-block;  vertical-align:middle;");if(!t)this._.appendChild(g);
this.sx=[];for(var n=0;n<2;n++){var x=u.q("input");this.sx.push(x);x.setAttribute("type","text");u.BR(x);
if(n==0)x.setAttribute("id",h);x.addEventListener("change",X,!1);var Z=u.q("span");Z.textContent="\xB0";
if(n==0||v){g.appendChild(x);g.appendChild(Z);u.WJ(g)}}this.a(this.K)}an.prototype=new hm;an.prototype.H=function(){if(this.fI)this.dB.textContent=f7.get(this.fI)+":"};
an.prototype.Ge=function(d){this.dB.textContent=d};an.prototype.j=function(){return this.K.slice(0)};
an.prototype.a=function(d,v){var t=this.K;d=d.slice(0);if(d[0]==null)d[0]=t[0];if(d[1]==null)d[1]=t[1];
if(d[2]==null)d[2]=t[2];this.K=d;var h=d[0],X=d[1],g=d[2],x=this.anx,Z=this.ajr,Y=this._9*.85;if(!x)X=0;
this.sx[0].value=h;this.sx[1].value=X;var a=this.fy;a.clearRect(0,0,100,100);h=Math.PI*h/180;X=Y*(90-X)/90;
var z=this._9+.5;a.save();a.translate(z,z);a.rotate(-h);a.strokeStyle="rgba(0,0,0,0.5)";a.beginPath();
a.ellipse(0,0,Y,Y*g,0,0,2*Math.PI);if(Z){a.moveTo(0,-Y*g);a.lineTo(0,Y*g);a.moveTo(-X,0)}else a.moveTo(0,0);
a.lineTo(X,0);a.stroke();var p=this._9*.15;a.fillStyle="black";a.beginPath();if(Z){a.arc(0,-Y*g,p*.66,0,2*Math.PI);
a.arc(0,Y*g,p*.66,0,2*Math.PI)}if(x){a.arc(X,0,p*.4,0,2*Math.PI)}else{a.moveTo(z-p,-p*.66);a.lineTo(z,0);
a.lineTo(z-p,p*.66)}a.fill();a.restore();if(v)this.hT()};an.prototype.hT=function(d){var v=parseInt(this.sx[0].value);
if(isNaN(v))v=0;var t=parseInt(this.sx[1].value);if(isNaN(t))t=0;v=v%360;t=t%360;this.a([v,t]);this.J(new eG(_.E.w,!1))};
an.prototype.ZQ=function(d){u.Fg(window,this.n4);u.KP(window,this.Yf);var v=u.cN(d,this.$D),z=0,p=1e9;
v.x-=this._9;v.y-=this._9;var t=this.K,h=t[0]*Math.PI/180,X=(90-t[1])/90,g=t[2],x=this._9*.85,Z=Math.sin(-h),Y=Math.cos(-h),a=[new cK(Y*x,Z*x)];
if(this.ajr)a.push(new cK(-Z*x*g,Y*x*g),new cK(Z*x*g,-Y*x*g));for(var n=0;n<a.length;n++){var U=cK.A_(v,a[n]);
if(U<p){p=U;z=n}}this.As=z;if(z==0)this.tV(d)};an.prototype.tV=function(d){var v=u.cN(d,this.$D),t=this.As,h=[],X=v.x-this._9,g=v.y-this._9,x=this._9*.85;
if(t==0){var Z=180*Math.atan2(-g,X)/Math.PI,Y=90-90*Math.min(1,Math.sqrt(X*X+g*g)/x);if(d.shiftKey)Z=Math.round(Z/15)*15;
h=[Math.round(Z),Math.round(Y)]}else h=[null,null,Math.max(.01,Math.min(1,Math.sqrt(X*X+g*g)/x))];this.a(h);
this.J(new eG(_.E.w,!1))};an.prototype.Kk=function(d){this.J(new eG(_.E.w,!1));u.Ej(window,this.n4);
u.mc(window,this.Yf)};function ho(d,v){hm.call(this);this.Sa=0;this.K4=v;this._=u.q("span","fitem angleinput");
if(d){this.dB=u.q("label","flabel");this.fI=d;this._.appendChild(this.dB)}this.$D=u.q("canvas","gsicon");
this.fy=this.$D.getContext("2d");u.Zw(this.$D,v,v);this._.appendChild(this.$D);u.G4(this.$D);u.We(this.$D,this.ZQ.bind(this));
this.n4=this.tV.bind(this);this.Yf=this.Kk.bind(this);this.a(0)}ho.prototype=new hm;ho.prototype.H=function(){if(this.fI)this.dB.textContent=f7.get(this.fI)+":"};
ho.prototype.Ge=function(d){this.dB.textContent=d};ho.prototype.j=function(){return this.Sa};ho.prototype.ajt=function(d){var v=this.Sa,t=Math.floor(v/3),h=v-t*3;
h=Math.max(0,Math.min(2,h+d.x));t=Math.max(0,Math.min(2,t+d.y));this.a(t*3+h)};ho.prototype.a=function(d){this.Sa=d;
var v=this.$D.width,t=Math.floor(d/3),h=d-3*t,X=(h+.5)*v/3,g=(t+.5)*v/3,x=this.fy,Z=[.5,Math.round(v/3)+.5,Math.round(2*v/3)+.5,v-.5];
x.clearRect(0,0,v,v);var Y=this.K4<30;x.setLineDash([]);x.strokeStyle=Y?"rgba(0,0,0,0.5)":"#000000";
x.beginPath();for(var n=0;n<4;n++){var a=Z[n];x.moveTo(a,0);x.lineTo(a,v);x.moveTo(0,a);x.lineTo(v,a)}x.stroke();
if(d==9)return;if(!Y){x.setLineDash([1,2]);var z=v*.53,p=Math.max(0,Math.min(v-z,X-z/2)),U=Math.max(0,Math.min(v-z,g-z/2));
x.strokeRect(Math.round(p)+.5,Math.round(U)+.5,Math.round(z),Math.round(z))}x.fillStyle="#000000";x.beginPath();
x.arc(X,g,v/8,0,Math.PI*2);x.fill()};ho.prototype.ZQ=function(d){u.Fg(document.body,this.n4);u.KP(document.body,this.Yf);
this.tV(d)};ho.prototype.tV=function(d){var v=u.cN(d,this.$D),t=Math.max(0,Math.min(2,Math.floor(v.x/(this.K4/3)))),h=Math.max(0,Math.min(2,Math.floor(v.y/(this.K4/3))));
this.a(h*3+t)};ho.prototype.Kk=function(d){this.J(new eG(_.E.w,!1));u.Ej(document.body,this.n4);u.mc(document.body,this.Yf)};
function gg(bW){hm.call(this);this._=u.q("span","fitem cswatch");this.aOC=0;this.U_=[];this.EQ=[];var d=this.a0b.bind(this);
for(var n=0;n<bW;n++){this.U_.push(0);var v=u.q("span","colorsample");v.addEventListener("click",d,!1);
this.EQ.push(v);this._.appendChild(v)}var t=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],h=Math.min(bW,t.length);
for(var n=0;n<h;n++)this.U_[n]=t[n];this.lq()}gg.prototype=new hm;gg.prototype.a0b=function(d){this.aOC=this.EQ.indexOf(d.currentTarget);
this.J(new eG(_.E.w))};gg.prototype.j=function(){return this.U_[this.aOC]};gg.prototype.a=function(d){var v=this.U_,t=v.indexOf(d);
if(t!=-1)v.splice(t,1);else v.pop();v.unshift(d);this.lq()};gg.prototype.lq=function(){for(var n=0;n<this.U_.length;
n++){u.i(this.EQ[n],"background-color:#"+f.Uj(this.U_[n]))}};function cX(d){hm.call(this);this.G7={C:0,L:0,X:0};
this.Ti=d;this._=u.q("span","fitem colorsample bbtn");this._.addEventListener("click",this.Ff.bind(this),!1)}cX.prototype=new hm;
cX.prototype.H=function(){};cX.prototype.Ff=function(d){var v=this.G7;this.J(new eG("click"));var t=new eG(_.E.c,!0);
t.data={R:_.Y.S8,cG:"colorpicker",EJ:f.Lw(v),Zp:this.cl.bind(this),xx:this.Ti};this.J(t)};cX.prototype.cl=function(d){this.Wi(d);
this.J(new eG(_.E.w))};cX.prototype.mI=function(){this.Ff(null)};cX.prototype.Lz=function(){var d=this.G7;
return d.C<<16|d.L<<8|d.X};cX.prototype.j=function(){return f.iF.Zi(this.G7)};cX.prototype.Wi=function(d){this.G7=f.le(d);
this.a01()};cX.prototype.a=function(d){this.G7=f.iF.pq(d);this.a01()};cX.prototype.a01=function(){var d=this.G7,v=d.C,t=d.L,h=d.X,X=v<<16|t<<8|h;
u.i(this._,"background-color:#"+f.Uj(X))};function ij(){hm.call(this);this.vR=!1;this.AN=20;this.aDs=10;
this.En=0;this.vR=!1;this.ahN={C:255,L:0,X:0};this.a8p={C:0,L:0,X:0};this.n=null;this.xa=null;this.l$=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=u.q("canvas");this.iq();u.G4(this._);u.We(this._,this.ZY.bind(this))}ij.prototype=new hm;ij.prototype.ahy=function(d){if(this.vR==d)return;
this.vR=d;this.iq()};ij.prototype.H=function(){};ij.prototype.aGk=function(d,v){function t(h){return{C:h>>16&255,L:h>>8&255,X:h&255}}if(d!=null)this.ahN=t(d);
if(v!=null)this.a8p=t(v);this.iq()};ij.prototype.aNe=function(d,v){this.n=d;this.xa=v;this.iq()};ij.prototype.ZY=function(d){var v=u.cN(d,this._),t=v.x*u.LY(),h=v.y*u.LY(),X=this.AN,g=this.aDs,x=0;
if(h>X){x=4+Math.floor(3*t/X)}else if(t<g&&h<g){x=0}else if(t>X-g&&h>X-g){x=1}else if(t<g){x=2}else{x=3}this.mI(x)};
ij.prototype.mI=function(d){var v=this.n,t=new eG(_.E.c,!0);if(d>1){if(j8==0)t.data={R:_.Y.Kf,Ic:lx.bX,G$:d};
else{var h=f.v(v.J1);if(d==2){var X=h.rA;h.rA=h.W4;h.W4=X}if(d==3){h.W4=[1,1,1];h.rA=[0,0,0]}if(d>=4){var g=this.l$[d-4];
if(this.En==0)h.W4=g;else h.rA=g}t.data={R:_.Y.Kf,Ic:lx.py,K:h}}}else{var x=this.cl.bind(this),Z=this.En;
this.En=d;if(j8==0){var Y=d==0?this.ahN:this.a8p;t.data={R:_.Y.S8,cG:"colorpicker",EJ:f.Lw(Y),Zp:x}}else{if(Z!=d){this.iq();
return}var a=d==0?v.J1.W4:v.J1.rA;if(a==null||a.length==0)a=[0,0,0];ij.aab(a,this,x);return}}this.J(t)};
ij.prototype.cl=function(d){var v=new eG(_.E.c,!0),t=this.En,h=this.n;if(j8==0)v.data={R:_.Y.Kf,Ic:lx.bX,G$:t,K:d};
else{var X=d;if(typeof d=="number"){X=f.le(d,1);X=[X.C,X.L,X.X]}var g=f.v(h.J1);if(t==0)g.W4=X;else g.rA=X;
v.data={R:_.Y.Kf,Ic:lx.py,K:g}}this.J(v)};ij.prototype.iq=function(){var d=this._,v=d.getContext("2d"),t=u.LY(),t=u.LY(),h=this.AN=Math.floor(34*t),X=Math.floor((h-2)/3),g="#aaaaaa",x=.62;
d.width=h;d.height=h+j8*(X+9);u.i7(d);d.style.cursor="pointer";var h=this.AN=d.width,Z=this.aDs=Math.round(h*x);
function Y($,H){var b=$.C,r=$.L,W=$.X;if(H)b=r=W=Math.round(f.KR(b,r,W));var V=b<<16|r<<8|W;return"#"+f.Uj(V)}function a(v,U,$,H,b,r){v.beginPath();
if(H>=r*2&&b>=r*2){v.moveTo(U+r,$);v.lineTo(U+H-r,$);v.quadraticCurveTo(U+H,$,U+H,$+r);v.lineTo(U+H,$+b-r);
v.quadraticCurveTo(U+H,$+b,U+H-r,$+b);v.lineTo(U+r,$+b);v.quadraticCurveTo(U,$+b,U,$+b-r);v.lineTo(U,$+r);
v.quadraticCurveTo(U,$,U+r,$)}v.closePath()}function z(U,$,Z,H,b){v.strokeStyle=b?b:"black";v.fillStyle=H;
a(v,U+.5,$+.5,Z-1,Z-1,Z*.2);v.fill();v.stroke()}var p=this.n;if(p){v.beginPath();var U=h-Z,l=Math.floor(Z*.28),L=Z-2*l;
v.lineWidth=1;v.strokeStyle="white";if(this.En==0)ij.Lj(v,p.J1.rA,this.xa,Z,Z,U,U,!0);ij.Lj(v,p.J1.W4,this.xa,Z,Z,0,0);
if(this.En==1)ij.Lj(v,p.J1.rA,this.xa,Z,Z,U,U,!0);for(var n=0;n<3;n++){v.beginPath();ij.Lj(v,this.l$[n],this.xa,X,X,n*(X+1),h+9,!1)}}else{z(h-Z,h-Z,Z,Y(this.a8p,this.vR));
z(0,0,Z,Y(this.ahN,this.vR))}var j=h-Z,O=Math.round(j*x);z(h-O,j-O,O,j8==0?"white":"black",g);z(h-j,0,O,j8==0?"black":"white",g);
v.save();v.fillStyle=g;v.translate(0,h);v.rotate(-Math.PI/2);j=h-Z;var F=Math.round(j*.28),i=Math.round(j*.25);
for(var n=0;n<2;n++){v.fillRect(F,F,j-F,1);v.beginPath();v.moveTo(j-i,F+.5-i);v.lineTo(j,F+.5);v.lineTo(j-i,F+.5+i);
v.closePath();v.fill();v.transform(0,1,1,0,0,0)}v.restore()};ij.aab=function(d,v,t){var h=new eG(_.E.c,!0);
if(d.length==3)h.data={R:_.Y.S8,cG:"colorpicker",EJ:f.Lw({C:d[0]*255,L:d[1]*255,X:d[2]*255}),Zp:t};else h.data={R:_.Y.S8,cG:"vgradienteditor",K:d,Zp:t};
v.J(h)};ij.Lj=function(d,v,t,h,X,g,x,Z){function Y(j,O){return CSS.cZ({C:j[0]*255,L:j[1]*255,X:j[2]*255},O)}if(v==null){d.fillStyle="#888888";
d.clearRect(g,x,h,X);d.font=Math.round(X*.6*(Z?.5:1))+"px sans-serif";d.fillStyle="white";if(Z){d.fillText("?",g+h*.05,x+X*.3);
d.fillText("?",g+h*.8,x+X*.3);d.fillText("?",g+h*.05,x+X*.9);d.fillText("?",g+h*.8,x+X*.9)}else d.fillText("?",h*.36,X*.7)}else if(v.length==0){d.fillStyle="#ffffff";
d.fillRect(g,x,h,X);d.strokeStyle="#ff0000";d.lineWidth=2;d.moveTo(g,x);d.lineTo(g+h,x+X);d.moveTo(g,x+X);
d.lineTo(g+h,x);d.stroke()}else if(v.length==3){d.fillStyle=Y(v);d.fillRect(g,x,h,X)}else if(v.length==4){var a=g+h/2,z=x+X/2,p=v[0]==0?d.createLinearGradient(g,x,g+h,x):d.createRadialGradient(a,z,0,a,z,h/2);
f.iF.a4E(p,v[1]);d.fillStyle=p;d.fillRect(g,x,h,X)}else if(v.length==2&&t){var U=t[v[0]];d.save();d.fillStyle="white";
d.fillRect(g,x,h,X);d.rect(g,x,h,X);d.scale(h/U.r,X/U.$);d.fillStyle=U.at2;d.fill();d.restore()}d.lineWidth=1;
d.strokeStyle="white";d.strokeRect(g+.5,x+.5,h-1,X-1);if(Z){var l=Math.floor(h*.28),L=h-2*l;d.clearRect(g+l,g+l,L,L);
d.strokeRect(g+l+.5,g+l+.5,L-1,L-1)}};function e_(){hm.call(this);this._=u.q("button","fitem bbtn");
this._.textContent="\u25A6";this.ZE=[];this.cK=[];var d=u.q("span","rangecontFloat padded");u.i(d,"position:absolute; width:205px; z-index:2;  padding-right:0px; padding-top:6px;  padding-right:6px;");
this.yN=new e8("Palette",[]);this.HT=new c0;this.HT.parent=this;this.HT._.style.height="100px";this.wL=new eR("RGBA",null,9);
this.aLn=new cX;this.g7=new lt([5,3],null,null,!0);this.LQ=new lt([5,4],null,null,!0);this.ap5=new lt([1,0],null,null,!0);
this.kG=new lt([1,2],null,null,!0);this.am2=new lt([5,8],!0,null,!0);var v=u.q("div","form"),t=[this.yN,this.HT,this.wL,this.g7,this.LQ,this.ap5,this.kG,this.am2];
for(var n=0;n<t.length;n++){var h=t[n];h.parent=this;h.P(h instanceof lt?"click":_.E.w,this.nh,this);
if(n<=1){d.appendChild(h._);d.appendChild(v)}else v.appendChild(h._)}var X=new hm;X._=d;var g=this;this._.addEventListener("click",function(x){var Z=g._.getBoundingClientRect(),Y=new eG(_.E.c,!0);
Y.data={R:_.Y.Vw,UZ:X,x:Z.left,y:Z.top+20};g.J(Y)});this.lq()}e_.prototype=new hm;e_.prototype.nh=function(d){var v=d.target,t=this.HT.j()[0];
if(v==this.yN){var h=v.j();if(h==0)return;else if(h<5)this.ZE=fH.azD(h-1);else this.ZE=f.v(this.cK[h-5])}else this.yN.a(0);
if(v==this.HT){var X=this.ZE[t][1];this.wL.a([X.C,X.L,X.X,X.aX].map(Math.round).join(" "));this.aLn.Wi(f.Lw(X));
return}if(v==this.wL){var g=v.j().split(" ").map(parseFloat);this.ZE[t][1]={C:g[0],L:g[1],X:g[2],aX:g[3]}}if(v==this.aLn){var g=f.le(v.Lz()),x=this.ZE[t][1];
x.C=g.C;x.L=g.L;x.X=g.X}if(v==this.g7)this.ZE.push(["",{C:0,L:0,X:0,aX:255}]);if(v==this.LQ){var Z=this.HT.j(),Y=[];
for(var n=0;n<this.ZE.length;n++)if(Z.indexOf(n)==-1)Y.push(this.ZE[n]);this.ZE=Y}if(v==this.ap5){var a=new eG(_.E.c,!0);
a.data={R:_.Y.mx};this.J(a)}if(v==this.kG)dY.save(fI.IT([this.ZE]),"table.act");if(v==this.am2){this.J(new eG(_.E.w,!1));
return}this.lq()};e_.prototype.j=function(){return f.v(this.ZE)};e_.prototype.a=function(d){d=this.ZE=f.v(d);
this.lq()};e_.prototype.lq=function(){var d=[];for(var n=0;n<this.cK.length;n++)d.push("Palette "+(n+1)+" ("+this.cK[n].length+" colors)");
var v=["Custom"].concat(fH.ajz).concat(d),t=this.yN.j();this.yN.Cw(v);this.yN.a(Math.min(t,v.length-1));
var h=this.ZE,X=[],g=Math.round(20*u.LY()),x=g;h.sort(function(Y,a){Y=Y[1];a=a[1];if(Y.aX!=a.aX)return Y.aX-a.aX;
return f.iP(Y)-f.iP(a)});for(var n=0;n<h.length;n++){var Z=aC.tp(h[n],g,x);X.push(Z)}this.HT.lr(X,null,g,x)};
e_.prototype.sq=function(d,v){this.cK=d.a7C;if(v==lx.Np||v==lx.XV)this.lq()};function eb(d){a6.call(this,d,!1,"brushbutton nopadding",19*13,10*13,lx.nj,!0);
var v=this.am1;u.M3(v,"flexrow");var t=u.q("div");v.appendChild(t);var h=u.q("div");v.appendChild(h);
u.i(h,"margin-left:8px");this.Z2=new an(null,null,!0);this.Z2.P(_.E.w,this.yj,this);t.appendChild(this.Z2._);
this.ia=new fb([12,14,0],1,1e3," px",0,!0);this.ia.P(_.E.w,this.yj,this);h.appendChild(this.ia._);this.GW=new fb([12,17],0,100,"%");
this.GW.P(_.E.w,this.yj,this);h.appendChild(this.GW._);this.SB=new eM(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.SB.P(_.E.w,this.yj,this);h.appendChild(this.SB._)}eb.prototype=new a6;eb.prototype.o4=function(){var d=["pencil","trees"];
for(var n=0;n<d.length;n++)d[n]="brushes/"+d[n]+".abr";return d};eb.prototype.a=function(d,v,t){this.vO=f.v(d);
var h=Math.floor(20*u.LY()),X=Math.floor(36*u.LY()),g=Math.floor(24*u.LY()),x=hv.tp(d,v,t,h,g,X);this.FM.setAttribute("src",x);
u.WI(this.FM,X,g);var Z=d.Brsh.v;this.ia.a(Z.Dmtr.v.val);if(Z.Hrdn!=null){this.GW.Wu();this.GW.a(Z.Hrdn.v.val)}else this.GW.$A();
if(Z.Angl!=null)this.Z2.a([Z.Angl.v.val]);if(Z.Rndn!=null)this.Z2.a([null,null,Z.Rndn.v.val/100]);var Y=[!1,!1];
if(d.opVr)Y[0]=d.opVr.v.bVTy.v==2;if(d.szVr)Y[1]=d.szVr.v.bVTy.v==2;this.SB.a(Y)};eb.prototype.bf=function(){return{list:[{t:"Objc",v:this.j()}],Qt:[],ku:[]}};
eb.prototype.j=function(){return this.vO};eb.prototype.oa=function(){if(!this.cX)return;var d=[],v=[],t=this.mg,h=Math.floor(33*u.LY()),X=Math.floor(40*u.LY());
for(var n=0;n<t.list.length;n++){var g=t.list[n].v,x=hv.tp(g,t.Qt,t.ku,h,X);d.push(x);v.push(g.Nm.v)}this.FB.lr(d,v,h,X);
this.cX=!1};eb.prototype.nV=function(d){var v=this.mg;this.a(v.list[this.FB.j()[0]].v,v.Qt,v.ku);this.J(new eG(_.E.w))};
eb.prototype.H=function(){a6.prototype.H.call(this);this.Z2.H();this.ia.H();this.GW.H()};eb.prototype.yj=function(d){var v=this.mg,t=this.vO,h=t.Brsh.v;
h.Dmtr.v.val=this.ia.j();if(h.Hrdn!=null)h.Hrdn.v.val=this.GW.j();if(h.Angl!=null)h.Angl.v.val=this.Z2.j()[0];
if(h.Rndn!=null)h.Rndn.v.val=Math.round(this.Z2.j()[2]*100);if(d.target==this.SB)ip.aNU(t,this.SB.j());
this.a(t,v.Qt,v.ku);this.J(new eG(_.E.w))};function cS(d){a6.call(this,d,!0,"contourbutton",17*13,10.5*13,lx.fJ)}cS.prototype=new a6;
cS.prototype.nV=function(d){this.a(this.mg[d.target.j()]);this.J(new eG(_.E.w))};cS.prototype.e3=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.S8,cG:"contoureditor",Yx:this.vO,response:this.aw8.bind(this)};this.J(v)};cS.prototype.aw8=function(d){this.a(d);
this.J(new eG(_.E.w))};cS.prototype.oa=function(){if(!this.cX)return;var d=Math.floor(38*u.LY()),v=Math.floor(38*u.LY()),t=[],h=[],X=this.mg;
for(var n=0;n<X.length;n++){h.push(X[n].Nm?X[n].Nm.v:"");t.push(f.kB.tp(X[n].Crv.v,d,v))}this.FB.lr(t,h,d,v);
this.cX=!1};cS.prototype.a=function(d){this.vO=f.v(d);var v=this.vO.Crv.v;for(var n=0;n<v.length;n++)if(v[n].v.Cnty==null)v[n].v.Cnty={t:"bool",v:!0};
this.pB()};cS.prototype.pB=function(){var d=Math.floor(30*u.LY()),v=Math.floor(30*u.LY()),t=f.kB.tp(this.vO.Crv.v,d,v);
this.FM.setAttribute("src",t);u.WI(this.FM,d,v)};function lw(d){hm.call(this);this.Dh=null;this.n=null;
this.Vr=null;this.Dd=null;this.a4n=[];this.aak=[];this._=u.q("span","fitem fillbutton");this.Y6=new hm;
this.Y6._=u.q("div","floatcont form");u.i(this.Y6._,"width: 21em;");this.Y6.parent=this;this.ea=d;this.dB=this.dB=u.q("label","flabel");
this._.appendChild(this.dB);this.$D=u.q("canvas");this.fy=this.$D.getContext("2d");this.atC=null;this._.appendChild(this.$D);
u.We(this.$D,this.BC.bind(this));this.hr=new a0([12,66],["","Color","Grad","Patt"]);this.Y6._.appendChild(this.hr._);
this.hr.P(_.E.w,this.wj,this);this.Y6._.appendChild(u.q("hr"));this.aDW=u.q("span");this.ama=new i9(["VAR0:",[13,0]]);
this.p3=new cX(!0);this.p3.parent=this.Y6;this.p3.P(_.E.w,this.wj,this);this.acn=new gg(10);this.acn.P(_.E.w,this.wj,this);
this.Ls=u.q("div","marged hiline");this.Ls.appendChild(this.ama._);this.Ls.appendChild(this.p3._);u.WJ(this.Ls);
this.Ls.appendChild(this.acn._);this.IN=new bL("GrFl",!0);this.IN.parent=this.Y6;this.IN.P(_.E.w,this.wj,this);
this.zZ=u.q("div","marged hiline");var v="Grad Type Algn Angl Rvrs Scl gradientsInterpolationMethod Ofst".split(" ");
for(var n=0;n<v.length;n++){var t=this.IN.vE[v[n]]._;this.zZ.appendChild(t)}this.$X=new bL("patternFill",!0);
this.$X.parent=this.Y6;this.$X.P(_.E.w,this.wj,this);this.ll=u.q("div","marged hiline");var v=["Ptrn","Angl","Scl","Algn","phase"];
for(var n=0;n<v.length;n++){var t=this.$X.vE[v[n]]._;this.ll.appendChild(t)}}lw.prototype=new hm;lw.prototype.sq=function(d,v){var t=dg.qM(d,v);
if(v==lx.Nt){this.a4n=[];this.aak=[];if(this.Dh)this.a(this.Vr,this.j(),this.Dh)}this.n=d;this.IN.sq(d,v);
this.$X.sq(d,v)};lw.prototype.H=function(){this.dB.textContent=f7.get(this.ea)+": ";this.hr.H();this.ama.H();
this.p3.H();this.IN.H();this.$X.H()};lw.prototype.wj=function(d){var v=d.currentTarget;if(v==this.hr){var t=this.hr.j(),h={Ci:t,hn:this.Dh[t]};
if(t>0&&h.hn==null)h.hn=f.v(kV.Em[t-1]);if(this.Dh)this.a(this.Vr,h,this.Dh)}if(v==this.acn)this.p3.Wi(v.j());
this.J(new eG(_.E.w,!1))};lw.prototype.BC=function(d){if(u.al(this.Y6._))return;d.stopPropagation();
var v=[[13,1,0],[13,0],[12,37],[12,62]],t=this.Dh,h=this.a4n,X=this.aak,g=!1;for(var n=0;n<4;n++){var x={Ci:n,hn:t[n]},Z=lw.aqa(x);
if(X[n]==Z)continue;g=!0;var Y=lw.aCa(null,x,this.n,this.Vr,22,22,!1);h[n]="<img width=\"22\" height=\"22\" src=\""+Y+"\" />";
X[n]=Z}if(g)this.hr.Cw(h,v);var a=this.$D.getBoundingClientRect(),z=new eG(_.E.c,!0);z.data={R:_.Y.Vw,UZ:this.Y6,x:a.left,y:a.top+a.height+4};
this.J(z)};lw.prototype.a=function(d,v,t){this.Dh=t;this.Vr=d;this.hr.a(v.Ci);var h=lw.aqa(v),X;if(h!=this.atC)lw.aCa(this.fy,v,this.n,this.Vr,30,23,!0);
this.atC=h;var g=v.Ci;if(g==0){X=this.aDW}if(g==1){this.p3.a(v.hn.Clr.v);X=this.Ls}if(g==2){this.IN.update(d,v.hn);
X=this.zZ}if(g==3){this.$X.update(d,v.hn);X=this.ll}if(X!=this.Dd){if(this.Dd!=null){this.Y6._.removeChild(this.Dd)}this.Y6._.appendChild(X);
this.Dd=X}};lw.prototype.j=function(){var d={Ci:this.hr.j()};if(d.Ci==1){d.hn=f.v(kV.Em[0]);d.hn.Clr.v=this.p3.j()}if(d.Ci==2){d.hn=this.IN.j()}if(d.Ci==3){d.hn=this.$X.j()}return d};
lw.aqa=function(d){var v=d.Ci,t=d.hn,h="empty";if(v==1){h=f.iF.pq(t.Clr.v);h=h.C+","+h.L+","+h.X}if(v==2)h=JSON.stringify(t.Grad.v);
if(v==3)h=t.Ptrn.v.Idnt.v;return h};lw.aCa=function(d,v,t,h,X,g,x){if(d==null)d=lw.fy;var Z=Math.floor(X*u.LY()),Y=Math.floor(g*u.LY()),a=d.canvas;
a.width=Z;a.height=Y;u.WI(a,Z,Y);lw.aN9(d,v,t,h,Z,Y);if(x){d.beginPath();d.strokeStyle="#000000";d.fillStyle="#ffffff";
d.lineWidth=2;var z=Z*.7,p=Math.floor(Y*.7),U=7*u.LY();d.moveTo(z,p);d.lineTo(z+U,p);d.lineTo(z+U/2,p+U/2);
d.closePath();d.stroke();d.fill()}if(d==lw.fy)return a.toDataURL()};lw.fy=u.q("canvas").getContext("2d");
lw.aN9=function(d,v,t,h,X,g,x,Z){if(x==null)x=0;if(Z==null)Z=0;var Y=v.Ci;if(Y==0){d.fillStyle="#ffffff";
d.fillRect(x,Z,X,g);d.strokeStyle="#ff0000";d.lineWidth=2;d.moveTo(x,Z);d.lineTo(x+X,Z+g);d.moveTo(x,Z+g);
d.lineTo(x+X,Z);d.stroke()}if(Y==1){var a=v.hn.Clr.v;a=f.iF.pq(a);d.fillStyle="#"+f.Uj(a.C<<16|a.L<<8|a.X);
d.fillRect(x,Z,X,g)}if(Y==2){var z=A.qy.tp(v.hn.Grad.v,X,g,0,t.Sw,t.dL,!0);d.putImageData(z,x,Z)}if(Y==3){var p=v.hn.Ptrn.v,U;
if(h!=null)U=lb.Jg(p,h.add.Patt);if(U==null)U=lb.Jg(p,t.Da);cM.tp(U,X,g,d.canvas)}};function cM(d){a6.call(this,d,!1,"patternbutton",18*13,10*13,lx.Nt);
this.a6u=null}cM.prototype=new a6;cM.prototype.nV=function(d){var v=this.mg[this.FB.j()];this.vO={classID:"Ptrn",Nm:{t:"TEXT",v:v.name},Idnt:{t:"TEXT",v:v.id}};
this.J(new eG(_.E.w));this.pB()};cM.prototype.oa=function(){if(!this.cX)return;var d=this.mg,v=Math.floor(34*u.LY()),t=Math.floor(34*u.LY()),h=[],X=[];
for(var n=0;n<d.length;n++){h.push(cM.tp(d[n],v,t));X.push(d[n].name)}this.FB.lr(h,X,v,t);this.cX=!1};
cM.prototype.a=function(d,v){if(this.vO&&d.Idnt.v==this.vO.Idnt.v)return;this.vO=f.v(d);this.pB(v)};
cM.prototype.j=function(){return f.v(this.vO)};cM.prototype.bf=function(){return this.a6u?[this.a6u]:[]};
cM.prototype.pB=function(d){var v=Math.floor(50*u.LY()),t=Math.floor(50*u.LY()),h;if(d!=null)h=lb.Jg(this.vO,d.add.Patt);
if(h==null)h=lb.Jg(this.vO,this.mg);this.a6u=h;var X=cM.tp(h,v,t);this.FM.setAttribute("src",X);u.WI(this.FM,v,t)};
cM.$D=u.q("canvas","");cM.tp=function(d,v,t,h){if(h==null)h=cM.$D;var X=h.getContext("2d");h.width=v;
h.height=t;if(d){var g=d.kv[1],x=g.r,Z=g.$,Y=d.kv[0],a=Math.min(v/x,t/Z),z=a;if(z*x<2)z=2/x;var p=a;
if(p*Z<2)p=2/Z;var U=A.hZ.Pr([Y,g],new gi(z,0,0,p,0,0),z>2),l=U.S.r,L=U.S.$,j=new ImageData(l,L);f.Hy(U.buffer,j.data);
X.putImageData(j,Math.floor((v-l)/2),Math.floor((t-L)/2))}return h.toDataURL()};function gk(d,v,t){if(v==null)v=24.2;
if(t==null)t=17;a6.call(this,d,!1,"patternbutton",v*13,t*13,lx._0);this.bO=""}gk.prototype=new a6;gk.prototype.nV=function(d){this.vO=f.v(this.mg[0][this.FB.j()[0]]);
this.J(new eG(_.E.w))};gk.prototype.oa=function(){var d=this.mg;if(d==null||!this.cX)return;var v=Math.floor(50*u.LY()),t=Math.floor(50*u.LY()),h=[],X=[];
for(var n=0;n<d[0].length;n++){h.push(gk.tp(this.mg[0][n].m9,v,t,this.mg[1]));X.push(d[0][n].Me.Nm.v.split("=").pop())}this.FB.lr(h,X,v,t);
this.cX=!1};gk.prototype.a=function(d,v,t,h){var X=JSON.stringify(d.m9)+","+t+","+h;if(this.bO!=X){this.bO=X;
this.vO=f.v(d);this.pB(v,t,h)}};gk.prototype.pB=function(d,v,t){var h=Math.floor(68*u.LY()),X=Math.floor(68*u.LY()),g=gk.tp(this.vO.m9,h,X,d?d:this.mg[1],v,t);
this.FM.setAttribute("src",g);u.WI(this.FM,h,X)};gk.tp=function(d,v,t,h,X,g){var x=new hc;x.r=v;x.$=t;
x.buffer=f.m(v*t*4);x.add.Patt=h;x.Si(X==null?90:X);x.Nd(g==null?30:g);var Z=new iW(0,0,Math.round(v*.5),Math.round(t*.5));
Z.x=Math.round((v-Z.r)/2);Z.y=Math.round((t-Z.$)/2);var Y=x.vv();Y.S=Z;Y.buffer=f.m(Z.k()*4);f.pl(Y.buffer,4284045657);
lb.auQ(d,Y,.5*100);x.U.push(Y);x.nA();x.uM();var a=fq.Dz;fq.Dz=!1;x.Yn();var z=x.jP();fq.Dz=a;var p=b3.Zx(z.buffer,x.r,x.$);
return p};function gM(d){a6.call(this,null,!1,"tpresetbutton",18*13,24*13,lx.nx,!0);u.Ag(this._,"fitem");
this.FB.Fj(1);this.id=d;this.pB();this.R.style.overflow="hidden";this.$u=new l8([15,7,9]);this.$u.a(!0);
this.$u.P(_.E.w,this.aMc,this);this.Bz.appendChild(this.$u._)}gM.prototype=new a6;gM.prototype.asL=function(d){if(this.id==d)return;
this.id=d;this.eN(this.mg)};gM.prototype.nV=function(d){var v=this.mg[this.FB.j()],t=new eG(_.E.c,!0);
t.data={R:_.Y.Kf,QS:"set",Ic:lx.nx,Mc:v};this.J(t)};gM.prototype.H=function(){a6.prototype.H.call(this);
this.$u.H()};gM.prototype.aMc=function(){this.cX=!0;this.oa()};gM.prototype.oa=function(){if(!this.cX)return;
var d=Math.floor(16*u.LY()),v=Math.floor(16*u.LY()),t=[],h=[],X=this.mg,g=this.$u.j();for(var n=0;n<X.length;
n++){var x=A.qU[X[n][1].classID];if(!g||x==this.id){h.push(X[n][0]?X[n][0].split("=").pop():"");t.push(x==-1?"":PIMG[A.kV[x]])}else{t.push(null);
h.push(null)}}this.FB.lr(t,h,d,v);this.cX=!1};gM.prototype.pB=function(){var d=this.FM;d.setAttribute("src",PIMG[A.kV[this.id]]);
u.M3(d,"toolicon")};gM.prototype.bf=function(){return null};gM.Vt={};gM.tp=function(d,v,t){var h=gM.fy,X=gM.Vt,g=f.Uj(d.C<<16|d.L<<8|d.X);
if(X[g])return X[g];if(h==null){var x=u.q("canvas");h=gM.fy=x.getContext("2d")}var x=h.canvas;x.width=v;
x.height=t;h.fillStyle="#"+g;h.fillRect(0,0,v,t);var Z=X[g]=x.toDataURL();return Z};function lk(d,v,t){hm.call(this);
this._=u.q("span","fitem curveeditor");this.Bl=null;this.aKm=0;this.gt="";this.mode=0;this.aEv=null;
this.aMS=null;this.n9=d;this.ahQ=v;this.aGJ=t;this.OD=null;this.Fz=null;this.aoK=0;this.ae3=0;this.CT=new cK;
this.C_=this.tV.bind(this);this.zr=this.Kk.bind(this);this.K4=256;this.$D=u.q("canvas");this.fy=this.$D.getContext("2d");
u.G4(this.$D);this._.appendChild(this.$D);this.K$(256,256);u.We(this.$D,this.ZQ.bind(this));this.coords=u.q("div");
u.i(this.coords,"width:250px");this._.appendChild(this.coords);var h=this.G2=t?100:255,X=null;this.U9=new eh("X (in)",0,h,X,0,!1,!0);
this.SC=new eh("Y (out)",0,h,X,0,!1,!0);this.yV=new l8([19,3,0]);this.U9.P(_.E.w,this.Ud,this);this.SC.P(_.E.w,this.Ud,this);
this.yV.P(_.E.w,this.Ud,this);this.coords.appendChild(this.U9._);if(t)this.coords.appendChild(this.yV._);
this.coords.appendChild(this.SC._)}lk.prototype=new hm;lk.prototype.H=function(){this.yV.H();this.U9.H();
this.SC.H()};lk.prototype.K$=function(d,v){this.K4=Math.round(d);this.fy.resetTransform();u.Zw(this.$D,this.K4,this.K4,this.fy);
this.fy.scale(this.K4/256,this.K4/256);if(this.OD)this.Yc()};lk.prototype.Ud=function(d){var n=this.aHJ(),v=this.OD[n],t=255/this.G2;
v.v.Hrzn.v=this.U9.j()*t;v.v.Vrtc.v=this.SC.j()*t;if(this.aGJ)v.v.Cnty.v=this.yV.j();this.OD.sort(function(h,X){return h.v.Hrzn.v-X.v.Hrzn.v});
this.Yc();this.J(new eG(_.E.w))};lk.prototype.a=function(d,n,v){var t=JSON.stringify(d),h=v?JSON.stringify(v):null;
if(t==JSON.stringify(this.OD)&&h==this.aMS)return;this.mode=d.length==256?1:0;this.OD=JSON.parse(t);
this.aEv=v;this.aMS=h;if(n!=null)this.Fz=this.OD[n];this.Yc()};lk.prototype.s0=function(d,v,t){this.Bl=d;
this.aKm=v;this.gt=t;this.Yc()};lk.prototype.j=function(){return f.v(this.OD)};lk.prototype.aHJ=function(){return this.OD.indexOf(this.Fz)};
lk.prototype.ZQ=function(d){var v=256/this.K4,t=u.cN(d,this.$D);t.x*=v;t.y*=v;var h=t.x,X=256-t.y;if(this.n9){var g=h;
h=256-X;X=g}this.CT.QG(h,X);if(this.mode==0){var x=0,Z=1e9,U;for(var n=0;n<this.OD.length;n++){var Y=this.OD[n].v,a=Y.Hrzn.v-h,z=Y.Vrtc.v-X,p=Math.sqrt(a*a+z*z);
if(p<Z){Z=p;x=n}}if(Z<15)U=this.OD[x];else{U=f.kB.lY(h,X,!0);this.OD.push(U);this.OD.sort(function(l,L){return l.v.Hrzn.v-L.v.Hrzn.v})}this.Fz=U;
this.ae3=this.OD.slice(0)}u.Fg(document.body,this.C_);u.KP(document.body,this.zr);this.tV(d)};lk.prototype.anC=function(){var d=this.Fz;
return d?d.v.Vrtc.v:0};lk.prototype.tV=function(d){var v=256/this.K4,t=u.cN(d,this.$D);t.x*=v;t.y*=v;
var h=t.x,X=256-t.y;if(this.n9){var g=h;h=256-X;X=g}if(this.mode==0){var x=this.OD,Z=this.Fz,Y=this.ae3,a=Y.indexOf(Z),z=x.indexOf(Z)!=-1,p=Y.length-1,U=h;
if(a==0){U=Math.max(0,Math.min(Y[1].v.Hrzn.v-1,h))}else if(a==p){U=Math.min(255,Math.max(Y[p-1].v.Hrzn.v+1,h))}else{var l=h<0||h>255||X<0||X>255;
if(h<=Y[a-1].v.Hrzn.v||h>=Y[a+1].v.Hrzn.v)l=!0;if(!l&&!z)x.splice(a,0,Z);if(l&&z)x.splice(a,1)}if(this.ahQ&&(a==0||a==Y.length-1)){}else Z.v.Hrzn.v=Math.round(U);
Z.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(X)))}else{h=Math.round(h);X=Math.round(X);h=Math.max(0,Math.min(255,h));
X=Math.max(0,Math.min(255,X));var L=this.CT.x,j=h,O=this.CT.y,F=X;if(h<this.CT.x){j=L;L=h;F=O;O=X}this.OD[h]=X;
if(L!=j)for(var i=L;i<=j;i++)this.OD[i]=Math.round(O+(i-L)*(F-O)/(j-L))}this.CT.QG(h,X);this.Yc();this.J(new eG(_.E.w))};
lk.prototype.Kk=function(d){u.Ej(document.body,this.C_);u.mc(document.body,this.zr);this.J(new eG(_.E.w))};
lk.prototype.Yc=function(){var d=this.fy,v=this.$D;d.clearRect(0,0,512,512);d.fillStyle="rgba(0,0,0,0.12)";
d.fillRect(0,0,256,256);var t=256/v.width;if(this.Bl){d.save();d.translate(0,256);d.scale(1,-1);kv.aLE(d,this.Bl,5700/this.aKm,this.gt);
d.restore()}d.strokeStyle="rgba(0,0,0,0.3)";d.lineWidth=1*t;d.beginPath();for(var n=0;n<5;n++){var h=Math.min((Math.floor(64*n/t)+.5)*t,255.5);
d.moveTo(0,h);d.lineTo(255,h);d.moveTo(h,0);d.lineTo(h,255)}d.stroke();function X(Y){var p=f.kB.hi(Y,256);
for(var n=0;n<256;n++)p[n]*=255;return p}if(this.n9){d.save();d.transform(0,1,-1,0,256,0)}var g=lk.a88,x=this.aEv,Z=["rgba(255,0,0,0.4)","rgba(0,255,0,0.4)","rgba(0,0,255,0.4)"];
if(this.mode==0){var Y=this.OD;if(x)for(var n=0;n<x.length;n++)g(d,X(x[n]),Z[n]);g(d,X(Y),"white");d.lineWidth=2*t;
for(var n=0;n<Y.length;n++){var a=Y[n].v;d.fillStyle=this.Fz==Y[n]?"white":"#555";d.beginPath();d.moveTo(a.Hrzn.v,255.5-a.Vrtc.v);
d.arc(a.Hrzn.v,255.5-a.Vrtc.v,4,0,2*Math.PI);d.stroke();d.fill()}}else{if(x)for(var n=0;n<x.length;n++)g(d,x[n],Z[n]);
g(d,this.OD,"#000000")}if(this.n9)d.restore();var n=this.aHJ();this.coords.className=n==-1?"disabled":"";
if(n==-1)return;var a=this.OD[n].v,z=255/this.G2;this.U9.a(Math.round(a.Hrzn.v/z));this.SC.a(Math.round(a.Vrtc.v/z));
if(a.Cnty)this.yV.a(a.Cnty.v)};lk.a88=function(d,v,t){d.strokeStyle=t;d.beginPath();d.moveTo(0,255.5-v[0]);
for(var n=0;n<256;n++)d.lineTo(n,255.5-v[n]);d.stroke()};function kv(d,v,t){hm.call(this);this._=u.q("span");
this.sX=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.sX.P(_.E.w,this.iq,this);if(t==null){this._.appendChild(this.sX._);
u.WJ(this._)}var h=u.q("div");this._.appendChild(h);u.i(h,"background-color: var(--bg-canvas);");this.$D=u.q("canvas");
var X=this.$D;h.appendChild(X);X.width=Math.round(d*u.LY());X.height=Math.round(100*u.LY());u.WI(X,X.width,X.height);
X.style.display="block";this.fy=X.getContext("2d");this.Bl=null;this.Vb=0;this.a2x=null;this.a76=[];
this.Sg=[];var g=["Mean:","Pixels:"],x=this._;if(v)for(var n=0;n<g.length;n++){var Z=new i9(g[n]);this.a76.push(Z);
x.appendChild(Z._);var Y=new i9("hi");this.Sg.push(Y);x.appendChild(Y._);u.WJ(x)}if(t!=null)this.Fj(t)}kv.prototype=new hm;
kv.prototype.H=function(){this.sX.H()};kv.prototype.Fj=function(d){this.sX.a(d);this.iq()};kv.prototype.a=function(d,v){this.Bl=d;
this.a2x=v;this.iq()};kv.prototype.Wi=function(d){if(d==this.Vb)return;this.Vb=d;this.iq()};kv.prototype.iq=function(){if(this.Bl==null)return;
var d=this.$D,v=this.fy,t=this.Bl,h=this.a2x,X=this.sX.j(),g=6e3/t[4],x="#"+f.Uj(this.Vb),Z=kv.aLE;d.width=d.width;
v.setTransform(d.width/256,0,0,-d.height/100,0,d.height);v.globalCompositeOperation="lighter";if(X==0)Z(v,t[0],g/3,x);
else if(X<4)Z(v,t[X],g,x);else{Z(v,t[1],g,"#ff4545",!0);Z(v,t[2],g,"#40bb60",!0);Z(v,t[3],g,"#2266bb",!0)}v.setTransform(1,0,0,1,0,0);
if(h!=null){if(X==4)X=0;var Y=0;for(var n=0;n<256;n++)Y+=n*t[X][n];if(X==0)Y/=3;this.Sg[0].a((Y/h).toFixed(1)+"");
this.Sg[1].a(h+"")}};kv.aLE=function(d,v,t,h,X){d.beginPath();d.moveTo(0,0);for(var g=0;g<256;g++)d.lineTo(g,v[g]*t);
d.lineTo(256,0);d.fillStyle=h;d.strokeStyle=h;if(X){d.globalAlpha=.2;d.fill();d.globalAlpha=1;d.stroke()}else d.fill()};
function gb(d,v){hm.call(this);this.uU={C:0,L:0,X:0};if(Math.abs(d-256/u.LY())<10)d=256/u.LY();var t=this._=u.q("div","flexrow");
t.style.position="relative";var h=this.aG6=u.q("div");t.appendChild(h);this.Z_=new cK;this.dI=new cK;
this.n4=this.B7.bind(this);this.Yf=this.aMa.bind(this);this.$D=u.q("canvas","");this.fy=this.$D.getContext("2d");
this.$D.width=this.$D.height=256;this.aNn=this.fy.getImageData(0,0,256,256);this.a35=-1;this.ar2="";
this.Bb=null;u.G4(this.$D);u.We(this.$D,this.asu.bind(this));h.appendChild(this.$D);this.af6=this.aKp.bind(this);
this.auk=this.a4P.bind(this);this.bz=u.q("canvas","");this.fQ=this.bz.getContext("2d");this.bz.width=20;
this.bz.height=256;this.aeB=this.fQ.getImageData(0,0,20,256);gb.a9E(this.aeB.data,20,256);u.G4(this.bz);
u.We(this.bz,this.auo.bind(this));t.appendChild(this.bz);u.i(this.$D,"width:"+d+"px; height:"+d+"px");
u.i(this.bz,"width:16px; height:"+d+"px");this.A5=new l8("Web Colors\u2001");this.A5.P(_.E.w,this.update,this);
this.f3=new l8("CMYK gamut");this.f3.P(_.E.w,this.update,this);if(v){u.WJ(h);h.appendChild(this.A5._);
h.appendChild(this.f3._)}var X=this.Lv=document.createElementNS("http://www.w3.org/2000/svg","svg");
t.appendChild(X)}gb.prototype=new hm;gb.prototype.K$=function(d,v){this.$D.style.width=this.aG6.style.width=d-16+"px"};
gb.prototype.a=function(d){if(this.A5.j()){var v=f.v(d);gb.xJ(v);var t=this.j();if(v.C==t.C&&v.L==t.L&&v.X==t.X)d=this.uU}this.uU=d;
this.update()};gb.prototype.j=function(){var d=f.v(this.uU);if(this.A5.j())gb.xJ(d);return d};gb.prototype.update=function(){var d=this.uU,v=f.qZ(d.C,d.L,d.X),Z=18;
if(v.k1==0)v.Wx=this.Z_.x/255;if(v.Wx==0||v.k1==0)v.uV=(255-this.Q8(this.dI.y))/255;if(v.k1!=0)this.Z_.x=v.Wx*255;
this.Z_.y=(1-v.k1)*255;this.dI.y=(1-v.uV)*255;var t=this.aNn,h=this.A5.j(),X=this.f3.j(),g=h+","+X;if(Math.abs(v.uV-this.a35)>.002||this.ar2!=g){this.aOB(new Uint8Array(t.data.buffer),256,256,v.uV,h,X);
this.aB5();this.a35=v.uV;this.ar2=g}var x=this.fy;x.putImageData(t,0,0);t=this.aeB;x=this.fQ;x.putImageData(t,0,0);
x.strokeStyle="#ffffff";x.beginPath();x.moveTo(0,this.dI.y);x.lineTo(20,this.dI.y);x.lineWidth=2;x.stroke();
var Y=this.Z_.y/255,a=parseFloat(this.$D.style.width),z=parseFloat(this.$D.style.height),p=this.Lv;p.setAttribute("width",Z);
p.setAttribute("height",Z);var U=Math.round(d.C*255)<<16|Math.round(d.L*255)<<8|Math.round(d.X*255),l="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+Z/2+"\" fill=\"#"+f.Uj(U)+"\"></circle>";
l+="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+(-.5+Z/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*Y)+")\" stroke-width=\"1\"></circle>";
l+="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+(-1.2+Z/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
p.innerHTML=l;p.style.pointerEvents="none";p.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
p.style.position="absolute";p.style.left=a*(this.Z_.x/255)-Z/2+"px";p.style.top=z*(this.Z_.y/255)-Z/2+"px"};
gb.xJ=function(d){d.C=~~(.5+d.C*5)*.2;d.L=~~(.5+d.L*5)*.2;d.X=~~(.5+d.X*5)*.2};gb.prototype.aOB=function(d,v,t,h,X,g){var x=1/v,Z=1/t;
for(var Y=0;Y<t;Y++)for(var a=0;a<v;a++){var z=f.JY(h,a*x,(t-Y-1)*Z);if(X)gb.xJ(z);var n=Y*v+a<<2;d[n+0]=~~(z.C*255);
d[n+1]=~~(z.L*255);d[n+2]=~~(z.X*255);d[n+3]=255}if(g){var p=d.slice(0),U=f.gV("rgbToRgbC"),l=U[2],L=U[3];
ICC.U.applyLUT(L,l,p,p);this.Bb=f.m(v*t);for(var n=0;n<d.length;n+=4){var j=d[n]-p[n],O=d[n+1]-p[n+1],F=d[n+2]-p[n+2],i=j*j+O*O+F*F;
if(i>300){d[n]=d[n+1]=d[n+2]=200;this.Bb[n>>>2]=255}}}};gb.a9E=function(d,v,t,h,X){if(h==null)h=1;if(X==null)X=0;
var g=new Uint32Array(d.buffer);for(var x=0;x<t;x++){var Z=f.JY((1+h*(1-x/t)+X)%1,1,1),Y=255<<24|Z.X*255<<16|Z.L*255<<8|Z.C*255;
for(var a=0;a<v;a++)g[x*v+a]=Y}};gb.prototype.asu=function(d){u.Fg(window,this.n4);u.KP(window,this.Yf);
this.B7(d);this.Lv.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Lv.style.transform="scale(2.4)"};
gb.prototype.aMa=function(d){u.Ej(window,this.n4);u.mc(window,this.Yf);this.Lv.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Lv.style.transform="scale(1)"};gb.prototype.B7=function(d){var v=u.cN(d,this.$D);v.x=v.x*(256/parseFloat(this.$D.style.width));
v.y=v.y*(256/parseFloat(this.$D.style.height));this.Z_.QG(this.Q8(v.x),this.Q8(v.y));this.aB5();this.nh()};
gb.prototype.aB5=function(){if(!this.f3.j())return;var d=this.Z_,v=0,t=0,h=1e9;for(var X=0;X<256;X++){for(var g=0;
g<256;g++){if(this.Bb[X*256+g]==255)continue;var x=g-d.x,Z=X-d.y,Y=x*x+Z*Z;if(Y<h){v=g;t=X;h=Y}}}d.x=v;
d.y=t};gb.prototype.nh=function(){this.uU=this.a8k();this.J(new eG(_.E.w))};gb.prototype.a8k=function(){var d=f.JY((255-this.Q8(this.dI.y))/255,this.dP(this.Z_.x/255),this.dP(1-this.Z_.y/255));
return{C:d.C,L:d.L,X:d.X}};gb.prototype.auo=function(d){u.Fg(window,this.af6);u.KP(window,this.auk);
this.aKp(d)};gb.prototype.a4P=function(d){u.Ej(window,this.af6);u.mc(window,this.auk)};gb.prototype.aKp=function(d){var v=u.cN(d,this.bz);
v.y=v.y*(256/parseFloat(this.bz.style.height));this.dI.QG(this.Q8(v.x),this.Q8(v.y));this.nh()};gb.prototype.Q8=function(d){return Math.max(0,Math.min(255,d))};
gb.prototype.dP=function(d){return Math.max(0,Math.min(1,d))};function kC(d,v,t,h){var X=a0.VG(v,h);
a0.call(this,d,X,t)}kC.prototype=new a0;function eQ(){hm.call(this);this.ZE=0;this._=u.q("button","fitem bbtn");
this._.style.width="130px";var d=[];for(var n=0;n<16;n++){var v={name:MIDDB.grps[n],sub:[],Kr:fV.Zl(n*8)};
d.push(v);for(var t=0;t<8;t++)v.sub.push({name:MIDDB.list[n*8+t],Kr:fV.Zl(n*8+t)})}d.push({name:MIDDB.list[200],Kr:fV.Zl(200)});
var h=[];h.push({name:MIDDB.list[300],Kr:fV.Zl(300)});h.push({name:MIDDB.list[500],Kr:fV.Zl(500)});h.push({name:MIDDB.list[501],Kr:fV.Zl(501)});
d.push({name:"More",sub:h});this.Gv=new jr(d);this.Gv.P("select",this.wj,this);this._.textContent="Piano \u25BC";
this._.addEventListener("click",this.Nu.bind(this),!1)}eQ.prototype=new hm;eQ.prototype.Nu=function(d){var v=this._.getBoundingClientRect(),t=this.Gv;
t.H();t.parent=this;var h=new eG(_.E.c,!0);h.data={R:_.Y.Vw,UZ:t,x:v.left,y:v.top+v.height+4};this.J(h)};
eQ.prototype.wj=function(d){var v=this.Gv.Q_(),t=v[0],h=200;if(t<=15)h=v[0]*8+v[1];if(t==17)h=[300,500,501][v[1]];
this.ZE=h;this.J(new eG(_.E.w,!1))};eQ.prototype.gh=function(d){var v=this.EQ.indexOf(d.currentTarget),t=this.qb[v],h=this.j3;
if(t.ln!=null)h.ln=t.ln;if(t.yQ!=null)h.yQ=t.yQ;h.gn=t.gn.slice(0);if(h.O8==null)h.O8=3;for(var n=0;
n<h.gn.length;n++)h.gn[n]*=h.O8/t.O8;this.J(new eG(_.E.w,!1))};eQ.prototype.H=function(){};eQ.prototype.a=function(d){this.ZE=d;
this._.textContent=MIDDB.list[d]+" \u25BC"};eQ.prototype.j=function(){return this.ZE};function cs(){hm.call(this);
this.amQ=null;this.W2=new cA;this.W2.P(_.E.w,this.ah0,this);this.W2.parent=this;this.yW=new eh([12,14,0],1,150,"px",2,!0);
this.yW.P(_.E.w,this.v4,this);this.yW.parent=this;this.wx=new eh([16,0],.01,100,"px",2,!0,null,5);this.wx.P(_.E.w,this.v4,this);
this.wx.parent=this;this._2=new l8("Auto");this._2.P(_.E.w,this.v4,this);this.VM=new eh([16,1],-500,5e3,"%",0,!0);
this.VM.P(_.E.w,this.v4,this);this.VM.parent=this;this.vb=new eh("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);
this.vb.P(_.E.w,this.v4,this);this.vb.parent=this;this.n5=new eh("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);
this.n5.P(_.E.w,this.v4,this);this.n5.parent=this;this.K6=new eh([16,2],-10,10,"px");this.K6.P(_.E.w,this.v4,this);
this.K6.parent=this;this.kA=new cX(!0);this.kA.P(_.E.w,this.WQ,this);this.kA.parent=this;this.$c=new cX(!0);
this.$c.P(_.E.w,this.WQ,this);this.$c.parent=this;this.N5=new cX(!0);this.N5.P(_.E.w,this.WQ,this);this.N5.parent=this;
this.pt=new cX(!0);this.pt.P(_.E.w,this.WQ,this);this.pt.parent=this;this.cR=new l8([2,3]);this.cR.P(_.E.w,this.v4,this);
this.Cz=new l8([14,9]);this.Cz.P(_.E.w,this.v4,this);this.Mv=new l8([12,46]);this.Mv.P(_.E.w,this.v4,this);
this.BM=new eE(!0,!0);this.BM.P(_.E.w,this.v4,this);this.GG=new lt("...",null,null,!0);u.We(this.GG._,this.awP.bind(this));
this.Y6=new hm;var d=this.Y6._=u.q("div","floatcont form"),x=100;this.Y6.parent=this;this.BM.parent=this.Y6;
this.LM=new eh([12,41],1,20,"px",0,!0,!0);this.LM._.style.marginLeft="16px";this.LM.P(_.E.w,this.v4,this);
this.LM.parent=this.Y6;d.appendChild(this.$c._);d.appendChild(this.cR._);u.WJ(d);d.appendChild(this.N5._);
d.appendChild(this.Cz._);u.WJ(d);d.appendChild(this.LM._);d.appendChild(this.BM._);u.WJ(d);d.appendChild(this.pt._);
d.appendChild(this.Mv._);this.Xy=new lt("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.eJ=new lt("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.HH=new lt("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.TW=new lt("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.M2=new lt("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.PH=new lt("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.wd=new lt("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.Gk=new lt("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var v=[this.Xy,this.eJ,this.HH,this.TW,this.M2,this.PH,this.wd,this.Gk];for(var n=0;n<v.length;n++)v[n].P("click",this.afW,this);
var t="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.N_=[];for(var n=0;
n<8;n++){var h=new lt("<img src=\""+PIMG["lig/"+t[n]]+"\" class=\"autoscale gsicon\" />",!1,jM.auZ[n]);
h.P("click",this.afW,this);this.N_.push(h)}this.aeC=new lt("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.aL7=new lt("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.aHN=new lt("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.abl=new lt("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.avN=new lt("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a5C=new lt("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.az5=new lt("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.dX=[this.aeC,this.aL7,this.aHN,this.abl,this.avN,this.a5C,this.az5];for(var n=0;n<this.dX.length;
n++)this.dX[n].P("click",this.v4,this);var X=["lind","rind","flind","bind","aind"],g=[];for(var n=0;
n<5;n++)g.push("<img src=\""+PIMG["par/"+X[n]]+"\" class=\"autoscale gsicon\" /> ");this.J_=new eh(g[0],-x,x,"px");
this.UM=new eh(g[1],-x,x,"px");this.IR=new eh(g[2],-x,x,"px");this.pJ=new eh(g[3],-x,x,"px");this.P7=new eh(g[4],-x,x,"px");
this.qE=new a0([12,33],["Abc ...","... أي بي"]);this.i0=new eh(["Auto VAR0",[16,0]],0,500,"%");this.at=[this.J_,this.UM,this.IR,this.pJ,this.P7,this.qE,this.i0];
for(var n=0;n<this.at.length;n++){var Z=this.at[n];Z.P(_.E.w,this.v4,this);Z.parent=this}this.H2=new e8("Digits",["LTR Arabic - 123","RTL Arabic- 123","Hindi (١,٢,٣,٤,٥,٦...)","Farsi (۱,۲,۳,۴,۵,۶...)"]);
this.H2.P(_.E.w,this.v4,this);this.Vv=[];this.acV="";this.xb=u.q("div","labfxd")}cs.prototype=new hm;
cs.prototype.awP=function(d){if(u.al(this.Y6._))return;d.stopPropagation();var v=this.GG._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height+4};this.J(t)};cs.prototype.H=function(){this.W2.H();
this.yW.H();this.wx.H();this.VM.H();this.K6.H();this.vb.H();this.n5.H();this.cR.H();this.Cz.H();this.Mv.H();
this.LM.H();this.BM.H();for(var n=0;n<this.at.length;n++)this.at[n].H()};cs.prototype.a=function(d,v,t){if(v)this.amQ=v;
this.Jh=f.v(d);var h=this.Jh,X=h.Uy,g=h.eE;this.Xy.a(X.FauxBold!=null?X.FauxBold:!1);this.eJ.a(X.FauxItalic!=null?X.FauxItalic:!1);
this.HH.a(X.FontCaps==2);this.TW.a(X.FontCaps==1);this.M2.a(X.FontBaseline==1);this.PH.a(X.FontBaseline==2);
this.wd.a(X.Underline);this.Gk.a(X.Strikethrough);if(X._DigitSet!=null)this.H2.a(X._DigitSet);var x={};
if(X.Font!=null){var Z=h._G[X.Font],Y=v.wv(jM.Ps(Z));if(Y)x=Y.GSUB;if(x==null)x={};if(Y&&Y.fvar){var a=Y.fvar[0],z=Y.fvar[1],p=JSON.stringify(a);
if(p!=this.aNu){this.aNu=p;this.Vv=[];u.Pl(this.xb);for(var n=0;n<a.length;n++){var U=a[n],l=new bP(U[5],U[1],U[3]);
l.H();this.Vv.push(l);l.P(_.E.w,this.agC,this);this.xb.appendChild(l._)}}var L=Z.Axis;if(L)for(var n=0;
n<Math.min(L.length,this.Vv.length);n++)this.Vv[n].a(L[n]/65536)}else if(this.Vv.length!=0){this.Vv=[];
u.Pl(this.xb);this.aNu=""}}for(var n=0;n<8;n++){this.N_[n].$e(x[jM.aB9[n]]);this.N_[n].a(X[jM.N_[n]])}this.W2.a(X.Font==null?null:jM.Ps(h._G[X.Font]),v,t);
var j=X.FontSize==null?20:X.FontSize;this.yW.a(j);var O=X.Tracking;this.VM.a(O==null?0:O);this.LM.a(X.OutlineWidth!=null?X.OutlineWidth:1);
this.BM.a(kV.J1.aHr(X));this.wx.a(X.Leading!=null&&X.Leading!=0?X.Leading:j);this._2.a(X.AutoLeading);
this.vb.a((X.VerticalScale!=null?X.VerticalScale:0)*100);this.n5.a((X.HorizontalScale!=null?X.HorizontalScale:0)*100);
this.K6.a(X.BaselineShift!=null?X.BaselineShift:0);this.cR.a(X.FillFlag!=null?X.FillFlag:!1);this.Cz.a(X.StrokeFlag!=null?X.StrokeFlag:!1);
this.Mv.a(X._FillBackgroundFlag!=null?X._FillBackgroundFlag:!1);this.oi(X.FillColor,this.kA);this.oi(X.FillColor,this.$c);
this.oi(X.StrokeColor,this.N5);this.oi(X._FillBackgroundColor,this.pt);var F=g._Direction!=null?g._Direction:0,i=jM._s(g);
for(var n=0;n<this.dX.length;n++)this.dX[n].a(i==n);this.qE.a(F);this.i0.a((g.AutoLeading!=null?g.AutoLeading:1.2)*100);
this.J_.a(g.StartIndent!=null?g.StartIndent:0);this.UM.a(g.EndIndent!=null?g.EndIndent:0);this.IR.a(g.FirstLineIndent!=null?g.FirstLineIndent:0);
this.pJ.a(g.SpaceBefore!=null?g.SpaceBefore:0);this.P7.a(g.SpaceAfter!=null?g.SpaceAfter:0)};cs.prototype.oi=function(d,v){if(d){var t=jM.pq(d);
v.Wi(Math.round(t.C)<<16|Math.round(t.L)<<8|Math.round(t.X))}else v.Wi(0)};cs.prototype.cV=function(){var d=new eG(_.E.c,!0);
d.data={R:_.Y.Kf,Ic:lx.jO,Jh:this.Jh};this.J(d);var d=new eG(_.E.F,!0);d.T=A.uW;d.data={R:"updateStyles"};
this.J(d)};cs.prototype.afW=function(d){var v=this.Jh.Uy,t=d.target,h=!t.f2(),X=this.N_.indexOf(t);if(X!=-1){v[jM.N_[X]]=h}else{if(t==this.Xy)v.FauxBold=h;
if(t==this.eJ)v.FauxItalic=h;if(t==this.HH)v.FontCaps=h?2:0;if(t==this.TW)v.FontCaps=h?1:0;if(t==this.M2)v.FontBaseline=h?1:0;
if(t==this.PH)v.FontBaseline=h?2:0;if(t==this.wd)v.Underline=h;if(t==this.Gk)v.Strikethrough=h}this.cV()};
cs.prototype.v4=function(d){var v=this.Jh.Uy,t=this.Jh.eE,h=d.target;if(h==this.BM){kV.J1.aks(h.j(),v)}if(h==this.VM){var X=h.j();
v.Tracking=X}if(h==this.wx){v.AutoLeading=!1;v.Leading=h.j()}if(h==this._2){v.AutoLeading=h.j()}if(h==this.LM)v.OutlineWidth=h.j();
if(h==this.yW)v.FontSize=h.j();if(h==this.vb)v.VerticalScale=h.j()/100;if(h==this.n5)v.HorizontalScale=h.j()/100;
if(h==this.K6)v.BaselineShift=h.j();if(h==this.cR)v.FillFlag=h.j();if(h==this.Cz)v.StrokeFlag=h.j();
if(h==this.Mv)v._FillBackgroundFlag=h.j();if(h==this.H2)v._DigitSet=h.j();if(this.dX.indexOf(h)!=-1){t.Justification=jM._s(t,this.dX.indexOf(h))}if(h==this.J_)t.StartIndent=h.j();
if(h==this.UM)t.EndIndent=h.j();if(h==this.IR)t.FirstLineIndent=h.j();if(h==this.pJ)t.SpaceBefore=h.j();
if(h==this.P7)t.SpaceAfter=h.j();if(h==this.qE)t._Direction=h.j();if(h==this.i0)t.AutoLeading=h.j()/100;
this.cV()};cs.prototype.agC=function(d){var v=this.Jh,t=v._G[v.Uy.Font],h=t.Axis,X=jM.Ps(t),g=this.amQ.wv(X);
if(h)for(var n=0;n<Math.min(h.length,this.Vv.length);n++){var x=this.Vv[n].j();h[n]=Math.round(x*65536);
X+="_"+x.toFixed(3)+g.fvar[0][n][0]}t.Name=X;this.cV()};cs.prototype.ah0=function(d){var v=this.Jh;if(v.Uy.Font==null)v.Uy.Font=0;
var t=this.W2.j(),h=v._G[v.Uy.Font],X=this.amQ.wv(t);delete h.Axis;if(X&&X.fvar){var g=X.fvar,x=[];for(var n=0;
n<g[0].length;n++)x.push(g[0][n][2]);for(var n=0;n<g[1].length;n++)if(g[1][n][3]==t)x=g[1][n][2].slice(0);
for(var n=0;n<x.length;n++)x[n]=Math.round(x[n]*65536);h.Axis=x}h.Name=t;this.cV()};cs.prototype.WQ=function(d){var v=d.target,t=v.Lz(),h={Type:1,Values:[1,(t>>16&255)/255,(t>>8&255)/255,(t>>0&255)/255]};
for(var n=0;n<4;n++)h.Values[n]=Math.round(h.Values[n]*1e3)/1e3;var X=v==this.kA||v==this.$c?0:v==this.N5?1:2;
this.Jh.Uy[["FillColor","StrokeColor","_FillBackgroundColor"][X]]=h;this.cV()};function cA(){hm.call(this);
this._=u.q("span","fontinput");this._Z=null;this.xF=null;this.tX=null;this.Yg="";this.dQ={};this.an6=[];
this.aug={};this.ajj={};this.awC=!1;this.KK=u.q("button","fitem");u.i(this.KK,"width:9em;");this.KK.textContent="Family Name \u25BC";
this._.appendChild(this.KK);u.We(this.KK,this.a1$.bind(this));this.K1=new hm;this.K1.parent=this;var d=this.K1._=u.q("div","floatcont");
d.style.padding="7px 7px 3px 7px";var v=new i9("Recent");d.appendChild(v._);var t=this.alQ=new lt([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
t.P("click",this.aaD,this);t._.style.float="right";d.appendChild(t._);var h=this.afR=new l8("Local Fonts");
h.P(_.E.w,this.azY,this);h._.style.float="right";h._.style.marginRight="10px";h._.style.marginTop="3px";
d.appendChild(h._);u.WJ(d);this.hw=u.q("span","fitem imageset scrollable");this.hw.style.height="5.5em";
this.hw.style.width="100%";d.appendChild(this.hw);var X=u.q("div","form");this.K1._.appendChild(X);this.CC=new lt(u.U$("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.CC.P("click",this.a9Z,this);X.appendChild(this.CC._);this.ue=new eR([12,86],null,7.5);this.ue.P("input",this.tU,this);
X.appendChild(this.ue._);this.eF=new gQ(10,"\u2630");X.appendChild(this.eF._);this.eF.parent=this.K1;
this.eF.P(_.E.w,this.Ef,this);this.eF._.style.float="right";this.eF._.style.marginRight="0";this.fU=u.q("span","fitem imageset scrollable");
this.fU.style.height="30em";this.K1._.appendChild(this.fU);this.fU.addEventListener("scroll",this.a1Q.bind(this),!1);
this.yp=u.q("button","fitem");u.i(this.yp,"width:7em;");this.yp.textContent="SubFamily Name \u25BC";
this._.appendChild(this.yp);u.We(this.yp,this.a1$.bind(this));this.zQ=new hm;this.zQ.parent=this;this.zQ._=u.q("div","floatcont");
this.aaN=u.q("span","fitem imageset scrollable");this.zQ._.appendChild(this.aaN);this.atD=this.awB.bind(this);
this.aiD=this.aAd.bind(this);this.zS=this.a4Q.bind(this);this.asS=this.az2.bind(this);this.aHL=this.a9J.bind(this);
this.aHB=this.PK.bind(this)}cA.prototype=new hm;cA.c8=[];cA.prototype.azY=function(d){fy.nL.$e(d.target.j(),function(){this.a();
this.Ef()}.bind(this),function(){this.afR.a(!1)}.bind(this));this.Ef()};cA.prototype.a1Q=function(d){var v=this.fU.scrollTop,t=this.an6,h=Math.floor(v/27),X=Math.min(h+20,t.length);
for(var n=h;n<X;n++)this.a8H(t[n])};cA.prototype.aaD=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.mx};
this.J(d)};cA.prototype.H=function(){this.eF.H();this.alQ.H();this.afR.a(fy.nL.f2());this.CC.Ge(u.U$("tools/cshape",null,"autoscale"))};
cA.prototype.a9Z=function(d){this.CC.a(!this.CC.f2());this.Ef(null,null,!0)};cA.prototype.tU=function(d){this.Yg=this.ue.j().toLowerCase();
this.Ef()};cA.prototype.a1$=function(d){u.ns(d);this.mJ=null;var v=d.currentTarget,t=v.getBoundingClientRect(),h=v==this.KK,X=h?this.K1:this.zQ;
if(u.al(X._)){this.aB0(X);return}if(!h&&this.lp()==null)return;var g=new eG(_.E.c,!0);g.data={R:_.Y.Vw,UZ:X,x:t.left,y:t.top+t.height};
this.J(g);if(h){this.Ef(null,!0,!0)}};cA.prototype.lp=function(d){if(d==null)d=this.tX;return d==null?null:this._Z.KZ()[d]};
cA.prototype.a4Q=function(d){this.s5(this.nK,this.aFd,!0);this.awC=!0};cA.prototype.az2=function(d){this.aFd=null;
this.nK=d.currentTarget.firstChild.nextSibling.textContent;if(this.mJ==null)this.mJ=this.j();this.a3r=setTimeout(this.zS,250)};
cA.prototype.a9J=function(d){this.aFd=d.currentTarget.firstChild.textContent;this.nK=null;if(this.mJ==null)this.mJ=this.j();
this.a3r=setTimeout(this.zS,250)};cA.prototype.PK=function(d){this.av9=null;this.ah7=null;clearTimeout(this.a3r);
if(this.awC){this.awC=!1;this.a(this.mJ,this._Z);this.J(new eG(_.E.w,!1))}};cA.prototype.awB=function(d){var v=d.currentTarget.firstChild.nextSibling.textContent;
if(d.target.tagName.toLowerCase()=="button"){var t=this.xF.slice(0),h=t.indexOf(v);if(h==-1){t=t.slice(Math.max(0,t.length-99));
t.push(v)}else t.splice(h,1);var X=new eG(_.E.c,!0);X.data={R:_.Y.Kf,Ic:lx.Iw,VE:t};this.J(X);this.Ef()}else{this.PK(d);
this.s5(v,null)}};cA.prototype.aAd=function(d){this.PK(d);this.s5(null,d.currentTarget.firstChild.textContent)};
cA.prototype.s5=function(d,v,t){var h=d==null?this.zQ:this.K1,X=this._Z;if(d==null)d=this.lp()[0];else{var g=X.RJ(d),x=this.lp();
v=fy.UT(g,x?x[1]:"regular")}var Z=X.e6(d,v)[2];if(Z==this.tX)return;if(!t){var Y=cA.c8;for(var n=0;n<Y.length;
n++)if(Y[n][0][0]==d)Y.splice(n,1);Y.push([this.lp(Z),Date.now()]);Y.sort(function(a,z){return z[1]-a[1]});
Y=Y.slice(0,10)}this.a(Z,X);this.J(new eG(_.E.w,!1));if(t==null)this.aB0(h);this.Ef()};cA.prototype.aB0=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.l6,UZ:d};this.J(v)};cA.prototype.j=function(){return this.tX};cA.prototype.a=function(d,v,t){var h=this._Z;
if(d!=null)this.tX=d;else d=this.tX;if(v)this._Z=v;else v=this._Z;if(t)this.xF=t;else t=this.xF;if(d!=null){var X=this.lp(d),g,x;
if(X==null){g="- "+d;x="-------"}else{g=X[0];x=X[1];var Z=v.RJ(g);Z.sort(fy.aII);this.aaN.textContent="";
for(var n=0;n<Z.length;n++){var X=v.e6(g,Z[n]);if(!this.eF.tt(X))continue;var Y=this.p_(X,!1);this.aaN.appendChild(Y)}}this.KK.textContent=g.substring(0,15)+" \u25BC";
this.KK.setAttribute("title",g+", \""+d+"\"");this.yp.textContent=x.substring(0,10)+" \u25BC";this.yp.setAttribute("title",x)}};
cA.prototype.Ef=function(d,v,t){var h=this.lp(),X=this.xF,g=this._Z.Ox();this.an6=[];var x=this.afR.j();
for(var Z in g){var Y=X.indexOf(Z)!=-1,a=this._Z.RJ(Z),z=!1;for(var n=0;n<a.length;n++){var p=this._Z.e6(Z,a[n]),U=!0;
if(this.Yg.length>0&&p[0].toLowerCase().indexOf(this.Yg)==-1)U=!1;else if(!this.eF.tt(p))U=!1;else if(this.CC.f2()&&!Y)U=!1;
else if(p[5]=="--loc"&&!x)U=!1;if(U)z=!0}var l=this.dQ[Z];if(l==null){var L=fy.UT(g[Z],"regular"),j=this._Z.e6(Z,L),l=this.p_(j,!0);
this.dQ[Z]=l;this.fU.appendChild(l);this.aug[Z]="[true,false,false]"}if(z)this.an6.push(Z);var O=h!=null&&h[0]==Z;
this.ajj[Z]="["+z+","+O+","+Y+"]";if(!v)this.a8H(Z)}if(h&&t){var F=this.dQ[h[0]];this.fU.scrollTop=F.offsetTop-210}this.a1Q();
if(this.anE==null)this.anE=function(){u.Pl(this.hw);for(var n=1;n<cA.c8.length;n++){var p=cA.c8[n][0],l=this.p_(p,!0);
this.bn(l,p,!0);this.hw.appendChild(l)}}.bind(this);setTimeout(this.anE,200)};cA.prototype.a8H=function(d){var v=this.dQ[d];
if(v.firstChild==null){var t=this._Z.Ox(),h=fy.UT(t[d],"regular"),X=this._Z.e6(d,h);this.bn(v,X,!0)}var g=this.aug[d],x=this.ajj[d];
if(g==x)return;var Z=JSON.parse(g),Y=JSON.parse(x);if(Z[0]!=Y[0]||Z[1]!=Y[1]){var a=Y[0]?"":"display:none; ";
if(Y[1])a+="background-color:rgba(0,0,0,0.13);";u.i(v,a)}if(Z[2]!=Y[2])u.i(v.firstChild,"opacity: "+(Y[2]?"1":"0.2"));
this.aug[d]=x};cA.prototype.p_=function(d,v){var t=u.q("div","fontitem");if(!v)this.bn(t,d,v);return t};
cA.prototype.bn=function(d,v,t){var h=v[t?0:1],X=t?this.atD:this.aiD,g=t?this.asS:this.aHL,a="";d.addEventListener("click",X,!1);
d.addEventListener("mouseover",g);d.addEventListener("mouseout",this.aHB);if(t)d.appendChild(u.q("button","star"));
var x=u.q("span","label");x.setAttribute("title",h);x.textContent=h;d.appendChild(x);var Z=u.LY(),Y=1/Z,z=fy.jU*Y,p=fy.Sr*Y;
if(1<Z&&Z<1.5)a="width:"+z+"px; height:"+p+"px;";var U=u.q("span","thumb gsicon");if(v.iZ){a+="background: url("+v.iZ+");";
if(1<Z&&Z<1.5)a+="background-size: "+z+"px "+p+"px;"}else{var l=Math.ceil(FNTS.list.length/fy.cols),L=Math.floor(v.ja/fy.cols),j=v.ja-L*fy.cols,O=j*fy.jU,F=L*fy.Sr;
if(1<Z&&Z<1.5){a+="background-size: "+fy.cols*z+"px "+l*p+"px;";O*=Y;F*=Y}a+="background-position:-"+O+"px -"+F+"px;"}u.i(U,a);
d.appendChild(U)};function gQ(d,v){hm.call(this);this._=u.q("button","fitem bbtn");this._.addEventListener("click",this.Nu.bind(this),!1);
this.Y6=new hm;this.Y6._=u.q("div","floatcont");this.Y6.parent=this;this.Gv=u.q("div","flexrow");this.Y6._.appendChild(this.Gv);
this.ZI=v;this.St=[];this.TI=[];var t=this.Gv,h=u.q("div",""),X=u.q("div","");t.appendChild(h);t.appendChild(X);
this.Dl=[];for(var n=0;n<FNTS.cats.length;n++)this.Dl.push({name:FNTS.cats[n],index:n,Fk:0});this.CI=new l8([7,0]);
this.CI.a(!0);this.CI.P(_.E.w,this.av1,this);h.appendChild(this.CI._);this.aEw=u.q("div","vlist marged scrollable");
u.i(this.aEw,"width:10.3em; height:"+d+"em; ");h.appendChild(this.aEw);this.sn=[];for(var n=0;n<this.Dl.length;
n++){var g=this.Dl[n],x=new l8(g.name);this.sn.push(x);x.P(_.E.w,this.aLH,this);x.a(!0);this.aEw.appendChild(x._);
this.St.push(1)}this.awk=new l8([7,0]);this.awk.P(_.E.w,this.aaO,this);this.anX=u.q("div","vlist marged scrollable");
u.i(this.anX,"width:8.6em; height:"+(d+1.5)+"em; ");X.appendChild(this.anX);this.aF=[];for(var n=0;n<FNTS.subsetNames.length;
n++){var x=new l8(FNTS.subsetNames[n]);this.aF.push(x);x.P(_.E.w,this.a9A,this);x.a(!1);this.anX.appendChild(x._);
this.TI.push(x.j()?1:0)}}gQ.prototype=new hm;gQ.prototype.aul=function(d){var v=this.aF;for(var n=0;
n<v.length;n++){var t=(d>>>n&1)==1;this.TI[n]=t;v[n].a(t)}};gQ.prototype.a6q=function(){return this.Gv};
gQ.prototype.H=function(){this._.textContent=this.ZI?this.ZI:f7.get([25,1,0])+" \u25BC";this.CI.H();
this.awk.H()};gQ.prototype.Nu=function(d){var v=this._.getBoundingClientRect(),t=new eG(_.E.c,!0);t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height,SK:!0};
this.J(t)};gQ.prototype.tt=function(d){if(this.St[d[4]]==0)return!1;else for(var v=0;v<this.TI.length;
v++)if(this.TI[v]==1&&(d[3]>>>v&1)==0)return!1;return!0};gQ.prototype.av1=function(d){var v=d.target.j(),t=this.sn,h=this.St;
for(var n=0;n<t.length;n++){t[n].a(v);h[n]=v?1:0}this.J(new eG(_.E.w,!1))};gQ.prototype.aaO=function(d){var v=d.target.j(),t=this.aF,h=this.TI;
for(var n=0;n<t.length;n++){t[n].a(v);h[n]=v?1:0}this.J(new eG(_.E.w,!1))};gQ.prototype.aLH=function(d){var n=this.sn.indexOf(d.target),v=this.Dl[n].index;
this.St[v]=1-this.St[v];this.J(new eG(_.E.w,!1));this.asg(this.sn,this.CI)};gQ.prototype.a9A=function(d){var n=this.aF.indexOf(d.target);
this.TI[n]=1-this.TI[n];this.J(new eG(_.E.w,!1))};gQ.prototype.asg=function(d,v){var t=!0;for(var n=0;
n<d.length;n++)t=t&&d[n].j();v.a(t)};function kt(d,v,t){a6.call(this,v,!0,"gradientbutton",18*13,10*13,lx.t0);
this.Sw=-1;this.dL=-1;this.a12=null;this.aqi=d;this.Ti=t}kt.prototype=new a6;kt.prototype.e3=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.S8,cG:"gradienteditor",iF:this.vO,Zp:this.avs.bind(this),xx:this.Ti};this.J(v)};kt.prototype.avs=function(d){this.a(d);
this.J(new eG(_.E.w))};kt.prototype.D$=function(d,v){this.Sw=d;this.dL=v;this.pB()};kt.prototype.pB=function(){if(this.vO==null)return;
var d=JSON.stringify(this.vO)+","+this.Sw+","+this.dL;if(d==this.a12)return;this.a12=d;var v=Math.floor(80*u.LY()),t=Math.floor(16*u.LY()),h=A.qy.tp(this.vO,v,t,0,this.Sw,this.dL);
this.FM.setAttribute("src",h);u.WI(this.FM,v,t)};kt.prototype.j=function(){var d;if(this.aqi)d=A.qy.aLw(this.vO,this.Sw,this.dL);
else d=f.v(this.vO);return d};function dD(d){a6.call(this,d,!1,"swatchbutton",16*13,9.5*13,lx.ly)}dD.prototype=new a6;
function h_(d){a6.call(this,null,!0,"swatchbutton",16*13,8.75*13,lx.nj);this.aR=d}h_.prototype=new a6;
h_.prototype.nV=function(d){var v=this.mg,t=d.target.j();this.a(t==0?[]:v.S1[t-1][1],v);this.J(new eG(_.E.w))};
h_.prototype.e3=function(d){var v=this.vO;if(v==null||v.length==0)v=[0,0,0];ij.aab(v,this,this.nh.bind(this))};
h_.prototype.nh=function(d){var v=d;if(typeof d=="number"){v=f.le(d,1);v=[v.C,v.L,v.X]}this.a(v);this.J(new eG(_.E.w))};
h_.prototype.a=function(d,v){this.vO=d;this.pB(v)};h_.prototype.pB=function(d){var v=Math.floor(20*u.LY()),t=Math.floor(20*u.LY()),h=u.q("canvas"),X=h.getContext("2d");
h.width=v;h.height=t;ij.Lj(X,this.vO,d,v,t,0,0,this.aR==1);var g=X.canvas.toDataURL("png");this.FM.setAttribute("src",g);
u.WI(this.FM,v,t)};h_.prototype.oa=function(){if(!this.cX)return;var d=Math.floor(20*u.LY()),v=Math.floor(20*u.LY()),t=[],h=[],X=this.mg,g=X.S1,x=u.q("canvas"),Z=x.getContext("2d");
x.width=d;x.height=v;g=[["None",[]]].concat(g);for(var n=0;n<g.length;n++){h.push(g[n][0]);ij.Lj(Z,g[n][1],X,d,v,0,0);
var Y=Z.canvas.toDataURL("png");t.push(Y)}this.FB.lr(t,h,d,v);this.cX=!1};h_.prototype.j=function(){return f.v(this.vO)};
function dK(d,v,t){hm.call(this);this._=u.q(t?"div":"span");var h=this.GL=u.q("input");this.GL.setAttribute("type","file");
if(v)h.setAttribute("multiple","");this.GL.addEventListener("change",this.awx.bind(this),!1);this.aGy=this.tS.bind(this);
this.e2={};this.ayE=0;this.xL=d;var X=this.Qa=new lt(f7.get(d)+" (0)",null,null,!0);this._.appendChild(X._);
X.addEventListener("click",function(g){h.click()});if(t){this.sl=u.q("div","scrollable");u.i(this.sl,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.sl);this.iq()}}dK.prototype=new hm;dK.prototype.a=function(d){this.e2=d;this.iq()};
dK.prototype.j=function(d){return this.e2};dK.prototype.awx=function(d){var v=d.target.files;this.ayE=v.length;
this.e2={};for(var n=0;n<v.length;n++){var t=v[n],h=new FileReader;h.onload=this.aGy;h.fI=t.name;h.readAsArrayBuffer(t)}};
dK.prototype.tS=function(d){var v=this.e2[d.target.fI]=new Uint8Array(d.target.result);this.ayE--;if(this.ayE==0){this.iq();
this.J(new eG(_.E.w));this.GL.value=null}};dK.prototype.iq=function(){var d=this.e2;this.Qa.Ge(f7.get(this.xL)+" ("+Object.keys(d).length+")");
var v=this.sl;if(v==null)return;u.Pl(v);var t=[];for(var h in d)t.push(h);t.sort();for(var n=0;n<t.length;
n++){var X=u.q("div");X.textContent=t[n];v.appendChild(X)}};function aE(d,v,t,h,X){if(d==null)d=!1;if(v==null)v=!1;
if(t==null)t=!1;hm.call(this);this.sw=new cK;this.ZE=new cK;this.azR=72;this.pX=72;this.af0=h;this.MO=!0;
this.rN=!1;this._=u.q("span");this.G5=new eh([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.G5._);
this.G5.P(_.E.w,this.wj,this);var g=["px","%"];if(d)g=g.concat(["cm","mm","in"]);if(X){g=[[12,76,2],[12,76,6]];
if(d)g=g.concat([[12,76,4],[12,76,5],[12,76,3]])}this.GF=new e8(null,g);this._.appendChild(this.GF._);
u.WJ(this._);this.GF.P(_.E.w,this.wj,this);this.Q2=new eh([12,42],0,0,null,0,!1,!0,4);this._.appendChild(this.Q2._);
this.Q2.P(_.E.w,this.wj,this);this.A9=new lt("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.A9.P("click",this.wj,this);this.Gu=new i9("");this.Gu._.style.margin="0";this.Gu._.style.padding="0";
if(v){this._.appendChild(this.A9._);this._.appendChild(this.Gu._);this.A9.sW()}else{var x=this.axi=new lt("\u21C6",!1,null,!0);
x.P("click",this.eL,this);this._.appendChild(x._)}this.Rs=new eh("DPI",0,0,null,3,!1,!0,4);this.XY=new e8(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(d&&!h){u.WJ(this._);this._.appendChild(this.Rs._);this._.appendChild(this.XY._)}this.XY.P(_.E.w,this.wj,this);
this.Rs.P(_.E.w,this.wj,this);this.cz=new l8([12,23,1]);this.cz.P(_.E.w,this.wj,this);if(t){u.WJ(this._);
this._.appendChild(this.cz._)}u.WJ(this._)}aE.prototype=new hm;aE.prototype.K$=function(d,v){this.G5.JC.style.width=this.Q2.JC.style.width=(d-78-this.A9.KM())/2+"px"};
aE.prototype.Sx=function(){var d=this.af0;this.G5.Sx();this.Q2.Sx();this.GF.Sx();var v=this._;u.Pl(v);
this.GF._.style.marginRight="0";v.appendChild(this.G5._);if(this.axi)v.appendChild(this.axi._);else v.appendChild(this.A9._);
v.appendChild(this.Q2._);v.appendChild(this.GF._);this.Rs.Sx();this.XY.Sx();if(!d){u.WJ(v);v.appendChild(this.Rs._);
v.appendChild(this.XY._)}};aE.prototype.vn=function(){this.G5.vn()};aE.prototype.asf=function(d,v){this.MO=d;
if(v!=null)this.rN=v;if(!this.MO&&!this.rN&&this.GF.j()==0){this.GF.a(4);this.Bd()}};aE.prototype.azz=function(d){this.A9.a(d)};
aE.prototype.H=function(){this.G5.H();this.Q2.H();this.Rs.H();this.XY.H();this.A9.H();this.cz.H();this.GF.H()};
aE.prototype.eL=function(d){var v=this.ZE.x;this.ZE.x=this.ZE.y;this.ZE.y=v;this.Bd();this.J(new eG(_.E.w,!1))};
aE.prototype.wj=function(d){if(d.target==this.GF&&!this.MO&&!this.rN&&this.GF.j()==0)this.GF.a(4);if(d.target==this.GF||d.target==this.cz){this.Bd();
return}if(d.target==this.A9)d.target.a(!d.target.j());if(d.target==this.XY)window.locStor.setItem("dpiUnit",this.XY.j());
var v=this.sw,t=parseFloat(this.G5.j());if(isNaN(t))t=1;var h=parseFloat(this.Q2.j());if(isNaN(h))h=1;
var X=this.Rs.j()*[1,2.54][this.XY.j()],g=this.GF.j();if(this.MO){var x=this.pX;if(g==1){t=this.sw.x*(t/100);
h=this.sw.y*(h/100)}var Z=[1,1,2.54/x,25.4/x,1/x][g];t/=Z;h/=Z;if(this.cz.j()){t+=this.sw.x;h+=this.sw.y}if(d.target==this.Rs){var Y=X;
if(!this.rN){var a=Y/x;t*=a;h*=a}x=Y}if(this.A9.j()){if(d.target==this.G5)h=t*(v.y/v.x);else t=h*(v.x/v.y)}t=Math.max(Math.abs(t),1);
h=Math.max(Math.abs(h),1)}else{var x=this.azR;if(d.target==this.Rs)x=X;else{if(this.A9.j()){if(d.target==this.G5)h=t*(v.y/v.x);
else t=h*(v.x/v.y)}var Z=[1,1,2.54/x,25.4/x,1/x][g],z=t/(g==1?100:v.x*Z);x=x/z}t=v.x;h=v.y}this.ZE=new cK(Math.round(t),Math.round(h));
this.pX=x;this.Bd();this.J(new eG(_.E.w,!1))};aE.prototype.xv=function(n){this.GF.a(n);this.Bd()};aE.prototype.a3P=function(){return this.GF.j()};
aE.prototype.a=function(d,v,t){var h=window.locStor.getItem("dpiUnit");if(h!=null)this.XY.a(h);if(t!=!0)this.sw=d.b();
this.ZE=d.b();if(v!=null){this.azR=v;this.pX=v}this.Bd()};aE.prototype.Bd=function(){var d=this.ZE.x,v=this.ZE.y,t=this.pX,h=(d/v).toFixed(3);
while(h.charAt(h.length-1)=="0")h=h.substring(0,h.length-1);if(h.charAt(h.length-1)==".")h=h.substring(0,h.length-1);
var X="  "+h+" : 1",g=function(z,p){while(p!=0){var U=p;p=z%p;z=U}return z},x=g(d,v);if(Math.min(d,v)/x<10)X="  "+Math.round(d/x)+" : "+Math.round(v/x);
this.Gu.a(X);if(this.cz.j()){d-=this.sw.x;v-=this.sw.y}var Z=this.GF.j();if(Z==1){if(this.MO){d=100*d/this.sw.x;
v=100*v/this.sw.y}else{d=v=100*this.azR/this.pX}}else{d=Math.round(d);v=Math.round(v)}var Y=[1,1,2.54/t,25.4/t,1/t][Z];
d*=Y;v*=Y;var a=Z==1||Z==2||Z==4?2:0;this.G5.uN(a);this.Q2.uN(a);this.G5.a(d);this.Q2.a(v);this.Rs.a(t*[1,1/2.54][this.XY.j()])};
aE.prototype.j=function(){return this.ZE.b()};aE.prototype.W8=function(){return this.pX};function fN(d,v,t){hm.call(this);
var h=d==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.It=d;this.alc=v;this.aLc=1;this.aDA=[1,1,0];
var X=this._=u.q("div","numlist"),g=u.q("div","flexrow");X.appendChild(g);var x=u.q("div"),Z=u.q("div");
g.appendChild(x);g.appendChild(Z);u.i(x,"width:100px");u.i(Z,"width:100px");var Y=this.mq=[];for(var n=0;
n<4;n++){var a=new eh(h[n],0,0,null,2,!1,!0,4,null,t&&n<2);a.P(_.E.w,this.wj,this);(n<2?x:Z).appendChild(a._);
Y[n]=a}Y[4]=new l8(d==0?[12,51]:[12,91,2]);Y[4].a(!0);X.appendChild(Y[4]._)}fN.prototype=new hm;fN.prototype.H=function(){var d=this.mq;
for(var n=0;n<5;n++)d[n].H();if(this.It==0)u.Tw(d[0],d[1])};fN.prototype.a=function(d,v){if(v)this.aDA=v;
v=this.aDA;var t=this.It==0?[d[2],d[3],d[0],d[1]]:[d[0],d[3],d[1],d[2]];this.aLc=d[2]/d[3];for(var n=0;
n<4;n++){var h=this.mq[n];h.uN(v[2]==0&&this.alc?0:2);h.a(f.rd.MA(t[n],v[0],v[1],v[2]))}};fN.prototype.j=function(){var d=[],v=this.aDA;
for(var n=0;n<4;n++){var t=f.rd.LJ(this.mq[n].j(),v[0],v[1],v[2]);d[n]=this.alc?Math.round(t):t}var h=this.It==0?[d[2],d[3],d[0],d[1]]:[d[0],d[2],d[3],d[1]];
return h};fN.prototype.wj=function(d){var v=this.It,t=this.mq.indexOf(d.currentTarget),h=this.j(),X=this.mq[4].j();
if(v==0){h[2]=Math.max(1,h[2]);h[3]=Math.max(1,h[3]);if(X&&t==0)h[3]=h[2]/this.aLc;if(X&&t==1)h[2]=h[3]*this.aLc}if(v==1){h[t]=Math.max(0,h[t]);
if(X)for(var n=0;n<4;n++)h[n]=h[t]}this.a(h,null);this.J(new eG(_.E.w,!1))};function ln(d){hm.call(this);
this.aCT=0;this.Sg=[0,0,1,1,100,100];this.oO=[10,5,1,1,4,3,3,2,16,9];this.auj=0;this.aLY=72;this.azp=d;
this._=u.q("span","fitem");this.fR=new e8(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.fR._);this.fR.P(_.E.w,this.wj,this);this.G5=new eh("W",0,0,null,2,!1,!0);this._.appendChild(this.G5._);
this.G5.P(_.E.w,this.wj,this);var v=this.BM=new lt("\u21C4",!1,null,!0);v.P("click",this.eL,this);this._.appendChild(v._);
this.Q2=new eh("H",0,0,null,2,!1,!0);this._.appendChild(this.Q2._);this.Q2.P(_.E.w,this.wj,this);this.Rs=new eh("New DPI",0,0,null,3,!1,!0,4);
this.Rs.P(_.E.w,this.wj,this);this.a({o:0,x:0,y:0})}ln.prototype=new hm;ln.prototype.wO=function(d){this.oO[0]=d[0];
this.oO[1]=d[1];var v=this.j();this.aLY=d[2];this.auj=d[3];this.a(v)};ln.prototype.H=function(){u.Tw(this.G5,this.Q2);
this.Rs.H();this.fR.H()};ln.prototype.eL=function(d){var v=this.Q2.j();this.Q2.a(this.G5.j());this.G5.a(v);
this.wj(d)};ln.prototype.wj=function(d){if(d.target==this.fR){var n=this.fR.j(),v=this.Sg,t=this.Rs._;
if(n==2&&t.parentNode==null&&this.azp)this._.appendChild(t);if(n!=2&&t.parentNode!=null)this._.removeChild(t);
if(n>2){n-=3;var h=this.oO[2*n],X=this.oO[2*n+1];v[2]=h;v[3]=X;this.G5.a(h);this.Q2.a(X);this.fR.a(1)}var g=this.j();
v[this.aCT*2]=g.x;v[this.aCT*2+1]=g.y;this.aCT=g.o;this.a({o:g.o,x:v[g.o*2],y:v[g.o*2+1]})}if(this.G5.j()<1)this.G5.a(1);
if(this.Q2.j()<1)this.Q2.a(1);this.J(new eG(_.E.w,!1))};ln.prototype.a=function(d){this.fR.a(d.o);var v=d.x,t=d.y;
if(d.o==2){var h=this.auj,X=this.aLY,g=this.oO;v=f.rd.MA(d.x,X,g[0],h);t=f.rd.MA(d.y,X,g[1],h)}this.G5.a(v);
this.Q2.a(t);if(d.o==0){this.G5.$A();this.Q2.$A();this.BM.$A()}else{this.G5.Wu();this.Q2.Wu();this.BM.Wu()}};
ln.prototype.j=function(){var d=this.G5.j(),v=this.Q2.j(),t=this.fR.j();if(t==2){var h=this.auj,X=this.aLY,g=this.oO;
d=f.rd.LJ(d,X,g[0],h);v=f.rd.LJ(v,X,g[1],h);d=Math.round(d);v=Math.round(v)}var x={o:t,x:d,y:v},Z=this.Rs.j();
if(this.azp&&Z!=0)x.u3=Z;return x};function lm(d){hm.call(this);this._=u.q("span","");this.aGt=d;var v=d?100:300;
this.ba=new bP("Off X",-v,v,d?"%":"px",0,!d);this.XA=new bP("Off Y",-v,v,d?"%":"px",0,!d);this.ba.P(_.E.w,this.wj,this);
this.XA.P(_.E.w,this.wj,this);this._.appendChild(this.ba._);this._.appendChild(this.XA._)}lm.prototype=new hm;
lm.prototype.H=function(){this.ba.H();this.XA.H()};lm.prototype.wj=function(d){this.J(new eG(_.E.w,!1))};
lm.prototype.ays=function(d){this.ba.a(d.x);this.XA.a(d.y)};lm.prototype.agN=function(){return new cK(this.ba.j(),this.XA.j())};
lm.prototype.a=function(d,v){var t=d.Hrzn.v,h=d.Vrtc.v;if(this.aGt){t=t.val;h=h.val}this.ba.a(t);this.XA.a(h);
if(v==!0)this.wj()};lm.prototype.j=function(){var d=this.ba.j(),v=this.XA.j();if(this.aGt)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:d}},Vrtc:{t:"UntF",v:{type:"#Prc",val:v}}};
else return{classID:"Pnt",Hrzn:{v:d,t:"doub"},Vrtc:{v:v,t:"doub"}}};function eE(d,v){hm.call(this);this._=u.q("button");
this.qb=[{O8:3,gn:[]},{O8:3,gn:[12,6],ln:0},{O8:3,gn:[0,6],ln:1,yQ:1}];this.j3=kV.J1.yu();this.aB_=d;
this.eF=v;this._.addEventListener("click",this.Nu.bind(this),!1);var t=u.q("canvas","gsicon");this.fy=t.getContext("2d");
this._.appendChild(t);var h=u.q("span");h.textContent=" \u25BC";this._.appendChild(h);this.Y6=new hm;
this.Y6.parent=this;this.Y6._=u.q("div","floatcont form label6");var X=this.Y6._;u.i(X,"width: 15em;");
this.dQ=[v?new l8("Fill First"):new e8([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new a0([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new a0([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new eh("Limit",1,50,null,null,null,!0,2.5),new eR([19,9,2])];
for(var n=0;n<this.dQ.length;n++){var g=this.dQ[n];if(j8==0||n!=0||!v)X.appendChild(g._);g.P(_.E.w,this.wj,this)}u.WJ(X);
this.EQ=[];var x=this.gh.bind(this);for(var n=0;n<this.qb.length;n++){var Z=u.q("button","fitem");this.EQ.push(Z);
X.appendChild(Z);Z.addEventListener("click",x,!1);var t=u.q("canvas","gsicon"),Y=t.getContext("2d");
Z.appendChild(t);this.aHd(Y,40,20,this.qb[n])}}eE.prototype=new hm;eE.prototype.Nu=function(d){var v=this._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height+4,SK:!0};this.J(t)};eE.prototype.wj=function(d){var v=this.dQ,t=v.indexOf(d.target),h=v[t].j(),X=this.j3;
if(t==0)X.Q0=this.eF?h?1:0:h;if(t==1)X.ln=h;if(t==2)X.yQ=h;if(t==3)X.Ek=h;if(t==4){var g=X.gn=h==""?[]:h.split(" ").map(parseFloat);
if(!this.aB_)for(var n=0;n<g.length;n++)g[n]*=X.O8}this.J(new eG(_.E.w,!1))};eE.prototype.gh=function(d){var v=this.EQ.indexOf(d.currentTarget),t=this.qb[v],h=this.j3;
if(t.ln!=null)h.ln=t.ln;if(t.yQ!=null)h.yQ=t.yQ;h.gn=t.gn.slice(0);if(h.O8==null)h.O8=3;for(var n=0;
n<h.gn.length;n++)h.gn[n]*=h.O8/t.O8;this.J(new eG(_.E.w,!1))};eE.prototype.H=function(){for(var n=0;
n<this.dQ.length;n++)this.dQ[n].H()};eE.prototype.a=function(d){this.j3=f.v(d);var v=this.dQ;if(d.Q0!=null)v[0].a(this.eF?d.Q0==1:d.Q0);
if(d.ln!=null)v[1].a(d.ln);if(d.yQ!=null)v[2].a(d.yQ);if(d.Ek!=null)v[3].a(d.Ek);v[3].$e(d.yQ==0);if(d.gn!=null){var t=d.gn.slice(0);
if(!this.aB_)for(var n=0;n<t.length;n++)t[n]/=d.O8;v[4].a(t.join(" "))}this.aHd(this.fy,40,16,d)};eE.prototype.j=function(){return f.v(this.j3)};
eE.prototype.aHd=function(d,v,t,h){u.Zw(d.canvas,v,t);var X=h.gn?h.gn:[],g=h.O8;if(g==null)g=3;else{g=Math.min(5,g);
X=X.slice(0);for(var n=0;n<X.length;n++)X[n]*=g/h.O8}d.clearRect(0,0,v,t);d.setLineDash(X);d.lineCap=["butt","round","square"][h.ln];
d.lineJoin=["miter","round","bevel"][h.yQ];d.lineWidth=g;d.beginPath();d.moveTo(0,t/2);d.lineTo(v*2,t/2);
d.stroke()};function fQ(d){a6.call(this,d,!1,"contourbutton",34*13,16*13,lx.C4,!0);this.ue=new eR([12,86],null,16);
this.ue.P("input",this.tU,this);this.Y6._.appendChild(this.ue._);this.amZ=null;this.Yg="";this.WR=null;
this.a(g4.yu())}fQ.prototype=new a6;fQ.prototype.H=function(){a6.prototype.H.call(this);this.ue.H()};
fQ.prototype.nV=function(d){this.a(this.amZ[d.target.j()[0]]);this.J(new eG(_.E.w))};fQ.prototype.tU=function(d){this.Yg=this.ue.j().toLowerCase();
this.apT()};fQ.a2X=!1;fQ.prototype.oa=function(){if(!this.cX)return;var d=this.mg;if(d==null||!fQ.a2X){var v=new eG(_.E.c,!0);
v.data={R:_.Y.PE,Ic:{url:"rsrc/basic/fa.zip"}};this.J(v);fQ.a2X=!0}else{var t=Date.now(),h=Math.floor(38*u.LY()),X=Math.floor(38*u.LY());
this.WR=[];for(var n=0;n<d.length;n++){if(d[n].aKe==null)d[n].aKe=fQ.a6s(d[n],h,X);this.WR.push(d[n].aKe)}this.apT();
this.cX=!1}};fQ.prototype.apT=function(){var d=Math.floor(38*u.LY()),v=Math.floor(38*u.LY());this.amZ=[];
var t=[],h=[],X=this.mg;for(var n=0;n<X.length;n++){if(X[n].ar.toLowerCase().indexOf(this.Yg)==-1)continue;
this.amZ.push(X[n]);t.push(this.WR[n]);h.push(X[n].ar)}this.FB.lr(t,h,d,v)};fQ.prototype.a=function(d){this.vO=fQ.b(d);
this.pB()};fQ.prototype.pB=function(){var d=Math.floor(23*u.LY()),v=Math.floor(23*u.LY()),t=fQ.a6s(this.vO,d,v);
this.FM.setAttribute("src",t);u.WI(this.FM,d,v)};fQ.prototype.j=function(){return fQ.b(this.vO)};fQ.b=function(d){return{ar:d.ar,Me:d.Me,D:jn.rz.Pf(d.D),l7:d.l7.b()}};
fQ.$D=null;fQ.fy=null;fQ.a6s=function(d,v,t){var h=d.l7,X=Math.min(v/h.r,t/h.$)*.9,g=new gi;g.translate(-.5,-.5);
g.scale(.95,.95);g.translate(.5,.5);g.scale(X*h.r,X*h.$);g.translate((v-X*h.r)/2,(t-X*h.$)/2);var x=f.km(v,t);
x.save();x.fillStyle="black";x.clearRect(0,0,v,t);x.setTransform(g.aX,g.X,g.Wp,g.r7,g.r2,g.pE);f.t.TB(d.D,x,0,0);
x.restore();var Z=UPNG.encode([x.getImageData(0,0,v,t).data.buffer],v,t,0);return"data:image/png;base64,"+b3.cq(Z)};
function iG(d){a6.call(this,d,!1,"ICCButton",16*13,12*13,lx.Iv,!0);this.FB.Fj(1)}iG.prototype=new a6;
iG.prototype.o4=function(){var d="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var n=0;n<d.length;n++)d[n]="luts/"+d[n]+".CUBE";return d};iG.prototype.nV=function(d){this.a(this.mg[d.target.j()]);
this.J(new eG(_.E.w))};iG.prototype.oa=function(){if(!this.cX)return;var d=Math.floor(1*u.LY()),v=Math.floor(1*u.LY()),t=[],h=[],X=this.mg;
for(var n=0;n<X.length;n++){var g=X[n].Nm.v.split("\\").pop().split("/").pop();h.push(g);t.push(iG.tp(X[n],d,v))}this.FB.lr(t,h,d,v);
this.cX=!1};iG.tp=function(d,v,t){var h=u.q("canvas"),x="ICC / 3DL / look / cube";h.width=v;h.height=t;
var X=h.getContext("2d"),g=Math.floor(14*u.LY());X.font=g+"px sans-serif";if(d.Nm)x=d.Nm.v.split("\\").pop().split("/").pop();
X.fillText(x,10,g);return h.toDataURL()};iG.prototype.pB=function(){var d=Math.floor(120*u.LY()),v=Math.floor(20*u.LY());
this.FM.setAttribute("src",iG.tp(this.vO,d,v));u.WI(this.FM,d,v)};function cJ(){hm.call(this);this.uU=null;
this._=u.q("span","fitem");this.pL=new lw([14,9]);this.ats=new eh(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.la=new eE;this.ev=[this.pL,this.ats,this.la];for(var n=0;n<this.ev.length;n++){var d=this.ev[n];
this._.appendChild(d._);d.parent=this;d.P(_.E.w,this.wj,this)}}cJ.prototype=new hm;cJ.prototype.H=function(){for(var n=0;
n<this.ev.length;n++)this.ev[n].H()};cJ.prototype.sq=function(d,v){this.pL.sq(d,v)};cJ.prototype.wj=function(d){var v=this.uU,t=this.pL.j();
kV.hd(v,t);v.strokeStyleLineWidth.v.val=this.ats.j();if(d.target==this.la)kV.UY.write(v,this.la.j());
this.uU=v;this.J(new eG(_.E.w,!1))};cJ.prototype.a=function(d,v,t){this.uU=f.v(v);var h=kV.Wy(v);this.pL.a(d,h,t);
this.ats.a(v.strokeStyleLineWidth.v.val);this.la.a(kV.UY.ck(v))};cJ.prototype.j=function(){return f.v(this.uU)};
function h5(d){var v=[[18,0],[18,1],[18,2],[18,3]],t=a0.VG(["set/front","set/union","set/difference","set/intersection"]);
a0.call(this,d?[12,36]:null,t,v)}h5.prototype=new a0;function dd(){hm.call(this);this._=u.q("button","fitem bbtn");
u.We(this._,this.BC.bind(this));this.Y6=new hm;this.Y6._=u.q("div","floatcont form");u.i(this.Y6._,"max-width: 200px;");
this.Y6.parent=this;var d=fb;this.Ut=[new l8("Start"),new l8("End"),new d([12,41],0,100,"px",null,!0,null,!0),new d([12,80,0],0,100,"px",null,!0,null,!0),new d("Concavity",-50,50,"%",null,null,null,!0)];
for(var n=0;n<this.Ut.length;n++){var v=this.Ut[n];v.parent=this;v.P(_.E.w,this.nh,this);this.Y6._.appendChild(v._)}this.aea=u.q("div");
this.Y6._.appendChild(this.aea)}dd.prototype=new hm;dd.prototype.a=function(d){for(var n=0;n<5;n++)this.Ut[n].a(d[n]);
this.iq()};dd.prototype.j=function(d){var v=[];for(var n=0;n<5;n++)v[n]=this.Ut[n].j();return v};dd.prototype.H=function(){this._.textContent=f7.get([12,93,4]);
for(var n=0;n<this.Ut.length;n++)this.Ut[n].H()};dd.prototype.nh=function(d){this.J(new eG(_.E.w,!1));
this.iq()};dd.prototype.iq=function(d){var v=this.j(),t=200,h=60;v[2]/=u.LY();v[3]/=u.LY();var X=f.t.I7.rv(0,h/2,t,h/2,5,v),g=f.t.lB(X);
this.aea.innerHTML="<svg width=\""+t+"\" height=\""+h+"\" class=\"gsicon\">\t\t\t<path d=\""+g.c2+"\" />\t\t\t</svg>"};
dd.prototype.BC=function(d){if(u.al(this.Y6._))return;d.stopPropagation();var v=this._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height,SK:!0};this.J(t)};function b9(){hm.call(this);
this._=u.q("div");this.mq=[];this.aE9=[];var d=this.sU=u.q("div"),v=u.q("h2");v.textContent="Create Teams";
d.appendChild(v);v.style.margin="26px 0 16px 0";var t=new lt("More about Teams",!1,null,!0);v.appendChild(t._);
t._.style.float="right";t.P("click",this.a8V,this);this.Fa=u.q("div");d.appendChild(this.Fa);this.ao0=new eR("Team Name",null,10);
d.appendChild(this.ao0._);var h=this.aqZ=new lt("Create Team",null,null,!0);d.appendChild(h._);h.P("click",this.aME,this);
var v=u.q("h2");v.textContent="Join Teams";d.appendChild(v);v.style.margin="26px 0 16px 0";this.pb=u.q("div");
d.appendChild(this.pb);this.agR=new eR("Team ID",null,10);d.appendChild(this.agR._);var h=new lt("Join Team",null,null,!0);
d.appendChild(h._);h.P("click",this.aME,this);this.aK$;this.ajS=this.dn.bind(this);this.a23=this.ajU.bind(this);
this.uH=!1;this.Ay();this.Qq=null;this.aMe=""}b9.prototype=new hm;b9.prototype.a8V=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.t7,link:"https://www.photopea.com/api/accounts#teams"};this.J(v)};b9.prototype.Ay=function(){clearTimeout(this.aN1);
this.aN1=setTimeout(this.a23,this.Qq?10:3e3)};b9.prototype.ajU=function(){var d=iP.qP();if(document.hidden||!u.al(this._)||d==null){this.Ay();
return}var v=iP.Yp();if(this.Qq==null&&v==null)return;iP.E6(this.Qq?this.Qq:v,this.ajS);this.uH=!0;this.Qq=null};
b9.prototype.alu=function(d){d.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.uH)this.Qq=d;else{clearTimeout(this.aN1);iP.E6(d,this.ajS)}};b9.prototype.Vc=function(d){var v=typeof d=="string"?this.aK$:this.mq.indexOf(d.target),t=this.aE9[v],h=t[0],X=iP.Yp();
if(X==null)X={};var g=X.acc,x=g.tjoin,Z=g.tstart;if(h=="leave"){x.splice(x.indexOf(t[1]),1)}if(h=="add"||h=="remove"||h=="delTeam"||h=="showRename"||h=="rename"){var Y=-1,a=0;
for(var n=0;n<Z.length;n++){a+=Z[n][1].length;if(Z[n][2]==t[1])Y=n}var z=Z[Y];if(h=="add"){var p=iP.yU();
if(p&&p[0]==0&&p[1][2]<=a){alert("You can have at most "+p[1][2]+" members in your Premium.");return}z[1].push(t[2])}if(h=="remove")z[1].splice(z[1].indexOf(t[2]),1);
if(h=="delTeam"){if(z[1].length!=0){alert("Remove members first.");return}Z.splice(Y,1)}if(h=="showRename"){var U=new eG(_.E.c,!0);
U.data={R:_.Y.S8,cG:"namewindow",Mo:z[0],No:this.Vc.bind(this)};this.J(U);this.aK$=v;t[0]="rename";return}if(h=="rename")z[0]=d}this.alu(X)};
b9.prototype.aME=function(d){var v=this.aqZ==d.target,t=(v?this.ao0:this.agR).j().trim();if(t==""){alert("The Team "+(v?"Name":"ID")+" is empty.");
return}if(!v){t=parseInt(t);if(isNaN(t)){alert("The ID must be a number");return}}var h=iP.Yp();if(h==null)h={};
var X=h.acc;if(X==null)X=h.acc={};var g=X.tstart,x=X.tjoin;if(v){if(g==null)g=X.tstart=[];if(g.length>5){alert("You can have at most 5 teams");
return}g.push([t,[]])}else{if(g)for(var n=0;n<g.length;n++)if(g[n][2]==t){alert("You are the owner of this team");
return}if(x==null)x=X.tjoin=[];if(x.indexOf(t)!=-1){alert("You already asked to join this team.");return}X.tjoin.push(t)}X.update=!0;
this.alu(h)};b9.prototype.dn=function(){this.uH=!1;var d=iP.qP(),v=d!=null,t=this.sU.parentNode!=null;
if(v!=t){u.Pl(this._);if(v)this._.appendChild(this.sU);else this._.textContent="Log In to access Team Settings."}if(!v)return;
var h=iP.Yp();if(h==null)h={};var X=h.acc;if(X==null)X={};var g=JSON.stringify(X)+"===="+JSON.stringify(d);
if(g!=this.aMe){this.aMe=g;var x=this.Fa,Z=this.pb;u.Pl(x);u.Pl(Z);var Y=this.mq=[],a=this.aE9=[],z=this.Vc.bind(this);
function p(T,D){T.addEventListener("click",z);Y.push(T);a.push(D)}function U(H,T){var W=u.q("div"),D="rgba(255,255,255,0.15)";
W.appendChild(L("ID: "+H[2],54,D));W.appendChild(L(H[0],160,null,!0));if(T){W.appendChild(L(H[1].length+" members",80,null,!0))}else{W.appendChild(L(H[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<H[1]*1e3)W.appendChild(L("Premium",80,"rgba(0,140,0,1)"))}var N=L("",120);W.appendChild(N);
u.i(N,"float:right;text-align:right");if(T){var G=new lt("Rename",null,null,!0);p(G,["showRename",H[2]]);
N.appendChild(G._)}var G=new lt(T?"Delete":"Leave",null,null,!0);p(G,[T?"delTeam":"leave",H[2]]);N.appendChild(G._);
return W}function l(T,D,K){var W=u.q("div");W.style.paddingLeft="46px";W.appendChild(L(D?"\u2713":"...",8,D?"#229922":"#aa7700"));
W.appendChild(L(T[1],200));W.appendChild(L(T[2],240));var N=L("",120);W.appendChild(N);u.i(N,"float:right;text-align:right");
var G=new lt(D?"Remove":"Add",null,null,!0);p(G,[D?"remove":"add",K,T[0]]);N.appendChild(G._);return W}function L(T,D,N,G){var s=u.q("span");
s.textContent=T;u.i(s,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+D+"px;  "+(N!=null?"background-color:"+N+";":"")+(G?"font-weight:bold;":""));
return s}var j=X.tstart,O=X.tjoin,F=d.wantToJoin,i=d.inTeams;if(j)for(var $=0;$<j.length;$++){var H=j[$],b=F["t"+H[2]];
if(b==null)b=[];var r={};for(var n=0;n<b.length;n++)r["u"+b[n][0]]=b[n];var W=U(H,!0);x.appendChild(W);
W.style.marginTop="10px";for(var n=0;n<H[1].length;n++){var V=H[1][n],y=r["u"+V];if(y==null)y=[V,"========","... user has left your team"];
delete r["u"+V];var c=l(y,!0,H[2]);x.appendChild(c)}for(var S in r){var y=r[S],c=l(y,!1,H[2]);x.appendChild(c)}}if(O){var C={};
for(var n=0;n<i.length;n++)C["t"+i[n][2]]=i[n];for(var $=0;$<O.length;$++){var K=O[$],H=C["t"+K],W=U(H?H:["==========",-1,K],!1);
Z.appendChild(W)}}this.J(new eG(_.E.w))}if(this.Qq==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.Ay()};
function e2(){hm.call(this);this._=u.q("span","fitem SymButton");var d=this.Qa=new lt("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(d._);u.KP(d._,this.OH.bind(this));this.vj=null;this.H()}e2.prototype=new hm;e2.prototype.H=function(){if(this.vj)this.vj.H()};
e2.prototype.OH=function(d){var v=this.vj;if(v==null){var t=40,h=40,X=u.q("canvas"),g=X.getContext("2d");
X.width=t;X.height=h;var x=new gi(t,0,0,h,0,0);g.lineWidth=2;var Z=[{name:"No Symmetry",G0:!0}],Y=f.yB.list,a=[{g:_.E.F,T:A.Z4,d:{R:"pathedit",G$:"sspath",K:-1}}];
for(var n=0;n<Y.length;n++){g.clearRect(0,0,t,h);var z=f.yB.b2(n,5);f.Q.M(z.I,x,z.I);for(var p=0;p<z.I.length;
p++)z.I[p]=Math.round(z.I[p]);g.beginPath();Typr.U.pathToContext({cmds:z.s2,crds:z.I},g);g.rect(0,0,t,h);
g.stroke();var U={name:Y[n][0],Kr:g.canvas.toDataURL()};Z.push(U);if(n<8)a.push({g:_.E.F,T:A.Z4,d:{R:"pathedit",G$:"new",_$:[n,0]}});
else{U.sub=[];var l={sub:[]};a.push(l);for(var p=0;p<12;p++){U.sub.push({name:"Rays: "+(2+p)});l.sub.push({g:_.E.F,T:A.Z4,d:{R:"pathedit",G$:"new",_$:[n,2+p]}})}}}Z[Z.length-1].G0=!0;
Z.push({name:"Selected Path"},{name:"Transform Symmetry"});a.push({g:_.E.F,T:A.Z4,d:{R:"pathedit",G$:"sspath",K:0}},{g:_.E.F,T:A.Z4,d:{R:"pathedit",G$:"sspath",K:1}});
v=this.vj=new jr(Z,a)}var L=this.Qa._.getBoundingClientRect();v.H();v.parent=this;var l=new eG(_.E.c,!0);
l.data={R:_.Y.Vw,UZ:v,x:L.x,y:L.y+L.height};this.J(l)};function hf(){hm.call(this);this.di=[16,!0,!0];
this._=u.q("span","");this.Is=[new eh([12,24],0,255),new l8([12,25,1]),new l8([12,25,0])];for(var n=0;
n<3;n++){var d=this.Is[n];d.parent=this;d.a(this.di[n]);this._.appendChild(d._);d.P(_.E.w,this.wj,this)}}hf.prototype=new hm;
hf.prototype.wj=function(){for(var n=0;n<3;n++)this.di[n]=this.Is[n].j();this.J(new eG(_.E.w,!1))};hf.prototype.a=function(d){this.di=d.slice(0);
for(var n=0;n<3;n++)this.Is[n].a(d[n])};hf.prototype.j=function(){return this.di.slice(0)};hf.prototype.H=function(){for(var n=0;
n<3;n++)this.Is[n].H()};function bc(d,v){hm.call(this);if(v==null)v=!1;this.WR=[];this.a1d=Math.floor(120*u.LY());
this.aoG=Math.floor(23*u.LY());this.LU=0;this.DA=[];this.GY=[];for(var t in f.kk.e){if((t=="warpCustom"||t=="warpCylinder")&&!v)continue;
this.DA.push(t);this.GY.push(f.kk.e[t])}this._=u.q("span","fitem warpbutton");this.Y6=new hm;this.Y6._=u.q("div","floatcont");
if(d){this.xL=d;this.dB=u.q("label","flabel");this._.appendChild(this.dB)}this.R=u.q("button");this._.appendChild(this.R);
u.We(this.R,this.BC.bind(this));this.gs=new c0(!0);this.Y6._.appendChild(this.gs._);this.gs.P(_.E.w,this.afi,this);
u.i(this.Y6._,"width:"+Math.floor(8+this.a1d/u.LY())+"px;");this.H()}bc.prototype=new hm;bc.prototype.Ge=function(d){this.dB.textContent=d};
bc.prototype.H=function(){if(this.xL)this.dB.innerHTML=f7.get(this.xL)+":";this.pB()};bc.aAN={};bc.aq8=function(d,v,t){var h=f7.get(f.kk.e[d]),X=h+"-"+d+"-"+v+"-"+t,g=bc.aAN[X];
if(g)return g;var x=bc.fy;if(Z==null){var Z=u.q("canvas");x=bc.fy=Z.getContext("2d")}var Z=x.canvas;
if(Z.width!=v||Z.height!=t){Z.width=v;Z.height=t}x.font=Math.floor(13*u.LY())+"px sans-serif";x.lineWidth=1;
x.strokeStyle="#000000";var Y=Math.floor(16*u.LY()),a=new iW(0,0,Y,Y);x.clearRect(0,0,Z.width,Z.height);
var z=f.kk.kk(d,d=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);f.kk.ahs(z[3],a);var p=f.Q.Ya(a);
p.s2.push("M","L","M","L");p.I.push(0,Y/2,Y,Y/2);p.I.push(Y/2,0,Y/2,Y);p=f.Q.jo(p);p=f.Q.f5(p,Y/5);f.g_.M(z,p.I,a);
f.Q.M(p.I,new gi(1,0,0,1,Math.floor(8*u.LY())+.5,Math.floor(3*u.LY())+.5),p.I);x.beginPath();Typr.U.pathToContext({cmds:p.s2,crds:p.I},x);
x.stroke();x.fillText(h,Math.floor(40*u.LY()),Math.floor(16*u.LY()));g=bc.aAN[X]=Z.toDataURL();return g};
bc.prototype.BC=function(d){if(u.al(this.Y6._))return;d.stopPropagation();var v=this.a1d,t=this.aoG;
for(var n=0;n<this.DA.length;n++)this.WR[n]=bc.aq8(this.DA[n],v,t);this.gs.lr(this.WR,null,v,t);var h=this.R.getBoundingClientRect(),X=new eG(_.E.c,!0);
X.data={R:_.Y.Vw,UZ:this.Y6,x:h.left,y:h.top+h.height+4};this.J(X)};bc.prototype.afi=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.l6,UZ:this.Y6};this.J(v);this.LU=d.target.j()[0];this.pB();this.J(new eG(_.E.w))};bc.prototype.pB=function(){var d=this.a1d,v=this.aoG;
this.gs.a([this.LU]);this.R.innerHTML="<img src=\""+bc.aq8(this.DA[this.LU],d,v)+"\" class=\"gsicon\" />";
u.WI(this.R.firstChild,d,v)};bc.prototype.j=function(){return this.DA[this.LU]};bc.prototype.a=function(d){this.LU=this.DA.indexOf(d);
this.pB()};function kQ(d,v,t){hm.call(this);if(d==null)d=!1;if(v==null)v=!1;if(t==null)t=!1;this.aNK=v;
this.kk=null;this.Qf=new bc([12,22],t);this.Qf.parent=this;this.Qf.P(_.E.w,this.cV,this);this.Xx=new e8([22,0],[[22,4,0],[22,4,1]]);
this.Xx.P(_.E.w,this.cV,this);var h=d?eh:fb;this.TU=new h([22,1],-100,100,"%");this.$V=new h("Horizontal Distortion:",-100,100,"%");
this.M7=new h("Vertical Distortion:",-100,100,"%");this.TU.parent=this.$V.parent=this.M7.parent=this;
this.TU.P(_.E.w,this.cV,this);this.$V.P(_.E.w,this.cV,this);this.M7.P(_.E.w,this.cV,this)}kQ.prototype=new hm;
kQ.prototype.H=function(){this.Qf.H();this.Xx.H();this.TU.H();var d=this.aNK?1:100;this.$V.Ge(f7.get([22,2]).substring(0,d)+":");
this.M7.Ge(f7.get([22,3]).substring(0,d)+":")};kQ.prototype.cV=function(){var d=this.kk,v=this.Qf.j(),t=d.warpStyle.v.warpStyle;
if(v=="warpCustom")f.kk.Eu(d,f.kk.kU(d));else delete d.customEnvelopeWarp;d.warpStyle.v.warpStyle=this.Qf.j();
d.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Xx.j()];var h=this.TU.j();d.warpPerspective.v=this.$V.j();d.warpPerspectiveOther.v=this.M7.j();
if(v=="warpNone"||v=="warpCustom"){h=0;d.warpPerspective.v=0;d.warpPerspectiveOther.v=0}else if(t=="warpNone"||t=="warpCustom"||t=="warpCylinder")h=50;
if(v!="warpCylinder"){d.warpValue={t:"doub",v:h};delete d.warpValues}else{d.warpValues=A.hZ.gX([0,100,100,0,.15,.2,1]);
delete d.warpValue}this.J(new eG(_.E.w,!1));this.a(d)};kQ.prototype.j=function(d){return f.v(this.kk)};
kQ.prototype.a=function(d){this.kk=f.v(d);var v=d.warpStyle.v.warpStyle,t=v=="warpNone"||v=="warpCustom"||v=="warpCylinder";
this.Qf.a(v);if(!t){this.Xx.a(d.warpRotate.v.Ornt=="Hrzn"?0:1);this.TU.a(d.warpValue.v);this.$V.a(d.warpPerspective.v);
this.M7.a(d.warpPerspectiveOther.v)}var h=[this.Xx,this.TU,this.$V,this.M7];for(var n=0;n<h.length;n++)if(t)h[n].$A();
else h[n].Wu()};function kR(d,v,t){hm.call(this);this.ahR={};this._=u.q("div");this.aas=d;this.zV=null;
this.X0=new cK(0,0);this.ef="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.auA=v;
this.abt=t;this.bq=null;this.ZF=new u.CR(this._);this.a$("grab");this.$D=u.q("canvas","canv");this._.appendChild(this.$D);
this.fy=this.$D.getContext("2d",{willReadFrequently:!0});this.aaQ=null;this.U1=null;this.qd=0;this.and=0;
this.apq=0;this.ag$=0;this.aK6=this.asN.bind(this);this.awt=null;this.z=new co({r:1,$:1});this.Ik=null;
this.Rg=null;this.E5=[];this.aiU=0;this.ka=0;this.a72=this.KT.bind(this);this.a4y=this.Lg.bind(this);
this.af2=this.qz.bind(this);this.aE1=this.OA.bind(this);this.awl=0;this.u2=null;this.a9O(this.$D);this.IE(this)}kR.prototype=new hm;
kR.prototype.a4l=function(d){this.ahR=d;this.Yc()};kR.bD=function(d){var v=new cQ(!0);if(d>=0)v.V8("Space");
if(d>=1){v.V8("ControlLeft");if(d==2)v.V8("AltLeft")}return v};kR.prototype.M6=function(d){var v=this.bq,t=null;
if(d.A(cQ.uh)){t="grab";if(d.A(cQ.LE)){t="zoom-in";if(d.A(cQ.io))t="zoom-out"}}this.zV=t;if(t)v=t;this.ZF.dn(v,this.ef);
if(d.A(cQ.LE)){var h=0;if(d.A(cQ.P9))h=1;if(d.A(cQ.bJ))h=-1;if(h!=0){this.qD(new cK(this.$D.width/2,this.$D.height/2),h==1)}}};
kR.prototype.a$=function(d){this.bq=d;if(this.zV)return;this.ZF.dn(d,this.ef)};kR.prototype.a9O=function(d){u.We(d,this.a72);
u.G4(d);d.addEventListener("wheel",this.aE1,!1)};kR.prototype.IE=function(d){d.P("viewchange",this.ag9,this)};
kR.prototype.ag9=function(d){var v=this.z.OI,t=d.currentTarget.$I();this.z.OI=t.OI;this.z.h=t.h.b();
if(v!=t.OI)this.D4();this.Yc()};kR.prototype.$I=function(){return{OI:this.z.OI,h:this.z.h}};kR.prototype.a=function(d,v,t,h){if(d==null){this.U1=null;
return}var X=d[0]._S;if(this.U1!=null&&this.U1[0]._S.fE(X)){}else{this.z.Vr={r:X.r,$:X.$};this.z.OI=1;
this.z.h=new cK(0,0)}this.U1=d;this.D4(h);this.UA();this.qd=0;this.and=Date.now();this.apq=0;this.ag$=v==null?0:v;
if(t)this.ahR=t;this.asN(h)};kR.prototype.OA=function(d){d.preventDefault();if(d.deltaY==0||Date.now()-this.awl<100)return;
var v=u.cN(d);v.x=u.LY()*v.x;v.y=u.LY()*v.y;this.awl=Date.now();this.qD(v,d.deltaY<0)};kR.prototype.qD=function(d,v){A.VR.Tj(this.z,d,v);
this.aKC()};kR.prototype.JZ=function(d){var v=this.z,t=this.U1[0]._S;this.z.OI=A.VR.d7(t.r,t.$,v.Yx.r,v.Yx.$);
if(d)this.z.h=new cK(0,0);this.aKC()};kR.prototype.aKC=function(){this.D4();this.J(new eG("viewchange"));
this.J(new eG("zoom"))};kR.prototype.D4=function(d){};kR.prototype.UA=function(){clearTimeout(this.awt)};
kR.prototype.Yc=function(d){if(this.U1==null||!u.al(this.$D)||d&&d.HP())return;var v=this.z,t=this.U1[0]._S,h=v.Yx,X=h.r,g=h.$,x=this.aaQ,H,b=null;
if(x==null||x.length!=h.k()*4){x=this.aaQ=f.m(h.k()*4);console.log("creating image data")}else x.fill(0);
var Z=this.U1[this.qd],Y=this.fy,a=v.jG(!1),z=a.b();z.zJ();var p=Date.now(),U=d?d:t,l=f.Q.Ya(U).I;f.Q.M(l,z,l);
var L=f.Q.k2(l),j=h.hL(L),O=new Uint8Array(x.buffer,0,j.k()*4);co.oM(v.Yx);var F=new Uint8Array(co.aQ.buffer,0,j.k()*4),i=new Uint8Array(Z.data);
if(v.OI==1){var $=t.b();$.offset(L.x-U.x,L.y-U.y);f.wH(i,$,F,j)}else f.scale._x(i,t,a,F,j,!1);if(this.auA)H=F;
else{H=O;f.L1(O,j.r,j.$,8,U.x,U.y);f.V.Qe("norm",F,j,O,j,j,1)}if(d==null)Y.clearRect(0,0,X,g);if(j.k()!=0)Y.putImageData(new ImageData(new Uint8ClampedArray(H.buffer,0,j.k()*4),j.r,j.$),j.x,j.y);
if(this.abt){X=t.r,g=t.$;b=X+" \xD7 "+g+" ("+(X*g/1e6).toFixed(1)+"MP)"}var r=kR.asF(v.OI,"#ffffff",b);
Y.putImageData(r,0,v.Yx.$-r.height);var W=this.ahR;if(W){var V=ek.Xn([.1,.5,1,1]),y=ek.Xn([1,0,0,1]),c=ek.Xn([1,1,1,1]),S=ek.Xn([0,0,0,1]),z=v.jG(!1);
z.zJ();Y.save();Y.setTransform(z.aX,z.X,z.Wp,z.r7,z.r2,z.pE);Y.strokeStyle=y;if(W.a8c){ek.sy(W.a8c,null,Y);
Y.lineWidth=1/v.OI;Y.stroke()}Y.strokeStyle=c;if(W.ag_){ek.sy(W.ag_,null,Y);Y.lineWidth=1/v.OI;Y.stroke();
Y.strokeStyle=S;Y.setLineDash([4/v.OI,4/v.OI]);Y.stroke();Y.setLineDash([])}Y.strokeStyle=V;Y.fillStyle=ek.Xn([1,1,1,1]);
if(W.sG){ek.sy(W.sG,null,Y);Y.lineWidth=1/v.OI;Y.stroke()}if(W.ag){ek.DN(W.ag,Y,v,.5);Y.lineWidth=2/v.OI;
Y.stroke();Y.fill()}if(W.ZJ){Y.font=16/v.OI+"px sans-serif";var C=1/v.OI;for(var n=0;n<W.ZJ.length;n++){var K=W.ZJ[n],T=K[0],D=K[1]+6/v.OI,N=K[2];
Y.fillStyle="black";Y.fillText(N,T-C,D);Y.fillText(N,T+C,D);Y.fillStyle="white";Y.fillText(N,T,D)}}Y.restore()}Y.getImageData(0,0,1,1)};
kR.axn="";kR.aGH=null;kR.asF=function(d,v,t){if(t==null)t="";var h="z"+d+","+v+","+t;if(h==kR.axn)return kR.aGH;
var X=Math.round(50*u.LY()),g=Math.round(18*u.LY()),x=t==""?0:Math.round((t.length+2)*g*.35),Z=u.q("canvas"),Y=Z.getContext("2d");
Z.width=X+x;Z.height=g;Y.fillStyle="rgba(1,1,1,1)";Y.fillRect(0,0,X,g);if(t!="")Y.fillRect(X+2,0,x,g);
Y.font=Math.round(11*u.LY())+"px monospace";Y.fillStyle=v;var a=d*100;if(a<100)a=a.toFixed(2);else a=Math.round(a);
a=a+"%";var z=Y.measureText(a).width;Y.fillText(a,(X-z)/2,Math.round(g*.7));if(t!=""){var p=Y.measureText(t).width;
Y.fillText(t,X+(x-p)/2+1,Math.round(g*.7))}var U=Y.getImageData(0,0,X+x,g);kR.axn=h;kR.aGH=U;return U};
kR.prototype.asN=function(d){var v=this.U1,t=v.length,h=this.qd,X=this.U1[h],g=(h+1)%t;this.Yc(d);var x=Date.now();
if(t!=1&&v[g]._S.fE(X._S)){var Z=X.IB?parseInt(X.IB.split(",").pop()):30;if(Z==0)Z=16;if(g==0)this.apq++;
if(this.ag$==0||this.apq<this.ag$)this.awt=setTimeout(this.aK6,Z)}this.qd=g;this.and=x};kR.prototype.K$=function(d,v){if(d<=0||v<=0)return;
var t=Math.floor(d*u.LY()),h=Math.floor(v*u.LY());this.z.Yx=new iW(0,0,t,h);this.$D.width=t;this.$D.height=h;
u.i(this.$D,"width:"+t/u.LY()+"px; height:"+h/u.LY()+"px; display:block;");this.Yc()};kR.prototype.Vh=function(d){var v=-1,t=this.E5;
for(var n=0;n<t.length;n++)if(t[n].pointerId==d.pointerId)v=n;return v};kR.prototype.KT=function(d){var v=this.Vh(d),t=this.E5;
if(v!=-1)t[v]=d;else t.push(d);if(t.length==1){this.u2=d.target;u.Fg(window,this.a4y);u.KP(window,this.af2);
this.Ik=u.cN(d,this.$D);this.Ik.x*=u.LY();this.Ik.y*=u.LY();this.X0=this.Ik;this.Rg=this.z.h.b();if(this.aas&&this.u2==this.$D&&!this.zV)this.J(new eG("mousedown"))}else this.aiU=this.ka=cK.A_(u.cN(t[0],this.$D),u.cN(t[1],this.$D))};
kR.prototype.Lg=function(d){var v=this.Vh(d),t=this.E5;if(v!=-1)t[v]=d;var h=this.z,X=this.zV,g=this.U1[this.qd]._S.b();
g.r*=h.OI;g.$*=h.OI;var x=u.cN(d,this.$D);x.x*=u.LY();x.y*=u.LY();this.X0=x;if(this.aas&&this.u2==this.$D&&!X)this.J(new eG("mousemove"));
else if(X=="grab"||X==null){if(t.length>1){var Z=u.cN(t[0],this.$D),Y=u.cN(t[1],this.$D),a=new cK(u.LY()*(Z.x+Y.x)/2,u.LY()*(Z.y+Y.y)/2),z=cK.A_(Z,Y),p=null;
if(z>this.ka+50){this.ka+=50;p=!0}if(z<this.ka-50){this.ka-=50;p=!1}if(p!=null)this.qD(a,p);return}else{var U=x.x-this.Ik.x,l=x.y-this.Ik.y;
h.h.x=this.Rg.x+Math.round(U);h.h.y=this.Rg.y+Math.round(l)}this.J(new eG("viewchange"))}};kR.prototype.qz=function(d){var v=this.Vh(d),t=this.E5;
t.splice(v,1);if(t.length==0){u.Ej(window,this.a4y);u.mc(window,this.af2);var h=this.zV;if(d.detail>1){this.z.OI=1;
this.z.h.QG(0,0);this.Yc()}if(this.aas&&this.u2==this.$D&&!this.zV)this.J(new eG("mouseup"));else{if(h=="zoom-in"||h=="zoom-out")this.qD(this.X0,h=="zoom-in")}}else{var X=this.Ik=u.cN(t[0],this.$D);
X.x*=u.LY();X.y*=u.LY()}};kR.prototype.z0=function(d){var v=this.X0;if(d){v=u.cN(d,this.$D);v.x*=u.LY();
v.y*=u.LY()}return this.z.tw(v.x,v.y)};function b7(){hm.call(this);this.Ke=null;this.AN=null;this.ZS=null;
this.Tu=null;this.aOp="";this.Km=[];this.wL=0;this.Gb=[];this.n=null;this.$S=0;var d=this._=u.q("div",""),v=this.aHv=u.q("div","form");
d.appendChild(v);var t=this.xL=u.q("span");u.i(t,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var h=this.a5$=new l8([25,2,0]);h.a(!0);v.appendChild(h._);h.P(_.E.w,this.lq,this);var X=this.a45=new l8([25,2,1]);
X.a(!0);v.appendChild(X._);X.P(_.E.w,this.lq,this);var g=new lt("?",null,null,!0);v.appendChild(g._);
g.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var x=new i9(" ");v.appendChild(x._);var Z=this.aMl=new eR([25,1,1]);v.appendChild(Z._);Z.P(_.E.w,this.lq,this);
this.eF=new gQ(14);this.eF.aul(3);this.eF.P(_.E.w,this.ai4,this);var Y=this.am_=new lt(u.U$("reload",null,"autoscale"),null,[25,1,2]);
v.appendChild(Y._);Y.P("click",this.VB,this);this.azi=this.acp.bind(this);this.Gs=u.q("div","svggallery scrollable");
d.appendChild(this.Gs);this.Gs.addEventListener("scroll",this.aO5.bind(this))}b7.prototype=new hm;b7.prototype.sq=function(d){this.n=d};
b7.prototype.H=function(){this.xL.textContent=f7.get([25,0]);this.eF.H();this.a5$.H();this.a45.H();this.aMl.H()};
b7.prototype.K$=function(d,v){if(this.Ke&&this.Ke.x==d&&this.Ke.y==v)return;this.Ke=new cK(d,v);u.i(this.aHv,"width:"+d+"px; margin-bottom:12px;");
var t=this.aHv.getBoundingClientRect();v-=(450<d?30:60)+12;u.i(this.Gs,"width:"+d+"px; height:"+v+"px;  line-height:0;");
if(u.al(this._))this.lq()};b7.prototype.a=function(d){this.AN=d;this.lq()};b7.prototype.aO5=function(d){var v=this.Gs;
if(v.scrollTop+v.clientHeight+10>=v.scrollHeight){this.lq(!0)}};b7.prototype.ai4=function(d){this.ZS=null;
this.lq()};b7.prototype.acp=function(d){if(Date.now()-this.$S<2e3)return;this.$S=Date.now();this.wL=this.Gb.indexOf(d.currentTarget);
var v=this.WT(this.AN.x,this.AN.y);if(v[1]){var t=v[1].largeImageURL,h=new XMLHttpRequest;h.responseType="arraybuffer";
h.open("GET",t,!0);h.onload=this.atr.bind(this);h.send();return}this.aue(v)};b7.prototype.atr=function(d){var v=d.target.response,t=b3.IF(v),h=b3.bV(t),X=h.CE(v),g=this.WT(this.AN.x,this.AN.y,[v,X[0]._S.r,X[0]._S.$]);
this.aue(g)};b7.prototype.aue=function(d){var v=d[0],t=b3.IF(v),h=b3.bV(t),X=new hc("template.psd");
h.CE(v,X);var g=new eG("tempready",!0);g.data={Vr:X};this.J(g)};b7.prototype.VB=function(d){var v=d.target;
this.Km=[];this.ZS=null;this.lq()};b7.prototype.a2P=function(d){var v=JSON.parse(d.target.response),t=this.Tu=v.hits;
for(var n=0;n<t.length;n++)if(t[n].user_id==6314823)t.splice(n,1);this.lq()};b7.prototype.lq=function(d){if(this.AN==null||this.Ke==null||this.n==null)return;
if(this.Ke.x<=0)return;var v=this.AN.x,t=this.AN.y;if(Math.min(v,t)<50)return;if(d!=!0){this.Gb=[];u.Pl(this.Gs);
this.Gs.scrollTop=0}if(this.Gb.length>300)return;var h=Math.min(1,320/Math.max(v,t)),X=this.Ke.b();X.x-=20;
var g=Math.max(1,Math.floor(X.x/(v*h))),x=Math.max(1,Math.ceil(X.y/(t*h)));h=X.x/g/v;var Z=g*x;if(this.ZS==null){var Y=this.n.FP.KZ(),a=[];
for(var z in Y){var p=Y[z],U=p[3];if(!this.eF.tt(p))continue;if(p[5]==null||p[5].slice(0,2)=="gf")continue;
a.push(p)}if(a.length==0)a.push(Y.DejaVuSans);var l=a.length;for(var n=0;n<l*10;n++){var L=Math.floor(Math.random()*l),j=Math.floor(Math.random()*l),O=a[L];
a[L]=a[j];a[j]=O}a=a.slice(0,10);this.ZS=a}var F=this.a45.j(),i=this.aMl.j().trim();this.aMl.$e(F);if(F&&(this.Tu==null||i!=this.aOp)){var $=new XMLHttpRequest,H="https://pixabay.com/api/?image_type=photo"+(i==""?"":"&q="+encodeURIComponent(i))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(i=="")H="//www.photopea.com/plugins/gallery.json";$.open("GET",H,!0);$.onload=this.a2P.bind(this);
$.onerror=function(C){console.log(C.target.response)};$.send();this.aOp=i;return}h*=(v*h-24)/(v*h);var r=this.Gb.length;
for(var n=0;n<Z;n++){var V=this.wL=r+n;if(this.Km[V]==null)this.Km[V]=Math.floor(Math.random()*4294967295);
var y=this.WT(Math.round(v*h),Math.round(t*h)),c=y[0];c=B.I$(new Uint8Array(c));var S=u.q("span");S.innerHTML=c;
this.Gb.push(S);u.i(S.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.Gs.appendChild(S);
S.addEventListener("click",this.azi,!1)}};b7.prototype.WT=function(d,v,t){var h=this.a45.j(),X=this.a5$.j(),g=h&&this.Tu.length!=0?this.Tu:null;
if(X&&!h)g=null;if(X&&h&&(this.wL&1)==0)g=null;return aF.I7(d,v,this.Km[this.wL],this.ZS,t?t:g)};function kw(){hm.call(this);
this._=u.q("div");this.sU=null;this.aHx=null;this.a7t=-1;this.KG={JPG:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:70},mtdt:{Zu:new l8("attach metadata"),bG:!1}},TIFF:{mtdt:{Zu:new l8("attach metadata"),bG:!1}},WEBP:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:70},mtdt:{Zu:new l8("attach metadata"),bG:!1}},GIF:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:100},dthr:{Zu:new l8([12,23,3]),bG:!1}},PNG:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:100},nplt:{Zu:new l8("don't use palettes"),bG:!1},mtdt:{Zu:new l8("attach metadata"),bG:!1}},BMP:{nplt:{Zu:new l8("don't use palettes"),bG:!1}},PDF:{pags:{Zu:new eR([12,52,1]),bG:""},qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:100},rvrs:{Zu:new l8("reverse pages"),bG:!1},rall:{Zu:new l8("rasterize all"),bG:!1},vtxt:{Zu:new l8("vectorize text"),bG:!1},mrgn:{Zu:new fb("Add Margin",0,5,"in",2),bG:0},cmrk:{Zu:new l8("add crop marks"),bG:!1}},EMF:{pags:{Zu:new eR([12,52,1]),bG:""},qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:100},rvrs:{Zu:new l8("reverse pages"),bG:!1},rall:{Zu:new l8("rasterize all"),bG:!1},vtxt:{Zu:new l8("vectorize text"),bG:!1},mrgn:{Zu:new fb("Add Margin",0,5,"in",2),bG:0}},SVG:{arst:{Zu:new l8("add raster graphics"),bG:!0},ahid:{Zu:new l8("add hidden layers"),bG:!1},vtxt:{Zu:new l8("vectorize text"),bG:!1},rtxt:{Zu:new l8("rasterize text"),bG:!1},mini:{Zu:new l8("minify"),bG:!1}},RAW:{cnum:{Zu:new a0([12,72],["1","3","4"]),bG:2},dpth:{Zu:new a0([12,34],["8 Bits","16 Bits"]),bG:0},endi:{Zu:new a0("Byte Order",["12-34","34-12"]),bG:0}},DDS:{cmpr:{Zu:new e8("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),bG:0},mpmp:{Zu:new l8("Add Mipmaps"),bG:!0},dxsr:{Zu:new l8("DXGI_FORMAT: SRGB"),bG:!1}},AVIF:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:70},smlr:{Zu:new l8("Smaller files (5x slower)"),bG:!1}},MP4:{qual:{Zu:new fb([12,52,0],0,100,"%",null,null,!0),bG:50}},anim:{sped:{Zu:new fb("Speed",10,1e3,"%",null,!0,!0),bG:100},rept:{Zu:new eh("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),bG:0},rvrs:{Zu:new l8("reverse frames"),bG:!1},bmrn:{Zu:new l8("boomerang"),bG:!1}},slcs:{slcs:{Zu:new e8([8,11,0],["No Slices","All Slices","User Slices"]),bG:1}},artb:{artb:{Zu:new l8([1,16,1]),bG:!0}},srgb:{srgb:{Zu:new l8("convert to sRGB"),bG:!0}},ctoa:{ctoa:{Zu:new l8("extra channel as opacity"),bG:!1}},ke16:{ke16:{Zu:new l8("as 16-bit"),bG:!1}}};
for(var d in this.KG){var v=this.KG[d];for(var t in v){v[t].Zu.a(v[t].bG);v[t].Zu.P(_.E.w,this.d1,this)}}}kw.prototype=new hm;
kw.prototype.adQ=function(){this.a7t=-1};kw.prototype.H=function(){for(var d in this.KG)for(var v in this.KG[d])this.KG[d][v].Zu.H()};
kw.prototype.d1=function(){this.lq();this.J(new eG(_.E.w,!1))};kw.prototype.wU=function(d,v){var t=this.KG[v];
if(t)for(var h in t)d[h]=t[h]};kw.prototype.lq=function(){var d=this.sU,v=d[0],t=d[1],h=d[2],X=d[3],g=d[4],x=d[5],Z=d[6],Y={};
this.wU(Y,v);if(t)this.wU(Y,"anim");if(["GIF","PNG","JPG","WEBP"].indexOf(v)!=-1&&h)this.wU(Y,"slcs");
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(v)!=-1&&X)this.wU(Y,"artb");if(g)this.wU(Y,"srgb");
if(["PNG","DDS","TGA"].indexOf(v)!=-1&&x)this.wU(Y,"ctoa");if(["PNG","TIFF"].indexOf(v)!=-1&&Z==16)this.wU(Y,"ke16");
var a=d.join(",");if(a!=this.a7t){this.a7t=a;u.Pl(this._);for(var z in Y){if(v=="PDF"&&!X&&(z=="pags"||z=="rvrs"))continue;
this._.appendChild(Y[z].Zu._);u.WJ(this._)}}var p=this.aHx={};for(var z in Y)p[z]=Y[z].Zu.j()};kw.prototype.W$=function(d,v,t,h,X,g,x){this.sU=[d,v,t,h,X,g,x];
this.lq()};kw.prototype.j=function(){return f.v(this.aHx)};kw.prototype.a=function(d){if(d instanceof Array)return;
var v=this.sU,t=v[0];for(var h in this.KG){if(h!=t&&h.toLowerCase()!=h)continue;var X=this.KG[h];if(X==null)return;
for(var g in d)if(X[g])X[g].Zu.a(d[g])}this.lq()};function a2(){hm.call(this);this._=u.q("span","fitem yesno");
this._.style.marginRight="0";this.Sa=!1;this.ajN=new lt("No",!1,"Cancel");this.x5=new lt("Yes",!1,"Confirm");
this._.appendChild(this.ajN._);this._.appendChild(this.x5._);this.ajN.P("click",this.Cj,this);this.x5.P("click",this.Cj,this);
this.H()}a2.prototype=new hm;a2.prototype.H=function(){this.ajN.Ge(u.U$("cross",null,"autoscale"));this.x5.Ge(u.U$("checkmark",null,"autoscale"))};
a2.prototype.Cj=function(d){this.Sa=d.target==this.x5;this.J(new eG("click",!1))};a2.prototype.j=function(){return this.Sa};
function go(d){hm.call(this);this._=u.q("span","fitem");this.aBi=new lt("\u25BC",null,"Auto Options",!0);
u.We(this.aBi._,this.arX.bind(this));this._.appendChild(this.aBi._);this.vB=new lt("Auto",null,null,!0);
this.vB.P("click",this.nh,this);this._.appendChild(this.vB._);this.xD=new eM("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.xD.P(_.E.w,this.nh,this);this.xD.a([!1,!1,!1,!0]);this.Y6=new hm;var v=this.Y6._=u.q("div","floatcont form");
u.i(v,"width: 250px;");this.Y6.parent=this;v.appendChild(this.xD._);this.aMQ=[];for(var n=0;n<2;n++){var t=new eh((n==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
t.a(.1);t.P(_.E.w,this.nh,this);this.aMQ.push(t);v.appendChild(t._)}}go.prototype=new hm;go.prototype.nh=function(d){this.J(new eG(_.E.w,!1))};
go.prototype.H=function(){};go.prototype.j=function(){return[this.xD.j().indexOf(!0),this.aMQ[0].j(),this.aMQ[1].j()]};
go.prototype.arX=function(d){if(u.al(this.Y6._))return;d.stopPropagation();var v=this.aBi._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height+4};this.J(t)};function hk(){hm.call(this);var d=this._=u.q("div","fitem");
this.g7=new e8([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.g7.P(_.E.w,this.wj,this);d.appendChild(this.g7._);
this.Ie=new cX(!1);this.Ie.parent=this;this.Ie.Wi(16777215);this.Ie.P(_.E.w,this.wj,this);d.appendChild(this.Ie._)}hk.prototype=new hm;
hk.prototype.H=function(){this.g7.H();this.Ie.H()};hk.prototype.anv=function(d){var v=[d.artboardBackgroundType.v-1];
if(d.Clr)v.push(d.Clr.v);this.a(v)};hk.prototype.aFS=function(){var d=this.j();return{classID:"artboard",Clr:{t:"Objc",v:d[1]},artboardBackgroundType:{t:"long",v:d[0]+1}}};
hk.prototype.a=function(d){this.g7.a(d[0]);if(d[1])this.Ie.a(d[1])};hk.prototype.j=function(){return[this.g7.j(),this.Ie.j()]};
hk.prototype.wj=function(d){if(d.target==this.Ie)this.g7.a(3);this.J(new eG(_.E.w,!1))};hk.prototype.Sx=function(){this.g7.Sx()};
function jo(){hm.call(this);var d=this._=u.q("div");u.$a(d);var v=u.q("span");v.textContent="Prompt";
d.appendChild(v);u.WJ(d);this.YU=new eR(null,null,-1,4);this.NF=new h$;this.NF.parent=this;this.Bh=new lt("Generate",!1,null,!0);
this.Bh.P("click",this.hk,this);this.zE=null;this.abV=0;d.appendChild(this.YU._);u.WJ(d);d.appendChild(this.NF._);
d.appendChild(this.Bh._);this.aMF=this.aF$.bind(this);this.a3o=this.a8O.bind(this);this.Bl=u.q("div","scrollable");
d.appendChild(this.Bl)}jo.prototype=new hm;jo.prototype.a=function(d){var v=new Uint8Array(d),t=Date.now(),h=UZIP.adler(v,0,v.length);
if(h==this.a2Y)return;this.a2Y=h;var X=new hc;e4.lS(d,X);u.Pl(this.Bl);this.abV=X.U.length-2;if(this.zE==this.abV)this.zE=null;
var t=Date.now();for(var n=X.U.length-2;n>0;n--){var g=X.U[n],v=g.buffer,x=g.S;while(x.k()>500*500){var Z=f.kz(v,x);
v=Z.sN;x=Z.S}var Y=b3.Zx(v.buffer,x.r,x.$,"png"),a=u.q("div");u.i(a,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(g.ZC()?" box-shadow:0 0 0px 3px #00aaff;":""));
var z=u.q("img");u.i(z,"width:100%; margin-bottom:-18px;");if(g.ZC()&&this.zE==null)this.YU.a(g.getName());
z.a3s=n;z.setAttribute("src",Y);var p=new lt("x",!1,"Delete",!0);u.i(p._,"height:15px; line-height:1em; padding: 0px 4px;");
p._.a3s=n;a.appendChild(z);a.appendChild(p._);u.KP(z,this.aMF);u.KP(p._,this.a3o);this.Bl.appendChild(a)}console.log(Date.now()-t)};
jo.prototype.H=function(){this.NF.H()};jo.prototype.aF$=function(d){var v=new eG(_.E.F,!0);v.T=A.EM;
v.data={R:jn.Cf,K:d.currentTarget.a3s,G$:"switch"};this.J(v)};jo.prototype.a8O=function(d){var v=new eG(_.E.F,!0);
v.T=A.EM;v.data={R:jn.Cf,K:d.currentTarget.a3s,G$:"del"};this.J(v)};jo.prototype.hk=function(d){var v=this.NF.ax5(this.YU.j());
if(v)this.zE=this.abV+1};function h$(){this.X5=new lt("\u2026",!1,null,!0);this.X5.P("click",this.BC,this);
this._=this.X5._;this.Y6=new hm;this.Y6.parent=this;var d=this.Y6._=u.q("div","floatcont form label6");
d.style.width="270px";var v=this.au="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.anT=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var t=this.mq=[new l8("Use default settings"),new e8("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new eR("Neg. prompt",null,13.25),new bP("Guidance",-20,20),new bP("Steps",10,50),new e8("Sampler",v)];
t[0].P(_.E.w,this.H,this);t[0].a(!0);t[1].a(1);t[3].a(6);t[4].a(20);for(var n=0;n<t.length;n++){d.appendChild(t[n]._);
u.WJ(d)}}h$.prototype=new hm;h$.prototype.j=function(){var d=this.mq,v={},t=["model","negative_prompt","guidance","steps","sampler"],h=!d[0].j();
if(h){for(var n=1;n<d.length;n++)v[t[n-1]]=d[n].j();v.model=this.anT[v.model];v.sampler=this.au[v.sampler];
v.steps=Math.min(v.steps,50)}return h?null:v};h$.prototype.H=function(){var d=this.mq;for(var n=0;n<d.length;
n++){d[n].H();if(n>0)d[n].$e(!d[0].j())}};h$.prototype.BC=function(d){if(u.al(this.Y6._))return;var v=this.X5._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height+4,SK:!0};this.J(t)};h$.prototype.ax5=function(d){if(d.length>1e3){alert("Your prompt is too long");
return!1}var v=new eG(_.E.U0,!0);v.data=A.mE.Ak("aiHeal");v.data.mQ.prmt={t:"TEXT",v:d};v.data.mQ.Ic=this.j();
this.J(v);return!0};function aX(d){hm.call(this);this.EF=d;this.apG=0;this.avh=!1;this.afk=d?new aX.ek:null;
this._=u.q("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.c_=u.q("div");
this._.appendChild(this.c_);this.sF=u.q("div");this._.appendChild(this.sF);this.EQ=[];var v=Storage.list.length;
if(d)v=v+1+aX.Mg.length;var t=this.yT.bind(this);for(var n=0;n<v;n++){var h=u.q("div");this.EQ.push(h);
this.c_.appendChild(h);h.addEventListener("click",t,!1)}this.yT(null,0)}aX.prototype=new hm;aX.sl=[];
aX.e7=function(d){aX.sl.push(d);d.iq()};aX.Az=function(){var d=aX.sl;d.pop();d[d.length-1].iq()};aX.prototype.iq=function(){this.yT(null,this.apG)};
aX.prototype.sq=function(d,v){if(!d.PS&&!this.avh){var t=this.EF?2:1;for(var n=t;n<this.EQ.length;n++)this.c_.removeChild(this.EQ[n]);
this.avh=!0;if(this.EF)this.afk.sq(d,v)}if(this.oV)this.oV.sq(d,v)};aX.prototype.H=function(){if(this.EF)this.afk.H();
if(this.oV)this.oV.H()};aX.prototype.yT=function(d,v){var t=this.EQ,h;if(v==null)v=t.indexOf(d.currentTarget);
this.apG=v;for(var n=0;n<t.length;n++)u.Ag(t[n],"active");u.M3(t[v],"active");if(this.EF)v--;var X=Storage.list.length;
if(v==-1)h=this.afk;else if(v<X)h=Storage.Cp(v);else{var g=aX.Mg[v-X];h=new aX.Rj(g[1]);iP.event("strg_"+g[0]);
if(v-X==1){window.open(g[1]);return}}this.oV=h;h.parent=this;u.Pl(this.sF);this.sF.appendChild(h._);
this.K$(this.F0,this.uV);this.H()};aX.prototype.K$=function(d,v){this.F0=d;this.uV=v;var t=d<850,h=t?50:210,X=Storage.list;
if(this.EF)X=[[[1,19,3],null,"strg/home"]].concat(X.concat(aX.Mg));for(var n=0;n<X.length;n++){var g=this.EQ[n],x="padding: 8px "+(t?13:36)+"px; cursor:pointer;";
u.i(g,x);var Z=X[n][2],Y=X[n].length==6;Z=Y?Z:PIMG[Z];g.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+Z+"\" /> "+(t?"":f7.get(X[n][0]))}this._.style.width=d+"px";
this._.style.height=v+"px";this.c_.style.width=h+"px";this.c_.style.paddingTop="32px";if(this.oV)this.oV.K$(d-h,v)};
aX.Mg=[["PeaGames","games","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664],["AI Tools","//www.img-tools.app/?utm_source=af-photopea&utm_medium=social&utm_campaign=af-photopea","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlFHiIAAAAAl0Uk5TACBAgJ+/3/9gnq2YfAAABcRJREFUeJytmzuMHEUQhqt8PO5IWO0CJlwfAQmBAwRkWEayQwhOODQYAyFgbJOuRIDNOzUImxCQLBHCCSScgWTxCAlsTo7AXt+tZBKM8bA7szNd012Pnhp3cJqdx7/f9vSr6u9DIGW4Z7hebP/91AT8Bcnh4/urg+LKF3dCcGVj3BwXm7/2Flw5OiCn/Yq14K6XB63zxVdbvQTx+XF0ofhk1kfw0eeSK1fP9RBcfS294qzGSvDJfcylWx+4Be8+xl776QevIAvYAXG0vj7e2X5sUgvuOiHc+G1WLdY9rLjyzawSZF5xVa6dzdF7Yl99OP2sFMST0r1ZbZHW11wRxVeyKL9/beo9eIR+unoOlV8M8O+Hll5U/8XmXPDQWLy9eNcSfCeqlCmyvaQpaxNdL3kYEe55Q3ngr891wRgQ1jA91/rCU6peCngKW1VYfHcZR8+QkfH2ex0BJwhvEb1ygBltEMUzGj8DCEhPLpvd6Cj9ym6AgHe92Xz87/3l94TOpDZtDhDw3tfThx94qTmnvWYOEJCcPd180ytNLSp9hQWkgqSJhJPKmMgCAh7cW3/+5+PmUujxsiAPSAXJiL9yvD6SGyIPCBjaNWkhYQwRBQVAwFeb+idtOIy54ngjAAKGjnI6XLQFJUBBEPizGYDenywC0pfy5RZzv/BSREAqSJpN6OB1/84FpO2QdNswivOCMiBgmFbZrscO2QogYJhESf2HN3Xzo26AgLtfaI6bSiRTP+ngWYCA5OFmIAj1yi7pNEB2CqBrE2YKUAHnEzNZKlWTVBhqgF3RqYAQTaMXf8bhBr15sULrAgjGRM8s3XXAuWB7PZaUGNEAnAuKC2Ie0QAEfTmXIlqAoC84U0QL0FgSJ4gmYLloD9O6iWgClmEF6c4Gog1YCqqL4haiDaiGZgliBmAlSBeEGmIGYCVIF4QKYg6gEoCniDmAdYrgoRdtxCzAJolxYC9zsY2YBdikWVafHRuIeYAhEbR6uJUI+i0iLjYPZQGSVNXDTwfG6fkbx6Mbr4+yAFvJtLdvLI8u/Gg3dimCQfpheOzCenH9j+0tiKYq7kEhCkT+NJiIUoglC+qIYpgqC+qIYgyoCGqIchytCGqIcpCqCcqISqCvCcqIShStCkqIWiaiiVPqeKT1WUBcAErP6YI8YgnoE+QRyxp0CnKIVQ06BTnE6hV7BVPE5Sv2CqaLvWVc4BVMZpI6mvQKJlNdndxxCoqAXkER0CkoAzoFZUCfoALoE1QAXYIaoCwIctEAxaIIqoAeQRegIugDVAQNwIEQZouCBiAeSUJ9Q9AA3H1YcOkkwQSwnYzFk0w2IhUc7nlkAMXlS1tmTDKPNwUjkfOXYfr9n0bqY5Gb4REFfzkOAlJAyesM/nKHBesyecQiSv6yDSggiv6yDcgjyv6yCcgjVoJGUCIAsoiV4EE9FhUAWcRSkLg+nQA5ROwDyCEuBL01yCKq/rIJyCCq/jIDSG1AFtFOpkUxSbykjRGRGak0wLTCI0SkafUMQBMRO8fFBqLhL3NRnY5opJ0590NHNPxl1kFSEZFmnRl/mfhKeYhIrzL+Mru7Q0NE8k44f5m1gzVEy1/mDBoV0ecvK4hOf1lGtPxl3oZTEImV2clfFhGJIOsvS+6tiOj2lyVEr78sIlr+srzjRkB0/2QJ0fKXlT1BPKLPX1YQff6ygmj5y9p2NxbR8pfVPUYcosdfVhE9/rKKaPnL+gY/BtHyl9VNUByi4S9rrYZH7LeRLEW8ZfjL6ktelBhxzfCXrc14sT127Wzf7YJtT3De8PpuaGwp3v501n/LJYmzp+dnoPvLGb+4LKP9w0Gxc/GXUh4UfznnFy8pBzv1ESjOaN7G2kh68UfwEKxuIgsK/rJ/czLvL7sANX/ZU4NNioDxl7N2JouCqb+cl9wTBRN/ubhv0k8w9pd7/6NB21++E/8KAcRfLnt5f8HKX75/dmmR7nOX/wHUTMNAfPQixAAAAABJRU5ErkJggg==",!0,"Join the contenst!",1730950917]];
for(var n=0;n<aX.Mg.length;n++)if(aX.Mg[n][5]*1e3<Date.now()){aX.Mg.splice(n,1);n--}aX.ek=function(){this.iD=null;
var d=this._=u.q("div");d.style.background="var(--bg-canvas)";var v=this.y_=u.q("div");d.appendChild(v);
var t=u.q("style");d.appendChild(t);t.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var n=0;n<2;n++){var h=u.q("div"),t="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";v.appendChild(h);
if(n==0)t+="padding: 12px 0px";if(n==1)t+="position:absolute;  bottom:0;";u.i(h,t);var X=u.q("img");
if(n==0||j8<2)h.appendChild(X);X.setAttribute("src",PIMG[n==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(n==0)this.aG5=X;else this.aFs=X;if(n==0)this.aMP=h;else this.a6g=h}this.EQ=[];this.aiy=[];t="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var g=this.OH.bind(this),x=u.q("div");v.appendChild(x);u.i(x,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var n=0;n<[5,4,3][j8];n++){var Z=u.q("span","bhover");this.EQ.push(Z);u.i(Z,t+"cursor:pointer; padding:12px;");
Z.addEventListener("click",g,!1);x.appendChild(Z)}if(j8==2){u.WJ(v);x=u.q("div");v.appendChild(x);x.textContent="Examples:";
t="display:inline-block;  font-size:1em; border:1px solid #aaa;  border-radius:6px;  margin:12px 0 0 12px;";
for(var n=0;n<SNDS.length;n++){var Z=u.q("span","bhover");this.aiy.push(Z);u.i(Z,t+"cursor:pointer; padding:6px 8px;");
Z.addEventListener("click",g,!1);Z.textContent=SNDS[n][0];x.appendChild(Z)}}u.WJ(v);var h=this.at0=u.q("div");
u.i(h,t+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");v.appendChild(h);
var Y=new Date().getDate(),a=new Date().getMonth();if(a==11&&Y>20||a==0&&Y<10){this.$D=u.q("canvas");
u.i(this.$D,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");this.fy=this.$D.getContext("2d");
this.aG_=f.m(4);d.appendChild(this.$D);var z=Math.random()<.5,p={C:255,L:255,X:255};if(!z){p=f.JY(Math.random(),Math.random()*.7,1);
p.C*=255;p.L*=255;p.X*=255}this.E7=[Math.round(1048575*Math.random()),z?.05:.02,Math.round(4+Math.random()*8),1,z?3:15,p,0,!0,z,z?1:.2,3];
this.az8=z?.1:.2;this.Xb=this.fr.bind(this);window.requestAnimationFrame(this.Xb)}};aX.ek.prototype=new hm;
aX.ek.prototype.fr=function(){window.requestAnimationFrame(this.Xb);if(!u.al(this._))return;var d=this.aG_,v=this.$D,t=this.fy,h=v.width,X=v.height;
this.E7[6]=Date.now()*.001*this.az8;f.MY.E$(d,h,X,this.E7,!0);t.putImageData(new ImageData(new Uint8ClampedArray(d.buffer),h,X),0,0)};
aX.ek.prototype.OH=function(d){var n=this.EQ.indexOf(d.currentTarget),v=new eG(_.E.c,!0);if(n==-1){n=this.aiy.indexOf(d.currentTarget);
var t=b3.CP(SNDS[n][1]),h=new hc;h.name=SNDS[n][0]+".mid";b3.aP.CE(t,h);v.data={R:_.Y.cJ,Vr:h}}else{if(n==0)v.data={R:_.Y.S8,cG:"newproject"};
if(n==1)v.data={R:_.Y.mx};if(n==2)v.data=j8==2?{R:_.Y.t7,link:"//www.jampea.com/learn"}:{R:_.Y.S8,cG:"res0"};
if(n==3)v.data={R:_.Y.Jq};if(n==4)v.data={R:_.Y.S8,cG:"aigen"}}this.J(v)};aX.ek.prototype.H=function(){var d=this.EQ,v=[[11,7],[1,6],[25,0],[0,17,6],"Generate with AI"],t=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping","lrs/newlayer"];
if(j8==1)v[3]="Install Vectorpea";if(j8==2){v[2]="How Music Works";t[2]="panels/info"}for(var n=0;n<d.length;
n++)d[n].innerHTML="<span style=\"vertical-align:middle\">"+u.U$(t[n],null,"autoscale")+"</span>\u2000"+f7.get(v[n]);
var h="l"+"o"+"g"+"o",X=h+"_"+["pp","vp","jp"][j8],g=new Date;if(g.getMonth()==3&&g.getDate()==1)X="lo"+"go_cuc"+"umber";
if(PIMG[h])X=h;var x=f7.get([0,17,7]);if(j8==2)x+=": MIDI / Guitar Pro / OnlineSequencer";this.at0.textContent=x;
this.aG5.setAttribute("src",PIMG[X]);this.aFs.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};aX.ek.prototype.K$=function(d,v){var t=Math.min(v*1.5,Math.min(d,600)),h=this.$D;
if(h){u.Zw(h,d,t*.26);this.aG_=f.m(h.width*h.height*4)}this._.style.width=d+"px";this._.style.height=v+"px";
this.a6g.style.width=d+"px";this.y_.style.marginLeft=Math.max(0,Math.round((d+200-600)/2)-200)+"px";
this.aG5.style.width=t+"px";this.aFs.style.width=t+"px"};aX.ek.prototype.sq=function(d,v){var t=d;if(d==null)d=this.n;
this.n=d;if(!d.PS&&this.EQ[2].parent){this.y_.removeChild(this.EQ[2]);this.y_.removeChild(this.EQ[3])}if(this.EQ[3])this.EQ[3].style.display=d.VZ?"inline-block":"none";
if(this.EQ[4])this.EQ[4].style.display=!li.IO()?"inline-block":"none";if(t)this.iD=setTimeout(this.sq.bind(this),100)};
aX.Rj=function(d){var v=this._=u.q("iframe");v.style.background="var(--bg-canvas)";v.setAttribute("src",d)};
aX.Rj.prototype=new hm;aX.Rj.prototype.K$=function(d,v){var t=this._;t.style.width=d+"px";t.style.height=v+"px"};
aX.Rj.prototype.sq=function(){};function Storage(d){hm.call(this);var v=this._=u.q("div","storage");
u.BR(v);v.addEventListener("drop",this.aCc.bind(this),!1);var t=this.a94=u.q("style");v.appendChild(t);
v.setAttribute("tabindex","0");v.style.outline="none";v.addEventListener("keydown",this.a5m.bind(this),!1);
this.Yo=this.avP.bind(this);this.R6=0;this.zE=0;var h=u.q("div");v.appendChild(h);var X=this.aJf.bind(this);
this.dq=u.q("div","bar");h.appendChild(this.dq);this.l$=u.q("div","fls scrollable");h.appendChild(this.l$);
this.EP=u.q("div");h.appendChild(this.EP);u.i(this.EP,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.nt=u.q("div","bar");this.nt.textContent="Name: ";var g=this.nK=u.q("input");g.setAttribute("type","text");
this.nt.appendChild(g);var x=this.At=u.q("div","btn");x.textContent="Save";this.nt.appendChild(x);u.KP(x,X);
u.We(this.l$,this.Yo);this.a0x=0;this.eh=d;var Z=this.avE.bind(this),Y=this.amX=u.q("div");u.i(Y,"text-align:center; font-size:1.6em");
var a=u.q("img");Y.appendChild(a);u.WJ(Y);a.setAttribute("src",PIMG[Storage.list[this.eh][2]]);u.i(a,"opacity:0.5;  width:25%; cursor:pointer;");
u.KP(a,Z);this.as7=u.q("div","btn");Y.appendChild(this.as7);u.KP(this.as7,Z);this.Nc=new jr([{name:[6,20]},{name:[5,2],aM:[cQ.LE,cQ.n6],f:function(){return{f:Storage.tf!=null}}}]);
this.Nc.parent=this;this.Nc.P("select",this.Q5,this);this.l$.addEventListener("contextmenu",this.Yo);
this.aBj=u.q("span");this.d_=u.q("span");u.i(this.d_,"position:absolute; right:0; top:5px; z-index:1; ");
this.XC=[];this.Vd=[];for(var n=0;n<3;n++){var z=u.q("div","btn");this.XC.push(z);this.aBj.appendChild(z);
u.KP(z,X);z.innerHTML=Storage.awH[[3,1,0][n]]}for(var n=0;n<5;n++){if(n==0){var p=u.q("span");p.textContent="Sort by:";
this.d_.appendChild(p)}var z=u.q("div","btn");this.Vd.push(z);this.d_.appendChild(z);u.KP(z,X)}window.addEventListener("message",this.azw.bind(this),!1);
this.a06=!1;this.gE=0;setInterval(this.aAA.bind(this),300);this.UC();var U=this.aIy=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.aCc.bind(this),!1);document.body.appendChild(U);
u.i(U,"display:none");U.setAttribute("multiple","")}Storage.prototype=new hm;Storage.Mi=!1;(function(){Storage.awH=[];
var d="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",v=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var n=0;n<4;n++)Storage.awH.push(d+[-90,0,90,180][n]+v)}());Storage.prototype.aCc=function(d){d.stopPropagation();
d.preventDefault();var v=d.dataTransfer?d.dataTransfer.files:d.target.files;this.aCY=v.length;Storage.tf={};
for(var n=0;n<v.length;n++){var t=v[n],h=new FileReader;h.mT=t;h.onload=this.aHk.bind(this);h.readAsArrayBuffer(t)}};
Storage.prototype.aHk=function(d){var v=Storage.tf;v[d.target.mT.name]=d.target.result;this.aCY--;if(this.aCY==0)this.O3()};
Storage.prototype.sq=function(d,v){var t=Storage.list[this.eh][3],h=iP.qP();if(t){if(this.gE==1&&u.al(this._)&&h!=null){this.UC()}if(this.gE==2&&h==null){this.wJ("forget","")}}};
Storage.prototype.aAA=function(){var d=u.al(this._),v=this.a06;if(d&&!v){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!d&&v){window.onpopstate=function(){};history.go(-1)}this.a06=d};
Storage.prototype.UC=function(){if(this.bo)document.body.removeChild(this.bo);this.cb=[[]];this.AB=0;
this.adN={"/":[]};this.ad0="";this.J8=null;this.Is=[];this.aGi=[];this.a2m=[];this.a7e=null;var d=Storage.list[this.eh][1],v=iP.$j("code/storages/"+Storage.list[this.eh][1]);
if(j8==1&&this.eh==0)v=d;var t=this.bo=u.q("iframe");t.setAttribute("src",v);u.i(t,"display:none");document.body.appendChild(t)};
Storage.prototype.g6=function(){return this.adN[this.Sp()]};Storage.prototype.GP=function(d){this.adN[this.Sp()]=d};
Storage.Cp=function(n){var d=Storage.BO[n];if(d==null)d=Storage.BO[n]=new Storage(n);return d};Storage.BO=[];
Storage.It=0;Storage.jd="";Storage.fX=null;Storage.Fj=function(d,v,t){Storage.It=d;Storage.jd=v;Storage.fX=t;
var h=Storage.BO;for(var n=0;n<h.length;n++)if(h[n]){if(d==1)h[n].GP([]);h[n].iq()}};Storage.aby=[500*(1<<20),5e3*(1<<20)];
Storage.eD=0;Storage.wq=2;Storage.wl=0;Storage.list=[[[1,19,4],"deviceStorage.html","strg/tdevice",!1,null],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,null],["OneDrive","onedriveStorage.html","strg/onedrive",!1,null],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,null],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.agJ=function(d){for(var n=0;n<Storage.BO.length;n++){if(Storage.BO[n]&&Storage.BO[n].bo.contentWindow==d)return!0}return!1};
Storage.prototype.a5m=function(d){if(d.target.tagName=="INPUT")return;var v=cQ;if(v.L9(d.code,v.on)&&this.Sp().length!=0)this.awW();
else if(d.ctrlKey){if(v.L9(d.code,v.Y)){var t=[];this.GP(t);for(var n=0;n<this.J8.length;n++)t.push(n);
this.ZK()}if(v.L9(d.code,v.f9))this.T1(2);if(v.L9(d.code,v.n6))this.O3()}else if(v.L9(d.code,v.u0)){var h=this.g6();
if(h.length!=0)this.amE(h)}else if(v.L9(d.code,v.SY)){this.AB=Math.max(this.AB-1,0);this.S$()}else{var X=0;
for(var n=65;n<=90;n++)if(d.code=="Key"+String.fromCharCode(n))X=n;if(X!=0){var g=String.fromCharCode(X).toLowerCase(),x=[],Z=this.J8,Y;
for(var n=0;n<Z.length;n++)if(Z[n][0][0].toLowerCase()==g)x.push(n);if(x.length==0)return;var h=this.g6();
if(h.length==0)Y=x[0];else{var a=x.indexOf(h[0]);if(a==-1){Y=x[0];for(var n=0;n<x.length;n++)if(x[n]>h[0]){Y=x[n];
break}}else Y=x[(a+1)%x.length]}this.GP([Y]);this.ZK(!0)}}};Storage.prototype.K$=function(d,v){this.F0=d;
this.uV=v;this._.style.width=d+"px";this._.style.height=v+"px";var t=d-30,h=Math.floor(t/230),t=Math.floor(t/h)-72;
this.a94.textContent=".storage .tile .name {  width:"+t+"px;  }";this.nK.style.width=d-140+"px";this.l$.style.width=this.dq.style.width=d-20+"px";
this.l$.style.height=v-70-(Storage.It==0?0:45)+"px"};Storage.prototype.avE=function(){this.S$()};Storage.prototype.S$=function(){var d=this.eh,v="____strg"+d;
if(window[v]==null){iP.event("strg_"+(d==0?"This Device":Storage.list[d][0]));window[v]=!0}this.zE=1;
this.wJ("show",this.Sp())};Storage.prototype.Sp=function(d){var v=this.cb[this.AB],t="/"+v.join("/");
if(d&&v.length!=0)t+="/";return t};Storage.prototype.aJf=function(d){var v=d.currentTarget,t=this.AB,h=this.XC.indexOf(v),X=this.Vd.indexOf(v);
if(h>=0&&!this.aw2(h))return;if(h==0){this.AB=Math.max(t-1,0);this.S$()}if(h==1){this.AB=Math.min(t+1,this.cb.length-1);
this.S$()}if(h==2){var g=this.cb[t+1]=this.cb[t].slice(0);g.pop();this.AB++;this.cb=this.cb.slice(0,this.AB+1);
this.S$()}if(X==0){Storage.wq=(Storage.wq+1)%3;this.iq()}if(X==1){Storage.wl=(Storage.wl+1)%2;this.iq()}if(X==2){Storage.eD=(Storage.eD+1)%3;
this.iq()}if(X==3){var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aIy.dispatchEvent(x)}if(X==4){this.wJ("forget","")}if(v==this.At){var Z=this.aw6(),Y=this.J8,a=-1;
if(Z==null)return;for(var n=0;n<Y.length;n++)if(Y[n][0]==Z)a=n;if(a!=-1){this._y("Do you really want to replace \""+Z+"\"?",this.aql.bind(this))}else this.aql()}};
Storage.prototype.aql=function(){var d=this.aw6();if(d==null)return;var v=[this.eh,this.Sp(!0)+d];if(Storage.fX){this.ar3(this.Sp(!0)+d,Storage.fX);
Storage.fX=null;Storage.jd=null}else this.rW({R:_.Y.ai0,_4:v});this.J(new eG("canclose",!0))};Storage.prototype.aw6=function(){var bW=this.nK.value.trim(),d="\\/:*?\"<>|";
for(var n=0;n<d.length;n++)if(bW.indexOf(d[n])!=-1){alert("A file name can't contain "+d[n]);return null}return bW};
Storage.prototype.O3=function(){if(Storage.tf==null)return;this.rW({R:_.Y.Wq,jH:f7.get("Uploading ...")});
this.R6=4;k4.Cp(2,this.bo,[this.Sp(),Storage.tf,this.J8],null,this.ano.bind(this))};Storage.prototype.ano=function(d){this.R6=0;
this.rW({R:_.Y.DQ,jH:f7.get("Uploading ...")});this.S$()};Storage.prototype.Q5=function(d){var v=d.target.Q_();
if(d.target==this.Nc){if(v[0]==0){var t=[f7.get([6,20]),-1,0];this.J8.push(t);this.iq();var n=this.J8.indexOf(t),h=this.Is[n].querySelector(".name");
console.log(h);var X=new f1.BI(h,function(p){this.rW({R:_.Y.Wq,jH:f7.get([1,2])+" ..."});var U=this.Sp(!0)+p+"/";
console.log(U);this.wJ("save",U)}.bind(this),!0)}else this.O3()}else{if(v[0]==0){this.T1(2)}else if(v[0]==1){var n=this.g6()[0],g=this.J8[n],h=this.Is[n].querySelector(".name");
console.log(h);h.innerHTML=g[0];var X=new f1.BI(h,function(p){p=p.trim();if(p.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.iq();return}var U=this.J8;for(var n=0;n<U.length;n++)if(U[n][0]==p){alert("Item with such name already exists.");
this.iq();return}var l=this.Sp(!0)+g[0]+":"+p;console.log(l);this.wJ("rename",l)}.bind(this))}else if(v[0]==2){this.T1(3)}else if(v[0]==3)this.awW();
else if(v[0]==4){this.T1(1)}else{var x=this.J8[this.g6()[0]],Z=Storage.If(x),Y=Z[v[1]],a=Y[0],z=this.RZ().pop()[1];
if(Storage.aoa(x,a)!=-1){this.wJ("share",z+":"+a+":-1");alert("Unshared.")}else{this.wJ("share",z+":"+a+":"+v[2]);
alert("Shared.")}}}};Storage.aoa=function(d,v){var t=d[4];if(t==null)return-1;if(t.indexOf(v+":0")!=-1)return 0;
if(t.indexOf(v+":1")!=-1)return 1;return-1};Storage.prototype.awW=function(){var d=this.g6();this._y("Do you really want to delete "+(d.length==1?"\""+this.J8[d[0]][0]+"\"":"these files")+"?",this.Mt.bind(this))};
Storage.prototype._y=function(d,v){var t={R:_.Y.S8,cG:"confirm",K:d,No:v};this.rW(t)};Storage.prototype.T1=function(d){this.R6=d;
if(1<d)this.rW({R:_.Y.Wq,jH:f7.get("Downloading ...")});else this.rW({R:_.Y.Wq,jH:f7.get("Getting info ...")});
k4.Cp(0,this.bo,this.Sp(),this.RZ(!0),this.a67.bind(this))};Storage.prototype.a67=function(d){if(this.R6==1){var v=0,t=0;
for(var h in d){var X=d[h];v+=X[1];t++}this._y(t+" files, "+hi.Hb(v)+" in total.",function(){});this.rW({R:_.Y.DQ,jH:f7.get("Getting info ...")});
this.R6=0}if(1<this.R6)k4.Cp(1,this.bo,d,null,this.aBR.bind(this))};Storage.prototype.aBR=function(d){if(1<this.R6){if(1<this.R6)this.rW({R:_.Y.DQ,jH:f7.get("Downloading ...")});
var v={},t=this.Sp(!0);for(var h in d)v[h.slice(t.length)]=d[h];if(this.R6==2){Storage.tf=v;alert("Copied to a clipboard")}if(this.R6==3){var X=Object.keys(d);
if(X.length==1)dY.save(d[X[0]].buffer,X[0].split("/").pop());else dY.save(UZIP.encode(v),t=="/"?"files.zip":this.Sp().split("/").pop()+".zip")}}this.R6=0};
Storage.tf=null;Storage.prototype.Mt=function(){this.rW({R:_.Y.Wq,jH:f7.get([5,4])+" ..."});this.aGi=this.RZ();
this.Mn()};Storage.prototype.Mn=function(){if(this.aGi.length==0){this.rW({R:_.Y.DQ,jH:f7.get([5,4])+" ..."});
this.GP([]);this.S$()}else this.wJ("delete",this.aGi.pop()[1])};Storage.prototype.RZ=function(d){var v=[],t=this.Sp(!0),h=this.g6();
for(var n=0;n<h.length;n++){var X=this.J8[h[n]];if(d)v.push(X[0]);else v.push([this.eh,t+X[0]])}return v};
Storage.prototype.wJ=function(d,v){u.M3(this._,"disabled");this.ad0=d;if(Storage.Mi)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+d+"\", \"prm\": "+JSON.stringify(v)+"  }");
this.bo.contentWindow.postMessage("{\"code\": \""+d+"\", \"prm\": "+JSON.stringify(v)+"  }","*")};Storage.prototype.azw=function(d){if(d.source!=this.bo.contentWindow||this.R6!=0)return;
u.Ag(this._,"disabled");if(typeof d.data=="string"){if(Storage.Mi)console.log("==",Math.floor(Date.now()/1e3),d.data);
var v=JSON.parse(d.data),t=v.code,h=v.prm,X=this.ad0,g=Storage.list[this.eh][3];if(t=="ready"){if(g&&!h){var x=iP.qP();
console.log(x);var Z=iP.Yp(),Y=Z.acc;if(x==null){this.gE=1;alert("Log in to use this storage (press Account at the top).");
this.CF();return}var a=[],z=x.wantToJoin;for(var p in z)a.push(parseInt(p.slice(1)));var U=[],l=x.inTeams;
for(var n=0;n<l.length;n++)U.push(l[n][2]);var L={uid:x.id,limit:Storage.aby[iP.yU()?1:0],inTeams:U,myTeams:a};
L.secret=Y&&Y.pds?Y.pds:"";this.wJ("login",L);return}if(g)this.gE=2;if(g&&v.secret){var Z=iP.Yp(),Y=Z.acc;
if(Y==null)Y=Z.acc={};Y.pds=v.secret;iP.E6(Z)}if(h)this.S$();else this.CF()}else if(t!="0"){if(X=="save")this.rW({R:_.Y.DQ,jH:f7.get([1,2])+" ..."});
if(X=="delete")this.Mn();alert(h);this.iq()}else if(X=="show"){this.zE=0;this.J8=h;this.iq()}else if(X=="save"){this.zE=0;
this.rW({R:_.Y.DQ,jH:f7.get([1,2])+" ..."});this.S$()}else if(X=="delete"){this.Mn()}else if(X=="forget"){if(g)this.CF();
else this.UC()}else if(X=="rename"||X=="share"){this.S$()}else throw t}else{if(Storage.Mi)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.rW({R:_.Y.aMD,_4:this.RZ()[this.jV],Gw:d.data});this.a89()}};Storage.prototype.CF=function(){u.Pl(this.dq);
u.Pl(this.l$);u.Pl(this.EP);this.l$.appendChild(this.amX)};Storage.prototype.aw2=function(n){if(n==0)return this.AB>0;
if(n==1)return this.AB<this.cb.length-1;if(n==2)return this.Sp()!="/"};Storage.avQ=function(d){d=d+"";
return d.length==1?"0"+d:d};Storage.aoI=function(d){var v=new Date(d),t=Storage.avQ,h=t(v.getDate())+"."+t(v.getMonth()+1)+"."+v.getFullYear();
if(v.toLocaleDateString().indexOf("/")!=-1)h=t(v.getMonth()+1)+"/"+t(v.getDate())+"/"+v.getFullYear();
var X=t(v.getHours())+":"+t(v.getMinutes());return h+" "+X};Storage.colSpan=function(d){var v=u.q("span");
v.style.opacity="0.8";v.style.display="inline-block";v.style.width="120px";v.textContent=d;return v};
Storage.prototype.iq=function(){var d=Storage.list[this.eh][3],v=this.J8,t=Storage.wq,h=Storage.wl,X=Storage.eD;
if(v==null)return;v.sort(function(D,N){var G=D[1]==-1?1:5,s=N[1]==-1?1:5,Q=0;if(Math.min(G,s)==1&&G!=s)return G-s;
else if(G==1||t==0)Q=D[0].toLowerCase()<N[0].toLowerCase()?-1:1;else if(t==1)Q=D[1]-N[1];else if(t==2)Q=D[2]-N[2];
if(h==1)Q=-Q;if(D[0]=="Shared")Q=-1;if(N[0]=="Shared")Q=1;return Q});var g=this.l$,x=this.dq,Z=this.cb[this.AB];
u.Pl(g);u.Pl(x);this.Is=[];for(var n=0;n<3;n++)if(this.aw2(n))u.Ag(this.XC[n],"disabled");else u.M3(this.XC[n],"disabled");
x.appendChild(this.aBj);x.appendChild(this.d_);var Y=u.q("span");Y.textContent="/";x.appendChild(Y);
for(var n=0;n<Z.length;n++){var Y=u.q("span");Y.textContent=Z[n];x.appendChild(Y);var Y=u.q("span");
Y.textContent="/";x.appendChild(Y)}var a=["tile","icon","litm"][X];for(var n=0;n<v.length;n++){var z=v[n],p=z[1]==-1,U=p?"":hi.Hb(z[1]),l=u.q("div","cont "+a),y=!1;
g.appendChild(l);this.Is.push(l);var L=p?"":Storage.aoI(z[2]*1e3);l.setAttribute("title",z[0]+(p?"":"\nSize: "+U+"\nDate Modified: "+L));
var j=u.q("img");j.setAttribute("src",p?Storage.a5r:z[3]?z[3]:Storage.mT);if(!p&&z[3])u.i(j,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var O=u.q("span","name"),F=z[0];if(a=="icon"&&F.length>30)F=F.slice(0,24)+".."+F.slice(F.length-5);if(d&&Z.length==1&&Z[0]=="Shared"){var i=Storage.If(),$=parseInt(F.slice(5));
for(var H=0;H<i.length;H++)if(i[H][0]==$)F=i[H][1]}O.textContent=F;l.appendChild(j);l.appendChild(O);
if(a!="icon"&&!p){if(a=="litm")l.appendChild(Storage.colSpan(L));if(a=="tile")u.WJ(O);var b=Storage.colSpan(U);
if(a=="litm")b.style["text-align"]="right";(a=="tile"?O:l).appendChild(b)}var r=z[0].split("."),V=(r.length==1?"":r.pop()).toUpperCase();
if(d&&z[0]=="Shared"&&Z.length==0){y=!0;V="\u21E7"}if(a!="litm"&&(!p&&z[3]==null||y)){var c=u.q("span","ext");
c.textContent=V;var S=Storage.Q4[V];c.style.backgroundColor=S?S:Storage.a5k(V);l.appendChild(c)}u.We(l,this.Yo);
l.addEventListener("contextmenu",this.Yo)}this.ZK();var C=this.nt.parentNode!=null,K=Storage.It,T=this._;
if(C&&K==0)T.removeChild(this.nt);if(!C&&K==1)T.appendChild(this.nt);this.K$(this.F0,this.uV);this.H()};
Storage.prototype.ZK=function(d){var v=this.Is,t=this.J8,h=this.g6(),X=!1,g=0,x=Storage.jd?Storage.jd.split(".").pop():"";
for(var n=0;n<v.length;n++){var Z=t[n],Y=Z[1]==-1,a=v[n];if(Storage.It==1&&!Y&&!Z[0].toLowerCase().endsWith(x))a.style.display="none";
else a.style.display="auto";if(h.indexOf(n)==-1)u.Ag(a,"active");else{if(Y)X=!0;else g+=Z[1];u.M3(a,"active");
if(d)a.scrollIntoView({block:"center",behavior:"smooth"})}}var z=X?"":hi.Hb(g);this.EP.textContent=h.length==0?"":h.length+" item"+(h.length==1?"":"s")+" selected\u2001"+z;
this.nK.value=h.length==1&&!X?t[h[0]][0]:Storage.jd};Storage.prototype.amE=function(d){var v=d[0],t=this.J8[v];
if(t[1]==-1){var h=this.cb[this.AB].slice(0);h.push(t[0]);this.AB++;this.cb[this.AB]=h;this.cb=this.cb.slice(0,this.AB+1);
this.GP([]);this.S$()}else if(Storage.It==0){this.a89(d)}};Storage.prototype.a89=function(d){if(d){this.rW({R:_.Y.Wq,jH:"Opening ..."});
this.J(new eG("canclose",!0));this.aHi=d.slice(0);this.jV=0}else this.jV++;if(this.aHi.length==this.jV){this.rW({R:_.Y.DQ,jH:"Opening ..."})}else{var v=this.aHi[this.jV],t=this.J8[v],h=this.Sp(!0)+t[0];
this.wJ("load",h)}};Storage.prototype.H=function(){var d=Storage.wq,v=Storage.wl,t=Storage.eD;this.Vd[0].textContent=f7.get([[12,48],[12,14,0],"Date"][d]);
this.Vd[1].innerHTML=Storage.awH[[2,0][v]];this.Vd[2].textContent=f7.get(["Tiles","Icons",[25,3,1]][t]);
this.Vd[3].textContent="Upload";this.Vd[4].textContent="\u2716";var h=Storage.list[this.eh],X=h[4];if(X==null)X=f7.get([[1,19,5],j8==0?"Photopea":"Vectorpea",h[0]]);
this.as7.innerHTML=f7.get([[23,6],h[0]])+"<br/><small><small>"+X+"</small></small>";this.sq()};Storage.prototype.avP=function(d){this.rW({R:_.Y.NK});
if(u.al(this.amX))return;if(d.button==3||d.button==4){if(Date.now()-this.ajD>50){var v=this.AB;if(d.button==3)this.AB=Math.max(v-1,0);
else this.AB=Math.min(v+1,this.cb.length-1);this.S$()}this.ajD=Date.now();return}d.stopPropagation();
var n=this.Is.indexOf(d.currentTarget);if(d.type=="contextmenu"){if(this.J8==null)return;d.preventDefault();
var t=this.Nc;if(n!=-1){var h=[{name:[5,1],aM:[cQ.LE,cQ.f9]},{name:[6,37]},{name:"Download",G0:!0},{name:[5,4],aM:[cQ.on]},{name:[9,2]}];
if(Storage.list[this.eh][3]){var X=this.J8[n],g=Storage.If(X);if(g.length!=0){var x=[];for(var Z=0;Z<g.length;
Z++){var Y=[],a=g[Z],z=Storage.aoa(X,a[0]);if(z!=-1)Y.push({name:"Unshare"});else Y.push({name:"Allow Read"},{name:"Allow Read & Write"});
x.push({name:a[1]+[""," (R)"," (R,W)"][z+1],sub:Y})}h.push({name:"Share With",sub:x})}}t=new jr(h);t.parent=this;
t.P("select",this.Q5,this)}t.parent=this;t.H();t.update();this.rW({R:_.Y.Vw,UZ:t,x:d.clientX+4,y:d.clientY});
return}var p=this.g6(),U=p.indexOf(n);if(d.button!=0&&U!=-1)return;if(d.target==this.l$)this.GP([]);
else{if(d.ctrlKey){if(U==-1)p.push(n);else p.splice(U,1)}else if(d.shiftKey&&p.length!=0){var Z=p[0];
if(Z<n){var l=n;n=Z;Z=l}p=[];this.GP(p);for(var L=n;L<=Z;L++)p.push(L)}else{this.GP([n]);if(Date.now()-this.a0x<300&&p.length!=0&&p[0]==n){this.amE([n]);
this.a0x=0}}}this.a0x=Date.now();this.ZK()};Storage.prototype.rW=function(d){var v=new eG(_.E.c,!0);
v.data=d;this.J(v)};Storage.If=function(d){var v=[],t=[],h=iP.Yp(),X=h.acc.tstart;if(X)for(var n=0;n<X.length;
n++){v.push([X[n][2],X[n][0]]);t.push(X[n][2])}var g=iP.qP();X=g.inTeams;if(X)for(var n=0;n<X.length;
n++){v.push([X[n][2],X[n][0]]);t.push(X[n][2])}if(d&&d[4]){for(var n=0;n<d[4].length;n++){var x=parseInt(d[4][n].split(":")[0]);
if(t.indexOf(x)==-1)v.push([x,"Team "+x])}}return v};Storage.prototype.ar3=function(d,v){if(this.zE!=0)return 1;
this.zE=2;this.rW({R:_.Y.Wq,jH:f7.get([1,2])+" ..."});this.wJ("save",d);if(Storage.Mi)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.bo.contentWindow.postMessage(v,"*")};Storage.Q4={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a5k=function(d){d=d.toLowerCase();
var v=0;for(var n=0;n<d.length;n++)v+=d.charCodeAt(n)*613<<8*n;return"#"+f.Uj(v&16777215)};Storage.a5r="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.mT="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var k4=function(){var d,v,t,h,X,g,x,Z;function Y(l,L,j,O,F){v=L;h=O;x=F;d=l;g={};if(d==0){t=[j]}if(d==1){t=[];
for(var i in j)t.push(i)}if(d==2){var $=j[0],H=j[1],b=j[2],r={};for(var n=0;n<b.length;n++)r[b[n][0]]=!0;
var W={};for(var i in H){var V=i.split("/"),y=V[0],c=y.split("."),S="";if(c.length!=1){S="."+c.pop();
y=c.join(".")}while(r[y+S])y+=" - Copy";V[0]=y+S;W[V.join("/")]=H[i]}var C={};t=[];for(var i in W){var V=i.split("/");
for(var n=0;n<V.length-1;n++){var K=$+V.slice(0,n+1).join("/")+"/";if(C[K]==null){C[K]=!0;t.push([K])}}var T=$.endsWith("/")||i.startsWith("/")?"":"/";
t.push([$+T+i,W[i]])}}window.addEventListener("message",z,!1);Z=Date.now();a()}function a(){if(t.length==0){U();
return}X=t.shift();if(d==0)p("show",X);if(d==1)p("load",X);if(d==2){p("save",X[0]);if(X.length==2)v.contentWindow.postMessage(X[1],"*")}}function z(l){if(l.source!=v.contentWindow)return;
if(d==0){var L=JSON.parse(l.data),j=L.code,O=L.prm;for(var n=0;n<O.length;n++){var F=O[n];if(h&&h.indexOf(F[0])==-1)continue;
var i=X+(X=="/"?"":"/"),$=i+F[0];if(F[1]==-1)t.push($);else g[$]=F}h=null}else if(d==1){g[X]=new Uint8Array(l.data)}a()}function p(l,L){var j=l=="show"?", \"nothumbs\": true":"",O="{\"code\": \""+l+"\", \"prm\": "+JSON.stringify(L)+j+"  }";
v.contentWindow.postMessage(O,"*")}function U(){console.log(Date.now()-Z);window.removeEventListener("message",z,!1);
x(g)}return{Cp:Y}}();function e5(d){hm.call(this);var v=this._=u.q("div","form scrollable padded label12");
this.aR=d;this.ZE=null;var t=[],h=e5.Dl[d];this.aEz=[];for(var X in h){var g=parseInt(X.slice(1)),x=g%10==0?"":"\u2800\u2800- ";
t.push(x+h[X]);this.aEz.push(g)}this.ec=[new eR("Name",null,30),new eR("Description",null,30,4),d==0?new eR("File"," www.Photopea.com#i...",17):new dK("File",!1,!1),new eR("Thumbnail URL","* Use Imgur.com etc.",17),new e8("Category",t),new l8("Make Public"),new lt("<< Back",null,null,!0),new lt("Save",null,null,!0)];
if(d==0)this.ec.push(new i9("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new i9("Get a Thumbnail URL: File - Publish Online - JPG."),new i9("Write a proper description, so that your work can be found using text search."));
if(d==1)this.ec.push(new i9("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(d!=0)this.ec.push(new i9("Do not load any file to preserve the old version."));for(var n=0;n<this.ec.length;
n++){var Z=this.ec[n];v.appendChild(Z._);Z.parent=this;if(n!=4&&n!=6)u.WJ(v);if(Z instanceof lt)Z.P("click",this.aBJ,this);
if(d!=0&&n==2)Z.P(_.E.w,this.at8,this)}}e5.prototype=new hm;e5.prototype.at8=function(d){var v=this.ec[2],t=v.j(),h=Object.keys(t),X=t[h[0]].buffer,g=b3.IF(X),x=" json atn abr grd asl pat csh icc".split(" ")[this.aR];
if(g!=x){alert("This is a wrong file"+(g?" ("+g.toUpperCase()+")":"")+". You need to upload the "+x.toUpperCase()+" file.");
v.a({})}};e5.prototype.aBJ=function(d){if(d.target==this.ec[6]){this.J(new eG("back"));return}function v(x,Z){return x.indexOf(Z)!=-1}var t=this.ec[3].j().trim(),h=t.startsWith("http")&&(v(t,".jpeg")||v(t,".jpg")||v(t,".png")||v(t,".gif"));
if(!h){alert("Thumbnail URL is incorrect.");return}var X=new XMLHttpRequest,g="mirror.php?url="+encodeURIComponent(t);
X.open("GET",g);X.responseType="arraybuffer";X.onload=this.auS.bind(this);X.send()};e5.prototype.auS=function(d){var v=d.target.response,t=v.byteLength;
if(t>2e5&&b3.IF(v)!="gif"){alert("Thumbnail is too large ("+hi.Hb(t)+"). Make it under 200 kB.");return}var h=this.ec[2].j(),X=Object.keys(h);
if(this.aR!=0&&X.length==0&&(this.ZE==null||this.ZE.file==null||this.ZE.file=="")){alert("You need to select a file.");
return}if(this.aR!=0&&X.length!=0){console.log(h);dY.sU.ag8(h[X[0]].buffer,X[0],this.aDn.bind(this),"pp-resources");
return}this.aDn()};e5.prototype.aDn=function(d){var v=this.aR,t="name desc file thmb catg publ".split(" "),h=this.ZE;
for(var n=0;n<6;n++){if(v!=0&&n==2)continue;var X=this.ec[n].j();if(n<=3){X=X.trim();if(X.length==0){alert("One of values is empty.");
return}}if(n==2){if(X.endsWith(".psd"))X=X.slice(0,X.length-4);var g=X.split("#i");if(g.length!=2||g[1].length!=8){alert("File ID is incorrect.");
return}X=g.pop()}if(n==4)X=this.aEz[X];h[t[n]]=X}if(v!=0){if(d)h.file=d;else if(h.file==null){alert("Select a file from your computer.");
return}}if(h.utme.length==0)h.utme=""+Math.round(Date.now()/1e3);h.type=v;this.J(new eG("save"))};e5.prototype.H=function(){};
e5.prototype.a=function(d){var v=this.ZE=f.v(d),t=this.aR,h="name desc file thmb catg publ".split(" ");
for(var n=0;n<6;n++){if(t!=0&&n==2)continue;var X=v[h[n]];if(X!=""&&n==2)X="https://photopea.com#i"+X;
if(n==4)X=this.aEz.indexOf(X);if(n==5&&X==null)X=!0;this.ec[n].a(X)}};e5.prototype.j=function(){return f.v(this.ZE)};
e5.Dl=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function j4(){hm.call(this);var d=this._=u.q("div","form");this.ZE=null;this.Cr=null;this.yM=null;this.mz=null;
var v=u.q("canvas");this.fy=v.getContext("2d");u.G4(v);u.We(v,this.ZY.bind(this));this.mq=[new a0([12,44],[[19,0,0],[19,0,1]]),{_:v},new eh([12,0],0,100,"%",null,null,null,4),new cX,new eh([12,40],0,100,"%",2,null,null,4),new lt([5,4],null,null,!0)];
for(var n=0;n<this.mq.length;n++){var t=this.mq[n];t.parent=this;d.appendChild(t._);if(n!=2&&n!=4)u.WJ(d);
if(n!=1)t.P(n==5?"click":_.E.w,this.nh,this)}this.Z8=this.BF.bind(this);this.th=this.r8.bind(this)}j4.prototype=new hm;
j4.prototype.j=function(){return f.v(this.ZE)};j4.prototype.a=function(d){this.ZE=f.v(d);this.lq()};
j4.prototype.H=function(){var d=this.mq;for(var n=0;n<d.length;n++)if(d[n].H)d[n].H()};j4.prototype.ZY=function(d){var v=u.LY(),t=u.cN(d,this.fy.canvas);
t.x*=v;t.y*=v;var h=this.yM,X=this.mz,g=this.ZE,x=g[1],Z=7*u.LY(),Y=-1;for(var n=0;n<h.length;n++){if(cK.A_(t,h[n][0])<Z)Y=n}if(Y==-1){if(Math.abs(t.y-(X.y+X.$))>10*v)return;
var a=[.5,[0,0,0],1,.5];x.push(a);x.sort(function(z,p){return z[0]-p[0]});this.As=[new cK,x.indexOf(a),0]}else this.As=h[Y];
this.Cr=JSON.stringify(this.ZE);u.Fg(window,this.Z8);u.KP(window,this.th);if(Y==-1)this.BF(d);this.lq()};
j4.prototype.BF=function(d){this.ZE=JSON.parse(this.Cr);var v=u.LY(),t=u.cN(d,this.fy.canvas);t.x*=v;
t.y*=v;var h=this.As,X=h[1],g=this.mz,x=this.ZE[1],Z=x[X],Y=(t.x-g.x)/g.r;if(h[2]==0){Z[0]=Math.max(0,Math.min(1,Y));
if(Math.abs(t.y-(g.y+g.$))>30*v)x.splice(X,1)}else{var a=Z[0],z=x[X+1][0],p=Z[3];Z[3]=Math.max(.13,Math.min(.87,(Y-a)/(z-a)))}x.sort(function(U,l){return U[0]-l[0]});
this.lq()};j4.prototype.r8=function(d){u.Ej(window,this.Z8);u.mc(window,this.th)};j4.prototype.nh=function(d){var v=this.mq,n=v.indexOf(d.target),t=this.ZE,h=d.target.j(),X=this.As;
if(n==0)t[0]=h;if(X){var g=t[1][X[1]];if(n==2)g[2]=h/100;if(n==3){h=f.le(d.target.Lz());g[1]=[h.C/255,h.L/255,h.X/255]}if(n==4)if(X[2]==0)g[0]=h/100;
else g[3]=Math.max(.13,Math.min(.87,h/100));if(n==5){t[1].splice(X[1],1);this.As=null}}this.lq()};j4.prototype.lq=function(){var d=this.mq,v=this.ZE,t=v[1],h=this.fy,X=h.canvas;
d[0].a(v[0]);var g=X.width=Math.floor(300*u.LY()),x=X.height=Math.floor(60*u.LY()),Z=Math.floor(20*u.LY()),Y=g-Z-Z;
this.mz=new iW(Z,Z,Y,x-Z-Z);u.i7(X);var a=h.fillStyle=h.createLinearGradient(Z,Z,g-Z,Z);f.iF.a4E(a,t);
h.fillRect(Z,Z,Y,x-Z-Z);h.lineWidth=1;h.strokeRect(Z-.5,Z-.5,Y+1,x-Z-Z+1);var z=this.yM=[],p=this.As;
h.fillStyle="white";for(var n=0;n<t.length;n++){var U=t[n],l=U[0],L=x-Z*.6;if(p&&p[1]==n&&p[2]==0){h.fillStyle="#00aaff";
h.beginPath();h.arc(Z+l*Y,L,x*.125,0,2*Math.PI);h.fill()}h.fillStyle="white";h.beginPath();h.arc(Z+l*Y,L,x*.1,0,2*Math.PI);
h.fill();h.beginPath();h.arc(Z+l*Y,L,x*.07,0,2*Math.PI);h.stroke();z.push([new cK(Z+l*Y,L),n,0]);if(n!=t.length-1){var j=U[3],O=t[n+1][0];
l=l+j*(O-l);L=Z*.7;if(p&&p[1]==n&&p[2]==1){h.fillStyle="#00aaff";h.beginPath();h.arc(Z+l*Y,L,x*.075,0,2*Math.PI);
h.fill()}h.fillStyle="white";h.beginPath();h.arc(Z+l*Y,L,x*.05,0,2*Math.PI);h.fill();z.push([new cK(Z+l*Y,L),n,1])}}d[2].$e(p&&p[2]==0);
d[3].$e(p&&p[2]==0);d[4].$e(p!=null);d[5].$e(p&&p[2]==0&&t.length>2);if(p){var U=t[p[1]],F=U[1];if(p[2]==0)d[2].a(U[2]*100);
d[3].Wi(f.Lw({C:F[0]*255,L:F[1]*255,X:F[2]*255}));d[4].a(U[p[2]==0?0:3]*100)}};function ds(d){hm.call(this);
this.Fq=d;this._=u.q("div","");this.mG=[];this.aFf=null;this.afg=[]}ds.prototype=new hm;ds.prototype.p9=function(d){};
ds.prototype.vc=function(){return!1};ds.prototype.u6=function(){return 0};ds.prototype.K$=function(d,v){};
ds.prototype.sq=function(d,v){};ds.prototype.s0=function(d){};ds.prototype.a=function(d,v,t,h,X,g){var x=[],Z=this.mG,Y=0,a=e0.g4["s"+this.Fq];
if(this.Fq=="Dspl")this.ZL(d,x,g);else a?a(d,x,g):this.ZL(d,x,g);for(var n=0;n<Z.length;n++)if(!(Z[n]instanceof i9))Z[n].a(x[Y++]);
if(d.RndS)this.aFf=d.RndS.v};ds.prototype.j=function(){var d=e0.yu(this.Fq),v=[],t=this.mG,h=0;for(var n=0;
n<t.length;n++)if(!(t[n]instanceof i9))v[h++]=t[n].j();var X=e0.g4["g"+this.Fq];if(this.Fq=="Dspl")this.dD(d,v);
else X?X(d,v):this.dD(d,v);if(d.RndS)d.RndS.v=this.aFf;return d};ds.prototype.M6=function(d){};ds.prototype.cV=function(d){if(d&&d.target instanceof lt){this.aFf=Math.floor(Math.random()*4294967295)}var v=this.afg;
for(var n=0;n<v.length;n+=2){var t=this.mG[v[n]],h=this.mG[v[n+1]],X=t.j(),g=h.j();if(d.target==t)h.a(Math.max(X,g));
else t.a(Math.min(X,g))}this.J(new eG(_.E.w))};ds.prototype.H=function(){for(var n=0;n<this.mG.length;
n++)this.mG[n].H();var d=this.aLz;if(d)d.H()};ds.prototype.B3=function(d){u.M3(this._,"form");var v=this.mG;
for(var n=0;n<v.length;n++){var t=v[n];t.parent=this;t.P(_.E.w,this.cV,this);this._.appendChild(t._);
if(t instanceof l8&&v[n+1]instanceof cX)continue;if(d&&d.indexOf(n)!=-1)u.$a(this._);else u.WJ(this._)}var h=e0.yu(this.Fq);
if(h.RndS){var X=this.aLz=new lt([25,1,2],null,null,!0);this._.appendChild(X._);X.P("click",this.cV,this)}};
ds.prototype.YF=function(d){return!1};ds.prototype.PO=function(){return!1};ds.prototype.li=function(d,v,t,h,X){};
ds.prototype.qw=function(d,v,t,h,X){};ds.prototype.QZ=function(d,v,t,h,X){};ds.prototype.dD=function(d,v){};
ds.prototype.ZL=function(d,v){};ds.prototype.jB=function(d){var v=d.target.j().indexOf(!0),t=v!=-1;if(v!=-1){this.JN=v}if(this.yt==null)this.yt=0;
var h=Date.now(),X=new eG(_.E.c,!0);X.Mw=!0;if(h-this.yt<300&&this.JN<3&&this.Jl&&this.n3==null){if(this.$_==null)this.$_=[0,8421504,16777215];
X.data={R:_.Y.S8,cG:"colorpicker",EJ:this.$_[this.JN],Zp:this.aqA.bind(this)};this.J(X)}else{this.aDK(v!=-1)}this.yt=h};
ds.prototype.aDK=function(d){var v=new eG(_.E.c,!0);v.Mw=!0;v.data={R:d?_.Y.H_:_.Y.ri,T:A.TT};this.J(v);
v=new eG(_.E.F,!0);v.T=A.TT;v.Mw=!0;v.data={R:"supertool",T:d?this:null};this.J(v)};ds.prototype.aqA=function(d){this.$_[this.JN]=d;
var v=[];for(var n=0;n<3;n++)v[n]="#"+f.Uj(this.$_[n]);this.Jl.Cw(a0.VG(v));var t=[!1,!1,!1];t[this.JN]=!0;
this.Jl.a(t);this.aDK(!0)};ds.a4I=function(d){d.PO=function(){return!0};d.li=function(v,t,h,X,g){this.GN=!0;
this.avn(v,g)};d.qw=function(v,t,h,X,g){if(!this.GN)return;this.avn(v,g)};d.QZ=function(v,t,h,X,g){this.GN=!1};
d.avn=function(v,t){var h=new iW(0,0,v.r,v.$);if(v.p)h=v.p.S;var X=v.z.tw(t.x,t.y);X.x-=h.x;X.y-=h.y;
function g(x,Z){return Math.round(Math.max(0,Math.min(100,100*x/Z)))}this.mG[2].a(g(X.x,h.r));this.mG[3].a(g(X.y,h.$));
this.cV()}};ds.ayT=function(d,v,t,h){var X=d.Jl.j().indexOf(!0);if(X==-1||X>2)return;var g=h=="levl"?k9:js,x=d.value;
d.value=e0.yu(h);d.cV();var Z=A.Ds.Ah(v,t,1,null,!0),Y=[Z>>>16&255,Z>>>8&255,Z&255],a=d.$_;if(a==null)a=[0,8421504,16777215];
Z=a[X];var z=[Z>>>16&255,Z>>>8&255,Z&255];for(var n=0;n<3;n++){var p=g.TC(x,1+n);if(X==0){var U=Y[n]-z[n];
if(h=="levl")p[0]=U;else p[0].v.Hrzn.v=U}if(X==1){var l=Math.log(Y[n]/255)/Math.log((Y[0]+Y[1]+Y[2])*.333/255),L=Math.log(z[n]/255)/Math.log((z[0]+z[1]+z[2])*.333/255),j=l/L;
if(h=="levl")p[4]=Math.min(999,Math.max(10,Math.round(100*j)));else{if(p.length==2)p.splice(1,0,f.v(p[0]));
p[1].v.Hrzn.v=127-Math.log(j)*80;p[1].v.Vrtc.v=127}}if(X==2){var U=255*Y[n]/z[n];if(h=="levl")p[1]=U;
else p[p.length-1].v.Hrzn.v=U}g.jq(x,1+n,p)}d.a(x);d.cV()};ds.Bokh=function(){ds.call(this,"Bokh");this.mG=[new e8("Depth Map",["A","b"]),new fb("Focal Distance",0,255),new l8([4,11]),new e8([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new fb([12,56],0,100),new fb([12,15],0,360),new fb([12,2],0,100),new fb([4,13],0,255),new fb([24,6],0,100),new a0([12,58],[[12,59,0],[12,59,1]]),new l8([12,60])];
this.B3([5,7])};ds.Bokh.prototype=new ds;ds.Bokh.prototype.ZL=function(d,v,t){var h=[[22,5,0],[6,5,3],[6,2]],X=d.BkDi.v.BtDi,g=d.BkDc,x=0;
if(X=="BeIn")x=0;else if(X=="BeIt"&&g.v.BtDc=="BeCt")x=1;else if(X=="BeIt"&&g.v.BtDc=="BeCm")x=2;else x=3+g.v;
for(var n=0;n<t[1].length;n++)h.push(t[1][n].name);this.mG[0].Cw(h,[3]);v[0]=x;v[1]=d.BkDp.v;v[2]=d.BkDs.v;
v[3]=parseInt(d.BkIs.v.BtIs.slice(3))-3;v[4]=d.BkIb.v;v[5]=d.BkIr.v;v[6]=d.BkSb.v;v[7]=d.BkSt.v;v[8]=d.BkNa.v;
v[9]=d.BkNt.v.BtNt=="BeNu"?0:1;v[10]=d.BkNm.v};ds.Bokh.prototype.dD=function(d,v){var t;if(v[0]==0){t="BeIn";
delete d.BkDc}else if(v[0]<3){t="BeIt";d.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][v[0]-1]}}}else{t="BeIa";
d.BkDc={t:"long",v:v[0]-3}}d.BkDi.v.BtDi=t;d.BkDp.v=v[1];d.BkDs.v=v[2];d.BkIs.v.BtIs="BeS"+(3+v[3]);
d.BkIb.v=v[4];d.BkIr.v=v[5];d.BkSb.v=v[6];d.BkSt.v=v[7];d.BkNa.v=v[8];d.BkNt.v.BtNt=["BeNu","BeNg"][v[9]];
d.BkNm.v=v[10]};ds.oilPaint=function(){ds.call(this,"oilPaint");this.mG=[new fb([12,56],.1,10,"px",!0),new fb("Cleanliness",0,10,"px",!0),new fb([12,38],.1,10,null,!0),new fb("Bristle Detail",0,10,null,!0),new l8("Lighting"),new fb("Shine",0,10,null,!0),new an([12,15])];
this.B3()};ds.oilPaint.prototype=new ds;ds.oilPaint.prototype.ZL=function(d,v){var t="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<t.length;n++)v[n]=d[t[n]].v;v[6]=[d.LghD.v]};ds.oilPaint.prototype.dD=function(d,v){var t="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<t.length;n++)d[t[n]].v=v[n];d.LghD.v=v[6][0]};ds.TrcC=function(){ds.call(this,"TrcC");
this.mG=[new fb("Level",0,255),new a0([12,69],[[19,4,1],[19,4,0]])];this.B3()};ds.TrcC.prototype=new ds;
ds.TrcC.prototype.ZL=function(d,v){v[0]=d.Lvl.v;v[1]=["Lwr","Upr"].indexOf(d.Edg.v.CntE)};ds.TrcC.prototype.dD=function(d,v){d.Lvl.v=v[0];
d.Edg.v.CntE=["Lwr","Upr"][v[1]]};ds["Dfs "]=function(){ds.call(this,"Dfs ");this.mG=[new a0([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.B3()};ds["Dfs "].prototype=new ds;ds["Dfs "].prototype.ZL=function(d,v){v[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(d.Md.v.DfsM)};
ds["Dfs "].prototype.dD=function(d,v){d.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][v[0]]};ds.Embs=function(){ds.call(this,"Embs");
this.mG=[new an([12,15]),new fb([12,42],1,100,"px"),new fb([12,57],1,500,"%")];this.B3()};ds.Embs.prototype=new ds;
ds.Embs.prototype.ZL=function(d,v){v[0]=[d.Angl.v];v[1]=d.Hght.v;v[2]=d.Amnt.v};ds.Embs.prototype.dD=function(d,v){d.Angl.v=v[0][0];
d.Hght.v=v[1];d.Amnt.v=v[2]};ds["Wnd "]=function(){ds.call(this,"Wnd ");this.mG=[new a0([12,32],["Wind","Blast","Stagger"]),new a0([12,33],["From the Right","From the Left"])];
this.B3()};ds["Wnd "].prototype=new ds;ds["Wnd "].prototype.ZL=function(d,v){v[0]=["Wnd","Blst","Stgr"].indexOf(d.WndM.v.WndM);
v[1]=["Left","Rght"].indexOf(d.Drct.v.Drct)};ds["Wnd "].prototype.dD=function(d,v){d.WndM.v.WndM=["Wnd","Blst","Stgr"][v[0]];
d.Drct.v.Drct=["Left","Rght"][v[1]]};ds.denoise=function(){ds.call(this,"denoise");this.mG=[new fb([12,64],0,10),new fb([12,65],0,100,"%")];
this.B3()};ds.denoise.prototype=new ds;ds.denoise.prototype.ZL=function(d,v){var t=d.channelDenoise.v[0].v;
v[0]=t.Amnt.v;v[1]=t.EdgF.v};ds.denoise.prototype.dD=function(d,v){var t=d.channelDenoise.v[0].v;t.Amnt.v=v[0];
t.EdgF.v=v[1]};ds.lightFilterGradient=function(){ds.call(this,"lightFilterGradient");this.mG=[new fb([24,3,1],0,100,"px",1,!0),new fb([12,38],0,200,"%"),new l8([4,11]),new fb("High",0,100,"%"),new fb("Medium",0,100,"%"),new fb("Low",0,100,"%")];
this.B3()};ds.lightFilterGradient.prototype=new ds;ds.lightFilterGradient.prototype.ZL=function(d,v){v[0]=d.blur.v;
v[1]=d.textureScale.v*100;v[2]=d.Scl.v==-1;var t=d.Dtl.v;v[3]=t[0].v*100;v[4]=t[1].v*100;v[5]=t[2].v*100};
ds.lightFilterGradient.prototype.dD=function(d,v){d.blur.v=v[0];d.textureScale.v=v[1]/100;d.Scl.v=v[2]?-1:1;
var t=d.Dtl.v;t[0].v=v[3]/100;t[1].v=v[4]/100;t[2].v=v[5]/100};ds.Fbrs=function(){ds.call(this,"Fbrs");
this.mG=[new fb("Variance",1,64),new fb([12,64],1,64)];this.B3()};ds.Fbrs.prototype=new ds;ds.Fbrs.prototype.ZL=function(d,v){v[0]=d.Vrnc.v;
v[1]=d.Strg.v};ds.Fbrs.prototype.dD=function(d,v){d.Vrnc.v=v[0];d.Strg.v=v[1]};ds.LnsF=function(){ds.call(this,"LnsF");
this.mG=[new fb([12,2],10,300,"%"),new a0([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fb("Position X",0,100,"%"),new fb("Position Y",0,100,"%")];
this.B3()};ds.LnsF.prototype=new ds;ds.LnsF.prototype.ZL=function(d,v){v[0]=d.Brgh.v;v[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(d.Lns.v.Lns);
var t=d.FlrC.v;v[2]=Math.round(t.Hrzn.v*100);v[3]=Math.round(t.Vrtc.v*100)};ds.LnsF.prototype.dD=function(d,v){d.Brgh.v=v[0];
d.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][v[1]];var t=d.FlrC.v;t.Hrzn.v=v[2]/100;t.Vrtc.v=v[3]/100};ds.a4I(ds.LnsF.prototype);
ds.blendOptions=function(){ds.call(this,"blendOptions");this.mG.push(new e8([12,19,0],gL.GY,gL.F_));
this.mG.push(new fb([12,0],0,100,"%"));this.B3()};ds.blendOptions.prototype=new ds;ds.blendOptions.prototype.ZL=function(d,v){v[0]=gL.RG.indexOf(d.Md.v.BlnM);
v[1]=d.Opct.v.val};ds.blendOptions.prototype.dD=function(d,v){d.Md.v.BlnM=gL.RG[v[0]];d.Opct.v.val=v[1]};
ds.LnCr=function(){ds.call(this,"LnCr");this.mG=[new fb([12,57],-100,100),new fb([12,38],10,150,"%")];
this.B3()};ds.LnCr.prototype=new ds;ds.LnCr.prototype.ZL=function(d,v){v[0]=d.LnIa.v;v[1]=d.LnSi.v};
ds.LnCr.prototype.dD=function(d,v){d.LnIa.v=v[0];d.LnSi.v=v[1]};ds.adaptCorrect=function(){ds.call(this,"adaptCorrect");
var d=bP;this.mG=[new i9([19,6,0]),new d([12,57],0,100,"%"),new d("Tone",0,100,"%"),new d([12,56],0,200,"px"),new i9([19,6,2]),new d([12,57],0,100,"%"),new d("Tone",0,100,"%"),new d([12,56],0,200,"px"),new i9([3]),new d([13,0],-100,100)];
this.B3([3,7])};ds.adaptCorrect.prototype=new ds;ds.adaptCorrect.prototype.ZL=function(d,v){var t=d.sdwM.v;
v[0]=t.Amnt.v.val;v[1]=t.Wdth.v.val;v[2]=t.Rds.v;var t=d.hglM.v;v[3]=t.Amnt.v.val;v[4]=t.Wdth.v.val;
v[5]=t.Rds.v;v[6]=d.ClrC.v};ds.adaptCorrect.prototype.dD=function(d,v){var t=d.sdwM.v;t.Amnt.v.val=v[0];
t.Wdth.v.val=v[1];t.Rds.v=v[2];var t=d.hglM.v;t.Amnt.v.val=v[3];t.Wdth.v.val=v[4];t.Rds.v=v[5];d.ClrC.v=v[6]};
ds.Flam=function(){ds.call(this,"Flam");var d=this.mG=[new e8([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fb([12,80,0],20,1e3,"px"),new l8("Randomize Length"),new fb([12,41],5,600,"px"),new fb([12,15],0,360,"\xB0"),new fb("Interval",10,200,"px"),new l8("Adapt Interval for Loops"),new cX(!1),new e8([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fb("Turbulent",0,100),new fb("Jag",0,100),new fb([12,0],0,100),new fb("Lines",2,30),new fb("Bottom",0,100),new e8([12,22],["Normal","Violent","Flat"]),new e8([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new l8("Randomize Shape"),new fb("Random Seed",0,100)];
this.B3();var v=this._;u.Pl(v);var t=new a0(null,["Basic","Advanced"]);t.P(_.E.w,this.ac7,this);v.appendChild(t._);
u.$a(v);var h=u.q("div"),X=u.q("div");this.amK=[h,X];v.appendChild(h);for(var n=0;n<d.length;n++){(n<9?h:X).appendChild(d[n]._);
if(n==6)u.WJ(h)}d[0].P(_.E.w,this.ai$,this);this.ai$()};ds.Flam.prototype=new ds;ds.Flam.prototype.ai$=function(d){var v=this.mG,n=v[0].j();
v[1].$e(n!=0&&n!=5);v[2].$e(n!=0&&n!=5);v[4].$e(n!=0&&n!=5&&n!=1);v[5].$e(n!=0&&n!=5);v[6].$e(n!=0&&n!=5)};
ds.Flam.prototype.ac7=function(d){var n=d.target.j(),v=this.amK,t=this._;t.removeChild(v[1-n]);t.appendChild(v[n])};
ds.boxblur=function(){ds.call(this,"boxblur");this.mG=[new fb([12,56],1,200," px")];this.B3()};ds.boxblur.prototype=new ds;
ds.boxblur.prototype.ZL=function(d,v){v[0]=d.Rds.v.val};ds.boxblur.prototype.dD=function(d,v){d.Rds.v.val=v[0]};
ds.GsnB=function(){ds.call(this,"GsnB");this.mG=[new fb([12,56],.1,400,"px",1,!0)];this.B3()};ds.GsnB.prototype=new ds;
ds.Dila=function(){ds.call(this,"Dila");this.mG=[new fb([11,12,1],0,20,"px",0),new fb([12,56],0,400,"px",0,!0)];
this.B3()};ds.Dila.prototype=new ds;ds.MtnB=function(){ds.call(this,"MtnB");this.mG=[new an([12,15]),new fb([12,28],1,100," px")];
this.B3()};ds.MtnB.prototype=new ds;ds.RdlB=function(){ds.call(this,"RdlB");this.mG=[new fb([12,57],1,100),new a0([12,36],["Spin","Zoom"]),new fb("Position X",0,100,"%"),new fb("Position Y",0,100,"%")];
this.B3()};ds.RdlB.prototype=new ds;ds.RdlB.prototype.ZL=function(d,v){v[0]=d.Amnt.v;v[1]=["Spn","Zm"].indexOf(d.BlrM.v.BlrM);
v[2]=d.Cntr.v.Hrzn.v*100;v[3]=d.Cntr.v.Vrtc.v*100};ds.RdlB.prototype.dD=function(d,v){d.Amnt.v=v[0];
d.BlrM.v.BlrM=["Spn","Zm"][v[1]];d.Cntr.v.Hrzn.v=v[2]/100;d.Cntr.v.Vrtc.v=v[3]/100};ds.a4I(ds.RdlB.prototype);
ds.Dspl=function(){ds.call(this,"Dspl");this.mG=[new e8([6,36,3],["a","b"]),new fb([22,4,0],-100,100,"px"),new fb([22,4,1],-100,100,"px"),new e8([24,18,0],[[24,18,3],[24,18,2]])];
this.B3()};ds.Dspl.prototype=new ds;ds.Dspl.prototype.ZL=function(d,v,t){this.ari=[];this.m7=[];var h=-1,X=t?t[0]:null;
if(X==null)X=this.al1;else this.al1=X;if(X)for(var n=0;n<X.length;n++){var g=X[n];this.ari.push(g.Ps.trim());
this.m7.push(g.tj);if(g.tj==d.DspF.v.pth)h=n}this.mG[0].Cw(this.ari);v[0]=h==-1?0:h;v[1]=d.HrzS.v;v[2]=d.VrtS.v;
v[3]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)};ds.Dspl.prototype.dD=function(d,v){var t=this.al1;if(this.m7.length==0)return;
d.DspF.v.pth=this.m7[v[0]];d.HrzS.v=v[1];d.VrtS.v=v[2];d.UndA.v.UndA=["WrpA","RptE"][v[3]];var h=t[v[0]];
h.jP();var X=h.Rc[1],g=X.r,x=X.$,Z=f.m(X.k());f.TA(h.Rc[0],Z);var Y=[x&255,x>>>8,0,0,g&255,g>>>8,0,0,3,0];
for(var a=0;a<2;a++)for(var n=0;n<Z.length;n++)Y.push(Z[n]);for(var n=0;n<1e3;n++)Y.push(0);d.DspD={t:"tdta",v:Y};
d.EmbF={t:"bool",v:!0}};ds.Pnch=function(){ds.call(this,"Pnch");this.mG=[new fb([12,57],-100,100,"%")];
this.B3()};ds.Pnch.prototype=new ds;ds["Plr "]=function(){ds.call(this,"Plr ");this.mG=[new a0(null,["Rect to Polar","Polar to Rect"])];
this.B3()};ds["Plr "].prototype=new ds;ds.Rple=function(){ds.call(this,"Rple");this.mG=[new fb([12,57],-999,999),new e8([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.B3()};ds.Rple.prototype=new ds;ds["Shr "]=function(){ds.call(this,"Shr ");this.mG=[new lk(!0,!0),new e8([24,18,0],[[24,18,3],[24,18,2]])];
this.B3()};ds["Shr "].prototype=new ds;ds["Shr "].prototype.ZL=function(d,v){var t=new gi(0,255/127,255/127,0,-2,128),h=f.v(d.ShrP.v);
f.kB.M(h,t);v[0]=h;v[1]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)};ds["Shr "].prototype.dD=function(d,v){var t=new gi(0,255/127,255/127,0,-2,128);
t.zJ();f.kB.M(v[0],t);d.ShrP.v=v[0];d.ShrE.v=v[0].length-1;d.UndA.v.UndA=["WrpA","RptE"][v[1]]};ds.Sphr=function(){ds.call(this,"Sphr");
this.mG=[new fb([12,57],-100,100),new e8([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.B3()};ds.Sphr.prototype=new ds;
ds.Sphr.prototype.ZL=function(d,v){v[0]=d.Amnt.v;v[1]=["Nrml","HrzO","VrtO"].indexOf(d.SphM.v.SphM)};
ds.Sphr.prototype.dD=function(d,v){d.Amnt.v=v[0];d.SphM.v.SphM=["Nrml","HrzO","VrtO"][v[1]]};ds.Dthr=function(){ds.call(this,"Dthr");
this.mG=[new e8("Palette",fH.ajz),new a0("Method",["None","Floyd-Steinberg","Bayer 4x4"])];this.B3()};
ds.Dthr.prototype=new ds;ds.Dthr.prototype.ZL=function(d,v){v[0]=d.Plte.v;v[1]=d.Mthd?d.Mthd.v:1};ds.Dthr.prototype.dD=function(d,v){d.Plte.v=v[0];
d.Mthd.v=v[1]};ds.Part=function(){ds.call(this,"Part");this.mG=[new fb([15,5,1],0,100,"%"),new fb([12,14,0],1,50,"px"),new fb([12,34],0,100,"%"),new fb([12,2],10,1e3,"%"),new cX(!0),new fb("Time",0,1,null,3),new fb("Turbulence",0,100,"%"),new l8("Blink"),new l8("Fall")];
this.B3([4])};ds.Part.prototype=new ds;ds.Part.prototype.ZL=function(d,v){v[0]=d.Cont.v;v[1]=d.Size.v;
v[2]=d.Dpth.v;v[3]=d.Brgh.v;v[4]=d.Clr.v;v[5]=d.Time.v;v[6]=d.Turb.v;v[7]=d.Blnk.v;v[8]=d.Fall.v};ds.Part.prototype.dD=function(d,v){d.Cont.v=v[0];
d.Size.v=v[1];d.Dpth.v=v[2];d.Brgh.v=v[3];d.Clr.v=v[4];d.Time.v=v[5];d.Turb.v=v[6];d.Blnk.v=v[7];d.Fall.v=v[8]};
ds.Twrl=function(){ds.call(this,"Twrl");this.mG=[new fb([12,15],-999,999)];this.B3()};ds.Twrl.prototype=new ds;
ds.Wave=function(){ds.call(this,"Wave");this.afg=[1,2,3,4];this.mG=[new fb("Number of Generators",1,100),new bP("Min Length",1,999),new bP("Max Length",1,999),new bP("Min Ampl.",1,999),new bP("Max Ampl.",1,999),new bP("Scale X",1,100,"%"),new bP("Scale Y",1,100,"%"),new a0([12,44],["Sine","Triangle",[12,93,3]]),new e8([24,18,0],[[24,18,3],[24,18,2]])];
this.B3()};ds.Wave.prototype=new ds;ds.ZgZg=function(){ds.call(this,"ZgZg");this.mG=[new fb([12,57],-100,100),new fb("Ridges",0,20),new e8([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.B3()};ds.ZgZg.prototype=new ds;ds.surfaceBlur=function(){ds.call(this,"surfaceBlur");this.mG=[new fb([12,56],1,200," px"),new fb([4,13],1,255," px")];
this.B3()};ds.surfaceBlur.prototype=new ds;ds.surfaceBlur.prototype.ZL=function(d,v){v[0]=d.Rds.v.val;
v[1]=d.Thsh.v};ds.surfaceBlur.prototype.dD=function(d,v){d.Rds.v.val=v[0];d.Thsh.v=v[1]};ds.AdNs=function(){ds.call(this,"AdNs");
this.mG=[new fb([12,57],0,200," %"),new e8([12,58],[[12,59,1],[12,59,0]]),new l8([12,60])];this.B3()};
ds.AdNs.prototype=new ds;ds.DstS=function(){ds.call(this,"DstS");this.mG=[new fb([12,56],1,200," px"),new fb([4,13],1,255," px")];
this.B3()};ds.DstS.prototype=new ds;ds["Mdn "]=function(){ds.call(this,"Mdn ");this.mG=[new fb([12,56],1,200," px")];
this.B3()};ds["Mdn "].prototype=new ds;ds["Mdn "].prototype.ZL=function(d,v){v[0]=d.Rds.v.val};ds["Mdn "].prototype.dD=function(d,v){d.Rds.v.val=v[0]};
ds.ClrH=function(){ds.call(this,"ClrH");this.mG=[new fb([12,56],4,100," px")];for(var n=1;n<4;n++)this.mG.push(new fb("Angle "+n,0,90," \xB0"));
this.B3()};ds.ClrH.prototype=new ds;ds.ClrH.prototype.ZL=function(d,v){v[0]=d.Rds.v;for(var n=1;n<4;
n++)v[n]=d["Ang"+n].v};ds.ClrH.prototype.dD=function(d,v){d.Rds.v=v[0];for(var n=1;n<4;n++)d["Ang"+n].v=v[n]};
ds.ClrH.prototype.H=function(){var d=this.mG;d[0].H();for(var n=1;n<4;n++)d[n].Ge(f7.get([12,15])+" "+n)};
ds.Crst=function(){ds.call(this,"Crst");this.mG=[new fb([12,61],3,100," px")];this.B3()};ds.Crst.prototype=new ds;
ds.Crst.prototype.ZL=function(d,v){v[0]=d.ClSz.v};ds.Crst.prototype.dD=function(d,v){d.ClSz.v=v[0]};
ds.Mztn=function(){ds.call(this,"Mztn");this.mG.push(new e8([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.m7="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.B3()};ds.Mztn.prototype=new ds;
ds.Mztn.prototype.ZL=function(d,v){v[0]=this.m7.indexOf(d.MztT.v.MztT)};ds.Mztn.prototype.dD=function(d,v){d.MztT.v.MztT=this.m7[v[0]]};
ds["Msc "]=function(){ds.call(this,"Msc ");this.mG=[new fb([12,61],2,200," px")];this.B3()};ds["Msc "].prototype=new ds;
ds["Msc "].prototype.ZL=function(d,v){v[0]=d.ClSz.v.val};ds["Msc "].prototype.dD=function(d,v){d.ClSz.v.val=v[0]};
ds.ShMs=function(){ds.call(this,"ShMs");this.mG=[new fb([12,61],2,200," px"),new a0([12,76,1],[[12,93,3],[12,93,5],[12,93,1]]),new a0([12,29],["XY","X","Y"]),new l8([12,60]),new l8([4,11])];
this.B3()};ds.ShMs.prototype=new ds;ds.ShMs.prototype.ZL=function(d,v){v[0]=d.ClSz.v.val;v[1]=d.Shap.v;
v[2]=d.Sprd.v;v[3]=d.Mono.v;v[4]=d.Invr.v};ds.ShMs.prototype.dD=function(d,v){d.ClSz.v.val=v[0];d.Shap.v=v[1];
d.Sprd.v=v[2];d.Mono.v=v[3];d.Invr.v=v[4]};ds.Pntl=function(){ds.call(this,"Pntl");this.mG=[new fb([12,61],3,100," px")];
this.B3()};ds.Pntl.prototype=new ds;ds.Pntl.prototype.ZL=function(d,v){v[0]=d.ClSz.v};ds.Pntl.prototype.dD=function(d,v){d.ClSz.v=v[0]};
ds.smartSharpen=function(){ds.call(this,"smartSharpen");this.mG=[new fb([12,57],1,200,"%"),new fb([12,56],0,200,"px",1,!0)];
this.B3()};ds.smartSharpen.prototype=new ds;ds.smartSharpen.prototype.ZL=function(d,v){v[0]=d.Amnt?d.Amnt.v.val:200;
v[1]=d.Rds?d.Rds.v.val:1};ds.smartSharpen.prototype.dD=function(d,v){d.Amnt.v.val=v[0];d.Rds.v.val=v[1]};
ds.UnsM=function(){ds.call(this,"UnsM");this.mG=[new fb([12,57],1,200," %"),new fb([12,56],.1,400,"px",1,!0),new fb([4,13],0,255," ")];
this.B3()};ds.UnsM.prototype=new ds;ds.HghP=function(){ds.call(this,"HghP");this.mG=[new fb([12,56],.1,400,"px",1,!0)];
this.B3()};ds.HghP.prototype=new ds;ds.HsbP=function(){ds.call(this,"HsbP");this.mG=[new a0("Input",["RGB","HSB","HSL"]),new a0("Output",["RGB","HSB","HSL"])];
this.B3()};ds.HsbP.prototype=new ds;ds["Mxm "]=function(){ds.call(this,"Mxm ");this.mG=[new fb([12,56],.1,200," px",1,!0),new e8([12,76,1],[[12,93,3],"Circle"])];
this.B3()};ds["Mxm "].prototype=new ds;ds["Mnm "]=function(){ds.call(this,"Mnm ");this.mG=[new fb([12,56],.1,200," px",1,!0),new e8([12,76,1],[[12,93,3],"Circle"])];
this.B3()};ds["Mnm "].prototype=new ds;ds.Ofst=function(){ds.call(this,"Ofst");this.mG=[new fb([22,4,0],-1024,1024," px"),new fb([22,4,1],-1024,1024," px"),new e8([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.B3()};ds.Ofst.prototype=new ds;ds.Kale=function(){ds.call(this,"Kale");this.mG=[new bP("Mirrors",2,20),new bP([12,15],0,360,"\xB0")];
this.B3()};ds.Kale.prototype=new ds;ds.Kale.prototype.ZL=function(d,v){v[0]=d.Mirr.v;v[1]=d.MRot.v};
ds.Kale.prototype.dD=function(d,v){d.Mirr.v=v[0];d.MRot.v=v[1]};ds.Rept=function(){ds.call(this,"Rept");
this.mG=[new bP([12,38],1,300," %"),new bP("Row Shift",-50,50," %"),new bP("Space X",-99,200," %"),new bP("Space Y",-99,200," %"),new l8([4,16,2]),new an([12,15])];
this.B3()};ds.Rept.prototype=new ds;ds.Rept.prototype.ZL=function(d,v){v[0]=d.Scl.v.val;v[1]=d.Rsft.v.val;
v[2]=d.SpcX.v.val;v[3]=d.SpcY.v.val;v[4]=d.SpcC.v;v[5]=[d.Angl.v]};ds.Rept.prototype.dD=function(d,v){d.Scl.v.val=v[0];
d.Rsft.v.val=v[1];d.SpcX.v.val=v[2];d.SpcY.v.val=v[3];d.SpcC.v=v[4];d.Angl.v=v[5][0];return d};ds.Ctoa=function(){ds.call(this,"Ctoa");
this.mG=[new i9([13,0]),new cX(!0),new fb(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fb(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.B3()};ds.Ctoa.prototype=new ds;ds.Ctoa.prototype.ZL=function(d,v){v[0]=d.Clr.v;v[1]=d.Trsp.v.val;
v[2]=d.Opct.v.val};ds.Ctoa.prototype.dD=function(d,v){d.Clr.v=v[0];d.Trsp.v.val=v[1];d.Opct.v.val=v[2]};
ds.LqFy=function(){ds.call(this,"LqFy");this.b8=!1;this.lP=!1;this.NT=null;this.abm=null;this.T=0;this.zx=-1;
this.B5={uJ:[[{T:{id:0,name:[24,1,0,1,0],kY:"liq/smudge"}}],[{T:{id:1,name:[24,1,0,1,1],kY:"liq/reconstruct"}}],[{T:{id:2,name:[24,1,0,1,2],kY:"liq/smooth"}}],[{T:{id:3,name:[24,1,0,1,3],kY:"liq/twirl"}}],[{T:{id:4,name:[24,1,0,1,4],kY:"liq/shrink"}}],[{T:{id:5,name:[24,1,0,1,5],kY:"liq/blow"}}],[{T:{id:6,name:[24,1,0,1,6],kY:"liq/pleft"}}],[{T:{id:7,name:"Hand",kY:"tools/hand"}}],[{T:{id:8,name:"Zoom In",kY:"zoomIn"}}],[{T:{id:9,name:"Zoom Out",kY:"zoomOut"}}]],keys:[]};
this.SG=new iM(this.B5,!1);this.SG.qn(0);this.SG.P(_.E.c,this.hK,this);this.gW=ip.kf();this.Vt=null;
this.XL=[];this.M4=-1;this.mz=null;this.a1Z=null;this.qu=null;this.xi=null;this.s7=null;var d=u.q("div","flexrow");
this.Ma=d;this._.appendChild(d);d.appendChild(this.SG._);this.view=new kR(!0);this.view.K$(100,100);
this.view.P("mousedown",this.KT,this);this.view.P("mousemove",this.Lg,this);this.view.P("mouseup",this.qz,this);
this.view.P("zoom",this.tv,this);d.appendChild(this.view._);var v=u.q("div","form");d.appendChild(v);
this.as$=v;v.style.width="230px";this.nM=[new fb([12,14,0],0,1e3,null,!1,!0),new fb([12,74],0,100,null,!1,!1),new fb([12,84],0,100,null,!1,!1),new l8([12,46]),new fb([12,0],0,100,null,!1,!1),new l8([24,18,5])];
var t=this.gW.Brsh.v;t.Dmtr.v.val=100;var h=[100,50,100,!1,100,!0];for(var n=0;n<this.nM.length;n++){var X=this.nM[n];
X.a(h[n]);if(n==4)X.$A();X.P(_.E.w,this.aBN,this);v.appendChild(X._)}var g=this.agp=new lt([1,12,2],!0,null,!0);
g.P("click",this.VB,this);v.appendChild(g._);this.aIm=this.ju.bind(this);this.EL=new hm;this.EL._=u.q("div","floatcont");
this.J5=new lt("Menu",!1,null,!0);var x=this.J5._;u.i(x,"position:absolute; right:13px; top:47px");u.We(x,this.as_.bind(this))};
ds.LqFy.prototype=new ds;ds.LqFy.prototype.vc=function(){return!0};ds.LqFy.prototype.p9=function(d){this.as$.appendChild(d)};
ds.LqFy.prototype.as_=function(d){if(u.al(this.EL._))return;d.stopPropagation();var v=this.J5._.getBoundingClientRect();
this.EL._.appendChild(this.as$);var t=new eG(_.E.c,!0);t.data={R:_.Y.Vw,UZ:this.EL,x:v.right+v.width-290,y:v.top+v.height};
this.J(t)};ds.LqFy.prototype.M6=function(d){this.b8=d.A(cQ.io);var v=A.mE.PZ(this.gW,d);if(v!=null){this.gW=v;
this.tv();this.nM[0].a(v.Brsh.v.Dmtr.v.val)}else if(d.A(cQ.LE)&&d.A(cQ.eG)){var t=this.XL;if(d.A(cQ.cm)){if(this.M4+1<t.length)this.M4++}else if(this.M4>0)this.M4--;
this.Vt.map=t[this.M4].slice(0);this.iq(null)}else if(this.T<=6)this.view.M6(d);var h=this.T,X=-1,g=d.A(cQ.io);
if(g&&this.zx==-1){if(h==0)X=1;if(h==4)X=5;if(h==5)X=4;if(X!=-1)this.zx=h}if(!g&&this.zx!=-1){X=this.zx;
this.zx=-1}if(X!=-1){this.T=X;this.SG.qn(this.T)}};ds.LqFy.prototype.hK=function(d){if(d.data.R==_.Y.H_){var v=this.T=d.data.T;
this.SG.qn(this.T);this.view.M6(v>6?kR.bD(v-7):new cQ)}};ds.LqFy.prototype.aBN=function(d){var v=d.currentTarget,n=this.nM.indexOf(v),t=this.gW.Brsh.v;
if(n==0){t.Dmtr.v.val=v.j();this.tv()}this.nM[4].$e(this.nM[3].j());if(n>2)this.iq(null)};ds.LqFy.prototype.AS=function(){var d=this.XL;
this.M4++;d[this.M4]=this.Vt.map.slice(0);while(d.length>this.M4+1)d.pop();while(d.length>50){d=d.slice(1);
this.M4--}};ds.LqFy.prototype.KT=function(d){this.NT=this.view.z0();this.abm=new cK(0,0);this.lP=!0;
window.requestAnimationFrame(this.aIm)};ds.LqFy.prototype.Lg=function(d){var v=this.view.z0(),t=new cK(v.x-this.NT.x,v.y-this.NT.y);
if(this.T==0||this.T==6)this.a7D(t);this.NT=v};ds.LqFy.prototype.qz=function(d){this.AS();this.lP=!1};
ds.LqFy.prototype.ju=function(d){if(this.T!=0&&this.T!=6)this.a7D(new cK(0,0));if(this.lP)window.requestAnimationFrame(this.aIm)};
ds.LqFy.prototype.a7D=function(d){var v=this.Vt,t=v.F0/this.mz.r,h=this.NT,X=this.gW.Brsh.v,g=X.Dmtr.v.val,x=Date.now(),Z=v.F0,Y=v.uV,a=Math.sqrt(d.x*d.x+d.y*d.y),z=Math.max(1,Math.ceil(a/2)),p=d.x/z,U=d.y/z,l=h.b(),L=this.T,j=this.nM[1].j()/100,O=this.nM[2].j()/100,F=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=F[L*2],$=F[L*2+1],H=(1-j)*i+j*$,b=g*t/2;
for(var n=0;n<z;n++){var r=[];l.x+=p;l.y+=U;f.wc.a1D(v.map,Z,Y,L,l.x*t,l.y*t,b,j,O,p*t,U*t,r,this.b8);
f.wc.aJW(Z,Y,v.map,r,2*H*O)}var W=new iW(0,0,Z,Y),V=new iW(h.x*t,h.y*t,0,0);V.o2(g*t*.5,g*t*.5);var y=V.b();
y.offset(d.x*t,d.y*t);V=V.Ue(y);var c=new iW(V.x/t,V.y/t,V.r/t,V.$/t);c=f.Q.kI(c).hL(this.mz);this.nM[5].a(!0);
this.iq(c)};ds.LqFy.prototype.tv=function(){var d=hv.FR(this.gW,null,this.view.$I().OI);this.view.a$(d)};
ds.LqFy.prototype.a=function(d,v,t,h,X){t=t.b();if(v==null)return;v=f.OO(v,8);if(!h.fE(t)){var g=t.Ue(h),x=f.m(g.k()*4);
f.wH(v,t,x,g);v=x;t=g;var Z=f.m(g.k()*4);f.wH(X,h,Z,g);X=Z}t.x=t.y=0;this.qu=v;this.a1Z=X;this.s7=v.slice(0);
this.xi=v.slice(0);this.mz=t;this.Vt=l5.lS(new Uint8Array(d.LqMe.v).buffer);var Y=t.r,a=t.$;if(this.Vt.F0/Y<.22){this.Vt={F0:Math.floor(Y/4),uV:Math.floor(a/4)};
this.Vt.map=new Float32Array(this.Vt.F0*this.Vt.uV*2)}this.XL=[];this.M4=-1;this.AS();this.iq(null);
this.view.JZ(!0);this.tv()};ds.LqFy.prototype.j=function(){var d=e0.yu("LqFy"),v=new Uint8Array(l5.Al(this.Vt)),t=[];
for(var n=0;n<v.length;n++)t.push(v[n]);d.LqMe.v=t;return d};ds.LqFy.prototype.K$=function(d,v){this.SG.K$(d,v);
var t=this.J5._,h=this.as$;this.Ma.appendChild(h);this.Ma.appendChild(t);if(d>450&&d-v>200){h.style.marginLeft="1em";
this.Ma.removeChild(t);this.view.K$(d-238-45,v)}else{h.style.marginLeft="";this.Ma.removeChild(h);this.view.K$(d-40,v)}};
ds.LqFy.prototype.H=function(){this.SG.H();this.agp.H();for(var n=0;n<this.nM.length;n++)this.nM[n].H()};
ds.LqFy.prototype.VB=function(){this.Vt.map.fill(0);this.AS();this.iq(null)};ds.LqFy.prototype.iq=function(d){var v=this.mz,t=this.qu,h=this.s7,X=this.Vt;
if(this.nM[5].j())f.wc.Bp(t,this.xi,v.r,v.$,d,X.map,X.F0,X.uV,0);else this.xi.set(t);if(this.nM[3].f2()){f.wH(this.a1Z,v,h,v,d?d:v);
f.V.Qe("norm",this.xi,v,h,v,d?d:v,this.nM[4].j()/100)}else f.Hy(this.xi,h);this.view.a([{_S:v,data:h.buffer}],null,null,d)};
ds.GEfc=function(){ds.call(this,"GEfc");this.UL=0;this.wk=0;this.qu=null;this.s7=null;this.mz=null;this.n=null;
this.ZE=null;this.br=0;this.IM=null;this.EC=null;var d=u.q("div","flexrow");this.Ma=d;this._.appendChild(d);
this.view=new kR(null);this.view.K$(100,100);d.appendChild(this.view._);this.k4="";this.a5o=270;var v=this.f6=u.q("div","form scrollable");
d.appendChild(v);u.i(v,"width:"+this.a5o+"px;");var t=this.d_=u.q("div","form");d.appendChild(t);u.i(t,"width:230px;  margin:0 10px");
this.hb={};for(var h in fH.names){var X=new ds.GEfc.XT(h);X.parent=this;this.hb[h]=X;X.P(_.E.w,this.arh,this)}this.eO=!0;
this.J5=new lt("Menu",null,null,!0);this.J5.P("click",this.aLa,this);d.appendChild(this.J5._);this.aJY=new lt(">>",null,null,!0);
this.aJY.P("click",this.a40,this);t.appendChild(this.aJY._);this.aGd=u.q("div");u.i(this.aGd,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
t.appendChild(this.aGd);this.jD=u.q("div");this.jD.style.minHeight="14em";this.jD.style.marginBottom="1em";
t.appendChild(this.jD);this.s6=u.q("div","lpbody scrollable");this.Jb=u.q("div","lpfoot");t.appendChild(this.s6);
t.appendChild(this.Jb);this.P("click",this.adY,this);this.On=[];ih.Jr([[5,3],[5,4]],this.On,this.Jb,this.xm.bind(this))};
ds.GEfc.prototype=new ds;ds.GEfc.prototype.vc=function(){return!0};ds.GEfc.prototype.p9=function(d){this.aGd.appendChild(d)};
ds.GEfc.prototype.M6=function(d){this.view.M6(d)};ds.GEfc.prototype.sq=function(d,v){this.n=d;if(d.Sw==d.dL)alert("Your foreground and a background color are identical.",4e3)};
ds.GEfc.prototype.a40=function(d){var v=this.f6.style.display!="none";this.f6.style.display=v?"none":"";
this.aJY.Ge(v?"<<":">>");this.K$()};ds.GEfc.prototype.aLa=function(d){this.eO=!this.eO;this.K$()};ds.GEfc.prototype.K$=function(d,v){var t=this.f6.style.display!="none";
if(d!=null){this.UL=d;this.wk=v;if(d<1e3&&t||d>=1e3&&!t){this.a40();t=!t}this.eO=d>600}else{d=this.UL;
v=this.wk}var h=this.eO?250+(t?this.a5o:0):0;if(u.al(this.d_)&&!this.eO){this.Ma.removeChild(this.f6);
this.Ma.removeChild(this.d_)}if(!u.al(this.d_)&&this.eO){this.Ma.appendChild(this.f6);this.Ma.appendChild(this.d_)}this.f6.style.height=v+"px";
this.view.K$(d-h,v);this.s6.style.height=v-Math.max(this.jD.getBoundingClientRect().height,186)-96+"px";
u.i(this.J5._,"position:absolute; top:46px;  right:"+(h+16)+"px")};ds.GEfc.prototype.a3G=function(){var d=b3.qk.get("img/beach",!0)[0],v=d._S,t=this.f6,h=Math.floor(u.LY()*(this.a5o-44)/3),X=~~(h*.7),g=new iW(0,0,h,X),x=f.m(h*X*4),Z=x.slice(0),Y=Math.round(10*u.LY()),a=new ImageData(new Uint8ClampedArray(Z.buffer),h,X);
f.wH(new Uint8Array(d.data),v,x,new iW(Math.round((v.r-h)/2),Math.round((v.$-X)/2),h,X));var z=u.q("canvas"),p=z.getContext("2d");
z.width=h;z.height=X+Math.round(Y*1.5);p.font=Y+"px sans-serif";this.IM={};u.Pl(t);var U=this.aBf.bind(this);
for(var n=0;n<fH.Dl.length;n++){var l=fH.Dl[n],L=u.q("div");t.appendChild(L);u.i(L,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
L.textContent=f7.get(l);for(var j in fH.names){var O=fH.names[j];if(O[0]!=n)continue;fH.yh(j,{S:g,buffer:x},fH.yu(j),{C:0,L:0,X:0},{C:255,L:255,X:255},{S:g,buffer:Z},{});
p.fillStyle="black";p.fillRect(0,0,500,500);p.putImageData(a,0,0);var F=f7.get(O[1]);p.fillStyle="white";
p.fillText(F,(h-p.measureText(F).width)/2,X+Math.round(Y*1.1));var i=u.q("div");t.appendChild(i);u.i(i,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",U,!1);var L=u.q("img");i.appendChild(L);L.setAttribute("src",z.toDataURL());
u.i(L,"width:"+h/u.LY()+"px; margin-bottom:0px;");this.IM[j]=i}}};ds.GEfc.prototype.aBf=function(d){var v;
for(var t in this.IM)if(this.IM[t]==d.currentTarget)this.k4=t;this.arh()};ds.GEfc.prototype.xm=function(d){var v=ih.lQ(this.On,d),t=this.ZE.GEfs.v,h=t[this.br].v;
if(v==0){t.push(f.v(t[this.br]));this.br=t.length-1}else if(t.length>1){t.splice(this.br,1);if(this.br==t.length)this.br--}this.p1();
this.iq()};ds.GEfc.prototype.arh=function(d){var v=this.k4,t;if(d==null)t=fH.yu(v);else t=this.hb[v].j();
this.ZE.GEfs.v[this.br].v=t;this.p1();this.iq()};ds.GEfc.prototype.a=function(d,v,t,h,X){var g=f7.get([24,0]);
if(this.IM==null||g!=this.EC)this.a3G();this.EC=g;d=this.ZE=f.v(d);if(d.GEfs==null)d=this.ZE={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:d}]}};
var x=d.GEfs.v;for(var n=0;n<x.length;n++)if(x[n].v.GELv==null)x[n].v.GELv={t:"bool",v:!0};this.br=x.length-1;
this.p1();t=t.b();if(v==null)return;v=f.OO(v,8);if(!h.fE(t)&&fH.fl(d).x!=0){var Z=t.Ue(h),Y=f.m(Z.k()*4);
f.wH(v,t,Y,Z);v=Y;t=Z}t.x=t.y=0;this.qu=v;this.s7=v.slice(0);this.mz=t;this.iq();this.view.JZ()};ds.GEfc.prototype.adY=function(d){var v=d.data,n=v.ja,t=this.ZE.GEfs.v;
if(v.P_){t[n].v.GELv.v=!t[n].v.GELv.v;this.iq()}else this.br=n;this.p1()};ds.GEfc.prototype.p1=function(){var d=this.ZE.GEfs.v,v=d[this.br].v,t=v.GEfk.v.GEft,h=this.jD;
if(fH.names[t]==null){alert("Unsupported gallery filter");u.Pl(h)}else{this.k4=t;for(var X in this.IM)u.Ag(this.IM[X],"selected");
u.M3(this.IM[t],"selected");var g=this.hb[t];g.a(v);if(h.firstChild!=g._){u.Pl(h);h.appendChild(g._)}}var x=[];
for(var n=0;n<d.length;n++){var Z=d[n].v,Y=fH.names[Z.GEfk.v.GEft],a=new cZ(n,!0,!0,null,Y?Y[1]:"Filter",n==this.br,Z.GELv.v);
a.parent=this;x.push(a._)}u.Pl(this.s6);x.reverse();for(var n=0;n<x.length;n++)this.s6.appendChild(x[n]);
this.K$()};ds.GEfc.prototype.j=function(){return f.v(this.ZE)};ds.GEfc.prototype.iq=function(d){var v=this.mz,t=this.qu,h=this.s7,X=this.k4,g=this.ZE,x=this.n;
e0.yh("GEfc",{S:this.mz,buffer:this.qu},g,f.le(x.Sw),f.le(x.dL),{S:this.mz,buffer:this.s7},null);this.view.a([{_S:v,data:h.buffer}])};
ds.GEfc.prototype.H=function(){for(var d in this.hb)this.hb[d].H();ih.n$(this.On,["lrs/newlayer","lrs/bin"])};
ds.GEfc.XT=function(d){hm.call(this);this.$B=d;this._=u.q("div");this.Rv={};var v=fH.yu(d);for(var t in v){var h=null;
if(t=="__name"||t=="classID"||t=="GEfk"||t=="GELv"||["FlRs"].indexOf(t)!=-1)continue;else if(t=="EdgW")h=new fb([24,21,0],1,14);
else if(t=="EdgB")h=new fb([24,21,1],0,d=="AccE"?50:20);else if(t=="Smth")h=new fb([19,3,3],1,d=="Stmp"?50:15);
else if(t=="ClSz")h=new fb([12,61],3,100);else if(t=="BrdT")h=new fb([7,9],1,20);else if(t=="HghS")h=new fb([12,64],0,20);
else if(t=="HlSz")h=new fb([12,14,0],1,15);else if(t=="Cntr")h=new fb([12,3,0],0,d=="WtrP"?100:50);else if(t=="Shrp")h=new fb([24,21,2],0,40);
else if(t=="SprR")h=new fb([24,21,3],0,25);else if(t=="LgDr")h=new fb([24,21,4],0,d=="Stmp"?50:100);
else if(t=="Drkn")h=new fb([24,21,5],1,50);else if(t=="Dstr")h=new fb([24,21,6],0,20);else if(t=="Scln")h=new fb([12,38],50,200);
else if(t=="Rlf")h=new fb([24,21,7],0,d=="Ptch"||d=="NtPr"?25:50);else if(t=="ChAm")h=new fb([24,21,8],1,7);
else if(t=="Pncl")h=new fb([19,2,5],1,30);else if(t=="StrP")h=new fb([24,21,9],0,15);else if(t=="PprB")h=new fb([24,21,10],0,50);
else if(t=="BrsS")h=new fb([24,21,11],0,10);else if(t=="BrsD")h=new fb([24,21,12],0,10);else if(t=="Txtr")h=new fb([12,67],1,3);
else if(t=="Grn")h=new fb([24,20,42],0,20);else if(t=="HghA")h=new fb([24,21,13],0,20);else if(t=="Intn")h=new fb([24,21,14],0,10);
else if(t=="Brgh")h=new fb([24,21,15],0,d=="WtrP"?100:50);else if(t=="StrS")h=new fb([24,21,16],1,50);
else if(t=="StDt")h=new fb([24,21,17],1,3);else if(t=="Sftn")h=new fb([24,21,18],0,10);else if(t=="EdgT")h=new fb([24,21,19],0,10);
else if(t=="EdgI")h=new fb([24,21,20],0,10);else if(t=="Pstr")h=new fb([24,21,23],0,6);else if(t=="Dfnt")h=new fb([24,21,24],0,25);
else if(t=="TxtC")h=new fb([24,21,25],0,50);else if(t=="ShdI")h=new fb([24,21,26],0,10);else if(t=="DrcB")h=new fb([24,21,28],0,100);
else if(t=="Strg")h=new fb([12,64],1,3);else if(t=="Blnc")h=new fb([24,21,27],0,10);else if(t=="BlcI")h=new fb([24,21,30],0,10);
else if(t=="WhtI")h=new fb([24,21,31],0,10);else if(t=="DrkI")h=new fb([24,21,32],0,50);else if(t=="LghI")h=new fb([24,21,33],0,50);
else if(t=="StrW")h=new fb([24,21,34],3,15);else if(t=="Grns")h=new fb([24,21,36],0,d=="NtPr"?20:10);
else if(t=="GlwA")h=new fb([24,21,37],0,20);else if(t=="ClrA")h=new fb([24,21,38],0,20);else if(t=="ChrA")h=new fb([24,21,39],0,20);
else if(t=="ChlA")h=new fb([24,21,40],0,20);else if(t=="FrgL")h=new fb([24,21,41],1,15);else if(t=="BckL")h=new fb([24,21,42],1,15);
else if(t=="WhtL")h=new fb([24,21,42],0,50);else if(t=="BlcL")h=new fb([24,21,41],0,50);else if(t=="ImgB")h=new fb([24,21,29],0,50);
else if(t=="Dnst")h=new fb([12,74],0,50);else if(t=="FbrL")h=new fb([24,21,43],3,50);else if(t=="CrcS")h=new fb([24,21,44],2,100);
else if(t=="CrcD")h=new fb([24,21,45],0,10);else if(t=="CrcB")h=new fb([24,21,46],0,10);else if(t=="TlSz")h=new fb([24,21,47],2,100);
else if(t=="GrtW")h=new fb([24,21,48],1,15);else if(t=="LghG")h=new fb([24,21,49],0,10);else if(t=="SqrS")h=new fb([24,21,50],0,10);
else if(t=="RplS")h=new fb([24,21,51],1,15);else if(t=="RplM")h=new fb([24,21,52],0,20);else if(t=="NmbL")h=new fb([24,21,53],2,8);
else if(t=="EdgS")h=new fb([24,21,21],0,10);else if(t=="EdgF")h=new fb([24,21,22],1,3);else if(t=="Sz")h=d=="NGlw"?new fb([24,21,54],-24,24):new fb([24,21,11],1,50);
else if(t=="Dtl")h=d=="Chrc"?new fb([24,21,56],0,5):new fb([24,21,56],1,15);else if(t=="StrL")h=d=="InkO"?new fb([24,21,35],1,50):new fb([24,21,35],0,20);
else if(t=="TxtT")h=new e8([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(t=="BrsT")h=new e8([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(t=="Grnt")h=new e8([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(t=="SDir")h=new e8([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(t=="ScrT")h=new e8([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(t=="LghD"||t=="LghP")h=new e8([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(t=="Clr")h=new cX([24,21,55]);else if(t=="InvT")h=new l8([4,11]);else console.log(t);h.P(_.E.w,this.nh,this);
h.parent=this;this.Rv[t]=h;this._.appendChild(h._)}};ds.GEfc.XT.prototype=new hm;ds.GEfc.XT.prototype.nh=function(d){this.J(new eG(_.E.w,!1))};
ds.GEfc.alT="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
ds.GEfc.XT.prototype.a=function(d){for(var v in this.Rv){var t;if(ds.GEfc.alT.indexOf(v)!=-1)t=d[v].v;
else if(v=="TxtT")t=fH.nD.indexOf(d[v].v[v]);else if(v=="BrsT")t=fH.akB.indexOf(d[v].v[v]);else if(v=="LghD")t=fH.m$.indexOf(d[v].v[v]);
else if(v=="LghP")t=fH.hW.indexOf(d[v].v[v]);else if(v=="Grnt")t=fH.k9.indexOf(d[v].v[v]);else if(v=="ScrT")t=fH.C9.indexOf(d[v].v[v]);
else if(v=="SDir")t=fH.Mq.indexOf(d[v].v.StrD);this.Rv[v].a(t)}};ds.GEfc.XT.prototype.j=function(){var d=fH.yu(this.$B);
for(var v in this.Rv){var t=this.Rv[v].j();if(ds.GEfc.alT.indexOf(v)!=-1)d[v].v=t;else if(v=="TxtT")d[v].v[v]=fH.nD[t];
else if(v=="BrsT")d[v].v[v]=fH.akB[t];else if(v=="LghD")d[v].v[v]=fH.m$[t];else if(v=="LghP")d[v].v[v]=fH.hW[t];
else if(v=="Grnt")d[v].v[v]=fH.k9[t];else if(v=="ScrT")d[v].v[v]=fH.C9[t];else if(v=="SDir")d[v].v.StrD=fH.Mq[t]}return d};
ds.GEfc.XT.prototype.H=function(){for(var d in this.Rv)this.Rv[d].H()};ds["Adobe Camera Raw Filter"]=function(){var d=function(v){ds.call(this,"Adobe Camera Raw Filter");
var t=this._;this.zm=v;this.BB=null;this.FM=null;this.avB="";this.WG=null;this.au=1e3;this.EY=null;this.vY=null;
u.M3(t,"flexrow");this.view=new kR(!1,v,!0);this.view.P("zoom",this.iq,this);t.appendChild(this.view._);
var h=u.q("div");u.i(h,"width:18.8em; border-left:2px solid var(--brdr);");t.appendChild(h);this.Bl=new kv(245,null,4);
h.appendChild(this.Bl._);this.Bl._.style.opacity=.8;this.It=new a0([12,36],["Original","Nicer"]);this.It._.style.margin="4px";
if(v)h.appendChild(this.It._);this.It.P(_.E.w,this.wE,this);this.tb=new a0(null,[[7,0],[13,1,1],[13,1,4],[13,1,5]]);
this.tb.P(_.E.w,this.iq,this);this.ayf=u.q("div","scrollable");h.appendChild(this.ayf);this.aBq=u.q("div","padded");
h.appendChild(this.aBq);this.Rv={Ex12:new fb([4,3],-4,4,null,!0),Cr12:new fb([12,3,0],-100,100),Hi12:new fb("Highlights",-100,100),Sh12:new fb("Shadows",-100,100),Wh12:new fb("Whites",-100,100),Bk12:new fb("Blacks",-100,100),Temp:new fb("Temperature",-100,100),Tint:new fb("Tint",-100,100),Vibr:new fb([4,4],-100,100),Strt:new fb([12,9],-100,100),CrTx:new fb("Texture",-100,100),Cl12:new fb("Clarity",-100,100),Dhze:new fb("Dehaze",-100,100),Crv:new lk(!1,!1,!1)};
this.Rv.Crv.K$(222,222);this.U7={Temp:new fb("Temperature",2e3,3e4),Tint:new fb("Tint",-100,100),Ex12:new fb([4,3],-4,4,null,!0)};
this.afS=[];var X=this.aFv=[[[24,21,59],"Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],[[13,0],["Temp","Tint","Vibr","Strt"]],[[12,1],["CrTx","Cl12","Dhze"]],[[4,2],["Crv"]]];
for(var n=0;n<X.length;n++){var g=X[n][1],x=u.q("div","padded");this.ayf.appendChild(x);u.i(x,"border-top:2px solid var(--brdr);");
var Z=u.q("div");this.afS.push(Z);u.i(Z,"font-weight:bold; margin:2px 0 4px 0;");x.appendChild(Z);for(var Y=0;
Y<g.length;Y++){var a=g[Y];if(a=="Crv")x.appendChild(this.tb._);var z=v&&this.U7[a]?this.U7[a]:this.Rv[a];
if(a!="Crv")z.a(0);z.P(_.E.w,this.iq,this);x.appendChild(z._)}}};d.prototype=new ds;d.prototype.vc=function(){return!0};
d.prototype.p9=function(v){v.style.marginTop="4px";this.aBq.appendChild(v)};d.prototype.M6=function(v){this.view.M6(v)};
d.prototype.sq=function(v,t){this.Bl.Wi(fW._w[v.O5]["--text-color"])};d.prototype.aJx=function(v){var t=f.raw.aI7(v),h=t.ack,X=t.aq$,g=h*X,x=new iW(0,0,h,X),Z=t.sN,Y=new Float32Array(h*X*4);
for(var n=0;n<g;n++){var a=n*4,z=n*3;Y[a]=Z[z];Y[a+1]=Z[z+1];Y[a+2]=Z[z+2];Y[a+3]=1}this.BB=[Y,x];f.vD(this.BB);
this.FM=v;var p=f.raw.auw(v),U=fc.ay2(p);this.U7.Temp.a(U.aFB);this.U7.Tint.a(U.H7);this.U7.Ex12.a(0);
var l=new Float32Array(g*4);l.fill(1);var L=e0.yu("Adobe Camera Raw Filter");this.a7J(L,l,x);this.It.a(1);
this.wE({})};d.prototype.anI=function(v,t){var h=this.U7,X=h.Temp.j(),g=h.Tint.j(),x=h.Ex12.j(),Z=[X,g,x,t,v].join(":");
if(this.avB==Z)return;this.avB=Z;var Y=Date.now();f.raw.Th(this.BB[t*2],this.WG[t*2],this.FM,[X,g,x],v);
console.log(Date.now()-Y,"remapping XYZ")};d.prototype.a=function(v,t,h,X,g){var x=new Float32Array(h.k()*4);
f.OO(t,32,x);this.a7J(v,x,h)};d.prototype.a7J=function(v,t,h){this.mz=h;var X=h.r,g=h.$,x=X*g;this.au=1e3;
this.avB="";this.WG=[t,h];this.EY=[new Float32Array(X*g*4),h];this.EY[0].fill(1);this.vY=[new Uint8Array(X*g*4),h];
this.vY[0].fill(255);f.vD(this.WG);f.vD(this.EY);f.vD(this.vY);this.aBl(v);this.view.a([{_S:h,data:this.vY[0].buffer}]);
this.view.JZ();this.iq(null)};d.prototype.aBl=function(v){this.ZE=v;for(var t in this.Rv){if(t=="Crv"){var h=["Crv","CrvR","CrvG","CrvB"][this.tb.j()],X=v[h]?v[h].v:[{v:0},{v:0},{v:255},{v:255}],g=[];
for(var n=0;n<X.length;n+=2){g.push(f.kB.lY(X[n].v,X[n+1].v,!0))}this.Rv[t].a(g)}else this.Rv[t].a(v[t]?v[t].v:0)}};
d.prototype.alq=function(v,t){var h=this.mz,X=this.EY[0];if(this.zm)this.anI(v,0);fX(this.WG[0],h.r,h.$,X,this.ZE);
return[f.OO(X,t),h]};d.prototype.j=function(){return f.v(this.ZE)};d.prototype.anB=function(){this.BB=null;
this.EY=null;this.WG=null;this.vY=null};d.prototype.wE=function(v){var t=this.It.j(),h=this.zm,X=[{t:"long",v:0},{t:"long",v:0}];
if(t==1)X.push({t:"long",v:64},{t:"long",v:75},{t:"long",v:190},{t:"long",v:220});X.push({t:"long",v:255},{t:"long",v:255});
var g={Cr12:{t:"long",v:45*t},Strt:{t:"long",v:10*t},Crv:{t:"VlLs",v:X}};this.U7.Ex12.a(.3*t);console.log(this.ZE,g);
for(var x in g)this.ZE[x]=g[x];this.aBl(this.ZE);this.iq(v)};d.prototype.iq=function(v){if(v&&v.target==this.tb){this.aBl(this.ZE);
return}if(v&&v.target!=this.view){this.au=1e3;for(var t in this.Rv){var h=this.Rv[t].j();if(t=="Crv"){var X=[],g=[];
for(var n=0;n<h.length;n++){var x=h[n].v,Z=x.Hrzn.v,Y=x.Vrtc.v;g.push(Z,Y);X.push({t:"long",v:Z},{t:"long",v:Y})}var a=["Crv","CrvR","CrvG","CrvB"][this.tb.j()];
this.ZE[a]={t:"VlLs",v:X}}else this.ZE[t]={t:t=="Ex12"?"doub":"long",v:h}}}var z=this.view.$I().OI,p=0;
while(z*2<=1){z*=2;p++}if(this.au<=p)return;this.au=p;var U=this.atv(p);this.Bl.a(U);this.view.a([{_S:this.mz,data:this.vY[0].buffer}])};
d.prototype.atv=function(v){console.log("---");var t=this.WG[v*2],h=this.EY[v*2],X=this.vY[v*2],g=this.WG[v*2+1],x=g.r,Z=g.$;
if(this.zm)this.anI(0,v);fX(t,x,Z,h,this.ZE);var Y=Date.now();f.OO(h,8,X);console.log(Date.now()-Y,"integer conversion");
Y=Date.now();var a=f.R4(X,Math.max(1,Math.floor(x*Z/2e5)));console.log(Date.now()-Y,"histogram done");
Y=Date.now();if(v!=0){var z=new Uint32Array(X.buffer),p=new Uint32Array(this.vY[0].buffer),U=this.mz.r,l=this.mz.$;
for(var L=0;L<l;L+=2)for(var j=0;j<U;j+=2){var O=L*U+j,F=z[(L>>>v)*x+(j>>>v)];p[O]=F;p[O+1]=F;p[O+U]=F;
p[O+U+1]=F}console.log(Date.now()-Y,"upscale");Y=Date.now()}for(var g=0;g<2;g++)for(var F=0;F<4;F++){var Z=a[F],l=Z.slice(0);
for(var n=1;n<Z.length-1;n++)Z[n]=(l[n-1]+l[n]+l[n+1])*.33333}return a};d.prototype.K$=function(v,t){this.a5O=v-248;
this.axE=t;this.view.K$(this.a5O,this.axE);this.ayf.style.height=t-200-(this.zm?30:0)+"px"};d.prototype.H=function(){this.It.H();
for(var v in this.Rv)this.Rv[v].H();for(var v in this.U7)this.U7[v].H();var t=this.aFv;for(var n=0;n<t.length;
n++)this.afS[n].innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+f7.get(t[n][0])+"</span>"};
return d}();ds.VaPo=function(){ds.call(this,"VaPo");this.T=-1;this.As=null;this.GN=!1;this.YG=null;this.A8=null;
this.aE=null;this.pk=null;this.nz=null;this.T_=null;this.aui=null;this.u9=null;this.a4w=null;this.Bf=null;
this.rr=null;this.b6=null;this.XL=[];this.M4=-1;this.l=null;this.B5={uJ:[[{T:{id:0,name:"Move",kY:"tools/move"}}],[{T:{id:1,name:"Create Plane",kY:"tools/pcrop"}}],[{T:{id:2,name:"Marquee",kY:"tools/rselect"}}],[{T:{id:3,name:"Stamp",kY:"tools/clone"}}],[{T:{id:4,name:"Brush",kY:"tools/brush"}}],[{T:{id:5,name:"Transform",kY:"tools/transform"}}],[{T:{id:6,name:"Hand",kY:"tools/hand"}}],[{T:{id:7,name:"Zoom In",kY:"zoomIn"}}],[{T:{id:8,name:"Zoom Out",kY:"zoomOut"}}]],keys:[cQ.n6,cQ.f9,cQ.wr,cQ.AA,cQ.ST,cQ.nG,cQ.sh,cQ.eG]};
this.SG=new iM(this.B5,!1);this.SG.P(_.E.c,this.hK,this);this.cM=null;this.mz=null;this.qu=null;this.a1r=null;
this.s7=null;this.He=null;var d=u.q("div","flexrow"),h=0;this.Ma=d;this._.appendChild(d);d.appendChild(this.SG._);
var v=u.q("div");d.appendChild(v);var top=u.q("div","form");v.appendChild(top);u.i(top,"padding-left:8px; height:30px;");
this.S6=u.q("span");top.appendChild(this.S6);this.WB=[[new eh([12,80,5],1,1e3),new lt([5,2],null,null,!0)],[new eh([7,6],0,30)],[new eh([12,14],1,200),new eh([12,17],0,100),new eh([12,0],0,100),new l8([12,75])],[new eh([12,14],1,200),new eh([12,17],0,100),new eh([12,0],0,100),new cX],[new l8("Flip"),new l8("Flop")],[]];
var t=[100,!0,0,100,100,100,!1,100,100,100,JSON.parse(kV.CU.wo.slice(6)).v];this.Zq=[];for(var n=0;n<6;
n++){var X=u.q("span"),g=this.WB[n];this.Zq.push(X);for(var x=0;x<g.length;x++){var Z=g[x];Z.parent=this;
Z.a(t[h++]);if(Z instanceof lt)Z.P("click",this.am7,this);else Z.P(_.E.w,this.aFK,this);X.appendChild(Z._)}}this.aJ7=u.q("div");
u.i(this.aJ7,"display:inline-block;float:right; width:100px;");top.appendChild(this.aJ7);this.view=new kR(!0);
this.view.K$(100,100);this.view.a$("auto");this.view.P("mousedown",this.KT,this);this.view.P("mousemove",this.Lg,this);
this.view.P("mouseup",this.qz,this);u.Fg(this.view.$D,this.B7.bind(this));v.appendChild(this.view._)};
ds.VaPo.prototype=new ds;ds.VaPo.prototype.vc=function(){return!0};ds.VaPo.prototype.p9=function(d){this.aJ7.appendChild(d)};
ds.VaPo.prototype.sq=function(d,v){this.YG=d};ds.VaPo.prototype.am7=function(d){var v=this.YG;if(u.bk())dY.aEA(this.GA.bind(this));
else if(v){var t=v.H4;if(t){var h=t.S.b();h.x=h.y=0;this.Of(f.OO(t.buffer,8),h)}}};ds.VaPo.prototype.aFK=function(d){if(d.target==this.WB[0][0]){var v=this.qL(),t=d.target.j();
for(var n=0;n<this.l.length;n++)if(this.l[n].length!=0&&v[n])v[n][0]=t;this.Gg(v)}if(this.T==5){this.cM=this.w_();
this.iq(!0)}this.iq()};ds.VaPo.prototype.M6=function(d){var v=this.T,t=this.aE;if(v==3||v==4){var h=this.WB[v-1],X=ip.kf(),g=X.Brsh.v;
g.Dmtr.v.val=h[0].j();g.Hrdn.v.val=h[1].j();X=A.mE.PZ(X,d);if(X){g=X.Brsh.v;h[0].a(g.Dmtr.v.val);h[1].a(g.Hrdn.v.val)}this.tv()}if(v==1&&t&&(d.A(cQ.on)||d.A(cQ.SY))){t.pop();
t.pop();if(t.length==0)t=this.aE=null;this.iq()}function x(z,n,L){f.wH(z[n],z[0],L.qu,L.mz);L.YQ(z[0])}this.A8=d;
if(v<6)this.view.M6(d);var Z=d.A(cQ.LE);if(Z){var Y=this.M4,a=0;if(d.A(cQ.eG)){if(d.A(cQ.cm))a=1;else a=-1}else if(d.A(cQ.if))a=1;
if(a!=0&&v!=5){console.log(this.M4,a,this.XL);var z=this.XL[this.M4],p=!1;if(z.length==3&&a==-1){x(z,1,this);
p=!0}Y+=a;this.M4=Math.max(0,Math.min(this.XL.length-1,Y));z=this.XL[this.M4];if(z.length==3&&a==1){x(z,2,this);
p=!0}this.iq(p)}if(d.A(cQ.n6))this.am7();if(d.A(cQ.J4)){this.T_=null;this.iq()}}else{var U=this.B5.keys;
for(var n=0;n<U.length;n++)if(d.A(U[n]))this.qn(n)}if(d.A(cQ.SY)||d.A(cQ.on)){var l=this.qL();l=f.uB.afm(l,this.l);
this.l=[];for(var n=0;n<l.length;n++)this.l[n]=[];this.Gg(l);this.iq()}};ds.VaPo.prototype.GA=function(d){if(d=="granted")dY.TO(this,this.Of.bind(this))};
ds.VaPo.prototype.Of=function(d,v){console.log(d,v);var t=this.qL();if(t.length==0){alert("Make a plane before pasting an image");
return}if(this.nz==null)this.nz=[0,0];if(this.T==5)this.qn(0);this.qn(5,{Gw:d,BS:v})};ds.VaPo.prototype.hK=function(d){if(d.data.R==_.Y.H_){this.qn(d.data.T)}};
ds.VaPo.prototype.a1f=function(d){var v=this.view.z0(d),t=f.uB.gU(this.qL(),this.l),h=1e9,X=0;for(var n=0;
n<t.length;n++){var g=t[n][0],x=v.x-g[0],Z=v.y-g[1],Y=Math.sqrt(x*x+Z*Z);if(Y<h){h=Y;X=n}}if(h>4*u.LY()/this.view.$I().OI)return null;
return t[X]};ds.VaPo.prototype.B7=function(d){var v=this.T,t=this.aE;if(v<2&&!this.GN){var h=this.As=this.a1f(d),X=this.qL(),g="auto";
if(v==0&&f.uB.azn(X,h)){var x=X[h[1]][1][h[2]],Z=x[5+{1:0,5:1,7:2,3:3}[h[3]]],Y=Z[0],a=Z[1];g=d3.any(Y[1]-a[1],-Y[0]+a[0])}if(f.uB.aOf(X,h))g="crosshair";
this.view.a$(g)}if(t){var z=this.view.z0(d),p=t.slice(0);t[t.length-2]=z.x;t[t.length-1]=z.y;this.iq()}this.tv(d);
if(v==5&&!this.GN&&this.LW){var z=this.view.z0(d),X=this.qL(),U=f.uB.Vn(X,z.x,z.y,this.Kp());if(U){var l=new cK(U[2][0],U[2][1]),L=f.uB.Qv(X,X[U[0]][1][U[1]],this.Kp()),j=L[1],O=f.G.ms(L[0],j),F=[j.x+j.r/2,j.y+j.$/2];
f.G.M(O,F);var i=z.x-F[0],$=z.y-F[1],H=this.LW.Q6(l,this.view.$I().OI,null,null,Math.atan2(-$,-i));this.view.a$(H?H:"default")}}};
ds.VaPo.prototype.tv=function(d){var v=this.T,t=this.A8;if((v==3||v==4)&&!this.GN){var h=d?this.view.z0(d):this.KS,X=this.qL();
this.KS=h;if(h==null)return;var g=f.uB.Vn(X,h.x,h.y,this.Kp());if(g){if(v==3&&this.b6&&this.WB[2][3].j()){var x=new cK(g[2][0],g[2][1]);
this.rr=x.hP(this.b6);this.iq()}if(v==3&&(this.rr==null||t&&(t.A(cQ.io)||t.A(cQ.qB)))){if(this.cM){this.He=null;
this.YQ(this.cM);this.iq(!0,this.cM)}return}this.acN(g,this.cM)}}};ds.VaPo.prototype.Kp=function(){return[this.mz.r/2,this.mz.$/2]};
ds.VaPo.prototype.KT=function(d){this.GN=!0;var v=this.T,t=this.aE,h=this.qL(),X=this.A8,g=this.As=this.a1f(null),x=this.view.z0(),Z=f.uB.Vn(h,x.x,x.y,this.Kp()),Y=Z?new cK(Z[2][0],Z[2][1]):null;
if(f.uB.aOf(h,g)){var a=h[g[1]][1][g[2]];h.splice(g[1],1);this.l.splice(g[1],1);t=f.uB.aAU(a);var z=-1,x=g[0];
for(var n=0;n<8;n+=2){var p=t[n]-x[0],U=t[n+1]-x[1];if(p*p+U*U<1e-5)z=n}z=z+2&7;t=this.aE=t.slice(z).concat(t.slice(0,z));
this.Gg(h)}else if(f.uB.azn(h,g)){if(v==1||X&&X.A(cQ.LE)){h=f.uB.awz(h,g,this.Kp());this.Gg(h);g[2]=h[g[1]][1].length-1;
g[3]=8+(g[3]+4&7);this.l[g[1]].push(g[2]);this.Gg(h,!0);this.qn(0)}else this.Gg(this.qL(h))}else if(v==0){var l=[];
for(var n=0;n<h.length;n++)l.push([]);if(Z){if(X&&X.A(cQ.cm))l=this.l;var L=l[Z[0]].indexOf(Z[1]);if(L==-1)l[Z[0]].push(Z[1]);
else l[Z[0]].splice(L,1)}this.l=l;this.Gg(h,!0);this.iq()}else if(v==2){if(Z){var j=this.T_;if(j&&j.QQ(Y)){if(X)if(X.A(cQ.io)||X.A(cQ.LE)){this.qn(5);
this.KT(d);return}this.aui=new cK(Y.x-j.x,Y.y-j.y)}else{this.pk=Z[2].concat(Z[2]);this.nz=Z}}}else if(v==3||v==4){if(v==3){if(X&&(X.A(cQ.io)||X.A(cQ.qB))){if(Z){this.rr=Y;
this.a4w=Y.b();this.b6=null;this.Bf=Z;this.iq()}else alert("You must click into a plane");this.GN=!1;
return}else if(this.rr==null){alert(f7.get([15,7,0]));this.GN=!1;return}else if(Z){var O=this.b6=Y.hP(this.rr)}}if(Z){this.acN(Z)}}else if(v==5){if(Z){var F=new cK(Z[2][0],Z[2][1]),i=this.LW.li({z:this.view.$I()},{},X,F)}}};
ds.VaPo.prototype.acN=function(d,v){var t=this.He;if(t==null)this.He=t=f.m(this.mz.k()*4);else t.fill(0);
var h=this.T;this.nz=d;var X=this.WB[h-1],g=f.auH.akG(X[0].j(),X[1].j()/100,1),x=f.m(g[1].k()*4);f.Gj(g[0],x,3);
if(h==4){var Z=f.iF.pq(X[3].j());f.VT(x,Z.C/255,Z.L/255,Z.X/255)}this.u9={aM6:g[0],Gw:x,BS:g[1]};var Y=this.cM=this.U2(d[2],d[2]),a=v?v.Ue(Y):Y;
this.YQ(a);this.iq(!0,a)};ds.VaPo.prototype.Lg=function(d){var v=this.As,t=this.T,h=this.qL();if(t==0&&f.uB.azn(h,v)){h=f.uB.aEd(h,v,this.view.z0());
this.Gg(h,!0);this.iq()}var X=this.aui;if(t==2&&this.GN&&(this.pk||X)){var g=this.view.z0(),x=f.uB.Vn(h,g.x,g.y,this.Kp());
if(x){this.nz=x;if(X){this.T_.x=x[2][0]-X.x;this.T_.y=x[2][1]-X.y}else{this.pk=this.pk.slice(0,2).concat(x[2]);
this.T_=f.Q.k2(this.pk)}this.iq()}}if((t==3||t==4)&&this.GN){var g=this.view.z0(),x=f.uB.Vn(h,g.x,g.y,this.Kp());
if(x){if(t==3){var Z=this.b6;this.rr=new cK(x[2][0]-Z.x,x[2][1]-Z.y)}var Y=this.U2(this.nz[2],x[2]);
this.cM=this.cM.Ue(Y);this.nz=x;this.YQ(Y);this.iq(!0,Y)}}if(t==5&&this.GN){var g=this.view.z0(),x=f.uB.Vn(h,g.x,g.y,this.Kp(),this.nz);
if(x){var a=new cK(x[2][0],x[2][1]);this.LW.qw({z:this.view.$I()},{},this.A8,a);this.nz=x;var Y=this.cM;
if(Y)this.YQ(Y);else Y=new iW;this.cM=this.w_(null,null,!0);this.iq(!0,Y.Ue(this.cM))}}};ds.VaPo.prototype.U2=function(d,v){d=new cK(d[0],d[1]);
v=new cK(v[0],v[1]);var t=Math.max(1e-5,cK.A_(d,v)),h=this.u9.BS.r*.2,X=new iW;for(var g=0;g<t;g+=h){var x=1-g/t,Z=x*d.x+(1-x)*v.x,Y=x*d.y+(1-x)*v.y,a=this.u9.BS.b();
a.x=Math.round(Z-a.r/2);a.y=Math.round(Y-a.$/2);if(this.T==3){var z=this.b6;if(z==null)z=new cK(Z,Y).hP(this.rr);
var p=this.T_=a.b();p.x=Math.round(p.x-z.x);p.y=Math.round(p.y-z.y);var U=this.u9.aM6;this.u9=this.ac1(this.Bf);
this.T_=null;f.XE(U,this.u9.Gw);this.u9.aM6=U}var l=this.w_(this.He,a);X=X.Ue(l)}return X};ds.VaPo.prototype.qz=function(d){var v=this.As;
if(v&&v[3]>=8){var t=f.uB.aIV(this.qL(),v,this.Kp());this.Gg(t,!0);this.iq();alert("new plane added")}var h=this.T,X=this.aE;
if(X||h==1){var g=this.view.z0();if(X==null)X=this.aE=[g.x,g.y];if(X.length==8&&d3.Tf(X)){var t=this.qL();
t.push([100,[f.uB.au8(X,this.Kp())]]);this.l.push([0]);this.Gg(t,!0);X=this.aE=null;this.qn(0);this.iq()}else if(X.length<8){X.push(g.x,g.y);
if(X.length==8&&!d3.Tf(X)){var x=X[0],Z=X[1];X[0]=X[4];X[1]=X[5];X[4]=x;X[5]=Z}}}var Y=this.pk;if(h==2&&Y&&Y[0]==Y[2]&&Y[1]==Y[3]){this.T_=null;
this.iq()}if((h==3||h==4)&&this.GN){if(h==3&&!this.WB[2][3].j()&&this.a4w){this.rr=this.a4w.b();this.iq()}this.Gg();
this.He=null}if(!this.WB[2][3].j())this.b6=null;this.GN=!1;this.aui=null;this.pk=null};ds.VaPo.prototype.qn=function(d,v){if(d==this.T)return;
var t=this.cM,X=6;if(this.T==5){this.Gg();this.YQ(t);this.LW=null;this.iq()}if(this.T==3||this.T==4){this.He=null;
if(t)this.YQ(t);this.iq(!0,t)}if(d==5){if(v==null&&this.T_==null){alert("Select the area to be transformed");
return}this.ayk(v)}if(d>1){var h=this.qL();this.Q5();this.Gg(h,!0);this.iq()}this.view.M6(d>=X?kR.bD(d-X):new cQ(!0));
if(d<X)this.view.a$("auto");this.T=d;this.SG.qn(d);u.Pl(this.S6);var g={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[d];
this.S6.appendChild(this.Zq[g])};ds.VaPo.prototype.qL=function(){var n=this.M4,d=this.XL;while(d[n].length==3)n--;
var v=d[n];this.l=JSON.parse(v[1]);return JSON.parse(v[0])};ds.VaPo.prototype.Gg=function(d,v){if(d==null&&this.cM==null)return;
var t=this.XL,h=this.M4,n=h;while(n>=0&&t[n].length==3)n--;if(v==null)this.M4=h=h+1;if(d!=null)t[v?n:h]=[JSON.stringify(d),JSON.stringify(this.l)];
else{var X=this.mz,g=this.cM,x=f.m(g.k()*4),Z=f.m(g.k()*4);t[h]=[g,x,Z];f.wH(this.qu,X,x,g);if(this.He)f.V.Qe("norm",this.He,X,this.qu,X,X,this.qR());
else this.w_(this.qu);f.wH(this.qu,X,Z,g);this.cM=null}while(t.length!=h+1)t.pop()};ds.VaPo.prototype.qR=function(){return this.WB[this.T-1][2].j()/100};
ds.VaPo.prototype.Q5=function(d,v){if(d==null)d=this.qL();this.l=[];for(var n=0;n<d.length;n++){var t=[];
this.l.push(t);if(v)for(var h=0;h<d[n][1].length;h++)t.push(h)}};ds.VaPo.prototype.a=function(d,v,t,h,X,g){var x=f.v(g[2].uB);
this.M4=-1;this.Q5(x);this.Gg(x);v=f.OO(v,8);X=f.OO(X,8);var Z=f.m(h.k()*4);f.wH(v,t,Z,h);this.awd=new iW;
this.mz=h;this.a1r=X;this.qu=Z;this.s7=X.slice(0);this.YQ(h);this.iq(!0);this.view.JZ();this.qn(0)};
ds.VaPo.prototype.ayk=function(d){this.u9=d?d:this.ac1();var v=f.Q.Ya(this.u9.BS).I;if(d){var t=this.qL(),h=f.uB.Qv(t,t[0][1][0],this.Kp()),X=h[1],g=Math.min(X.r/d.BS.r,X.$/d.BS.$)*.9;
if(g<1)f.Q.M(v,new gi(g,0,0,g,0,0),v)}this.LW=new d3(v,!0,!0);this.T_=null;this.cM=this.w_();this.iq(!0)};
ds.VaPo.prototype.ac1=function(d){var v=this.mz,t=f.Q.kI(this.T_),h=this.qL(),X=f.m(t.k()*4);if(d==null)d=this.nz;
var g=h[d[0]][1],x=f.uB.Ri(h[d[0]][1],d[1],t,this.Kp());for(var Z=0;Z<x.length;Z++){var Y=g[x[Z]],a=f.uB.Qv(h,Y,this.Kp()),z=a[0],p=a[1],U=p.hL(t);
if(U.HP())continue;U=f.Q.kI(U);var l=f.m(U.k()*4),L=f.G.ms(z,p);L=f.G.Sn([1/v.r,0,0,0,1/v.$,0,0,0],L);
L=f.G.zJ(L);f.G.drawImage(L,this.s7,v.r,v.$,l,U);f.wH(l,U,X,t)}var j=this.WB[1][0].j(),O=Math.round(j*1.4),F=t.b();
F.o2(-O,-O);var i=f.m(F.k());i.fill(255);var $=f.m(t.k());f.Qb(i,F,$,t);var H=$.slice(0);f.C2.Hd(H,t,j);
f.Po(X,$,3);f.wR.hL($,H,H);f.Gj(H,X,3);return{Gw:X,BS:t}};ds.VaPo.prototype.YQ=function(d,v){var t=this.mz;
f.wH(this.a1r,t,this.s7,t,d);f.V.Qe("norm",this.qu,t,this.s7,t,d,1);if(this.He)f.V.Qe("norm",this.He,t,this.s7,t,d,this.qR())};
ds.VaPo.prototype.w_=function(d,v,t){var h=this.u9,X=h.BS,g=this.mz,x,Z=v?f.Q.Ya(v).I:this.LW.gU(),Y=f.Q.mo(Z),x=f.G.ms(Z,X),a=this.WB[4],z=new gi;
if(a[0].j()){z.aX=-1;z.r2=2*X.x+X.r}if(a[1].j()){z.r7=-1;z.pE=2*X.y+X.$}x=f.G.Sn(x,f.G.KO(z));function p(D,N){D.beginPath();
D.moveTo(N[0],N[1]);for(var n=1;n<4;n++)D.lineTo(N[n*2],N[n*2+1]);D.closePath()}var U=this.qL(),l=f.uB.Ri(U[this.nz[0]][1],this.nz[1],Y,this.Kp()),L=U[this.nz[0]][1],j=new iW;
for(var O=0;O<l.length;O++){var F=L[l[O]],i=f.uB.Qv(U,F,this.Kp()),$=i[0],H=i[1],b=H.hL(Y);if(this.T_)b=b.hL(this.T_);
if(b.HP())continue;var r=f.G.ms($,H),W=f.Q.Ya(b).I;f.G.M(r,W);var V=Z.slice(0);f.G.M(r,V);var y=f.Q.k2(V).hL(f.Q.k2(W)),c=y.r,S=y.$;
if(y.HP())continue;r=f.G.Sn(f.G.Sn(r,x),[X.r,0,X.x,0,X.$,X.y,0,0]);var C=f.m(y.k()*4);f.G.drawImage(r,h.Gw,X.r,X.$,C,y,t);
if(b.k()!=Y.k()){var K=f.km(c,S);K.save();K.clearRect(0,0,c,S);K.translate(-y.x,-y.y);p(K,W);K.clip();
p(K,V);K.fill();K.restore();var T=new Uint8Array(K.getImageData(0,0,c,S).data.buffer);for(var n=3;n<C.length;
n+=4)if(T[n]<C[n])C[n]=T[n]}f.V.Qe("norm",C,y,d?d:this.s7,g,y,1);j=j.Ue(y)}return j};ds.VaPo.prototype.j=function(){return f.v(this.qL())};
ds.VaPo.prototype.anA=function(){if(this.T==5)this.qn(0);var d=new iW,v=this.XL;for(var n=0;n<=this.M4;
n++)if(v[n].length==3)d=d.Ue(v[n][0]);var t=f.m(d.k()*4);f.wH(this.qu,this.mz,t,d);return[t,d]};ds.VaPo.prototype.K$=function(d,v){this.SG.K$(d,v);
this.view.K$(d-40,v-30)};ds.VaPo.prototype.H=function(){this.SG.H();for(var n=0;n<this.WB.length;n++)for(var d=0;
d<this.WB[n].length;d++)this.WB[n][d].H()};ds.VaPo.prototype.iq=function(d,v){var t=this.mz,h=[],X=[],g=[],x=this.qL(),Z=f.uB.gU(x,this.l),Y=0,a=null,O=null,F=null,i=null;
for(var n=0;n<Z.length;n++)g.push(Z[n][0][0],Z[n][0][1]);for(var n=0;n<x.length;n++){var z=this.l[n].length;
Y+=z;if(z!=0)a=[n,this.l[n][0]]}var p=this.WB[0][0];p.$e(Y!=0);if(Y!=0)p.a(Math.round(x[a[0]][0]));this.WB[0][1].$e(Y!=0);
if(Y==1){var U=x[a[0]][1]}var l=[];if(this.T_&&x[this.nz[0]])l=f.uB.Ri(x[this.nz[0]][1],this.nz[1],this.T_,this.Kp());
var L=[];if(this.LW){L=this.LW.a8Z();L[4]=this.LW.jS()}var j=[];if(this.LW&&x[this.nz[0]])j=f.uB.Ri(x[this.nz[0]][1],this.nz[1],f.Q.k2(this.LW.gU()),this.Kp());
for(var $=0;$<x.length;$++){var H=x[$][0],U=x[$][1],b=this.l[$];for(var r=0;r<U.length;r++){var a=U[r],W=f.uB.Qv(x,a,this.Kp()),V=W[0],t=W[1],y=f.G.ms(V,t);
if(t.HP()){if(F==null)F={s2:[],I:[]};f.Q.concat(F,{s2:["M","L","L","L","Z"],I:V});continue}var c=f.Q.Ya(t),S=c.I,C=c.s2,K=this.rr;
if(K&&t.QQ(K)&&this.Bf&&this.Bf[0]==$){O=[K.x,K.y];f.G.M(y,O)}if(l.indexOf(r)!=-1){var T=this.T_.hL(t);
if($==this.nz[0]&&!T.HP()){if(i==null)i={I:[],s2:[]};var D=f.Q.Ya(T);f.G.M(y,D.I);f.Q.concat(i,D)}}if(j.indexOf(r)!=-1&&$==this.nz[0]){var N=[];
for(var n=0;n<L.length;n++)if(t.QQ(L[n]))N.push(L[n].x,L[n].y);if(N.length!=0){f.G.M(y,N);g=g.concat(N)}}if(b&&b.indexOf(r)!=-1){var G=Math.ceil(t.x/H)*H,s=t.x+t.r,Q=Math.ceil(t.y/H)*H,q=t.y+t.$;
for(var R=G;R<s;R+=H){S.push(R,t.y,R,q);C.push("M","L")}for(var m=Q;m<q;m+=H){S.push(t.x,m,s,m);C.push("M","L")}}f.G.M(y,S);
h=h.concat(C);X=X.concat(S)}if(O&&this.T==3){var R=O[0],m=O[1],E=10/this.view.$I().OI;X.push(R-E,m,R+E,m);
X.push(R,m-E,R,m+E);h.push("M","L","M","L")}}var V=this.aE,t=this.mz;if(V){var e=["M"];for(var n=0;n<V.length-2;
n+=2)e.push("L");e.push("Z");var w=A.Fv.B1(V,t.r/2,t.$/2);if(isNaN(w)||w==Infinity||w==-Infinity||!d3.Tf(V)){if(F==null)F={s2:[],I:[]};
f.Q.concat(F,{s2:e,I:V})}else{X=X.concat(V);h=h.concat(e)}}var M={sG:{s2:h,I:X},a8c:F,ag_:i,ag:g,ZJ:null};
if(d){if(v){v=v.b();v.o2(4,4)}this.view.a([{_S:t,data:this.s7.buffer}],null,M,v)}else this.view.a4l(M)};
ds.blnc=function(){ds.call(this);var d=this._;this.Sa=null;this.Z9=new e8([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.Z9.P(_.E.w,this.iq,this);d.appendChild(this.Z9._);this.I5=[];for(var n=0;n<3;n++){var v=new fb(["VAR0 - VAR1",cV.aa8[n],cV.Yv[n]],-100,100);
v.P(_.E.w,this.cV,this);this.I5.push(v);d.appendChild(v._)}this.zk=new l8([13,4]);this.zk.P(_.E.w,this.cV,this);
d.appendChild(this.zk._)};ds.blnc.prototype=new ds;ds.blnc.prototype.H=function(){this.Z9.H();for(var n=0;
n<3;n++)this.I5[n].H();this.zk.H()};ds.blnc.prototype.a=function(d){this.Sa=f.v(d);this.iq()};ds.blnc.prototype.j=function(d){var v=["ShdL","MdtL","HghL"],t=this.Sa[v[this.Z9.j()]].v;
for(var n=0;n<3;n++)t[n].v=this.I5[n].j();this.Sa.PrsL.v=this.zk.j();return f.v(this.Sa)};ds.blnc.prototype.iq=function(d){var v=["ShdL","MdtL","HghL"],t=this.Sa[v[this.Z9.j()]].v;
for(var n=0;n<3;n++)this.I5[n].a(t[n].v);this.zk.a(this.Sa.PrsL.v)};ds.brit=function(){ds.call(this,"brit");
this.mG.push(new fb([12,2],-150,150,""));this.mG.push(new fb([12,3,0],-100,100,""));this.mG.push(new l8([12,3,1]));
this.B3()};ds.brit.prototype=new ds;ds.curv=function(){ds.call(this);this.value=null;this.yl=null;this.n=null;
var d=this._;this.rc=new e8("Preset",["basic","advanced"]);this.rc.P(_.E.w,this.alP,this);d.appendChild(this.rc._);
u.WJ(d);this.yc=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.yc.P(_.E.w,this.Yc,this);d.appendChild(this.yc._);
this.fR=new e8(null,["Spline","Sketch"]);this.fR.P(_.E.w,this.alP,this);d.appendChild(this.fR._);this.vB=new go;
this.vB.parent=this;this.vB.P(_.E.w,this.zc,this);d.appendChild(this.vB._);u.WJ(d);this.CG=new lk;this.CG.P(_.E.w,this.UE,this);
d.appendChild(this.CG._);this.zS=null;this.aJI=0;this.a58=0;u.WJ(d);this.Jl=new eM("Sample from image",a0.VG(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.Jl.P(_.E.w,this.jB,this);this.Jl._.style.marginRight="0";d.appendChild(this.Jl._)};ds.curv.prototype=new ds;
ds.curv.prototype.u6=function(){return this.CG.anC()<128?1:2};ds.curv.prototype.sq=function(d,v){if(v==lx.Np||v==lx.Xp){var t=d.tQ,h=["Default"];
for(var n=0;n<t.length;n++)h.push(t[n].presetFileName.v);h.push("Custom");this.rc.Cw(h,[1,t.length,1]);
this.n=d}};ds.curv.prototype.K$=function(d,v){this.CG.K$(d,v)};ds.curv.prototype.H=function(){this.yc.H();
this.CG.H()};ds.curv.prototype.ed=function(){this.rc.a(this.n.tQ.length+1)};ds.curv.prototype.alP=function(d){if(d.target==this.rc){var v=this.rc.j(),t=this.n.tQ,h;
if(v==0)h=e0.yu("curv");else if(v-1<t.length)h=f.v(t[v-1]);else return;this.a(h);this.cV();return}this.ed();
var X=js.TC(this.value,0),g=X.length==256?1:0,x=this.fR.j();if(g==x)return;var h=e0.yu("curv");if(x==1){var Z=[];
for(var n=0;n<256;n++)Z.push(n);js.jq(h,0,Z)}this.a(h);this.cV()};ds.curv.prototype.UE=function(){this.ed();
js.jq(this.value,this.yc.j(),this.CG.j());this.cV()};ds.curv.prototype.Yc=function(){var d=this.yc.j(),v=js.TC,t=v(this.value,d),h;
if(d==0)h=[v(this.value,1),v(this.value,2),v(this.value,3)];var X=t.length==256?1:0;this.fR.a(X);if(this.yl)this.CG.s0(this.yl[d],this.yl[4]*[1,.33,.33,.33][d],["rgba(255,255,255,0.3)","rgba(255,100,100,0.3)","rgba(100,255,100,0.3)","rgba(100,100,255,0.3)"][d]);
this.CG.a(t,null,h)};ds.curv.prototype.PO=function(){return!0};ds.curv.prototype.li=function(d,v,t,h,X){var g=this.value;
this.value=e0.yu("curv");this.cV();var x=A.Ds.Ah(d,X,1,null,!0),Z=this.zS=[x>>>16&255,x>>>8&255,x&255];
this.aJI=X.y;this.a(g);this.cV()};ds.curv.prototype.qw=function(d,v,t,h,X){if(this.zS==null)return;if(this.Jl.j().indexOf(!0)==3){var g=this.zS,x=this.value,Z=this.yc.j(),Y=js.TC(x,Z),a,z=Z==0?Math.round((g[0]+g[1]+g[2])/3):g[Z-1],p=-1;
for(var n=0;n<Y.length;n++)if(Y[n].v.Hrzn.v==z)p=n;if(p==-1){a=f.v(Y[0]);a.v.Hrzn.v=z;a.v.Vrtc.v=z;Y.push(a);
Y.sort(function(U,l){return U.v.Hrzn.v-l.v.Hrzn.v});js.jq(x,Z,Y);p=Y.indexOf(a)}a=Y[p];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.aJI-X.y))));
js.jq(x,Z,Y);this.a(x);this.cV()}};ds.curv.prototype.QZ=function(d,v,t,h,X){ds.ayT(this,d,X,"curv");
this.ed();this.zS=null};ds.curv.prototype.a=function(d){this.value=d;this.Yc()};ds.curv.prototype.s0=function(d){this.yl=d;
this.Yc()};ds.curv.prototype.j=function(d){return f.v(this.value)};ds.curv.prototype.zc=function(){var d=this.vB.j(),v=this.yl,t=this.value,h=f.aa_(d,v);
for(var n=0;n<4;n++){var X=h[n][0],g=h[n][1],x=h[n][2],Z=[f.kB.lY(X,0,!0),f.kB.lY(g,255,!0)];if(x!=null)Z.splice(1,0,f.kB.lY(128,x,!0));
js.jq(t,n,Z)}this.Yc();this.cV()};ds.expA=function(){ds.call(this,"expA");this.mG.push(new fb([12,5],-20,20,null,2,!0));
this.mG.push(new fb([12,6],-.5,.5,null,2));this.mG.push(new fb([12,7],.01,9.99,null,2,!0));this.B3()};
ds.expA.prototype=new ds;ds.expA.prototype.ZL=function(d,v){v[0]=d.Exps.v;v[1]=d.Ofst?d.Ofst.v:0;v[2]=d.gammaCorrection?d.gammaCorrection.v:1};
ds.expA.prototype.dD=function(d,v){d.Exps={t:"doub",v:v[0]};d.Ofst={t:"doub",v:v[1]};d.gammaCorrection={t:"doub",v:v[2]}};
ds.grdm=function(){ds.call(this,"grdm");this.mG.push(new kt(!0,null,!0));this.mG.push(new l8([12,23,3]));
this.mG.push(new l8([12,23,0]));this.mG.push(new e8("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]));
this.B3()};ds.grdm.prototype=new ds;ds.grdm.prototype.ZL=function(d,v){v[0]=d.Grad.v;v[1]=d.Dthr?d.Dthr.v:!1;
v[2]=d.Rvrs?d.Rvrs.v:!1;v[3]=kV.iF.IG.indexOf(d.gs99?d.gs99.v.gradientInterpolationMethodType:"Gcls")};
ds.grdm.prototype.dD=function(d,v){d.Grad.v=v[0];d.Dthr={t:"bool",v:v[1]};d.Rvrs={t:"bool",v:v[2]};d.gs99={t:"enum",v:{gradientInterpolationMethodType:kV.iF.IG[v[3]]}}};
ds.grdm.prototype.sq=function(d,v){this.mG[0].D$(d.Sw,d.dL);if(v==lx.Np||v==lx.bX||v==lx.t0)this.mG[0].eN(d.tZ)};
ds.selc=function(){ds.call(this);var d=this._;this.sB=[];this.Ux=null;this.Z9=new e8([12,82],cV.gd.concat([[13,1,8],[13,1,13],[13,1,10]]));
this.Z9.P(_.E.w,this.nh,this);d.appendChild(this.Z9._);u.WJ(d);for(var n=0;n<4;n++){var v=new fb(cV.aa8[n],-100,100,"%");
v.P(_.E.w,this.nh,this);this.sB.push(v);d.appendChild(v._)}this.Qh=new l8([13,3]);d.appendChild(this.Qh._);
this.Qh.P(_.E.w,this.nh,this)};ds.selc.prototype=new ds;ds.selc.prototype.H=function(){this.Z9.H();this.Qh.H();
for(var n=0;n<4;n++)this.sB[n].H()};ds.selc.prototype.a=function(d){this.Ux=f.v(d);this.iq()};ds.selc.prototype.j=function(d){return f.v(this.Ux)};
ds.selc.prototype.nh=function(d){if(d.target!=this.Z9){var v=this.Ux,t=[];for(var n=0;n<4;n++)t[n]=this.sB[n].j();
g5.jq(v,this.Z9.j(),t);v.Mthd={t:"enum",v:{CrcM:this.Qh.j()?"Absl":"Rltv"}}}this.iq();this.cV()};ds.selc.prototype.iq=function(){var d=this.Ux,v=g5.TC(d,this.Z9.j());
for(var n=0;n<4;n++)this.sB[n].a(v[n]);this.Qh.a(d.Mthd?d.Mthd.v.CrcM=="Absl":!1)};ds.blwh=function(){ds.call(this,"blwh");
this.mG.push(new l8([12,11]));this.mG.push(new cX(!0));for(var n=0;n<6;n++)this.mG.push(new fb(cV.gd[n],-200,300));
this.B3()};ds.blwh.prototype=new ds;ds.blwh.prototype.ZL=function(d,v){v[0]=d.useTint.v;v[1]=d.tintColor.v;
var t="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)v[2+n]=d[t[n]].v};ds.blwh.prototype.dD=function(d,v){d.useTint.v=v[0];
d.tintColor.v=v[1];var t="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)d[t[n]].v=v[2+n]};
ds.hue2=function(){ds.call(this);this.value=null;this.ba=null;this.gG=null;this.avz=[[0,0,0],[0,50,0]];
var d=this._;this.Jl=new eM(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.Jl.P(_.E.w,this.a4o,this);this.Jl.P(_.E.w,this.jB,this);d.appendChild(this.Jl._);var v=this.mG=[new e8([12,12],["Master"].concat(cV.gd)),new fb([12,8],-180,180),new fb([12,9],-100,100),new fb([12,10],-100,100),new l8([12,11])];
for(var n=0;n<v.length;n++){var t=v[n];t.P(_.E.w,n==0?this.Yc:this.a7j,this);d.appendChild(t._)}this.Z9=v[0];
this.ap8=v[1];this.NZ=v[2];this.aqq=v[3];this.PV=v[4];this.n3=new eM("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.n3.P(_.E.w,this.a4o,this);this.n3.P(_.E.w,this.jB,this);this.n3._.style.marginLeft="20px";d.appendChild(this.n3._);
this.a3h=u.q("div");d.appendChild(this.a3h);this.C_=this.tV.bind(this);this.zr=this.Kk.bind(this);this.$D=u.q("canvas");
this.fy=this.$D.getContext("2d");this.JK=null;u.G4(this.$D);u.Zw(this.$D,282,18);d.appendChild(this.$D);
u.We(this.$D,this.ZQ.bind(this))};ds.hue2.prototype=new ds;ds.hue2.prototype.K$=function(d,v){u.Zw(this.$D,Math.round(d),18);
if(this.value)this.Yc()};ds.hue2.prototype.a4o=function(d){var v=d.target.j().indexOf(!0);if(v==-1)return;
if(d.target==this.Jl)this.n3.a([!1,!1,!1]);else this.Jl.a([!1,!1,!1])};ds.hue2.prototype.ZQ=function(d){if(this.Z9.j()==0||this.PV.j())return;
var v=u.cN(d,this.$D).x/(this.$D.width/u.LY()),g=1e6;function t(p,U,l){return p<U&&U<l||l<p&&(p<U||U<l)}var h=this.FZ(),X=-1;
for(var n=0;n<4;n++){var x=Math.abs(v-(h[n]+n*1e-5));if(x<g){g=x;X=n}}if(g>.025){X=-1;var Z=h[0],Y=h[1],a=h[2],z=h[3];
if(t(Z,v,Y))X=4;if(t(Y,v,a))X=5;if(t(a,v,z))X=6}if(X==-1)return;this.JK=X;u.Fg(document.body,this.C_);
u.KP(document.body,this.zr)};ds.hue2.prototype.tV=function(d){var v=u.cN(d,this.$D).x/(this.$D.width/u.LY()),t=this.FZ(),h=this.JK;
for(var n=1;n<4;n++)if(t[n]<t[n-1]){t[n]+=1}if(h<4){var X=1e6,g=0;for(var n=-20;n<20;n++){var x=Math.abs(t[h]-(v+n));
if(x<X){X=x;g=n}}v+=g;t[h]=v;for(var n=h+1;n<4;n++)if(t[n]<t[n-1]){t[n]=t[n-1]}for(var n=h-1;n>=0;n--)if(t[n]>t[n+1]){t[n]=t[n+1]}}else{var Z=v-(t[h-4]+t[h-3])/2;
if(Z<-.5)Z+=1;if(h==4){t[0]+=Z;t[1]+=Z;t[2]=Math.max(t[1],t[2]);t[3]=Math.max(t[1],t[3])}if(h==5)for(var n=0;
n<4;n++)t[n]+=Z;if(h==6){t[2]+=Z;t[3]+=Z;t[0]=Math.min(t[0],t[2]);t[1]=Math.min(t[1],t[2])}}for(var n=1;
n<4;n++)if(t[n]<t[n-1])throw"e";this.a1E(t);this.Yc();this.cV()};ds.hue2.prototype.Kk=function(d){u.Ej(document.body,this.C_);
u.mc(document.body,this.zr)};ds.hue2.prototype.H=function(){for(var n=0;n<this.mG.length;n++)this.mG[n].H()};
ds.hue2.prototype.a7j=function(d){var v=this.value.Clrz.v=this.PV.j();if(v)this.Z9.a(0);if(d&&d.target==this.PV){var t=v?1:0;
this.avz[1-t]=kg.TC(this.value,0);var h=this.avz[t];kg.jq(this.value,0,h);if(this.Z9.j()==0){this.ap8.a(h[0]);
this.NZ.a(h[1]);this.aqq.a(h[2])}}var X=this.Z9.j(),g=kg.TC(this.value,X),h=X==0?g:g.I5;h[0]=this.ap8.j();
var x=this.NZ.j();h[1]=v?Math.max(0,x):x;h[2]=this.aqq.j();kg.jq(this.value,X,g);this.Yc();this.cV()};
ds.hue2.prototype.Yc=function(){var d=this.Z9.j(),v=this.value.Clrz?this.value.Clrz.v:!1;this.PV.a(v);
this.Z9.$e(!v);this.n3.$e(!v&&d!=0);var t=kg.TC(this.value,d),h=d==0?t:t.I5;this.ap8.a(h[0]);this.NZ.a(h[1]);
this.aqq.a(h[2]);var X=this.$D.width,g=this.$D.height,x=this.fy;x.clearRect(0,0,X,g);if(v||d==0){this.a3h.innerHTML="";
return}var Z=t.Cy;this.a3h.innerHTML=Z[0]+"\xB0 / "+Z[1]+"\xB0<span style=\"float:right\">"+Z[2]+"\xB0 \\ "+Z[3]+"\xB0</span>";
var Y=f.m(X*4);gb.a9E(Y,1,X,-1,.5);var a=new ImageData(new Uint8ClampedArray(Y.buffer),X,1),z=Math.round(g/4);
for(var n=0;n<z;n++)x.putImageData(a,0,n);function p(F,i,$){x.fillStyle=$;var H=z*2;if(F<=i)x.fillRect(F*X,H,(i-F)*X,z);
else{x.fillRect(0,H,i*X,z);x.fillRect(F*X,H,(1-F)*X,z)}}var U=this.FZ();p(U[0],U[1],"#888888");p(U[1],U[2],"#cccccc");
p(U[2],U[3],"#888888");x.fillStyle="#ffffff";x.lineWidth=1;x.beginPath();var l=z+.5,L=4*z+.5;for(var n=0;
n<4;n++){var j=Math.floor(X*U[n])+.5,O=(n<2?-1:1)*z*(n==1||n==2?1:2);x.moveTo(j,l);x.lineTo(j,L);x.lineTo(j+O,L);
x.lineTo(j+O,z+z+.5);x.closePath()}x.fill();x.stroke()};ds.hue2.prototype.FZ=function(){var d=this.Z9.j(),v=kg.TC(this.value,d).Cy;
for(var n=0;n<4;n++)v[n]=(1000.5+v[n]/360)%1;return v};ds.hue2.prototype.a1E=function(d){var v=this.Z9.j(),t=kg.TC(this.value,v);
for(var n=0;n<4;n++)t.Cy[n]=Math.round(36e3+(d[n]-.5)*360)%360;kg.jq(this.value,v,t)};ds.hue2.prototype.PO=function(){return!0};
ds.hue2.prototype.a5u=function(){var d=this.Jl.j().indexOf(!0),v=this.n3.j().indexOf(!0);return d!=-1?d:v!=-1?v+1:-1};
ds.hue2.prototype.li=function(d,v,t,h,X){var g=this.a5u();if(g==-1)return;var x=this.value;this.value=e0.yu("hue2");
this.cV();var Z=A.Ds.Ah(d,X,1,null,!0);this.a(x);var Y=[Z>>>16&255,Z>>>8&255,Z&255],a=f.qZ(Y[0]/255,Y[1]/255,Y[2]/255);
if(g==0){this.Z9.a(1+Math.round(a.uV*6)%6)}else{var z=this.FZ(),p=.5+a.uV,U=1/12,l=z[1],L=z[2];if(L<l){L++;
if(p<l&&p+1-L<l-p)p++}var j=l<=p&&p<=L;if(g==1){l=p-U/2;L=p+U/2}else if(g==2&&!j){l=Math.min(p,l);L=Math.max(p,L)}else if(g==3&&j){if(p-l<L-p)l=p;
else L=p}z=[l-U,l,L,L+U];this.a1E(z)}this.cV();this.ba=X.x;this.gG=this.NZ.j()};ds.hue2.prototype.qw=function(d,v,t,h,X){var g=this.a5u();
if(g==-1)return;if(g==0){if(this.ba!=null){var x=X.x-this.ba;x=Math.max(-100,Math.min(100,this.gG+.5*x));
this.NZ.a(x);this.a7j()}}};ds.hue2.prototype.QZ=function(d,v,t,h,X){this.ba=null};ds.hue2.prototype.a=function(d){this.value=f.v(d);
var v=this.value.Clrz?this.value.Clrz.v:!1;this.avz[v?1:0]=kg.TC(this.value,0);this.Yc()};ds.hue2.prototype.j=function(d){return f.v(this.value)};
ds.levl=function(){function d(){ds.call(this);this.value=null;this.yl=null;this.gj=[new cK(0,0),new cK(0,0),new cK(0,0),new cK(0,0),new cK(0,0)];
this.nd=-1;this.a83=0;this.C_=this.tV.bind(this);this.zr=this.Kk.bind(this);var v=this._;this.yc=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.yc.P(_.E.w,this.Yc,this);v.appendChild(this.yc._);this.vB=new go;this.vB.parent=this;this.vB.P(_.E.w,this.zc,this);
v.appendChild(this.vB._);var t=u.q("div","");v.appendChild(t);var h=u.q("div","");v.appendChild(h);this.$D=u.q("canvas");
t.appendChild(this.$D);this.fy=this.$D.getContext("2d");this.wg=new cK(256,120);u.i(this.$D,"display:block");
u.G4(this.$D);u.We(this.$D,this.ZQ.bind(this));this.bz=u.q("canvas","");h.appendChild(this.bz);this.fQ=this.bz.getContext("2d");
this.dZ=new cK(this.wg.x,40);u.i(this.bz,"display:block");u.G4(this.bz);u.We(this.bz,this.auV.bind(this));
var X=this.a0P=[];for(var n=0;n<5;n++){var g=new eR(null,null,3);X.push(g);g.P(_.E.w,this.a7I,this);
(n<2||n==4?t:h).appendChild(g._)}t.appendChild(X[1]._);this.Jl=new eM("Sample from image",a0.VG(["#000000","#888888","#ffffff"]),!0,null,!0);
this.Jl.P(_.E.w,this.jB,this);v.appendChild(this.Jl._);this.K$(250,100)}d.prototype=new ds;d.prototype.u6=function(){return this.a83==0?1:2};
d.prototype.zc=function(){var v=this.vB.j(),t=this.yl,h=this.value,X=f.aa_(v,t);for(var n=0;n<4;n++){var g=X[n][0],x=X[n][1],Z=X[n][2],Y=[f.kB.lY(g,0,!0),f.kB.lY(x,255,!0)];
if(Z!=null)Y.splice(1,0,f.kB.lY(128,Z,!0));var a=[~~g,~~x,0,255,Z==null?100:~~(100+.75*100*(Z-128)/128)];
k9.jq(h,n,a)}this.Yc();this.cV()};d.prototype.K$=function(v,t){v+=6;this.wg.x=this.dZ.x=v;u.Zw(this.$D,v,this.wg.y,this.fy);
u.Zw(this.bz,v,this.dZ.y,this.fQ);var h=this.a0P;u.i(h[3]._,"margin-left: "+(v-104)+"px");u.i(h[4]._,"margin: 0 "+(v/2-74)+"px");
if(this.value)this.Yc()};d.prototype.H=function(){this.yc.H()};d.prototype.a7I=function(v){var t=[];
for(var n=0;n<5;n++){var h=255,X=1;if(n==4){h=999;X=100}var g=parseFloat(this.a0P[n].j());t[n]=Math.max(0,Math.min(h,g*X))}k9.jq(this.value,this.yc.j(),t);
this.Yc();this.cV()};d.prototype.Yc=function(v){var t=this.wg.x,h=this.wg.y,X=this.yc.j(),g=this.fy;
g.clearRect(0,0,t,h);g.fillStyle="#cccccc";g.fillRect(8,8,t-16,h-16-8);if(this.yl){var x=this.yl[0].slice(0),L=0;
if(X==0){x.fill(0);var Z=f.v(this.value);k9.jq(Z,0,[0,255,0,255,100]);var Y=cV.MM("levl",Z),a=[Y.Ea,Y.MJ,Y.Z3];
for(var z=0;z<3;z++){var p=this.yl[1+z],U=a[z];for(var n=0;n<256;n++)x[~~(U[n]*255)]+=p[n]}}var l=X==0?x:this.yl[X];
for(var n=0;n<l.length;n++)L+=l[n];g.fillStyle="#333333";g.beginPath();g.moveTo(8,h-16);for(var n=0;
n<256;n++){var j=55*l[n]/L;g.lineTo(8+n/256*(t-16),Math.max(8,h-16-h*j))}g.lineTo(t-8,h-16);g.closePath();
g.fill()}var O=k9.TC(this.value,X);for(var n=0;n<5;n++)this.a0P[n].a(O[n]/(n==4?100:1));this.gj[0].QG(8+O[0]/255*(t-16),h-14);
this.gj[1].QG(8+O[1]/255*(t-16),h-14);var F=Math.log(O[4]/100)/Math.log(9.99);F=.5-F/2;this.gj[4].QG(this.gj[0].x+F*(this.gj[1].x-this.gj[0].x),h-14);
this.zC(g,this.gj[0],"#000000");this.zC(g,this.gj[1],"#ffffff");this.zC(g,this.gj[4],"#777777");var t=this.dZ.x,h=this.dZ.y;
g=this.fQ;g.clearRect(0,0,t,h);var i=g.createLinearGradient(0,0,t-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
g.fillStyle=i;g.fillRect(8,8,t-16,16);this.gj[2].QG(8+O[2]/255*(t-16),h-14);this.gj[3].QG(8+O[3]/255*(t-16),h-14);
this.zC(g,this.gj[2],"#000000");this.zC(g,this.gj[3],"#ffffff")};d.prototype.zC=function(v,t,h){v.fillStyle=h;
v.fillRect(t.x-5,t.y,10,10)};d.prototype.ZQ=function(v){var t=u.cN(v,this.$D),h=this.ajf([0,1,4],t);
if(h!=-1)this.nd=this.a83=h;this.a6M()};d.prototype.auV=function(v){var t=u.cN(v,this.bz),h=this.ajf([2,3],t);
if(h!=-1)this.nd=h;this.a6M()};d.prototype.ajf=function(v,t){var h=-1,X=1e9;for(var n=0;n<v.length;n++){var g=Math.abs(this.gj[v[n]].x-t.x);
if(g<X){X=g;h=v[n]}}return X<16?h:-1};d.prototype.a6M=function(v){if(this.nd==-1)return;u.Fg(document.body,this.C_);
u.KP(document.body,this.zr)};d.prototype.tV=function(v){var t=k9.TC(this.value,this.yc.j()),h=u.cN(v,this.nd==2&&this.nd==3?this.bz:this.$D),X=255*(h.x-8)/(this.wg.x-16);
X=Math.max(0,Math.min(255,X));if(this.nd==0)X=Math.min(X,t[1]-2);if(this.nd==1)X=Math.max(X,t[0]+2);
if(this.nd!=4)t[this.nd]=Math.round(X);else{var g=(X-t[0])/(t[1]-t[0]);g=1-2*g;g=Math.pow(9.99,g);t[4]=Math.min(999,Math.max(10,Math.round(g*100)))}k9.jq(this.value,this.yc.j(),t);
this.Yc();this.cV()};d.prototype.Kk=function(v){u.Ej(document.body,this.C_);u.mc(document.body,this.zr);
this.nd=-1};d.prototype.PO=function(){return!0};d.prototype.QZ=function(v,t,h,X,g){ds.ayT(this,v,g,"levl")};
d.prototype.a=function(v){this.value=v;this.Yc()};d.prototype.s0=function(v){this.yl=v;this.Yc()};d.prototype.j=function(v){return f.v(this.value)};
return d}();ds.phfl=function(){ds.call(this,"phfl");this.mG.push(new cX);this.mG.push(new fb([12,74],0,100,"%"));
this.mG.push(new l8([13,4]));this.B3()};ds.phfl.prototype=new ds;ds.phfl.prototype.ZL=function(d,v){v[0]=d.Clr.v;
v[1]=d.Dnst.v;v[2]=d.PrsL.v};ds.phfl.prototype.dD=function(d,v){var t=f.iF.pq(v[0]),h=d.Clr.v,X=f.Nv(t.C,t.L,t.X);
h.Lmnc.v=X.f0;h.A.v=X.aX;h.B.v=X.X;d.Dnst.v=v[1];d.PrsL.v=v[2]};ds.vibA=function(){ds.call(this,"vibA");
this.mG.push(new fb([12,13],-100,100,null));this.mG.push(new fb([12,9],-100,100,null));this.B3()};ds.vibA.prototype=new ds;
ds.vibA.prototype.ZL=function(d,v){v[0]=d.vibrance?d.vibrance.v:0;v[1]=d.Strt?d.Strt.v:0};ds.vibA.prototype.dD=function(d,v){d.vibrance.v=v[0];
d.Strt.v=v[1]};ds.thrs=function(){ds.call(this,"thrs");this.mG.push(new fb([4,13],1,255,null));this.B3()};
ds.thrs.prototype=new ds;ds.thrs.prototype.ZL=function(d,v){v[0]=d.Lvl.v};ds.thrs.prototype.dD=function(d,v){d.Lvl.v=v[0]};
ds.mixr=function(){ds.call(this);var d=this._;this.sB=[];this.Ux=null;this.Z9=new e8([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aBL=!1;this.Z9.P(_.E.w,this.nh,this);d.appendChild(this.Z9._);u.WJ(d);this.I4=new l8([12,60]);d.appendChild(this.I4._);
this.I4.P(_.E.w,this.nh,this);for(var n=0;n<4;n++){var v=new fb([[13,1,1],[13,1,4],[13,1,5],[13,2]][n],-200,200,"%");
v.P(_.E.w,this.nh,this);this.sB.push(v);d.appendChild(v._)}};ds.mixr.prototype=new ds;ds.mixr.prototype.H=function(){this.Z9.H();
this.I4.H();for(var n=0;n<4;n++)this.sB[n].H()};ds.mixr.prototype.a=function(d){this.Ux=f.v(d);this.iq()};
ds.mixr.prototype.j=function(d){return f.v(this.Ux)};ds.mixr.prototype.nh=function(d){if(d.target!=this.Z9){var v=cV._m(this.Ux);
if(d.target==this.I4){v.I4=this.I4.j();if(v.I4)v.K=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else v.K=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var t=(v.I4?0:this.Z9.j())*5,n=this.sB.indexOf(d.target);
v.K[t+(n<3?n:4)]=d.target.j()}this.Ux=cV.kL(v)}this.iq();this.cV()};ds.mixr.prototype.iq=function(){var d=cV._m(this.Ux),v=this.Z9.j();
if(d.I4!=this.aBL){this.Z9.Cw(d.I4?[[13,1,7]]:cV.Yv);this.Z9.a(v)}this.aBL=d.I4;this.I4.a(d.I4);var t=(d.I4?0:v)*5;
for(var n=0;n<4;n++)this.sB[n].a(d.K[t+(n<3?n:4)])};ds.post=function(){ds.call(this,"post");this.mG.push(new fb([4,1],2,255,null));
this.B3()};ds.post.prototype=new ds;ds.post.prototype.ZL=function(d,v){v[0]=d.Lvls.v};ds.post.prototype.dD=function(d,v){d.Lvls.v=v[0]};
ds.clrL=function(){ds.call(this,"clrL");this.mG.push(new iG("LUTs"));this.B3()};ds.clrL.prototype=new ds;
ds.clrL.prototype.ZL=function(d,v){v[0]=d};ds.clrL.prototype.dD=function(d,v){var t=v[0];for(var h in t)d[h]=t[h]};
ds.clrL.prototype.sq=function(d,v){if(v==lx.Np||v==lx.Iv)this.mG[0].eN(d.auR)};ds.rplc=function(){ds.call(this,"rplc");
this.mG.push(new fb([12,92],0,200));this.mG.push(new cX);this.mG.push(new fb([12,8],-180,180));this.mG.push(new fb([12,9],-100,100));
this.mG.push(new fb([12,10],-100,100));this.B3()};ds.rplc.prototype=new ds;ds.rplc.prototype.ZL=function(d,v){v[0]=d.Fzns.v;
v[1]=d.Mxm.v;v[2]=d.H.v;v[3]=d.Strt.v;v[4]=d.Lght.v};ds.rplc.prototype.dD=function(d,v){function t(X,g){g.Lmnc.v=X.f0;
g.A.v=X.aX;g.B.v=X.X}d.Fzns.v=v[0];d.H.v=v[2];d.Strt.v=v[3];d.Lght.v=v[4];var h=f.iF.pq(v[1]),X=f.Nv(h.C,h.L,h.X);
t(X,d.Mnm.v);t(X,d.Mxm.v)};ds.fade=function(){ds.call(this,"fade");this.mG.push(new fb([12,0],0,100,"%"));
this.mG.push(new e8([12,19,0],gL.GY,gL.F_));this.B3()};ds.fade.prototype=new ds;ds.fade.prototype.ZL=function(d,v){v[0]=d.Opct.v.val;
v[1]=gL.RG.indexOf(d.Md.v.BlnM)};ds.fade.prototype.dD=function(d,v){d.Opct.v.val=v[0];d.Md.v.BlnM=gL.RG[v[1]]};
ds.aply=function(){var d=gL.RG.concat(["Add","Sbtr"]);d.splice(21,1);var v=gL.GY.concat([[15,10,28],[15,10,21]]);
v.splice(21,1);var t=gL.F_.slice(0);t[4]--;function h(){ds.call(this,"aply");this.mG.push(new e8([0,3],[]));
this.mG.push(new e8([12,4],["RGB"].concat(cV.Yv).concat(["Transparency"])));this.mG.push(new l8([4,11]));
this.mG.push(new e8([12,19,0],v,t));this.mG.push(new fb([12,0],0,100,"%"));this.mG.push(new eh([12,38],1,2,null,2));
this.mG.push(new eh([12,6],-255,255));this.mG.push(new l8([13,5]));this.B3([2]);this.abO=null}h.prototype=new ds;
h.prototype.ZL=function(X,g,x){if(x){var Z=x[2].U,Y=this.abO=[];for(var n=0;n<Z.length;n++){var a=Z[n].getName();
Y.push(a.length<30?a:a.slice(0,27)+"...")}Y.reverse();this.mG[0].Cw([[5,7]].concat(Y),[1,Y.length])}else var Y=this.abO;
X=X.With.v;var z=X.T.v;g[0]=z[1].t=="name"?1+Y.indexOf(z[1].v.val):0;g[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(z[0].v.enum);
g[2]=X.Invr.v;var p=X.Clcl.v.Clcn;g[3]=d.indexOf(p);g[4]=X.Opct.v.val;g[5]=X.Scl.v;g[6]=X.Ofst.v;g[7]=X.PrsT.v};
h.prototype.dD=function(X,g){X=X.With.v;var x=X.T.v;if(g[0]==0)x[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else x[1]={t:"name",v:{classID:"Lyr",val:this.abO[g[0]-1]}};x[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][g[1]];
X.Invr.v=g[2];var Z=X.Clcl.v.Clcn=d[g[3]];X.Opct.v.val=g[4];X.Scl.v=g[5];X.Ofst.v=g[6];X.PrsT.v=g[7];
var Y=Z=="Add"||Z=="Sbtr";this.mG[5].$e(Y);this.mG[6].$e(Y)};return h}();ds.matc=function(){var d,v,t=0;
function h(){ds.call(this,"matc");this.mG.push(new l8("Apply only to a selection"));this.mG.push(new fb("Luminance",1,200));
this.mG.push(new fb("Color Intensity",1,200));this.mG.push(new fb([2,11],0,100,"%"));this.mG.push(new l8("Neutralize"));
this.mG.push(new l8("Use a selection of the source"));this.mG.push(new l8("Use a selection of the target"));
this.mG.push(new e8([12,70],[]));this.mG.push(new e8([0,3],[]));this.B3([4])}function X(g,x){g.mG[8].Cw([[5,7]].concat(x),[1,x.length])}h.prototype=new ds;
h.prototype.ZL=function(g,x,Z){t=0;x[0]=g.fsel?g.fsel.v:!1;x[1]=g.Lght.v;x[2]=g.ClrR.v;x[3]=g.Fade.v;
x[4]=g.neutralizeColor?g.neutralizeColor.v:!1;x[5]=g.selectedSourceAreas?g.selectedSourceAreas.v:!1;
x[6]=g.SlcA?g.SlcA.v:!1;x[7]=x[8]=0;var Y=g.Srce;if(Y)Y=Y.v;if(Z){d=[];v=[];var a=Z[2],z=Z[3];for(var n=0;
n<z.length;n++){var p=z[n];d.push(p.name);var U=p.U,l=[];v.push(l);for(var L=0;L<U.length;L++)l.push(U[L].getName());
l.reverse()}this.mG[7].Cw([[13,1,0]].concat(d),[1,d.length]);var j=z.indexOf(a);if(Y)j=d.indexOf(Y[1].v.val);
X(this,v[j])}if(Y){var O=d.indexOf(Y[1].v.val);x[7]=t=1+O;if(Y[0].t=="name")x[8]=1+v[O].indexOf(Y[0].v.val)}};
h.prototype.dD=function(g,x){g.fsel={t:"bool",v:x[0]};g.Lght.v=x[1];g.ClrR.v=x[2];g.Fade.v=x[3];g.neutralizeColor={t:"bool",v:x[4]};
g.selectedSourceAreas={t:"bool",v:x[5]};g.SlcA={t:"bool",v:x[6]};if(x[7]==0){g.noReference={t:"bool",v:!0};
delete g.Srce}else{if(x[7]!=t){t=x[7];X(this,v[x[7]-1])}delete g.noReference;var Z={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},Y=v[x[7]-1];
if(x[8]!=0)Z={t:"name",v:{classID:"Lyr",val:Y[x[8]-1]}};g.Srce={t:"obj ",v:[Z,{t:"name",v:{classID:"Dcmn",val:d[x[7]-1]}}]}}};
return h}();function et(d,v){hm.call(this);if(d==null)return;this.id=v;this.ML=d;this.acq=null;this._=u.q("div","window "+v);
this.aH2=null;this.YI=u.q("div","whead");this.ah_=u.q("span","wname");this.YI.appendChild(this.ah_);
this.ayF=!1;this._.appendChild(this.YI);this.ZY=this.aqC.bind(this);this.BF=this.awh.bind(this);this.r8=this.a3y.bind(this);
u.G4(this.YI);u.We(this.YI,this.ZY);this.anp=u.q("span","cross gsicon");this.YI.appendChild(this.anp);
et.prototype.H.call(this);u.KP(this.anp,this.ayl.bind(this));this.body=u.q("div","body");this._.appendChild(this.body)}et.prototype=new hm;
et.prototype.Ht=function(){return!1};et.prototype.PO=function(){return!1};et.prototype.H=function(){if(this.ML==null)return;
this.ah_.textContent=f7.get(this.ML)};et.prototype.li=function(d,v,t,h,X){};et.prototype.uO=function(d,v,t,h,X){};
et.prototype.qw=function(d,v,t,h,X){};et.prototype.QZ=function(d,v,t,h,X){};et.prototype.rP=function(d,v,t,h,X){};
et.prototype.M6=function(d,v,t,h){if(h.A(cQ.u0)&&this.rS)this.rS();if(h.A(cQ.LE)&&!this.YF(-1)){var X=new eG(_.E.F);
X.Mw=!0;A.VR.azf(h,X);if(X.data)v.J(X)}};et.prototype.YF=function(d){return!1};et.prototype.Hx=function(d,v){return!0};
et.prototype.dn=function(d,v,t,h){};et.prototype.sq=function(d,v){};et.prototype.M1=function(d,v){return null};
et.prototype.apZ=function(d){return this.aH2};et.prototype.K$=function(){};et.prototype.close=function(){this.re();
this.J(new eG(_.E.EO))};et.prototype.aqC=function(d){if(d.target==this.anp)return;this.acq=u.cN(d,this._);
u.Fg(window,this.BF);u.KP(window,this.r8)};et.prototype.awh=function(d){var v=this._.parentNode,t=u.cN(d,v);
t.x=Math.min(t.x,window.innerWidth);t.y=Math.min(t.y,window.innerHeight);var h=Math.round(t.x-this.acq.x),X=v.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(t.y-this.acq.y)));
this.aH2=new cK(h,X);this._.style.left=h+"px";this._.style.top=X+"px"};et.prototype.a3y=function(d){u.Ej(window,this.BF);
u.mc(window,this.r8)};et.prototype.ayl=function(d){if(this.ayF){this.rS();return}this.close();this.J(new eG("closebtn"))};
et.prototype.re=function(){};function ly(){et.call(this,"About Photopea","aboutpp");var d=this.body,v=this.aKP=u.q("img");
d.appendChild(v);u.i(this.body,"margin:0; padding:0");var t=this.Zq=u.q("div");t.innerHTML=ly.y_;d.appendChild(t);
var h=this.ZI=u.q("span");h.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(h)}ly.prototype=new et;ly.prototype.M1=function(d,v){return new cK(0,0)};ly.prototype.K$=function(d,v){var t=(d+v-42-42)/110,h,X,g;
t=Math.sqrt((d-42)*(v-42))/50;if(d>v){u.M3(this.body,"flexrow");h="width:"+d/2+"px; height:"+v+"px; display:block; object-fit:cover;";
X="width:"+(d/2-42)+"px; height:"+(v-42)+"px; padding:20px; font-size:"+t+"px;";g="position:absolute;  bottom:10px; right:"+(d/2+10)+"px"}else{if(d*1.5>v)t*=.9;
u.Ag(this.body,"flexrow");h="width:"+d+"px; height:"+v/2+"px; display:block; object-fit:cover;";X="width:"+(d-42)+"px; height:"+(v/2-42)+"px; padding:20px; font-size:"+t+"px;";
g="position:absolute;  bottom:"+(v/2+10)+"px; right:10px"}u.i(this.aKP,h);u.i(this.Zq,X);u.i(this.ZI,g)};
ly.prototype.H=function(){};ly.prototype.dn=function(d,v,t,h){this.aKP.setAttribute("src","promo/ivan_pp.webp")};
ly.y_="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function kK(){et.call(this,"Are you blocking ads?","bnotify");var d=this.body,v="style=\"color:inherit\" target=\"_blank\"",t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
d.style.width="540px";var h="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+v+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+v+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+t+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+v+" href=\"img/exts.png\"><img style=\"width:100%\" src=\""+iP.$j("img/exts.png")+"\" /></a>";
d.innerHTML=h}kK.prototype=new et;kK.prototype.K$=function(d,v){this.body.style.width=Math.min(540,d-24)+"px"};
function gW(){et.call(this,[0,13,0],"account");this.ee=u.q("div","form scrollable");this.body.appendChild(this.ee);
this.body.style.padding="0";this.Q1=[new gW.wm,new gW.gm("::"+iP.$j("privacy.html")),new gW.gm(gW.aBo)];
for(var n=0;n<this.Q1.length;n++)this.Q1[n].parent=this;this.P("showpage",this.auh,this)}gW.prototype=new et;
gW.prototype.Hx=function(d,v){var t=navigator.onLine;if(!t)alert("Go online first");return t};gW.prototype.K$=function(d,v){u.i(this.ee,"width:"+Math.min(d-40,740)+"px;  height:"+(v-38)+"px;  padding:1.5em;");
this.Q1[0].K$(d,v)};gW.prototype.M1=function(d,v){return new cK(Math.max(0,Math.min(150,(d-740)/2)),Math.max(0,Math.min(100,(v-700)/2)))};
gW.prototype.auh=function(d){u.Pl(this.ee);this.ee.scrollTop=0;this.ee.appendChild(this.Q1[d.data.ja]._)};
gW.prototype.H=function(){et.prototype.H.call(this);for(var n=0;n<this.Q1.length;n++)this.Q1[n].H()};
gW.prototype.dn=function(d,v,t){if(!navigator.onLine)return;u.Pl(this.ee);var h=this.Q1[0];this.ee.appendChild(h._);
h.dn();this.H()};gW.prototype.sq=function(d,v){this.dn(null,null,null)};gW.wm=function(){hm.call(this);
this._=u.q("div");var d=this._,Z,Y,z="font-size:1.25em;",p="text-align:center;",l="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",L="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",j="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",i=12;
this.eK=u.q("div");d.appendChild(this.eK);this.Jy=new lt([0,11],!1,null,!0);u.i(this.Jy._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Jy.P("click",this.vC,this);d.appendChild(this.Jy._);this.acU=new lt([0,13,1],!1,null,!0);this.acU.P("click",this.a1H,this);
d.appendChild(this.acU._);this.atT=new lt("Business Terms",!1,null,!0);this.atT.P("click",this.aoz,this);
d.appendChild(this.atT._);var v=u.q("div");v.style.margin="20px 0";d.appendChild(v);var t=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],h=this.$o=[],X=this.akX=[],g=this.Yx=u.q("div");
d.appendChild(g);for(var n=0;n<t.length;n++){var x=u.q("span");x.textContent=t[n];v.appendChild(x);h.push(x);
u.i(x,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
x.addEventListener("click",this.ne.bind(this));X.push(u.q("div"))}this.ne(0);var a=this.alC="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
d=X[0];var Y=u.q("table"),U="style=\" "+p+z+" padding-bottom:20px;\"";Y.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+j+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+L+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+L+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+j+">\t\t\t\t\t<div "+U+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+L+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+L+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+L+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+L+">\u2713</span> 3,000 AI credits / month</li> \t\t\t\t\t\t\t<li><span "+L+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
d.appendChild(Y);var x=new lt("Go Premium");u.i(x._,a+"padding:10px 0;");x.P("click",function(b){this.ne(1)},this);
Y.children[0].children[1].children[1].appendChild(x._);this.hQ=u.q("div");d.appendChild(this.hQ);d=X[1];
var O=this.aId=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.cT=[];for(var n=0;n<O.length;n++)this.cT.push(new lt("Buy: $"+O[n][0],!1,null,!0));for(var n=0;
n<this.cT.length;n++){this.cT[n].P("click",this.aM_,this)}this.Rt=new lt("...",!0);u.i(this.Rt._,a);
d.appendChild(this.Rt._);Y=this.a7f(4,["Single user",this.cT[0],this.cT[1],this.cT[2],"Team of 5",this.cT[3],this.cT[4],this.cT[5],"Team of 20",this.cT[6],this.cT[7],this.cT[8],"Team of 50",this.cT[9],this.cT[10],this.cT[11]]);
d.appendChild(Y);var F=u.q("div");d.appendChild(F);F.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.amg=new l8("I accept",!0,"");d.appendChild(this.amg._);this.axp=new lt([0,13,1],!1,null,!0);this.axp.P("click",this.a1H,this);
d.appendChild(this.axp._);this.a3F=new lt("Promo Code",!1,null,!0);u.i(this.a3F._,a+" float:right; width:inherit;");
this.a3F.P("click",this.aM_,this);d.appendChild(this.a3F._);d=X[2];this.iD=new b9;this.iD.parent=this;
this.iD.P(_.E.w,this.JW,this);d.appendChild(this.iD._);this.iD._.textContent="Log in to create or join teams.";
d=X[3];this.qW=new lt("...",!0);u.i(this.qW._,a);d.appendChild(this.qW._);Y=this.a7f(3,["1000 views/mo",this.cT[i++],this.cT[i++],this.cT[i++],"5000 views/mo",this.cT[i++],this.cT[i++],this.cT[i++],"20000 views/mo",this.cT[i++],this.cT[i++],this.cT[i++]]);
d.appendChild(Y);var $=u.q("p");$.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
d.appendChild($);this.rg=new eR("Domain name (e.g. domain.com)",null,14);d.appendChild(this.rg._);var H=new lt("Save Domain Settings",!1,null,!0);
H.sW();d.appendChild(H._);H.P("click",this.aNj,this)};gW.wm.prototype=new hm;gW.wm.prototype.ne=function(d){var v=typeof d=="number"?d:this.$o.indexOf(d.target);
for(var n=0;n<this.$o.length;n++)this.$o[n].style.opacity=.6;this.$o[v].style.opacity=1;u.Pl(this.Yx);
this.Yx.appendChild(this.akX[v])};gW.wm.prototype.K$=function(d,v){var t=d<600?"d":" days",h=["30 days","90 days","365 days"];
if(d<600)h=["30d","90d","365d"];var X=this.aId;for(var n=0;n<X.length;n++){this.cT[n].Ge("<span>"+h[n%3]+": <sup>$</sup><big><b>"+X[n][0]+"</b></big>"+"</span>");
u.i(this.cT[n]._,this.alC)}};gW.wm.prototype.a1H=function(d){var v=new eG("showpage",!0);v.data={ja:1};
this.J(v)};gW.wm.prototype.aoz=function(d){var v=new eG("showpage",!0);v.data={ja:2};this.J(v)};gW.wm.prototype.H=function(){this.Jy.Ge(iP.uD()?f7.get([0,11]):f7.get([0,10]));
this.axp.H();this.acU.H();this.atT.H()};gW.wm.prototype.a8V=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.t7,link:"https://www.photopea.com/api/accounts#"+(d.target==this.ae0?"teams":"distributors")};
this.J(v)};gW.wm.prototype.azJ=function(d){var v=d.currentTarget==this.a2N;this.a2N.a(v);this.a8S.a(!v)};
gW.wm.prototype.a5N=function(d){var v=this.a2N.j(),t=this.aCt.j().trim().toLowerCase(),h=this.acu.value.trim().toLowerCase();
if(t.length>60){alert("Too long email address");return}if(h.length>600){alert("Too many team members");
return}h=h.split(",").join(" ").trim();h=h.replace(/\s+/g," ");if(h=="")h=[];else h=h.split(" ");var X=iP.Yp();
if(X==null)X={};if(X.acc==null)X.acc={};X.acc.team={jin:v,ldr:t,mmb:h};iP.E6(X,this.JW.bind(this));alert("Saved!");
this.dn()};gW.wm.prototype.aNj=function(d){var v=this.rg.j().trim();if(!iP.uD()){alert("You have to log in first.");
return}if(iP.rI()==0){alert("Order a distributor account first.");return}var t=iP.Yp();if(t==null)t={};
if(t.acc==null)t.acc={};if(v=="")delete t.acc.dname;else t.acc.dname=v;iP.E6(t,this.JW.bind(this));alert("Saved!");
this.dn()};gW.wm.prototype.aeI=function(d){var v=iP.qP(),n=this.e$,t=iP.Yp();if(t==null)t={};if(t.acc==null)t.acc={};
t.acc.bto=d;iP.E6(t,function(){});var h=gW.aw5(d.split("\n"),v.pmnts[n]);dY.save(h,"photopea_invoice.pdf")};
gW.wm.prototype.abY=function(d){var v=iP.qP(),t=iP.Yp(),h=t&&t.acc?t.acc.bto:null;if(h==null)h=v.name+"\n"+v.email;
var n=-1,X=d.target._.parentNode;while((X=X.previousSibling)!=null)n++;this.e$=n;var g=new eG(_.E.c,!0);
g.data={R:_.Y.S8,cG:"billto",Mo:h,No:this.aeI.bind(this)};this.J(g)};gW.wm.prototype.dn=function(){this.eK.innerHTML="";
u.Pl(this.hQ);this.akX[4].innerHTML="AI credits are available only to Premium users.";if(iP.uD()){var d=iP.qP(),v=d.pmnts;
if(d==null)return;this.eK.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+d.name+"</span> "+d.email+" <br/>";
if(v){var t="<h2>Payments</h2>";for(var n=0;n<v.length;n++){var h=v[n],X=new Date(h[0]*1e3);t+="<div style=\"font-size:1.2em\">"+X.getDate()+"th of "+X.toDateString().split(" ")[1]+" "+X.getFullYear()+" - "+gW.aDu(h)+"</div>"}this.hQ.innerHTML=t;
for(var n=0;n<v.length;n++){var g=new lt("Get Invoice",!1,null,!0);u.i(g._,"float:right");g.P("click",this.abY,this);
this.hQ.children[n+1].appendChild(g._)}}}else{}var x=iP.uD()&&iP.yU();this.Rt._.style.display=x?"block":"none";
if(x){var Z,Y,a=x,t="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(a[0]==0){Z=iP.r0(a[1])-Date.now()*(1/1e3);
Y=a[1][2]==1?"Single User":"Team Of "+a[1][2]}else{Z=a[1][1]-Date.now()*(1/1e3);Y="Member of \""+a[1][0]+"\""}this.Rt.Ge("Premium active for "+Math.round(Z/(60*60*24))+" more days! ("+Y+")");
var z=this.akX[4];u.Pl(z);for(var p=iT.Ui();p>=648;p--){var U=1970+Math.floor(p/12),l=p%12,X=new Date(U,l,2);
t+="<tr><td>"+U+" "+X.toDateString().split(" ")[1]+"</td><td>"+iT.aBa(p)+"</td></tr>"}var L=iT.aqJ(iT.Ui()+1)-Date.now(),j=Math.floor(L/(24*60*6e4));
L-=j*24*60*6e4;var O=Math.floor(L/(60*6e4));L-=O*60*6e4;var l=Math.floor(L/6e4);L-=l*6e4;t="New period starts in "+j+" days, "+O+" hours, "+l+" mins"+t;
z.innerHTML=t+"</table>"}var F=iP.uD()&&iP.rI()*1e3>Date.now();this.qW._.style.display=F?"block":"none";
if(F){var Z=iP.rI()-Date.now()/1e3;this.qW.Ge("Distributor active for "+Math.round(Z/(60*60*24))+" more days!")}var i=iP.Yp();
this.iD.dn();if(i&&i.acc&&i.acc.dname)this.rg.a(i.acc.dname);else this.rg.a("")};gW.wm.prototype.a7f=function(d,v){var t=u.q("table");
if(!0){var h="<table><tr>";for(var n=0;n<d;n++)h+="<th>"+v[n*4]+"</th>";h+="</tr></table>";t.innerHTML=h;
for(var n=0;n<3;n++){var X=u.q("tr"),g;t.appendChild(X);for(var x=0;x<d;x++){g=u.q("td");g.style.width=Math.round(100/d)+"%";
X.appendChild(g);g.appendChild(v[x*4+1+n]._)}}}return t};gW.wm.prototype.aM_=function(d){var v=this.cT.indexOf(d.currentTarget),h=30,X=1;
if(!iP.uD()){this.vC();return}if(this.amg.j()==!1&&v<12){alert("You must accept Terms of Service");return}var t=iP.uD()&&iP.yU();
if(v!=-1){var g=this.aId[v];h=g[1];X=g[2]}if(t&&X<1e3){alert("You already have premium.");return}console.log(g,h,X);
if(v==-1){var x=prompt("Please enter your key");if(x!=null){iP.aET(x,this.JW.bind(this));this.I_()}return}if(h==30&&X==1){var Z=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!Z)return}iP.order(h,X,this.JW.bind(this));this.I_()};gW.wm.prototype.JW=function(d){this.dn();this.I_()};
gW.wm.prototype.vC=function(d){if(iP.uD()){iP.aow();this.I_();this.dn(null,null,null)}else iP.vC(this.atI.bind(this))};
gW.wm.prototype.atI=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.aM5};this.J(d)};gW.wm.prototype.I_=function(){var d=new eG(_.E.c,!0);
d.data={R:_.Y.avd};this.J(d)};gW.gm=function(d){hm.call(this);this._=u.q("div");var v=this._,t=this.a0p=new lt([0,13,2],!1,null,!0),h;
t.P("click",this.aie,this);v.appendChild(t._);if(d.startsWith("::")){h=u.q("iframe");u.i(h,"width:100%;height:1700px; background-color:white;");
h.setAttribute("src",d.slice(2))}else{h=u.q("div");h.innerHTML=d}v.appendChild(h)};gW.gm.prototype=new hm;
gW.gm.prototype.aie=function(d){var v=new eG("showpage",!0);v.data={ja:0};this.J(v)};gW.gm.prototype.H=function(){this.a0p.H()};
gW.aBo="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
gW.aDu=function(d){var v=d[1]+" days, ";if(d[2]<1e3)return"Photopea Premium ("+v+d[2]+" user"+(d[2]==1?"":"s")+")";
else return"Photopea Distributor ("+v+d[2]+" views/month)"};gW.aw5=function(d,v){d=["Bill To:"].concat(d);
var t=new ToPDF,h=595,X=842,g=40,x=18,Z=12,Y=500,a=100,z=400,j=0;function p(c,S,C,K,T){l.font.Tf=T?"Helvetica-Bold":"Helvetica";
l.ctm=[1,0,0,1,S,C];l.font.Tfs=K?K:Z;t.PutText(l,c,0)}function U(c,S,C,K){for(var n=0;n<c.length;n++){p(c[n],S,C-n*K,null,n==0)}}var l=UDOC.getState();
t.StartPage(0,0,h,X);p("INVOICE",h-g-140,X-g-30,30,!0);U(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],g,X-g-40,x);
var L=new Date(v[0]*1e3);U(["Date: "+L.getDate()+"th of "+L.toDateString().split(" ")[1]+" "+L.getFullYear(),"Transaction ID: "+v[4]],h-g-140,X-g-40-x*2,x);
var O=d.join("");for(var n=0;n<O.length;n++)j=Math.max(j,O.charCodeAt(n));if(j>256){var F=4,i=u.q("canvas"),$=i.getContext("2d"),H=0;
$.font=Z*F+"px sans-serif";for(var n=0;n<d.length;n++)H=Math.max(H,$.measureText(d[n]).width);var b=Math.round(H)+20,r=d.length*F*x+20;
i.width=b;i.height=r;$.font=Z*F+"px sans-serif";for(var n=0;n<d.length;n++){$.font=(n==0?"bold ":"")+Z*F+"px sans-serif";
$.fillText(d[n],10,(n+1)*F*x)}document.body.appendChild(i);var W=new Uint8Array($.getImageData(0,0,b,r).data.buffer);
l.ctm=[b/F,0,0,r/F,g-10/F,X-g-40-100-r/F];t.PutImage(l,W,b,r);l.ctm=[1,0,0,1,0,0]}else U(d,g,X-g-40-100,x);
l.colr=[.8,.8,.8];l.pth={cmds:["M","L","L","L","Z"],crds:[g,Y,h-g,Y,h-g,Y-x,g,Y-x]};t.Fill(l);l.colr=[0,0,0];
var V=[g,Y,h-g,Y,g,Y-x,h-g,Y-x,g,Y-a,h-g,Y-a,g,Y,g,Y-a,h-g,Y,h-g,Y-a,z,Y,z,Y-a],y=[];for(var n=0;n<V.length;
n+=4)y.push("M","L");l.pth={cmds:y,crds:V};t.Stroke(l);p("Order details",g+4,Y-14);p(gW.aDu(v),g+4,Y-x-14);
p("TOTAL:",g+4,Y-a-14,null,!0);p("Price",h-g-50,Y-14);p(v[3]+" USD",h-g-60,Y-x-14);p(v[3]+" USD",h-g-60,Y-a-14,null,!0);
p("www.Photopea.com",g,g);p("support@photopea.com",h-g-130,g);t.ShowPage();t.Done();return t.buffer};
function d_(){et.call(this,[11,14],"addguides");this.h8;this.n={rp:{iV:0}};this.aL$=null;var d=u.q("div","form");
this.body.appendChild(d);this.AT=[];this.VS=new a0(null,["Hi"]);d.appendChild(this.VS._);u.WJ(d);this.VS.P(_.E.w,this.lq,this);
this.Q2=new eR([22,4,0],null,16);this.Q2.P(_.E.w,this.fY,this);this.hq=new eR([22,4,1],null,16);this.hq.P(_.E.w,this.fY,this);
this.w7=new e8(null,f.rd.a5);this.w7.P(_.E.w,this.fY,this);d.appendChild(this.Q2._);d.appendChild(this.w7._);
u.WJ(d);d.appendChild(this.hq._);this.x5=u.a_(this,d);this.P("closebtn",this.aY,this)}d_.prototype=new et;
d_.prototype.Hx=function(d,v){return d!=null};d_.prototype.Ht=function(){return!0};d_.prototype.H=function(){et.prototype.H.call(this);
this.Q2.H();this.hq.H();this.w7.H();this.x5.H()};d_.prototype.sq=function(d,v){var t=d.rp.iV;this.n.rp.iV=t;
this.w7.a(t)};d_.prototype.dn=function(d,v){this.h8=d;this.aL$=JSON.stringify(d.Dy());this.AT=[-1];var t=["Global"],h=d.root.children,X=d.Hq();
for(var n=0;n<h.length;n++){var g=h[n].B;if(g.add.artb){t.push(g.getName());this.AT.push(h[n].index)}}this.VS.Cw(t);
this.VS.a(this.AT.indexOf(X));this.lq()};d_.prototype.lq=function(){var d=this.h8,v=d.Dy(),t=this.AT[this.VS.j()],h=[0,0];
if(t!=-1){var X=d.U[t].x1();h=[X.x,X.y]}var g=function(x,Z,d,Y,a){var z=x[0],p=[];for(var n=0;n<z.length;
n++)if(x[1][n]==t&&z[n][0]==Z)p.push(f.rd.Zm(z[n][1]-h[Z],d.u3,Y,a));p.sort(function(U,l){return U-l});
return p.join(", ")};this.Q2.a(g(v,1,d,this.n,d.$));this.hq.a(g(v,0,d,this.n,d.r))};d_.prototype.fY=function(d){if(d&&d.currentTarget==this.w7)this.n.rp.iV=this.w7.j();
else{var v=this.aal(),t=this.h8;t.gY(v);t.QW=!0}this.lq()};d_.prototype.aal=function(){var d=this.h8,v=d.Dy(),t=this.AT[this.VS.j()],h=[0,0];
if(t!=-1){var X=d.U[t].x1();h=[X.x,X.y]}var g=[];for(var x=0;x<2;x++){var Z=x==0?this.hq:this.Q2,Y=x==0?d.r:d.$,a=Z.j().replace(/,/g," ").replace(/  +/g," ").trim(),z=a==""?[]:a.split(" ");
for(var n=0;n<z.length;n++)g.push([x,f.rd.afI(z[n],d.u3,this.n,Y)+h[x]])}for(var n=0;n<v[0].length;n++)if(v[1][n]==t){v[0].splice(n,1);
v[1].splice(n,1);n--}for(var n=0;n<g.length;n++){v[0].push(g[n]);v[1].push(t)}return v};d_.prototype.aY=function(d){var v=this.h8;
v.gY(JSON.parse(this.aL$));v.QW=!0;this.h8=null};d_.prototype.rS=function(d){this.fY(d);var v=new eG(_.E.F,!0);
v.T=A.Xc;v.data={R:"gids",PM:JSON.parse(this.aL$),BH:this.h8.Dy()};this.h8=null;this.close();this.J(v)};
function kH(d){et.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[d],d);
this.n=null;this.h8=null;this.caller=null;var v=u.q("div","form");this.body.appendChild(v);u.i(v,"width:300px");
this.GL=new dK("Source Images",!0,!0);v.appendChild(this.GL._);this.au4=new e8([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.PN=new l8("Order images by name");this.PN.a(!0);var t=this.arV=b3.P0();for(var n=0;n<t.length;n++)if(b3.bV(t[n]).e4){t.splice(n,1);
n--}t.push("SVG","PDF");this.U8=new e8([12,50],t);this.U8.a(1);this.DG=new kw;this.U8.P(_.E.w,this.WK,this);
this.j6=new e8("Action Set",[]);this.j6.P(_.E.w,this.sq,this);this.avq=new e8("Action",[]);this.an8=new l8("Apply to all opened documents");
this.ab2=new l8("Stretch inserted images");this.ab2.a(!0);this.uC=new l8("Resize");this.uC.P(_.E.w,this.aMb,this);
var h=this.aln=u.q("div","label6");this.OM=new eh([12,41],1,5e3,"px",0,null,null,5);this.OM.parent=this;
this.OM.a(1e3);this.dA=new eh([12,42],1,5e3,"px",0,null,null,5);this.dA.parent=this;this.dA.a(1e3);h.appendChild(this.OM._);
u.WJ(h);h.appendChild(this.dA._);if(d=="pdfpres"){v.appendChild(this.au4._);v.appendChild(this.PN._)}else{if(d=="batch"){v.appendChild(this.j6._);
u.WJ(v);v.appendChild(this.avq._);u.$a(v)}if(d=="mockups"){v.appendChild(this.an8._);v.appendChild(this.ab2._);
u.WJ(v)}if(d=="resize"){this.uC.a(!0)}else{v.appendChild(this.uC._);u.WJ(v)}v.appendChild(h);this.aMb();
u.$a(v);v.appendChild(this.U8._);v.appendChild(this.DG._)}var X=["VAR0 PDF",[1,8]];if(d=="cformat")X="Convert Images";
if(d=="batch")X="Process Images";if(d=="mockups")X="Generate";if(d=="resize")X="Resize Images";var g=this.Qa=new lt(X,!0,null,!0);
g.P("click",this.Rh,this);v.appendChild(g._);this.WK();this.bI=-1;this.q1=null}kH.prototype=new et;kH.prototype.aMb=function(d){this.aln.style.display=this.uC.j()?"":"none"};
kH.prototype.WK=function(d){var v=this.arV[this.U8.j()];this.DG.W$(v)};kH.prototype.Rh=function(d){this.q1=null;
if(this.id=="mockups"&&this.caller.n0.length>1&&this.an8.j()){this.q1={};this.bI=0}this.$P()};kH.prototype.$P=async function(){this.Qa.$A();
var d=Date.now(),v=this.GL.j(),t=[],g=595,x=842,L,j,O,F;for(var h in v)t.push(h);if(t.length==0){alert("No images selected");
return}if(this.PN.j())t.sort();var X=this.au4.j(),Z=new ToPDF,Y=UDOC.getState(),a=this.arV[this.U8.j()],z=b3.bV(a),p=this.DG.j(),U={},l=this.h8;
if(this.q1)l=this.caller.n0[this.bI];if(this.id=="mockups"){if(l==null){alert("Open a document with smart objects");
return}var i=l.U[l.l[0]];if(i.add.SoLd==null){i=null;for(var n=0;n<l.U.length;n++)if(l.U[n].add.SoLd)i=l.U[n];
if(i==null){alert("There are no smart objects in a current document.");return}}l.l=[l.U.indexOf(i)];
var $=i.add.SoLd;j=l.u7($.Idnt.v);O=j.Rc;F=j.Kw;L=$.Sz.v}for(var H=0;H<t.length;H++){var h=t[H],b=v[h],r=b[0]==255,V=b3.IF(b.buffer),y=b3.bV(V),c=[{_S:new iW,data:new ArrayBuffer(0)}],S=null;
if(V=="psd"&&!z.e4)c=e4.awM(b.buffer);else if(y.e4){S=new hc("file.psd");y.CE(b.buffer,S);S.nA();if(!z.e4){if(S.Um)ka.Wm(S,this.n.FP,this);
S.uM();S.Yn();c=[{_S:new iW(0,0,S.r,S.$),data:S.jP().buffer}]}}else if(y.fd){c=await b3.a6t(y,b.buffer);
console.log(c)}else c=y.CE(b.buffer);if(this.id=="batch"){var C=new eG(_.E.c,!0),K=this.n,T=K.TK,D=T[this.j6.j()];
for(var n=0;n<c.length;n++){if(y.e4&&z.e4){}else S=b3.Kv(h,[c[n]]);C.data={R:_.Y.cJ,Vr:S};this.J(C);
if(S.U.length==3)S.l=[1];kl.aop(S,T,D.Yx[this.avq.j()].qq,D.qq,this);S.uM();S.Yn();c[n]._S=new iW(0,0,S.r,S.$);
c[n].data=S.jP().buffer;c[n].u3=S.u3;c[n].jk=S.jk;C.data={R:_.Y.bC,Wt:S};this.J(C)}}if(this.id=="mockups"){var N=new Uint8Array(c[0].data),G=c[0]._S,s=L.Wdth.v,Q=L.Hght.v;
if(!this.ab2.j()){var q=G.r,R=G.$,m=q/R,E=s/Q;if(E>m)q=Math.ceil(R*E);else R=Math.ceil(q/E);G.x=q-G.r>>>1;
G.y=R-G.$>>>1;var e=new iW(0,0,q,R),w=f.m(q*R*4);f.wH(N,G,w,e);N=w;G=e}var M=A.hZ.Pr([N,G],new gi(s/G.r,0,0,Q/G.$,0,0));
j.Rc=[M.buffer,M.S];f.vD(j.Rc);j.Kw=M.S;j.afX=!1;l.ao8(j.tj);c=[{data:f.OO(l.jP(),8).buffer,_S:new iW(0,0,l.r,l.$),u3:l.u3,jk:l.jk,VN:l.VN}]}if(this.uC.j()){var P=c[0]._S,I=Math.min(this.OM.j()/P.r,this.dA.j()/P.$);
if(I<1)for(var n=0;n<c.length;n++){var N=new Uint8Array(c[n].data),G=c[n]._S,M=A.hZ.Pr([N,G],new gi(I*.999999,0,0,I*.999999,0,0));
c[n].data=M.buffer.buffer;c[n]._S=M.S}}var P=c[0]._S,k=new Uint8Array(c[0].data),o=P.r,af=P.$;if(this.id=="pdfpres"){var J=[[595,842],[842,595],[595,595],[595,0]][X];
if(X==3)J[1]=Math.round(J[0]*af/o);var g=J[0],x=J[1],at=Math.min(g/o,x/af);Z.StartPage(0,0,g,x);Y.ctm=[o*at,0,0,af*at,(g-o*at)/2,(x-af*at)/2];
Z.PutImage(Y,r?b:k,o,af);Z.ShowPage()}else{var ke=h.split("."),c_;ke.pop();ke.push(a.toLowerCase());
if(z.e4){if(S==null){S=b3.Kv(h,c);S.nA()}c_=z.V$(S,S.r,S.$,p,this.n)}else{var ag=[];for(var n=0;n<c.length;
n++){var dz=c[n],kL=dz.IB,aq=0;if(kL){kL=kL.split(",");if(kL[1])aq=parseInt(kL[1])}ag.push([dz.data,aq,dz.u3,dz.VN,null,dz.jk])}if(z.fd)c_=await z.V$(ag,o,af,p);
else c_=z.V$(ag,o,af,p)}U[ke.join(".")]=new Uint8Array(c_)}}if(this.id=="mockups"){j.Rc=O;j.Kw=F;l.ao8(j.tj)}console.log(Date.now()-d);
if(this.id=="pdfpres"){Z.Done();this.VI(Z.buffer,"file.pdf")}else{var dh="images";if(this.id=="mockups")dh=l.name.slice(0,l.name.length-4);
if(this.q1){for(var h in U)this.q1[dh+"/"+h]=U[h];this.bI++;if(this.bI==this.caller.n0.length){this.VI(UZIP.encode(this.q1),"images.zip");
this.q1=null}else this.$P()}else this.VI(UZIP.encode(U),dh+".zip")}};kH.prototype.VI=function(d,v){this.Qa.Wu();
iP.event("auto_"+this.id);dY.save(d,v)};kH.prototype.dn=function(d,v,t,h){this.h8=d;this.caller=t};kH.prototype.sq=function(d,v){if(v!=null){this.n=d;
var t=d.TK,h=[];for(var n=0;n<t.length;n++)h.push(t[n].qq);this.j6.Cw(h)}else d=this.n;var t=d.TK.length==0?[]:d.TK[this.j6.j()].Yx,h=[];
for(var n=0;n<t.length;n++)h.push(t[n].qq);this.avq.Cw(h)};kH.prototype.H=function(){et.prototype.H.call(this);
this.DG.H();this.OM.Ge("Max. "+f7.get([12,41])+":");this.dA.Ge("Max. "+f7.get([12,42])+":");this.GL.H();
this.au4.H();this.PN.H()};function lF(d){var v=e0.names[d];if(v==null)v=cV.names[d];if(d=="aply")v=[2,12];
if(d=="fade")v=[2,11];if(d=="matc")v=[4,18];if(d=="blendOptions")v=[14,10];et.call(this,v,"afw_"+d);
this.zh=d;this.Ws=null;this.aJN=null;this.a82=!1;this.CG=new ds[d];this.CG.P(_.E.w,this.cV,this);this.CG.parent=this;
this.body.appendChild(this.CG._);this.tn=new l8([24,18,5]);this.tn.a(!0);this.tn.P(_.E.w,this.cV,this);
this.a38=new lt([1,12,2],!0,null,!0);this.a38.P("click",this.VB,this);this.x5=u.a_(this);if(this.ab())this.CG.p9(this.x5._);
else{u.M3(this.CG._,"form");var t=this.sF=u.q("div","form");this.body.appendChild(t);t.appendChild(this.x5._);
t.appendChild(this.a38._);t.appendChild(this.tn._)}this.P("closebtn",this.va,this)}lF.prototype=new et;
lF.prototype.Ht=function(){return!0};lF.prototype.ab=function(){return this.CG!=null&&this.CG.vc()};
lF.prototype.M1=function(){return this.ab()?new cK(0,0):et.prototype.M1()};lF.prototype.YF=function(d){return this.CG.YF(d)};
lF.prototype.PO=function(){return this.CG.PO()};lF.prototype.li=function(d,v,t,h,X){this.CG.li(d,v,t,h,X)};
lF.prototype.qw=function(d,v,t,h,X){this.CG.qw(d,v,t,h,X)};lF.prototype.QZ=function(d,v,t,h,X){this.CG.QZ(d,v,t,h,X)};
lF.prototype.Hx=function(d,v){if(this.zh=="fade")return lF.aO2(d);return!0};lF.prototype.VB=function(d){this.CG.a(e0.yu(this.zh));
this.cV()};lF.prototype.cV=function(d){var v=this.CG,t=v.j(),h=this.a82?v.u6():0;if(h!=0)t.showClipping={t:"long",v:h};
this.CQ({R:"edit",k1:t,$T:!this.tn.j()})};lF.prototype.va=function(d){this.CQ({R:"cancel"})};lF.prototype.rS=function(d){if(!this.tn.j()){this.tn.a(!0);
this.cV()}this.aJN=this.CG.j();if(this.ab())this.cV();this.CQ({R:"confirm"});this.close()};lF.prototype.H=function(){et.prototype.H.call(this);
this.tn.H();if(this.CG)this.CG.H();this.x5.H()};lF.prototype.sq=function(d,v){if(this.CG)this.CG.sq(d,v)};
lF.prototype.M6=function(d,v,t,h){this.a82=h.A(cQ.io);if(this.zh=="levl"||this.zh=="curv")this.cV();
if(this.ab())this.CG.M6(h);else et.prototype.M6.call(this,d,v,t,h)};lF.prototype.dn=function(d,v,t,h){this.Ws=v.Ws;
var X=d.add.lnk2?d.add.lnk2:[],g,x,Z=new iW(0,0,d.r,d.$),Y=d.U[d.l[0]],z=null;g=Y.buffer;x=Y.S;var a=d.p&&this.zh=="LqFy"&&v.Ws==null;
if(a){x=d.p.S.b();g=f.m(x.k()*4);f.wH(Y.buffer,Y.S,g,x)}if(this.ab()){z=d.jP(d.l[0]-1);if(a){var p=f.m(x.k()*4);
f.wH(z,Z,p,x);Z=x.b();z=p}}var U=e0.yu(this.zh);if(v.K8)U=v.K8;var l=[X,d.gM,d,t.n0];if(v.Ws==null){this.CG.a(U,g,x,Z,z,l);
if(cV.names[this.zh]){if(h.A(cQ.io)&&this.aJN)this.CG.a(this.aJN);var L=A.Y$.getData(d),j=f.R4(L[0].Gw);
this.CG.s0(j)}}else{var O=!1,Y=d.U[this.Ws.B];if(Y.l4()){var F=Y.Ip(d);g=F.buffer;x=F.S;var i=Y.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.Ws.index]){var $=i[this.Ws.index].v;this.CG.a(this.zh=="blendOptions"?$.blendOptions.v:$.Fltr.v,g,x,Z,z,l);
this.CG.s0(f.R4(g));O=!0}}if(!O){this.CG.a(U,g,x,Z,z,l);this.CG.s0(f.R4(g))}}if(!this.ab()){this.cV();
var H=this.CG;if(H&&H.mG&&H.mG[0]&&H.mG[0].vn&&Math.min(window.innerWidth,window.innerHeight)>500)H.mG[0].vn()}};
lF.prototype.CQ=function(d){var v=new eG(_.E.F,!0);d.zh=this.zh;d.Ws=this.Ws;if(this.zh=="VaPo"){d.K=this.CG.j();
d.MP=this.CG.anA()}v.data=d;v.T=e0.names[this.zh]||this.Ws?A.bH:A.xU;v.Mw=!0;this.J(v)};lF.prototype.K$=function(d,v){if(!this.CG.vc()){var t="",h="width:312px",X="100%";
if(500<d){t+="width:8em; margin-left:1em;";u.M3(this.body,"flexrow")}else{t+="margin-top:1em";u.Ag(this.body,"flexrow");
X="100px"}this.x5._.style.width=X;this.a38._.style.width=X;u.i(this.sF,t);u.i(this.CG._,h)}else{this.body.style.padding="0";
this.CG.K$(d,v)}};lF.aO2=function(d){if(d==null)return!1;var v=d.oD();if(v==null||!(v.data instanceof Array)||v.data.length!=d.l.length)return!1;
for(var n=0;n<v.data.length;n++){var t=v.data[n];if(t.B<0&&d.gM[-1-t.B])return!0;if(t.B==null||d.U[t.B]==null||d.U[t.B].VL!=t.qj)return!1;
if(d.l.indexOf(t.B)==-1)return!1}return!0};function jH(){et.call(this,[11,0],"camera");this.data=null;
this.agK=new cK(1,1);this.al8=[];var d=u.q("div","form hbar");this.body.appendChild(d);this.aaY=new e8(null,[]);
this.aoP=new e8([21,0],[[21,2],[21,1]]);d.appendChild(this.aoP._);this.BK=new e8(null,[]);this.BK.P(_.E.w,this.aFE,this);
d.appendChild(this.BK._);this.aJq=new lt([11,0],!1,null,!0);this.aJq.P("click",this.ath,this);d.appendChild(this.aJq._);
this.aaP=new i9("");d.appendChild(this.aaP._);this.stream=null;this.w3=u.q("video");this.w3.setAttribute("autoplay","true");
this.body.appendChild(this.w3);this.an7=this.a80.bind(this);this.a8I=this.atg.bind(this);this.a00=this.a4V.bind(this);
this.P("closebtn",this.ary,this)}jH.prototype=new et;jH.prototype.H=function(){et.prototype.H.call(this);
this.aoP.H();this.aJq.H();this.K$(this.F0,this.uV)};jH.prototype.jP=function(){var d=this.w3.videoWidth,v=this.w3.videoHeight,t=u.q("canvas","");
t.width=d;t.height=v;var h=t.getContext("2d");h.drawImage(this.w3,0,0,d,v);var X=h.getImageData(0,0,d,v);
return{_S:new iW(0,0,d,v),data:X.data.buffer}};jH.prototype.ath=function(d){if(this.aoP.j()==0)this.amm();
else this.a57()};jH.prototype.a57=function(){var d=this.jP(),v={buffer:new Uint8Array(d.data),S:d._S},t=new eG(_.E.F,!0);
t.Mw=!0;t.T=A.EM;t.data={R:jn.mj,H4:v};this.J(t);alert(f7.get([21,4]))};jH.prototype.amm=function(){var d=this.jP(),v=b3.Kv("camera",[d]),t=new eG(_.E.c,!0);
t.data={R:_.Y.cJ,Vr:v};this.J(t);alert(f7.get([21,5]))};jH.prototype.dn=function(d,v,t){navigator.mediaDevices.enumerateDevices().then(this.aL6.bind(this))};
jH.prototype.aL6=function(d){var v=this.al8=[],t=[];for(var n=0;n<d.length;n++)if(d[n].kind=="videoinput"){v.push(d[n]);
t.push("Camera "+v.length)}this.BK.Cw(t);this.BK.a(0);this.aFE()};jH.prototype.aFE=function(d){this.ary();
var v={video:{deviceId:this.al8[this.BK.j()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(v).then(this.an7).catch(this.a8I);
else navigator.webkitGetUserMedia(v,this.an7,this.a8I)};jH.prototype.a80=function(d){this.stream=d;this.w3.srcObject=d;
this.w3.addEventListener("loadedmetadata",this.a00,!1)};jH.prototype.a4V=function(d){this.w3.play();
this.K$(this.F0,this.uV)};jH.prototype.M1=function(d,v){return new cK(0,0)};jH.prototype.K$=function(d,v){var t=this.w3.videoWidth,h=this.w3.videoHeight;
this.aaP.a(t+" x "+h+" px");u.i(this.aaP._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.agK.QG(t,h);this.F0=d;this.uV=v;var X=d-28,g=v-28-30,x=this.agK.x/this.agK.y;if(X/g>x)X=g*x;else g=X/x;
u.i(this.w3,"display: block; width: "+Math.round(X)+"px; height:"+Math.round(g)+"px;")};jH.prototype.atg=function(d){console.log("error",d);
alert(f7.get([21,6]));this.close()};jH.prototype.ary=function(d){if(this.stream!=null){var v=this.stream.getTracks();
for(var n=0;n<v.length;n++)v[n].stop();this.stream=null}};function a4(){et.call(this,[7,8],"crange");
this.h8=null;this.YR={f0:73,aX:4.45,X:4};this.EK={f0:73,aX:4.45,X:4};this.body.style.width="20em";this.It=new e8([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.It.P(_.E.w,this.wE,this);this.body.appendChild(this.It._);this.y_=u.q("div","form");this.body.appendChild(this.y_);
var d=this.Sz=2,v=this.Is=[new fb([12,92],0,200),new a0([12,36],[[18,0],"\uFF0B","-"]),new fb([12,92],0,100,"%"),new eh("Min",0,255),new eh("Max",0,255)];
v[0].a(40);v[d].a(40);for(var n=0;n<v.length;n++){v[n].P(_.E.w,this.iq,this);v[n].parent=this}this.$D=u.q("canvas");
this.body.appendChild(this.$D);this.x5=u.a_(this,this.body)}a4.prototype=new et;a4.prototype.Hx=function(d,v){return d!=null};
a4.prototype.PO=function(){return!0};a4.prototype.Ht=function(){return!0};a4.prototype.wE=function(d){var v=this.It.j(),t=this.Is,h=this.y_,X=0,g=t.length,x=this.Sz;
if(v==0)g=x;else{X=x;t[X+1].a([0,100,190][v-1]);t[X+1].$e(v!=1);t[X+2].a([60,150,255][v-1]);t[X+2].$e(v!=3)}u.Pl(h);
for(var n=X;n<g;n++){h.appendChild(t[n]._)}this.iq()};a4.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();this.It.H();for(var n=0;n<this.Is.length;n++)this.Is[n].H()};a4.prototype.li=function(d,v,t,h,X){var g=d.z.tw(X.x,X.y);
this.aoi(g.x,g.y)};a4.prototype.aoi=function(d,v){var t=Math.min,h=Math.max,X=this.h8,g=h(0,t(X.r-1,Math.floor(d))),x=h(0,t(X.$-1,Math.floor(v))),Z=X.jP(),Y=(x*X.r+g)*4,a=255/f.ay(X.depth),z=Z[Y],p=Z[Y+1],U=Z[Y+2],l=f.Nv(z*a,p*a,U*a),L=this.Is[1].j(),j=this.YR,O=this.EK;
if(L==0){this.YR=f.v(l);this.EK=l}else if(L==1){j.f0=t(j.f0,l.f0);j.aX=t(j.aX,l.aX);j.X=t(j.X,l.X);O.f0=h(O.f0,l.f0);
O.aX=h(O.aX,l.aX);O.X=h(O.X,l.X)}else if(L==2){var F=(j.f0+O.f0)/2,i=(j.aX+O.aX)/2,$=(j.X+O.X)/2;if(l.f0<F)j.f0=h(j.f0,l.f0+10);
else O.f0=t(O.f0,l.f0-10);if(l.aX<i)j.aX=h(j.aX,l.aX+1);else O.aX=t(O.aX,l.aX-1);if(l.X<$)j.X=h(j.X,l.X+1);
else O.X=t(O.X,l.X-1)}this.iq()};a4.prototype.rS=function(d){var v=this.It.j(),t=this.Is,h={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(v==0){var X=this.YR,g=this.EK;h.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:X.f0},A:{t:"doub",v:X.aX},B:{t:"doub",v:X.X}}};
h.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:g.f0},A:{t:"doub",v:g.aX},B:{t:"doub",v:g.X}}};h.Fzns={t:"long",v:t[0].j()}}else{v--;
var x=["shadows","midtones","highlights"][v];h.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][v]}};if(0<v)h[x+"LowerLimit"]={t:"long",v:t[3].j()};
if(v<2)h[x+"UpperLimit"]={t:"long",v:t[4].j()};h[x+"Fuzziness"]={t:"long",v:t[2].j()}}this.close();var Z=new eG(_.E.U0,!0);
Z.data={oN:"colorRange",mQ:h};this.J(Z)};a4.prototype.dn=function(d,v){this.h8=d;this.aoi(0,0);this.wE()};
a4.prototype.iq=function(){var d=this.h8,v=this.It.j(),t=this.YR,h=this.EK,X=this.Is,g=X[0].j()/200,x=!1;
if(v>0){t=X[3].j();h=X[4].j();if(t>=h)t=h-1;x=!0;g=X[2].j()/100}var Z=A.Oe.$Q(d,t,h,g,x),Y=Z.S,a=Z.N,z=this.$D,p=z.getContext("2d"),U=Math.floor(230*u.LY()),l=Math.floor(U*(Y.$/Y.r));
z.width=U;z.height=l;u.WI(z,U,l);var L=f.m(a.length*4);L.fill(255);f.I0(f.OO(a,8),L,n);var j=A.hZ.Pr([L,Y],new gi(U/Y.r,0,0,l/Y.$,0,0)),O=j.S,F=new ImageData(new Uint8ClampedArray(j.buffer.buffer),O.r,O.$);
p.putImageData(F,0,0)};function jE(){et.call(this,[12,76,1],"createshape");this.di=null;var d=u.q("div","form");
u.i(d,"width:20em");this.body.appendChild(d);this.Hw=new aE(!0,!0,null,!0,!0);this.Hw.a(new cK(100,100));
d.appendChild(this.Hw._);this.atx=new l8([19,5,3]);d.appendChild(this.atx._);this.x5=u.a_(this,d)}jE.prototype=new et;
jE.prototype.rS=function(d){var v=this.Hw.j();this.di.avr(this.di.afL,v.x,v.y,this.atx.j());this.close()};
jE.prototype.H=function(){if(this.di)this.ML=f7.get([5,3])+": "+f7.get(this.di.a7m);et.prototype.H.call(this);
this.x5.H();this.Hw.H();this.atx.H()};jE.prototype.dn=function(d,v){this.di=v;this.H();this.Hw.a(this.Hw.j(),d.u3)};
function jT(){et.call(this,[11,1],"colorpicker");this.QE=null;this.uU=null;this.KX=null;this.AP=!1;this.Ti=!1;
this.an2=[.9642,1,.8249];var d=u.q("div","flexrow"),x,Z;this.body.appendChild(d);this.Hi=new gb(256,!0);
this.Hi.P(_.E.w,this.Aj,this);d.appendChild(this.Hi._);var v=u.q("div","form");u.i(v,"width:14.5em; margin-left:1em;");
d.appendChild(v);var t=u.q("div","flexrow");v.appendChild(t);var h=u.q("div");t.appendChild(h);h.style="width:95px; margin-right:14px";
this.aou=u.q("div","full");h.appendChild(this.aou);this.arM=u.q("div","full");h.appendChild(this.arM);
var h=u.q("col");t.appendChild(h);h.style.width="80px";this.x5=u.a_(this,h);this.agL=new lt("Add Swatch",!0,null,!0);
h.appendChild(this.agL._);this.agL.P("click",this.a1S,this);var t=u.q("div","flexrow");v.appendChild(t);
var X=u.q("div"),g=u.q("div");t.appendChild(X);t.appendChild(g);X.style=g.style="margin-left:14px; max-width:80px;";
x=["H","S","B"];Z=X;this.K3=[];for(var n=0;n<3;n++){var Y=0,a=360,z="\xB0";if(n!=0){a=100;z="%"}var p=new eh(x[n],Y,a,z,0,!1,!0);
this.K3.push(p);p.P(_.E.w,this.aIa,this);Z.appendChild(p._);if(n==2)p._.style.marginBottom="8px"}x=["R","G","B"];
Z=X;this.zY=[];for(var n=0;n<3;n++){var p=new eh(x[n],0,255,null,0,!1,!0);this.zY.push(p);p.P(_.E.w,this.aH$,this);
Z.appendChild(p._)}x=["L","a","b"];Z=g;this.qY=[];for(var n=0;n<3;n++){var Y=[0,-128,-128][n],a=[100,127,127][n],p=new eh(x[n],Y,a,null,0,!1,!0);
p.a(0);this.qY.push(p);p.P(_.E.w,this.att,this);Z.appendChild(p._);if(n==2)p._.style.marginBottom="8px"}x=["C","M","Y","K"];
Z=g;this.Vg=[];for(var n=0;n<4;n++){var p=new eh(x[n],0,100,"%",0,!1,!0);p.a(0);this.Vg.push(p);p.P(_.E.w,this.ad7,this);
Z.appendChild(p._);if(n==3)p._.style.marginBottom="8px"}this.Q2=new eR("#",null,4.5);this.Q2.P(_.E.w,this.MC,this);
X.appendChild(this.Q2._);this.Q2._.style.marginRight="0";this.Ph=u.q("input","fitem");this.Ph.setAttribute("type","color");
u.i(this.Ph,"width:59px;  margin-left:19px;");this.Ph.addEventListener("change",this.MC.bind(this),!1);
this.Hu=new gg(9);this.Hu.P(_.E.w,this.MC,this);v.appendChild(this.Hu._);this.P("closebtn",this.va,this);
this.t3=!1}jT.prototype=new et;jT.prototype.PO=function(){return!0};jT.prototype.a1S=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.Qu,cG:f1.q2.ayq};this.J(v);var t=this.uU;dg.sU.al7({C:t.C*255,L:t.L*255,X:t.X*255})};jT.prototype.M1=function(d,v){if(Math.min(d,v)>500)return null;
return new cK(Math.max(0,Math.min(150,(d-484)/2)),Math.max(0,Math.min(150,(v-316)/2)))};jT.prototype.K$=function(d,v){this.Hi.K$(Math.min(256,d-226),v)};
jT.prototype.H=function(d,v){et.prototype.H.call(this);for(var n=0;n<3;n++){this.zY[n].H();this.K3[n].H();
this.qY[n].H()}for(var n=0;n<4;n++)this.Vg[n].H();this.x5.H()};jT.prototype.Aj=function(d){this.uU=this.Hi.j();
this.update()};jT.prototype.li=function(d,v,t,h,X){this.t3=!0;this.ab3(d,X)};jT.prototype.qw=function(d,v,t,h,X){if(!this.t3)return;
this.ab3(d,X)};jT.prototype.QZ=function(d,v,t,h,X){this.t3=!1};jT.prototype.ab3=function(d,v){this.uU=f.le(A.Ds.Ah(d,v,1),1);
this.update()};jT.prototype.aH$=function(d){var v=this.zY,t=this.Q8(parseInt(v[0].j())),h=this.Q8(parseInt(v[1].j())),X=this.Q8(parseInt(v[2].j()));
this.uU={C:t/255,L:h/255,X:X/255};this.update()};jT.prototype.aIa=function(d){var v=this.K3,t=this.dP(parseInt(v[0].j())/360),h=this.dP(parseInt(v[1].j())/100),X=this.dP(parseInt(v[2].j())/100);
this.uU=f.JY(t,h,X);this.update()};jT.prototype.ad7=function(d){var v=this.Vg,t=[];for(var n=0;n<4;n++){var h=this.a5s(parseInt(v[n].j()));
v[n].a(h);t.push(h/100)}var X=f.uP(t);this.uU={C:X[0],L:X[1],X:X[2]};this.update(!0)};jT.prototype.att=function(d){var v=this.qY,t=parseInt(v[0].j()),h=parseInt(v[1].j()),X=parseInt(v[2].j()),g=f.C3(t,h,X);
this.uU={C:g.C/255,L:g.L/255,X:g.X/255};this.update()};jT.prototype.MC=function(d){var v;if(d.currentTarget==this.Hu)v=this.Hu.j();
else{v=d.currentTarget==this.Q2?this.Q2.j():this.Ph.value;if(v.charAt(0)=="#")v=v.slice(1);if(v.length==3)v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2];
v=f.aAg(v)}this.uU=f.le(v,1);this.update()};jT.prototype.rS=function(d){this.close();this.agx();var v=f.Lw(this.uU,1);
this.Hu.a(v);this.KX(v);this.Ti=!1;this.uU=null};jT.prototype.va=function(d){this.agx();if(this.AP)this.KX(f.Lw(this.QE,1));
this.Ti=!1;this.uU=null};jT.prototype.agx=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.a26};this.J(v)};
jT.prototype.sq=function(d,v){var t=dg.qM(d,v);if(t!=null)this.Hu.a(t);if(v!=lx.bX)return;this.Hu.a(t);
if(this.uU!=null){this.uU=f.le(t,1);this.update()}};jT.prototype.dn=function(d,v){var t=f.le(v.EJ,1);
if(this.uU==null){var h=new eG(_.E.c,!0);h.data={R:_.Y.TG,Cn:"crosshair",push:!0};this.J(h);this.t3=!1;
this.KX=v.Zp;this.AP=!1;this.Ti=v.xx;this.QE=f.v(t);u.i(this.arM,"height:2.3em;background-color:#"+f.Uj(v.EJ)+";")}this.uU=t;
this.update()};jT.prototype.update=function(d){var v=this.uU,t=f.Lw(v,1);this.Q2.a(f.Uj(t));this.Ph.value="#"+f.Uj(t);
u.i(this.aou,"height:2.3em;background-color:#"+f.Uj(t)+";");var h=this.zY;h[0].a(Math.round(v.C*255));
h[1].a(Math.round(v.L*255));h[2].a(Math.round(v.X*255));var X=f.qZ(v.C,v.L,v.X);h=this.K3;h[0].a(Math.round(X.uV*360));
h[1].a(Math.round(X.Wx*100));h[2].a(Math.round(X.k1*100));var g=f.Nv(v.C*255,v.L*255,v.X*255,this.an2);
h=this.qY;h[0].a(Math.round(g.f0));h[1].a(Math.round(g.aX));h[2].a(Math.round(g.X));if(d==null){var x=f.aB([v.C,v.L,v.X]);
h=this.Vg;h[0].a(Math.round(x[0]*100));h[1].a(Math.round(x[1]*100));h[2].a(Math.round(x[2]*100));h[3].a(Math.round(x[3]*100))}this.Hi.a(v);
if(this.Ti){this.KX(f.Lw(this.uU,1));this.AP=!0}};jT.prototype.a5s=function(d){return Math.max(0,Math.min(100,d))};
jT.prototype.Q8=function(d){return Math.max(0,Math.min(255,d))};jT.prototype.dP=function(d){return Math.max(0,Math.min(1,d))};
function bz(){et.call(this,[11,2],"contoureditor");this.ao3=null;this.uj=null;this.response=null;this.Oj=u.q("div","cell");
this.body.appendChild(this.Oj);this.L7=u.q("div","cell padded");this.body.appendChild(this.L7);var d=u.q("div","bordered padded vmargin");
this.Oj.appendChild(d);this.CG=new lk(null,null,!0);this.CG.P(_.E.w,this.UE,this);d.appendChild(this.CG._);
this.x5=u.a_(this,this.L7);this.P("closebtn",this.ns,this)}bz.prototype=new et;bz.prototype.rS=function(){this.close()};
bz.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.CG.H()};bz.prototype.UE=function(d){this.uj.Crv.v=this.CG.j();
this.response(this.uj)};bz.prototype.ns=function(d){this.response(this.ao3)};bz.prototype.dn=function(d,v){this.ao3=f.v(v.Yx);
this.uj=v.Yx;this.response=v.response;this.CG.a(this.uj.Crv.v)};function fM(){et.call(this,[11,4],"duplinto");
this.Vr=null;this.caller=null;this.CJ=null;var d=u.q("div","form");u.i(d,"max-width:26em");this.body.appendChild(d);
this.ss=new e8([12,43],["abc","def"]);this.ss.P(_.E.w,this.nh,this);d.appendChild(this.ss._);u.WJ(d);
this.aw=new e8([1,16,0],["abc","def"]);this.aw.P(_.E.w,this.nh,this);d.appendChild(this.aw._);u.WJ(d);
this.JD=new eR([12,48],null,14);d.appendChild(this.JD._);this.x5=u.a_(this,d)}fM.prototype=new et;fM.prototype.Ht=function(){return!0};
fM.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.ss.H();this.JD.H()};fM.prototype.nh=function(d){if(d&&d.target==this.aw)return;
var v=this.caller.n0,t=this.ss.j(),h=v[t],X=this.Vr,g=h!=null&&h.add.artd!=null;for(var n=0;n<X.l.length;
n++)if(X.U[X.l[n]].add.artb)g=!1;this.JD.$e(t==v.length);this.aw.$e(g);if(g){var x=h.root.children,Z=[],Y=this.CJ=[];
for(var n=0;n<x.length;n++){var a=x[n].B;if(a.add.artb)Z.push(a.getName());Y.push(x[n].index)}this.aw.Cw(Z);
this.aw.a(0)}else this.CJ=null};fM.prototype.dn=function(d,v,t){this.Vr=d;this.caller=t;var h=t.n0;this.JD.a(d.l.length==0?"Layer":d.U[d.l[0]].getName());
var X=[];for(var n=0;n<h.length;n++){var g=h[n].name;X.push(g.length<30?g:g.slice(0,27)+"...")}X.push([11,7]);
this.ss.Cw(X);this.ss.a(h.indexOf(d));this.nh(null)};fM.prototype.rS=function(d){var v=this.caller.n0,t=this.ss.j();
if(t==v.length){var h=new hc(this.JD.j()+".psd"),X=this.Vr.r,g=this.Vr.$,x=this.Vr.Hq();if(x!=-1){var Z=this.Vr.U[x].x1();
X=Z.r;g=Z.$}h.r=X;h.$=g;h.buffer=f.m(h.r*h.$*4);var Y=h.vv();Y.qv("Background");h.xd([Y]);var a=new eG(_.E.c,!0);
a.Mw=!0;a.data={R:_.Y.cJ,Vr:h};this.J(a)}var z=this.Vr.w$(null,this.Vr!=v[t]),a=new eG(_.E.F,!0);a.data={R:jn.h$,U:z,tq:this.Vr,qQ:v[t]};
if(this.CJ)a.data.g$=this.CJ[this.aw.j()];a.T=A.EM;a.Mw=!0;this.J(a);this.close()};function ec(){et.call(this,[1,9],"eassets");
this.n=null;this.Vr=null;var d=this.body;u.M3(d,"form");d.style.width="32em";this.It=new a0(null,["Layers","Combinations"]);
this.It.P(_.E.w,this.lq,this);d.appendChild(this.It._);u.$a(d);this.jH=u.q("span");d.appendChild(this.jH);
this.t5=u.q("div");d.appendChild(this.t5);var v=u.q("div"),t=u.q("div","flexrow");this.acP=[v,t];this.b4=[new l8("Only layers / folders, whose name starts with \"-e-\""),new l8("Remove parts outside the canvas"),new l8("Trim transparent parts")];
for(var n=0;n<3;n++){var h=this.b4[n];h.a(!0);h.P(_.E.w,this.lq,this);v.appendChild(h._);u.WJ(v)}this.UO=new eM([12,14,0],["1x","2x","3x","4x"]);
this.UO.a([!0,!1,!1,!1]);v.appendChild(this.UO._);var X=u.q("div");t.appendChild(X);var g=u.q("img");
g.setAttribute("src",iP.$j("img/nft.png"));g.style.width="150px";t.appendChild(g);var x=u.q("span");
x.textContent="File Names:";X.appendChild(x);this.fI=new eM(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
X.appendChild(this.fI._);this.fI.a([!0,!1,!1]);u.$a(d);this.axB=["PNG","JPG","SVG","TIFF","TGA"];this.Jw=new e8([12,50],this.axB);
this.Jw.P(_.E.w,this.WK,this);d.appendChild(this.Jw._);this.DG=new kw;d.appendChild(this.DG._);this.x5=new lt([1,9],!0,null,!0);
this.x5.P("click",this.rS,this);d.appendChild(this.x5._);this.P("closebtn",this.R0,this)}ec.prototype=new et;
ec.prototype.WK=function(d){this.DG.W$(this.axB[this.Jw.j()],!1,!1,!1,this.Vr.yr()!=null)};ec.prototype.R0=function(d){this.Vr=null};
ec.prototype.H=function(){et.prototype.H.call(this);this.Jw.H();this.UO.H();this.x5.H();this.DG.H()};
ec.prototype.dn=function(d,v,t){this.Vr=d;this.lq()};ec.prototype.lq=function(d){var v=this.It.j(),t;
u.Pl(this.t5);this.t5.appendChild(this.acP[v]);if(v==0){var h=this.a5v();t=h.length+" exportable layers"}else{var h=this.aI9();
t=h[1]+" combinations ("+h[0].join(" \xD7 ")+")"}this.jH.textContent="- - - "+t;this.WK(null)};ec.prototype.a5v=function(){var d=this.b4[0].j(),v=[],t=this.Vr;
for(var n=0;n<t.U.length;n++){var h=t.U[n],X=h.getName();if(!d&&!h.h5()&&!h.S.HP()||X.startsWith("-e"))v.push(n)}return v};
ec.prototype.aI9=function(){var d=this.Vr,v=d.root.children,t=[],h=1,X=[];for(var n=0;n<v.length;n++){var g=v[n],x=g.B;
if(x.h5()){var Z=g.children.length;t.push(Z);h*=Z;X.push(g.index)}x}return[t,h,X]};ec.prototype.sq=function(d,v){this.n=d};
ec.prototype.rS=function(d){var v=this.Vr,t=this.It.j(),h=[this.axB[this.Jw.j()]],X=[this.DG.j()],g={};
if(t==0){var x=this.UO.j(),Z={},Y=this.a5v();if(Y.length==0){alert("No layers to export.");return}var a=[this.b4[1].j(),this.b4[2].j()];
for(var n=0;n<Y.length;n++){var z=Y[n],p=v.U[z],U=p.getName();U=U.replace(/\//g,"-");if(Z[U]!=null){Z[U]++;
U+=" "+Z[U]}else Z[U]=1;var l=p.ZC();p.fF(!0);for(var L=0;L<x.length;L++){if(!x[L])continue;var j=L+1,O=A.jt.aJ1(v,h,j,this.n,z,X,a);
for(var F=0;F<h.length;F++){var i=h[F],$=U.slice(U.startsWith("-e-")?3:0)+(j==1?"":"@"+j+"x")+"."+i.toLowerCase();
if(O[F])g[$]=new Uint8Array(O[F])}}p.fF(l)}}else{var l=[];for(var n=0;n<v.U.length;n++)l.push(v.U[n].ZC());
var H=this.aI9(),b=H[0],Y=H[2],r=[];function W(y,z,c,S){if(z==y.length){S.push(c.slice(0));return}var C=y[z];
for(var n=0;n<C;n++){c.push(n);W(y,z+1,c,S);c.pop(n)}}W(b,0,[],r);var V=this.fI.j().indexOf(!0);this.Ut=[r,g,Y,h,X,l,V,this.awF.bind(this),0,0];
this.awF();return}this.VI(g,v.name)};ec.prototype.awF=function(){var d=this.Ut,v=d[0],t=d[1],h=this.Vr,X=d[2],g=d[3],x=d[4],Z=d[5],Y=d[6],a=d[7],z=0;
while(v.length!=0&&z<1e3){var p=Date.now(),U=v.shift(),l=[];for(var n=0;n<U.length;n++){var L=h.root.Ty(X[n]);
for(var j=0;j<L.children.length;j++)L.children[j].B.fF(!1);var O=L.children[U[n]].B;l.push(Y==2?O.getName():L.B.getName()+U[n]);
O.fF(!0)}h.uM();h.Yn();var F=(Y==0?U:l).join("-")+"."+g[0].toLowerCase();t[F]=new Uint8Array(b3.vg(h,g[0],h.r,h.$,x[0],this.n));
d[8]++;d[9]+=t[F].length;z+=Date.now()-p}if(v.length!=0){alert(d[8]+" done, "+hi.Hb(d[9])+".",800);setTimeout(a,35);
return}for(var n=0;n<h.U.length;n++)h.U[n].fF(Z[n]);h.uM();this.VI(t,h.name)};ec.prototype.VI=function(d,v){var t=UZIP.encode(d),h=new eG(_.E.c,!0);
h.data={R:_.Y.z9,data:t,name:v.split(".")[0]+".zip"};this.J(h)};function kO(){et.call(this,"Export Color Lookup Tables","exlut");
this.n=null;this.Vr=null;var d=u.q("div","form");u.i(d,"width:20em");this.body.appendChild(d);this.b4=[new eh("Grid Points",1,256),new a0([12,50],[".CUBE"])];
var v=[16,0];for(var n=0;n<this.b4.length;n++){var t=this.b4[n];t.a(v[n]);t.parent=this;t.P(_.E.w,this.lq,this);
d.appendChild(t._);u.WJ(d)}this.x5=u.a_(this,d);this.P("closebtn",this.R0,this)}kO.prototype=new et;
kO.prototype.Hx=function(d,v){if(Math.min(d.r,d.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(d.U.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};kO.prototype.R0=function(d){this.Vr=null};kO.prototype.sq=function(d,v){this.n=d};
kO.prototype.dn=function(d,v,t){this.Vr=d};kO.prototype.rS=function(){var d=this.Vr,v=this.b4[0].j(),t=[],h=new iW(0,0,d.r,d.$),X=f.m(v*v*4),g=X.slice(0),x=new iW(d.r-v>>>1,d.$-v>>>1,v,v),Z=d.U[0],Y=Z.buffer,a=Z.S;
Z.S=x;Z.buffer=X;for(var z=0;z<v;z++){this.aBc(v,z,X);Z.uM(x);d.uM(x);var p=d.jP();f.wH(p,h,g,x);for(var U=0;
U<v;U++)for(var l=0;l<v;l++){var L=U*v+l<<2;t.push(g[L]/255,g[L+1]/255,g[L+2]/255)}}var j=ce.a3V(t,v,d.name);
dY.save(j,d.name.split(".")[0]+".CUBE");Z.buffer=Y;Z.S=a;Z.uM();d.uM()};kO.prototype.aBc=function(d,v,t){var h=255/(d-1),X=Math.round(v*h);
for(var g=0;g<d;g++)for(var x=0;x<d;x++){var Z=g*d+x<<2;t[Z]=Math.round(x*h);t[Z+1]=Math.round(g*h);
t[Z+2]=X;t[Z+3]=255}};kO.prototype.H=function(){et.prototype.H.call(this);for(var n=0;n<this.b4.length;
n++)this.b4[n].H();this.x5.H()};function iN(){et.call(this,[1,14],"finfo");this.aKM=null;this.Vt=null;
this.aI4=null;this.ee=u.q("div","form scrollable label12");u.i(this.ee,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ee);var d=u.q("div","form");this.body.appendChild(d);this.iJ=new e8(null,["Hello"]);
d.appendChild(this.iJ._);this.aGI=new lt("Add Parameter",!1,null,!0);d.appendChild(this.aGI._);this.aGI.P("click",this.g7,this);
this.At=new lt("=== S A V E ===",!1,null,!0);d.appendChild(this.At._);this.At.P("click",this.VI,this);
this.aLO=""}iN.prototype=new et;iN.prototype.M1=function(d,v){return d<450||v<450?new cK(0,0):new cK(150,100)};
iN.prototype.g7=function(d){if(this.aI4.length==0)return;var v=this.aI4[this.iJ.j()],t=this.Ey();t[v]=gr.bd[v][0];
this.FH(t);this.Vt[v]._.scrollIntoView();this.Vt[v].vn()};iN.prototype.LQ=function(d){var v=this.Ey();
delete v[d.currentTarget.a2M];this.FH(v)};iN.prototype.VI=function(d){var v=this.Ey(),t=this.aKM,h=!0;
for(var X in t)if(JSON.stringify(t[X])!=JSON.stringify(v[X]))h=!1;for(var X in v)if(JSON.stringify(t[X])!=JSON.stringify(v[X]))h=!1;
if(h)return;var g=new eG(_.E.F,!0);g.T=A.EM;g.data={R:jn.iI,pf:v};this.J(g);this.aKM=v;this.FH(v);alert("Metadata saved!")};
iN.aot=function(d){function v(X){var g=X.toLowerCase();return X==g}var t=d.split(":").pop();for(var h=1;
h<t.length-1;h++){if(t[h]==t[h].toUpperCase()&&(v(t[h+1])||v(t[h-1]))){t=t.slice(0,h)+" "+t.slice(h);
h++}}return t};iN.prototype.dn=function(d,v){this.aKM=d.VN;this.FH(d.VN)};iN.prototype.FH=function(d){var v=this.ee,X=0;
u.Pl(v);var t=this.Vt={},h=["tiff","exif","exif:GPS"],g=this.aI4=[],x=[];for(var Z in gr.bd){var Y=iN.aot(Z),a=0,z=15,p=null;
if(d[Z]==null){if(gr.bd[Z].length!=1||Z=="photoshop:Credit"||Z=="photoshop:Source"){g.push(Z);x.push(Y)}continue}for(var n=0;
n<h.length;n++)if(Z.startsWith(h[n]))a=n;if(a!=X){u.$a(v);X=a}if(Z=="tiff:ImageDescription"||Z=="dc:Keywords"){z=18.5;
p=3}var U=new eR(Y,null,z,p);t[Z]=U;var l=d[Z];if(l instanceof Array)l=l[1]==0?"---":l[0]+"/"+l[1];var L=new lt("\u2716",null,f7.get([5,4]));
v.appendChild(L._);L.P("click",this.LQ,this);L.a2M=Z;U.a(l);v.appendChild(U._);u.WJ(v);if(Z=="exif:GPSLongitude"&&d["exif:GPSLatitude"]){this.aLO=iN.aMo(d["exif:GPSLatitude"])+","+iN.aMo(d["exif:GPSLongitude"]);
var j=new lt("Show on map",!1,null,!0);v.appendChild(j._);u.WJ(v);j.P("click",this.a7E,this)}}this.iJ.Cw(x);
this.iJ.a(0)};iN.prototype.Ey=function(){var d=this.Vt,v=gr.bd,t={};for(var h in v){var X=v[h][0],g=typeof X;
if(X==null||d[h]==null)continue;var x=d[h].j(),Z="The value of \""+iN.aot(h)+"\" must ";if(g=="number"){x=parseFloat(x);
if(isNaN(x)){alert(Z+"be a number.");x=X}}else if(X instanceof Array&&X.length==2){if(x.indexOf("/")==-1){alert(Z+"be a fraction.");
x=X.slice(0)}else{x=x.split("/").map(parseFloat);if(isNaN(x[0])||isNaN(x[1])){x=X.slice(0)}}}t[h]=x}return t};
iN.aMo=function(d){var v=d.length,t=d.slice(0,v-1).split(",").map(parseFloat),h=d.slice(v-1),X=t[0]+t[1]/60+t[2]/3600;
if(h!="N"&&h!="E")X=-X;return X};iN.prototype.a7E=function(d){window.open("https://maps.google.com?q="+this.aLO,"Map")};
function lB(){et.call(this,[11,5],"gradienteditor");this.QE=null;this.uU=null;this.n=null;this.KX=null;
this.AP=!1;this.Ti=!1;this.kK=null;this.L$=null;this.z2=-1;this.hX=-1;this.kP=0;this.C_=this.tV.bind(this);
this.zr=this.Kk.bind(this);this.$D=u.q("canvas");this.fy=this.$D.getContext("2d");u.i(this.$D,"display:block");
this.CS=null;u.G4(this.$D);u.We(this.$D,this.ZQ.bind(this));this.Zo=u.q("div","form");this.Fa=u.q("div");
this._K=u.q("div","form");this.pb=u.q("div");this.aR=new e8([12,44],[[15,10,0],[24,6]]);this.aR.P(_.E.w,this.$M,this);
this.body.appendChild(this.aR._);u.$a(this.body);var d=this.Zo;this.xE=new eh([19,3,3],0,100,"%");this.xE.P(_.E.w,this.$M,this);
this.xE.parent=this;d.appendChild(this.xE._);u.WJ(d);this.awN=new i9([12,0]);d.appendChild(this.awN._);
this.sf=u.q("div","bordered padded noalign");d.appendChild(this.sf);this.oF=new eh([12,0],0,100,"%");
this.oF.parent=this;this.oF.P(_.E.w,this.$M,this);this.sf.appendChild(this.oF._);this.o7=new eh([12,40],0,100,"%");
this.o7.parent=this;this.o7.P(_.E.w,this.$M,this);this.sf.appendChild(this.o7._);this.Et=new lt([5,4],!1,null,!0);
this.Et.P("click",this.aF5,this);this.sf.appendChild(this.Et._);d.appendChild(this.Fa);this.aaE=new i9([13,0]);
d.appendChild(this.aaE._);this._q=u.q("div","bordered padded noalign");d.appendChild(this._q);this.cy=new e8([12,44],[[12,45],[12,46],[12,47]]);
this.cy.P(_.E.w,this.$M,this);this._q.appendChild(this.cy._);this.g3=new cX(!0);this.g3.parent=this;
this.g3.P(_.E.w,this.$M,this);this._q.appendChild(this.g3._);this.Ct=new eh([12,40],0,100,"%");this.Ct.parent=this;
this.Ct.P(_.E.w,this.$M,this);this._q.appendChild(this.Ct._);this._a=new lt([5,4],!1,null,!0);this._a.P("click",this.aNh,this);
this._q.appendChild(this._a._);var d=this._K;this.Pt=new eh("Roughness",0,100,"%");this.Pt.P(_.E.w,this.$M,this);
this.Pt.parent=this;d.appendChild(this.Pt._);d.appendChild(this.pb);this.V5=new lt([25,1,2],!1,null,!0);
this.V5.P("click",this.$M,this);d.appendChild(this.V5._);this.x5=u.a_(this);this.P("closebtn",this.va,this)}lB.prototype=new et;
lB.prototype.va=function(d){if(this.AP)this.KX(this.QE);this.KX=null;this.Ti=!1};lB.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();this.xE.H();this.awN.H();this.aaE.H();this.Et.H();this._a.H();this.oF.H();this.o7.H();this.cy.H();
this.Ct.H();this.V5.H()};lB.prototype.sq=function(d,v){this.n=d;if(v==lx.bX)this.Yc()};lB.prototype.dn=function(d,v){this.uU=f.v(v.iF);
this.QE=f.v(v.iF);this.kK=this.L$=null;this.KX=v.Zp;this.AP=!1;this.Ti=v.xx;this.Yc();this.ZB()};lB.prototype.rS=function(d){var v=this.uU;
this.KX(v);this.close();this.KX=null;this.Ti=!1};lB.prototype.YF=function(d){return d==cQ.on||d==cQ.SY};
lB.prototype.M6=function(d,v,t,h){if(h.A(cQ.on)||h.A(cQ.SY)){if(this.L$)this.aF5();if(this.kK)this.aNh()}};
lB.prototype.aF5=function(d){var v=this.uU.Trns.v;if(this.L$==null||v.length==1)return;v.splice(v.indexOf(this.L$),1);
this.L$=null;this.Yc();this.ZB()};lB.prototype.aNh=function(d){var v=this.uU.Clrs.v;if(this.kK==null||v.length==1)return;
v.splice(v.indexOf(this.kK),1);this.kK=null;this.Yc();this.ZB()};lB.prototype.Yc=function(){var d=this.$D,v=this.fy;
if(this.uU==null)return;var t=u.LY();d.width=Math.floor(410*t);d.height=Math.floor(70*t);u.WI(d,d.width,d.height);
d.style.marginTop="8px";this.CS=new iW(0,0,Math.floor(380*t),Math.floor(32*t));this.CS.x=Math.floor((d.width-this.CS.r)/2);
this.CS.y=Math.floor((d.height-this.CS.$)/2);var h=this.CS,X=h.r,g=h.$,x=h.x,Z=h.y,Y=new iW(0,0,X,g),a=v.getImageData(0,0,X,g),z=new Uint8Array(a.data.buffer);
f.L1(z,X,g,8);var p=f.m(X*g*4);f.iF.fo(this.uU,p,Y,[1/X,0,0,1/g],X/2,g/2,!1,0,this.n.Sw,this.n.dL);f.V.Qe("norm",p,h,z,h,h,1);
v.clearRect(0,0,d.width,d.height);v.putImageData(a,x,Z);var U=this.uU;if(U.Clrs){var l=U.Trns.v,L=U.Clrs.v,j=f.iF.ako(U,this.n.Sw,this.n.dL),O=Math.round(6*u.LY()),F=Math.round(14*u.LY()),i=this.L$?this.L$.v:null,$=this.kK?this.kK.v:null;
for(var n=0;n<l.length;n++){var H=l[n].v,b=Math.round(255-255*H.Opct.v.val/100);if((H==i||l[n-1]&&l[n-1].v==i||n==this.hX)&&n!=0){v.fillStyle="#000000";
v.fillRect(x-3+X*(l[n-1].v.Lctn.v+(H.Lctn.v-l[n-1].v.Lctn.v)*H.Mdpn.v/100)/4096,Z-6-2,6,6)}if(H==i){v.fillStyle="#ffffff";
v.fillRect(x-O+X*(H.Lctn.v/4096)-2,Z-2-F-2,2*O+4,F+4)}v.fillStyle="rgb("+b+","+b+","+b+")";v.fillRect(x-O+X*(H.Lctn.v/4096),Z-2-F,2*O,F)}for(var n=0;
n<L.length;n++){var r=L[n].v,W=j[0][n][0];if((r==$||L[n-1]&&L[n-1].v==$||n==this.z2)&&n!=0){v.fillStyle="#000000";
v.fillRect(x-3+X*(L[n-1].v.Lctn.v+(r.Lctn.v-L[n-1].v.Lctn.v)*r.Mdpn.v/100)/4096,Z+g+2,6,6)}if(r==$){v.fillStyle="#ffffff";
v.fillRect(x-O+X*(r.Lctn.v/4096)-2,Z+g+2-2,2*O+4,F+4)}v.fillStyle="rgb("+Math.round(W.C)+", "+Math.round(W.L)+","+Math.round(W.X)+")";
v.fillRect(x-O+X*(r.Lctn.v/4096),Z+g+2,2*O,F)}}if(this.Ti){this.KX(this.uU);this.AP=!0}};lB.prototype.ZB=function(){var d=this.uU,v=d.Clrs?0:1;
this.aR.a(v);if(u.al(this.Zo))this.body.removeChild(this.Zo);if(u.al(this._K))this.body.removeChild(this._K);
(v==0?this.Fa:this.pb).appendChild(this.$D);if(v==0){this.body.appendChild(this.Zo);this.xE.a(Math.round(100*d.Intr.v/4096));
var t=d.Trns.v,h=d.Clrs.v,X=this.L$!=null,g=this.hX!=-1;this.oF.$e(X);this.o7.$e(X||g);this.Et.$e(X);
if(X){u.i(this.sf,"");var x=this.L$.v;this.o7.a(Math.round(100*x.Lctn.v/4096));this.oF.a(x.Opct.v.val)}if(g)this.o7.a(t[this.hX].v.Mdpn.v);
var X=this.kK!=null,g=this.z2!=-1;this.cy.$e(X);this.g3.$e(X);this.Ct.$e(X||g);this._a.$e(X);if(X){u.i(this._q,"");
var Z=this.kK.v;this.Ct.a(Math.round(100*Z.Lctn.v/4096));var Y=Z.Type.v.Clry;this.cy.a(["FrgC","BckC","UsrS"].indexOf(Y));
if(Y=="FrgC")this.g3.Wi(this.n.Sw);if(Y=="BckC")this.g3.Wi(this.n.dL);if(Y=="UsrS")this.g3.a(Z.Clr.v)}if(g)this.Ct.a(h[this.z2].v.Mdpn.v)}else{this.body.appendChild(this._K);
this.Pt.a(Math.round(100*d.Smth.v/4096))}this.body.appendChild(this.x5._)};lB.prototype.$M=function(d){var v=this.uU,t=v.Clrs?0:1;
if(d.target==this.aR){var h=t==0?JSON.parse(kV.CU.aEP).v:e0.yu("grdm").Grad.v;this.uU=h;this.ZB();this.Yc();
return}if(t==0){v.Intr.v=Math.round(4096*this.xE.j()/100);var X=v.Trns.v,g=v.Clrs.v;if(this.L$!=null){var x=this.L$.v;
x.Lctn.v=Math.round(4096*(this.o7.j()/100));x.Opct.v.val=this.oF.j()}if(this.kK!=null){var Z=this.kK.v;
Z.Lctn.v=Math.round(4096*(this.Ct.j()/100));if(d.target==this.g3)this.cy.a(2);var Y=this.cy.j();Z.Type.v.Clry=["FrgC","BckC","UsrS"][Y];
if(Y==2)Z.Clr={t:"Objc",v:this.g3.j()};else if(Z.Clr)delete Z.Clr}if(this.hX!=-1)X[this.hX].v.Mdpn.v=this.o7.j();
if(this.z2!=-1)g[this.z2].v.Mdpn.v=this.Ct.j()}else{v.Smth.v=Math.round(4096*this.Pt.j()/100);if(d.target==this.V5)v.RndS.v=Math.floor(Math.random()*4294967295)}this.Yc()};
lB.prototype.ZQ=function(d){var v=u.cN(d,this.$D),t=this.CS,h=(v.x*u.LY()-t.x)/t.r,X=(v.y*u.LY()-t.y)/t.$,g=this.uU.Trns.v,x=this.uU.Clrs.v,Z=null,Y=null,a=-1,z=-1;
if(X<1)for(var n=0;n<g.length;n++){var p=g[n].v;if(Math.abs(p.Lctn.v/4096-h)<.02)Z=g[n];if(n>0)if(Math.abs((g[n-1].v.Lctn.v+(p.Lctn.v-g[n-1].v.Lctn.v)*p.Mdpn.v/100)/4096-h)<.01)a=n}if(X>0)for(var n=0;
n<x.length;n++){var U=x[n].v;if(Math.abs(U.Lctn.v/4096-h)<.02)Y=x[n];if(n>0)if(Math.abs((x[n-1].v.Lctn.v+(U.Lctn.v-x[n-1].v.Lctn.v)*U.Mdpn.v/100)/4096-h)<.01)z=n}if(Y==null&&Z==null&&a==-1&&z==-1){if(X<0){var p={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
p.v.Lctn.v=Math.round(h*4096);g.push(p);g.sort(this.S9);Z=p}if(X>1){var x=this.uU.Clrs.v,l=f.iF.ako(this.uU,this.n.Sw,this.n.dL),L=f.iF.oR(this.uU,l,h),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:f.iF.Zi({C:L&255,L:L>>8&255,X:L>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(h*4096);x.push(U);x.sort(this.S9);Y=U}}if(Y!=null)z=-1;if(Z!=null)a=-1;if(Y!=null||Z!=null||a>-1||z>-1){this.L$=Z;
this.kK=Y;this.hX=a;this.z2=z;this.ZB();this.Yc();u.Fg(window,this.C_);u.KP(window,this.zr)}};lB.prototype.tV=function(d){var v=u.cN(d,this.$D),t=this.CS,h=(v.x*u.LY()-t.x)/t.r,X=(v.y*u.LY()-t.y)/t.$;
h=Math.max(0,Math.min(1,h));var g=this.uU.Trns.v,x=this.uU.Clrs.v;if(this.L$!=null){var Z=this.L$.v;
Z.Lctn.v=Math.round(4096*h);var Y=g.indexOf(this.L$);if(Y!=-1&&X<-1&&g.length>1)g.splice(Y,1);if(Y==-1&&X>-1)g.push(this.L$);
g.sort(this.S9)}if(this.kK!=null){var a=this.kK.v;a.Lctn.v=Math.round(4096*h);var z=x.indexOf(this.kK);
if(z!=-1&&X>2&&x.length>1)x.splice(z,1);if(z==-1&&X<2)x.push(this.kK);x.sort(this.S9)}if(this.hX>-1){var Z=g[this.hX].v;
Z.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-g[this.hX-1].v.Lctn.v)/(Z.Lctn.v-g[this.hX-1].v.Lctn.v))))}if(this.z2>-1){var a=x[this.z2].v;
a.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-x[this.z2-1].v.Lctn.v)/(a.Lctn.v-x[this.z2-1].v.Lctn.v))))}if(this.L$!=null||this.kK!=null||this.hX>-1||this.z2>-1){this.ZB();
this.Yc()}};lB.prototype.Kk=function(d){u.Ej(window,this.C_);u.mc(window,this.zr);if(Date.now()-this.kP<300){if(this.z2!=-1||this.hX!=-1){var v=(this.z2!=-1?this.uU.Clrs.v[this.z2]:this.uU.Trns.v[this.hX]).v;
v.Mdpn.v=50;this.ZB();this.Yc()}else if(this.kK!=null)this.g3.mI()}this.kP=Date.now()};lB.prototype.S9=function(d,v){return d.v.Lctn.v-v.v.Lctn.v};
function c$(){et.call(this,[11,5],"vgradienteditor");this.KX=null;this.G3=new j4;this.G3.parent=this;
this.body.appendChild(this.G3._);this.x5=u.a_(this,this.body)}c$.prototype=new et;c$.prototype.dn=function(d,v){this.KX=v.Zp;
this.G3.a(v.K)};c$.prototype.H=function(){et.prototype.H.call(this);this.G3.H()};c$.prototype.rS=function(d){this.KX(this.G3.j());
this.close()};function gq(d){et.call(this,d=="isize"?[11,10]:[11,3],d);this.aHh=d;this.gG=null;var v=u.q("div","form");
u.i(v,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(v);var t=d=="csize";this.a9a=new i9("Hi");
v.appendChild(this.a9a._);u.WJ(v);this.Hw=new aE(!0,!0,t,t,!0);if(t)this.Hw.azz(!1);v.appendChild(this.Hw._);
this.nc=new l8([12,25,3]);this.nc.a(!0);this.nc.P(_.E.w,this.asb,this);this.fR=new e8(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.fR.a(1);this.S_=new ho([12,23,2],41);this.S_.a(4);if(d=="isize"){v.appendChild(this.nc._);v.appendChild(this.fR._)}else v.appendChild(this.S_._);
this.x5=u.a_(this,this.body)}gq.prototype=new et;gq.prototype.Hx=function(d,v){return d!=null};gq.prototype.Ht=function(){return!0};
gq.prototype.YF=function(d){return this.aHh=="isize"?!1:[cQ.Qw,cQ.EU,cQ.fP,cQ.eq].indexOf(d)!=-1};gq.prototype.M6=function(d,v,t,h){if(h.A(cQ.u0))this.rS();
this.S_.ajt(h.eI())};gq.prototype.H=function(){et.prototype.H.call(this);this.Hw.H();this.nc.H();this.fR.H();
this.S_.H();this.x5.H()};gq.prototype.rS=function(d){var v=this.Hw.j(),t=v.x,h=v.y,X=new eG(_.E.U0,!0),g=this.Hw.cz.j();
if(this.aHh=="csize"){if(g){var x=this.Hw.sw,Z=this.Hw.ZE;t=Z.x-x.x;h=Z.y-x.y}X.data=A.Fv.amB(t,h,this.S_.j(),g)}else{var Y=this.fR.j();
if(!this.nc.j())Y=null;var a=this.Hw.a3P(),z=this.gG;console.log(a);if(a==1)X.data=A.Fv.Ca(t/z.x,h/z.y,this.Hw.W8(),Y,!0);
else X.data=A.Fv.Ca(t,h,this.Hw.W8(),Y)}this.close();this.J(X)};gq.prototype.dn=function(d,v){this.gG=new cK(d.r,d.$);
this.Hw.a(this.gG,d.u3);this.Hw.vn();this.a9a.a(f7.get(this.ML)+": "+(d.r*d.$/1e6).toFixed(2)+" MPx")};
gq.prototype.asb=function(d){var v=this.nc.j(),t=this.Hw,h=this.fR;if(v)h.Wu();else h.$A();t.asf(v)};
function iZ(){et.call(this,"Import RAW","importraw");var d=u.q("div","flexrow"),v=u.q("div");u.i(v,"margin-bottom: 1em");
this.body.appendChild(d);this.body.appendChild(v);var t=u.q("div","form");u.i(t,"width:18em");d.appendChild(t);
var h=u.q("div","form");u.i(h,"width:15em");d.appendChild(h);this.di=null;this.nK=null;this.FM=null;
this.GX=null;this.sp=[];var X=[];for(var n=0;n<iZ.Ne.length;n++)X.push(iZ.Ne[n]+" Bits");var g=this.Ut=[new aE(!0,null,null,!0),new eh([12,72],1,8),new l8("Last one is Transparency"),new a0([12,34],X),new a0("Byte Order",["12-34","34-12"]),new e8("Guesses",[])];
for(var n=0;n<g.length;n++){var x=g[n];x.parent=this;x.P(_.E.w,n==5?this.arb:this.nh,this);var Z=n==0?t:n==5?v:h;
Z.appendChild(x._)}this.$D=u.q("canvas");this.fy=this.$D.getContext("2d");this.body.appendChild(this.$D);
this.x5=u.a_(this,this.body)}iZ.prototype=new et;iZ.prototype.H=function(){et.prototype.H.call(this);
var d=this.Ut;this.x5.H();for(var n=0;n<d.length;n++)d[n].H()};iZ.prototype.rS=function(d){this.close();
var v=this.Ut[0].j(),t=b3.Kv(this.nK,[{data:this.FM,_S:new iW(0,0,v.x,v.y)}]);if(this.GX)t.gM=this.GX;
var h=new eG(_.E.c,!0);h.data={R:!0?_.Y.cJ:_.Y.QM,Vr:t};this.J(h)};iZ.Ne=[8,16];iZ.prototype.dn=function(d,v){this.di=new Uint8Array(v.Mp);
this.nK=v.Ps;var t=this.di.length,h=[1,3,4],X=0,g=0,x=1,Z=1,Y=this.sp=[],a=Math.round(Math.sqrt(t)*2);
a=Math.max(a,4e3);for(var z=0;z<3;z++){for(var p=0;p<2;p++){var U=iZ.Ne[p],l=h[z],L=l*U,j=Math.round(t*8/L);
if(j!=t*8/L)continue;for(var O=0;O<=a;O++)for(var F=0;F<=a;F++)if(O*F==j){var i=0;if(O==F)i+=64;if(Math.round(O/100)==O/100&&Math.round(F/100)==F/100)i+=32;
if(Math.round(O/10)==O/10&&Math.round(F/10)==F/10)i+=16;if(Math.round(O/2)==O/2&&Math.round(F/2)==F/2)i+=8;
Y.push([O,F,l,U,i])}}}var $=function(W,V){if(V[4]!=W[4])return V[4]-W[4];var y=Math.max(W[0],W[1])/Math.min(W[0],W[1]),c=Math.max(V[0],V[1])/Math.min(V[0],V[1]);
if(y!=c)return y-c;return V[0]-W[0]};Y.sort($);var H=this.Ut,b=[];for(var n=0;n<Y.length;n++){var r=Y[n];
b.push(r[0]+" x "+r[1]+", "+r[2]+"ch, "+r[3]+"-bit")}H[5].Cw(b);H[5].a(0);this.arb(null)};iZ.prototype.arb=function(d){var v=this.Ut,t=this.sp[this.Ut[5].j()];
v[0].a(new cK(t[0],t[1]),72);v[1].a(t[2]);v[3].a(iZ.Ne.indexOf(t[3]));this.nh()};iZ.prototype.nh=function(d){var v=this.Ut,t=v[0].j(),h=t.x,X=t.y,g=iZ.Ne[v[3].j()],x=this.di;
if(g==16&&v[4].j()==1){x=x.slice(0);for(var n=0;n<x.length;n+=2){var Z=x[n];x[n]=x[n+1];x[n+1]=Z}}var Y=this.FM=this.CE(x,h,X,v[1].j(),g,v[2].j()),a=this.$D,z=this.fy,p=[Y,new iW(0,0,h,X)];
f.vD(p);for(var n=0;n<p.length;n+=2)if(p[n+1].$<300){Y=p[n];h=p[n+1].r;X=p[n+1].$;break}a.width=h;a.height=X;
u.WI(a,h,X);var U=new ImageData(new Uint8ClampedArray(Y.buffer),h,X);z.putImageData(U,0,0)};iZ.prototype.CE=function(d,v,t,h,X,g){this.GX=null;
var x=[],Z=v*t;for(var Y=0;Y<h;Y++){var a=f.m(Z);x.push(a);if(X==8)for(var n=0;n<Z;n++)a[n]=d[n*h+Y];
else if(X==16)for(var n=0;n<Z;n++)a[n]=Math.round((d[(n*h+Y)*2]<<8|d[(n*h+Y)*2+1])*(255/65535))}var z=f.m(Z*4);
f.pl(z,4278190080);if(g){f.Gj(x.pop(),z,3);h--}if(h==0){}else if(h==1)f.I0(x[0],z);else{f.Gj(x[0],z,0);
f.Gj(x[1],z,1);if(h>2){f.Gj(x[2],z,2);if(h>3){this.GX=[];for(var n=3;n<h;n++){var p=new jn.Ks;p.name="Alpha "+(n-2);
p.S=new iW(0,0,v,t);p.N=x[n];this.GX.push(p)}}}}return z};function bL(d,v,t){hm.call(this);this._=u.q("div","");
this.RG=d;this.vE=null;this.G3=v==null?!1:v;this.rQ=null;this.E3=t;this.aIN=[];this.fM=[];this.Iq=[];
this.dQ=[];this.oY=0;this.vE=this.au7(bL.dQ[d]);this.B3();this.Ik=null;this.a02;this.ax8}bL.prototype=new hm;
bL.prototype.li=function(d,v,t,h,X){this.Ik=X;this.a02=f.v(this.rQ);if(this.vE.lagl)this.ax8=this.vE.lagl.j()[0]};
bL.prototype.qw=function(d,v,t,h,X){var g=this.Ik,x=this.RG,Z=this.a02;if(g==null)return;var Y=(X.x-g.x)/d.z.OI,a=(X.y-g.y)/d.z.OI;
if(x=="GrFl"){var z=f.v(Z.Ofst.v);z.Hrzn.v.val+=Y*.5;z.Vrtc.v.val+=a*.5;this.vE.Ofst.a(z,!0)}if(x=="patternFill"){var z=f.v(Z.phase.v);
z.Hrzn.v+=Y;z.Vrtc.v+=a;this.vE.phase.a(z,!0)}if(x=="DrSh"||x=="IrSh"||x=="ChFX"){var p=Z.Dstn.v.val,U=this.ax8*Math.PI/180,l=-Math.cos(U)*p+Y,L=Math.sin(U)*p+a;
this.vE.Dstn.a(Math.sqrt(l*l+L*L),!0);this.vE.lagl.a([Math.atan2(L,-l)*180/Math.PI],!0)}};bL.prototype.QZ=function(d,v,t,h,X){this.Ik=null};
bL.prototype.aOn=function(){for(var n=0;n<this.dQ.length;n++){u.Ag(this.dQ[n],"selected");if(this.Iq[n]instanceof l8)this.Iq[n].a(!1)}};
bL.prototype.aG4=function(d){var v=this.aC7.bind(this);for(var n=0;n<this.Iq.length;n++){var t=u.q("div","listitem");
this.dQ.push(t);if(n>0)t.textContent="\u2003";t.appendChild(this.Iq[n]._);if(kV.atG.indexOf(this.RG)!=-1){var h=new lt("+");
h.sW();h._.style.float="right";t.appendChild(h._);var X=new lt("\u2B0D");X.sW();X._.style.float="right";
X._.style["margin-right"]="2px";t.appendChild(X._)}t.addEventListener("click",v,!1);d.appendChild(t)}};
bL.cu=function(d,v){var t=v.getBoundingClientRect();return(d.clientY-t.top)/t.height};bL.prototype.aC7=function(d){var v=d.target.tagName.toLowerCase();
if(v=="input"){return}if(v=="button"){var t=new eG(_.E.F,!0),h=d.target.textContent=="+",X=h?0:bL.cu(d,d.target)<.5?-1:1;
if(h)t.data={R:"st_dupsingle",B:this.parent.data.B,E1:this.E3};else t.data={R:"st_movsingle",B:this.parent.data.B,E1:this.E3,ad9:X};
t.T=A.iL;t.Mw=!0;this.J(t);t=new eG("redrawall",!0);t.data={ad9:X};this.J(t);return}u.ns(d);this.X2();
this.oY=this.dQ.indexOf(d.currentTarget);this.J(new eG("showme"))};bL.prototype.X2=function(){if(this.vE.enab&&this.vE.enab.j()==!1)this.CQ({Wg:"enab",K:!0})};
bL.prototype.a3v=function(){var d=this.dQ[this.oY];if(d)u.M3(d,"selected");return this.fM[this.oY]};
bL.prototype.au7=function(d){var v={};for(var n=0;n<d.length;n++){var t=d[n],h=null;if(t=="----")h={_:u.q("hr")};
if(t=="\n")h={_:u.q("br")};if(t=="blOptions")h=new i9([14,10]);if(t=="brst")h=new eM([12,72],["R","G","B"]);
if(t=="knko")h=new e8("Knockout",[[13,1,0],"Shallow","Deep"]);if(t=="enab")h=new l8(kV.names[kV.order.indexOf(this.RG)]);
if(t=="lrMd"||t=="Md")h=new e8([12,19,0],gL.GY,gL.F_);if(t=="Opct")h=this.G3?new eh([12,0],0,100,"%"):new bP([12,0],0,100,"%");
if(t=="iOpa")h=new bP([12,26],0,100,"%");if(t=="blIf")h=new bf;if(t=="ShdN")h=new bP([12,68],0,100,"%");
var X=this.RG=="St3D"&&t=="lagl";if(t=="lagl"||t=="Angl")h=new an(X?"Light":[12,15],this.RG=="ebbl"||X);
if(t=="uglg")h=new l8([12,27]);if(t=="Dstn")h=new bP([12,28],0,200,"px");if(t=="Ckmt")h=new bP([12,29],0,100,"%");
if(t=="Srnk")h=new bP("Shrink",0,100,"%");if(t=="Drkn")h=new bP("Darken",0,100,"%");if(t=="blur")h=new bP([12,14,0],0,200,"px");
if(t=="TrnS"||t=="MpgS")h=new cS([12,21]);if(t=="Nose")h=new bP([12,30],0,100,"%");if(t=="layerConceals")h=new l8([12,31]);
if(t=="Cntn")h=new l8([12,25,4]);if(t=="AntA"||t=="antialiasGloss")h=new l8([12,25,1]);if(t=="GlwT")h=new e8([12,32],kV.QP.names);
if(t=="glwS")h=new e8([12,70],kV.QP.a24);if(t=="Inpr")h=new bP([12,12],1,100,"%");if(t=="bvlS")h=new e8([12,22],kV.rL.style);
if(t=="bvlT")h=new e8([12,32],kV.rL.aJz);if(t=="bvlD")h=new e8(null,kV.rL.dir);if(t=="srgR")h=new bP([12,34],0,1e3,"%");
if(t=="Sftn")h=new bP([12,35],0,20,"px");if(t=="Lald")h=v.lagl;if(t=="hglM"||t=="sdwM")h=new e8([12,36],gL.GY,gL.F_);
if(t=="hglC"||t=="sdwC")h=new cX;if(t=="hglO"||t=="sdwO")h=new bP([12,0],0,100,"%");if(t=="Invr"||t=="InvT")h=new l8([4,11]);
if(t=="overprint")h=new l8("Overprint");if(t=="Sz")h=new bP([12,14,0],1,200,"px");if(t=="Styl")h=new e8([12,40],kV.stroke.names);
if(t=="PntT")h=new e8([12,66],kV.stroke.a4F);if(t=="Clr")h=new cX(!0);if(t=="Grad"){h=new kt(!0,this.G3?null:[12,37],!0);
h.a(JSON.parse(kV.CU.aJu).v)}if(t=="Rvrs")h=new l8([12,23,0]);if(t=="Dthr")h=new l8([12,23,3]);if(t=="Type")h=new e8(this.G3?null:[12,22],kV.iF.names.slice(0,this.RG=="FrFX"?6:5));
if(t=="gs99")h=new e8("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]);if(t=="Ptrn")h=new cM([12,62]);
if(t=="Scl")h=new bP([12,38],5,500,"%",0,!0);if(t=="Algn")h=new l8([12,39]);if(t=="Ofst")h=new lm(!0);
if(t=="phase")h=new lm(!1);if(t=="useShape")h=new l8([12,21]);if(t=="useTexture")h=new l8([12,67]);if(t=="textureDepth")h=new bP([12,34],-300,300,"%");
var g=t=="----"||t=="\n"?t+n:t;if(t=="gs99"&&this.G3)g="gradientsInterpolationMethod";if(h!=null)v[g]=h}return v};
bL.prototype.adq=function(d){var v=this.fM[this.oY];for(var n=0;n<d.length;n++){var t=this.vE[d[n]];
if(t&&v.contains(t._))v.removeChild(t._)}};bL.prototype.ab1=function(d){var v=this.fM[this.oY];for(var n=0;
n<d.length;n++){var t=this.vE[d[n]];if(t&&!v.contains(t._))v.appendChild(t._)}};bL.prototype.sq=function(d,v){if(this.vE==null)return;
var t=v==lx.Np;if(this.vE.Grad){this.vE.Grad.D$(d.Sw,d.dL);if(t||v==lx.bX||v==lx.t0)this.vE.Grad.eN(d.tZ)}if(this.vE.Ptrn){if(t||v==lx.Nt)this.vE.Ptrn.eN(d.Da)}if(this.vE.TrnS){if(t||v==lx.fJ)this.vE.TrnS.eN(d.ff)}if(this.vE.MpgS){if(t||v==lx.fJ)this.vE.MpgS.eN(d.ff)}};
bL.prototype.H=function(){for(var n=0;n<this.aIN.length;n++)this.aIN[n].H();for(var d in this.vE)if(this.vE[d]instanceof hm)this.vE[d].H()};
bL.prototype.B3=function(){for(var d in this.vE){var v=this.vE[d];v.parent=this;if(v instanceof hm)v.P(_.E.w,this.avZ,this);
if(this.fM.length==0||d=="useShape"||d=="useTexture"){var t=new i9(v.atj()),h=u.q("div","bordered padded");
if(this.G3==!1){h.appendChild(t._);h.appendChild(u.q("hr",""))}this.aIN.push(t);this.fM.push(h);this.Iq.push(v)}else this.fM[this.fM.length-1].appendChild(v._)}};
bL.prototype.update=function(d,v){if(this.vE==null)return;this.rQ=f.v(v);var t=this.G3?"gradientsInterpolationMethod":"gs99";
if(this.RG=="GrFl"&&v[t]==null)v[t]={t:"enum",v:{gradientInterpolationMethodType:"Gcls"}};for(var h in v){var X=this.vE[h];
if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(h)!=-1)X.a(v[h].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(h)!=-1){X.a(v[h].v,d)}if(["Md","hglM","sdwM"].indexOf(h)!=-1)X.a(gL.RG.indexOf(v[h].v.BlnM));
if(h=="lrMd"){var g=(v.isFolder?[[15,10,27]]:[]).concat(gL.GY),x=(v.isFolder?[1]:[]).concat(gL.F_);X.Cw(g,x);
X.a(v[h].v)}if(h=="Angl")X.a([v[h].v.val]);if(h=="lagl"){var Z=v.uglg&&v.uglg.v?d.$t():v.lagl.v.val;
X.a([Z])}if(h=="Lald"){var Z=v.uglg&&v.uglg.v?d.hz():v.Lald.v.val;X.a([null,Z])}if(h==t){var Y=kV.iF.IG.indexOf(v[h].v.gradientInterpolationMethodType);
X.a(Y)}if(h=="Type")X.a(kV.iF.types.indexOf(v.Type.v.GrdT));if(h=="Styl")X.a(kV.stroke.types.indexOf(v.Styl.v.FStl));
if(h=="PntT"){var a=kV.stroke.D3.indexOf(v.PntT.v.FrFl);X.a(a);if(!this.G3){this.adq(kV.o9.concat(kV.oA.concat(kV.aO)));
this.ab1([kV.o9,kV.oA,kV.aO][a])}}if(h=="GlwT")X.a(kV.QP.types.indexOf(v.GlwT.v.BETE));if(h=="glwS")X.a(kV.QP.aik.indexOf(v.glwS.v.IGSr));
if(h=="bvlS")X.a(kV.rL.types.indexOf(v.bvlS.v.BESl));if(h=="bvlT")X.a(kV.rL.adg.indexOf(v.bvlT.v.bvlT));
if(h=="bvlD")X.a(["In","Out"].indexOf(v.bvlD.v.BESs))}};bL.prototype.avZ=function(d){var v=this.G3?"gradientsInterpolationMethod":"gs99";
for(var t in this.vE){if(this.vE[t]!=d.target)continue;var h=null,X=!1;if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(t)!=-1)h={type:"#Prc",val:d.target.j()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(t)!=-1)h={type:"#Pxl",val:d.target.j()};if(["Angl","lagl"].indexOf(t)!=-1)h={type:"#Ang",val:d.target.j()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(t)!=-1)h=d.target.j();
if(["Md","hglM","sdwM"].indexOf(t)!=-1)h={BlnM:gL.RG[d.target.j()]};if(t=="uglg"){h=d.target.j();X=!0}if(t=="PntT"){h={FrFl:kV.stroke.D3[d.target.j()]};
X=!0}if(t=="Lald")h={type:"#Ang",val:d.target.j()[1]};if(t==v)h={gradientInterpolationMethodType:kV.iF.IG[d.target.j()]};
if(t=="Type")h={GrdT:kV.iF.types[d.target.j()]};if(t=="Styl")h={FStl:kV.stroke.types[d.target.j()]};
if(t=="GlwT")h={BETE:kV.QP.types[d.target.j()]};if(t=="glwS")h={IGSr:kV.QP.aik[d.target.j()]};if(t=="bvlS")h={BESl:kV.rL.types[d.target.j()]};
if(t=="bvlT")h={bvlT:kV.rL.adg[d.target.j()]};if(t=="bvlD")h={BESs:["In","Out"][d.target.j()]};this.CQ({Wg:t,K:h});
if(X){if(this.G3)this.update(null,this.rQ);else{var g=this.parent,x=g.Vr,Z=this.E3,Y=x.U[g.data.B].add.lmfx[kV.dv[Z[0]]].v[Z[1]].v;
this.update(x,Y)}}}};bL.prototype.CQ=function(d){if(this.rQ&&this.rQ[d.Wg])this.rQ[d.Wg].v=d.K;if(this.G3){this.J(new eG(_.E.w))}else{d.R="changeprop";
d.B=this.parent.data.B;d.ja=this.E3;var v=new eG(_.E.F,!0);v.data=d;v.T=A.iL;v.Mw=!0;this.J(v);this.J(new eG("afterchange",!0))}};
bL.prototype.j=function(){return f.v(this.rQ)};bL.dQ={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(kV.o9),GrFl:["enab","Md","Opct"].concat(kV.oA),patternFill:["enab","Md","Opct"].concat(kV.aO),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(kV.o9.concat(kV.oA.concat(kV.aO)))};
function jI(){et.call(this,[11,6],"layerstyle");this.aq7=-1;this.data={};this.Vr=null;this.n=null;this.NL=[];
this.Ho=[];u.M3(this.body,"flexrow");this.Oj=u.q("div","bordered");u.i(this.Oj,"min-width:13em;");this.body.appendChild(this.Oj);
this.vj=u.q("div","");u.i(this.vj,"width:25em; padding-left: 1em;");this.body.appendChild(this.vj);this.L7=u.q("div","form");
u.i(this.L7,"padding-left: 1em; width:7em;");this.body.appendChild(this.L7);this.x5=u.a_(this,this.L7);
this.avF=new lt([12,87],!0,null,!0);this.avF.P("click",this.aya,this);this.L7.appendChild(this.avF._);
this.j$=new gk;this.j$.parent=this;this.j$.P(_.E.w,this.ahW,this);this.L7.appendChild(this.j$._);this.P("closebtn",this.va,this);
this.P("redrawall",this.aGx,this)}jI.prototype=new et;jI.prototype.Ht=function(){return!0};jI.prototype.PO=function(){return!0};
jI.prototype.li=function(d,v,t,h,X){var g=this.FG();if(g)g.li(d,v,t,h,X)};jI.prototype.qw=function(d,v,t,h,X){var g=this.FG();
if(g)g.qw(d,v,t,h,X)};jI.prototype.QZ=function(d,v,t,h,X){var g=this.FG();if(g)g.QZ(d,v,t,h,X)};jI.prototype.FG=function(d){if(d==null)d=this.data.index;
return d==null?null:d==0?this.NL[0]:this.Ho[d[0]][d[1]]};jI.prototype.ahW=function(d){var v=this.j$.j();
this.CQ({R:"setstl",K:v.m9});this.aGx(null)};jI.prototype.aya=function(d){var v=this.Vr,t=this.data.B;
if(t==null)t=v.l[0];var h=this.Vr.U[t],X=lb.aEn(h),g=new eG(_.E.c,!0);g.data={R:_.Y.Kf,QS:"add",Ic:lx._0,Mc:[f.v(X)]};
this.J(g)};jI.prototype.a5G=function(d){this.data.index=d.currentTarget.E3;this._R(d.currentTarget.E3)};
jI.prototype.aGx=function(d){this.dn(this.Vr,this.data)};jI.prototype._R=function(d,v){u.Pl(this.vj);
for(var n=0;n<this.NL.length;n++)this.NL[n].aOn();var t=this.FG(d);this.vj.appendChild(t.a3v());if(v)t.X2();
var h=this.Vr;if(h){var X=h.U[this.data.B];this.NL[0].update(h,A.lx.Pa(h,X));var g=X.add.lmfx;if(g==null)return;
for(var n=0;n<kV.order.length;n++){var x=g[kV.dv[n]].v;for(var Z=0;Z<x.length;Z++)this.Ho[n][Z].update(h,x[Z].v)}}if(v)t.X2()};
jI.prototype.H=function(){et.prototype.H.call(this);this.avF.H();this.j$.H();this.x5.H();for(var n=0;
n<this.NL.length;n++)this.NL[n].H()};jI.prototype.dn=function(d,v){var t=v.B==null;this.data.B=v.B;this.data.index=v.index;
v=this.data;this.Vr=d;if(t)v.B=d.l.length==0?d.U.length-1:d.l[0];u.Pl(this.Oj);var h=d.U[v.B].add.lmfx;
this.eB();this.NL=[new bL("bops",!1,0)];this.Ho=[];for(var n=0;n<kV.order.length;n++){this.Ho.push([]);
var X=h==null?[]:h[kV.dv[n]].v;for(var g=0;g<X.length;g++){var x=new bL(kV.order[n],!1,[n,g]);this.NL.push(x);
this.Ho[n].push(x)}if(X.length==0){var x=new bL(kV.order[n],!1,[n,0]);this.NL.push(x);this.Ho[n].push(x)}}this.H();
this.aN0(this.n,lx.Np);for(var n=0;n<this.NL.length;n++){this.NL[n].parent=this;this.NL[n].aG4(this.Oj);
this.NL[n].P("showme",this.a5G,this)}if(v.index==null||v.index==0||!t&&h[kV.dv[v.index[0]]].v.length==0){this._R(0)}else this._R(v.index,t);
this.P("afterchange",this.eB,this)};jI.prototype.eB=function(d){var v=this.Vr,t=this.data.B;if(t==null)t=v.l[0];
var h=this.Vr.U[t],X=lb.aEn(h);this.j$.a(X,v.add.Patt?v.add.Patt:[],v.$t(),v.hz())};jI.prototype.sq=function(d,v){this.n=d;
this.aN0(d,v);if(v==lx._0||v==lx.Np){this.j$.eN([d.Fw,d.Da])}if(v==lx.C4){}};jI.prototype.aN0=function(d,v){for(var n=0;
n<this.NL.length;n++)this.NL[n].sq(d,v)};jI.prototype.va=function(d){this.CQ({R:"cancel"})};jI.prototype.rS=function(d){this.CQ({R:"confirm"});
this.close()};jI.prototype.CQ=function(d){d.B=this.data.B;var v=new eG(_.E.F,!0);v.data=d;v.T=A.iL;v.Mw=!0;
this.J(v);this.eB()};jI.azb=function(){var d=function(v){if(v==null||v.l.length==0)return{f:!1};var t=v.U[v.l[0]];
return{f:t.add.lmfx!=null}};return{name:[11,6],G0:!0,sub:[{name:[5,1],f:d},{name:[5,2]},{name:[2,2],f:d}]}};
jI.aDO=function(){return{sub:[{g:_.E.F,T:A.iL,d:{R:"st_copy"}},{g:_.E.F,T:A.iL,d:{R:"st_paste"}},{g:_.E.F,T:A.iL,d:{R:"st_clear"}}]}};
jI.RN=function(d){var v=[{name:[14,10],G0:!0}];for(var n=0;n<kV.names.length;n++)v.push({name:kV.names[n]});
if(d){v[v.length-1].G0=!0;v.push(jI.azb());v.push({name:[6,30,1],f:function(t){return{f:t!=null&&t.l.length!=0&&t.U[t.l[0]].kx()}}});
v.push({name:["VAR0 VAR1",[12,49],[9,1]],f:function(t){return{f:t!=null&&t.l.length!=0&&t.U[t.l[0]].add.lmfx!=null}}})}return v};
jI.Yb=function(d){var v=[{g:_.E.c,d:{R:_.Y.S8,cG:"layerstyle"}}];for(var n=0;n<kV.names.length;n++)v.push({g:_.E.c,d:{R:_.Y.S8,cG:"layerstyle",index:[n,0]}});
if(d){v.push(jI.aDO());v.push({g:_.E.c,d:{R:_.Y.S8,cG:"scaleeffects",Mo:100,H5:{g:_.E.F,T:A.iL,d:{R:"scaleeffects"}}}});
var t={classID:"Mk",null:kl.hR("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
v.push({g:_.E.U0,d:{oN:"make",mQ:t}})}return v};jI.ayH=function(d){var v=[];if(d)v.push({name:[6,48,0,0],XG:!0},{name:[6,48,0,1],XG:!0},{name:[6,48,0,2],XG:!0,G0:!0});
for(var t in cV.names)v.push({name:cV.names[t],G0:cV.az9.indexOf(t)!=-1,XG:ds[t]!=null});return v};jI.GK=function(d){var v=[];
if(d){v.push({g:_.E.F,T:A.wS,d:{R:"newfill",tJ:0}});for(var n=1;n<3;n++)v.push({g:_.E.U0,d:A.N4.Ak(n)})}for(var t in cV.names){var h=e0.yu(t);
if(h==null)h={};for(var X in cV.Hz)if(cV.Hz[X]==t)h.classID=X;var g={oN:"make",mQ:{classID:"Mk",null:kl.hR("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:h}}}}};
v.push({g:_.E.U0,d:g})}return v};function ie(){et.call(this,"Merge Channels","mergechannels");this.caller=null;
var d=u.q("div","form");this.body.appendChild(d);this.Ut=[];for(var n=0;n<3;n++){var v=new e8(cV.Yv[n],[]);
this.Ut.push(v);d.appendChild(v._);u.WJ(d)}this.x5=u.a_(this,d)}ie.prototype=new et;ie.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();for(var n=0;n<3;n++)this.Ut[n].H()};ie.prototype.dn=function(d,v,t,h){this.caller=t;var X=[],g=t.n0;
for(var n=0;n<g.length;n++)X.push(g[n].name);for(var n=0;n<3;n++){var x=this.Ut[n];x.Cw(X);x.a(Math.min(n,g.length-1))}};
ie.prototype.rS=function(d){var v=this.caller.n0,t=v[0],h=new eG(_.E.U0,!0);h.data=hc.z$(t.r,t.$,t.u3,"Merged Document","Wht",!1);
this.J(h);var X=[];for(var n=0;n<3;n++)X.push(v[this.Ut[n].j()].jP());var t=v[v.length-1],g=t.U[0],x=g.buffer;
for(var n=0;n<x.length;n+=4){x[n]=X[0][n];x[n+1]=X[1][n];x[n+2]=X[2][n]}g.uM();t.uM();this.close()};
function gH(){et.call(this,[1,10],"script");var d=u.q("div","form");u.i(d,"width:44em");this.body.appendChild(d);
this.n=null;this.EQ=[];this.Yk=[];this.aH9;var v=this.At=new lt([1,2],!1,null,!0);v.P("click",this.VI,this);
d.appendChild(v._);var t=new lt("JS Reference",!1,null,!0);t.P("click",this.awo,this);d.appendChild(t._);
d.appendChild(new i9("Demos:")._);this.a0E=[];var h=gH.oj;for(var n=0;n<h.length;n++){var X=new lt(h[n].ze,!1,null,!0);
this.a0E.push(X);d.appendChild(X._);X.P("click",this.aH4,this)}this.Py=u.q("textarea");u.BR(this.Py);
this.Py.setAttribute("rows",16);u.i(this.Py,"display:block;tab-size:4; font-family:monospace;width:100%;");
d.appendChild(this.Py);var g=new lt("Run",!0,null,!0);g.P("click",this.rS,this);d.appendChild(g._);this.x3=u.q("div");
d.appendChild(this.x3)}gH.prototype=new et;gH.prototype.H=function(){this.At.H()};gH.prototype.VI=function(){var d=this.aH9;
if(d==null)d="script.jsx";var v=new eG(_.E.c,!0);v.data={R:_.Y.S8,cG:"namewindow",Mo:d.slice(0,d.length-4),No:this.a4G.bind(this)};
this.J(v)};gH.prototype.a4G=function(d){var v=this.Py.value,t=B.j9(v),h=new eG(_.E.c,!0);h.data={R:_.Y.RA,Mp:t.buffer,cF:d+".jsx",aIZ:!0};
this.J(h)};gH.prototype.aqU=function(d){var n=this.EQ.indexOf(d.target),v=this.aH9=this.Yk[n],t=this.n.pP.Y0[v],h=new Uint8Array(t),X=B.I$(h,0,h.length);
this.Py.value=X};gH.prototype.dn=function(d,v){this.Py.value=gH.oj[0].Gq;this.aog()};gH.prototype.aog=function(){var d=this.n.pP,v=this.x3;
u.Pl(v);this.EQ=[];this.Yk=[];v.textContent="Saved scripts: ";for(var t in d.Y0){if(t.endsWith(".jsx")){var h=new lt(t,!1,null,!0);
this.EQ.push(h);this.Yk.push(t);h.P("click",this.aqU,this);v.appendChild(h._)}}};gH.prototype.sq=function(d,v){this.n=d;
if(v==lx.$f)this.aog()};gH.prototype.awo=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.t7,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.J(v)};gH.prototype.rS=function(d){var v=this.Py.value,t=this.n.pP.Y0;v=gH.apz(v,t);var h=new eG(_.E.c,!0);
h.data={R:_.Y.z7,uq:v};this.J(h)};gH.apz=function(d,v){var t=d.split("\n");for(var n=0;n<t.length;n++){var h=t[n].trim();
if(h.startsWith("#include")){var X=h.slice(h.indexOf("\"")+1,h.lastIndexOf("\"")),g=v[X];if(g==null)alert("\""+X+"\" not found in the Local Storage");
t[n]=gH.apz(B.I$(new Uint8Array(g)),v)}}return t.join("\n")};gH.prototype.aH4=function(d){var v=this.a0E.indexOf(d.currentTarget);
this.Py.value=gH.oj[v].Gq};gH.oj=[{ze:"Hello",Gq:"\nalert(\"Hello Photopea!\");\n"},{ze:"Process Layers",Gq:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{ze:"Clone Layers",Gq:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function hp(){et.call(this,[11,7],"newproject");this.data=null;this.caller=null;this.lI=0;var d=this.y_=u.q("div","flexrow");
this.body.appendChild(d);var v=this.ee=u.q("div","form");d.appendChild(v);this.JD=new eR([12,48],null,10);
v.appendChild(this.JD._);u.WJ(v);this.Hw=new aE(!0,null,null,j8==1,!0);this.Hw.a(new cK(1280,720),72);
if(j8==1){this.Hw.a(new cK(8.3*72,11.7*72),72);this.Hw.xv(4)}this.Hw.asf(!0,!0);this.Hw.P(_.E.w,this.ky,this);
if(j8<2)v.appendChild(this.Hw._);this.iQ=new hk;this.iQ.parent=this;if(j8==0){u.WJ(v);v.appendChild(this.iQ._)}this.jb=new bP("BPM",1,400);
this.jb.a(120);this._P=new a0("Time Signature","2/4 3/4 4/4 4/8 6/8 8/8".split(" "));this._P.a(2);if(j8==2){v.appendChild(this.jb._);
u.WJ(v);v.appendChild(this._P._)}this.Xl=new e8([13,6],hc.cB);this.nX=new e8(null,["8 bit","16 bit","32 bit"]);
this.aNY=new l8([1,16,1]);if(j8==0){v.appendChild(this.aNY._);u.WJ(v);v.appendChild(this.Xl._);v.appendChild(this.nX._)}this.JD.Sx();
this.jb.Sx();this._P.Sx();this.Hw.Sx();this.iQ.Sx();this.Xl.Sx();this.nX.Sx();this.x5=new lt([12,49],!0,null,!0);
this.x5.P("click",this.rS,this);if(j8<2)this.x5._.style.marginBottom="20px";v.appendChild(this.x5._);
var t=this.sp=u.q("div","form");if(j8<2)v.appendChild(this.sp);var h=hp.di,X=[];for(var n=0;n<h.length;
n++)X.push(h[n].name);this.ox=new a0(null,X);if(j8==1)this.ox.a(1);this.ox.P(_.E.w,this.nR,this);t.appendChild(this.ox._);
this.aZ=new c0(!0);this.aZ.P(_.E.w,this.aHn,this);t.appendChild(this.aZ._);this.nR();this.yP=new b7;
this.yP.parent=this;u.i(this.yP._,"margin-right:20px");this.yP.P("tempready",this.ayB,this);this.sU=this.sp;
this.azk=new lt([25,0],null,null,!0);this.azk.P("click",function(){var g;if(this.sU==this.sp){this.sU=this.yP._;
g=[11,10]}else{this.sU=this.sp;g=[25,0]}this.am8=-1;this.azk.Ge(g);this.K$(this.F0,this.uV-.001)},this)}hp.prototype=new et;
hp.prototype.auW=function(d){var v=this.X5,t=v.style.display!="none";v.style.display=t?"none":"";this.yO.Ge(t?"\u02C5":"\u02C4");
this.K$(this.F0,this.uV-.001)};hp.prototype.sq=function(d,v){this.yP.sq(d)};hp.prototype.M1=function(d,v){return new cK(Math.max(0,Math.min(70,(d-690)/2)),d>v?Math.max(0,Math.min(50,(v-400)/2)):0)};
hp.prototype.K$=function(d,v){if(this.F0==d&&this.uV==v)return;this.F0=d;this.uV=v;if(2<=j8)return;var t=this.y_,h=this.sp,X=this.yP._,g=this.ee,x=330,Z=500;
this.aZ._.style.height=v-54-(d<730?30:0)+"px";h.style.marginRight="20px";var Y=1100<d?0:520<d?1:2,a=Y!=this.am8;
this.am8=Y;if(a){u.Pl(t);if(h.parentNode)h.parentNode.removeChild(h);if(X.parentNode)X.parentNode.removeChild(X)}var z=this.azk._;
if(Y==0){Z=(d-x)/2-32;this.yP.K$(Z,v-28);if(a){t.appendChild(X);t.appendChild(h);t.appendChild(g)}}else if(Y==1){if(d<750)x=280;
Z=d-x-44;if(a){t.appendChild(this.sU);t.appendChild(z);t.appendChild(g)}if(this.sU==X)this.yP.K$(Z,v-27);
u.i(z,"position:fixed; right:"+(x+40)+"px; bottom:20px;")}else{x=d-26;Z=x;h.style.marginRight="";if(a){g.appendChild(this.sU);
g.appendChild(z);t.appendChild(g)}u.i(z,"position:fixed; right:16px; bottom:20px;");var p=v-412+(j8==0?0:120);
this.aZ._.style.height=p+"px";if(this.sU==X)this.yP.K$(Z,p+27)}u.i(g,"width:"+x+"px; line-height:3em;");
h.style.width=Z+"px";this.nR(null,Z)};hp.prototype.ky=function(){this.yP.a(this.Hw.j())};hp.prototype.aHn=function(d){var v=this.aZ.j()[0],t=hp.di[this.ox.j()].I5[v],h=t[4];
if(h==0||j8==1)h=72;var X=t[1],g=t[2],x=["px","%","mm","in"].indexOf(t[3]),Z=[1,1,25.4/h,1/h][x];X/=Z;
g/=Z;this.Hw.a(new cK(Math.round(X),Math.round(g)),h);this.Hw.xv(x);this.ky();if(Date.now()-this.lI<300)this.rS();
else iP.event("ndoc_Size click",.1);this.lI=Date.now()};hp.prototype.nR=function(d,v){if(v==null)v=this.aD2;
else this.aD2=v;if(v==null)return;var t=v<360?2:v<600?3:4,h=(v-5)/t-5,X=hp.di[this.ox.j()].I5,g=[],x=[],Z=Math.floor(h*u.LY()),Y=Math.floor(h*u.LY()),a=0;
for(var n=0;n<X.length;n++)a=Math.max(a,X[n][1],X[n][2]);for(var n=0;n<X.length;n++){var z=X[n],p=z[1]+" x "+z[2]+" "+z[3];
if(z[3]=="in")p=(z[1]*25.4).toFixed(0)+" x "+(z[2]*25.4).toFixed(0)+" mm";if(z[3]=="mm")p=(z[1]/25.4).toFixed(1)+" x "+(z[2]/25.4).toFixed(1)+" in";
if(z[4])p=p+" @ "+z[4]+" ppi";x.push(p);g.push(hp.tp(z,Z,Y,a))}this.aZ.lr(g,x,Z,Y)};hp.tp=function(d,v,t,h){var X=f.km(v,t),g=Math.round(v/8),x=Math.floor(13*u.LY()),Z=d[1],Y=d[2];
X.fillStyle="#000000";X.font=Math.round(x*.9)+"px \"Open Sans\", Sans-Serif";var a=Z+" x "+Y+" "+d[3],z=X.measureText(a);
X.fillText(a,Math.round((v-z.width)/2),t-Math.round(g/2));if(d[0]!=null){X.font="bold "+x+"px \"Open Sans\", Sans-Serif";
var a=d[0],z=X.measureText(a);X.fillText(a,Math.round((v-z.width)/2),t-Math.round(g/2)-Math.round(x*1.3))}var p=t-Math.round(2.5*x),U=Math.min((v-g)/Z,(p-g)/Y);
U*=.5+.5*(Math.max(Z,Y)/h);var l=(v-Z*U)/2,L=(p-Y*U)/2;X.strokeRect(Math.round(l)+.5,Math.round(L)+.5,Math.round(Z*U),Math.round(Y*U));
var j=X.getImageData(0,0,v,t).data;return b3.Zx(j.buffer,v,t,null,null,!0)};hp.prototype.H=function(){et.prototype.H.call(this);
this.Hw.H();this.JD.H();this.jb.H();this._P.H();this.iQ.H();this.x5.H();this.JD.a(f7.get([11,7]));this.ox.H();
this.Xl.H();this.nX.H();this.aNY.H();this.yP.H()};hp.prototype.rS=function(d){iP.event("ndoc_Create click",.1);
var v=this.Hw.j(),t=v.x,h=v.y;this.close();var X=this.iQ.j(),g=hc.X8[this.Xl.j()],x=new eG(_.E.U0,!0);
x.data=hc.z$(t,h,this.Hw.W8(),this.JD.j(),["Wht","Blck","Trns","Clr"][X[0]],this.aNY.j(),X[1],g,8<<this.nX.j());
this.J(x);var Z=this.caller.n0,Y=Z[Z.length-1];Y.Y.VC=this.jb.j();Y.Y.AV=[[2,4],[3,4],[4,4],[4,8],[6,8],[8,8]][this._P.j()];
this.anW()};hp.prototype.ayB=function(d){iP.event("ndoc_Template click",.1);var v=d.data.Vr;v.u3=this.Hw.W8();
var t=new eG(_.E.c,!0);t.data={R:_.Y.cJ,Vr:v};this.J(t);this.close();this.anW()};hp.prototype.anW=function(){var d=this.caller.n0,v=d[d.length-1],t=this.data.aOe;
if(t)je.tK(function(){var h=new XMLHttpRequest,X="https://www.googleapis.com/drive/v3/files?"+je.a4c();
h.open("POST",X,!0);h.setRequestHeader("Content-Type","application/json");h.addEventListener("load",function(g){var x=JSON.parse(g.target.response);
v.S3={file:x,nF:"psd"};alert(v.name+" created in Google Drive")});h.send(JSON.stringify({name:v.name,aL0:[t]}))})};
hp.prototype.dn=function(d,v,t,h){this.caller=t;if(d!=null&&d.p!=null){var X=new iW(0,0,d.r,d.$).hL(d.p.S);
this.Hw.a(new cK(X.r,X.$))}this.data=v;this.ky();if(u.bk())dY.aEA(this.GA.bind(this))};hp.prototype.GA=function(d){if(d=="granted")dY.TO(this,this.Of.bind(this))};
hp.prototype.Of=function(d,v){this.Hw.a(new cK(v.r,v.$))};hp.di=[{name:"Social",I5:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],I5:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],I5:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],I5:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],I5:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],I5:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",I5:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function g2(d,v,t){et.call(this,v,"sel_"+d);this.R=d;var h=u.q("div","form");this.body.appendChild(h);
this.JD=new eh(v,0,255,null,0,!1,!0);h.appendChild(this.JD._);this.JD.a(1);this.JD.P(_.E.w,this.d1,this);
var X=u.q("span");X.textContent=t;h.appendChild(X);u.WJ(h);this.a9K=new l8("Apply at canvas bounds");
if(d!="border")h.appendChild(this.a9K._);this.x5=u.a_(this,h);this.P("closebtn",this.SP,this)}g2.prototype=new et;
g2.prototype.Hx=function(d,v){if(d==null)return;if(d.p==null)alert("No selection!");return d.p!=null};
g2.prototype.SP=function(){var d=new eG(_.E.F,!0);d.T=A.Hh;d.data={R:"h_undoredo"};this.J(d)};g2.prototype.d1=function(d,v,t){if(v==null)this.SP();
var h=new eG(_.E.U0,!0);h.data=A.Oe.DX(this.R,this.JD.j(),this.a9K.j());h.Mw=!0;if(t!=!0)h.data.a8y=!0;
this.J(h)};g2.prototype.rS=function(d){this.d1(null,null,!0);this.close()};g2.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();if(this.JD)this.JD.H()};g2.prototype.dn=function(d,v){this.JD.vn();this.d1(null,!0)};function f_(d,v,t,h,X,g){et.call(this,t,v);
this.ao6=g;this.Ti=X;this.di=null;this.ee=u.q("div","form");this.body.appendChild(this.ee);this.ahz=u.q("div");
this.ee.appendChild(this.ahz);var x=500;if(h){var Z=h.split(",");h=Z[0];if(Z[1])x=parseFloat(Z[1])}this.JD=d==0?new eR(t,null,10):d==1?new bP(t,0,x,h,1):new eR(t,null,24,5);
this.JD.P(_.E.w,this.d1,this);this.ee.appendChild(this.JD._);this.x5=u.a_(this,this.ee);this.P("closebtn",this.va,this)}f_.prototype=new et;
f_.prototype.M1=function(d,v){return new cK(Math.max(0,Math.min(150,(d-250)/2)),Math.max(0,Math.min(150,(v-120)/2)))};
f_.prototype.Ht=function(){return this.ao6};f_.prototype.d1=function(d){var v=this.JD.j();if(this.Ti)this.cv(v)};
f_.prototype.va=function(d){if(this.Ti)this.cv("cancel")};f_.prototype.rS=function(d){if(this.Ti)this.cv("confirm");
else this.cv(this.JD.j());this.close()};f_.prototype.cv=function(d){if(this.di.No)this.di.No(d);else if(this.di.H5){var v=this.di.H5,t=new eG(v.g,!0);
t.T=v.T;t.data=v.d;t.data.K=d;t.Mw=!0;this.J(t)}};f_.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();if(this.JD)this.JD.H()};f_.prototype.dn=function(d,v){this.di=v;this.JD.a(v.Mo);this.JD.vn();
this.ahz.innerHTML=v.aCI?v.aCI:"";this.d1(null)};function bq(){et.call(this,[1,5],"open_from_url");this.e$=null;
var d=u.q("div","form");this.body.appendChild(d);this.aAo=new eR("URL",null,22);d.appendChild(this.aAo._);
u.WJ(d);this.aaw=new a0([21,0],[[21,2],[21,1]]);d.appendChild(this.aaw._);this.x5=u.a_(this,d)}bq.prototype=new et;
bq.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.aaw.H()};bq.prototype.dn=function(d,v,t){this.aAo.vn();
this.e$=null;var h=t.n0;if(d&&h.indexOf(d)!=-1)this.e$=h.indexOf(d)};bq.prototype.rS=function(d){var v=new eG(_.E.c,!0),t=this.aAo.j();
v.data={R:_.Y.PE,Ic:{url:t,N7:!0,e$:this.aaw.j()==1?this.e$:null}};this.J(v);this.close()};function la(){et.call(this,[12,79],"preferences");
this.n=null;var d=u.q("div","form");d.style.width="290px";this.body.appendChild(d);this.dQ=[new l8([8,2]),new cX,new cX,new l8([8,4]),new cX,new e8([12,80,3],[[12,93,3],[12,80,4]]),new eh(["VAR0 X",[12,80,5]],.02,200,null,2),new e8(null,f.rd.a5),new eh(["VAR0 Y",[12,80,5]],.02,200,null,2),new eh("Subdivision",1,10),new e8([12,80,6],f.rd.a5),new cX,new e8([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]),new l8("Zoom with Scroll Wheel"),new l8("Glass Menus"),new eh("Cursor Offset",0,200),new eR("Dezgo API Key")];
for(var n=0;n<this.dQ.length;n++){var v=this.dQ[n];v.parent=this;v.P(_.E.w,this.fY,this);if(n==2){var t=new i9("Local guides:");
d.appendChild(t._)}if(n==11){var t=new i9("Quick Mask Color:");d.appendChild(t._)}d.appendChild(v._);
if(n!=0&&n!=1&&n!=3&&n!=4&&n!=6&&n!=8)u.WJ(d);if(n==2||n==9||n==11)u.$a(d)}}la.prototype=new et;la.prototype.H=function(){et.prototype.H.call(this);
for(var n=0;n<this.dQ.length;n++)this.dQ[n].H()};la.prototype.dn=function(d,v,t){};la.prototype.sq=function(d,v){this.n=d;
var t=d.rp;this.dQ[0].a(t.MQ);this.dQ[1].Wi(t.tF);this.dQ[2].Wi(t.rs);this.dQ[3].a(t.iN);this.dQ[4].Wi(t.M0);
this.dQ[5].a(t.fs);this.dQ[6].a(t.H9);this.dQ[7].a(t.d6);this.dQ[8].a(t.vX==0?t.H9:t.vX);this.dQ[9].a(t.Tr);
this.dQ[10].a(t.iV);var h=window.locStor.getItem("__qmc");this.dQ[11].Wi(h==null?16711680:h);var X=window.locStor.getItem("__itp");
this.dQ[12].a(X==null?1:X);var g=window.locStor.getItem("__zwh");this.dQ[13].a(g==1);var x=window.locStor.getItem("__glm");
this.dQ[14].a(x=="1");this.dQ[15].a(d.WP);var Z=window.locStor.getItem("__dak");this.dQ[16].a(Z?Z:"")};
la.prototype.fY=function(d){var v=this.dQ,t=f.v(this.n.rp);t.MQ=v[0].j();t.tF=v[1].Lz();t.rs=v[2].Lz();
t.iN=v[3].j();t.M0=v[4].Lz();t.fs=v[5].j();t.H9=v[6].j();t.d6=v[7].j();if(d.target==v[6]){v[8].a(v[6].j());
t.vX=0}else t.vX=v[8].j();t.Tr=v[9].j();t.iV=v[10].j();var h=window.locStor;h.setItem("__qmc",v[11].Lz());
h.setItem("__itp",v[12].j());h.setItem("__zwh",v[13].j()?"1":"0");h.setItem("__glm",v[14].j()?"1":"0");
this.n.WP=v[15].j();var X=v[16].j();if(X=="")h.removeItem("__dak");else h.setItem("__dak",X);var g=new eG(_.E.c,!0);
g.data={R:_.Y.Kf,Ic:lx.yy,VE:t};this.J(g)};function hi(){et.call(this,[11,8],"saveforweb");this.aIY="";
this.caller=null;this.ZZ=null;this.n=null;u.M3(this.body,"flexrow");this.body.style.padding="0";var d=u.q("div");
u.i(d,"position:relative;");var v=u.q("div");this.body.appendChild(d);this.body.appendChild(v);this._q=u.q("div","imgcont");
d.appendChild(this._q);this.CO=new kR;this.CO.K$(512,512);var t=this.NU=u.q("video");t.setAttribute("controls","");
t.setAttribute("preload","auto");t.setAttribute("loop","");var h=this.bM=u.q("audio");h.setAttribute("controls","");
h.setAttribute("preload","auto");h.setAttribute("loop","");this.rB=u.q("div");u.i(this.rB,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
d.appendChild(this.rB);var X=this.ee=u.q("div","form cell");u.i(X,"width:195px; padding:9px 13px;");
v.appendChild(X);this.fI=new eR([12,48],null,7.6);this.fI.Sx();X.appendChild(this.fI._);var g=b3.P0();
g[g.indexOf("WEBP")]="webP";this.RY=new e8([12,50],g);this.RY._.style.marginRight="0";this.RY.Sx();X.appendChild(this.RY._);
this.RY.P(_.E.w,this.lq,this);u.WJ(X);this.Hw=new aE(!0,!0,!1,!0);this.Hw.Sx();this.Hw.G5._.style.paddingBottom="8px";
this.cA=new e8("Sampling Rate",["8,000 Hz","16,000 Hz","22,050 Hz","44,100 Hz","48,000 Hz"]);this.cA.Sx();
this.cA.a(4);this.vw=new l8("Stereo");this.vw._.style.marginLeft="1.3em";this.vw.a(!0);this.xP=new fb([12,41],2,20,"in",2,null,!0);
this.xP.a(8.27);this.nC=new l8("Add Tabs");this.nC.a(!0);this.Hw.P(_.E.w,this.lq,this);this.cA.P(_.E.w,this.lq,this);
this.vw.P(_.E.w,this.lq,this);this.xP.P(_.E.w,this.lq,this);this.nC.P(_.E.w,this.lq,this);this.a36=u.q("div");
X.appendChild(this.a36);this.DG=new kw;this.DG.P(_.E.w,this.lq,this);if(j8<2)X.appendChild(this.DG._);
this.l0=new lt([1,2],!1,null,!0);this.l0.P("click",this.rS,this);X.appendChild(this.l0._);this.yO=new lt("...",!1,null,!0);
this.yO.P("click",this.rS,this);X.appendChild(this.yO._)}hi.prototype=new et;hi.prototype.Hx=function(d,v){return d!=null};
hi.prototype.H=function(){et.prototype.H.call(this);this.Hw.H();this.fI.H();this.RY.H();this.cA.H();
this.xP.H();this.nC.H();this.DG.H();this.l0.H()};hi.prototype.rS=function(d){var v=this.fI.j().trim(),t=b3.P0()[this.RY.j()],h=t=="JPG"||t=="PNG"||t=="GIF"||t=="SVG"||t=="WEBP",X=b3.bV(t),g="."+t.toLowerCase(),x=this.ZZ,Z=v+g,Y=this.caller.c6(),a=Y.Wc,z=this.DG.j(),p=a.length!=0&&h?z.slcs:0;
if(p!=0){var U=[],l={},L=new iW(0,0,Y.r,Y.$),j=f.OO(Y.jP(),8);for(var n=0;n<a.length;n++)U.push(A.Jp.qa(a,n));
U.reverse();var O=f.S.a9I([0,0,Y.r,Y.$],U),F=[];for(var n=0;n<O.length;n++){var i=O[n],$=new iW(i[0],i[1],i[2]-i[0],i[3]-i[1]),bW=""+(n+1);
if(bW.length<2)bW="0"+bW;bW=v+"_"+bW;if(i[4]!=null&&a[i[4]].v.Nm)bW=a[i[4]].v.Nm.v;var H="images/"+bW+g;
F.push(H);if(p==2&&i[4]==null)continue;var b=f.m($.k()*4);f.wH(j,L,b,$);if(l[H]){alert("There are multiple slices with a name \""+bW+"\"");
return}l[H]=new Uint8Array(X.V$([[b.buffer,0,Y.u3,Y.VN]],$.r,$.$,z))}F.push("images/spacer.gif");var r="<html>\n<head>\n<title>"+v+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
r+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
r+="<!-- Save for Web Slices ("+Y.name+") -->\n";r+=f.S.ade(O,F,a,p)+"\n";r+="<!-- End Save for Web Slices -->\n";
r+="</body>\n</html>\n";var W=f.m(Math.round(r.length*1.5)),V=B.HN(r,W,0);l["index.html"]=W.slice(0,V);
x=UZIP.encode(l);Z=v+".zip"}else if(Y.aMd()&&h&&z.artb){var y=[],L,j;if(j8==0){L=new iW(0,0,Y.r,Y.$);
j=f.OO(Y.jP(),8);var c=Y.root.children;for(var n=0;n<c.length;n++){var S=c[n].B;if(S.add.artb==null||!S.ZC())continue;
y.push([S.getName(),S.x1()])}}else{L=Y.e9();j=new Uint8Array(Y.pz(this.n));var C=Y.add.arts;for(var n=0;
n<C.length;n++){var K=C[n];y.push([K.cF,f.Q.k2(K.l7)])}}var l={};for(var n=0;n<y.length;n++){var T,K=y[n][1];
if(t=="SVG")T=new Uint8Array(X.V$(Y,K.r,K.$,z,this.n,n));else{var D=f.m(K.k()*4);console.log(L,K);f.wH(j,L,D,K);
T=new Uint8Array(X.V$([[D.buffer,0,Y.u3,Y.VN]],K.r,K.$,z))}l[y[n][0]+g]=T}x=UZIP.encode(l);Z=v+".zip"}var N=d&&d.target==this.yO,G=function(){if(Y.pM)dY._J("act=1&id="+Y.pM);
this.close();var g=b3.P0()[this.RY.j()];iP.event("efmt_"+g.toLowerCase(),.1);var Q=new eG(_.E.c,!0);
Q.data={R:_.Y.z9,data:x,name:Z};if(N){Q.data={R:_.Y.S8,cG:"storwindow",y1:1,jd:Z,fX:x}}this.J(Q)}.bind(this);
Y.Ia();if(!this.n.PS||iP.yU()){G();return}var s=li.x4()!=0;G();var Q=new eG(_.E.c,!0),q=f4.Rb("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),R=f4.Rb(";QJXQ_*II9"),m=function(){Q.data={R:_.Y.S8,cG:"account"};
this.J(Q)}.bind(this);if(s){q=f4.Rb("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
m=function(){};R=null}Q.data={R:_.Y.S8,cG:f4.N1,K:q,No:m,ay$:R};if(j8==0)if(Math.random()<.1||s)this.J(Q)};
hi.prototype.re=function(){this.CO.UA();this.CO.a(null);this.ZZ=null};hi.prototype.dn=function(d,v,t){if(v.Cm!=null)this.RY.a(v.Cm);
this.caller=t,d=t.c6();var h=d.name,X=h.lastIndexOf("."),h=X==-1?h:h.slice(0,X);this.fI.a(h);var g=d.r,x=d.$;
if(j8==1){var Z=d.e9();g=Z.r;x=Z.$}var Y=g+","+x;if(Y!=this.aIY){this.aIY=Y;this.Hw.a(new cK(g,x),d.u3)}this.DG.adQ();
this.lq(null,!0);if(v.aGF){this.Hw.xv(3);var a=this.DG.j();a.rall=!0;this.DG.a(a)}this.l0._.focus()};
hi.prototype.aK9=function(d,v){return d<v&&d<660};hi.prototype.M1=function(d,v){return this.aK9(d,v)?new cK(0,0):new cK(Math.max(0,Math.min(150,(d-770)/2)),Math.max(0,Math.min(150,(v-590)/2)))};
hi.prototype.K$=function(d,v,t){this.F0=d;this.uV=v;if(this.caller==null||this.caller.c6()==null)return;
var h=this.l0._,X=this.aK9(d,v),g,x,U="<span style=\"width:",l="display:inline-block; text-align:right;\">";
if(X){var Z=this.ee.getBoundingClientRect().height;g=d;x=v-Math.max(Z,252);u.Ag(this.body,"flexrow")}else{g=Math.min(512,d-195-2*13);
x=Math.min(512,v-24);u.M3(this.body,"flexrow")}var Y=X?d-2*13:195;this.ee.style.width=Y+"px";this.fI.JC.style.width=Y-78+"px";
this.Hw.K$(Y-1);this.l0._.style.width=Y-28+"px";this.yO._.style.marginRight="0";var a=b3.P0()[this.RY.j()],z=b3.bV(a);
if(z.e4||z.$T)u.i(this._q.firstChild,"display:block; width:"+g+"px; height:"+x+"px;");else{this.CO.K$(g,x);
this.NU.width=g;this.NU.height=x;this.bM.width=g;this.bM.height=x}if(this.ZZ==null)return;var p=this.ZZ.byteLength,L=U+64+"px;"+l+hi.Hb(p)+"</span>";
if(g>400)L+=U+90+"px; opacity:"+.5+";"+l+p.toLocaleString()+" B</span>";this.rB.innerHTML=L;if(t)setTimeout(function(){this.K$(this.F0,this.uV)}.bind(this),20)};
hi.Hb=function(d){var v=d.toString(2),t=0;while(t+10<v.length)t+=10;var h=(d/Math.pow(2,t)).toFixed(1);
if(h.endsWith(".0"))h=h.slice(0,-2);var X="B KB MB GB TB PB".split(" ")[Math.floor(t/10)];return h+" "+X};
hi.prototype.sq=function(d,v){this.n=d};hi.prototype.lq=async function(d,v){var t=this.caller.c6(),h=this.Hw.j(),X=h.x,g=h.y,x=this.RY.j(),Z=b3.P0()[x],Y=j8==2&&(Z!="PDF"&&Z!="PNG"),a=j8+Y,$="";
if(this.asy!=a){this.asy=a;var z=this.a36;u.Pl(z);if(j8<2)z.appendChild(this.Hw._);else{if(Y){z.appendChild(this.cA._);
z.appendChild(this.vw._)}else{z.appendChild(this.xP._);z.appendChild(this.nC._)}}}var p=b3.a2p(t)[0].length,l=["GIF","PNG","WEBP","MP4"].indexOf(Z)!=-1&&p>1;
if(l&&Z!="MP4"&&v&&(p>4&&X*g>1024*1024||X*g*p>800*800*50)){var L=1;while(Math.max(X>>>L,g>>>L)>800)L++;
var j=window.confirm("Your animation is large ("+X+" x "+g+" px). Press \"OK\" to scale it to "+(100>>>L)+"%. Press \"Cancel\" to keep the size.");
if(j){this.Hw.a(new cK(X>>>L,g>>>L),null,!0);X=X>>>L;g=g>>>L}}var O=t.yr();this.DG.W$(Z,l,t.Wc.length!=0,t.aMd(),O!=null&&t.depth!=32,t.gM.length!=0,t.depth);
var F=window.locStor.getItem("sfwPrms");if(F==null)F={};else{F=JSON.parse(F);if(F.MP4&&F.MP4.qual==100)F.MP4.qual=50}var i=this.DG.j();
if(d&&d.target==this.DG){F[Z]=i;window.locStor.setItem("sfwPrms",JSON.stringify(F))}else if(F[Z]){this.DG.a(F[Z]);
i=this.DG.j()}if(j8==2){i.srat=[8e3,16e3,22050,44100,48e3][this.cA.j()];i.ster=this.vw.j();i.wdth=this.xP.j()*72;
i.tabs=this.nC.j()}this.ZZ=await b3.vg(t,Z,X,g,i,this.n);if(this.ZZ==null){return}u.Pl(this._q);this.CO.UA();
var H=b3.bV(Z);if(H.$T){this._q.innerHTML="<div></div>"}else if(j8==2&&Z!="PNG"&&Z!="PDF"){var b=H.CE(this.ZZ),r=URL.createObjectURL(new Blob([b3.dy.V$(b)]));
this.bM.setAttribute("src",r);this._q.appendChild(this.bM)}else if(H.e4){var W=X,V=g,r;if(Z=="PDF"||Z=="AI"){r=URL.createObjectURL(new Blob([this.ZZ],{type:"application/pdf"}))}else{r=URL.createObjectURL(new Blob([this.ZZ],{type:"image/svg+xml"}))}this._q.innerHTML="<iframe src=\""+r+"\"></iframe>"}else if(Z=="MP4"){var r=URL.createObjectURL(new Blob([this.ZZ]));
this.NU.setAttribute("src",r);this._q.appendChild(this.NU)}else{var c=H.fd?await b3.a6t(H,this.ZZ):H.CE(this.ZZ),S=c[0],C=S._S,W=C.r,V=C.$;
if(S.depth!=null&&S.depth!=8)for(var n=0;n<c.length;n++){var K=c[n].depth==16?Uint16Array:Float32Array;
c[n].data=f.OO(new K(c[n].data),8).buffer;c[n].depth=8}if(S.jk){var b=ICC.R(S.jk.buffer),T=17,D=ICC.U.sampleLUT(b,T);
for(var n=0;n<c.length;n++){var N=new Uint8Array(c[n].data);ICC.U.applyLUT(D,T,N,N)}}this.CO.a(c,c.length>1?i[i.length-3]:0);
this._q.appendChild(this.CO._);$="background: rgba(0,0,0,0);"}u.i(this._q,"display:block; "+(H.$T?"background:rgba(0,0,0,0);":"background-size:"+16/u.LY()+"px;")+$);
this.K$(this.F0,this.uV,v)};function it(){et.call(this,[11,13],"shortcuts");this.n=null;var d=this.y_=u.q("div","scrollable");
u.i(d,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(d);this.gK()}it.prototype=new et;
it.prototype.H=function(){et.prototype.H.call(this);this.gK()};it.prototype.sq=function(d,v){this.n=d};
it.prototype.dn=function(d,v,t,h){if(u.al(this._))this.gK()};it.prototype.gK=function(){var d="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",v="",t=cQ,h=t.LE,X=t.cm,g=t.io;
v+="<h2 style=\"margin-top:0;\">Main Menu</h2>";v+=d;v+=this.FO([[0,0],"---",[1,0],[h,t.lK],[1,2],[h,t.AA],[1,3],[X,h,t.AA],[1,8],[g,X,h,t.AA],[0,1],"---",[2,0],[X,h,t.eG],[2,1],[h,t.eG],[5,0],[h,t.Hc],[5,1],[h,t.f9],[5,2],[h,t.n6],[2,2],"Delete",[2,3],[g,t.SY],[10,16],[g,h,t.nG],[12,79],[h,t.qB],[3],"---",[4,1],[h,t.f0],[4,2],[h,t.wr],[4,5],[h,t.Yu],[4,11],[h,t.Fc],[0,3],"---",[6,13],[X,h,t.OW],[6,49,0],[h,t.vq],[6,6,0],[g,h,t.sK],[6,9],[h,t.sK],[6,10],[h,t.E],[0,5],"---",[7,0],[h,t.Y],[7,1],[h,t.J4],[7,2],[X,h,t.Fc],[0,7],"---",[8,0],[h,t.P9],[8,1],[h,t.bJ],[8,3],[h,t.q2],[8,2],[h,t.Fr],[8,4],[h,t.ww],[11,13],"?"]);
v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";v+=d;v+=this.FO(["Vertical scroll","Wheel","Horizontal scroll",[h,"Wheel"],"Zooming",[g,"Wheel"]]);
v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
v+=d;v+=this.FO([[10,11],[h],[10,7],"Space",[10,17],[h,t.uh]]);v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
v+=d;var x=[],Z=this.n;if(Z==null)return;var Y=Z.B5;for(var n=0;n<Y.uJ.length;n++){var a=Y.uJ[n],z=Y.keys[n];
for(var p=0;p<a.length;p++)x.push(a[p].T.name,z?z.ze:null)}x=x.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[h,t.v_]]);
v+=this.FO(x);v+="</div>";this.y_.innerHTML=v};it.prototype.FO=function(d){var v="",t=!0;for(var n=0;
n<d.length;n+=2){var h=d[n],X=cQ.R3(d[n+1]);if(X==null){t=!1;continue}var g=u.NW(f7.get(h));if(X=="---"){if(!t)v+="<br/>";
v+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+g+"</div>"}else v+="<div>"+g+" <span style=\"float:right; font-weight:bold;\">"+X+"</span> </div>";
t=!1}return v};function hl(d){et.call(this,d?"Artboard Options":[8,11,1],(d?"a":"s")+"options");this.ZE=null;
this.a4p=d;var v=u.q("div","form");v.style.width="20em";this.body.appendChild(v);this.FJ={Nm:[12,48],url:"URL",null:[12,71]};
this.dQ={};for(var t in this.FJ){if(d&&t!="Nm")continue;var h=new eR(this.FJ[t],null,15);this.dQ[t]=h;
v.appendChild(h._)}this.axA=new i9([12,14,0]);v.appendChild(this.axA._);this.JE=new fN(0,!d);v.appendChild(this.JE._);
this.x5=u.a_(this,v)}hl.prototype=new et;hl.prototype.dn=function(d,v,t){var h=v.K;this.ZE=JSON.stringify(h);
console.log(h);if(h.l7){this.dQ.Nm.a(h.cF);var X=h.l7,g=X[0],x=X[1];this.JE.a([g,x,X[2]-g,X[3]-x])}else{for(var Z in this.FJ){this.dQ[Z].a(h[Z]?h[Z].v:"")}var Y=h.bounds.v,g=Y.Left.v,x=Y.Top.v;
this.JE.a([g,x,Y.Rght.v-g,Y.Btom.v-x])}};hl.prototype.rS=function(d){var v=JSON.parse(this.ZE),t=new eG(_.E.F,!0),h=this.JE.j(),X=h[0],g=h[1];
console.log(h);if(this.a4p){v.cF=this.dQ.Nm.j();v.l7=[X,g,X+h[2],g+h[3]];t.T=A.Ob;t.data={R:"rpl",K:v}}else{for(var x in this.FJ){var Z=this.dQ[x].j();
v[x]={t:"TEXT",v:Z}}var Y=v.bounds.v;Y.Left.v=X;Y.Top.v=g;Y.Rght.v=X+h[2];Y.Btom.v=g+h[3];t.T=A.sE;t.data=v}t.Mw=!0;
this.J(t);this.close()};hl.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.axA.H();
this.JE.H()};function g$(){et.call(this,[2,3],"fill");this.h8=null;var d=u.q("div","form padded");d.style.width="22em";
this.body.appendChild(d);this.pO="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.hr=new e8([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.hr.P(_.E.w,this.a4M,this);d.appendChild(this.hr._);this._q=u.q("span");d.appendChild(this._q);this.wo=new cX;
this.wo.parent=this;this.wo.Wi(0);this.ku=new cM;this.ku.parent=this;this.a5l=new e8([12,19,0],gL.GY,gL.F_);
d.appendChild(this.a5l._);this.yg=new bP([12,0],0,100,"%",0,!1);this.yg.a(100);d.appendChild(this.yg._);
this.Gt=new l8([13,5]);this.Gt.a(!1);d.appendChild(this.Gt._);this.x5=u.a_(this,this.body)}g$.prototype=new et;
g$.prototype.Hx=function(d,v){return d!=null};g$.prototype.Ht=function(){return!0};g$.prototype.a4M=function(){var d=this.hr.j(),v=this.wo._,t=this.ku._,h=this._q;
if(d==2)h.appendChild(v);else if(h.contains(v))h.removeChild(v);if(d==7)h.appendChild(t);else if(h.contains(t))h.removeChild(t)};
g$.prototype.H=function(){et.prototype.H.call(this);this.hr.H();this.a5l.H();this.yg.H();this.Gt.H();
this.x5.H()};g$.prototype.rS=function(d){if(!this.h8.fi())return;var v=new eG(_.E.U0,!0),t=this.hr.j();
v.data=A.mE.Ak(this.pO[t],gL.iX[this.a5l.j()],this.yg.j()/100,this.wo.j(),this.Gt.j(),this.ku.j());this.close();
this.J(v)};g$.prototype.dn=function(d,v){this.h8=d};g$.prototype.sq=function(d,v){if(v==lx.Np||v==lx.Nt){this.ku.eN(d.Da);
this.ku.a({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function hW(){et.call(this,[14,9],"stroke");this.n=null;this.ee=u.q("div","form");u.i(this.ee,"width:24em");
this.body.appendChild(this.ee);this.la=new bL("FrFX",!0);this.la.parent=this;var d=["Sz","Styl","Md","Opct"].concat(kV.o9);
for(var n=0;n<d.length;n++){var v=this.la.vE[d[n]]._;this.ee.appendChild(v)}this.VK=!1;this.x5=u.a_(this,this.body)}hW.prototype=new et;
hW.prototype.Hx=function(d,v){return d!=null};hW.prototype.Ht=function(){return!0};hW.prototype.H=function(){et.prototype.H.call(this);
this.x5.H();this.la.H()};hW.prototype.rS=function(d){var v=this.la.j(),t={classID:"Strk"};t.Md=v.Md;
t.Opct=v.Opct;t.Clr=v.Clr;t.Wdth={t:"long",v:v.Sz.v.val};var h=kV.stroke.types.indexOf(v.Styl.v.FStl);
t.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][h]}};var X=new eG(_.E.U0,!0);X.data={oN:"stroke",mQ:t};
this.close();this.J(X)};hW.prototype.dn=function(d,v){if(!this.VK){var t=kV.v0[kV.order.indexOf("FrFX")];
t=JSON.parse(t);this.la.update(d,t);this.VK=!0}var t=this.la.j(),h=this.n.Sw;t.Clr.v=f.iF.Zi({C:h>>16&255,L:h>>8&255,X:h&255});
this.la.update(d,t)};hW.prototype.sq=function(d,v){this.n=d};function f9(){et.call(this,[11,9],"textwarp");
this.dQ=new kQ;this.dQ.P(_.E.w,this.cV,this);this.dQ.parent=this;this.ee=u.q("div","form");u.i(this.ee,"width:20em");
this.body.appendChild(this.ee);this.ee.appendChild(this.dQ.Qf._);this.ee.appendChild(this.dQ.Xx._);this.ee.appendChild(this.dQ.TU._);
this.ee.appendChild(this.dQ.$V._);this.ee.appendChild(this.dQ.M7._);this.x5=u.a_(this,this.ee);this.P("closebtn",this.va,this)}f9.prototype=new et;
f9.prototype.Ht=function(){return!0};f9.prototype.H=function(){et.prototype.H.call(this);this.x5.H();
this.dQ.H()};f9.prototype.cV=function(d){var v=this.dQ.j();this.cv({R:"warp",kk:v})};f9.prototype.cv=function(d){var v=new eG(_.E.F,!0);
v.T=A.uW;v.data=d;v.Mw=!0;this.J(v)};f9.prototype.va=function(d){this.cv({R:"warpCancel"})};f9.prototype.rS=function(d){this.cv({R:"warpConfirm"});
this.close()};f9.prototype.dn=function(d,v){var t=d.U[d.l[0]];this.dQ.a(t.add.TySh.yv)};function bK(){et.call(this,[11,12,0],"trim");
var d=this.ee=u.q("div","form");u.i(this.ee,"width:22em");this.body.appendChild(this.ee);var v=new i9("Color To Trim:");
d.appendChild(v._);this.It=new eM(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.It.a([!0]);this.ee.appendChild(this.It._);var v=new i9("Sides:");d.appendChild(v._);this.dT=new eM(null,["Top","Left","Bottom","Right"]);
this.dT.a([!0,!0,!0,!0]);this.ee.appendChild(this.dT._);this.x5=u.a_(this,this.body)}bK.prototype=new et;
bK.prototype.Hx=function(d,v){return d!=null};bK.prototype.Ht=function(){return!0};bK.prototype.H=function(){et.prototype.H.call(this);
this.It.H();this.dT.H();this.x5.H()};bK.prototype.rS=function(d){var v=this.It.j().indexOf(!0),t=this.dT.j(),h=new eG(_.E.U0,!0);
h.data=A.Fv.dm(v,t);this.close();this.J(h)};function gY(){et.call(this,"Raw Photopea","rawpea");this.FM=null;
this.body.style.padding="0";var d=this.aq=new ds["Adobe Camera Raw Filter"](!0),v="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(d._);this.Xl=new e8("Space",hc.cB);this.nX=new e8(null,["8 bit","16 bit","32 bit"]);
this.apH=new lt([1,0],!0,null,!0);this.apH.P("click",this.rS,this);this.BM=new lt(v+" JPG",!0,null,!0);
this.BM.P("click",this.ao7,this);d.p9(this.Xl._);d.p9(this.nX._);d.p9(this.apH._);d.p9(this.BM._)}gY.prototype=new et;
gY.prototype.M1=function(){return new cK(0,0)};gY.prototype.K$=function(d,v){this.aq.K$(d,v)};gY.prototype.sq=function(d,v){this.aq.sq(d,v)};
gY.prototype.H=function(){et.prototype.H.call(this);this.aq.H()};gY.prototype.ao7=function(d){var v=this.aq.alq(0,8),t=v[1],h=b3.bV("JPG").V$([[v[0].buffer]],t.r,t.$,[85]),X=new eG(_.E.c,!0);
X.data={R:_.Y.z9,data:h,name:"photo.jpg"};this.J(X)};gY.prototype.rS=function(d){var v=this.FM,t=8<<this.nX.j(),h=this.Xl.j(),X=gr.L6(v),g=this.aq.alq(h,t),x=g[1],v={_S:x,data:g[0].buffer,VN:X,depth:t},Z=b3.Kv("Raw Photo",[v]);
if(h!=0)Z.m3(b3.qk.get(hc.IL[h]));var Y=new eG(_.E.c,!0);Y.data={R:_.Y.cJ,Vr:Z};this.J(Y);this.nf();
this.close()};gY.prototype.nf=function(){this.FM=null;this.aq.anB()};gY.prototype.dn=function(d,v,t,h){this.FM=v.MP;
this.aq.aJx(v.MP)};gY.prototype.YF=function(d){return!0};gY.prototype.M6=function(d,v,t,h){et.prototype.M6.call(this,d,v,t,h);
this.aq.M6(h)};function j1(d){et.call(this,d?[11,11,0]:[11,11,1],d?"vbitmap":"rcolors");this.di=null;
this.oK=null;this.a04=null;this.Gr=null;this.AL=null;this.a1J=null;this.Vr=null;this.n=null;this.Ut="";
this.Td=d;this.FF=this.Yc.bind(this);this.aCv=!1;this.body.style.padding="0";this.ee=u.q("div","form hbar padded");
this.body.appendChild(this.ee);this.g5=new eM(null,["Fill","Stroke","Labels"]);this.g5.P(_.E.w,this.Yc,this);
var v=u.q("span","rangecontFloat form padded"),Y=16;v.appendChild(this.g5._);u.i(v,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var t=new hm;t._=v;var h=this.sx={cnum:new eh([12,82],2,50,null),ctab:new e_,nois:new l8([12,81]),mode:new e8(null,["Cartoon","Photo"]),segm:new l8("Segmentize"),cbok:new l8("Coloring book"),poly:new l8("Polygon"),merg:new l8("Merge colors"),polE:new eh("Roughness",2,30,null),dthr:new l8([12,23,3]),vprm:new lt("\u2026",!1,null,!0),ok:u.a_(this,null,!1)},X=this;
for(var g in h){var x=h[g];x.parent=this;if(g=="ok"){}else if(g=="vprm"){x.P("click",function(z){var p=h.vprm._.getBoundingClientRect(),U=new eG(_.E.c,!0);
U.data={R:_.Y.Vw,UZ:t,x:p.left,y:p.top+20};X.J(U)})}else x.P(_.E.w,this.Yc,this)}var Z=this.$K=u.q("div","flexrow");
this.body.appendChild(Z);u.i(Z,"background-color:var(--bg-canvas)");this.Ov=new kR;this.Ov.P("viewchange",this.UU,this);
this.RH=new kR;this.$D=u.q("canvas");u.i(this.$D,"margin:0 0 0 1px; padding:0; cursor:grab;");this.fy=this.$D.getContext("2d");
var a=f.m(16*16*4);f.L1(a,Y,Y,8);this.xp=f.scale.og(a,Y,Y);this.Ov.a9O(this.$D);this.Ov.IE(this.RH);
this.RH.IE(this.Ov);Z.appendChild(this.Ov._);if(d)Z.appendChild(this.$D);else Z.appendChild(this.RH._)}j1.prototype=new et;
j1.prototype.M1=function(){return new cK(0,0)};j1.prototype.Ht=function(){return!0};j1.prototype.K$=function(d,v){this.F0=d;
this.uV=v;v=v-44;if(d<600)v-=29;if(this.di==null)return;var t=this.di._S,h=a3.Ub(d,v,t.r,t.$);if(h==1)v-=3;
if(h==0){d=Math.floor(d/2);u.M3(this.$K,"flexrow")}else{v=Math.floor(v/2);u.Ag(this.$K,"flexrow")}u.Zw(this.$D,d,v);
this.Ov.K$(d,v);if(this.Td)this.UU();else this.RH.K$(d,v)};j1.prototype.M6=function(d,v,t,h){this.Ov.M6(h)};
j1.prototype.H=function(){et.prototype.H.call(this);for(var d in this.sx)this.sx[d].H()};j1.prototype.dn=function(d,v){this.Vr=d;
this.AL=null;var t=d.U[d.l[0]];if(j8==1){var h=t.add.SoLd,X=h.Idnt.v,g=d.Cq(X,h.Crop?h.Crop.v:null);
t={buffer:g.Rc[0],S:g.Rc[1]}}var x=f.Db.amA(t.buffer.buffer,t.S.r,t.S.$).aLT,Z=x/((t.S.r-2)*(t.S.$-2)),Y=this.sx;
Y.cnum.a(20);Y.nois.a(Z<.75);Y.mode.a(Z<.75?1:0);Y.segm.a(!1);Y.cbok.a(!1);Y.poly.a(!1);Y.merg.a(!0);
Y.polE.a(1);Y.dthr.a(!1);var a=t.S.b();a.x=a.y=0;this.di={_S:a,data:t.buffer.buffer.slice(0)};this.oK=null;
this.K$(this.F0,this.uV);this.Ov.a([this.di]);this.Ov.JZ();this.aCv=!0;this.g5.a([!0,!1,!1]);setTimeout(this.FF,20)};
j1.prototype.Yc=function(d){var v=!0,t=Date.now(),h=this.di,X=this.sx,g=X.cnum.j(),x=X.nois.j(),Z=X.mode.j(),Y=X.segm.j(),a=X.cbok.j(),z=X.poly.j(),p=X.merg.j(),U=X.polE.j(),S=null;
if(Z==0)Y=z=a=!1;var l=X.dthr.j(),L=["cnum","mode","ctab","nois"];if(Z==1){L.push("cbok");if(this.Td){L.push("poly");
if(z)L.push("polE");L.push("vprm")}}if(this.Td)L.push("merg");else L.push("dthr");L.push("ok");u.Pl(this.ee);
for(var n=0;n<L.length;n++)this.ee.appendChild(X[L[n]]._);if(v)console.log("---------------------------------------");
var j=x||Y,O=x+","+Y;if(j&&(this.oK==null||this.Ut!=O)){this.Ut=O;var F=new Uint8Array(h.data),i=h._S.r,$=h._S.$;
if(x){if(this.AL==null){this.AL=F.slice(0);f.lD.q0=35;f.lD.Ba(this.AL,this.AL,i,$,15,1);if(v){console.log("denoise",Date.now()-t);
t=Date.now()}}F=this.AL.slice(0)}else F=F.slice(0);if(Y){var H=f.Db.ZV(F,i,$,40,10),b=H.qB,r=new Uint8Array(b*4);
for(var n=0;n<b;n++){var W=n*4,V=n*6,y=1/H.YZ[V+5];r[W]=H.YZ[V]*y;r[W+1]=H.YZ[V+1]*y;r[W+2]=H.YZ[V+2]*y}for(var n=0;
n<F.length;n+=4){var c=H.Bm[n>>>2]*4;F[n]=r[c];F[n+1]=r[c+1];F[n+2]=r[c+2]}if(v){console.log("segm",Date.now()-t);
t=Date.now()}}this.oK={_S:h._S.b(),data:F.buffer}}if(j)h=this.oK;var F=new Uint8Array(h.data),i=h._S.r,$=h._S.$;
for(var n=0;n<F.length;n+=4){if(F[n+3]<10)F[n]=F[n+1]=F[n+2]=F[n+3]=0}if(d==null||d.target==this.sx.cnum||d.target==this.sx.mode){if(Z==0){S=f.Db.ana(F,i,$,g,j?.1:2e-4);
S.S1=fH.alg(S.S1);if(v){console.log("quantize",Date.now()-t);t=Date.now()}}if(Z!=0||S&&S.S1.length<2){S=fH.az0(F.buffer,g,i,$)}this.sx.ctab.a(S.S1)}else{var r=this.sx.ctab.j(),c=f.m(i*$);
UPNG.encode.dither(F,i,$,fH.qs(r),F.slice(0),c,0);S={Bm:c,S1:r};this.sx.cnum.a(r.length)}if(a){var r=new Uint32Array(fH.qs(S.S1));
S.Bm=f.aHo(F,i,$,new Uint8Array(r.buffer))}if(this.Td){var C=S.Bm.slice(0);for(var n=0;n<C.length;n++)C[n]++;
this.mA=f.Db.a8o(S.Bm,i,$);var K=new Uint8Array((i+2)*($+2));f.Qb(C,new iW(1,1,i,$),K,new iW(0,0,i+2,$+2));
var T=Math.max(i,$)<=32;if(!z&&!T){var D=Math.round((i+2)*($+2)/1e4),N=bJ.h7(K.slice(0),i+2,$+2,Math.min(12,D)),G=bJ.V9(N);
if(v){console.log("trace smooth",Date.now()-t);t=Date.now()}}else{var G=f.Q.et(K,i+2,$+2,T?1:U,v)}var s=G.length,Q=new gi(1,0,0,1,-1,-1);
for(var n=0;n<s;n++)f.Q.M(G[n].path.I,Q,G[n].path.I);this.Gr=G;for(var n=0;n<s;n++){var q=G[n];if(S.S1[q.color-1][1].aX>10)continue;
var R=q.parent;while(R!=-1){var m=G[R];R=m.parent;if(S.S1[m.color-1][1].aX<10)break;f.Q.concat(m.path,f.Q.reverse(q.path))}}if(v){console.log("finding holes",Date.now()-t);
t=Date.now()}for(var n=0;n<G.length;n++){var E=G[n];if(E.parent!=-1){var e=G[E.parent];E.parent=e;if(e.EW==null)e.EW=[];
e.EW.push(E)}E.depth=E.parent==-1?0:E.parent.depth+1}if(p){function w(hn,I){var dF={},c3=0,i8=0;for(var n=0;
n<hn.length;n++){var o=hn[n].color,dr="c"+o;if(o==I)throw o;if(dF[dr]==null)dF[dr]=0;dF[dr]++;if(dF[dr]>c3){c3=dF[dr];
i8=o}}return i8}var M=[],P=[],I=-1,k=!0;for(var n=0;n<G.length;n++)if(G[n].parent==-1)P.push(G[n]);while(P.length!=0){var o=w(P,I);
I=o;for(var n=0;n<P.length;n++)if(P[n].color==o){var af=P[n];M.push(af);P.splice(n,1);n--;if(af.EW)for(var J=0;
J<af.EW.length;J++){P.push(af.EW[J]);if(af.EW[J].color!=o)k=!1}}}if(k)G=M;else{var at=[];for(var ke=0;
ke<500;ke++){var c_=[],N=at[ke-1];at.push(c_);for(var n=0;n<G.length;n++){var E=G[n],e=E.parent;if(ke==0&&e==-1||ke!=0&&N.indexOf(e)!=-1){c_.push(E);
G.splice(n,1);n--}}c_.sort(function(hn,dF){return hn.color-dF.color});if(G.length==0)break}for(var n=0;
n<at.length;n++)G=G.concat(at[n])}}else{var M=[],ag=[];while(G.length!=0){ag.push(G.shift());while(ag.length!=0){var dz=ag.pop();
M.push(dz);if(dz.EW)for(var n=0;n<dz.EW.length;n++){var E=dz.EW[n];G.splice(G.indexOf(E),1);ag.push(E)}}}G=M}this.Gr=G;
for(var n=0;n<G.length;n++){var q=G[n],kL=S.S1[q.color-1][1];if(kL.aX<=10){G.splice(n,1);n--;continue}}for(var n=1;
n<G.length;n++){var aq=G[n-1],q=G[n];if(aq.color==q.color&&(p||aq.parent==q.parent&&aq.depth>=2)){f.Q.concat(aq.path,q.path);
G.splice(n,1);n--;continue}}if(v){console.log("reordering layers",Date.now()-t,s,G.length);t=Date.now()}this.a04=S;
this.UU()}else{var dh=new Uint32Array(i*$),gK=i*$,ad=this.a1J=new Uint8Array(dh.buffer),dc=new Uint32Array(fH.qs(S.S1));
if(l){var lq=new Uint8Array(h.data).slice(0);f.Jm(lq);f.Jm(new Uint8Array(dc.buffer));UPNG.encode.dither(lq,i,$,dc,ad,f.m(i*$));
f.aCd(ad)}else{for(var n=0;n<gK;n++)dh[n]=dc[S.Bm[n]]}this.RH.a([{_S:h._S,data:dh.buffer}]);if(this.aCv){this.RH.JZ();
this.aCv=!1}}};j1.prototype.UU=function(d){if(this.Gr==null)return;var v=this.g5.j(),t=this.di._S.r,h=this.di._S.$,X=this.Gr,g=this.$D,x=this.fy,Z=this.Ov.$I(),a="rgba(0,0,0,0.3)";
x.setTransform(1,0,0,1,0,0);x.clearRect(0,0,g.width,g.height);x.translate(g.width/2,g.height/2);x.scale(Z.OI,Z.OI);
x.translate(Z.h.x/Z.OI-t/2,Z.h.y/Z.OI-h/2);x.scale(1/Z.OI,1/Z.OI);x.fillStyle=this.xp;x.fillRect(0,0,t*Z.OI,h*Z.OI);
x.scale(Z.OI,Z.OI);x.lineWidth=(t+h)*5e-4;var Y=this.tk();x.strokeStyle=a;for(var z=0;z<2;z++){if(!v[z])continue;
for(var n=0;n<X.length;n++){var p=X[n],U=Y[p.color-1];if(U.aX==0)continue;x.fillStyle=U.Xn;x.beginPath();
Typr.U.pathToContext({crds:p.path.I,cmds:p.path.s2},x);if(z==0)x.fill();else x.stroke()}}if(v[2])this.a3i(x,t,h)};
j1.prototype.tk=function(){var d=this.a04.S1,v=[];for(var n=0;n<d.length;n++){var t=d[n][1];t.Xn="rgba("+t.C+","+t.L+","+t.X+","+t.aX/255+")";
v.push(t)}return v};j1.prototype.a3i=function(d,v,t){var h=this.tk(),X=this.amW(v,t,h);function g(a,z,p,U){d.font=U+"px sans-serif";
a++;var l=d.measureText(a);d.fillText(a,z-l.width/2,p+U*.25)}d.fillStyle="rgba(0,0,0,0.5)";var x=this.mA;
for(var n=0;n<x.length;n++){var Z=x[n];if(Z[3]<v*t*5e-4)continue;g(Z[2],Z[0],Z[1],(v+t)*.008)}d.fillStyle="rgba(255,255,255,1)";
d.fillRect(0,0,X,X*h.length);for(var n=0;n<h.length;n++){var Y=h[n];d.fillStyle=Y.Xn;d.fillRect(X,X*n,X,X);
d.fillStyle="black";g(n,X*.5,X*(n+.5),X*.65)}};j1.prototype.amW=function(d,v,t){var h=t.length*(d+v)/70;
return Math.min(v,h)/t.length};j1.prototype.rS=function(d){var v=this.Vr,t=v.l[0],h=v.U[t],X=new eG(_.E.F,!0);
X.Mw=!0;X.T=A.EM;var g=this.n.FP,x=this;if(this.Td){var Z=this.tk(),z=0,U=!1;function Y(i,b){var r=v.vv();
r.JS=b.aX;r.Xw|=16;r.add.vmsk=new jn.rz;r.add.vmsk.D=i;r.bB();r.add.vstk=kV.UY.yu(!0);if(j8==0){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi(b)}};
r.tG(v)}else{r.add.vstl=kV.J1.yu();r.add.vstl.W4=[b.C/255,b.L/255,b.X/255];r.add.vstl.rA=[]}return r}var a=this.g5.j();
for(var n=0;n<3;n++)if(a[n])z++;if(z==0){alert("Enable Fill, Stroke or Labels");return}var p=this.Gr;
if(z==1&&a[0]&&p.length==1)U=!0;var l=v.U.slice(0,t);if(!U)l.push(v.Rw());var L=new gi(1,0,0,1,h.S.x,h.S.y);
if(j8==1){var j=h.add.SoLd,O=j.Idnt.v,F=v.Cq(O,j.Crop?j.Crop.v:null),i=A.hZ.Q9(j.nonAffineTransform),$=f.G.ms(i,F.Rc[1]);
L=f.G.B0($)}for(var n=0;n<p.length;n++)f.Q.M(p[n].path.I,L,p[n].path.I);if(a[0])for(var n=0;n<p.length;
n++){var H=p[n],b=Z[H.color-1],r=Y(f.Q.Q$(H.path,!1),b);r.qv("Path "+n);l.push(r)}if(a[1]){var r=v.vv();
r.qv("Stroke");l.push(r);r.JS=128;r.Xw|=16;r.add.vmsk=new jn.rz;r.add.vstk=kV.UY.yu(!1,!0);var i=[];
for(var n=0;n<p.length;n++){var H=p[n],W=f.Q.Q$(H.path,!1);if(n==0)i=W;else i=i.concat(W.slice(2))}r.add.vmsk.D=i;
r.bB();if(j8==0){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.iF.Zi({C:0,L:0,X:0})}};r.tG(v)}else{r.add.vstl=kV.J1.yu();
r.add.vstl.W4=[]}}if(a[2]){var V=this.di._S,y=V.r,c=V.$,S=this.amW(y,c,Z);l.push(v.Rw());function C(Q,q,R,m,E){if(E){var e=L._V(new cK(q,R));
q=e.x;R=e.y}Q=1+Q+"";var r=v.vv();l.push(r);r.JS=m;r.add.lnsr="rend";var w=r.add.TySh=jM.de(q-S*.2,R+S*.25),M=r.add.TySh.Oo,P=jM.Sj(M,0,0);
P.Uy.FontSize=Math.round(S*.6);jM.yx(M,0,0,P);jM.Uh(M,0,Q);r.JB();if(ka.Ns(w,g,x)){ka.Vs(r,g,v);v.uM()}}var K=this.mA;
for(var n=0;n<K.length;n++){var T=K[n];if(T[3]<y*c*5e-4)continue;C(T[2],T[0],T[1],128,L)}var r=Y(f.t.I7.Rect(0,0,S,S*Z.length),{C:255,L:255,X:255,aX:255});
r.qv("white");l.push(r);for(var n=0;n<Z.length;n++){var b=Z[n],r=Y(f.t.I7.Rect(S,S*n,S,S),b);r.qv("color");
l.push(r);C(n,S/2,S*(n+.5),255)}var r=v.vv();r.qv("Labels");r.add.lsct=f$.wM;r.uF="pass";r.Xw=24;l.push(r)}var D=l[l.length-1];
if(!U){var r=v.vv();r.qv(h.getName());r.add.lsct=f$.fG;r.uF="pass";r.Xw=24;l.push(r);D=r}var N=h.add.lmfx;
if(N)D.add.lmfx=f.v(N);var s=l.length;for(var n=t+1;n<v.U.length;n++)l.push(v.U[n]);X.data={R:jn.Zv,zA:l,QK:[s-1],qq:[11,11,0]}}else{var l=v.U.slice(0),r=v.vv();
r.qv(h.getName());l.splice(v.l[0]+1,0,r);r.S=h.S.b();r.buffer=this.a1J;r.uM();X.data={R:jn.Zv,zA:l,QK:[v.l[0]+1],qq:[11,11,1]}}this.J(X);
this.close();v.Um=!0};j1.prototype.sq=function(d,v){this.n=d;this.sx.ctab.sq(d,v)};function a3(d){et.call(this,[[7,11],[7,13]][d],["redge","magiccut"][d]);
this.It=d;this.di={};this.N6=null;this.n=null;this.Vr=null;this.A8=null;this.NT=null;this.body.style.padding="0";
this.XL=[];this.M4=-1;this.ee=u.q("div","form hbar padded");this.body.appendChild(this.ee);this.VS=new eb;
this.VS.parent=this;this.VS.P(_.E.w,this.tv,this);this.ee.appendChild(this.VS._);var v=d==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
v=v.concat("tools/hand","zoomIn","zoomOut");var t=d==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Yr=new kC(null,v,t,28);this.Yr.P(_.E.w,this.M6,this);this.ee.appendChild(this.Yr._);this.rk=new eh([7,9],0,50,null);
this.rk.parent=this;this.rk.P(_.E.w,[this.agy,this.Yc][d],this);this.ee.appendChild(this.rk._);var h=this.awJ=new lt([2,2],!1,null,!0);
h.P("click",this.nf,this);this.ee.appendChild(h._);var X=this.sF=u.q("span","form");this.ee.appendChild(X);
var g=this.aCH=new lt([12,90],!1,null,!0);g.P("click",function(Y){alert(d==0?f7.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
X.appendChild(g._);var x=new lt("Tutorial",!1,null,!0);x.P("click",this.aof,this);X.appendChild(x._);
this.$k=new kC([12,46],["checker","#ffffff","#000000"]);this.$k.P(_.E.w,this.a6x,this);X.appendChild(this.$k._);
this.aC6=new e8(null,[[6,13],[6,2],[17,2]]);X.appendChild(this.aC6._);this.x5=u.a_(this,X,!1);var Z=this.$K=u.q("div","flexrow");
this.body.appendChild(Z);this.q6=new kR(!0);this.OR=new kR;this.q6.IE(this.OR);this.OR.IE(this.q6);this.q6.P("mousedown",this.KT,this);
this.q6.P("mousemove",this.Lg,this);this.q6.P("mouseup",this.qz,this);this.q6.P("zoom",this.tv,this);
this.OR.P("zoom",this.tv,this);Z.appendChild(this.q6._);Z.appendChild(this.OR._)}a3.prototype=new et;
a3.prototype.Hx=function(d,v){var t=d!=null&&!d.U[d.l[0]].S.HP();if(!t)alert("The layer is empty.");
return t};a3.prototype.M1=function(){return new cK(0,0)};a3.prototype.Ht=function(){return!0};a3.prototype.K$=function(d,v){this.F0=d;
this.uV=v;v=v-12-33;if(d<900){u.i(this.sF,"display:block;  text-align:right;");v-=29}else{u.i(this.sF,"position:absolute;  right:0px")}this.$k.Ge(d<440?null:[12,46]);
this.rk.Ge(d<470?null:[7,9]);var t=this.di.S;if(t){var h=a3.Ub(d,v,t.r,t.$);if(h==0){d=Math.floor(d/2);
u.M3(this.$K,"flexrow")}else{v=Math.floor(v/2);u.Ag(this.$K,"flexrow")}this.q6.K$(d,v);this.OR.K$(d,v)}};
a3.Ub=function(d,v,t,h){var X=d/2,g=v/2,x=Math.min(X/t,v/h),Z=Math.min(d/t,g/h);return x>Z?0:1};a3.prototype.H=function(){et.prototype.H.call(this);
this.VS.H();this.rk.H();this.x5.H();this.$k.H();this.aC6.H();this.awJ.H();this.aCH.H()};a3.prototype.aof=function(d){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.It],"_blank")};
a3.prototype.sq=function(d,v){this.n=d;if(v==lx.nj||v==lx.Np){this.VS.eN(d.LG);this.VS.a(ip.kf(),d.LG.Qt,d.LG.ku)}};
a3.prototype.M6=function(d,v,t,h){var X=this.Yr.j();if(h==null){this.q6.M6(kR.bD(X-3));return}this.A8=h;
var g=A.mE.PZ(this.VS.j(),h);if(g!=null){this.VS.a(g);this.tv()}else if(h.A(cQ.LE)&&h.A(cQ.eG)){var x=this.XL,Z=0;
if(h.A(cQ.cm)){if(this.M4+1<x.length)Z=1}else if(this.M4>0)Z=-1;if(Z!=0){this.M4+=Z;var Y=this.M4,a=this.di;
if(Z==1)f.wH(x[Y][2],x[Y][0],a.HY,a.S);else f.wH(x[Y+1][1],x[Y+1][0],a.HY,a.S);a.Xf=a.S;this.Yc()}}else if(X<3)this.q6.M6(h)};
a3.prototype.AS=function(d){var v=this.di,t=this.XL,h=f.m(d.k()*4);f.wH(v.Vi,v.S,h,d);v.Vi=null;var X=f.m(d.k()*4);
f.wH(v.HY,v.S,X,d);this.M4++;t[this.M4]=[d.b(),h,X];while(t.length>this.M4+1)t.pop();while(t.length>50){t=t.slice(1);
this.M4--}};a3.prototype.tv=function(){var d=this.n,v=hv.FR(this.VS.j(),d.LG.Qt,this.q6.$I().OI);this.q6.a$(v)};
a3.prototype.KT=function(d){var v=this.n,t=this.di,h=this.A8,X=this.VS.j(),g=this.q6.z0(),x=[16777215,8421504,0][this.Yr.j()];
this.N6=new hv(X,v.LG.Qt,v.LG.ku,{oF:1,Uo:!0},x,v.dL,t.S);t.Vi=t.HY.slice(0);if(h!=null&&h.A(cQ.cm)&&this.NT){this.N6.moveTo(this.NT.x,this.NT.y);
this.N6.lineTo(g.x,g.y)}else this.N6.moveTo(g.x,g.y);this.aCz()};a3.prototype.Lg=function(d){var v=this.di,t=this.q6.z0();
this.N6.lineTo(t.x,t.y);this.aCz()};a3.prototype.qz=function(d){this.NT=this.q6.z0();this.AS(this.N6.WM());
this.Yc()};a3.prototype.aCz=function(){var d=this.di,v=this.N6,t=v.iS();if(t.HP())return;d.Xf=t;f.V.Qe("norm",v.Ll(),v.pT(),d.HY,d.S,t,1);
this.abM()};a3.prototype.nf=function(d){var v=this.di;v.Vi=v.HY.slice(0);v.Xf=v.S;f.pl(v.HY,[4278190080,4292730333][this.It]);
this.AS(v.S);this.Yc()};a3.prototype.dn=function(d,v){this.Vr=d;var t=d.U[d.l[0]],h=t.S.b(),X=h.r,g=h.$,Y;
this.rk.a(this.It==0?3:X*g<3e6?3:0);this.Yr.a(d.p==null?0:1);this.rk.$A();if(this.It==0&&d.p!=null||this.It==1)this.rk.Wu();
var x=this.It,Z=f.m(h.k());if(x==0&&d.p){f.Qb(d.p.N,d.p.S,Z,h);var a=f.m(h.k());for(var z=0;z<g;z++)for(var p=0;
p<X;p++){var n=z*X+p,U=Z[n];if(p>0&&Z[n-1]!=U||p<X-1&&Z[n+1]!=U||z>0&&Z[n-X]!=U||z<g-1&&Z[n+X]!=U)a[n]=255}Y=f.style.wW(a,X,g)}else{Y=new Float32Array(h.k());
Y.fill(1e9)}h.x=h.y=0;this.di={S:h,sN:f.OO(t.buffer,8),B2:Z,jM:Y,axc:f.m(h.k()*4),aMq:f.m(h.k()*4),HY:f.m(h.k()*4),Vi:null,xN:null,Xf:h,afp:{}};
if(x==0)this.agy();else{this.di.afp=A.dR.apu(d);var l=this.di.HY;f.pl(l,4287137928);var L=f.em.getSelection(f.OO(t.buffer,8),X,g),j=Math.round(X/60),O=Math.round(.7*g);
for(var z=0;z<g;z++)for(var p=0;p<X;p++){var F=(z*X+p)*4,i=L[F>>>2];i=i>128?255:128;if(z<j||z<O&&(p<j||p>X-1-j))i=0;
l[F]=l[F+1]=l[F+2]=i}this.Yc()}this.XL=[1];this.M4=0;var $=this.VS.j();$.Brsh.v.Dmtr.v.val=Math.round(h.r/(x==0?10:20));
this.VS.a($);this.tv();this.K$(this.F0,this.uV);this.q6.JZ()};a3.prototype.agy=function(){var d=this.di,v=d.S.k(),t=this.rk.j(),h=d.B2.slice(0);
for(var n=0;n<v;n++)if(d.jM[n]<t)h[n]=128;d.HY.fill(255);f.Gj(h,d.HY,0);f.Gj(h,d.HY,1);f.Gj(h,d.HY,2);
d.Xf=d.S;this.Yc()};a3.prototype.Yc=function(){var d=this.di,X,Z,Y=0,a=0,z=0;this.abM();var v=d.S,t=v.r,h=v.$,g=f.m(v.k()),x=d.sN;
f.Po(d.HY,g,0);for(var n=0;n<g.length;n++){if(x[(n<<2)+3]!=255)continue;var p=g[n];if(p==0)Y++;else if(p==255)a++;
else z++}if(Y*a*z!=0){if(this.It==0)Z=f.rt.rt(v,x,g);else{var U=this.Yr.j();for(var l=1;l<h;l++)for(var L=1;
L<t;L++){var n=l*t+L,j=g[n],O=g[n-1];if(j==0&&O==255||j==255&&O==0){X="The Red and Green should never touch! Erase it with Grey.";
break}}var F=Date.now(),i=this.di.afp;f.Hy(g,i.rR);A.dR.Nh(i,!0,this.Vr);var $=Math.ceil(this.rk.j()/2);
if($==0){Z=x.slice(0);f.Gj(i.p,Z,3)}else{var H=i.p.slice(0),b=i.p.slice(0);for(var r=0;r<$;r++){for(var l=1;
l<h-1;l++)for(var L=1;L<t-1;L++){var n=l*v.r+L,W=H[n];if(H[n-t]!=W||H[n-1]!=W||H[n+1]!=W||H[n+t]!=W)b[n]=128;
else b[n]=W}var V=H;H=b;b=V}for(var l=0;l<h;l++)for(var L=0;L<t;L++){var n=l*t+L;if(g[n]==0||g[n]==255)H[n]=g[n]}Z=f.rt.rt(v,x,H,20,!1)}}}else{Z=x.slice(0);
f.Gj(g,Z,3)}for(var n=3;n<Z.length;n+=4)if(Z[n]>x[n])Z[n]=x[n];if(v.fE(d.S))d.xN=Z;else f.wH(Z,v,d.xN,d.S);
this.a6x();if(X)alert(X,4e3)};a3.prototype.abM=function(d){var v=this.di,t=v.Xf;f.wH(v.sN,v.S,v.axc,v.S,t,!0);
var h=v.HY,X=v.S,g=Date.now();if(this.It==1){var x=new Uint32Array(256);x[0]=4278190335;x[255]=4278255360;
var Z=f.m(t.k()*4),Y=t.k();f.wH(h,X,Z,t);h=Z;X=t;var a=new Uint32Array(h.buffer);for(var n=0;n<Y;n++)a[n]=x[a[n]&255]}console.log(Date.now()-g);
f.V.Qe("norm",h,X,v.axc,v.S,t,.3);this.q6.a([{_S:v.S,data:v.axc.buffer}],null,null,t)};a3.prototype.a6x=function(d){var v=this.di;
f.pl(v.aMq,[0,4294967295,4278190080][this.$k.j()]);f.V.Qe("norm",v.xN,v.S,v.aMq,v.S,v.S,1);this.OR.a([{_S:v.S,data:v.aMq.buffer}])};
a3.prototype.rS=function(d){var v=this.Vr,t=this.di,h=this.aC6.j(),X=v.U[v.l[0]],g=new eG(_.E.F,!0);
g.Mw=!0;var x=X.S.b();if(h==0&&X.ZC()||h!=0&&!X.ZC()){g.T=A.EM;g.data={R:jn.kJ,B:v.l[0]};this.J(g)}if(v.p!=null){g.T=A.Nf;
g.data={R:"fromAction",VV:A.Oe.qJ()};this.J(g)}if(h==0){var Z=v.U.slice(0),Y=v.vv();Y.qv(X.getName());
Z.splice(v.l[0]+1,0,Y);Y.S=x;Y.buffer=f.OO(t.xN,v.depth);Y.uM();g.T=A.EM;g.data={R:jn.Zv,zA:Z,QK:[v.l[0]+1],qq:[7,11]};
this.J(g)}if(h==1){var a=X._B();g.T=A.EM;g.data={R:jn.ks,agb:!0};this.J(g);var z=X._B();z.N=f.m(x.k());
z.S=x;z.color=0;z.vF=!0;f.Po(t.xN,z.N,3);z.N=f.OO(z.N,v.depth);if(a){var p=z.Sn(a);z.S=p.S;z.N=p.N;z.color=p.color}z.s4();
X.tG(v)}if(h==2){var U={S:x,N:f.m(x.k())};f.Po(t.xN,U.N,3);U.N=f.OO(U.N,v.depth);g.T=A.Nf;g.data={R:"setsel",p:U,qq:this.ML};
this.J(g)}this.close()};function dn(){et.call(this,[1,13],"locstor");this.n=null;this.DA=[];var d=this.body,v=u.q("p");
v.textContent="These files are loaded every time you start Photopea.";d.appendChild(v);this.arT=0;this.ar8=u.q("span");
d.appendChild(this.ar8);u.i(this.ar8,"display:inline-block;  width:12em;  font-weight:bold;");var t=u.q("span","form");
d.appendChild(t);this.LQ=new lt([5,4],!1,null,!0);this.LQ.P("click",this.Mt,this);t.appendChild(this.LQ._);
this.kG=new lt("Get all as ZIP",!1,null,!0);this.kG.P("click",this.VI,this);t.appendChild(this.kG._);
this.HT=new c0(!0);this.HT.parent=this;this.HT.Fj(1);d.appendChild(this.HT._);u.i(this.HT._,"width: 40em; height: 25em")}dn.prototype=new et;
dn.prototype.H=function(){et.prototype.H.call(this);this.ar8.textContent=f7.get([13,2])+": "+hi.Hb(this.arT);
this.LQ.H()};dn.prototype.sq=function(d,v){this.n=d;if(v==lx.$f)this.dn()};dn.prototype.dn=function(d,v){var t=this.n.pP.Y0,Y=0;
this.DA=[];for(var h in t)this.DA.push(h);this.DA.sort(function(z,p){z=z.split(".");p=p.split(".");return z[1]==p[1]?z[0]<p[0]?-1:1:z[1]<p[1]?-1:1});
var X=Math.floor(100*u.LY()),g=Math.floor(16*u.LY()),x=[],Z=[];for(var n=0;n<this.DA.length;n++){var h=this.DA[n],a=dn.tp(h,t[h],X,g);
x.push(a);Z.push(h);Y+=t[h].byteLength}this.HT.lr(x,Z,X,g);this.arT=Y;this.H()};dn.prototype.Mt=function(d){var v=this.HT.j();
if(v.length==0){alert("Select a file first.");return}this.HT.a([]);var t=this.n.pP.Y0;for(var n=0;n<v.length;
n++)delete t[this.DA[v[n]]];var h=new eG(_.E.c,!0);h.data={R:_.Y.Kf,Ic:lx.$f};this.J(h)};dn.prototype.VI=function(d){var v=this.n.pP.Y0,t={};
for(var h in v)t[h]=new Uint8Array(v[h]);var X=UZIP.encode(t);dY.save(X,"resources.zip")};dn.tp=function(d,v,t,h){var X=u.q("canvas"),Z=0;
X.width=t;X.height=h;var g=X.getContext("2d"),x=d.split(".").pop().toLowerCase();for(var n=0;n<x.length;
n++)Z+=x.charCodeAt(n)*613<<8*n;g.fillStyle="#"+f.Uj(Z&16777215);g.fillRect(0,0,20,h);var Y=Math.floor(14*u.LY());
g.fillStyle="#000000";g.font="bold "+Y+"px sans-serif";var a=(h-Y)/2,z=hi.Hb(v.byteLength),p=g.measureText(z);
g.fillText(z,t-12-p.width,h-a);return X.toDataURL()};function gI(){et.call(this,[1,15],"pmanager");this.n=null;
this.sX=new e8([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.sX.P(_.E.w,this.dn,this);
this.body.appendChild(this.sX._);var d=u.q("div","flexrow");this.body.appendChild(d);var v=this.aK4=u.q("div");
d.appendChild(v);var t=u.q("div","form");d.appendChild(t);u.i(t,"width:140px; margin-left:12px");this.am6=[lx.nj,lx.t0,lx.Nt,lx._0,lx.C4,lx.fJ];
this.EQ=[new eb,new kt,new cM,new gk,new fQ,new cS];for(var n=0;n<this.EQ.length;n++)this.EQ[n].parent=this;
this.c_=[];for(var n=0;n<4;n++){var h=new lt("Hello",!0,null,!0);h.P("click",this.Vc,this);this.c_.push(h);
t.appendChild(h._)}this.dn()}gI.prototype=new et;gI.prototype.YF=function(d){return d==cQ.on||d==cQ.SY};
gI.prototype.Vc=function(d){var n=this.c_.indexOf(d.target);this.EQ[this.sX.j()].Oh(n)};gI.prototype.H=function(){et.prototype.H.call(this);
this.sX.H();for(var n=0;n<this.EQ.length;n++)this.EQ[n].H();var d=this.c_,v=this.sX.j(),t=lx.HL[this.am6[v]],h=t[0].toUpperCase();
d[0].Ge([[23,6],"."+h]);d[1].Ge(["VAR0 ."+h,[1,8]]);d[2].Ge([6,37]);d[3].Ge([5,4])};gI.prototype.sq=function(d,v){this.n=d;
this.dn()};gI.prototype.dn=function(d,v){if(!u.al(this._))return;this.H();u.Pl(this.aK4);this.aK4.appendChild(this.EQ[this.sX.j()].Bz);
var t=this.EQ,h=this.n;if(h==null)return;t[0].eN(h.LG);t[1].D$(h.Sw,h.dL);t[1].eN(h.tZ);t[2].eN(h.Da);
t[3].eN([h.Fw,h.Da]);t[4].eN(h.qI);t[5].eN(h.ff)};function id(d,v,t){et.call(this,v,"cwindow");this.aO1=new cK(t[0],t[1]-33);
this.ee=u.q("div","form");u.i(this.ee,"width:"+(t[2]-t[0])+"px; height:"+(t[3]-t[1])+"px");this.body.appendChild(this.ee)}id.prototype=new et;
id.prototype.M1=function(d,v){return this.aO1.b()};function iz(d){var v=iz.acj(d);et.call(this,v,"res"+d);
var t=this.a8M.bind(this);window.addEventListener("message",function(X){if(typeof X.data=="string"&&X.data.startsWith("--et ")){if(iP.qP()==null)return;
console.log(X.data);var g=this.aOh=X.data.slice(5).split(",");g[0]=parseFloat(g[0]);iP.aDm(g[0],g[1],t)}}.bind(this));
this.fI=v;this.aR=d;this.are=null;this.Gs=null;this.XO=0;this.ZX=null;this.pU=null;this.aOh=null;this.n=null;
u.i(this.body,"padding:0");this.UB=new lt("",null,null,!0);this.body.appendChild(this.UB._);this.UB.P("click",this.pY,this);
u.i(this.UB._,"position:absolute; margin-top: -28px;  margin-left:150px");this.GN=new lt("\u25BC",null,null,!0);
u.i(this.GN._,"position:absolute; margin-top: -28px;  margin-left:270px");this.GN.P("click",this.a3m,this);
this.body.appendChild(this.GN._);this.QC=u.q("span","form");this.body.appendChild(this.QC);this.c_=[];
for(var n=0;n<9;n++){var h=new lt(iz.acj(n));this.c_.push(h);if(n==d)h.a(!0);this.QC.appendChild(h._);
h.P("click",this.acB,this)}this.aH5=new lt([5,3],null,null,!0);this.aH5.P("click",this.alL,this);this.aiw=new lt("Upload Current Document as a Template",null,null,!0);
this.aiw.P("click",this.aA7,this);this.aAv=new eR("Creator / Brand name");this.l0=new lt([1,2],null,null,!0);
this.l0.P("click",this.VI,this);this.gc=u.q("iframe","scrollable");u.i(this.gc,"border:none; margin:0; padding:0;");
this.KH=u.q("div","form scrollable padded");this.CG=new e5(d);this.CG.P("back",this.nf,this);this.CG.P("save",this.aC9,this);
this.body.appendChild(this.gc)}iz.prototype=new et;iz.acj=function(d){var v;if(d==0)v=[25,0];else if(d==1)v="Plugins";
else for(var t in lx.HL)if(lx.HL[t][4]==d)v=lx.HL[t][3];return v};iz.prototype.a3m=function(d){this.QC.style.display=this.QC.style.display=="none"?"":"none"};
iz.prototype.acB=function(d){var n=this.c_.indexOf(d.target);if(n==this.aR)return;this.close();var v=new eG(_.E.c,!0);
v.data={R:_.Y.S8,cG:"res"+n};this.J(v)};iz.prototype.a8M=function(d){this.pY();this.pU=JSON.parse(d.target.response);
this.RE()};iz.prototype.M1=function(d,v){return new cK(0,0)};iz.prototype.K$=function(d,v){this.F0=d;
this.uV=v;this.h8=null;v=v-4;d=d;var t=d>820,h="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",X="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
u.i(this.QC,t?h:X);this.QC.style.marginTop=(t?-31:0)+"px";this.GN._.style.display=t?"none":"";var g=this.KH;
g.style.width=d-12+"px";g.style.height=v-12+"px";var g=this.CG._;g.style.width=d-12+"px";g.style.height=v-12+"px";
var g=this.gc;g.style.width=d+"px";g.style.height=v+"px";this.tR()};iz.prototype.sq=function(d,v){this.n=d};
iz.prototype.H=function(){et.prototype.H.call(this);for(var n=0;n<this.c_.length;n++)this.c_[n].H();
this.aH5.H()};iz.prototype.dn=function(d,v,t,h){this.h8=d;this.pY(null,!1)};iz.prototype.pY=function(d,v){var t=v!=null?v:u.al(this.gc);
if(t){if(!iP.uD()){alert("You need to log in first!");return}var h=iP.Yp();if(h==null)h={};this.Gs=h.tpl?h.tpl.list:[];
this.aAv.a(h.tpl&&h.tpl.brnd?h.tpl.brnd:"");this.tR()}else{this.gc.setAttribute("src","");this.gc.setAttribute("src",iP.$j("templates/?type="+this.aR+"&rsrc="+this.n.Mc.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(t?this.KH:this.gc);var X=f7.get(this.fI);this.UB.Ge(t?"All "+X:"Add "+X)};iz.prototype.tR=function(){var d=f7.get(this.fI),v=this.Gs,t=this.aR,Z=450;
if(v==null)return;var h=this.KH;u.Pl(h);var X=u.q("h1");h.appendChild(X);X.textContent="Share your "+d+" with the world!";
var g=u.q("ul");h.appendChild(g);var x=u.q("li");g.appendChild(x);x.textContent="By publishing your "+d+", you agree to let others use them for all kinds of purposes, even commercially.";
h.appendChild(this.aH5._);if(t==0)h.appendChild(this.aiw._);u.WJ(h);h.appendChild(this.aAv._);h.appendChild(this.l0._);
u.WJ(h);Z=(this.F0-20)/Math.max(1,Math.floor(this.F0/Z))-42;var Y="display:inline-block; width:"+Z+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var n=v.length-1;n>=0;n--){var a=v[n];if(a.type==null)a.type=0;if(a.type!=t)continue;var z=u.q("div");
h.appendChild(z);u.i(z,Y);var p=u.q("img");z.appendChild(p);p.setAttribute("src",a.thmb);u.i(p,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=u.q("h3");z.appendChild(U);U.textContent=a.name;u.i(U,"margin:0 0 10px 0");var l=u.q("p");z.appendChild(l);
l.textContent=a.desc;u.i(l,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var L=0;L<2;L++){var j=new lt(L==0?"Edit":"Delete",null,null,!0);
j.aFI=n;j.RE=L==0;j.P("click",this.agY,this);z.appendChild(j._)}}};iz.prototype.aA7=function(d){if(this.h8==null){alert("No document opened.");
return}var v=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!v)return;var t=new eG(_.E.c,!0);t.data={R:_.Y.ew,Cm:"psd",SM:this.aJA.bind(this)};this.J(t)};iz.prototype.aJA=function(d){this.a9j=d;
var v=new eG(_.E.c,!0);v.data={R:_.Y.ew,Cm:"jpg",SM:this.a0w.bind(this),aux:1400};this.J(v)};iz.prototype.a0w=function(d){this.ZX={type:0,catg:0,desc:"",file:this.a9j,name:this.h8.name.split(".")[0],thmb:d,publ:!0,utme:""};
this.RE()};iz.prototype.alL=function(d){this.ZX={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.RE()};iz.prototype.agY=function(d){this.XO=d.target.aFI;if(!d.target.RE){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Gs.splice(this.XO,1);this.VI();this.tR();return}this.RE()};iz.prototype.RE=function(){if(u.al(this.KH))this.body.removeChild(this.KH);
this.body.appendChild(this.CG._);var d=this.ZX?this.ZX:this.pU?this.pU:this.Gs[this.XO];if(d.type==null)d.type=0;
this.CG.a(d)};iz.prototype.aC9=function(d){var v=this.CG.j();if(this.ZX)this.Gs.push(v);else if(this.pU){var t=this.aOh;
iP.aDm(t[0],t[1],this.nf.bind(this),JSON.stringify(v));return}else this.Gs[this.XO]=v;this.VI();this.nf()};
iz.prototype.nf=function(){var d=this.pU;this.ZX=null;this.pU=null;this.body.removeChild(this.CG._);
this.body.appendChild(this.KH);this.tR();if(d)this.pY()};iz.prototype.VI=function(){var d=iP.Yp();if(d==null)d={};
if(this.Gs.length==0)delete d.tpl;else{d.tpl={list:f.v(this.Gs)};var v=this.aAv.j().trim();if(v!="")d.tpl.brnd=v}iP.E6(d,function(){alert("Saved.")})};
function bA(){et.call(this,"Make Selection","makesel");var d=u.q("div","form");this.body.appendChild(d);
this.$s=new l8([12,25,1]);this.$s.a(!0);d.appendChild(this.$s._);u.WJ(d);this.aB2=new h5(!0);d.appendChild(this.aB2._);
this.x5=u.a_(this,this.body)}bA.prototype=new et;bA.prototype.H=function(){et.prototype.H.call(this);
this.aB2.H();this.$s.H();this.x5.H()};bA.prototype.rS=function(d){var v=new eG(_.E.F,!0);v.T=A.Nf;v.data={R:"frompath",HW:[null,0,this.aB2.j(),this.$s.j()]};
this.close();this.J(v)};function ge(){et.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.h8=null;this.CU=null;
this.app=null;var d=this.aFL=u.q("div","form");u.i(d,"width:20em");this.body.appendChild(d);this.U8=new a0([12,50],["PSD","PSB"]);
this.U8.P(_.E.w,this.lq,this);d.appendChild(this.U8._);u.$a(d);var v=new i9("Minify the file");d.appendChild(v._);
u.WJ(d);var t=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ws=[];for(var n=0;n<t.length;n++){var h=new l8(t[n]);this.ws.push(h);d.appendChild(h._);h.P(_.E.w,this.lq,this)}u.$a(d);
this.HJ=new i9("aa.psd");this.en=new i9("10 kB");d.appendChild(this.en._);this.a2n=new i9("1000 B");
d.appendChild(this.a2n._);this.x5=new lt([1,2],!0,null,!0);this.x5.P("click",this.rS,this);d.appendChild(this.x5._);
this.Eg=new lt(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Eg.P("click",this.rS,this);d.appendChild(this.Eg._);
this.P("closebtn",this.va,this)}ge.prototype=new et;ge.prototype.dn=function(d,v,t,h){var X=u.al(this.Eg._),g=d.S3!=null&&d.S3.nF=="psd";
if(g&&!X)this.aFL.appendChild(this.Eg._);if(!g&&X)this.aFL.removeChild(this.Eg._);for(var n=0;n<this.ws.length;
n++)this.ws[n].a(!1);this.h8=d;this.lq()};ge.prototype.rS=function(d){if(d.target==this.x5)dY.save(this.CU,this.app);
else{if(this.ws[3].j()){alert("You should not save a ZIP as a PSD to Google Drive.");return}jN.afy(this.h8,this.CU)}};
ge.prototype.va=function(){this.h8=null;this.CU=null};ge.prototype.lq=function(){var d=this.h8,v=[!1,!1,!1,!1];
for(var n=0;n<3;n++)v[n]=this.ws[n].j();var t=this.ws[3].j(),h=v[3]=this.U8.j()==1,X=d.name.slice(0,d.name.length-3),g=this.CU=b3.bV("PSD").V$(d,0,0,v),bW=this.app=X+"ps"+(h?"b":"d");
if(t){var x={};x[bW]=new Uint8Array(g);g=this.CU=UZIP.encode(x);bW=this.app=X+"zip"}this.HJ.a(bW);this.en.a(hi.Hb(g.byteLength));
this.en._.style["font-size"]="2em";this.a2n.a(" \u2001 "+g.byteLength+" B");this.x5.Ge(f7.get([1,2])+" \""+bW+"\"")};
ge.prototype.H=function(){et.prototype.H.call(this);this.U8.H();this.x5.H();this.Eg.H()};function l9(){et.call(this,"Confirm","confirm");
this.No=null;var d=u.q("div");u.i(d,"margin-bottom:1em");this.body.appendChild(d);this.JD=u.q("div");
this.JD.textContent="Hello";d.appendChild(this.JD);this.x5=u.a_(this,this.body)}l9.prototype=new et;
l9.prototype.rS=function(d){if(this.No==null)return;console.log("okconfirm");this.close();this.No();
this.No=null};l9.prototype.H=function(){et.prototype.H.call(this);this.x5.H()};l9.prototype.dn=function(d,v){if(v.aj_||v.af7)this.JD.innerHTML=v.K;
else this.JD.textContent=v.K;if(v.ay$)this.x5.Ge(v.ay$);this.No=v.No;this.x5._.focus();if(v.aj_!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.ayF=v.aj_!=null};l9.prototype.M1=function(d,v){return new cK(Math.max(0,(d-500)/2),Math.max(0,Math.min(60,(v-100)/2)))};
l9.prototype.K$=function(d,v){this.JD.style.width=d-30+"px"};function gD(){et.call(this,[1,16,2],"newartb");
this.It=0;this.PL=null;var d=u.q("div","form");d.style.width="260px";this.body.appendChild(d);this.HT=new aE;
d.appendChild(this.HT._);this.x5=u.a_(this,d)}gD.prototype=new et;gD.prototype.Hx=function(d,v){return d!=null};
gD.prototype.rS=function(d){var v=this.HT.j();this.PL.r=v.x;this.PL.$=v.y;var t=new eG(_.E.F,!0);t.T=A.mH;
t.data={abc:this.PL,y1:this.It};this.J(t);this.close()};gD.prototype.H=function(){et.prototype.H.call(this);
this.HT.H();this.x5.H()};gD.prototype.dn=function(d,v){this.It=v.y1;var t=new iW(0,0,d.r,d.$);if(d.l.length!=0){var h=d.U[d.l[0]];
if(h.add.artb){t=h.x1();t.x+=t.r+100}if(v.y1==1)t=A.hZ.pT(d)}this.PL=t;this.HT.a(new cK(t.r,t.$))};function ga(){et.call(this,[1,19,0],"storwindow");
u.i(this.body,"padding:0");this.au=null;this.P("closebtn",this.aY,this);this.P("canclose",this.aY,this)}ga.prototype=new et;
ga.prototype.sq=function(d,v){if(this.au)this.au.sq(d,v)};ga.prototype.M1=function(d,v){return new cK(Math.max(0,Math.min(150,(d-980)/2)),Math.max(0,Math.min(150,(v-590)/2)))};
ga.prototype.K$=function(d,v){this.F0=d;this.uV=v;d=Math.min(d,980);v=Math.min(v,590);if(this.au)this.au.K$(d,v)};
ga.prototype.H=function(){et.prototype.H.call(this);if(this.au)this.au.H()};ga.prototype.dn=function(d,v,t,h){this.ML=v.y1==0?["VAR0 VAR1",[1,0],[1,19,1]]:["VAR0 VAR1",[1,2],[1,19,2]];
this.H();if(this.au==null){this.au=new aX;this.au.parent=this;this.body.appendChild(this.au._);this.H();
this.K$(this.F0,this.uV)}Storage.Fj(v.y1,v.jd?v.jd:d?d.name:"",v.fX);aX.e7(this.au)};ga.prototype.aY=function(d){Storage.Fj(0);
aX.Az();if(d.e=="canclose")this.close()};function eA(){et.call(this,[2,14],"varsdats");var d=this.ee=u.q("div","form");
u.i(d,"width:300px");this.body.appendChild(d);this.h8=null;this.iM=0;this.n=null;this.m_=new a0(null,[[2,14],"Data Sets",[1,8]]);
this.m_.P(_.E.w,this.a5n,this);this.vt=new eA.ZO;this.Ly=new eA.QF;this.zw=new eA.j1;this.Ly.P("activate",this.kS,this);
this.zw.P("export",this.$P,this);this.x5=u.a_(this)}eA.prototype=new et;eA.prototype.a5n=function(d){var v=this.m_.j(),t=this.ee;
u.Pl(t);t.appendChild(this.m_._);u.$a(t);t.appendChild([this.vt,this.Ly,this.zw][v]._);t.appendChild(this.x5._)};
eA.prototype.rS=function(d){var v=new eG(_.E.F,!0);v.T=A.EM;v.data={R:jn.VY,K:JSON.stringify([this.vt.j(),this.Ly.j()])};
this.J(v);this.close()};eA.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.zw.H()};
eA.prototype.dn=function(d,v){this.h8=d;this.zw.h8=d;if(d==null)return;this.vt.dn(d,v);this.Ly.dn(d,v);
this.m_.a(0);this.a5n();this.iM=0;this.zw.ad8()};eA.prototype.sq=function(d,v){this.n=d};eA.prototype.$P=function(d){var v=this.vt.j(),t=this.Ly.j(),h=this.zw.j();
if(v.length==0){alert("There are no variables.");return}if(t.length==0){alert("There are no data sets.");
return}var X=b3.aFP(this.h8,v,t,this.Ly.aGu(),h[0],h[1],h[2],this.n,this);if(X!=null)dY.save(X,this.h8.name.split(".")[0]+".zip")};
eA.prototype.kS=function(d){var v=this.Ly.l,t=this.vt.j(),h=this.Ly.j();if(t.length==0){alert("There are no variables.");
return}if(h.length==0){alert("There are no data sets.");return}this.SP();this.iM+=b3.aNP(this.h8,this,t,h,this.Ly.aGu(),v)};
eA.prototype.SP=function(){var d=new eG(_.E.F,!0);d.T=A.Hh;d.data={R:"h_stepbck"};while(this.iM>0){this.J(d);
this.iM--}};eA.j1=function(){hm.call(this);var d=this._=u.q("div");this.aBe=new eR("Variable for file names");
d.appendChild(this.aBe._);u.$a(d);this.h8=null;this.Jw=["JPG","PNG","PDF"];this.U8=new a0([12,50],this.Jw);
this.U8.P(_.E.w,this.ad8,this);d.appendChild(this.U8._);this.DG=new kw;d.appendChild(this.DG._);this.kG=new lt("Export all items",!0,null,!0);
this.kG.P("click",this.$P,this);d.appendChild(this.kG._)};eA.j1.prototype=new hm;eA.j1.prototype.H=function(d){this.aBe.H();
this.U8.H();this.kG.H();this.DG.H()};eA.j1.prototype.ad8=function(d){if(this.h8==null)return;var v=this.Jw[this.U8.j()],t=this.h8,h=t.add.artd;
this.DG.W$(v,null,null,h!=null&&h.Cnt.v>1)};eA.j1.prototype.$P=function(d){this.J(new eG("export"))};
eA.j1.prototype.j=function(){var d=this.Jw[this.U8.j()];return[d,this.DG.j(),this.aBe.j().trim()]};eA.QF=function(){hm.call(this);
this.xt=null;this.a7a=[];this.l=0;var d=this._=u.q("div","form");this.a1h=new dK("Import a CSV file");
d.appendChild(this.a1h._);this.a1h.P(_.E.w,this.a0v,this);this.x3=u.q("div","scrollable");u.i(this.x3,"overflow:scroll;  height:234px;");
d.appendChild(this.x3);this.a5H=new dK("Source Images",!0);d.appendChild(this.a5H._)};eA.QF.prototype=new hm;
eA.QF.prototype.a0v=function(d){var v=this.a1h.j();for(var t in v){v=v[t];break}this.xt=aI.lS(B.I$(v));
this.iq()};eA.QF.prototype.aGu=function(){return this.a5H.j()};eA.QF.prototype.dn=function(d,v){var t=this.xt=f.v(d.YD);
this.iq()};eA.QF.prototype.j=function(){return this.xt};eA.QF.prototype.iq=function(){var d=this.gh.bind(this),v=this.xt,h="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.a7a=[];var t=u.q("table");u.i(t,"border-collapse: collapse;");for(var n=0;n<v.length;n++){var X=u.q("tr"),g=v[n],x=n==0?"th":"td";
t.appendChild(X);var Z=u.q(x);X.appendChild(Z);u.i(Z,h+"cursor:pointer;");if(n!=0)Z.textContent="\u2713";
this.a7a.push(Z);Z.addEventListener("click",d,!1);for(var Y=0;Y<g.length;Y++){var Z=u.q(x);Z.textContent=g[Y];
X.appendChild(Z);u.i(Z,h);Z.setAttribute("title",g[Y])}}u.Pl(this.x3);this.x3.appendChild(t)};eA.QF.prototype.gh=function(d){this.l=this.a7a.indexOf(d.currentTarget);
this.J(new eG("activate"))};eA.ZO=function(){hm.call(this);var d=this._=u.q("div","form marged");this.B$=null;
this.An=[];this.Yk=[];this.Dj=null;this.fW=new e8([0,3],[]);this.fW.P(_.E.w,this.aib,this);d.appendChild(this.fW._);
this.a0X=[];var v=["Visibility","Text Content","Pixel Content"];for(var n=0;n<v.length;n++){u.$a(d);
var t=new l8(v[n]);t.P(_.E.w,this.nh,this);d.appendChild(t._);u.WJ(d);var h=new eR("Variable Name");
h.P(_.E.w,this.nh,this);d.appendChild(h._);this.a0X.push(t,h)}};eA.ZO.prototype=new hm;eA.ZO.prototype.nh=function(d){var v=this.fW.j(),t=this.Dj[v],h=this.An[v],X=this.B$["l"+t],g=this.a0X;
if(X==null)this.B$["l"+t]=X=[];while(X.length!=0)X.pop();for(var n=0;n<3;n++){var x=g[2*n+1].j().trim();
if(!g[2*n].j())continue;if(x.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}x=x.replaceAll(" ","");
var Z={varName:x,trait:["visibility","textcontent","fileref"][n]};X.push(Z);if(n==2){Z.align="center";
Z.clip="false";Z.placementMethod="fit";Z.valign="middle"}}if(X.length==0)delete this.B$["l"+t];this.dn()};
eA.ZO.prototype.aib=function(d){var v=this.fW.j(),t=this.Dj[v],h=this.An[v],X=this.B$["l"+t],g=this.a0X;
if(X==null)X=[];for(var n=0;n<3;n++){var x=n==0||n==1&&h==0||n==2&&h==1;g[2*n].$e(x);g[2*n].a(!1);g[2*n+1].$e(x);
if(!x)g[2*n+1].a("")}for(var n=0;n<X.length;n++){var Z=X[n],Y=Z.trait,a=["visibility","textcontent","fileref"].indexOf(Y);
g[a*2].a(!0);g[a*2+1].a(Z.varName)}};eA.ZO.prototype.dn=function(d,v){if(d){var t=f.v(d.a1),h=this.B$={};
for(var n=0;n<t.length;n++){var X=t[n],g=X.docRef;g="l"+g.slice(4,g.length-2);if(h[g]==null)h[g]=[];
h[g].push(X)}this.Dj=[];this.An=[];this.Yk=[];for(var n=d.U.length-1;n>=0;n--){var x=d.U[n],g=x.add.lyid;
if(x.add.lsct==f$.Xr)continue;this.Dj.push(g);this.An.push(x.add.TySh?0:1);this.Yk.push(x.getName())}}var Z=[],Y=this.Yk;
for(var n=0;n<Y.length;n++){Z.push(Y[n]+(this.B$["l"+this.Dj[n]]?" *":""))}var a=this.fW.j();this.fW.Cw(Z);
this.fW.a(a);this.aib()};eA.ZO.prototype.j=function(){var d=this.B$,v=[];for(var t in d){var h=d[t];
for(var X=0;X<h.length;X++){h[X].docRef="id('"+t.slice(1)+"')";v.push(h[X])}}return v};function gU(){et.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.ajX=!1;var d=this.ng=[],v=u.q("div","form");u.i(v,"width:20em");this.body.appendChild(v);for(var n=0;
n<2;n++){var t=new l8([22,4,2+n]);v.appendChild(t._);u.WJ(v);var h=new a0(null,[["N equal parts"],["N pixels per part"]]);
v.appendChild(h._);u.WJ(v);var X=new eh("N",0,1e3);X.a(4);X.parent=this;v.appendChild(X._);u.WJ(v);if(n==0)u.$a(v);
d.push(t,h,X)}for(var n=0;n<d.length;n++)d[n].P(_.E.w,this.wj,this);d.push(u.a_(this,v));this.P("closebtn",this.SP,this)}gU.prototype=new et;
gU.prototype.SP=function(){if(this.ajX){var d=new eG(_.E.F,!0);d.T=A.Hh;d.data={R:"h_stepbck"};this.J(d)}};
gU.prototype.wj=function(d){this.SP();this.ajX=!0;var v=[];for(var n=0;n<6;n++)v.push(this.ng[n].j());
var t={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var h=0;h<2;h++){if(!v[h*3])continue;var X=v[h*3+1],g=v[h*3+2];t[["slices","pixels"][X]+["Across","Down"][h]]={t:"long",v:g}}var x=new eG(_.E.U0,!0);
x.data={oN:"divide",mQ:t};this.J(x)};gU.prototype.rS=function(d){this.close()};gU.prototype.H=function(){et.prototype.H.call(this);
var d=this.ng;for(var n=0;n<d.length;n++)d[n].H()};gU.prototype.dn=function(d,v){this.ajX=!1};function dm(){et.call(this,"Stroke Path","strokepath");
this.n=null;this.RT=null;this.aym=null;this.x5=null;this.a55=[A.D8,A.nj,A.OG,A.Be,A.oe,A.Ys,A.T6,A.FT,A.xj,A.oT,A.WX,A.UK,A.yS,A.Av,A.lj]}dm.prototype=new et;
dm.prototype.H=function(){et.prototype.H.call(this);if(this.x5){this.RT.H();this.x5.H()}};dm.prototype.rS=function(d){var v=this.a55[this.RT.j()],t=null;
for(var h in A.qU)if(A.qU[h]==v)t=h;var X=new eG(_.E.U0,!0);X.data=A.fL.iz(t,this.aym.j());this.close();
this.J(X)};dm.prototype.sq=function(d,v){if(this.n==null){var t=[];for(var n=0;n<this.a55.length;++n){t.push(d.B5.map[this.a55[n]].T.name)}var h=u.q("div","form");
this.body.appendChild(h);this.RT=new e8("Tool",t);this.RT.a(1);h.appendChild(this.RT._);this.aym=new l8("Simulate Pressure");
u.WJ(h);h.appendChild(this.aym._);this.x5=u.a_(this,this.body)}this.n=d};function cN(){et.call(this,[1,18],"linkview");
u.M3(this.body,"form");var d=this.sx=[new eR(null,null,17),new lt([5,1],!1,null,!0),new lt([1,0],!1,null,!0)];
for(var n=0;n<3;n++){var v=d[n];this.body.appendChild(v._);if(n!=0)v.P("click",this.Tm,this);if(n==0)u.WJ(this.body)}}cN.prototype=new et;
cN.prototype.dn=function(d,v){var t=v.a7H;if(t.startsWith("https://"))t=t.slice(8);this.sx[0].a(t)};
cN.prototype.Tm=function(d){var v=this.sx,t=v[0].j(),h=d.target==this.sx[1];if(h){navigator.clipboard.writeText(t);
alert("Copied to a clipboard!")}else window.open("https://"+t,"Shared")};function j5(d){et.call(this,d==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][d]);
this.caller=null;this.hC=d;var v=u.q("div","form label8");u.i(v,"max-width:26em");this.body.appendChild(v);
this.ss=new e8("Document",["abc","def"]);this.ss.P(_.E.w,this.nh,this);v.appendChild(this.ss._);u.WJ(v);
this.yc=new e8([12,4],["abc","def"]);this.yc.P(_.E.w,this.nh,this);v.appendChild(this.yc._);this.aAx=new l8([4,11]);
this.JD=new eR([12,48]);this.JD.a("Alpha");if(d==0){}else{v.appendChild(this.JD._)}this.yn=new h5(!0);
v.appendChild(this.yn._);this.x5=u.a_(this,v)}j5.prototype=new et;j5.prototype.Ht=function(){return!0};
j5.prototype.H=function(){et.prototype.H.call(this);this.x5.H();this.ss.H();this.yc.H();this.JD.H();
this.aAx.H();this.yn.H()};j5.prototype.nh=function(d){var v=this.hC;if(d==null||d==this.ss){var t=this.ss.j(),h=this.caller.n0[t],X=[];
if(v==0)X.push(h.U[h.l[0]].getName()+" Transparency",h.U[h.l[0]].getName()+" Gray");else X.push([5,3]);
for(var n=0;n<h.gM.length;n++)X.push(h.gM[n].name);this.yc.Cw(X)}if(v==0)return;var g=this.yc.j();this.JD.$e(g==0);
this.yn.$e(g!=0)};j5.prototype.dn=function(d,v,t){this.caller=t;var h=t.n0,X=[];for(var n=0;n<h.length;
n++){var g=h[n].name;X.push(g.length<30?g:g.slice(0,27)+"...")}this.ss.Cw(X);this.ss.a(h.indexOf(d));
this.nh(null)};j5.prototype.rS=function(d){var v=this.hC,t=this.yc.j(),h=this.ss.j(),X=this.caller.n0[h],g=this.yn.j(),x,Z=!1;
if(v==0){if(t==1)Z=!0;t=Math.max(t-1,0)}if(t==0){x=new eG(_.E.U0,!0);if(v==0)x.data=A.Oe.a8(g,Z?"Gray":"Trsp",X.U[X.l[0]].getName());
else x.data={oN:"duplicate",mQ:{classID:"null",Nm:{t:"TEXT",v:this.JD.j()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{x=new eG(_.E.F,!0);
if(v==0){x.T=A.Nf;x.data={R:"fromchannel",HW:[-4-t,0,g]}}else{x.T=A.EM;x.data={R:jn.KQ,G$:"seltochannel",HW:[t-1,g]}}}this.close();
this.J(x)};function ch(){et.call(this,"PeaMark","peamark");var d=u.q("div");d.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small>";
this.body.appendChild(d);d.style.marginBottom="40px";var v=u.q("div","form");u.i(this.body,"width:320px;");
this.body.appendChild(v);this.auF=!1;this.Bo=[];this.vu=[];this.auy=[];for(var n=0;n<3;n++){var d=u.q("span");
d.textContent="0";v.appendChild(d);u.i(d,"text-align:center; font-size:2em;  width:50%; display:inline-block; vertical-align:middle;");
var t=new lt("Test "+["CPU","GPU","free RAM"][n],!1,null,!0);v.appendChild(t._);u.i(t._,"width:50%; margin-right:0px;");
t.P("click",this.aOs,this);this.Bo.push(d);this.auy.push(t);var h=u.q("hr");this.vu.push(h);if(n!=2)v.appendChild(h);
u.i(h,"height:2px; background-color:#00ff00")}u.WJ(this.body);this.aBt=new lt("Browse scores",!1,null,!0);
var X=this.aBt._;this.body.appendChild(X);this.aBt.P("click",this.aHp,this);u.i(X,"position:absolute;top:100px;left:13px;");
this.aKW=new lt("Tweet your score!",!1,null,!0);var X=this.aKW._;this.body.appendChild(X);this.aKW.P("click",this.aHp,this);
u.i(X,"position:absolute;top:100px;right:13px;");this.tl=u.q("div","scrollable");this.body.appendChild(this.tl);
this.tl.style.height="226px";this.Ut=[];this.aOb=0;this.aJE=this.ajZ.bind(this);this.aiZ()}ch.prototype=new et;
ch.prototype.aHp=function(d){var v=PMRK,t;if(d.target==this.aBt){t="https://twitter.com/hashtag/peamark?f=live"}else{var h=v[v.length-1];
if(Math.min(h[2],h[3])==0){alert("Run both tests first.");return}t="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+h[2]+"/"+h[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(t,"_blank")};
ch.prototype.aOs=function(d){var v=this.auy.indexOf(d.target),t=1024,h=1024,X=new iW(0,0,t,h),g=this.aJE;
if(v==0){var x=f.m(X.k());for(var Z=0;Z<h;Z++)for(var Y=0;Y<t;Y++)x[Z*t+Y]=((Z>>>7)+(Y>>>7)&1)*255;this.Ut=[v,x,t,h];
for(var n=0;n<4;n++)g(!0)}else if(v==1){var a=f.m(X.k()*4),z=fq.IU(1,t,h);z.set(a);f.pl(a,4278190335);
var p=fq.IU(0,t,h);p.set(a);var U=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],l={e:fq.filter.aNg,k0:new Float32Array([1/t,1/h]),a1U:0,gl:20,a5B:new Float32Array([0,1]),aC5:new Float32Array([0,0,0]),aCp:new Float32Array(U),avv:new Float32Array(U)};
this.Ut=[v,l,a,p,z];g(!0)}else{if(this.auF){alert("Close all documents before running this test.");return}this.Ut=[v,[]];
g(!0)}this.a0o=[[0,0],[0,0],[0,0]];this.aOb=Date.now();setTimeout(this.aJE,20)};ch.prototype.ajZ=function(d){var v=this.Ut,t=v[0],h=Date.now(),x=!1,Z;
if(t==0){f.style.wW(v[1],v[2],v[3])}else if(t==1){fq.Bg(v[4]);fq.filter.$R(v[1],v[3].gL);v[4].get(v[2])}if(d)return;
var X=Date.now()-h,g=this.a0o[t];g[0]+=X;g[1]++;if(t<2){var Y=[26,73];Z=Math.round(1e3*Y[t]/(g[0]/g[1]));
var a=(Date.now()-this.aOb)/5e3,x=a>1;this.vu[t].style.width=Math.min(100,a*100)+"%"}else{var z=128*(1<<20);
try{var p=new Uint8Array(z);p.fill(117);v[1].push(p)}catch(cQ){x=!0;this.Ut=null;alert("finished")}Z=(v[1].length*z/(1<<30)).toFixed(2)+" GB"}this.Bo[t].textContent=Z;
if(!x)setTimeout(this.aJE,20);else{var U=PMRK;U[U.length-1][2+t]=Z;this.aiZ()}};ch.prototype.aiZ=function(){var d=this.tl,t="",h=" style=\"text-align:right; width:4em;\">";
u.Pl(d);var v=PMRK.slice(0);v.sort(function(Y,a){return 1e3*(a[2]-Y[2])+(a[3]-Y[3])});var X="<td"+h,g="<th"+h;
for(var n=0;n<v.length;n++){var x=v[n],Z=null;if((n&1)==0)Z="rgba(255,255,255,0.05)";if(x[1]=="Your Device")Z="rgba(255,255,0,0.2)";
t+="<tr style=\""+(Z?" background-color:"+Z:"")+"\"><td style=\"text-align:center\">"+["\uD83D\uDDA5","\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDCF1"][x[0]]+"</td><td>"+x[1]+"</td>"+X+x[2]+"</td>"+X+x[3]+"</td></tr>"}d.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th></th><th style=\"width:13.7em;\">Device</th>"+g+"CPU</th>"+g+"GPU</th></tr>"+t+"</table>"};
ch.prototype.dn=function(d,v,t,h){this.auF=d!=null};function kr(){et.call(this,"Measurement Scale","measscale");
var d=u.q("div","form label8");d.style.width="300px";this.body.appendChild(d);var v=this.mA=[new eR("Pixel Length"),new eR("Logical Length"),new eR("Unit Name"),new i9("Hi")];
for(var n=0;n<4;n++){var t=v[n];t.P(_.E.w,this.nh,this);d.appendChild(t._)}this.x5=u.a_(this,d)}kr.prototype=new et;
kr.prototype.M1=function(d,v){return new cK(Math.max(0,Math.min(150,(d-250)/2)),Math.max(0,Math.min(150,(v-120)/2)))};
kr.prototype.nh=function(d){var v=this.mA;v[3].a(v[0].j()+" pixels = "+v[1].j()+" "+v[2].j())};kr.prototype.rS=function(d){var v=this.mA,t=[];
for(var n=0;n<3;n++)t.push(v[n].j());t[0]=parseFloat(t[0]);t[1]=parseFloat(t[1]);var h=new eG(_.E.F,!0);
h.T=A.Kx;h.data={R:"unit",K:t};this.J(h);this.close()};kr.prototype.H=function(){et.prototype.H.call(this);
var d=this.mA;for(var n=0;n<d.length;n++)d[n].H()};kr.prototype.dn=function(d,v){var t=this.mA;t[0].a(Math.round(v.dK));
if(d.ZR){var h=d.ZR.T.v;console.log(h);t[1].a(h.logicalLength.v);t[2].a(h.logicalUnits.v)}else{t[1].a(1);
t[2].a("unitName")}this.nh()};function iQ(){et.call(this,"Transform","transform");var d=this.ee=u.q("div","form label6");
this.body.appendChild(d);this.a4_=0;this.Is=[[new eh([22,4,0],-1e3,1e3),new eh([22,4,1],-1e3,1e3),"-",new eh([12,28],-1e3,1e3),new an([12,15],!1,!1)],[new an([12,15],!1,!1)],[new a0("Reflect",[[22,4,0],[22,4,1]])],[new eh([22,4,0],-500,500,"%"),new eh([22,4,1],-500,500,"%")],[]];
this.Is[3][0].a(100);this.Is[3][1].a(100);this.x5=u.a_(this,this.body)}iQ.prototype=new et;iQ.prototype.H=function(){et.prototype.H.call(this);
var d=this.Is;for(var n=0;n<d.length;n++){var v=d[n];for(var t=0;t<v.length;t++)if(v[t]!="-")v[t].H()}this.x5.H()};
iQ.prototype.dn=function(d,v,t,h){var X=this.a4_=v.G$,g=this.ee,x=this.Is[X];this.ML=[[12,54],[2,5],"Reflect",[12,38],[24,5,4]][X];
u.Pl(g);for(var n=0;n<x.length;n++){var Z=x[n];if(Z=="-"){u.$a(g);continue}Z.a(Z.j());Z.parent=this;
g.appendChild(Z._);u.WJ(g)}this.H()};iQ.prototype.rS=function(d){var v=this.a4_,t=this.Is[v],h="",X=[];
for(var n=0;n<t.length;n++)if(t[n]!="-")X.push(t[n].j());console.log(X);if(v==0){var g=X[0],x=X[1];if(X[2]!=0){var Z=X[3][0]*Math.PI/180;
g=X[2]*Math.cos(Z);x=-X[2]*Math.sin(Z)}h="translate("+g+","+x+");"}if(v==1)h="rotate("+-X[0][0]+");";
if(v==2){var Y=1,a=1;if(X[0]==0)a=-1;else Y=-1;h="resize("+Y*100+","+a*100+");"}if(v==3){h="resize("+X[0]+","+X[1]+");"}console.log(h);
var z=new eG(_.E.c,!0);z.data={R:_.Y.z7,uq:"app.activeDocument.activeLayer."+h};this.close();this.J(z)};
function bZ(){et.call(this,"Generate With AI","aigen");this.cx=[];this.LZ=-1;this.uH=!1;this.S6=u.q("div","form");
this.Sz=u.q("div");this.EP=u.q("div");this.body.appendChild(this.S6);this.body.appendChild(this.Sz);
this.body.appendChild(this.EP);this.NS=new eR(null,null,-1,2);this.NS._.firstChild.style.fontSize="1.2em";
this.NS._.firstChild.style.textAlign="center";this.NS._.firstChild.style.marginBottom="8px";this.NS.a("cute hamster in space wearing goggles, holding a 3D sign that says \"Photopea\"");
this.S6.appendChild(this.NS._);this.dU=new lt("Generate",null,null,!0);this.dU._.style.fontSize="1.5em";
this.dU.P("click",this.OH,this);this.S6.appendChild(this.dU._);this.KE=new lt("Sponsored by Zoner AI",null,null);
this.KE._.style.margin="0 2em;";this.KE.P("click",this.OH,this);this.S6.appendChild(this.KE._);this.BD=new lt("Edit Image",null,null,!0);
this.BD._.style.fontSize="1.5em";this.BD.P("click",this.OH,this);this.S6.appendChild(this.BD._);this.FM=u.q("img");
this.Sz.appendChild(this.FM)}bZ.prototype=new et;bZ.prototype.M1=function(d,v){return new cK(0,0)};bZ.prototype.dn=function(){if(this.UC==null){this.UC=!0;
this.rj("img/ai/ham0.jpg");this.rj("img/ai/ham1.jpg");this.rj("img/ai/ham2.jpg");this.rj("img/ai/ham3.jpg");
this.rj("img/ai/ham4.jpg")}};bZ.prototype.K$=function(d,v){d-=26;u.i(this.S6,"margin:0px auto; width:"+Math.min(d,800)+"px;  text-align:center;");
u.i(this.EP,"margin:0px auto; width:"+Math.min(d,800)+"px;  text-align:center; overflow:auto; white-space: nowrap; height:120px;  scrollbar-width:thin; scrollbar-color: var(--brdrDrk) rgba(0, 0, 0, var(--alphaDark));");
u.i(this.FM,"width:"+d+"px; height:"+(v-272)+"px;object-fit:contain; margin:1em 0;")};bZ.prototype.OH=function(d){if(d.currentTarget==this.BD){var v=this.cx[this.LZ],t=b3.IF(v),h=b3.bV(t),X=h.CE(v),g=b3.Kv("image",X),x=new eG(_.E.c,!0);
x.data={R:_.Y.cJ,Vr:g};this.J(x);this.close();return}if(d.currentTarget==this.KE){window.open("https://zonerai.com/en/?utm_source=photopea&utm_medium=link&utm_campaign=bundle","_blank");
iP.event("zoner_link");return}if(this.uH)return;if(this.c8==null)this.c8=0;var Z=Date.now()-this.c8;
if(!iP.yU()&&Z<15e3){alert("Please, wait "+(15-Math.round(Z/1e3))+" seconds or get a Premium account.",4e3);
return}this.c8=Date.now();var Y=new FormData;Y.append(f4.Rb("?^XSST"),this.NS.j());Y.append(f4.Rb("0\\R1HY"),f4.Rb("\"0z{wup cfcecTXQcaEVIBD6J54.>'$$ 0x*"));
this.rj(f4.Rb("W`]VVykh8=^H:6*4L~(#Ap|r5shlnfdVOy<]Vp%F="),{method:f4.q5,body:Y});var x=new eG(_.E.c,!0);
x.data={R:_.Y.Wq,jH:"Loading ..."};this.J(x);this.uH=!0;iP.event("zoner_gen "+(iP.yU()?"Premium":"Free"))};
bZ.prototype.rj=function(d,v){fetch(d,v).then(function(t){t.arrayBuffer().then(function(h){this.g7(h);
this.uH=!1;var X=new eG(_.E.c,!0);X.data={R:_.Y.DQ,jH:"Loading ..."};this.J(X)}.bind(this))}.bind(this))};
bZ.prototype.g7=function(d){this.cx.push(d);this.LZ=this.cx.length-1;var v=u.q("img");u.i(v,"height:100px; margin:0 8px 0 0;");
v.src=URL.createObjectURL(new Blob([d],{type:"image/jpeg"}));this.EP.appendChild(v);v.onclick=function(t){this.a0e.LZ=this.asm;
this.a0e.lq()}.bind({a0e:this,asm:this.LZ});this.lq()};bZ.prototype.lq=function(){var d=this.cx,v=d[this.LZ],t=URL.createObjectURL(new Blob([v],{type:"image/jpeg"}));
this.FM.src=t;setTimeout(function(){this.EP.children[this.LZ].scrollIntoView()}.bind(this),20)};function f1(d,v,t,h){hm.call(this);
this.name=d;this.aq_=t;this.MK=h;this.Fu=u.q("div","");this.Fu.setAttribute("draggable","true");this.jz=u.q("div","pbody");
this.ut=new lt("",!1,"");this.ut.parent=this;this.aB7=u.q("span","cross gsicon");this.ea=u.q("span","label");
var X=this.aLB.bind(this);this.Fu.addEventListener("mousedown",this.Ff.bind(this),!1);this.Fu.addEventListener("contextmenu",X,!1);
this.ut._.addEventListener("contextmenu",X,!1);this.aB7.addEventListener("mousedown",this.R0.bind(this),!1);
this.Fu.appendChild(this.ea);if(v)this.Fu.appendChild(this.aB7);this.Y2=!1;this.ea.textContent=d}f1.prototype=new hm;
f1.prototype.s3=function(){return null};f1.prototype.re=function(){};f1.prototype.H=function(){var d=f7.get(this.name),v=!1,t=this.F0==0?22:Math.round(2+this.F0/50);
if(d.endsWith(" *")){v=!0;d=d.slice(0,d.length-2);t-=2}var h=d.length>t;this.ea.textContent=h?d.slice(0,t-2):d;
this.Fu.setAttribute("title",d);if(h)for(var X=0;X<2;X++){var g=u.q("span");g.textContent=d.charAt(t-2+X);
u.i(g,"opacity:"+(.6-X*.4));this.ea.appendChild(g)}if(v){var g=u.q("span");g.textContent=" *";this.ea.appendChild(g)}var x=d.split(" "),Z=x.length==2?x[0].substring(0,2)+x[1][0]:d.substring(0,3);
if(Z.charCodeAt(0)>=11776)Z=Z.substring(0,1);var Y=this.aq_;if(Y==null)this.ut.Ge(Z,d);else{var a;if(Y.startsWith("---"))a="<img src=\""+PIMG[Y.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Y.startsWith("==="))a="<img src=\""+Y.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Y.indexOf("\"")==-1)a="<img src=\""+Y+"\" alt=\""+u.NW(d).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.ut.Ge(a,d)}};f1.prototype.enable=function(){this.jz.className="pbody"};f1.prototype.disable=function(){this.jz.className="pbody disabled"};
f1.prototype.sq=function(d,v){};f1.prototype.dn=function(d,v,t){};f1.prototype.u_=function(d){};f1.prototype.K$=function(d,v){};
f1.prototype.vJ=function(d){this.name=d;this.H()};f1.prototype.dh=function(){};f1.prototype.Ff=function(d){if(d.button==0)this.J(new eG("select",!1));
if(d.button==1)this.vd()};f1.prototype.aLB=function(d){u.ns(d);var v=this.MK!=null&&isNaN(this.MK),t=u.cN(d,document.body),h=this.atw;
if(h==null){h=this.atw=new jr(v?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.atw.P("select",this.awV,this)}h.update(null);h.H();h.parent=this;var X=new eG(_.E.c,!0);X.data={R:_.Y.Vw,UZ:h,x:t.x+1,y:t.y+1};
this.J(X)};f1.prototype.vd=function(){if(this.MK!=null){var d=new eG(_.E.c,!0);d.data={R:_.Y.l6,UZ:this.atw};
this.J(d);if(isNaN(this.MK)){d.data={R:_.Y.Kf,Ic:lx.gp,am3:this.AE.resID}}else{d.data={R:_.Y.Kf,Ic:lx.ph,K:parseFloat(this.MK),QS:"del"}}this.J(d)}else if(this.ah9())this.J(new eG(_.E.EO,!1))};
f1.prototype.ah9=function(d){return!0};f1.prototype.R0=function(d){if(d.stopPropagation)d.stopPropagation();
this.vd()};f1.prototype.awV=function(d){var n=d.target.Q_()[0];if(n==0)this.vd();else{var v=new eG(_.E.EO,!1);
v.data=n-1;this.J(v)}};f1.prototype.li=function(d,v,t,h,X){};f1.prototype.qw=function(d,v,t,h,X){};f1.prototype.QZ=function(d,v,t,h,X){};
f1.BI=function(d,v,t){if(d.childElementCount!=0)return;var h=d.textContent;this.o0=this.a8U.bind(this);
this.a4t=this.as9.bind(this);this.XU=v;this.aLq=t;this.vH=d;this.mJ=h;var X=u.q("input","");X.setAttribute("type","text");
X.setAttribute("size","10");X.setAttribute("value",h);u.Pl(d);d.appendChild(X);X.select();X.focus();
u.BR(d);d.addEventListener("keyup",this.o0,!1);document.body.addEventListener("mousedown",this.a4t,!1)};
f1.BI.prototype.a8U=function(d){var v=cQ.L9,t=v(d.code,cQ.u0);if(v(d.code,cQ.l5)||t)this.aJm(t)};f1.BI.prototype.as9=function(d){var v=d.target;
if(v.tagName&&v.tagName.toLowerCase()=="input")return;this.aJm(!0)};f1.BI.prototype.aJm=function(d){var v=this.vH,t=v.firstChild.value;
v.removeEventListener("keyup",this.o0);document.body.removeEventListener("mousedown",this.a4t);if(this.aLq||d&&t!=""&&t!=this.mJ){this.XU(t)}else{u.Pl(v);
v.textContent=this.mJ}};f1.Te=function(){var d=[0,1,2,3,5,6,7,9,10,16,17,100];if(j8==1)d.push(28);return d};
f1.aoh=function(d){var v=f1.Te(),t=[];for(var n=0;n<d.length;n++)if(v.indexOf(d[n])==-1)t.push(d[n]);
for(var n=0;n<v.length;n++)if(d.indexOf(v[n])==-1)t.push(-v[n]);return t};f1.aMm=function(d){var v=f1.Te();
for(var n=0;n<d.length;n++){var t=d[n],h=v.indexOf(t);if(h==-1)h=v.indexOf(-t);if(0<=t&&h==-1)v.push(t);
if(t<0&&h!=-1)v.splice(h,1);if(t==0&&h!=-1)v.splice(h,1)}return v};f1.q2={Hh:"0",ayq:"1",EM:"2",ajk:"3",asc:"4",Ol:"5",CSS:"6",nj:"7",aGv:"8",a3A:"9",aLs:"10",aar:"11",arJ:"12",bX:"13",nx:"14",aG0:"15",atV:"16",Hv:"17",a0q:"18",aD5:"19",ajx:"20",_0:"21",anU:"22",aHy:"23",alm:"24",azN:"25",akw:"26",adk:"27",IC:"28"};
function eO(){f1.call(this,[9,9],!1,"---panels/actions",f1.q2.aar);this.n=null;this.sk=[0,0]}eO.prototype=new f1("");
eO.prototype.UC=function(){if(!u.al(this.jz))return;if(this.sU){this.iq();return}this.sU=u.q("div","padded scrollable");
u.i(this.sU,"width:260px;  height:260px");this.jz.appendChild(this.sU);this.P(_.E.w,this.d1,this);this.Jb=u.q("div","lpfoot");
this.jz.appendChild(this.Jb);this.EQ=[];var d="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",v="</svg>",t=d+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+v,h=d+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+v;
this.a0Q=d+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+v;this.a8T=d+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+v;
var X=[this.a0Q,h,"lrs/folder","lrs/newlayer","lrs/bin",t],g=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var n=0;n<X.length;n++){var x=X[n];if(1<n&&n!=X.length-1)x="<img src=\""+PIMG[X[n]]+"\" class=\"miniscale gsicon\" />";
var Z=new lt(x,!1,g[n]);Z.P("click",this.HF,this);this.Jb.appendChild(Z._);this.EQ.push(Z)}this.iq()};
eO.prototype.H=function(){f1.prototype.H.call(this);if(this.sU==null)return;for(var n=0;n<this.EQ.length;
n++)this.EQ[n].H()};eO.prototype.HF=function(d){var n=this.EQ.indexOf(d.currentTarget),v=this.sk,t=this.n,h=t.TK;
if(n==0){var X,g=t.tx;if(h.length==0){alert("Create an Action Set first.");return}if(v.length<2){alert("Select a target action first.");
return}if(g==null){X=this.a8T;g=this.sk}else{X=this.a0Q;g=null}this.EQ[0].Ge(X);t.tx=g}else if(n==1)this.aER();
else if(n==2||n==3){var x={qq:"Action Set "+h.length,Yx:[],exp:!0};if(n==2||h.length==0){v=[h.length];
h.push(x)}if(n==3){var Z=h[v[0]].Yx;v=[v[0],Z.length];Z.push({qq:"Action "+Z.length,color:0,Yx:[],a3_:!1,shift:!1,exp:!0,ja:Z.length})}this.sk=v;
this.iq()}else if(n==4){var Y;if(v.length==1)Y=h;else if(v.length==2)Y=h[v[0]].Yx;else Y=h[v[0]].Yx[v[1]].Yx;
var a=v.length-1;Y.splice(v[a],1);if(Y.length==0)v.pop();else while(v[a]>=Y.length)v[a]--;if(v.length==0)v.push(0);
this.iq()}else if(n==5){if(h.length==0){alert("No Actions Present.");return}var z=new eG(_.E.c,!0);z.data={R:_.Y.t9,agD:lx.F,Bm:[v[0]]};
this.J(z)}};eO.prototype.d1=function(d){var v=this.n.TK,t=d.data.R,h=d.data.xo;if(t=="sel")this.sk=h;
if(t=="fold"){if(h.length==1)v[h[0]].exp=!v[h[0]].exp;else v[h[0]].Yx[h[1]].exp=!v[h[0]].Yx[h[1]].exp}if(t=="enab"){var X=v[h[0]].Yx[h[1]].Yx[h[2]];
X.f=!X.f}if(t=="nchange"){if(h.length==1)v[h[0]].qq=d.data.co;else v[h[0]].Yx[h[1]].qq=d.data.co}this.iq()};
eO.prototype.dn=eO.prototype.dh=function(){this.UC()};eO.prototype.sq=function(d,v){this.n=d;if(this.sU==null)return;
if(v==lx.F||v==lx.Np)this.iq()};eO.prototype.iq=function(){if(this.n==null)return;u.Pl(this.sU);var d=this.n.TK;
if(d.length==0)return;var v=JSON.stringify(this.sk);for(var n=0;n<d.length;n++){var t=d[n],h=new eO.mU([n],v,t.exp,t.qq.split("=").pop());
h.parent=this;this.sU.appendChild(h._);if(!t.exp)continue;for(var X=0;X<t.Yx.length;X++){var g=t.Yx[X],h=new eO.mU([n,X],v,g.exp,g.qq.split("=").pop());
h.parent=this;this.sU.appendChild(h._);if(!g.exp)continue;for(var x=0;x<g.Yx.length;x++){var Z=g.Yx[x],h=new eO.mU([n,X,x],v,null,f7.get(kl.a3J(Z)),Z.f);
h.parent=this;this.sU.appendChild(h._)}}}};eO.prototype.aER=function(){var d=this.n.TK,v=this.sk;if(d.length==0){alert("No Actions Present");
return}if(v.length==1){alert("Select an Action first");return}if(this.n.tx!=null){alert("You can not apply actions while recording actions");
return}if(v.length==1)v.push(0);var t=d[v[0]],h=t.Yx[v[1]],X=new eG(_.E.c,!0);X.data={R:_.Y.j4,HW:[h.qq,t.qq]};
this.J(X)};eO.mU=function(d,v,t,h,X){hm.call(this);this.xo=d;var g=this.xo.length-1;this._=u.q("div","layeritem"+(JSON.stringify(d)==v?" selected":""));
this.YI=u.q("div","head");this._.appendChild(this.YI);u.i(this.YI,"height:24px");this.xr=u.q("div","headL");
this.YI.appendChild(this.xr);if(g!=0){var x=u.q("div");x.style.width=g*20+"px";this.xr.appendChild(x)}if(t!=null){var Z=this.aEY=u.q("div",t?"open":"closed");
this.xr.appendChild(Z)}else{var Y=this.aMj=u.q("div","cmark");u.i(Y,"background-size:12px 12px; opacity:"+(X?1:.3));
this.xr.appendChild(Y)}if(g==0){var a=u.q("div","folder");this.xr.appendChild(a)}var z=this.ea=u.q("div","label");
z.textContent=h;this.xr.appendChild(z);this._.addEventListener("mouseup",this.kS.bind(this),!1)};eO.mU.prototype=new hm;
eO.mU.prototype.kS=function(d){if(d.detail==1&&d.target.tagName.toLowerCase()!="input"){var v="sel";
if(d.target==this.aEY)v="fold";if(d.target==this.aMj)v="enab";var t=new eG(_.E.w,!0);t.data={R:v,xo:this.xo};
this.J(t)}else if(this.xo.length<3)var h=new f1.BI(this.ea,this.XU.bind(this))};eO.mU.prototype.XU=function(d){var v=new eG(_.E.w,!0);
v.data={R:"nchange",co:d,xo:this.xo};this.J(v)};function fA(){f1.call(this,[3],!1,"---lrs/adj",f1.q2.a0q)}fA.prototype=new f1("");
fA.prototype.UC=function(){if(!u.al(this.jz)||this.EQ)return;u.i(this.jz,"text-align:center;  padding:6px; min-width:220px");
this.EQ=[];var n=0;for(var d in cV.names){var v=new lt("<img src=\""+PIMG["adj/"+d]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,cV.names[d]);
v.P("click",this.hk,this);this.EQ.push(v);this.jz.appendChild(v._);if(n==4||n==10)u.WJ(this.jz);n++}this.H()};
fA.prototype.dn=function(){this.UC()};fA.prototype.dh=function(){this.UC()};fA.prototype.H=function(){f1.prototype.H.call(this);
if(this.EQ==null)return;for(var n=0;n<this.EQ.length;n++)this.EQ[n].H()};fA.prototype.hk=function(d){var v=this.EQ.indexOf(d.target),t=jI.GK()[v],h=new eG(t.g,!0);
h.data=t.d;this.J(h)};function kU(){f1.call(this,[12,22],!1,null,f1.q2._0);this.sU=u.q("div","padded");
this.n=null;this.jz.appendChild(this.sU);this.j$=new gk(null,17.7,10);this.j$.parent=this;this.j$.P(_.E.w,this.wj,this);
this.sU.appendChild(this.j$.Bz)}kU.prototype=new f1("");kU.prototype.wj=function(d){var v=this.j$.j(),t=new eG(_.E.F,!0);
t.data={R:"setstl",K:v.m9};t.T=A.iL;this.J(t);t.data={R:"confirm"};this.J(t)};kU.prototype.sq=function(d,v){this.n=d;
if(d==null)return;if(v==lx.Np||v==lx._0){this.j$.eN([d.Fw,d.Da]);this.j$.K$()}};kU.prototype.iq=function(){this.j$.oa()};
kU.prototype.dn=function(){this.iq()};kU.prototype.dh=function(){this.iq()};var dQ=function(){function d(){f1.call(this,[9,3],!1,"---panels/brush",f1.q2.nj);
this.mV=null;this.n=null}d.prototype=new f1("");d.prototype.UC=function(){var X=u.q("div","");this.jz.appendChild(X);
this.Oj=u.q("div","bordered cell");u.i(this.Oj,"width:10em; height:28.5em;");X.appendChild(this.Oj);
this.dQ=[];this.asX=null;this.$L=[];var g=this.aud.bind(this);this.NL=[new t("basic"),new t("useTipDynamics"),new t("useScatter"),new t("useColorDynamics"),new t("usePaintDynamics")];
for(var n=0;n<this.NL.length;n++){var x=u.q("div","listitem"),Z=this.NL[n],a=null;Z.parent=this;Z.P("brushchange",this.acd,this);
var Y=Z.uK;if(n==0){this.asX=new i9(Y);x.appendChild(this.asX._)}else{a=new l8(Y,!1);a.P(_.E.w,this.a6T,this);
x.appendChild(a._)}this.$L.push(a);this.Oj.appendChild(x);this.dQ.push(x);x.addEventListener("click",g,!1)}this.vj=u.q("div","cell padded");
X.appendChild(this.vj);this.setItem(0);this.$D=u.q("canvas");this.$D.height=10;X.appendChild(this.$D);
this.fy=this.$D.getContext("2d");this.Yc()};d.prototype.K$=function(X,g){if(this.F0==X)return;this.F0=X;
this.uV=g;this.Yc()};d.prototype.dh=function(){if(!u.al(this.jz))return;if(this.Oj){this.Yc();return}this.UC();
this.H();this.sq(this.n,lx.Np)};d.prototype.H=function(){f1.prototype.H.call(this);if(this.Oj==null)return;
this.asX.H();for(var n=1;n<this.$L.length;n++)this.$L[n].H();for(var n=0;n<this.NL.length;n++)this.NL[n].H()};
d.prototype.acd=function(X){var g=this.NL.indexOf(X.currentTarget),x=f.v(this.NL[g].mV),Z=new eG(_.E.c,!0);
Z.data={R:_.Y.Kf,Ic:lx.FA,mV:x};this.J(Z)};d.prototype.a6T=function(X){this.aHX(this.$L.indexOf(X.currentTarget),X.currentTarget.f2())};
d.prototype.aud=function(X){var n=this.dQ.indexOf(X.currentTarget);if(X.target.tagName.toLowerCase()=="input")return;
if(this.$L[n]&&!this.$L[n].f2()){this.$L[n].sW();this.aHX(n,!0)}this.setItem(n)};d.prototype.aHX=function(X,g){this.NL[X].aCQ(g)};
d.prototype.setItem=function(X){for(var n=0;n<this.NL.length;n++)this.dQ[n].className="listitem";if(this.vj.firstChild)this.vj.removeChild(this.vj.firstChild);
this.dQ[X].className="listitem selected";this.vj.appendChild(this.NL[X]._)};d.prototype.sq=function(X,g){this.n=X;
if(this.Oj==null)return;for(var n=0;n<this.NL.length;n++)this.NL[n].sq(X,g);if(g==lx.FA||g==lx.Np){this.mV=X.LG.fh;
this.Yc()}if(g==lx.bX)this.Yc()};d.prototype.Yc=function(){if(this.mV)this.enable();else{this.disable();
return}if(!u.al(this.jz))return;var X=this.n;for(var n=0;n<this.NL.length;n++){this.NL[n].a(this.mV);
if(this.$L[n])this.$L[n].a(this.NL[n].f2())}var g=f.v(this.mV);g.Brsh.v.Dmtr.v.val=Math.min(g.Brsh.v.Dmtr.v.val,50);
u.Zw(this.$D,this.F0,80);var x=new iW(0,0,this.$D.width,this.$D.height),Z=this.n.LG,Y=new hv(g,Z?Z.Qt:null,Z?Z.ku:null,{oF:1},X.Sw,X.dL,x,null,0),a=x.$/2,z=x.r-a*2;
Y.moveTo(a,a);for(var n=0;n<=z;n+=10)Y.lineTo(a+n,a+20*Math.sin(2*Math.PI*n/z));Y.finish();var p=new ImageData(x.r,x.$);
f.wH(Y.Ll(),Y.pT(),p.data,x);this.fy.putImageData(p,0,0)};function v(X){hm.call(this);X=X.split(".")[0];
this.Ro=X;var g=this._=u.q("span"),x=["Off","Fade"];x.push(X=="angleDynamics"?"Direction":"Pen Pressure");
var Z=this.sX=new e8("Control",x);Z.P(_.E.w,this.nh,this);g.appendChild(Z._);var Y=this.aC1=new eh(null,0,100,null,null,null,!0);
Y.a(50);Y.P(_.E.w,this.nh,this)}v.prototype=new hm;v.prototype.a=function(X){X=X<2?X:2;this.sX.a(X);
this.iq()};v.prototype.j=function(){var X=this.sX.j(),g=this.Ro;X=X<=1?X:g=="angleDynamics"?6:2;return X};
v.prototype.nh=function(X){this.iq();X.target=X.currentTarget=this;this.J(X)};v.prototype.iq=function(X){this.aC1.$e(this.sX.j()==1)};
function t(X){hm.call(this);this._=u.q("div");this.mV=null;var g=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(X);
this.uK=[[15,0],[15,1],[15,2],[15,3],"Transfer"][g];this.It=X;this.vE={};this.anH=null;var x=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["colorDynamicsPerTip","clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][g];
for(var n=0;n<x.length;n++){var Z=x[n],Y;if(Z=="--br"){Y=new eb;this._.appendChild(Y.Bz.firstChild)}else if(Z=="Brsh.Dmtr")Y=new fb([12,14,0],1,1e3," px",0,!0);
else if(Z=="Brsh.Angl")Y=new fb([12,15],0,359," \xB0");else if(Z=="Brsh.Rndn")Y=new fb([12,16],0,100," %");
else if(Z=="Brsh.Hrdn")Y=new fb([12,17],0,100," %");else if(Z=="Brsh.Spcn")Y=new fb([12,18],1,300," %");
else if(Z=="szVr.jitter")Y=new fb([15,4,0],0,100,"%");else if(Z=="minimumDiameter")Y=new fb([15,4,1],0,100,"%");
else if(Z=="angleDynamics.jitter")Y=new fb([15,4,2],0,100,"%");else if(Z.endsWith("bVTy"))Y=new v(Z);
else if(Z.endsWith("fStp"))Y=new eh(null,0,100,null,null,null,!0);else if(Z=="roundnessDynamics.jitter")Y=new fb([15,4,3],0,100,"%");
else if(Z=="minimumRoundness")Y=new fb([15,4,4],1,100,"%");else if(Z=="scatterDynamics.jitter")Y=new fb([15,5,0],0,1e3," %");
else if(Z=="Cnt")Y=new fb([15,5,1],1,20);else if(Z=="countDynamics.jitter")Y=new fb([15,5,2],0,100," %");
else if(Z=="clVr.jitter")Y=new fb([15,6,0],0,100," %");else if(Z=="H")Y=new fb([15,6,1],0,100," %");
else if(Z=="Strt")Y=new fb([15,6,2],0,100," %");else if(Z=="Brgh")Y=new fb([15,6,3],0,100," %");else if(Z=="opVr.jitter")Y=new fb("Opacity Jitter",0,100," %");
else if(Z=="prVr.jitter")Y=new fb("Flow Jitter",0,100," %");else if(Z=="colorDynamicsPerTip")Y=new l8("Apply Per Tip");
else throw Z;this.vE[Z]=Y;Y.parent=this;Y.P(_.E.w,this.nh,this)}}t.prototype=new hm;t.prototype.aer=function(){this.J(new eG("brushchange"))};
t.prototype.a=function(X){this.mV=f.v(X);this._.className=this.f2()?"":"disabled";this.Yc()};t.prototype.H=function(){for(var X in this.vE)this.vE[X].H()};
t.prototype.f2=function(){return!0};t.prototype.sq=function(X,g){if(g==lx.nj||g==lx.Np){var x=this.vE["--br"];
if(x)x.eN(X.LG)}};t.prototype.nh=function(X){var g=X.target,x=this.vE,Z;for(var Y in x)if(x[Y]==g)Z=Y;
if(Z=="--br"){var a=new eG(_.E.c,!0);a.data={R:_.Y.Kf,Ic:lx.FA,mV:g.j()};this.J(a)}else{var z=h(this.mV,Z),p=g.j();
if(z){if(Z.endsWith("bVTy")||Z.endsWith("fStp")||Z=="Cnt")z.v=p;else if(Z=="colorDynamicsPerTip")z.v=p;
else z.v.val=p;this.aer()}}};t.prototype.Yc=function(){var X=this.mV,g=X.Brsh.v.classID,x=this.vE,Z=g!=this.anH;
this.anH=g;if(Z){u.Pl(this._);for(var Y in x){if(g!="computedBrush"&&g!="sampledBrush"&&Y=="Brsh.Rndn")continue;
if(g!="computedBrush"&&Y=="Brsh.Hrdn")continue;var a=x[Y],z=a._;if(Y=="--br"){z=a.FB._;z.style.width="auto"}this._.appendChild(z)}}for(var Y in x){if(Y=="--br")continue;
var p=h(X,Y),U;if(p){if(Y.endsWith("bVTy")||Y.endsWith("fStp")||Y=="Cnt")U=p.v;else if(Y=="colorDynamicsPerTip")U=p.v;
else U=p.v.val;x[Y].a(U);if(Y.endsWith("fStp"))x[Y].$e(h(X,Y.split(".")[0]+".bVTy").v==1)}}};t.prototype.f2=function(){var X=this.It;
return X=="basic"?!0:this.mV[X].v};t.prototype.aCQ=function(X){var g=this.It;if(g=="basic")return;this.mV[g].v=X;
ip.Q8.abT(this.mV);this.aer()};function h(X,g){var x=g.split(".");X=X[x[0]];for(var n=1;n<x.length;n++){if(X==null)return X;
X=X.v[x[n]]}return X}return d}();function eC(){f1.call(this,[9,0],!1,"---panels/history",f1.q2.Hh);u.i(this.jz,"min-width:200px;");
this.Ma=u.q("div","hpbody scrollable");this.Ma.style.height="160px";this.jz.appendChild(this.Ma);this.aK8=-1;
this.akH=[];this.tu="";this.dj=new jr([{name:"Clear History"}],[{g:_.E.F,T:A.Hh,d:{R:"h_clear"}}])}eC.prototype=new f1("");
eC.prototype.s3=function(){return this.dj};eC.prototype.K$=function(d,v){this.dh()};eC.prototype.dn=function(d){if(d==null){u.Pl(this.Ma);
this.tu="";return}u.Pl(this.Ma);var v=0;for(var n=0;n<d.history.length;n++)if(n<=d.UG&&!d.history[n].aeP)v=n;
for(var n=0;n<d.history.length;n++){var t=d.history[n];if(t.aeP)continue;var h=new lc(t,n,v);h.parent=this;
this.Ma.appendChild(h._);this.akH.push(h)}if(d.UG==d.history.length-1)this.dh()};eC.prototype.dh=function(){this.Ma.scrollTop=this.Ma.scrollHeight};
eC.prototype.H=function(){f1.prototype.H.call(this);for(var n=0;n<this.akH.length;n++)this.akH[n].H()};
function lc(d,n,v){hm.call(this);this.index=n;this._=u.q("div",n==v?"listitem selected":"listitem");
this.fI=d.name;this.H();if(n>v)this._.style.opacity=.4;this._.addEventListener("click",this.li.bind(this),!1)}lc.prototype=new hm;
lc.prototype.H=function(){this._.textContent=f7.get(this.fI)};lc.prototype.li=function(d){if(this.index==this.parent.aK8)return;
this.CQ({R:"h_itemchange",index:this.index})};lc.prototype.CQ=function(d){var v=new eG(_.E.F,!0);v.data=d;
v.T=A.Hh;this.J(v)};function jv(){f1.call(this,[9,10],!1,"---panels/histogram",f1.q2.asc);var d=u.q("div","padded");
this.jz.appendChild(d);this.Bl=new kv(256,!0);d.appendChild(this.Bl._);this.h8=null}jv.prototype=new f1("");
jv.prototype.dn=function(d){this.h8=d;this.iq()};jv.prototype.iq=function(){var d=this.h8;if(!u.al(this.jz))return;
if(d==null||d.l.length==0){this.Bl.a(f.R4(f.m(4)));return}var v=d.jP(),t=new iW(0,0,d.r,d.$),h=t.k();
if(d.p){var X=d.p.S,g=f.m(X.k()*4);f.wH(v,t,g,X);f.XE(d.p.N,g);v=g;t=X;var x=d.p.N;h=0;for(var n=0;n<x.length;
n++)h+=x[n];h=Math.round(h/255)}var Z=f.R4(v);Z[0][255]+=3*(h-Z[5]);for(var n=1;n<4;n++)Z[n][255]+=h-Z[5];
this.Bl.a(Z,h)};jv.prototype.sq=function(d,v){this.Bl.Wi(fW._w[d.O5]["--text-color"])};jv.prototype.H=function(){f1.prototype.H.call(this);
this.Bl.H()};jv.prototype.dh=function(){this.iq()};function dg(){f1.call(this,[9,8],!1,"---adj/clrL",f1.q2.ayq);
this.sU=u.q("div","padded");this.jz.appendChild(this.sU);this.c8=new gg(10);this.sU.appendChild(this.c8._);
this.NQ=new dD;this.NQ.parent=this;this.sU.appendChild(this.NQ.Bz);this.NQ.Bz.style.marginTop="6px";
this.c8.P(_.E.w,this.ax0,this);this.NQ.P(_.E.w,this.ax0,this);dg.sU=this}dg.prototype=new f1("");dg.prototype.al7=function(d){this.NQ.FB.a(d)};
dg.prototype.ax0=function(d){var v;if(d.target==this.c8)v=this.c8.j();else{var t=this.NQ.j();v=f.Lw(t)}var h=new eG(_.E.c,!0);
h.data={R:_.Y.Kf,Ic:lx.bX,G$:0,K:v};this.J(h)};dg.qM=function(d,v){var t=v==lx.Np,h=d.my,X=d.jj,g=X.strokeStyleContent.v,x=null;
if((v==lx.Ih||t)&&h.Ci==1){x=f.iF.pq(h.hn.Clr.v);x=x.C<<16|x.L<<8|x.X}if((v==lx.XN||t)&&X.strokeEnabled.v&&g.classID=="solidColorLayer"){x=f.iF.pq(g.Clr.v);
x=x.C<<16|x.L<<8|x.X}if(v==lx.bX||t)x=d.Sw;return x};dg.prototype.sq=function(d,v){var t=d.Sw,h=v==lx.Np,X=dg.qM(d,v);
if(X!=null){this.c8.a(X);this.NQ.a({C:X>>>16&255,L:X>>>8&255,X:X>>>0&255,gT:"Default/Color #"+f.Uj(X)})}if(v==lx.ly||h){var g=d.aiL;
this.NQ.eN(g)}};dg.prototype.K$=function(d,v){this.NQ.Bz.children[0].style.width=d-32+"px"};function ih(){f1.call(this,[12,72],!1,"---adj/mixr",f1.q2.atV);
this.Ln=null;this.Vr=null;this.Ma=u.q("div","lpbody scrollable");this.Ma.style.marginTop="4px";this.Jb=u.q("div","lpfoot");
this.jz.appendChild(this.Ma);this.jz.appendChild(this.Jb);this.aAS=[];this.P("click",this.SF,this);this.On=[];
ih.Jr([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.On,this.Jb,this.xm.bind(this),this.Ij.bind(this));
this.dj=new jr([{name:"Merge Channels",XG:!0}],[{g:_.E.c,d:{R:_.Y.S8,cG:"mergechannels"}}])}ih.prototype=new f1("");
ih.prototype.s3=function(){return this.dj};ih.Jr=function(d,v,t,h,X){for(var n=0;n<d.length;n++){var g=new lt("W",!1,d[n]);
v.push(g);u.We(g._,h);t.appendChild(g._);var x=g._;x.addEventListener("drop",X,!1);x.addEventListener("dragover",function(Z){Z.preventDefault()},!1);
x.addEventListener("dragenter",u.ns,!1)}};ih.lQ=function(d,v){for(var n=0;n<d.length;n++)if(d[n]._==v.currentTarget)return n};
ih.prototype.xm=function(d){var v=ih.lQ(this.On,d);if(v==0)this.J(cZ.Rr(!0,null,d));else{v--;var t=new eG(_.E.U0,!0),h={classID:"null"};
if(v==0)h.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(v==1)h.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else h.null=kl.hR("Chnl",!0);t.data={oN:["duplicate","make","delete"][v],mQ:h};this.J(t)}};ih.prototype.Ij=function(d){var v=ih.lQ(this.On,d);
if(v==2){var t=new eG(_.E.U0,!0),h={classID:"null"};h.null=kl.hR("Chnl",!0);t.data={oN:"duplicate",mQ:h};
this.J(t)}else this.xm(d)};ih.prototype.HI=function(n){var d=this.aAS,v=d[n];if(v==null){var t=u.q("canvas");
v=t.getContext("2d");d.push(v)}return v};ih.prototype.SF=function(d){var v=this.Ln.slice(0),t=d.data.ja,h=v[0]+v[1]+v[2],X=this.Vr;
if(-5<t&&t<0){var g=-t-1;if(d.data.P_){if(g==0)v=h==3?[0,0,0]:[1,1,1];else{if(v[g-1]==0)v[g-1]=1;else if(!0)v[g-1]=0}}else{if(g==0)v=[1,1,1];
else{v=[0,0,0];v[g-1]=1}for(var n=0;n<X.gM.length;n++)X.gM[n].ak=!1;X.Cv=[]}var x=new eG(_.E.F,!0);x.T=A.MD;
x.data={R:"setcls",b$:v};this.J(x);return}if(-1<t){var Z=Math.floor(t),Y=X.U[Z],a=Z==t?Y._B():Y.Ip(X).AU;
if(d.data.P_)a.ak=!a.ak;else{Y.VL=1+(Z==t?0:2);for(var n=0;n<X.gM.length;n++)X.gM[n].ak=!1;X.Cv=[]}}else{var z=-t-5,a=X.gM[z];
if(d.data.P_)a.ak=!a.ak;else{for(var n=0;n<X.gM.length;n++)X.gM[n].ak=!1;a.ak=!0;X.Cv=[z];if(h!=0){var x=new eG(_.E.F,!0);
x.T=A.MD;x.data={R:"setcls",b$:[0,0,0]};this.J(x)}}}X.QW=X.zs=!0};ih.prototype.dh=function(){this.lq()};
ih.prototype.dn=function(d){this.Vr=d;this.lq()};ih.prototype.lq=function(){var d=this.Vr,v=this.Ma,l=4;
u.Pl(v);if(d==null||!u.al(v))return;var t=d.r,h=d.$,X=new iW(0,0,t,h),g=this.Ln=d.z.b$.slice(0),x=g[0]+g[1]+g[2],Z=Math.round(34*u.LY()),Y=Z;
if(t>h)Y=Math.round(Y*h/t);else Z=Math.round(Z*t/h);var a=["RGB"].concat(cV.Yv);for(var n=0;n<4;n++){var z=this.HI(n);
f.Kr.rn(z,Z,Y,X,d.jP(),X,!1,n==0?null:n-1);var p=n==0?x==3:g[n-1]==1,U=new cZ(-1-n,!0,!0,z,a[n],p,p);
U.parent=this;v.appendChild(U._);u.i7(z.canvas)}for(var n=0;n<d.l.length;n++){var L=d.U[d.l[n]],j=L.VL;
for(var O=0;O<2;O++){var F=O==0?L._B():L.Ip(d);if(F==null)continue;if(O==1)F=F.AU;var z=this.HI(l);l++;
f.Kr.zI(z,Z,Y,X,F);var U=new cZ(d.l[n]+O*.5,!0,!0,z,L.getName()+(O==0?"":" Filter")+" Mask",O==0&&j==1||O==1&&j==3,F.ak);
U.parent=this;v.appendChild(U._);u.i7(z.canvas)}}for(var n=0;n<d.gM.length;n++){var F=d.gM[n],z=this.HI(l+n);
f.Kr.zI(z,Z,Y,X,F);var U=new cZ(-5-n,!0,F.name=="Quick Mask",z,F.name,d.Cv.indexOf(n)!=-1,F.ak,A.EM,{R:jn.KQ,G$:"rnm",ja:n});
U.parent=this;v.appendChild(U._);u.i7(z.canvas)}};ih.prototype.K$=function(d,v){this.Ma.style.height=v-30-4+"px";
this.Ma.style.width=d+"px"};ih.prototype.H=function(){f1.prototype.H.call(this);this.lq();ih.n$(this.On,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
ih.n$=function(d,v,t){var v=a0.VG(v,null,"miniscale");for(var n=0;n<d.length;n++)d[n].Ge(v[n],t?t[n]:null)};
function cZ(d,v,t,h,X,g,x,Z,Y){hm.call(this);this._=u.q("div");this.adF=d;this.a7Q=v;this.fy=h;this.aGs=Z;
this.aA2=Y;this.YI=u.q("div",g?"head selected":"head");u.i(this.YI,"height: "+40+"px");var a=u.q("div","headL"),z=u.q("div","headR"),p=15;
this._.appendChild(this.YI);this.YI.appendChild(a);this.YI.appendChild(z);this.bK=u.q("div","eye");if(1<u.LY()&&u.LY()<1.5)p=p/u.LY();
u.i(this.bK,"background-size: "+p+"px "+p+"px;");this.bK.style.opacity=x?1:.2;if(v)a.appendChild(this.bK);
this.Lt=u.q("div","thumb");if(h)this.Lt.appendChild(h.canvas);a.appendChild(this.Lt);this.qg=u.q("div","label");
if(t)this.qg.style.fontStyle="italic";this.qg.textContent=f7.get(X);a.appendChild(this.qg);var U=this.YI;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(l){l.stopPropagation();l.dataTransfer.setData("Text","hello")},!1);
U.addEventListener("drop",u.ns,!1);u.We(this.YI,this.atS.bind(this));if(!t)this.YI.addEventListener("mouseup",this.aCh.bind(this),!1)}cZ.prototype=new hm;
cZ.prototype.XU=function(d){var v=new eG(_.E.F,!0);v.T=this.aGs;v.data=this.aA2;v.data.name=d;this.J(v)};
cZ.prototype.atS=function(d){var v=d.ctrlKey||d.metaKey,t=this.adF;if(v&&d.target==this.fy.canvas){this.J(cZ.Rr(this.a7Q,t,d))}else{var h=new eG("click",!0);
h.data={ja:t,P_:d.target==this.bK,wn:v};this.J(h)}};cZ.$S=0;cZ.prototype.aCh=function(d){if(Date.now()-cZ.$S<300&&d.target==this.qg){var v=new f1.BI(this.qg,this.XU.bind(this))}cZ.$S=Date.now()};
cZ.Rr=function(d,v,t){var h=0;if(t.shiftKey)h++;if(t.altKey)h+=2;var X=new eG(_.E.F,!0);X.T=A.Nf;if(d){var g=Math.floor(v);
if(-5<v&&v<0){X=new eG(_.E.U0,!0);X.data=A.Oe.a8(h,["RGB","Rd","Grn","Bl"][-1-v])}else if(v<=-5||v==null)X.data={R:"fromchannel",HW:[v,0,h]};
else X.data={R:"fromlayer",HW:[g,1+(v==g?0:2),h]}}else X.data={R:"frompath",HW:[v,0,h]};return X};function ha(){f1.call(this,[8,9],!1,"---panels/paths",f1.q2.Hv);
this.Ln=null;this.Vr=null;this.Ma=u.q("div","lpbody scrollable");this.Ma.style.marginTop="4px";this.Jb=u.q("div","lpfoot");
this.jz.appendChild(this.Ma);this.jz.appendChild(this.Jb);this.jz.addEventListener("click",this.a1w.bind(this),!1);
this.aAS=[];this.P("click",this.SF,this);this.On=[];ih.Jr(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.On,this.Jb,this.xm.bind(this),this.Ij.bind(this))}ha.prototype=new f1("");
ha.prototype.xm=function(d,v){var t=ih.lQ(this.On,d),h;if(t<2){if(t==1&&d.altKey){h=new eG(_.E.c,!0);
h.data={R:_.Y.S8,cG:"strokepath"}}else{h=new eG(_.E.U0,!0);h.data=A.fL.iz(t==0?null:"PbTl")}}else if(t==2)h=cZ.Rr(!1,null,d);
else if(t==3){h=new eG(_.E.U0,!0);h.data=A.Oe.amM()}else if(t>3){var h=new eG(_.E.F,!0);h.T=A.Z4;h.data={R:"pathedit",G$:["new","del"][t-4],atp:v}}this.J(h)};
ha.prototype.Ij=function(d){this.xm(d,!0)};ha.prototype.HI=function(n){var d=this.aAS,v=d[n];if(v==null){var t=u.q("canvas");
v=t.getContext("2d");d.push(v)}return v};ha.prototype.a1w=function(d){if(d.target==this.Ma){var v=this.Vr;
v.lE=[];v.so=[];v.zs=!0;v.QW=!0}};ha.prototype.SF=function(d){var v=d.data.ja,t=this.Vr,h=d.data.wn,X=v,g=t.so,x=t.lE;
if(v<0){X=-1-v;g=t.lE;x=t.so}if(h){var Z=g.indexOf(X);if(Z==-1)g.push(X);else g.splice(Z,1)}else{while(g.length!=0)g.pop();
while(x.length!=0)x.pop();g.push(X)}t.zs=!0;t.QW=!0};ha.prototype.dh=function(){this.lq()};ha.prototype.dn=function(d){this.Vr=d;
this.lq()};ha.prototype.lq=function(){var d=this.Vr,v=this.Ma;u.Pl(v);if(d==null||!u.al(v))return;var t=d.r,h=d.$,X=new iW(0,0,t,h),g=this.Ln=d.z.b$.slice(0),x=g[0]+g[1]+g[2],Z=Math.round(34*u.LY()),Y=Z;
if(t>h)Y=Math.round(Y*h/t);else Z=Math.round(Z*t/h);var a=d.V9(),z=a[0];for(var n=0;n<z.length;n++){var p=z[n],U=d.v1!=-1&&d.v1==-1-p.ja,l=this.HI(n);
f.Kr.abu(l,Z,Y,X,p.add.vmsk,U);var L=new cZ(p.ja,!1,p.ja>=0||U,l,p.name,a[1].indexOf(n)!=-1,!1,A.Z4,{R:"pathedit",G$:"rnm",ja:p.ja});
L.parent=this;v.appendChild(L._);u.i7(l.canvas)}};ha.prototype.K$=function(d,v){this.Ma.style.height=v-30-4+"px";
this.Ma.style.width=d+"px"};ha.prototype.H=function(){f1.prototype.H.call(this);this.lq();ih.n$(this.On,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function aU(d){f1.call(this,[9,d?4:5],!1,"---panels/"+(d?"character":"paragraph"),d?f1.q2.a3A:f1.q2.aLs);
u.i(this.jz,"min-width:255px;");this.aHj=d;this.n=null;this.VK=!1}aU.prototype=new f1("");aU.UW=null;
aU.prototype.UC=function(){var d=aU.UW,v=this.jz;if(d==null)d=aU.UW=new cs;d.parent=this;this.VK=!0;
if(this.aHj){var t=u.q("div","marged");v.appendChild(t);t.appendChild(d.W2._);t.appendChild(d.xb);u.$a(v);
var h=u.q("div","marged");v.appendChild(h);h.appendChild(d.yW._);h.appendChild(d.VM._);var X=u.q("div","marged");
v.appendChild(X);X.appendChild(d.wx._);X.appendChild(d._2._);u.$a(v);var g=u.q("div","marged");v.appendChild(g);
g.appendChild(d.vb._);g.appendChild(d.n5._);var x=u.q("div","marged");v.appendChild(x);x.appendChild(d.K6._);
x.appendChild(d.kA._);x.appendChild(d.GG._);u.$a(v);var Z=u.q("div","marged");v.appendChild(Z);Z.appendChild(d.Xy._);
Z.appendChild(d.eJ._);Z.appendChild(d.HH._);Z.appendChild(d.TW._);Z.appendChild(d.M2._);Z.appendChild(d.PH._);
Z.appendChild(d.wd._);Z.appendChild(d.Gk._);var Y=u.q("div","marged");v.appendChild(Y);for(var n=0;n<8;
n++)Y.appendChild(d.N_[n]._);u.$a(v);var a=u.q("div","marged");v.appendChild(a);a.appendChild(d.H2._)}else{var t=u.q("div","marged");
v.appendChild(t);t.appendChild(d.aeC._);t.appendChild(d.aHN._);t.appendChild(d.aL7._);t.appendChild(d.abl._);
t.appendChild(d.a5C._);t.appendChild(d.avN._);t.appendChild(d.az5._);u.$a(v);var h=u.q("div","marged");
v.appendChild(h);h.appendChild(d.J_._);h.appendChild(d.UM._);h.appendChild(d.IR._);u.$a(v);var X=u.q("div","marged");
v.appendChild(X);X.appendChild(d.pJ._);X.appendChild(d.P7._);X.appendChild(d.i0._);X.appendChild(d.qE._)}};
aU.prototype.dh=function(){if(!u.al(this.jz))return;if(!this.VK){this.UC();var d=this.n;if(d)aU.UW.a(d.Jh,d.FP,d.KL);
aU.UW.H()}};aU.prototype.H=function(){f1.prototype.H.call(this);if(aU.UW)aU.UW.H()};aU.prototype.sq=function(d,v){this.n=d;
if(v!=lx.Np&&v!=lx.jO&&v!=lx.IQ&&v!=lx.Iw)return;if(aU.UW)aU.UW.a(d.Jh,d.FP,d.KL)};function ix(d){f1.call(this,d?"Character Styles":"Paragraph Styles",!1,null,d?f1.q2.alm:f1.q2.azN);
u.i(this.jz,"min-width:240px;");var v=this.sl=u.q("div","scrollable");this.jz.appendChild(v);u.i(v,"max-height:400px;");
this.qb=null;this.aAL=null;this.ng=null;this.aHj=d?0:1;this.h8=null;this.n=null;this.aeu=ix.prototype.OH.bind(this)}ix.prototype=new f1("");
ix.prototype.dn=function(d,v,t){this.h8=d;this.n=t;this.lq()};ix.prototype.lq=function(){var d=this.sl;
u.Pl(d);if(!u.al(this.jz))return;var v=this.h8,t=this.n;if(v==null||t==null)return;var h=t.Jh,X=this.qb=[],g={},x=this.aAL=[],Z=this.ng=[],Y={},a=this.aHj,z=a==0?"Style":"Paragraph";
for(var n=0;n<v.U.length;n++){var p=v.U[n].add.TySh;if(p==null)continue;var U=p.Oo,l=p.M.Mk(),L=U.ResourceDict.FontSet,j=U.EngineDict[z+"Run"],O=j.RunArray;
for(var F=0;F<O.length;F++){var i=ix.ayn(O[F][z+"Sheet"][a==0?"StyleSheetData":"Properties"],a,L,x,Y,l);
if(i.FillColor==null)i.FillColor={Type:1,Values:[1,0,0,0]};var $=JSON.stringify(i);if(g[$]==null){g[$]=!0;
X.push(i)}}}var H=a==0?function(I,k){return k.FontSize-I.FontSize}:function(I,k){return I.Justify-k.Justify};
X.sort(H);var b=[];if(a==0){var r=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],W=r.length,V=new Array(W),y=1e9,c=0;
V.fill(1e9);for(var n=0;n<X.length;n++){var S=X[n],L=S.FontSize;y=Math.min(y,L);c=Math.max(c,L);var K=S.FillColor.Values,T=(K[1]+K[2]+K[3])/3;
b[n]=T>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var D=ix.ayn(a==0?h.Uy:h.eE,a,h._G,x,Y,1),N=JSON.stringify(D);
for(var n=0;n<X.length;n++){var G=u.q("div");d.appendChild(G);Z.push(G);G.addEventListener("click",this.aeu,!1);
var S=X[n],s=JSON.stringify(S)==N;if(a==0){var Q=x[S.Font].Name,q=Q.toLowerCase(),R=q.indexOf("bold")!=-1||q.indexOf("-black")!=-1,m=q.indexOf("italic")!=-1||q.indexOf("oblique")!=-1||q.endsWith("-it"),E=q.indexOf("light")!=-1,L=S.FontSize,K=S.FillColor.Values,e=b[n];
if(s){e=e.slice(0);e[1]=Math.min(1,e[1]+.2)}var w=c==y?.5:(L-y)/(c-y),h=10+16*w,M="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+h+"px; color:"+CSS.cZ({C:K[1]*255,L:K[2]*255,X:K[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.cZ({C:e[1]*255,L:e[2]*255,X:e[3]*255})+";";
if(R)M+=" font-weight:bold;";if(m)M+=" font-style:italic;";if(E)M+=" font-weight:lighter;";u.i(G,M);
var P=u.q("span");G.appendChild(P);u.i(P,"display:inline-block;  width:"+(c>99?50:40)+"px;  text-align:right;  margin-right:5px;");
P.textContent=Math.round(L);P=u.q("span");G.appendChild(P);u.i(P,"display:inline-block;  width:130px; ");
P.textContent=Q}}};ix.prototype.OH=function(d){var v=f.v(this.n.Jh),n=this.ng.indexOf(d.currentTarget),t=this.qb[n];
for(var h in t)if(h!="Font")v.Uy[h]=t[h];jM.aW(v,this.aAL[t.Font].Name);console.log(v);var X=new eG(_.E.c,!0);
X.data={R:_.Y.Kf,Ic:lx.jO,Jh:v};this.J(X);var X=new eG(_.E.F,!0);X.T=A.uW;X.data={R:"updateStyles"};
this.J(X)};ix.ayn=function(d,v,t,h,X,g){var x=v==0?["Font","FontSize","FillColor"]:[],Z={};for(var Y=0;
Y<x.length;Y++)Z[x[Y]]=d[x[Y]];if(v==0){if(Z.Font!=null){var a=t[Z.Font].Name;if(X[a]==null){X[a]=h.length;
h.push(t[Z.Font])}Z.Font=X[a]}Z.FontSize=Z.FontSize*g}return Z};ix.prototype.dh=function(){if(!u.al(this.jz))return};
ix.prototype.H=function(){f1.prototype.H.call(this)};ix.prototype.sq=function(d,v){this.n=d;this.lq()};
function cc(){f1.call(this,[9,13],!1,"---panels/glyphs",f1.q2.aD5);this.n=null}cc.prototype=new f1("");
cc.prototype.UC=function(){this.UW=new cs;this.UW.parent=this;this.arG=null;this.ayR=null;this.V3=null;
this.aJT=null;this.i$=Math.round(290*u.LY());this.p$=45;this.vu=4;this.aDR=this.iq.bind(this);this.aJk=0;
this.uI=new e8(null,["Hi","Hello"]);this.uI.P(_.E.w,this.iq,this);var d=this.ah=new lt("-",null,null,!0);
d.P("click",this.aMn,this);var v=this.aKn=new lt("+",null,null,!0);v.P("click",this.aMn,this);this.FB=new c0(!1);
this.FB.P(_.E.w,this.a86,this);this.FB._.style.height=250+"px";var t=this.Ig=u.q("div","form padded");
this.jz.appendChild(t);t.appendChild(this.UW.W2._);u.WJ(t);t.appendChild(this.uI._);t.appendChild(d._);
t.appendChild(v._);this.jz.appendChild(this.FB._)};cc.prototype.K$=function(d,v){if(this.F0==d||this.UW==null)return;
this.F0=d;this.i$=Math.floor((d-13)*u.LY());u.i(this.Ig,"width:"+this.i$/u.LY()+"px;");this.FB._.style.height=v-73+"px";
this.iq()};cc.prototype.a86=function(d){var v=this.ak7(),t=Math.round(this.i$/v);v/=u.LY();var h=this.FB.j()[0]*t*this.vu,X=this.FB.a43();
h+=Math.floor(X.y/v)*t;h+=Math.floor(X.x/v);var g=this.V3[this.uI.j()];if(h>=g.length)return;var x=g[h],Z=this.aJT[x],Y=new eG(_.E.F,!0);
Y.T=A.uW;if(Z.$x.length==0)Y.data={R:"insertGlyph",K:h+1};else Y.data={R:"insertText",K:String.fromCodePoint(Z.$x[0])};
this.J(Y)};cc.prototype.aMn=function(d){var v=1.2;if(d.target==this.ah){if(this.p$>20)this.p$/=v}else{if(this.p$<100)this.p$*=v}this.iq()};
cc.prototype.dh=function(){this.sq(this.n)};cc.prototype.sq=function(d,v){this.n=d;if(!u.al(this.jz))return;
if(this.UW==null)this.UC();this.UW.a(d.Jh,d.FP,d.KL);var t=d.Jh,h=t.Uy.Font,Y=0;if(h==null)return;var X=jM.Ps(t._G[h]);
if(this.arG==X)return;var h=d.FP.wv(X);if(h==null)return;var g=h.maxp.numGlyphs,x=this.aJT=new Array(g);
for(var n=0;n<g;n++)x[n]={$x:[]};var Z=Date.now(),a=new Uint8Array(1048575);for(var n=0;n<1048575;n++){var z=Typr.U.codeToGlyph(h,n);
if(z!=0&&z<g){a[n]=1;if(x[z].$x.length==0)Y++;x[z].$x.push(n)}}var p=cc.Dl,U=[];for(var n=0;n<p.length;
n++)U.push([]);for(var z=1;z<g;z++){U[0].push(z);var l=x[z].$x[0];if(l==null){continue}for(var L=1;L<p.length;
L++){var j=p[L].GM;for(var n=0;n<j.length;n+=2)if(j[n]<=l&&l<=j[n+1]){U[L].push(z);break}}}this.V3=U;
var O=[];for(var n=0;n<p.length;n++)O.push(p[n].ze+" ("+U[n].length+")");var F=this.uI.j();this.uI.Cw(O);
this.uI.a(F);this.arG=X;this.ayR=h;this.iq()};cc.prototype.ak7=function(d){var v=Math.floor(this.i$/this.p$);
return Math.floor(this.i$/v)};cc.prototype.iq=function(d){if(!u.al(this.jz)||this.V3==null)return;var v=this.V3[this.uI.j()],t=v.length,h=this.ayR,X=Typr.U,g=this.ak7(),x=g,Z=x*.8,Y=x*.8/h.head.unitsPerEm,a=[],z=Math.floor(this.i$/g),p=Math.ceil(t/z),U=this.vu,l=Date.now(),L=null;
for(var j=0;j<p;j+=U){var O=u.q("canvas"),F=O.getContext("2d");if(L==null)L=O.toDataURL("png");O.width=g*z;
O.height=x*U;var i=u.q("map"),$="map"+Math.random();i.setAttribute("name",$);F.fillStyle="white";F.fillRect(0,0,z*g,x*U);
for(var H=0;H<U;H++){for(var b=0;b<z;b++){var n=v[(j+H)*z+b];if(n==null)break;var r=X.glyphToPath(h,n),W=f.Q.mo(r.crds);
F.fillStyle="#252525";if(W.HP()){var V=h.hmtx,y=[],T=170;for(var c in V)y.push(c);var S=V[y[0]][n],C=V[y[1]][n],K=Math.max(S,C);
r={cmds:"M L M L M L".split(" "),crds:[0,0,K,0,0,-T,0,T,K,-T,K,T]};W.r=K;W.x=0;F.strokeStyle="rgba(0,255,0,1)"}var D=g/u.LY(),N=x/u.LY(),G=[b*D,H*N,(b+1)*D,(H+1)*N].join(","),s=u.q("area");
i.appendChild(s);s.setAttribute("shape","rect");s.setAttribute("coords",G);var Q=this.aJT[n];s.setAttribute("title","Glyph: "+n+"\nCharacter: "+(Q.$x.length==0?"----":String.fromCodePoint(Q.$x[0]))+"\nUnicode: #"+(Q.$x.length==0?"----":Q.$x[0].toString(16).padStart(4,"0")));
F.beginPath();var q=b*g+(g-W.r*Y)*.5-W.x*Y,R=H*x+Z;F.translate(q,R);F.scale(Y,-Y);X.pathToContext(r,F);
F.scale(1/Y,-1/Y);F.translate(-q,-R);W.HP()?F.stroke():F.fill()}}F.beginPath();for(var b=0;b<z;b++){var m=b*g+g+.5;
F.moveTo(m,0);F.lineTo(m,x*U)}for(var H=-1;H<U;H++){var E=H*x+x+.5;F.moveTo(0,E);F.lineTo(z*g,E)}F.strokeStyle="rgba(0,0,0,0.3)";
F.stroke();var e=u.q("div");e.appendChild(O);u.i(e,"position:relative;");u.WI(O,g*z,x*U);var w=u.q("img");
e.appendChild(w);e.appendChild(i);w.setAttribute("src",L);w.setAttribute("usemap","#"+$);u.i(w,"position:absolute; top:0; left:0;");
u.WI(w,g*z,x*U);a.push(e)}this.FB.lr(a,null,g*z,x*U)};cc.Dl=[{ze:"All Glyphs"},{ze:"Basic Latin, Latin 1",GM:[0,127,128,143]},{ze:"Latin Extended-A",GM:[256,383]},{ze:"Latin Extended-B",GM:[384,591]},{ze:"Punctuations",GM:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{ze:"Greek",GM:[880,1023]},{ze:"Cyrillic",GM:[1024,1279]},{ze:"Hebrew",GM:[1424,1535]},{ze:"Arabic",GM:[1536,1791]},{ze:"Emoji",GM:[9728,10095,127744,129535]}];
function hy(){f1.call(this,[13,0],!1,null,f1.q2.bX);this.I2=0;this.aNQ=0;this.n=null}hy.prototype=new f1("");
hy.prototype.UC=function(){if(!u.al(this.jz)||this.BA)return;var d=u.q("div","flexrow padded");this.jz.appendChild(d);
var v=u.q("div");d.appendChild(v);this.BA=[];for(var n=0;n<2;n++){var t=new cX;this.BA.push(t);t.P("click",this.anc,this);
v.appendChild(t._)}this.Hi=new gb(192);console.log("hsb picker");this.Hi.P(_.E.w,this.Aj,this);this.Kg=new ij;
this.Kg.parent=this;d.appendChild(this.Hi._);this.sq(this.n,lx.Np)};hy.prototype.anc=function(d){var v=d.currentTarget,t=this.BA.indexOf(v);
if(t==this.I2){this.Kg.mI(t)}else{this.I2=t;this.iq()}};hy.prototype.Aj=function(d){var v=this.Hi.j();
this.Hi.a(v);var t=Math.round(v.C*255)<<16|Math.round(v.L*255)<<8|Math.round(v.X*255),h=new eG(_.E.c,!0);
h.data={R:_.Y.Kf,Ic:lx.bX,G$:this.I2,K:t};this.J(h);this.aNQ=Date.now()};hy.prototype.iq=function(){if(this.Kg==null)return;
var d=this.n,v=this.I2,t=[d.Sw,d.dL];for(var n=0;n<2;n++){var h=this.BA[n],X=h._.style;h.Wi(t[n]);if(n==v)X.filter="drop-shadow(0 0 1px #000000)"}var g=t[v];
if(Date.now()-this.aNQ>100)this.Hi.a({C:(g>>>16)/255,L:(g>>>8&255)/255,X:(g&255)/255})};hy.prototype.sq=function(d,v){this.n=d;
if(this.Kg==null)return;if(v==lx.Np||v==lx.bX){this.Kg.aGk(d.Sw,d.dL);this.iq()}};hy.prototype.dn=function(){this.UC()};
hy.prototype.dh=function(){this.UC();this.iq()};function ca(){f1.call(this,"CSS",!1,"---panels/css",f1.q2.CSS);
this.h8=null;var d=u.q("div","padded");this.jz.appendChild(d);this.Py=u.q("textarea");u.BR(this.Py);
d.appendChild(this.Py)}ca.prototype=new f1("");ca.prototype.K$=function(d,v){if(this.F0==d)return;this.F0=d;
u.i(this.Py,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(d-10)+"px; height:"+(v-10)+"px")};
ca.prototype.dn=function(d){this.h8=d;this.iq()};ca.prototype.sq=function(d,v){if(v==lx.IQ)this.iq()};
ca.prototype.iq=function(){var d=this.h8;if(d==null||d.l.length==0)return;if(!u.al(this.jz))return;var v=d.U[d.l[0]],t=CSS.azK(v,d);
if(t.length!=0)this.Py.value=t.join(";\n")+";";else this.Py.value=""};ca.prototype.dh=function(){this.iq()};
function cC(){f1.call(this,"Text to Image",!1,null,f1.q2.aHy);this.h8=null;this.e$=0;this.jR={};this._z=null;
var d=this.ng=[new eR("Prompt",null,null,4),new lt([12,49],!0,null,!0)];d[0].a("goat riding a bike");
var v=u.q("div","form padded labfxd");this.jz.appendChild(v);for(var t=0;t<d.length;t++){d[t].parent=this;
v.appendChild(d[t]._);if(t==1)d[t].P("click",this.Rh,this)}this.Bl=u.q("div","scrollable");v.appendChild(this.Bl);
this.axO=cC.prototype.akZ.bind(this)}cC.prototype=new f1("");cC.prototype.Rh=function(){var d=this.ng,v=d[0].j().trim(),t=function(){var h=iT.ae5(v,null,null,this.axO);
if(h==1)u.M3(this.jz,"disabled")}.bind(this);if(iT.Sk(3))t();else iT.vx(t)};cC.prototype.akZ=function(d){var v=this.ng;
u.Ag(this.jz,"disabled");var t={created:Math.round(Date.now()/1e3),data:[{b64_json:b3.cq(d.target.response)}]},h=this.jR,X=v[0].j().trim();
if(h[X]==null)h[X]=[];h[X].push(t);iT.o6("Generate",3);this.iq()};cC.prototype.K$=function(d,v){if(this.F0==d)return;
this.F0=d;this.jz.style.width=d-16+"px";this.Bl.style.height=v-190+"px"};cC.prototype.dn=function(d,v){this.h8=d;
if(d)this.e$=v.n0.indexOf(d);this.iq()};cC.prototype.H=function(d,v){f1.prototype.H.call(this);var t=this.ng,X=" target=\"_blank\" style=\"color:inherit;\">";
for(var h=0;h<t.length;h++)this.ng[h].H()};cC.prototype.iq=function(){var d=this.Bl,v=this.jR;u.Pl(d);
var t=[];for(var h in v){v[h].sort(function(l,L){return L.created-l.created});t.push([h,v[h]])}t.sort(function(l,L){return L[1][0].created-l[1][0].created});
var X=this.azG.bind(this),g=this._z=[[],[]];for(var n=0;n<t.length;n++){var h=t[n][0],x=t[n][1],Z=u.q("div");
Z.textContent=h;d.appendChild(Z);for(var Y=0;Y<x.length;Y++){var a=x[Y].data;for(var z=0;z<a.length;
z++){var p=a[z].b64_json,U=u.q("img");U.setAttribute("src","data:image/png;base64,"+p);U.onclick=X;U.style.width=128/u.LY()+"px";
U.style.marginRight="4px";U.style.cursor="pointer";d.appendChild(U);g[0].push(U);g[1].push(a[z])}}}};
cC.prototype.azG=function(d){var n=this._z[0].indexOf(d.target),v=this._z[1][n].b64_json,t=b3.CP(v);
dY.o_({url:"file",e$:this.e$},t,this)};cC.prototype.dh=function(){this.iq()};function lE(){f1.call(this,[9,6],!1,"---panels/info",f1.q2.ajk);
u.i(this.jz,"min-width:240px;");this.h8=null;this.n=null;this.yb=null;var d=this.nM=[];for(var v=0;v<3;
v++){var t=u.q("div","marged row");this.jz.appendChild(t);var h=u.q("div","cell");u.i(h,"width:10em");
t.appendChild(h);var X=u.q("div","cell");u.i(X,"width:10em");t.appendChild(X);var g=[8,4,3][v];for(var n=0;
n<g;n++){var x=new i9("");d.push(x);x.a(0);x._.style.padding="0";var Z=n<(v==1?2:4)?h:X;Z.appendChild(x._);
u.WJ(Z)}if(v<2)u.$a(this.jz)}this.U9=d[8];this.SC=d[9];this.G5=d[10];this.Q2=d[11];u.$a(this.jz);this.yb=u.q("div");
u.i(this.yb,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.jz.appendChild(this.yb)}lE.prototype=new f1("");
lE.prototype.qw=function(d,v,t,h,X){if(!u.al(this.jz)||d==null)return;var g=d.z.tw(X.x,X.y),x=new cK(Math.floor(g.x),Math.floor(g.y));
if(!X.n2){var Z=0,Y=0,a=0,z=0,p=this.nM;if(!X.n2&&!d.aju()&&new iW(0,0,d.r-1,d.$-1).QQ(x)){var U=d.jP(),n=d.r*x.y+x.x<<2;
Z=U[n+0];Y=U[n+1];a=U[n+2];z=U[n+3]}var l=f.aB([Z/255,Y/255,a/255]);p[0].a("R: "+Z);p[1].a("G: "+Y);
p[2].a("B: "+a);p[3].a("A: "+z);p[4].a("C: "+Math.round(l[0]*100)+"%");p[5].a("M: "+Math.round(l[1]*100)+"%");
p[6].a("Y: "+Math.round(l[2]*100)+"%");p[7].a("K: "+Math.round(l[3]*100)+"%");var L=f.aac(Z,Y,a);p[12].a("H: "+Math.round(L.uV*360)+"\xB0");
p[13].a("S: "+Math.round(L.Wx*100)+"%");p[14].a("B: "+Math.round(L.X*100/255)+"%")}var j=d.z.OI>1?new cK(g.x,g.y):x;
this.U9.a("X: "+f.rd.Zm(j.x,d.u3,t,d.r));this.SC.a("Y: "+f.rd.Zm(j.y,d.u3,t,d.$));this.r_()};lE.prototype.r_=function(){var d=this.h8,v=this.n,t=0,h=0;
if(d&&v){if(d.z.O0){t=d.z.O0.r;h=d.z.O0.$}else if(d.p){t=d.p.S.r;h=d.p.S.$}t=f.rd.Zm(Math.abs(t),d.u3,v,d.r);
h=f.rd.Zm(Math.abs(h),d.u3,v,d.$)}this.G5.a(f7.get([12,41]).charAt(0)+": "+t);this.Q2.a(f7.get([12,42]).charAt(0)+": "+h)};
lE.prototype.H=function(){f1.prototype.H.call(this);this.r_()};lE.prototype.dh=function(){this.dn(this.h8,null,this.n)};
lE.prototype.dn=function(d,v,t){this.h8=d;this.n=t;if(!u.al(this.jz))return;console.log("update");this.r_();
if(d&&d.l.length!=0){var h=d.l[0],X=d.U[h],g=cV.get(X.add)!=null,x=g&&d.l[0]>0;this.yb.innerHTML="";
for(var n=0;n<d.Aw.length;n++){var Z=d.Aw[n],X=d.z.X4(Z.x,Z.y),Y=A.Ds.Ah(d,X,1,x?1:2),a={C:Y>>>16&255,L:Y>>>8&255,X:Y&255},j="<span style=\"display:inline-block; width:25px; text-align:right\">",O="</span>";
if(x){var z=d.l[0];d.l[0]=h-1;var p=A.Ds.Ah(d,X,1,1),U={C:p>>>16&255,L:p>>>8&255,X:p&255};d.l[0]=z}var l=u.q("div");
u.i(l,"padding: 0.5em 0.5em; width: 40%");var L="<b>#"+(n+1)+"</b>",F=[a.C,a.L,a.X],i=x?[U.C,U.L,U.X]:null,$=["R","G","B"];
for(var H=0;H<3;H++)L+="<br/>"+j+$[H]+O+": "+(x?j+i[H]+O+" /":"")+j+F[H]+O;l.innerHTML=L;this.yb.appendChild(l)}}};
function g9(){f1.call(this,[9,1],!1,"---panels/layers",f1.q2.EM);this.ayg=null;this.G8=[];this.Vr=null;
this.caller=null;this.YI=u.q("div","lphead");this.Ma=u.q("div","lpbody scrollable");this.Ma.addEventListener("scroll",this.ak2.bind(this),!1);
this.Jb=u.q("div","lpfoot");var d=this.abR=u.q("span");u.i(d,"display:inline-block; height:26px");this.DV=new e8(null,gL.GY,gL.F_);
this.DV.P(_.E.w,this.abG,this);this.JQ=new eh([12,0],0,100,"%",0);this.JQ.P(_.E.w,this.aon,this);this.JQ.parent=this;
this.Px=new eQ;this.Px.parent=this;this.Px._.style.marginLeft="4px";this.cH=new eh("Volume",0,100,"%",0);
this.cH.parent=this;this.cH.P(_.E.w,this.a3H,this);this.Px.P(_.E.w,this.a3H,this);this.Pq=new eM([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Pq.P(_.E.w,this.ad4,this);this.u5=new eh([12,26],0,100,"%",0);this.u5.P(_.E.w,this.a8R,this);this.u5.parent=this;
if(j8==0){this.YI.appendChild(d);this.YI.appendChild(this.DV._);this.YI.appendChild(this.JQ._);this.YI.appendChild(this.Pq._);
this.YI.appendChild(this.u5._)}if(j8==2){this.YI.appendChild(this.Px._);this.YI.appendChild(this.cH._)}this.On=[];
this.Jr();if(j8==0||j8==2)this.jz.appendChild(this.YI);this.jz.appendChild(this.Ma);this.Ma.addEventListener("dragover",function(X){X.preventDefault()},!1);
this.Ma.addEventListener("dragenter",u.ns,!1);this.Ma.addEventListener("drop",this.afQ.bind(this),!1);
this.jz.appendChild(this.Jb);this.jz.addEventListener("contextmenu",u.ns,!1);if(j8==0)this.P("rclick",this.acg,this);
var v=function(X,g,n){return{BY:this.Pg[n]==1}}.bind(this);if(j8==0){this.ap2=new jr([{name:[0,6],f:v},{name:[14,10],f:v},{name:[6,57,2],f:v,G0:!0},{name:"Long-tap as a right click",f:v,G0:!0},{name:"Add \"copy\" to copied layers",f:function(){return{BY:fV.R$==1,f:!0}}},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",f:function(){return{BY:fV.Wd==0,f:!0}}},{name:"Thumbnails by Document",f:function(){return{BY:fV.Wd==1,f:!0}}}]);
this.ap2.P("select",this.a0M,this)}this.Pg=[0,1,1,0];var t=window.locStor;if(t){var h=t.getItem("lpOpt");
if(h){h=JSON.parse(h);this.Pg=h[0];fV.kr=h[1];fV.Wd=h[2];fV.R$=h[3]}}this.a0M()}g9.prototype=new f1("");
g9.Jj=function(d){var v=d==null?0:d.l.length;return{f:v!=0&&(v!=1||d.l[0]!=0)&&(v!=1||!d.U[d.l[0]].h5()||d.U[d.l[0]].ZC()),DZ:f7.get(v>1||v==1&&d.U[d.l[0]].h5()?[6,12,0]:[6,10])}};
g9.prototype._i=function(){if(this.aOg)return;var d=jI.RN(!0),v=jI.Yb(!0);this.aOg=new jr(d,v);var d=[{name:[14,10]},{name:[14,11],G0:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],G0:!0},{name:[6,7,0]},c7.u7(!0,!0),{name:[6,8],f:g9.afr},{name:[6,34],f:function(h){var X=h.U[h.l[0]];
return{f:X.add.lmfx!=null&&!X.h5()}}},{name:[6,40],G0:!0,f:function(h){var X=h.U[h.l[0]];return{f:X.add.TySh!=null}}},{name:"",G0:!0,f:function(h){var X=h.U[h.l[0]],g=X.add.TySh,x=g?g.Oo:null;
return{f:g!=null&&x.Curve==null,DZ:f7.get(g&&jM.YX(x)==0?[16,3,1]:[16,3,0])}}},g9.a7x(!1),jI.azb(),{name:[6,12,0],f:g9.Jj},{name:[6,12,1],G0:!0},{name:[13,0],sub:function(){var h=[];
for(var n=0;n<fR.$_.length;n++)h.push({name:[13,1,n],Kr:"#"+f.Uj(fR.$_[n])});return h}()}],v=[{g:_.E.c,d:{R:_.Y.S8,cG:"layerstyle"}},{g:_.E.F,T:A.Nf,d:{R:"fromlayer",HW:[null,0,0]}},{g:_.E.F,T:A.EM,d:{R:jn.jl}},{g:_.E.c,d:{R:_.Y.S8,cG:"duplinto"}},{g:_.E.F,T:A.EM,d:{R:jn.o1}},{g:_.E.U0,d:{oN:"newPlacedLayer"}},c7.u7(!1,!0),{g:_.E.U0,d:{oN:"rasterizeLayer",mQ:{classID:"rasterizeLayer",null:kl.hR("Lyr",!0)}}},{g:_.E.U0,d:{oN:"rasterizeLayer",mQ:{classID:"rasterizeLayer",null:kl.hR("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:_.E.F,T:A.EM,d:{R:jn.by}},{g:_.E.F,T:A.uW,d:{R:"switchPntPrgr"}},{g:_.E.F,T:A.EM,d:{R:jn.BV}},jI.aDO(),{g:_.E.U0,d:{oN:"mergeLayersNew",mQ:{__name:"Merge Layers",classID:"Mrg2"}}},{g:_.E.U0,d:{oN:"flattenImage"}},{sub:function(){var h=[];
for(var n=0;n<8;n++)h.push({g:_.E.F,T:A.EM,d:{R:jn.WO,agj:n}});return h}()}];this.vj=new jr(d,v);var d=[{name:[6,45],f:function(h){var X=h.U[h.l[0]];
return{f:X.Ip(h).AU==null}}},{name:[6,47]}],v=[{g:_.E.F,T:A.EM,d:{R:jn.qV}},{g:_.E.F,T:A.EM,d:{R:jn.IX}}];
this.aCi=new jr(d,v);var d=[{name:"enab/disab",f:function(h){return{DZ:f7.get(h.U[h.l[0]]._B().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],f:function(h){return{f:h.fi(!1,!0)}}}],v=[{g:_.E.F,T:A.EM,d:{R:jn.gu}},{g:_.E.F,T:A.EM,d:{R:jn.yf}},{g:_.E.F,T:A.EM,d:{R:jn.vz}}];
this.aj8=new jr(d,v);var d=[{name:"enab/disab",f:function(h){return{DZ:f7.get(h.U[h.l[0]].Ip(h).AU.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],v=[{g:_.E.F,T:A.EM,d:{R:jn.V7}},{g:_.E.F,T:A.EM,d:{R:jn.qH}}];
this.alw=new jr(d,v);var d=[{name:"Enable / Disable"},{name:[6,53]}];this.afo=new jr(d);this.afo.P("select",function(h){var n=h.target.Q_()[0],X=this.ar0;
if(n==0){this.CQ({R:jn.FC,B:X.B,index:X.index})}else this.CQ({R:jn.SJ,src:X.B,pd:X.index})}.bind(this),this);
var d=[{name:"enab/disab",f:function(h){return{DZ:f7.get(h.U[h.l[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],t={classID:"rasterizeLayer",null:kl.hR("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},v=[{g:_.E.F,T:A.EM,d:{R:jn._c}},{g:_.E.U0,d:A.fL.Vp(3)},{g:_.E.U0,d:{oN:"rasterizeLayer",mQ:t}}];
this.aBy=new jr(d,v);this.a53=new jr(jI.ayH(!0),jI.GK(!0));this.adl=new jr(jI.RN(),jI.Yb())};g9.prototype.ak2=function(d){var v=this.Ma.scrollTop-600;
for(var n=0;n<this.G8.length;n++){var t=this.G8[n],h=t.XA;if(v<t.XA)t.a6c();if(t.XA>v+this.uV+600)break}};
g9.prototype.s3=function(){return this.ap2};g9.prototype.a0M=function(d){var v=this.Pg;if(d){var t=d.target.Q_(),n=t[0];
if(n<4)v[n]=1-v[n];else if(n==4)fV.R$=1-fV.R$;else if(n<7){if(n==5&&fV.kr-10>=10)fV.kr-=10;if(n==6&&fV.kr+10<=200)fV.kr+=10;
if(this.Vr)this.Vr.Ir=!0}else{if(n==7)fV.Wd=0;if(n==8)fV.Wd=1;if(this.Vr)this.Vr.Ir=!0}var h=window.locStor;
if(h)h.setItem("lpOpt",JSON.stringify([v,fV.kr,fV.Wd,fV.R$]))}if(v[0]==1)this.aEt();var X=[[{_:this.abR}],[this.DV,this.JQ],[this.Pq,this.u5]];
for(var n=0;n<3;n++)for(var g=0;g<X[n].length;g++)X[n][g]._.style.display=v[n]==1?"inline-block":"none";
this.K$(this.F0,this.uV)};g9.prototype.alW=function(){var d=this.FW;if(d==null)return!1;if(d.j()){var v=this.hx.j(),t=this.kX[v].j();
if(v==0)return t.indexOf(!0)!=-1;if(v==1)return t!=""}return!1};g9.a7x=function(d){var v=function(h){var X=h!=null&&h.l.length!=0&&h.U[h.l[0]].cD;
return{BY:X,f:h!=null&&h._U(h.l[0]),d:{g:_.E.U0,d:{oN:X?"ungroup":"groupEvent",mQ:{classID:X?"Ungr":"GrpL",null:kl.hR("Lyr",!0)}}}}},t={name:[6,6,0],G0:!0,f:v};
if(d)t.aM=[cQ.io,cQ.LE,cQ.sK];return t};g9.afr=function(d,v){if(d)for(var n=0;n<d.l.length;n++){var t=d.U[d.l[n]];
if(t.add.TySh||t.add.SoLd||t.add.SoCo||t.add.GdFl||t.add.PtFl)return{f:!0}}return{f:!1}};g9.prototype.afQ=function(d){u.ns(d);
var v=d.dataTransfer.getData("Text"),t=1,h=0;if(v==""){u.H6(d,this,this.caller.n0.indexOf(this.Vr),h+(t>.5?0:1))}else if(v!="--panel"){var v=JSON.parse(v),X=v.tJ;
if(X=="l")this.CQ({R:jn.F$,source:v.E1,target:h,Hj:t})}};g9.prototype.acg=function(d){var v=this.Vr,t=this.ar0=d.data,X;
if(v.l.indexOf(t.B)==-1){var h={R:jn.yF,B:d.target.vH.index,C5:t.VL};this.CQ(h)}if(v.l.indexOf(t.B)==-1)return;
this._i();if(t.VL==1){X=this.aj8}else if(t.VL==2){X=this.aBy}else if(t.VL==3){X=this.alw}else if(t.VL==4){X=this.aCi}else if(t.VL==5){X=this.aOg}else if(t.VL==6){X=this.afo}else{X=this.vj}X.H();
X.update(v);X.parent=this;var g=new eG(_.E.c,!0);g.data={R:_.Y.Vw,UZ:X,x:t.l_.x+1,y:t.l_.y+1};this.J(g)};
g9.prototype.H=function(){f1.prototype.H.call(this);this.DV.H();this.JQ.H();this.Pq.H();this.u5.H();
this.Px.H();this.cH.H();if(this.FW){this.FW.H();this.kX[0].H()}if(this.Vr)this.dn(this.Vr);var d="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var n=0;n<this.On.length;n++){var v=this.On[n];v.Ge(u.U$(d[n],null,"miniscale"));if(n==1||n==3){v._.style.position="relative";
var t=u.q("img","gsicon");t.setAttribute("src",PIMG["tools/corner"]);u.i(t,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
v._.appendChild(t)}}};g9.prototype.dn=function(d,v){if(d&&!d.Ir)return;if(d==null)u.M3(this.jz,"disabled");
else u.Ag(this.jz,"disabled");var t=this.Ma.scrollTop,h=this.Vr?this.Vr.U.length:-1,X=!1;this.Vr=d;this.caller=v;
if(this.ayg!=null){u.Pl(this.Ma);this.ayg=null;this.G8=[]}if(d==null)return;for(var n=0;n<d.gM.length;
n++)if(d.gM[n].ak)X=!0;this.ayg=new fR(d.root,this,d,{EJ:0,a87:!1},{at4:X,aO3:this.alW()},this.G8,0,new iW(0,0,d.r,d.$));
if(d.U.length==h)this.Ma.scrollTop=t;if(d.l.length==0||d.U[d.l[0]]==null)u.M3(this.YI,"disabled");else{u.Ag(this.YI,"disabled");
if(d.l.length==1&&d.oZ){var g=d.l[0];for(var n=0;n<this.G8.length;n++){var x=this.G8[n];if(x.vH.index==g&&x.YI.scrollIntoView)x.YI.scrollIntoView({block:"nearest"})}}var Z=d.U[d.l[0]];
if(j8==2&&Z.Y){this.Px.a(Z.Y.jJ);this.cH.a(Z.Y.volume*100)}if(Z.h5()){this.DV.Cw([[15,10,27]].concat(gL.GY),[1].concat(gL.F_));
var Y=gL.iX.indexOf(Z.uF);this.DV.a(Y+1)}else{this.DV.Cw(gL.GY,gL.F_);var Y=gL.iX.indexOf(Z.uF);this.DV.a(Y)}this.JQ.a(Math.round(100*Z.JS/255));
this.Pq.a([Z.BL(0),Z.BL(1),Z.BL(2),Z.BL(31)]);var a=d.nb();this.DV.$e(!a);this.u5.$e(!a);this.JQ.$e(!a);
this.Pq.$e(!(a&&!Z.BL(31)));this.u5.a(Math.round(100*(Z.add.iOpa!=null?Z.add.iOpa/255:1)));this.On[2].abz(f7.get(Z._B()?[6,23]:[6,21]))}this.ak2(null)};
g9.prototype.K$=function(d,v){this.F0=d;this.uV=v;var t=this.YI.getBoundingClientRect().height;if(55<t&&t<56)t=60.2;
var h=this.Jb.getBoundingClientRect().height,X=v-(t+h+3);this.Ma.style.height=X+"px";this.Ma.style.width=d+"px"};
g9.prototype.abG=function(d){this.CQ({R:jn.cW,VE:this.DV.j()})};g9.prototype.aon=function(d){this.CQ({R:jn.Q3,VE:Math.round(255*this.JQ.j()/100)})};
g9.prototype.a3H=function(d){this.CQ({R:jn.rD,VE:{jJ:this.Px.j(),volume:this.cH.j()/100}})};g9.prototype.ad4=function(d){this.CQ({R:jn.dS,VE:[this.Pq.j(),[0,1,2,31]]})};
g9.prototype.a8R=function(d){this.CQ({R:jn.vT,VE:Math.round(255*this.u5.j()/100)})};g9.prototype.Y9=function(d){if(d.target==this.hx)this.aEt();
var v=this.FW.j();if(v)u.Ag(this.atA,"disabled");else u.M3(this.atA,"disabled");this.H();this.Vr.Ir=!0;
this.dn(this.Vr);this.Vr.Ir=!1};g9.prototype.aEt=function(){var d=this.atA;if(d==null){var v=this.abR,t=this.FW=new l8([0,6]);
t.P(_.E.w,this.Y9,this);v.appendChild(t._);d=this.atA=u.q("span","disabled");v.appendChild(d);this.hx=new e8(null,["Kind",[12,48]],[]);
this.hx.P(_.E.w,this.Y9,this);var h=this.kX=[new eM(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new eR(null,null,8)];
h[0].P(_.E.w,this.Y9,this);h[1].P("input",this.Y9,this)}u.Pl(d);d.appendChild(this.hx._);d.appendChild(this.kX[this.hx.j()]._)};
g9.prototype.a1A=function(d){this._i();this.aL5(d,this.a53)};g9.prototype.a2y=function(d){this._i();
this.aL5(d,this.adl)};g9.prototype.aL5=function(d,v){var t=d.currentTarget;if(u.al(v._))return;d.stopPropagation();
var h=t.getBoundingClientRect();v.H();v.update(this.Vr);v.parent=this;var X=new eG(_.E.c,!0);X.data={R:_.Y.Vw,UZ:v,x:h.left,y:h.top,aEC:!0};
this.J(X)};g9.prototype.ab0=function(d){this.CQ({R:jn.aMC})};g9.prototype.a0U=function(d){this.CQ({R:this.Vr.l.length>1?jn.DL:jn.yC})};
g9.prototype.ajK=function(d){this.CQ({R:jn.XK})};g9.prototype.a1K=function(d){var v=this.Vr;if(v.l.length==0)return;
var t=v.U[v.l[0]],h=t.VL;this.CQ({R:h<=0?t.s$?jn.i8:jn.o1:h==3?jn.qH:jn.yf})};g9.prototype.a4X=function(d){this.CQ({R:jn.kc})};
g9.prototype.CQ=function(d){var v=new eG(_.E.F,!0);v.data=d;v.T=A.EM;this.J(v)};g9.prototype.Jr=function(){var d=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],v=[this.a4X,this.a2y,this.ab0,this.a1A,this.a0U,this.ajK,this.a1K],t=this.aJ_.bind(this);
for(var n=0;n<d.length;n++){var h=new lt("W",!1,d[n]);this.On.push(h);u.We(h._,v[n].bind(this));if(j8==0||j8==1&&n>3&&n!=5||j8==2&&n>3)this.Jb.appendChild(h._);
if(n>=d.length-3){var X=h._;X.addEventListener("drop",t,!1);X.addEventListener("dragover",function(g){g.preventDefault()},!1);
X.addEventListener("dragenter",u.ns,!1)}}};g9.prototype.aJ_=function(d){u.ns(d);var v=0,t=this.On;while(t[v]._!=d.currentTarget)v++;
t[v]._7();var h=d.dataTransfer.getData("Text");if(h=="")return;var h=JSON.parse(h);if(h.tJ=="l"){var X={R:[jn.DL,jn.jl,jn.o1][v-4]};
if(this.Vr.l.indexOf(h.E1)==-1)X.B=h.E1;this.CQ(X)}if(v!=6)return;if(h.tJ=="sm"||h.tJ=="s"){var g=new eG(_.E.F,!0);
g.T=A.iL;g.data={R:h.tJ=="sm"?"st_clear":"st_delsingle",B:h.E1,E1:h.pd};this.J(g)}if(h.tJ=="fm"||h.tJ=="f"){this.CQ({R:h.tJ=="fm"?jn.IX:jn.SJ,src:h.E1,pd:h.pd})}if(h.tJ=="m"||h.tJ=="vm"){this.CQ({R:h.tJ=="m"?jn.yf:jn.i8,B:h.E1})}};
function fR(d,v,t,h,X,g,x,Z){hm.call(this);this.parent=v;this.XA=x;this.vH=d;g.push(this);this.Vr=t;
this.Pv=h;var Y=v.Ma,a=d.B,z=t.l.indexOf(d.index)!=-1,L=null;this.YI=u.q("div",z?"head selected":"head");
if(a.add.artb!=null){u.M3(this.YI,"artb");Z=a.x1()}var p=this.abw=Math.floor(10+a.aDi/u.LY()),U="height: "+p+"px;";
if(z&&X.at4)U+="background-color:rgba(255,50,50,0.4);";u.i(this.YI,U);this.view=Z;var l=this.aC8=this.a3B.bind(this),j=X.aO3&&!this.a6D();
if(!j){if(d.depth!=0){Y.appendChild(this.YI);x+=p-.3}if(a.kx()||a.l4())if(a.d5()){L=this.a91=u.q("div","lpineck");
Y.appendChild(L);if(a.kx()){L.addEventListener("contextmenu",l,!1);var O=new g9.K5(f7.get([12,1]),"sm","layerstyle",d.depth,0,null);
x+=21;O.parent=this;L.appendChild(O._);var F=a.add.lmfx,i=F.masterFXSwitch.v;O.fF(i);for(var n=0;n<kV.order.length;
n++){var $=F[kV.dv[n]].v;if($.length==0)continue;for(var H=0;H<$.length;H++){var O=new g9.K5(f7.get(kV.names[n]),"s","layerstyle",d.depth,1,[n,H]);
x+=21;O.fF(i&&$[H].v.enab.v);O.parent=this;L.appendChild(O._)}}}if(a.l4()){var b=a.Ip(t).AU;if(b)this.cj=u.q("div","thumb");
var O=new g9.K5(f7.get([12,55]),"fm",null,d.depth,0,-1,b?this.cj:null,p);x+=b?p:21;O.parent=this;L.appendChild(O._);
this.aLZ=O._;this.aLZ.addEventListener("contextmenu",l,!1);var F=a.add.SoLd.filterFX.v,r=F.filterFXList.v,i=F.enab.v;
O.fF(i);for(var n=r.length-1;n>=0;n--){var W=r[n].v,V=e0.A$(W);if(cV.vN[V])V=cV.vN[V];var y=W.Nm.v;if(e0.names[V])y=f7.get(e0.names[V]);
if(cV.names[V])y=f7.get(cV.names[V]);var c="afw_"+V,O=new g9.K5(y,"f",c,d.depth,1,n);x+=21;O.fF(i&&W.enab.v);
O.parent=this;L.appendChild(O._)}}}}var S=a.add.lclr;if(S==null)S=0;S=S==0?h.EJ:fR.$_[S];this.asm=S;
if(a.h5()&&(a.add.lsct==f$.fG||X.aO3)){var C={EJ:S,a87:h.a87||a.BL(31)};for(var n=d.children.length-1;
n>=0;n--){var K=new fR(d.children[n],v,t,C,X,g,x,Z);x=K.aMk}}this.aMk=x}fR.prototype=new hm;fR.$_=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
fR.prototype.a6c=function(){if(this.z4)return;var d=this.vH,v=d.B,t=this.Vr,h=this.Pv,p=!0,C=!1;d.tp(t,this.view,!0);
var X=u.q("div","headL"),g=u.q("div","headR");this.YI.appendChild(X);this.YI.appendChild(g);var x=this.YI;
x.setAttribute("draggable","true");x.addEventListener("dragstart",this.rM.bind(this),!1);x.addEventListener("drop",this.Wb.bind(this),!1);
x.addEventListener("dragover",this.tc.bind(this),!1);x.addEventListener("dragenter",u.ns,!1);x.addEventListener("dragleave",this.WF.bind(this),!1);
var Z=[],Y=[null,null,null,null],a=v.ZC(),z=d;while(z.parent){z=z.parent;a=a&&z.B.ZC()}if(v.cD){for(var n=d.index-1;
n>=0;n--){var U=t.U[n];if(!U.cD){p=U.ZC();break}}}var l=v.ZC()?a&&p?2:1:0;this.z4=u.q("div");var L=u.q("div",l==0?"sqr":"eye");
this.z4.appendChild(L);L.style.opacity=[.12,.33,1][l];var j=u.q("div","space");this.qg=u.q("div","label");
u.i(this.qg,"max-width:calc(100% - "+(96+d.depth*20)+"px); margin-top:"+(this.abw-19)/2+"px;"+(v.ej?"text-decoration:underline;":""));
this.qg.textContent=v.getName();this.a5Q=u.q("div","lock");this.atf=u.q("div","lrfx");this.MR=u.q("div","arfx");
var O=this.aC8,F=this.ahZ.bind(this);this.YI.addEventListener("click",F,!1);this.YI.addEventListener("contextmenu",O,!1);
var i=this.asm;if(i!=0){var $=[i>>16,i>>8&255,i&255];for(var n=0;n<3;n++){$[n]="calc("+$[n]+"*0.7 + (var(--absc)) * 255 * 0.3)"}u.i(this.z4,"background-color:rgba("+$.join(",")+",1);")}var H=this.a2D.bind(this);
this.z4.addEventListener("mousedown",H,!1);this.z4.addEventListener("mouseover",H,!1);this.MR.addEventListener("click",this.axV.bind(this),!1);
Z[0]=this.z4;Z[1]=j;Z[10]=this.qg;if(v.h5()){var b=u.q("div","arrow"),r=u.q("div","folder");this.xl(r);
b.addEventListener("click",this.aEB.bind(this),!1);Z[2]=b;Z[3]=r;b.className=v.add.lsct==f$.fG?"open":"closed"}else{this.Lt=u.q("div","thumb");
Z[5]=this.Lt;fR.fg(this.Lt,v.ur);this.xl(this.Lt);if(cV.get(v.add))u.M3(v.ur.canvas,"gsicon")}var W=v._B();
if(W){this.YK=u.q("div","chain");this._3=u.q("div","thumb");fR.fg(this._3,v.a4D,!0);this.YK.style.opacity=W.az?1:0;
this.YK.addEventListener("click",this.ao2.bind(this),!1)}var V=v.c5()&&v.add.vmsk;if(v.add.vmsk&&!V){this.Ab=u.q("div","chain");
this.Hp=u.q("div","thumb");fR.fg(this.Hp,v.aJ$,!0);this.Ab.style.opacity=v.add.vmsk.az?1:0;this.Ab.addEventListener("click",this.axl.bind(this),!1)}if(v.l4()&&v.d5()&&v.Ip(t).AU){fR.fg(this.cj,v.aMG,!1);
this.xl(this.cj);this.cj.addEventListener("click",F,!1);this.cj.addEventListener("contextmenu",O,!1)}if(d.index==t.l[0]){var y=v.VL,c;
if(y<=0)c=this.Lt;else if(y==1)c=this._3;else if(y==3)c=this.cj;if(c)c.className="thumb active";if(v.s$&&this.Hp)this.Hp.className="thumb active"}u.i(j,"width:"+Math.max(0,d.depth-1)*18+"px");
var S=v.add.lspf!=null&&v.add.lspf!=0||h.a87;this.a5Q.style.opacity=v.BL(31)?1:.5;Z[4]=v.cD?u.q("div","clipp"):null;
Z[6]=W?this.YK:null;Z[7]=W?this._3:null;Z[8]=v.add.vmsk&&!V?this.Ab:null;Z[9]=v.add.vmsk&&!V?this.Hp:null;
var K=v.aT,T=t.l;if(K!=0)for(var n=0;n<T.length;n++)if(t.U[T[n]].aT==K){C=!0;break}if(C){Y[0]=u.q("div",v.mv?"link":"linkX");
Y[0].addEventListener("click",this.aif.bind(this),!1)}Y[1]=S?this.a5Q:null;Y[2]=v.kx()?this.atf:null;
Y[3]=v.kx()||v.l4()?this.MR:null;this.MR.className=v.d5()?"arfx open  gsicon":"arfx closed  gsicon";
var D=Z;for(var n=0;n<D.length;n++)if(D[n])X.appendChild(D[n]);D=Y;for(var n=0;n<D.length;n++)if(D[n])g.appendChild(D[n])};
fR.fg=function(d,v,t){var h=v.canvas;u.i7(h);if(t)d.setAttribute("draggable","true");d.appendChild(h);
u.i(h,h.getAttribute("style")+"; pointer-events:none")};fR.prototype.xl=function(d){u.We(d,function(v){if(this.parent.Pg[3]==0)return;
u.Gc(v);u.KP(document.body,function(){clearTimeout(this.aF1)}.bind(this));this.aF1=setTimeout(function(){var t=new eG("rclick",!0);
t.data={B:this.vH.index,VL:this.VL(v),l_:u.cN(v,document.body)};this.J(t)}.bind(this),600)}.bind(this))};
fR.cu=function(d,v){var t=v.getBoundingClientRect();return(d.clientY-t.top)/t.height};fR.prototype.rM=function(d){d.stopPropagation();
var v=d.target==this._3?"m":d.target==this.Hp?"vm":"l";d.dataTransfer.setData("Text",JSON.stringify({tJ:v,E1:this.vH.index}))};
fR.prototype.WF=function(d){u.ns(d);this.DB()};fR.prototype.Wb=function(d){u.ns(d);this.DB();var v=d.dataTransfer.getData("Text"),t=this.parent.Vr,h=fR.cu(d,this.YI),X=this.vH.index;
if(h>.8){var g=!0,x=t.root.Ty(X);while(x.parent!=null){var Z=x.parent,Y=Z.children;if(Y.indexOf(x)!=0)g=!1;
x=x.parent}if(g){X=0;h=1}}if(v==""){u.H6(d,this,this.parent.caller.n0.indexOf(t),X+(h>.5?0:1))}else if(v!="--panel"){var v=JSON.parse(v),a=v.tJ;
if(a=="l")this.CQ({R:jn.F$,source:v.E1,target:X,Hj:h});else if(a=="m"||a=="vm")this.CQ({R:a=="m"?jn.a8b:jn.Nj,src:v.E1,US:X});
else fR.agO(d,v,this)}};fR.agO=function(d,v,t,h){var X=v.tJ,g=t.vH.index,x=v.E1;if(X=="s"||X=="sm")t.CQ({R:jn.DD,src:x,US:g,pd:v.pd});
if(X=="f"||X=="fm")t.CQ({R:jn.a0I,src:x,US:g,pd:v.pd,Gx:h==null?0:h})};fR.prototype.tc=function(d){u.ns(d);
var v=fR.cu(d,this.YI),t=this.vH.B.h5()&&.5<v&&v<.8;this.DB();var h="inset 0 "+(t?0:v>.5?-3:3)+"px "+(t?"6px":0)+" var(--text-color)";
this.YI.style.boxShadow=h};fR.prototype.DB=function(d){this.YI.style.boxShadow=""};fR.amr=-1;fR.Wf=!1;
fR.axb=function(d){fR.Wf=!1;document.body.removeEventListener("mouseup",fR.axb)};fR.prototype.a2D=function(d){if(d.button!=0)return;
if(d.type=="mousedown"){fR.Wf=!0;document.body.addEventListener("mouseup",fR.axb,!1)}if(d.type=="mouseover"&&(!fR.Wf||fR.amr==this.vH.index))return;
u.ns(d);this.CQ({R:jn.kJ,B:this.vH.index});fR.amr=this.vH.index};fR.prototype.aEB=function(d){u.ns(d);
this.CQ({R:jn.aN$,B:this.vH.index})};fR.prototype.ao2=function(d){this.CQ({R:jn.Du,B:this.vH.index})};
fR.prototype.axl=function(d){this.CQ({R:jn.Yz,B:this.vH.index})};fR.$S=0;fR.kn=null;fR.prototype.XU=function(d){this.CQ({R:jn.zG,B:this.vH.index,name:d})};
fR.prototype.axV=function(d){this.CQ({R:jn.aGh,B:this.vH.index})};fR.prototype.aif=function(d){this.CQ({R:jn.Zh,B:this.vH.index})};
fR.prototype.a3B=function(d){if(d.button!=2&&!u.a9i(d)&&!(d.ctrlKey&&cQ.DS()))return;var v=this.VL(d);
if(v!=3&&d.currentTarget==this.aLZ)v=4;if(d.target==this.atf||d.currentTarget==this.a91)v=5;var t=new eG("rclick",!0);
t.data={B:this.vH.index,VL:v,l_:u.cN(d,document.body)};this.J(t)};fR.prototype.VL=function(d){var v=d.target,t=v;
return t==this.Hp?2:t==this._3?1:t==this.Lt?0:t==this.cj?3:-1};fR.prototype.ahZ=function(d){var v=d.target,j;
if(v==this.z4.firstChild||v==this.MR||v==this.YK||v==this.Ab||v.tagName&&v.tagName.toLowerCase()=="input")return;
var t=this.VL(d),h=this.parent.Vr,X=this.vH.index,g=h.U[X];if(v==this.a5Q){this.CQ({R:jn.dS,B:X,VE:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var x=fR.$S,Z=Date.now()-x<300&&X==fR.kn;fR.$S=Date.now();fR.kn=X;if(v==this.qg){if(Z){this.YI.setAttribute("draggable","false");
var Y=new f1.BI(this.qg,this.XU.bind(this))}else this.CQ({R:jn.yF,B:X,C5:t,aLG:!0});return}if(j8==0&&d.button==0&&Z){if(v==this.qg)return;
var a=new eG(_.E.F,!0),z=new eG(_.E.c,!0),p=new eG(_.E.U0,!0);if(t==0&&g.add.SoCo){var U=f.iF.pq(g.add.SoCo.Clr.v);
z.data={R:_.Y.S8,cG:"colorpicker",EJ:U.C<<16|U.L<<8|U.X,Zp:function(i){var $=f.iF.Zi({X:i&255,L:i>>>8&255,C:i>>16&255});
$={classID:"null",Clr:{t:"Objc",v:$}};var H=new eG(_.E.F,!0);H.T=A.EM;H.data={R:jn.Gh,ls:[X],_A:!0,K:{Ci:1,hn:$}};
this.J(H)}.bind(this),xx:!0}}else if(t==0&&(cV.get(g.add)||g.add.SoCo||g.add.GdFl||g.add.PtFl))z.data={R:_.Y.Qu,cG:f1.q2.Ol};
else if(t!=0&&t!=-1)z.data={R:_.Y.Qu,cG:f1.q2.Ol};else if(t==0&&g.add.SoLd){var l=g.add.SoLd,L=l.generativeDocInfo;
if(L)z.data={R:_.Y.Qu,cG:f1.q2.Ol};else p.data={oN:"placedLayerEditContents",mQ:{classID:"placedLayerEditContents"}}}else if(t==0&&g.add.TySh){a.T=A.uW;
a.data={R:"editCurr",r5:X}}else z.data={R:_.Y.S8,cG:"layerstyle",B:X};this.J(p.data?p:z.data?z:a);return}if(d.button!=0)return;
if(t==1||t==3){var O=t==3?g.Ip(h).AU:g._B();j=O.ak?h.z.b$.join("")=="111"?1:2:0}var F={R:jn.yF,B:X,C5:t,amG:j,aLG:!0};
this.CQ(F)};fR.prototype.CQ=function(d){var v=new eG(_.E.F,!0);v.data=d;v.T=A.EM;this.J(v)};fR.prototype.a6D=function(){var d=this.vH.B,v=d.add,t=this.parent.hx.j(),h=this.parent.kX[t].j();
if(t==0){if(h[0]&&v.SoLd==null&&v.TySh==null&&d.Kz())return!0;if(h[1]&&cV.get(v)!=null)return!0;if(h[2]&&v.TySh!=null)return!0;
if(h[3]&&v.vstk!=null)return!0;if(h[4]&&v.SoLd!=null)return!0;return!1}if(t==1)return d.getName().toLowerCase().indexOf(h.toLowerCase())!=-1};
g9.K5=function(d,v,t,h,X,g,x,Z){hm.call(this);this.avH=v;this.EC=t;this.index=g;this._=u.q("div","styleitem");
this.YI=u.q("div","head");this.a1v=null;if(v=="f"){var Y=this.a1v=u.q("div","headR");Y.textContent="\u2699";
this.YI.appendChild(Y)}this.z4=u.q("div","eye gsicon");this.qg=u.q("div","label");this._.appendChild(this.YI);
this.YI.appendChild(this.z4);if(x){this._3=x;this.YI.appendChild(x);u.i(this.YI,"height: "+Z+"px")}this.qg.innerHTML=d;
u.i(this._,"margin-left: "+(24+h*16+X*22)+"px");this.YI.appendChild(this.qg);this.z4.addEventListener("click",this.aCg.bind(this),!1);
var a=this._;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.rM.bind(this),!1);
if(!0){a.addEventListener("drop",this.Wb.bind(this),!1);a.addEventListener("dragover",this.tc.bind(this),!1);
a.addEventListener("dragenter",u.ns,!1);a.addEventListener("dragleave",this.WF.bind(this),!1)}var z=this.QZ.bind(this);
this._.addEventListener("contextmenu",z,!1);this._.addEventListener("click",z,!1)};g9.K5.prototype=new hm;
g9.K5.prototype.rM=function(d){d.stopPropagation();d.dataTransfer.setData("Text",JSON.stringify({tJ:this.avH,E1:this.parent.vH.index,pd:this.index}))};
g9.K5.prototype.WF=function(d){u.ns(d);this.DB()};g9.K5.prototype.Wb=function(d){u.ns(d);this.DB();var v=d.dataTransfer.getData("Text");
if(v=="")return;var v=JSON.parse(v);fR.agO(d,v,this.parent,this.index+(fR.cu(d,this.YI)>.5?0:1))};g9.K5.prototype.tc=function(d){u.ns(d);
var v=fR.cu(d,this.YI)>.5;this.DB();var t="border-"+(v?"bottom":"top");this.YI.style[t]="0.2em solid rgba(0,0,0,0.5)"};
g9.K5.prototype.DB=function(d){this.YI.style.border="none"};g9.K5.prototype.fF=function(d){this.z4.style.opacity=d?1:.2};
g9.K5.prototype.QZ=function(d){var v=this.parent.vH.index,t=fR.$S,h=Date.now()-t<300&&v==fR.kn;fR.$S=Date.now();
fR.kn=v;if(d.target==this.z4)return;if(d.type=="contextmenu"){var X=new eG("rclick",!0);X.data={B:v,VL:6,l_:u.cN(d,document.body),index:this.index};
this.J(X);return}if(h&&this.EC!=null){var v=this.parent.vH.index,g=new eG(_.E.c,!0);if(this.EC.indexOf("afw_")==0){var x=this.EC.slice(4),Z=ds[x]||e0.B5[x],Y=d.target==this.a1v;
if(!Y&&!Z)return;g.data=A.yI.Od(Y?"blendOptions":x,{B:v,index:this.index})}else g.data={R:_.Y.S8,cG:this.EC,B:v,index:this.index};
this.J(g)}else{if(d.target.className!="thumb")this.parent.CQ({R:jn.yF,B:v,C5:0})}};g9.K5.prototype.aCg=function(d){var v={fm:jn.po,f:jn.FC,sm:jn.QT,s:jn.lT}[this.avH];
this.parent.CQ({R:v,B:this.parent.vH.index,index:this.index})};function ee(){f1.call(this,"Guide Guy",!1,"---panels/guideguy",f1.q2.aG0);
this.h8=null;this.sX=new e8(null,f.rd.a5)}ee.prototype=new f1("");ee.prototype.UC=function(){this.nM=[];
var d=u.q("div","form padded");this.jz.appendChild(d);u.i(d,"width:200px");this.jz.appendChild(d);var v=u.q("canvas"),t=v.getContext("2d");
v.width=v.height=160;var h=[32,0,16,160,0,32,160,16,0,112,160,16],X="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),g=[0,0,0,0,0,0,0,0,0,0];
d.appendChild(this.sX._);u.WJ(d);for(var n=0;n<10;n++){t.clearRect(0,0,160,160);t.setTransform(1,0,0,1,80,80);
t.rotate((n&3)*Math.PI/2);t.translate(-80,-80);t.fillStyle="rgba(0,0,0,0.3)";if(n<4){for(var x=0;x<12;
x+=4){t.fillStyle=x==0?"#000000":"rgba(0,0,0,0.3)";t.fillRect(h[x],h[x+1],h[x+2],h[x+3])}}else if(n<6){var Z=8*6;
t.fillRect(0,0,Z,160);t.fillRect(8*7,0,Z,160);t.fillStyle="#000000";t.fillRect(8*14,0,Z,160)}else if(n<8){t.fillRect(0,0,16,160);
t.fillRect(160-16,0,16,160);t.fillRect(32,0,160-64,160);t.fillStyle="#000000";t.fillRect(32,80-8,160-64,8*1)}else{t.fillRect(0,0,8*7,160);
t.fillRect(8*13,0,160,160);t.fillStyle="#000000";t.fillRect(8*7,80-8,8*6,8*1)}var Y="<img src=\""+v.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new eh(Y,0,200,null,n==4||n==5?0:2,null,null,4,X[n]);
a.parent=this;a.P(_.E.w,this.a15,this);a.a(g[n]);a.H();this.nM.push(a);d.appendChild(a._)}var z=[[11,14],[11,15,0]];
this.EQ=[];for(var n=0;n<z.length;n++){var p=new lt(z[n],!0,null,!0);this.EQ.push(p);p.P("click",this.Vc,this);
d.appendChild(p._)}for(var n=0;n<6;n++){t.setTransform(1,0,0,1,80,80);t.rotate(Math.floor(n/3)*Math.PI/2);
t.translate(-80,-80);t.clearRect(0,0,160,160);t.fillStyle="rgba(0,0,0,0.3)";t.fillRect(0,0,160,160);
t.clearRect(16,16,128,128);t.fillStyle="#000000";var U=n%3;t.fillRect([0,9,18][U]*8,0,16,160);var Y="<img src=\""+v.toDataURL()+"\" class=\"autoscale gsicon\" /> ",p=new lt(Y,!1,null,!1);
this.EQ.push(p);p.P("click",this.Vc,this);d.appendChild(p._)}};ee.prototype.H=function(){f1.prototype.H.call(this);
this.sX.H();if(this.nM==null)return;for(var n=0;n<this.EQ.length;n++)this.EQ[n].H()};ee.prototype.a15=function(d){var v=this.nM,t=v.indexOf(d.target),h=Math.floor(t/2),X=t&1,g=[];
for(var n=0;n<4;n++)g.push(v[2*n+X].j());var x=-1;if(h==2&&g[2]!=0&&g[3]!=0&&g[4]!=0)x=4;if(h==3&&g[3]!=0&&g[2]!=0&&g[4]!=0)x=4;
if(h==4&&g[4]!=0&&g[2]!=0&&g[3]!=0)x=3;if(x!=-1)v[2*x+X].a(0)};ee.prototype.Vc=function(d){var v=this.h8,t=this.EQ.indexOf(d.target),h=[[],[]];
if(v==null)return;var X=v.p?v.p.S:new iW(0,0,v.r,v.$),g=X.r,x=X.$;if(t==0){var Z=[[],[]],Y=this.sX.j();
for(var n=0;n<this.nM.length;n++){var a=this.nM[n].j();if(n!=4&&n!=5)a=f.rd.LJ(a,v.u3,(n&1)==0?X.r:X.$,Y);
Z[n&1].push(a)}var z=[ee.aku(Z[0],X.x,X.x+g),ee.aku(Z[1],X.y,X.y+x)];h=ee.gH(z);A.jt.Z$(h,v.Dy())}else if(t==1){}else{t-=2;
var p=Math.floor(t/3),z=[[],[]];z[p].push([X.x,X.x+g/2,X.x+g,X.y,X.y+x/2,X.y+x][t]);h=ee.gH(z);A.jt.Z$(h,v.Dy())}this.ayQ(h)};
ee.gH=function(d){var v=[],t=[];for(var h=0;h<2;h++)for(var n=0;n<d[h].length;n++){v.push([h,d[h][n]]);
t.push(-1)}return[v,t]};ee.prototype.aJC=function(d){var v=this.aml.indexOf(d.target)};ee.prototype.ayQ=function(d){var v=new eG(_.E.F,!0);
v.T=A.Xc;v.data={R:"gids",BH:d};this.J(v)};ee.aku=function(d,v,t){var h=[],X=d[2],g=d[3],x=d[4],Z=0;
if(X==0)Z++;if(g==0)Z++;if(x==0)Z++;if(Z>1&&X==0&&g==0){if(d[0]!=0)h.push(v+d[0]);if(d[1]!=0)h.push(t-d[1]);
return h}var Y=t-v-d[0]-d[1];if(X==0){if(x==0){X=Math.floor(Y/g);x=(Y-X*g)/(X-1)}else{X=1;while(g*X+x*(X-1)+g+x<=Y)X++}}else if(X!=0&&g!=0){if(X*g>Y)X=Math.floor(Y/g);
x=(Y-X*g)/(X-1)}h.push(v+d[0],t-d[1]);var g=(Y-x*(X-1))/X;for(var n=1;n<X;n++){if(x==0)h.push(v+d[0]+n*g);
else h.push(v+d[0]+n*g+(n-1)*x,v+d[0]+n*g+n*x)}return h};ee.prototype.dn=function(d,v,t){this.h8=d};
ee.prototype.dh=function(){if(u.al(this.jz)&&this.nM==null)this.UC();this.H()};ee.prototype.sq=function(d){this.sX.a(d.rp.iV)};
function gV(){f1.call(this,[9,2],!1,"---panels/properties",f1.q2.Ol);this.aoZ=null;this.Vr=null;this.n=null;
this.aGe=-1;this.sU=null}gV.prototype=new f1("");gV.prototype.K$=function(d,v){this.F0=d;this.uV=v;d=d-16;
v=v-30;var t=this.sU;if(t){t.style.width=d+"px";t.style.height=v+"px";for(var n=0;n<3;n++)this.aD1[n].K$(d-12,v)}};
gV.prototype.UC=function(){this.sU=u.q("div","padded scrollable");this.jz.appendChild(this.sU);var d=u.q("span");
this.sU.appendChild(d);this.ik=[new lt([0,3]),new lt([12,73]),new lt([12,91,0])];for(var n=0;n<this.ik.length;
n++){var v=this.ik[n];v.P("click",this.azZ,this);d.appendChild(v._);if(n==2)v._.style.marginRight="0"}this.sU.appendChild(u.q("hr"));
this.hI=new gV.Ez;this.hI.parent=this;this.EA=new gV.hG;this.EA.parent=this;this.BU=new gV.Sh;this.BU.parent=this;
this.aD1=[this.hI,this.EA,this.BU];this.sU.appendChild(this.hI._);this.Jb=u.q("div","lpfoot");this.jz.appendChild(this.Jb);
this.On=[];for(var n=0;n<4;n++){var v=new lt("W");v.P("click",this.xm,this);this.On.push(v);this.Jb.appendChild(v._)}this.K$(this.F0,this.uV)};
gV.prototype.xm=function(d){var n=this.On.indexOf(d.target);if(n==1){var v=this.Vr,t=v.U[v.l[0]],h=cV.get(t.add);
this.hI.aLS.a(e0.yu(h));this.hI.azH();return}var X=new eG(_.E.F,!0);X.T=A.EM;if(n==0)X.data={R:jn.BV};
if(n==2)X.data={R:jn.kJ};if(n==3)X.data={R:jn.o1};this.J(X)};gV.prototype.azZ=function(d){var n=this.ik.indexOf(d.currentTarget);
this.iW(n);this.aMh(n==1?this.EA.Fx:-1)};gV.prototype.iW=function(d){for(var n=0;n<3;n++){this.ik[n]._7();
var v=this.aD1[n]._;if(v.parentNode==this.sU&&n!=d)this.sU.removeChild(v);if(v.parentNode!=this.sU&&n==d)this.sU.appendChild(v)}this.ik[d].sW()};
gV.prototype.aMh=function(d){var v=this.Vr.l[0],t=this.Vr.U[v],h=d+1;if(d==1&&t.s$)return;var X=new eG(_.E.F,!0);
X.T=A.EM;if(d!=1&&t.s$){X.data={R:jn.yF,B:v,C5:2};this.J(X)}X.data={R:jn.yF,B:v,C5:h};this.J(X)};gV.prototype.H=function(){f1.prototype.H.call(this);
if(this.sU==null)return;this.dn(this.Vr);for(var n=0;n<3;n++){this.ik[n].H();this.aD1[n].H()}ih.n$(this.On,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
gV.prototype.dh=function(){if(!u.al(this.jz))return;if(this.sU==null){this.UC();this.sq(this.n,lx.Np);
this.dn(this.aoZ);this.H()}};gV.prototype.dn=function(d){this.aoZ=d;if(this.sU==null)return;this.hI.dn(d);
this.EA.dn(d);this.BU.dn(d);if(d==null||d.l.length==0||d.U[d.l[0]]==null){u.M3(this.jz,"disabled");this.Vr=null;
return}else u.Ag(this.jz,"disabled");var v=d.l[0],t=d.U[v];this.On[0].a(t.cD);this.On[1].$e(cV.get(t.add)!=null);
this.On[2].a(t.ZC());var h=d.V9(),X=h[0],g=h[1];if(g.length!=0){var x=X[g[0]],Z=x.add.vogk,Y=!1;if(Z)for(var n=0;
n<Z.length;n++){var a=Z[n].v;if(!f._5.Ye(a))continue;Y=!0;v=x.ja}}v+=","+Y;if(d!=this.Vr||this.aGe!=v){this.Vr=d;
this.aGe=v;if(Y)this.iW(2);else if(t.VL<1&&!t.s$||cV.get(t.add))this.iW(0);else this.iW(1)}this.ik[1].$e(this.EA.Fx!=-1);
this.ik[2].$e(Y)};gV.prototype.sq=function(d,v){this.n=d;if(this.hI)this.hI.sq(d,v);if(this.BU)this.BU.sq(d,v)};
gV.Ez=function(){hm.call(this);this._=u.q("div","form");this.a9y=new i9("Hello");this._.appendChild(this.a9y._);
this.WE=null;this.aLS=null;this.Vr=null;this.n=null;this.akh=-1;this.aJb=null;this.akr=null;this.VS=new fN(0,!0,!0);
this.VS.parent=this;this.VS.P(_.E.w,this.aFF,this);this._.appendChild(this.VS._);this.p3=new cX(!0);
this.p3.parent=this;this.p3.P(_.E.w,this.aJg,this);this.Ls=u.q("div","marged hiline");this.Ls.appendChild(this.p3._);
this.IN=new bL("GrFl",!0);this.IN.parent=this;this.IN.P(_.E.w,this.aEL,this);this.zZ=u.q("div","marged hiline");
var d="Grad Rvrs Type Algn Angl Dthr Scl gradientsInterpolationMethod Ofst".split(" ");for(var n=0;n<d.length;
n++){var v=this.IN.vE[d[n]]._;this.zZ.appendChild(v)}this.$X=new bL("patternFill",!0);this.$X.parent=this;
this.$X.P(_.E.w,this.a9p,this);this.ll=u.q("div","marged hiline");var d=["Ptrn","Angl","Scl","Algn","phase"];
for(var n=0;n<d.length;n++){var v=this.$X.vE[d[n]]._;this.ll.appendChild(v)}this.D0={};for(var t in cV.names){if(ds[t]==null)continue;
this.D0[t]=new ds[t];this.D0[t].P(_.E.w,this.azH,this);this.D0[t].parent=this}var h=this.a5d=u.q("div","marged hiline");
this.K9=new fN(0,!0);h.appendChild(this.K9._);this.K9.P(_.E.w,this.RF,this);this.ab8=null;this.Ie=new hk;
this.Ie.parent=this;this.Ie.P(_.E.w,this.RF,this);h.appendChild(this.Ie._);this.jx=new jo;this.jx.parent=this};
gV.Ez.prototype=new hm;gV.Ez.prototype.aFF=function(d){var v=this.VS.j(),t=this.akr,h=new iW(v[0],v[1],v[2],v[3]);
if(h.fE(t))return;this.akr=h;var X=new eG(_.E.F,!0);if(t.r==h.r&&t.$==h.$){X.T=A.Xc;X.data={R:"trsl",T9:h.x-t.x,Io:h.y-t.y}}else{X.T=A.Oi;
X.data={R:"scl",qq:[2,4],K:new cK(h.r/t.r,h.$/t.$),_Y:0}}this.J(X)};gV.Ez.prototype.K$=function(d,v){var t=this.D0;
for(var h in t)t[h].K$(d,v)};gV.Ez.prototype.H=function(){for(var d in this.D0)this.D0[d].H();this.IN.H();
this.$X.H();this.Ie.H();this.K9.H();this.VS.H();this.jx.H()};gV.Ez.prototype.RF=function(d){var v=new eG(_.E.F,!0),t=this.K9.j(),h=this.ab8;
if(d.target==this.K9&&t[2]==h[2]&&t[3]==h[3]){v.T=A.Xc;v.data={R:"trsl",T9:t[0]-h[0],Io:t[1]-h[1]}}else{var X=jn.ez(new iW(t[0],t[1],t[2],t[3])),g=this.Ie.aFS();
g.artboardRect={t:"Objc",v:X};var x=this.Vr,Z=x.U[x.l[0]],Y=Z.add.artb.guideIndeces;if(Y)g.guideIndeces=f.v(Y);
v.T=A.EM;v.data={R:jn.QO,pr:g}}this.J(v)};gV.Ez.prototype.aJg=function(d){var v=this.Vr,t=v.l[0];if(v.U[t].add.SoCo==null)return;
var h=f.v(v.U[t].add.SoCo);h.Clr.v=this.p3.j();this.Oq({Ci:1,hn:h})};gV.Ez.prototype.aEL=function(d){var v=this.Vr,t=v.l[0];
if(v.U[t].add.GdFl==null)return;this.Oq({Ci:2,hn:this.IN.j()})};gV.Ez.prototype.a9p=function(d){this.Oq({Ci:3,hn:this.$X.j()})};
gV.Ez.prototype.Oq=function(d){this.aA0(A.EM,{R:jn.Gh,ls:[this.Vr.l[0]],_A:!0,K:d})};gV.Ez.prototype.azH=function(d){this.aA0(A.xU,{R:"edit_layer",K:this.aLS.j()})};
gV.Ez.prototype.aA0=function(d,v){var t=new eG(_.E.F,!0);t.T=d;t.data=v;this.J(t)};gV.Ez.prototype.dn=function(d,v){var t=f7.get([0,3]),h=!1,X=null;
this.Vr=d;if(d&&d.U.length>0&&d.l.length!=0&&d.U[d.l[0]]){var g=d.U[d.l[0]],x=cV.get(g.add);if(x!=null&&this.D0[x]!=null){X=this.D0[x]._;
this.aLS=this.D0[x];this.D0[x].a(f.v(g.add[x]));if(d.l[0]!=this.akh){var Z=d.jP(d.l[0]-1);this.aJb=f.R4(Z)}this.D0[x].s0(this.aJb);
t=f7.get(cV.names[x])}if(x==null&&g.add.artb==null){var Y=this.akr=f.Q.kI(A.hZ.pT(d));h=!Y.HP();var a=d.si();
Y.x-=a.x;Y.y-=a.y;this.VS.a([Y.x,Y.y,Y.r,Y.$],[d.u3,d.r,this.n.rp.iV])}if(g.add.SoCo){X=this.Ls;this.p3.a(g.add.SoCo.Clr.v);
t=f7.get([6,48,0,0])}if(g.add.GdFl){X=this.zZ;this.IN.update(d,g.add.GdFl);t=f7.get([6,48,0,1])}if(g.add.PtFl){X=this.ll;
this.$X.update(d,g.add.PtFl);t=f7.get([6,48,0,2])}if(g.add.artb){var z=g.add.artb,p=g.x1();X=this.a5d;
this.Ie.anv(z);var U=this.ab8=[p.x,p.y,p.r,p.$];this.K9.a(U,[d.u3,d.r,this.n.rp.iV]);t=f7.get([1,16,0])}var l=g.add.SoLd;
if(l&&l.generativeDocInfo){var L=l.Idnt.v,j=d.u7(L);this.jx.a(j.raw.buffer);X=this.jx._}this.akh=d.l[0]}if(X!=this.WE){if(this.WE)this._.removeChild(this.WE);
if(X!=null)this._.appendChild(X);this.WE=X}this.a9y.a(t);this.VS._.style.display=h?"":"none"};gV.Ez.prototype.sq=function(d,v){this.n=d;
this.IN.sq(d,v);this.$X.sq(d,v);if(v==lx.yy)this.dn(this.Vr,d);for(var t in this.D0)this.D0[t].sq(d,v)};
gV.hG=function(){hm.call(this);this._=u.q("div","form");this.Vr=null;this.Fx=0;var d=u.q("span","fitem");
this._.appendChild(d);this.ik=[new lt([6,2]),new lt([6,3]),new lt([6,50])];for(var n=0;n<this.ik.length;
n++){var v=this.ik[n];v.P("click",this.amp,this);d.appendChild(v._)}this.LP=new fb([12,74],0,255);this.LP.P(_.E.w,this.nh,this);
this._.appendChild(this.LP._);this.sP=new fb([7,6],0,500,"px",2,!0);this.sP.P(_.E.w,this.nh,this);this._.appendChild(this.sP._);
this.acY=new lt([4,11],null,null,!0);this.acY.P("click",this.aFq,this)};gV.hG.prototype=new hm;gV.hG.prototype.aFq=function(){var d=new eG(_.E.F,!0);
d.T=A.xU;d.data={R:"start",Gm:"nvrt"};this.J(d)};gV.hG.prototype.nh=function(d){var v=this.LP.j(),t=this.sP.j(),h=new eG(_.E.F,!0);
h.T=A.EM;h.data={R:jn.ex,ME:this.Vr.l[0],ZE:{Bb:this.Fx,LP:v,sP:t}};this.J(h)};gV.hG.prototype.H=function(){for(var n=0;
n<this.ik.length;n++)this.ik[n].H();this.LP.H();this.sP.H();this.acY.H()};gV.hG.prototype.dn=function(d){this.Vr=d;
this.lq()};gV.hG.prototype.amp=function(d){this.lq(this.ik.indexOf(d.currentTarget));this.parent.aMh(this.Fx)};
gV.hG.prototype.lq=function(d){var v=this.Vr,t=this.ik;for(var n=0;n<3;n++){var h=t[n];h._7();h.$A()}if(v==null||v.U.length==0||v.l.length==0||v.U[v.l[0]]==null)return;
var X=-1,g=v.U[v.l[0]];if(g.l4()&&g.Ip(v).AU!=null){t[2].Wu();X=2}if(g.add.vmsk){t[1].Wu();X=1}if(g._B()){t[0].Wu();
X=0}if(d!=null)X=d;else if(g.s$)X=1;else if(g.VL==3)X=2;else if(g.VL==1)X=0;this.Fx=X;if(X==-1){this.LP.$A();
this.sP.$A();return}var x=g.Ta(X);this.LP.Wu();this.sP.Wu();this.LP.a(x.LP);this.sP.a(x.sP);t[X].sW();
var Z=this.acY._;if(X==0)this._.appendChild(Z);else if(Z.parentNode==this._)this._.removeChild(Z)};gV.Sh=function(){hm.call(this);
this._=u.q("div","form");this.h8=null;this.n=null;this.c8=-1;this.VS=new fN(0,!1);this.zg=new fb([12,15],-180,180,"\xB0",2);
this.Gf=new fN(1,!0);this.Ei=new fb([12,94,0],0,100,null,2);this.XX=new fb([12,78],3,30);this.Wn=new lt(["\u279C  ",[12,76,0]],null,null,!0);
this.VS.P(_.E.w,this.BG,this);this.zg.P(_.E.w,this.BG,this);this.Gf.P(_.E.w,this.BG,this);this.Ei.P(_.E.w,this.BG,this);
this.XX.P(_.E.w,this.BG,this);this.Wn.P("click",this.BG,this)};gV.Sh.prototype=new hm;gV.Sh.prototype.H=function(){this.VS.H();
this.zg.H();this.Gf.H();this.Ei.H();this.XX.H()};gV.Sh.prototype.BG=function(d){var v=this.h8,t=f._5.ms(v),h=d.target.j(),X=[this.VS,this.zg,this.Gf,this.Ei,this.XX,this.Wn].indexOf(d.target);
if(X==0){var g=v.si(),x=[],Z=x[0]=h[0]+g.x,Y=x[1]=h[1]+g.y;x[2]=Z+h[2];x[3]=Y+h[3];h=x}if(X==1)h=h*Math.PI/180;
var a={0:1,1:2,2:3,3:3,4:4}[X];t[a]=h;var z=new eG(_.E.F,!0);z.T=A.EM;z.data={R:jn.PU,K:t,aFz:X==5};
this.J(z)};gV.Sh.prototype.dn=function(d){var v=this._;this.h8=d;if(d==null)return;var t=this.n,h=[d.u3,d.r,t.rp.iV],X=f._5.ms(d),g=X[0],x=X[1];
if(x==null)return;var Z=g!=this.c8;this.c8=g;if(Z)u.Pl(v);if(Z)v.appendChild(this.VS._);if(Z)v.appendChild(this.zg._);
var Y=d.si();this.VS.a([x[0]-Y.x,x[1]-Y.y,x[2]-x[0],x[3]-x[1]],h);this.zg.a(X[2]*180/Math.PI);if(g==2){if(Z)v.appendChild(this.Gf._);
var a=X[3];this.Gf.a(a,h)}if(g==7||g==8){if(Z)v.appendChild(this.Ei._);this.Ei.a(X[3])}if(g==8){if(Z)v.appendChild(this.XX._);
this.XX.a(X[4])}v.appendChild(this.Wn._)};gV.Sh.prototype.sq=function(d,v){this.n=d;this.dn(this.h8)};
function ek(d){f1.call(this,d.name,!0);this.Vr=d;this.n=null;this.r4=new d0(this.jz);this.r4.parent=this}ek.prototype=new f1;
ek.prototype.re=function(){this.Vr=null};ek.zP=function(){var d=document.createElement("canvas"),v=document.createElement("canvas"),t=document.createElement("canvas"),h=16,X=f.m(16*16*4);
f.L1(X,h,h,8);var g=f.scale.og(X,h,h);return{Vl:d,aJH:v,ayG:t,Yx:d.getContext("2d"),aEr:v.getContext("2d"),av4:t.getContext("2d"),xp:g}}();
ek.prototype.ah9=function(){if(this.Vr.IY())return window.confirm(f7.get([22,6,3])+" "+this.Vr.name+". "+f7.get([22,6,4]));
return!0};ek.prototype.sq=function(d,v){this.n=d};ek.prototype.dn=function(d){this.dh();this.iq()};ek.prototype.K$=function(d,v){if(d<=0||v<=0)return;
this.F0=d;this.uV=v;var t=this.Vr,h=ek.zP,X=u.LY();t.z.Yx.r=Math.floor(d*X);t.z.Yx.$=Math.floor(v*X);
u.Zw(h.Vl,d,v);u.Zw(h.aJH,d,v);u.Zw(h.ayG,d,v);u.Zw(fq.km(),d,v);if(t.z.OI==0)t.z.OI=A.VR.d7(t.r,t.$,d*X,v*X);
this.iq()};ek.prototype.dh=function(){var d=this.jz.firstChild,v=ek.zP,t=fq.Dz&&j8==0;if(!t&&d==fq.km()||t&&d==v.Vl)this.jz.removeChild(d);
var h=t?fq.km():v.Vl;if(!u.al(h))this.jz.appendChild(h)};ek.prototype.iq=function(){if(this.n==null)return;
var d=this.Vr,v=fq.Dz&&j8==0;if(v)this.aHO();else this.FF()};ek.prototype.aHO=function(){if(fq.Dz&&ek.a7T==null){var d=ek.a7T=[],v=[0,2,8,32,128];
for(var n=0;n<5;n++)d[n]=[new ek.eU(!1,v[n],!1),new ek.eU(!0,v[n],!1)];d.push([new ek.eU(!1,0,!0),new ek.eU(!0,0,!0)])}var t=this.Vr,h=ek.zP,j,i=0,y,c;
if(t.SR==null)return;var X=t.z,g=X.Yx.r,x=X.Yx.$,Z=fq.fy;h.Yx.clearRect(0,0,g,x);var Y=this.aHP(t);if(X.q_==null||X.q_.r!=g||X.q_.$!=x)X.q_=new fq.lh(g,x);
if(Y){var a=Date.now(),z=navigator.userAgent.toLowerCase();if(z.indexOf("safari")!=-1&&z.indexOf("chrome")==-1){var p=x,U=new Uint8Array(h.Yx.getImageData(0,0,g,p).data.buffer);
X.q_.set(U,new iW(0,0,g,p))}else X.q_.set(h.Yx.canvas);this.DR=!0}else if(this.n.Na){if(this.DR){fq.Bg(X.q_);
fq.fv(1);this.DR=!1}var l=f.rd.IK,U=new Uint8Array(t.z.YE.data.buffer);X.q_.set(U,new iW(0,0,l,x));var U=new Uint8Array(t.z.bc.data.buffer);
X.q_.set(U,new iW(0,0,g,l));var U=new Uint8Array(h.Yx.getImageData(0,x-l,g,l).data.buffer);X.q_.set(U,new iW(0,x-l,g,l));
this.DR=!0}else if(this.DR){fq.Bg(X.q_);fq.fv(1);this.DR=!1}var L=X.X4(0,0);if(ek.aA9==null)ek.aA9=new Float32Array(4*1024);
var O=[0,0,0,0],F=ek.aA9;if(t.add.artd){F.fill(0);O=ek.wB(t);var $=t.r,H=t.$,V=0;for(var n=0;n<t.U.length;
n++){var b=t.U[n],r=b.add.artb;if(r==null||!b.ZC())continue;var W=b.x1();F[i]=W.x/$;F[i+1]=W.y/H;F[i+2]=W.r/$;
F[i+3]=W.$/H;i+=4;if(i==F.length)break}if(i>2*4)V++;if(i>8*4)V++;if(i>32*4)V++;j=ek.a7T[V+1];F=new Float32Array(F.buffer,0,[2,8,32,128][V]*4)}else j=ek.a7T[t.Dw?5:0];
var S=t.UR();if(S==null)j=j[0];else{j=j[1];c=S[t.add.fcmy==1?6:4];y=S[2]}fq.a1V(g,x);fq.fv(0);fq.a1V(g,x);
j.R7();var C=new gi;C.scale(g,x);C.concat(X.jG(!0));C.scale(1/t.r,1/t.$);var K=[C.aX,C.X,0,C.Wp,C.r7,0,C.r2,C.pE,1];
j.Ni(X.q_.gL,t.SR.gL,new Float32Array(K),new Float32Array([g/8,x/8,L.x/g,L.y/x]),t.r,t.$,1/t.z.OI,g,x,new Float32Array(O),F,new Float32Array(f.Yh.zR(f.Yh.aLI(X.b$))),c,y);
Z.drawArrays(Z.TRIANGLES,0,6)};ek.wB=function(d){return[0,0,0,0]};ek.al0=function(d){var v=f.iF.pq(d.v),t=[v.C/255,v.L/255,v.X/255,1];
for(var n=0;n<4;n++)t[n]=Math.min(1,t[n]);return t};ek.Xn=function(d,v){var t=d[2]*255;if(fq.Dz)t=v?0:Math.max(2,t);
return"rgba("+d[0]*255+","+d[1]*255+","+t+","+d[3]+")"};ek.lU=function(d){var v=d.length;if(fq.Dz)for(var n=0;
n<v;n+=4){if(d[n+2]==0)d[n+2]=3}};ek.prototype.FF=function(){var d=this.Vr,v=ek.zP;if(j8==0&&d.buffer==null)return;
var t=d.z,h=t.Yx,X=h.r,g=h.$,x=new iW(0,0,d.r,d.$);v.Yx.clearRect(0,0,X,g);var Z=d.add.prvw==0;if(j8==1&&Z){v.Yx.fillStyle="white";
v.Yx.fillRect(-5e3,-5e3,2e4,2e4)}var Y=t.jG(!0),a=Y.b();a.zJ();if(j8!=0){}else if(d.add.artd==null){v.Yx.save();
var z=a._V(new cK(0,0));a.translate(-z.x,-z.y);v.Yx.translate(Math.round(z.x),Math.round(z.y));v.Yx.fillStyle=j8==0?v.xp:"#ffffff";
if(d.Dw)v.Yx.fillRect(-5e3,-5e3,2e4,2e4);else{this.fq(f.Q.Ya(x),a,v.Yx);v.Yx.fill()}v.Yx.restore()}else{v.Yx.fillStyle=ek.Xn(ek.wB(d));
v.Yx.fillRect(0,0,X,g);v.Yx.save();v.Yx.setTransform(a.aX,a.X,a.Wp,a.r7,a.r2,a.pE);var p=d.root.children;
for(var n=0;n<p.length;n++){var U=p[n].B;if(U.add.artb==null||!U.ZC())continue;var l=U.x1(),L=U.FE();
if(L!=0)continue;v.Yx.fillStyle=v.xp;v.Yx.save();v.Yx.scale(1/t.OI,1/t.OI);v.Yx.fillRect(t.OI*l.x,t.OI*l.y,l.r*t.OI,l.$*t.OI);
v.Yx.restore()}v.Yx.restore()}var a=t.jG(!0);a.zJ();if(j8==1){v.Yx.save();var j=f.Q.Ya(t.Yx);f.Q.M(j.I,t.jG(!0),j.I);
var O=f.Q.k2(j.I);v.Yx.setTransform(a.aX,a.X,a.Wp,a.r7,a.r2,a.pE);d.root.ZD(d,v.Yx,this.n,O);v.Yx.restore();
v.Yx.save();v.Yx.fillStyle="#ffffff";v.Yx.globalCompositeOperation="destination-over";var F=d.add.arts;
for(var n=0;n<F.length;n++){var O=f.Q.mo(F[n].l7);this.fq(f.Q.Ya(O),a,v.Yx);if(Z)v.Yx.stroke();else v.Yx.fill()}v.Yx.restore()}else if(j8==0){co.oM(t.Yx);
var i=h,$=d.FV;if($&&$.GV(x))$=null;if(!d.Dw){var H=$;if(H==null)H=x;var b=f.Q.Ya(H).I;f.Q.M(b,a,b);
var O=f.Q.k2(b);i=h.hL(O)}if(!i.HP()){var r=new Uint8Array(co.aQ.buffer,0,i.k()*4);r.fill(0);var W=d.buffer,V=d.UR(),y=f.UJ(W),c=f.ay(y);
if(V&&y!=8){W=W.slice(0);for(var n=0;n<W.length;n++)if(W[n]>c)W[n]=c;ICC.U.applyLUT(V[d.add.fcmy==1?5:3],V[2],W,W)}f.scale._x(W,x,Y,r,i,d.Dw);
if(V&&y==8){ICC.U.applyLUT(V[d.add.fcmy==1?5:3],V[2],r,r)}if(t.b$[0]+t.b$[1]+t.b$[2]!=3)f.Yh.a5b(r,r,f.Yh.aLI(t.b$));
if($)v.av4.clearRect(i.x,i.y,i.r,i.$);else v.av4.clearRect(0,0,X,g);v.av4.putImageData(new ImageData(new Uint8ClampedArray(r.buffer,0,r.length),i.r,i.$),i.x,i.y)}v.Yx.drawImage(v.ayG,0,0);
v.Yx.getImageData(0,0,1,1)}else if(j8==2){if(d.add.prvw!=1){v.Yx.resetTransform();ek.Y.ag1(d,v.Yx,this.n)}else{var S=JSON.stringify(d.U[d.l[0]].Y.list),C,T=595.44,D=595.44;
if(S==this.amN)C=this.aDq;else{this.amN=S;this.aDq=C=lD.shape(d)}var K=new ToContext2D(v.Yx);v.Yx.resetTransform();
v.Yx.clearRect(0,0,t.Yx.r,t.Yx.$);v.Yx.translate(t.Yx.r/2+t.eP.x,t.Yx.$/2+t.eP.y);v.Yx.scale(t.eQ,t.eQ);
v.Yx.translate(-T/2,-D/2);lD.LB(C,K,T,jG.vr(d.Y.Uf,d),!0)}}if(j8!=2)this.aHP(d)};ek.prototype.aHP=function(d){var v=d.z,t=v.b$[0]+v.b$[1]+v.b$[2],h=ek.zP,X=!1,g=[];
for(var n=0;n<d.l.length;n++){var x=d.U[d.l[n]];if(x==null)continue;var Z=x.VL;if(Z!=1&&Z!=3)continue;
var Y=Z==1?x._B():x.Ip(d).AU;if(Y.ak)g.push(Y)}for(var n=0;n<d.gM.length;n++)if(d.gM[n].ak)g.push(d.gM[n]);
for(var n=0;n<g.length;n++){var Y=g[n];this.aaG(Y,v,g.length==1&&t==0?2:1,Y.color,Y.EJ);X=!0}var a=this.n;
X=this.aB1(d,h.Yx,v,g.length!=0)||X;if(d.p&&a.N$&&a.rp.Oc){this.aaG(d.p,v,0,0,null);X=!0}return X};ek.prototype.aaG=function(d,v,t,h,X){var g=0;
if(X)g=Math.round(X.X)<<16|Math.round(X.L)<<8|Math.round(X.C);var x=v.jG(!0),Z=v.Yx,Y=new iW(0,0,v.Vr.r,v.Vr.$),a=ek.zP;
co.oM(v.Yx);co.jT.fill(h);co.aQ.fill(0);var z=d.N,p=d.S;f.scale.M(z,p,x,co.jT,Z);if(t==0){var U=new Uint32Array([4278190080,4294967295]);
ek.lU(new Uint8Array(U.buffer));f.p.ak_(co.jT,co.aQ,Z,U,u.LY()>1.9)}else{var l=Date.now(),L=window.locStor.getItem("__qmc");
f.p.ao5(co.jT,co.aQ,Z,t,L==null?16711680:L);ek.lU(co.aQ)}var j=new ImageData(new Uint8ClampedArray(co.aQ.buffer),Z.r,Z.$);
a.aEr.putImageData(j,0,0);a.Yx.save();if(t!=0){var O=new iW(0,0,Y.r,Y.$),F=x.b();F.zJ();this.fq(f.Q.Ya(O),F,a.Yx);
a.Yx.clip()}a.Yx.drawImage(a.aJH,0,0);a.Yx.restore()};ek.prototype.aB1=function(d,v,t,h){var X=d.W.ei!=null||d.W.sG!=null||d.W.IJ!=null||d.W.gA!=null||d.W.jC!=null||d.W.O1!=null||d.W.E9.length!=0||d.W.NX.length!=0,g=this.n,x=g.rp,Z=fW._w[g.O5],Y=Math.round(12*u.LY()),a=Y/d.z.OI,z=t.jG(!0);
z.zJ();v.save();v.setTransform(z.aX,z.X,z.Wp,z.r7,z.r2,z.pE);var p=ek.wB(d)[0];p=p<.5?p+.5:p-.5;p=""+Math.round(p*255).toString(16);
while(p.length<2)p="0"+p;v.font=a+"px sans-serif";if(d.add.artd){v.fillStyle="#"+p+p+p;for(var n=0;n<d.U.length;
n++){var U=d.U[n];if(U.add.artb==null||!U.ZC())continue;var l=U.x1();v.save();v.beginPath();v.rect(l.x,l.y-2*a,l.r,2*a);
v.clip();v.fillText(U.getName(),l.x+2,l.y-a*.7);v.beginPath();v.restore();X=!0}}if(d.add.arts&&g.tN==A.Ob){var L=d.add.arts;
for(var n=0;n<L.length;n++){var l=L[n],j=f.Q.mo(l.l7),O=(n+1+"").padStart(2,"0");O+=" - "+l.cF;v.save();
v.beginPath();v.fillStyle=l.l?"#cce6ff":"#dddddd";v.rect(j.x,j.y,v.measureText(O).width+a,a*1.5);v.fill();
v.fillStyle="black";v.fillText(O,j.x+a/2,j.y+a*1.1);v.restore()}X=!0}function F(hb){return hb==1||hb==2||hb==4||hb==5}var i=ek.Xn([.3,.5,1,1]),$=ek.Xn([1,1,1,1]),H=ek.Xn([.7,.7,.7,1]);
if(g.N$&&x.S5){v.fillStyle=v.strokeStyle=i;v.lineWidth=1.5/t.OI;var b=d.V9(),r=b[0],W=b[1];for(var V=0;
V<W.length;V++){var U=r[W[V]],y=U.add.vmsk,c=y.D,S=f.Q.lR(c);this.fq(S,null,v);v.stroke();X=!0;var C=3*u.LY()/t.OI,K=C*1.5;
for(var n=0;n<y.Pd.length;n++){var T=f.t.aEc(c,y.Pd[n]);if(T==null)continue;var D=T.x,N=T.y;v.beginPath();
var G=n==0;if(y.GJ)G=!G;if(G){v.moveTo(D-K,N-K);v.lineTo(D+K,N+K);v.moveTo(D-K,N+K);v.lineTo(D+K,N-K);
v.stroke()}else{v.arc(D,N,K,0,2*Math.PI);v.save();v.globalCompositeOperation="destination-out";v.fill();
v.restore();v.stroke()}X=!0}if(d.l.length!=1)continue;var s=-1,Q=-1,q=-1;for(var n=0;n<c.length;n++){if(c[n].e>5)continue;
if(c[n].e==0||c[n].e==3){Q=n+1;q=c[n].length;if(c[n].qG!=-1)s++;continue}if(y.l.indexOf(s)!=-1){var D=c[n].Z.x,N=c[n].Z.y;
v.fillRect(D-C*.8,N-C*.8,2*C*.8,2*C*.8)}if(y.aD.indexOf(n)!=-1){var R=c[n],m=[R.Z];v.beginPath();v.moveTo(R.dH.x,R.dH.y);
v.lineTo(R.Z.x,R.Z.y);v.lineTo(R.KU.x,R.KU.y);var E=Q+(n+q-Q-1)%q,e=Q+(n+q-Q+1)%q,w=c[E],M=c[e];if(w&&F(w.e)&&y.aD.indexOf(E)==-1){v.moveTo(w.Z.x,w.Z.y);
v.lineTo(w.KU.x,w.KU.y);m.push(w.KU)}if(M&&F(M.e)&&y.aD.indexOf(e)==-1){v.moveTo(M.Z.x,M.Z.y);v.lineTo(M.dH.x,M.dH.y);
m.push(M.dH)}v.stroke();if(!R.Z.fE(R.dH))m.push(R.dH);if(!R.Z.fE(R.KU))m.push(R.KU);for(var P=0;P<m.length;
P++){var T=m[P],D=T.x,N=T.y;if(P==0&&(R.e==2||R.e==5))v.fillRect(D-1.2*C,N-1.2*C,2.4*C,2.4*C);else{v.beginPath();
v.arc(D,N,C*1.2,0,2*Math.PI);v.fill();if(P!=0)v.fillStyle=$;v.beginPath();v.arc(D,N,C*.8,0,2*Math.PI);
v.fill();v.fillStyle=i}}}X=!0}}if(d.v1!=-1&&[A.nj,A.D8,A.OG].indexOf(g.tN)!=-1){var U=d.S5[d.v1],y=U.add.vmsk,c=y.D,S=f.Q.lR(c);
this.fq(S,null,v);v.stroke();X=!0}}v.lineWidth=1/t.OI;if(d.W.Gn){v.fillStyle=v.strokeStyle=i;var M={I:[],s2:[]},I=ek.aM4;
if(I==null){I=ek.aM4={I:[1,0],s2:["M"]};for(var n=1;n<30;n++){var k=Math.PI*2*n/30;I.I.push(Math.cos(k),Math.sin(k));
I.s2.push("L")}I.s2.push("Z","M","L","M","L");I.I.push(-.5,0,.5,0,0,-.5,0,.5)}for(var n=0;n<d.W.Gn.length;
n++){var w=A.jr.aeo(d.W.Gn[n],t),o=new gi(w[0],0,0,w[0],w[1],w[2]);f.Q.concat(M,I,o)}this.fq(M,null,v);
v.stroke();X=!0}var af=new gi(1,0,0,1,.5/t.OI,.5/t.OI);if(d.Dw){v.fillStyle=v.strokeStyle=i;var M={I:[0,0,d.r,0,d.r,d.$,0,d.$],s2:["M","L","L","L","Z"]};
this.fq(M,af,v);v.stroke();X=!0}if(d.W.kp){v.fillStyle=v.strokeStyle=ek.Xn([0,0,0,.5]);this.fq(d.W.kp,null,v,!0);
v.fill("evenodd")}v.strokeStyle=i;v.fillStyle=$;if(d.W.IJ){this.fq(d.W.IJ,af,v);v.stroke()}if(d.W.jC){this.fq(d.W.jC,af,v);
v.lineWidth=u.LY()*3.5/t.OI;v.stroke()}var J=ek.DN(d.W.ZM,v,t);v.fill();v.stroke();X=X||J;v.fillStyle=v.strokeStyle=ek.Xn([0,0,0,fq.Dz&&j8==0?1:.5],!0);
if(d.W.ei){this.fq(d.W.ei,null,v);v.fill()}if(d.W.sG){this.fq(d.W.sG,af,v);v.stroke()}for(var at in d.W.gq)if(d.W.gq[at].sG){this.fq(d.W.gq[at].sG,null,v);
v.stroke();X=!0}var J=ek.DN(d.W.ag,v,t);v.stroke();X=X||J;if(d.W.gA){this.fq(d.W.gA,af,v);v.strokeStyle="rgba(0,0,0,0.5)";
v.lineWidth=u.LY()*2.5/t.OI;v.stroke();v.strokeStyle="white";v.lineWidth=u.LY()*2/t.OI;v.stroke()}if(d.W.N8.length+d.W._r.length+d.W.QL.length!=0){X=!0;
v.fillStyle=$;ek.b_(d.W.N8,v,t,6);v.fill();ek.b_(d.W._r,v,t,6);v.fill();v.fillStyle=i;ek.b_(d.W.N8,v,t,4);
v.fill();ek.b_(d.W.QL,v,t,4);v.fill();v.fillStyle=H;ek.b_(d.W._r,v,t,4);v.fill()}if(d.W.E9.length!=0){for(var n=0;
n<d.W.E9.length;n++){var ke=d.W.E9[n],c_=ke[1],ag;if(h){ag=v.getImageData(c_.x,c_.y,c_.r,c_.$);f.V.Qe("norm",ke[0],c_,new Uint8Array(ag.data.buffer),c_,c_,1)}else ag=new ImageData(new Uint8ClampedArray(ke[0].buffer),c_.r,c_.$);
v.putImageData(ag,c_.x,c_.y)}}var dz=.5/t.OI;v.lineWidth=1/t.OI;if(d.W.jM){X=!0;var kL=d.W.jM,aq=kL.Ep,S={s2:[],I:[]};
for(var n=0;n<kL.mW.length;n++)f.Q.concat(S,f.Q.Ya(kL.mW[n]));S.I=S.I.concat(aq);for(var n=0;n<aq.length;
n+=4){S.s2.push("M","L")}for(var n=0;n<S.I.length;n++){S.I[n]+=dz}v.strokeStyle=ek.Xn([.9,.2,.2,1]);
this.fq(S,null,v);v.stroke();var dh=u.LY(),gK=2/t.OI;v.font=a*.9+"px sans-serif";for(var n=0;n<aq.length;
n+=4){var D=aq[n],N=aq[n+1],ad=aq[n+2],dc=aq[n+3],lq=Math.sqrt((dc-N)*(dc-N)+(ad-D)*(ad-D));lq=f.rd.Zm(lq,d.u3,g,N==dc?d.r:d.$);
var hn=new cK((D+ad)/2,(N+dc)/2);v.fillStyle=ek.Xn([.9,.2,.2,1]);var dF=v.measureText(lq).width;v.fillRect(hn.x-dF/2-gK*dh,hn.y-3.5*gK*dh,dF+2*gK*dh,7*gK*dh);
v.fillStyle=ek.Xn([1,1,1,1]);v.save();v.translate(hn.x-dF/2,hn.y+2*gK*dh);v.scale(.1,.1);v.font=a*9+"px sans-serif";
v.fillText(lq,0,0);v.restore()}}if(g.N$){if(x.Nz&&d.z.OI>10&&j8==0){this.L1(d,v,1,1,.25,x.fs,16777215);
X=!0}if(x.iN){var c3=f.rd.LJ(x.H9,d.u3,d.r,x.d6),i8=x.vX==0?c3:f.rd.LJ(x.vX,d.u3,d.r,x.d6);if(x.d6==4)i8*=d.$/d.r;
this.L1(d,v,c3,i8,1,x.fs,x.M0);X=!0;if(x.Tr!=1){v.save();v.setLineDash([1/d.z.OI,1/d.z.OI]);this.L1(d,v,c3/x.Tr,i8/x.Tr,1,x.fs,x.M0);
v.restore()}}if(x.MQ){var dr=d.Dy(),jO=d.Hq(),d1=Math.max(d.z.Yx.r,d.z.Yx.$)/d.z.OI;d1=Math.max(Math.max(d.r,d.$)*2,d1);
for(var n=0;n<dr[0].length;n++){var h3=dr[0][n],d5=dr[1][n];if(d5!=-1&&d5!=jO)continue;var em=t.X4(h3[1],h3[1]),fl=t.tw(Math.floor(em.x)+.5,Math.floor(em.y)+.5),lA=f.le(d5==-1?x.tF:x.rs);
lA=[lA.C/255,lA.L/255,lA.X/255,1];v.beginPath();v.strokeStyle=ek.Xn(lA);if(h3[0]==0){var av=fl.x;v.moveTo(av,-d1);
v.lineTo(av,d1)}else{var ah=fl.x;v.moveTo(-d1,ah);v.lineTo(d1,ah)}v.stroke();X=!0}}var gE=d.Aw;if(gE.length>0&&g.tN==A.aM8){var c_=7/d.z.OI,fj=c_/3,bD=c_*4;
v.strokeStyle=v.fillStyle="black";for(var n=0;n<gE.length;n++){var e1=gE[n];v.fillRect(e1.x-.5*fj,e1.y-.5*bD,fj,bD);
v.fillRect(e1.x-.5*bD,e1.y-.5*fj,bD,fj);v.lineWidth=2.5/d.z.OI;v.beginPath();v.arc(e1.x,e1.y,c_,0,2*Math.PI);
v.stroke();v.font=1.9*c_+"px serif";v.lineWidth=1.25/d.z.OI;v.strokeText(""+(n+1),e1.x+.75*c_,e1.y+2.5*c_)}X=!0}var am=d.Wc;
if(x.Wc&&am.length!=0){v.font=a*.8+"px sans-serif";var dj=[],ja=[];for(var n=0;n<am.length;n++){var aj=A.Jp.qa(am,n);
dj.push(aj);if(d.ga.indexOf(n)!=-1)ja.push(aj)}dj.reverse();var dS=Date.now();dj=f.S.a9I([0,0,d.r,d.$],dj);
for(var P=0;P<2;P++)for(var n=0;n<dj.length;n++){var eW=dj[n],s=eW[4],q=s!=null?am[s]:null;if(q&&P==0||q==null&&P==1)continue;
var D=Math.round(eW[0]),N=Math.round(eW[1]),ad=Math.round(eW[2]),dc=Math.round(eW[3]);v.strokeStyle=v.fillStyle=ek.Xn(q?[0,.7,.7,1]:[.8,.8,.8,1]);
v.strokeRect(D+dz,N+dz,ad-D,dc-N);var cI=n+1,kP=v.measureText(cI),dF=kP.width;v.fillRect(D,N,dF+a/2,a);
v.fillStyle=ek.Xn([1,1,1,1]);v.fillText(cI,D+a/4,N+a*.8)}var gK=2/d.z.OI,ac=2*gK;for(var n=0;n<ja.length;
n++){var eW=ja[n],D=Math.round(eW[0]),N=Math.round(eW[1]),ad=Math.round(eW[2]),dc=Math.round(eW[3]);
v.strokeStyle=v.fillStyle=ek.Xn([1,.6,0,1]);v.strokeRect(D+dz,N+dz,ad-D,dc-N);var jR=[D,N,ad,N,ad,dc,D,dc];
for(var eo=0;eo<jR.length;eo+=2){var av=jR[eo],ah=jR[eo+1],eP=jR[eo+2&7],as=jR[eo+3&7];v.fillRect(av-gK,ah-gK,ac,ac);
v.fillRect(Math.round((av+eP)/2)-gK,Math.round((ah+as)/2)-gK,ac,ac)}}X=!0}var kF=d.add.Anno;if(kF&&kF.length!=0)for(var n=0;
n<kF.length;n++){var kW=kF[n],lA=kW[2],av=kW[0]-dz,ah=kW[1]-dz,ac=30/t.eQ,hs=.4*ac,gc=.6*ac;v.beginPath();
v.moveTo(av,ah+gc);v.lineTo(av,ah);v.lineTo(av+ac,ah);v.lineTo(av+ac,ah+ac);v.lineTo(av+hs,ah+ac);v.closePath();
v.lineTo(av+hs,ah+gc);v.lineTo(av+hs,ah+ac);if(n==d.z.qc){v.lineWidth*=5;v.strokeStyle=ek.Xn([0,0,0,.5]);
v.stroke();v.lineWidth/=5}v.fillStyle=ek.Xn([lA.C/255,lA.L/255,lA.X/255,1]);v.fill();v.strokeStyle=ek.Xn([0,0,0,1]);
v.stroke()}}v.strokeStyle=ek.Xn([1,0,0,1]);if(d.W.O1){this.fq(d.W.O1,af,v);v.stroke()}v.restore();if(g.Na){if(d.z.bc==null||d.z.bc.width!=d.z.Yx.r||d.z.YE.height!=d.z.Yx.$){d.z.bc=new ImageData(d.z.Yx.r,f.rd.IK);
d.z.YE=new ImageData(f.rd.IK,d.z.Yx.$)}var Z=fW._w[g.O5],fK=0,lo=0,cR=d.r,fU=d.$;if(d.Hq()!=-1){var l=d.U[d.Hq()].x1();
fK=l.x;lo=l.y;cR=l.r;fU=l.$}fK*=t.OI;lo*=t.OI;var t=d.z,g8=[1,d.u3,d.u3/2.54,d.u3/25.4,cR/100][x.iV],i2=t.OI*d.r/2,jQ=t.OI*d.$/2,eS=[t.OI*g8,new cK(t.h.x+(fK+i2*g8-i2),t.h.y+(lo+jQ*g8-jQ))];
if(x.iV==4)g8*=fU/cR;var ji=[t.OI*g8,new cK(t.h.x+(fK+i2*g8-i2),t.h.y+(lo+jQ*g8-jQ))],l7=this.r4.NT;
f.rd.azO(t,Z["--text-color"],Z["--bg-input"],Math.floor(l7.x),Math.floor(l7.y),eS,ji,x.iV==1?8:10);var j_=kR.asF(t.OI,ek.Xn([1,1,1,1]),d.r+" \xD7 "+d.$);
ek.lU(d.z.YE.data);ek.lU(d.z.bc.data);v.putImageData(d.z.YE,0,0);v.putImageData(d.z.bc,0,0);v.putImageData(j_,0,d.z.Yx.$-j_.height)}if(d.W.NX.length!=0){for(var n=0;
n<d.W.NX.length;n++){var ke=d.W.NX[n],c_=ke[1];v.putImageData(new ImageData(new Uint8ClampedArray(ke[0].buffer),c_.r,c_.$),c_.x,c_.y)}}return X};
ek.prototype.L1=function(d,v,t,h,X,g,x){while(t*d.z.OI<4){t*=2;h*=2}var Z=d.r,Y=d.$,a=.5/d.z.OI;x=f.le(x);
v.strokeStyle=ek.Xn([x.C/255,x.L/255,x.X/255,X],!1);v.save();v.rect(0,0,Z,Y);v.clip();v.beginPath();
for(var z=0;z<=Z;z+=t){v.moveTo(z+a,0);v.lineTo(z+a,Y)}if(g==0){for(var p=0;p<=Y;p+=h){v.moveTo(0,p+a);
v.lineTo(Z,p+a)}}else{h*=Math.sqrt(4/3);var U=h*Math.floor(Z/h),l=Z*(h/(2*t));for(var p=-U;p<=Y+U;p+=h){v.moveTo(0,p);
v.lineTo(Z,p-l);v.moveTo(0,p);v.lineTo(Z,p+l)}}v.stroke();v.restore()};ek.b_=function(d,v,t,h){v.beginPath();
var X=h*u.LY()/t.OI,g=!1;for(var n=0;n<d.length;n+=2){g=!0;var x=d[n],Z=d[n+1];v.moveTo(x+X,Z);v.arc(x,Z,X,0,2*Math.PI)}return g};
ek.DN=function(d,v,t,h){v.beginPath();var X=(h?h:1)*(4*u.LY()+.5)/t.OI,g=!1;for(var n=0;n<d.length;n+=2){g=!0;
var x=d[n],Z=d[n+1];v.rect(x-X,Z-X,2*X,2*X)}return g};ek.sy=function(d,v,t,h){t.beginPath();if(h)t.rect(-1e5,-1e5,1e6,1e6);
var X=d;if(v){X=f.Q.b(d);f.Q.M(X.I,v,X.I)}Typr.U.pathToContext({cmds:X.s2,crds:X.I},t)};ek.prototype.fq=ek.sy;
ek.eU=function(d,v,t){fq.l8.call(this);var h=this.aeq=v!=0,X=t?"true":"in01(sCoord)",g="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(d?"uniform sampler2D lut;  uniform float N;  "+fq.Rd.aDL:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(h?"uniform vec4 bgClr;  uniform vec4 ars["+v+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+fq.Rd.a2B+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = min(vec4(1,1,1,1),texture2D(image, sCoord"+(t?"-floor(sCoord)":"")+")); \t\t\t\t"+(d?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(h?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+v+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+X+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+X+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",x="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.B3(g,x)};ek.eU.prototype=new fq.l8;ek.eU.prototype.Ni=function(d,v,t,h,X,g,x,Z,Y,a,z,p,U,l){this.mR("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var L=fq.fy,j=this.Yu;L.uniformMatrix3fv(j.tmat,!1,t);L.uniform4fv(j.gsize,h);L.uniform3f(j.contSizeZoom,X,g,x);
L.uniform2f(j.cnvSize,Z,Y);L.uniformMatrix4fv(j.ctrn,!1,p);if(this.aeq){L.uniform4fv(j.ars,z);L.uniform4fv(j.bgClr,a)}L.uniform1i(j.over,0);
L.uniform1i(j.image,1);L.activeTexture(L.TEXTURE0);L.bindTexture(L.TEXTURE_2D,d);L.activeTexture(L.TEXTURE1);
L.bindTexture(L.TEXTURE_2D,v);if(U){L.uniform1f(j.N,l);L.uniform1i(j.lut,2);L.activeTexture(L.TEXTURE2);
L.bindTexture(L.TEXTURE_2D,U.gL);var O=L.LINEAR;L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,O);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,O)}L.activeTexture(L.TEXTURE0)};ek.Y={};ek.Y=function(){var d=100,v=100,t=.5,h=200,X=100;
function g(p,U,l){var L=U.canvas.width,j=U.canvas.height,O=50*u.LY();d=L*.5;z(U,p,O,!1);Y(p,U,!1,l);
Z(p.root,p,U);z(U,p,O,!0);Y(p,U,!0,l)}var x={};function Z(p,U,l){var L=p.B,j=p.children;if(!L.ZC())return;
var O=l.canvas.width,F=l.canvas.height;if(L.h5())for(var n=0;n<j.length;n++)Z(j[n],U,l);else if(L.Y){var O=l.canvas.width,F=l.canvas.height,i=Math.round(u.LY()*h/12)*U.z.eQ,$=U.z.eQ,H=$*(X*u.LY())/U.Y.BP,b=U.z.eP.x+d,r=U.z.eP.y+F*t,W=L.Y.list,V=L.Y.jJ;
if(U.l.length==1&&U.l[0]==p.index){l.fillStyle="white";l.beginPath();for(var n=0;n<L.Y.l.length;n++){var y=W[L.Y.l[n]],c=b+y[0]*H,S=y[1]*H;
if(c+S<0)continue;if(O<c)break;var C=C=r+4*12*i-(y[2]-12)*i,K=2*$;l.roundRect(c-K,C-i*.05+K,S-i*.05+2*K,-(i*.9)-2*K,i*.25+K)}l.fill()}var T="C C# D D# E F F# G G# A A# B".split(" "),D=[],N=[];
l.fillStyle=fV.Zl(V);l.beginPath();for(var n=0;n<W.length;n++){var y=W[n],c=b+y[0]*H,S=y[1]*H,C=r+4*12*i-(y[2]-12)*i;
if(c+S<0||C<0||C-i>F)continue;if(O<c)break;if(S*4>i)l.roundRect(c,C-i*.05,S-i*.05,-(i*.9),i*.25);else l.rect(c,C-i*.05,S-i*.05,-(i*.9));
if(U.Y.Nn&&c<O/2&&O/2<c+S)N.push(C-i/2,(O/2-c)/S);if($>.6&&V!=200&&S*2>i){var G="";if(V==300)G=y[3];
else if(V==500)G=Math.round(y[3])+" bpm";else if(V==501)G=y[3][0]+" / "+y[3][1];else G=T[y[2]%12];D.push(G,c+i*.2,C-i*.25,0)}}l.fill();
l.beginPath();l.font=" "+i*.7+"px sans-serif";l.fillStyle="rgba(0,0,0,1)";for(var n=0;n<D.length;n+=4)l.fillText(D[n],D[n+1],D[n+2])}}function Y(p,U,l,L){U.strokeStyle="rgba(255,255,255,0.2)";
U.lineWidth=1/u.LY();var j=U.canvas.width,O=U.canvas.height,F=p.z.eQ,i=F*(X*u.LY())/p.Y.BP,$=p.z.eP.x+d,H=u.LY()*16,W=0,V=0,y=0;
if(l){var b=fW._w[L.O5];U.fillStyle="#"+f.Uj(b["--bg-input"]);U.fillRect(0,0,j,H);U.fillRect(0,O-H,j,H);
U.fillStyle="#"+f.Uj(b["--text-color"]);U.font=H*.7+"px sans-serif"}var r=jG.PP(p);for(var c=0;c<1e3;
c++){var S=c*p.Y.BP;while(W+1!=r.length&&S>=r[W+1][0]){V=c;W++}var C=r[W][3];C=[Math.round(C[0]*4/C[1]),4];
var K=(c-V)%C[0]==0;if(K)y++;var T=Math.floor($+S*i)+.5;if(T<0||j<T)continue;if(!K&&(l||F<.05))continue;
U.beginPath();U.strokeStyle="rgba(255,255,255,"+(K?.3:.15)+")";U.moveTo(T,0);if(l){U.lineTo(T,H);U.moveTo(T,O-H)}U.lineTo(T,O);
U.stroke();if(l){U.fillText(""+y,T+H*.4,H*.7);var D=jG.iE(S,p).toFixed(1),N=Math.floor(D/60),G=Math.floor(D-N*60),s=Math.floor((D-N*60-G)*100);
if(G==0)G="00";else if(G<10)G="0"+G;if(s==0)s="00";else if(s<10)s="0"+s;U.fillText((N=="00"?"":N+":")+G+"."+s,T+H*.4,O-H+H*.7)}}if(l){U.beginPath();
U.strokeStyle="green";U.moveTo(j/2,0);U.lineTo(j/2,p.Y.Nn?5e3:H);U.stroke();U.beginPath()}var N=p.z.HB();
N.zJ();if(p.W.sG){U.strokeStyle="white";U.beginPath();a(p.W.sG,N,U);U.stroke()}}function a(p,U,l){if(U){p=f.Q.b(p);
f.Q.M(p.I,U,p.I)}Typr.U.pathToContext({cmds:p.s2,crds:p.I},l)}function z(p,U,l,L){var j=p.canvas.width,O=p.canvas.height,F=U.l.length==1?U.U[U.l[0]].Y:null,i=F&&F.jJ==200,$=U.z.eQ,H=Math.round(u.LY()*h/12)*$,b=O*t+4*12*H+U.z.eP.y;
if(L){}else{p.fillStyle="#25262d";p.fillRect(0,0,j,O)}p.save();p.translate(0,b);var r="C C# D D# E F F# G G# A A# B".split(" ");
p.strokeStyle="rgba(0,0,0,0.3)";p.font="bold "+Math.min(H*.7,13*u.LY())+"px sans-serif";for(var n=0;
n<108;n++){var W=n%12,V=Math.floor(n/12),y=r[W],c=y.length==2,S=-n*H;if(L){if(i){p.fillStyle="white";
p.roundRect(-50,S-H+H*.03,50+l*2.5,H*.94,3*$);p.fill();p.fillStyle="black";if(27<=n+12&&n+12<=87)p.fillText(MIDDB.drums[n+12],7,S-H+H*.8)}else{p.fillStyle=c?"black":"white";
if(c)p.roundRect(-50,S-H+H*.03,50+l*.6,H*.94,3*$);else if(W==0){var C=0;for(var K=0;K<7;K++){var T=K<3?H*5/3:H*7/4;
C+=T;p.roundRect(-50,S-C+T*.03,50+l,T*.94,3*$)}}p.fill();p.fillStyle="black";if(W==0)p.fillText("C"+V,l-H,S-H*.63)}if(F&&F.l.length<=8){var D=!1;
for(var K=0;K<F.l.length;K++){var N=F.list[F.l[K]];if(N[2]==n+12)D=!0}if(D){p.fillStyle="red";p.fillRect(3,S-H/2-3,6,6)}}}else{if(c){p.fillStyle="rgba(0,0,0,0.15)";
p.fillRect(l,S-H,j,H)}if(W==0||W==5){var G=Math.round(S)+.5;p.strokeStyle="rgba(255,255,255,0.25)";p.moveTo(l,G);
p.lineTo(j,G);p.stroke()}}p.beginPath()}p.restore()}return{ag1:g}}();function bu(){f1.call(this,[9,7],!1,"---panels/layercomps",f1.q2.aGv);
u.i(this.jz,"min-width:240px;");this.Vr=null;this.yw=-1;this.G8=[];this.Ma=u.q("div","scrollable");this.Ma.style.height="160px";
this.jz.appendChild(this.Ma);this.Jb=u.q("div","lpfoot");this.jz.appendChild(this.Jb);this.EQ=[];var d=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],v=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var n=0;n<d.length;n++){var t=d[n];if(n>0)t="<img src=\""+PIMG[d[n]]+"\" class=\"miniscale gsicon\" />";
var h=new lt(t,!1,v[n]);h.P("click",this.aMI,this);this.Jb.appendChild(h._);this.EQ.push(h)}}bu.prototype=new f1("");
bu.prototype.K$=function(d,v){u.i(this.jz,"width:"+(d-2)+"px;");this.Ma.style.height=v-28+"px"};bu.prototype.CQ=function(d){var v=new eG(_.E.F,!0);
v.data=d;v.T=A.AQ;this.J(v)};bu.aei="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
bu.prototype.aMI=function(d){var n=this.EQ.indexOf(d.currentTarget)-1;if(n==-1){var v=new eG(_.E.c,!0);
v.data={R:_.Y.z7,uq:bu.aei};this.J(v);return}if(n!=1)if(this.yw==-1)return;this.CQ({R:["updLC","addLC","delLC"][n],ja:this.yw});
if(n==2)this.yw=-1};bu.prototype.H=function(){f1.prototype.H.call(this);for(var n=0;n<this.EQ.length;
n++)this.EQ[n].H()};bu.prototype.dn=function(d){if(d==null)u.M3(this.jz,"disabled");else u.Ag(this.jz,"disabled");
this.Vr=d;u.Pl(this.Ma);if(d==null)return;var v=d.cc.lastAppliedComp?d.cc.lastAppliedComp.v:0,t=d.cc.list.v.slice(0);
t.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var n=0;n<t.length;
n++){var h=t[n].v,X=new dB(h.Nm.v,h.compID.v,h.capturedInfo.v,v,this.yw);X.P("activate",this.kS,this);
X.parent=this;this.Ma.appendChild(X._);this.G8.push(X)}};bu.prototype.kS=function(d){this.yw=d.currentTarget.ja;
this.dn(this.Vr)};function dB(d,n,v,t,h){hm.call(this);this.ja=n;this._=u.q("div","head listitem"+(n==h?" selected":""));
var X=n==t,g=new lt(X?"\u2713":"\u2014");if(X)g.sW();this._.appendChild(g._);g.P("click",this.Fs,this);
var x=this.ea=u.q("span");x.textContent=d;this._.appendChild(x);this.EQ=[];if(n!=0){this._.addEventListener("mouseup",this.kS.bind(this),!1);
this.gz=u.q("span","headR");this._.appendChild(this.gz);var Z=["lrs/eye","pos","lrs/fx"],Y=["Visibility","Position","Appearance"];
for(var a=0;a<Z.length;a++){var z=new lt("<img src=\""+PIMG[Z[a]]+"\" class=\"autoscale gsicon\" />",!1,Y[a]);
if((v>>a&1)==0)u.i(z._,"opacity:0.3");z.P("click",this.aix,this);this.gz.appendChild(z._);this.EQ.push(z)}}}dB.prototype=new hm;
dB.prototype.kS=function(d){if(d.target!=this.ea&&d.target!=this._)return;if(d.detail==1)this.J(new eG("activate",!1));
else{var v=new f1.BI(this.ea,this.XU.bind(this))}};dB.prototype.aix=function(d){var n=this.EQ.indexOf(d.currentTarget);
this.CQ({R:"editLC",ag6:n,ja:this.ja})};dB.prototype.XU=function(d){this.CQ({R:"editLC",co:d,ja:this.ja})};
dB.prototype.Fs=function(d){this.CQ({R:"setLC",ja:this.ja})};dB.prototype.CQ=function(d){var v=new eG(_.E.F,!0);
v.data=d;v.T=A.AQ;this.J(v)};function hA(){f1.call(this,[9,11],!1,"---panels/navigator",f1.q2.arJ);var d=this.jz;
u.M3(d,"padded");u.i(d,"cursor:grab;");this.$D=u.q("canvas");d.appendChild(this.$D);u.WJ(d);u.G4(this.$D);
u.We(this.$D,this.ZY.bind(this));var v=u.q("div","form label6");d.appendChild(v);this.LX=new bP([8,0],2,6400,"%",null,!0);
this.LX.P(_.E.w,this.ali,this);v.appendChild(this.LX._);this.cr=new bP([12,15],-180,180,"\xB0");this.cr.P(_.E.w,this.ali,this);
v.appendChild(this.cr._);this.atL=this.BF.bind(this);this.a2w=this.r8.bind(this);this.h8=null;this.ajI=null;
this.GN=!1}hA.prototype=new f1("");hA.prototype.K$=function(d,v){this.F0=d*1.2;this.uV=v*1.2;this.iq()};
hA.prototype.ali=function(d){var v=this.LX.j(),t=this.h8,h=v/100;if(.8<h&&h<1.2)h=1;else if(1.8<h)h=Math.round(h);
t.z.r$=this.cr.j()*Math.PI/180;var X=new eG(_.E.F,!0);X.T=A.CK;X.data={R:"zoom",OI:h};this.J(X)};hA.prototype.ZY=function(d){var v=this.h8;
if(v==null)return;this.GN=!0;u.Fg(window,this.atL);u.KP(window,this.a2w)};hA.prototype.BF=function(d){var v=u.cN(d,this.$D),t=this.h8,h=t.z,X=this.$D.width,g=this.$D.height,x=t.r*(v.x*u.LY()-X/2)/X,Z=t.$*(v.y*u.LY()-g/2)/g,Y=Math.sin(h.r$),a=Math.cos(h.r$),z=Math.round(-h.OI*(a*x-Y*Z)),p=Math.round(-h.OI*(Y*x+a*Z));
A.Tt.o5(t,z,p)};hA.prototype.r8=function(d){u.Ej(window,this.atL);u.mc(window,this.a2w);this.GN=!1};
hA.prototype.dn=function(d){if(d==null&&this.h8!=null)this.$D.width=100;this.h8=d;this.iq()};hA.prototype.a1c=function(){var d=this.h8,v=u.LY(),t=A.VR.d7(d.r,d.$,v*(this.F0-10),v*(this.uV-36)),h=f.ayO(d.jP(),new iW(0,0,d.r,d.$),t);
this.ajI=[h.sN,h.S]};hA.prototype.iq=function(){var d=this.h8;if(d==null||d.z.OI==0)return;var v=d.z;
if(!u.al(this.jz)||this.F0==0)return;this.LX.a(v.OI*100);var t=v.r$*180/Math.PI;t=(36e5+180+t)%360-180;
this.cr.a(t);if(!this.GN)this.a1c();var h=this.ajI[0],X=this.ajI[1],g=X.r,x=X.$,Z=this.$D;Z.width=g;
Z.height=x;u.WI(Z,g,x);var Y=this.jz;Y.style.width=this.$D.style.width+12+"px";var a=Z.getContext("2d"),z=new ImageData(g,x);
f.Hy(h,z.data);a.putImageData(z,0,0);a.getImageData(0,0,1,1);var p=g/d.r;a.scale(p,p);a.lineWidth=4/p;
a.strokeStyle="#ff0000";var U=v.Yx,l=f.Q.Ya(U).I;f.Q.M(l,v.jG(),l);a.moveTo(l[0],l[1]);for(var n=0;n<4;
n++)a.lineTo(l[n*2],l[n*2+1]);a.closePath();a.stroke()};hA.prototype.sq=function(d,v){};hA.prototype.H=function(){f1.prototype.H.call(this);
this.LX.H();this.cr.H()};hA.prototype.dh=function(){this.iq()};function iw(d,v){f1.call(this,d.name,!1,d.icon,v);
this.AE=d}iw.prototype=new f1("");iw.prototype.UC=function(){var d=this.jz,v=this.AE;if(!u.al(d)||this.EI)return;
var t=this.EI=u.q("iframe");t.setAttribute("src",v.url);this.jz.appendChild(t)};iw.prototype.dh=iw.prototype.dn=function(){this.UC()};
iw.prototype.u_=function(d){if(u.al(this.EI))this.EI.contentWindow.postMessage(d,"*")};iw.prototype.K$=function(d,v,t){if(this.EI==null)return;
var h=this.AE;if(h.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)d=Math.max(d,Math.min(700,window.innerWidth-320));
if(t){h.w=d;h.h=v}if(h.w)d=Math.min(h.w,window.innerWidth-40);if(h.h)v=Math.min(h.h,window.innerHeight-50);
u.i(this.EI,"width:"+d+"px; height:"+v+"px")};function hQ(){f1.call(this,[9,12],!1,"---panels/tpreset",f1.q2.nx);
this.n=null;this.Xz=new gM(A.nj);this.Xz.parent=this;var d=u.q("div","padded");u.i(d,"width:20em");this.jz.appendChild(d);
d.appendChild(this.Xz.Bz)}hQ.prototype=new f1("");hQ.prototype.dh=function(){this.Xz.eN(this.n.aN)};
hQ.prototype.sq=function(d,v){this.n=d;if(v==lx.Np||v==lx.nx)this.Xz.eN(d.aN)};hQ.prototype.K$=function(d,v){this.Xz.asL(this.n.tN)};
hQ.prototype.H=function(){f1.prototype.H.call(this);this.Xz.H()};var aT=function(){var d=[],v=null,t=null,h=null,X=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function g(){f1.call(this,"Memory",!1,null,f1.q2.ajx);var L=u.q("div","padded");this.jz.appendChild(L);
t=new lt(["<< VAR0",[0,13,2]],!1,null,!0);t.addEventListener("click",function(j){d.pop();Z()});L.appendChild(t._);
v=u.q("div","scrollable");u.i(v,"width:20em;  height:26em; margin-top:8px;");L.appendChild(v)}g.prototype=new f1("");
g.prototype.dn=function(L,j,O){h=j;this.dh()};g.prototype.dh=function(){t.$e(!1);if(!u.al(v))return;
var L={cF:"Total:",x0:[]},j=h.n0;for(var n=0;n<j.length;n++)L.x0.push(a(j[n]));if(gd!=null){var O=gd.Vt,F=[],i={cF:"Blending Buffers",x0:F};
L.x0.push(i);for(var $ in O){var H=$.split("x"),b=parseInt(H[0]),r=parseInt(H[1]),W=O[$],V=0;for(var n=0;
n<W.length;n++)V+=b*r*4*(W[n][3]>>>3);F.push({cF:W.length+"\xD7 "+b+" \xD7 "+r+" px",i1:fq.Dz?[0,V]:[V,0]})}p(i)}var y=co;
if(y.aQ)L.x0.push({cF:"View Buffers",i1:[y.aQ.length+y.jT.length,0]});p(L);d=[L];Z()};g.prototype.H=function(){f1.prototype.H.call(this);
t.H()};function x(L){var j=L.currentTarget,n=0;while((j=j.previousSibling)!=null)n++;d.push(d[d.length-1].x0[n-1]);
Z()}function Z(){t.$e(d.length>1);var L=d[d.length-1];u.Pl(v);Y(L,v,0);L.x0.sort(function(j,O){return O.i1[0]-j.i1[0]});
for(var n=0;n<L.x0.length;n++)Y(L.x0[n],v,1)}function Y(L,j,O){var F=hi.Hb,i=O!=0&&L.x0,$="margin-left:"+O*10+"px; margin-bottom:8px; padding:3px 5px;";
if(i)$+="cursor:pointer;";if(L.tJ!=null)$+="background-color:rgba("+X[L.tJ].join(",")+",0.2);";var H=u.q("div");
j.appendChild(H);u.i(H,$);H.innerHTML=u.NW(L.cF)+"<br />"+"RAM: <b>"+F(L.i1[0])+"</b>\u2001GPU: <b>"+F(L.i1[1])+"</b>";
if(i)H.addEventListener("click",x,!1)}function a(L){var j={cF:L.name,x0:[],tJ:0},O=fq.Dz?1:0,F=1-O,i=L.depth>>>3,$={cF:"History",x0:[],tJ:5};
j.x0.push($);for(var n=1;n<L.history.length;n++){var H=L.history[n];$.x0.push({cF:f7.get(H.name),tJ:5,i1:[H.QH(),0]})}p($);
var $={cF:"Final Image"+U(L,4,i),i1:[L.r*L.$*4*i,O*L.r*L.$*4*i],tJ:2};j.x0.push($);for(var n=0;n<L.U.length;
n++){var b=z(L.U[n],i);if(b.x0.length!=0)j.x0.push(b)}var r=L.add.lnk2;if(r)for(var n=0;n<r.length;n++){var b=r[n],W={cF:b.Ps,x0:[],tJ:4},V=0;
W.x0.push({cF:"Raw file",i1:[b.raw.length,0]});if(b.Rc)for(var y=0;y<b.Rc.length;y+=2)V+=b.Rc[y].length;
if(V!=0)W.x0.push({cF:"Decoded pixels",i1:[V*i,0]});p(W);j.x0.push(W)}p(j);return j}function z(L,j){var O={cF:L.getName(),x0:[],tJ:1},F=fq.Dz?1:0,i=1-F,$=L.S.k();
if($!=0)O.x0.push({cF:"Layer pixels"+U(L.S,4,j),i1:[$*4*j,F*$*4*j]});if(L.add.lmfx&&L.nG.Fw.e){var H=L.nG.Fw.e;
for(var b in H){var r=0;for(var W=0;W<H[b].length;W++){var V=H[b][W];if(b=="ebbl"){r+=l(V.C7);r+=l(V._6);
r+=l(V.Vf);r+=l(V.JF)}else{r+=l(V);if(V.k$||V.Ja)r+=V.QN.k();if(V.wi||V.XB)r+=V.QN.k()}}if(r!=0)O.x0.push({cF:f7.get(kV.names[kV.order.indexOf(b)]),i1:[i*r*j,F*r*j],tJ:3})}var y=L.nG.ql?L.nG.ql.length:0;
if(y!=0)O.x0.push({cF:"Transparency backup",i1:[y*j,0]})}var c=L._B(),S=c?c.S.k():0;if(S!=0){O.x0.push({cF:"Raster Mask",i1:[S*j,0]})}var c=L.add.vmsk,S=c&&c._k?c._k.S.k():0;
if(S!=0){O.x0.push({cF:"Vector Mask",i1:[S*j,0]})}p(O);return O}function p(L){L.i1=[0,0];for(var n=0;
n<L.x0.length;n++){L.i1[0]+=L.x0[n].i1[0];L.i1[1]+=L.x0[n].i1[1]}}function U(L,j,O){return"\u2001"+L.r+"\xD7"+L.$}function l(L){if(L==null)return 0;
var j=L.sN;if(j==null)j=L.Eo;return L.QN.k()*(j instanceof Array?1:4)}return g}();function h0(){f1.call(this,[9,14],!1,"---panels/notes",f1.q2.anU);
u.i(this.jz,"min-width:240px;");var d=u.q("div","padded");this.jz.appendChild(d);this.AW=new eR("Author");
d.appendChild(this.AW._);this.Py=u.q("textarea");u.BR(this.Py);d.appendChild(this.Py);var v=new lt("<<",null,null,!0);
d.appendChild(v._);this.aGB=v;var t=new lt(">>",null,null,!0);d.appendChild(t._);v.P("click",this.KB,this);
t.P("click",this.KB,this);var h=this.a4S=new i9("");d.appendChild(h._)}h0.prototype=new f1("");h0.prototype.KB=function(d){var v=d.target==this.aGB?-1:1,t=this.h8,h=t.add.Anno;
if(h==null)return;var X=h.length,g=t.z.qc;t.z.qc=(g+v+X)%X;t.zs=!0;this.iq()};h0.prototype.iq=function(){var d=this.h8;
if(d==null)return;var v=d.add.Anno;if(v==null||v.length==0)return;var t=d.z.qc,h=v[t];this.Py.value=h[4];
this.a4S.a(t+1+" / "+v.length);this.AW.a(h[3])};h0.prototype.K$=function(d,v){if(this.F0==d)return;this.F0=d;
v=Math.min(v,200);u.i(this.Py,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(d-10)+"px; height:"+(v-66)+"px")};
h0.prototype.dn=function(d,v,t){this.h8=d;this.iq()};function cm(){f1.call(this,[1,16,1],!1,"---tools/artb",f1.q2.akw);
this.qh=[];this.sl=[];this.EQ=[];this.sU=null;this.Jb=null}cm.prototype=new f1("");cm.prototype.UC=function(){this.sU=u.q("div","padded scrollable");
u.i(this.sU,"width:260px;  height:260px");this.jz.appendChild(this.sU);this.Jb=u.q("div","lpfoot");this.jz.appendChild(this.Jb);
var d=["lrs/newlayer","lrs/bin"],v=[[15,8,2],[5,4]];for(var n=0;n<d.length;n++){var t="<img src=\""+PIMG[d[n]]+"\" class=\"miniscale gsicon\" />",h=new lt(t,!1,v[n]);
h.P("click",this.HF,this);this.Jb.appendChild(h._);this.EQ.push(h)}};cm.prototype.H=function(){f1.prototype.H.call(this);
if(this.sU==null)return;for(var n=0;n<this.EQ.length;n++)this.EQ[n].H()};cm.prototype.HF=function(d){var n=this.EQ.indexOf(d.currentTarget),v=new eG(_.E.F,!0);
v.T=A.Ob;v.data={R:n==0?"new":"del"};this.J(v);if(n==0)this.aNF(this.qh.length-1)};cm.prototype.dn=cm.prototype.dh=function(d){if(d)this.qh=d.add.arts;
if(!u.al(this.jz))return;if(this.sU==null)this.UC();this.iq(d)};cm.prototype.Tm=function(d){var n=this.sl.indexOf(d.currentTarget);
if(d.target.tagName=="BUTTON"){this.aNF(n)}var v=this.qh;for(var t=0;t<v.length;t++)v[t].l=!1;v[n].l=!0;
this.iq()};cm.prototype.aNF=function(n){var d=new eG(_.E.c,!0);d.data={R:_.Y.S8,cG:"aoptions",K:this.qh[n]};
this.J(d)};cm.prototype.iq=function(){u.Pl(this.sU);var d=this.qh,v=this.Tm.bind(this);this.sl=[];for(var n=0;
n<d.length;n++){var t=d[n],h=u.q("div","layeritem"+(t.l?" selected":""));this.sU.appendChild(h);this.sl.push(h);
h.addEventListener("click",v);var X=u.q("div","head");h.appendChild(X);u.i(X,"height:24px");var g=u.q("div","headL");
X.appendChild(g);var x=u.q("div","headR");X.appendChild(x);var Z=u.q("div","label");Z.textContent=n+1+". "+t.cF;
g.appendChild(Z);var Y=new lt("Options",null,null,!0);x.appendChild(Y._)}};function kj(){f1.call(this,["Vector","Document"][j8]+" Info",!1,"---panels/info",f1.q2.adk);
this.nl=u.q("div","scrollable padded form");this.jz.appendChild(this.nl);u.i(this.nl,"width:260px;  height:200px")}kj.prototype=new f1("");
kj.prototype.UC=function(){if(!u.al(this.jz))return;var d=this.h8,v=this.YG,t=this.nl,X=0,g=0,x=0,Z=0;
if(d==null)return;var h=d.A6();for(var n=0;n<h.length;n++){var Y=d.U[h[n]],a=Y.add.vmsk;if(a==null)continue;
var z=a.D;for(var p=0;p<z.length;p++){var U=z[p],l=U.e;if(6<=l)continue;if(l==0)g++;else if(l==3)X++;
else x++;if(l==0||l==3){var L=z.slice(0,2).concat(z.slice(p,p+1+U.length)),j=f.Q.lR(L),F=0;j=f.Q.jo(j);
var O=f.Q.NR(j),i=O.length-(l==0?0:2);for(var $=0;$<i;$+=2){var H=($+2)%O.length,b=O[H]-O[$],r=O[H+1]-O[$+1];
F+=Math.sqrt(b*b+r*r)}Z+=F}}}var W=v.rp.iV;t.innerHTML="Objects:<br/>Paths: "+(X+g)+" ("+X+" open, "+g+" closed, "+x+" points, length = "+f.rd.MA(Z,d.u3,d.r,W).toFixed(3)+" "+f.rd.XS[W]+")"};
kj.prototype.dn=function(d,v,t){this.h8=d;this.YG=t;this.UC()};kj.prototype.dh=function(){this.UC()};
kj.prototype.H=function(){f1.prototype.H.call(this)};function iA(){f1.call(this,"Pathfinder",!1,"---set/intersection",f1.q2.IC);
var d=this.sU=u.q("div","padded");u.i(this.sU,"width:260px;  height:130px");this.jz.appendChild(this.sU);
var v=this.EQ=[],t=new i9("Shape Modes:");d.appendChild(t._);u.WJ(d);var h=[[18,1],[18,2],[18,3],[18,4]],X=a0.VG(["set/union","set/difference","set/intersection","set/xor"]);
h=h.concat([[15,10,22],[11,12],[18,5],[11,12,1],"Outline","Minus Back"]);for(var n=0;n<h.length;n++){var g=new lt(n<4?X[n]:h[n],null,h[n]);
v.push(g);g.P("click",this.hk,this);d.appendChild(g._);if(n==3){u.WJ(d);d.appendChild(new i9("Pathfinders:")._);
u.WJ(d)}}}iA.prototype=new f1("");iA.prototype.hk=function(d){var n=this.EQ.indexOf(d.target),v=new eG(_.E.F,!0);
v.T=A.EM;v.data={R:jn.IC,wR:n};this.J(v)};iA.prototype.H=function(){f1.prototype.H.call(this);var d=this.EQ;
for(var n=0;n<d.length;n++)d[n].H()};function aR(){hm.call(this);this.T=0;this.kY=null;this._=u.q("div","toolconf");
this.Xz=null;this.ar6=null;this.body=new u.q("div","body")}aR.prototype=new hm;aR.prototype.afN=function(d,v){this.T=d;
this.kY=v;if(A.kV[d]){var t=this.Xz=new gM(d);this._.appendChild(t._);t.parent=this}else{this.ar6=u.q("div");
this._.appendChild(this.ar6)}this._.appendChild(this.body);this.H()};aR.prototype.lz=function(d,v){};
aR.prototype.c4=function(d){};aR.prototype.sq=function(d,v){if(v==lx.Np||v==lx.nx)if(this.Xz)this.Xz.eN(d.aN)};
aR.prototype.pF=function(d){};aR.prototype.H=function(){if(this.Xz)this.Xz.H();else this.ar6.innerHTML=u.U$(this.kY,null,"toolicon");
this.ON()};aR.prototype.ON=function(){};function k0(){aR.call(this);this.Ie=new hk;this.Ie.P(_.E.w,this.RF,this);
this.Ie.parent=this;this.body.appendChild(this.Ie._)}k0.prototype=new aR;k0.prototype.ON=function(){this.Ie.H()};
k0.prototype.RF=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.Pn,T:this.T,Ic:this.Ie.aFS()};this.J(v)};
k0.prototype.pF=function(d){this.Ie.anv(d.IW)};function bS(d){aR.call(this);if(d==null)return;this.n=null;
this.nM={};if(d.indexOf("brush")!=-1&&d.indexOf("prsr")==-1)d.push("prsr");for(var n=0;n<d.length;n++){var v=d[n],t=null;
if(v=="brush"){t=new eb}if(v=="bmode"){t=new e8([12,19,0],gL.GY,gL.F_)}if(v=="bmode0"){t=new e8([12,19,0],gL.GY.slice(23))}if(v=="emode"){t=new e8([12,36],[[9,3],[10,38]])}if(v=="opacity"){t=new eh([12,0],0,100,"%");
t.a(100)}if(v=="flow"){t=new eh([12,63],0,100,"%");t.a(100)}if(v=="smth"){t=new eh([19,3,0],0,100,"%");
t.a(0)}if(v=="samp"){t=new e8([12,36],[[12,25,4],[12,25,5],[12,46]])}if(v=="wconf"){t=new hf;t.a([40,!0,!0])}if(v=="sall"){t=new l8([12,25,2])}if(v=="smode"){t=new e8([12,36],[[19,7,0],[19,7,1]]);
t.a(1)}if(v=="pdetail"){t=new l8([12,65]);t.sW()}if(v=="rng"){t=new e8([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
t.a(1)}if(v=="expo"){t=new eh([12,5],0,100,"%");t.a(50)}if(v=="algnd"){t=new l8([12,75]);t.a(!1)}if(v=="sfrom"){t=new e8([12,70],[[17,1],[17,3],[17,0]])}if(v=="alt"){t=new eM(null,["Alt"],!0,["Select Source"])}if(v=="qsmode"){t=new a0([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(v=="redge"){t=new lt([7,11],!1,null,!0)}if(v=="sesu"){t=new lt("Select Subject",!1,null,!0)}if(v=="setop"){t=new h5}if(v=="patch"){t=new a0(null,[[12,70],[12,71]])}if(v=="strn"){t=new eh([12,64],1,100,"%");
t.a(50)}if(v=="prsr"){t=this.nM.brush.SB}if(v=="symm"){t=new e2}this.body.appendChild(t._);if(v=="prsr")continue;
t.parent=this;this.nM[v]=t;if(v=="brush")t.P(_.E.w,this.a2f,this);else if(v=="redge"||v=="sesu")t.P("click",iS.aiX,this);
else t.P(_.E.w,this.aa,this)}}bS.prototype=new aR;bS.prototype.lz=function(d,v){d=d[1];var t=this.nM;
if(d.Md)t.bmode.a(gL.RG.indexOf(d.Md.v.BlnM));if(d.Opct)t.opacity.a(d.Opct.v);if(d.flow)t.flow.a(d.flow.v);
if(d.Brsh)t.brush.a(d,v.LG.Qt,v.LG.ku);if(d.FrgC){var h=f.iF.pq(d.FrgC.v),X=new eG(_.E.c,!0);X.data={R:_.Y.Kf,Ic:lx.bX,G$:0,K:h.C<<16|h.L<<8|h.X};
this.J(X)}this.a2f();this.aa()};bS.prototype.c4=function(){if(A.kV[this.T]==null)return null;var d=this.nM,v;
for(var t in A.qU)if(A.qU[t]==this.T)v=t;var h=f.v(d.brush.j());h.classID=v;if(d.bmode)h.Md={t:"enum",v:{BlnM:gL.RG[d.bmode.j()]}};
if(d.opacity)h.Opct={t:"long",v:d.opacity.j()};if(d.flow)h.flow={t:"long",v:d.flow.j()};var X=this.n.Sw;
X={C:X>>>16,L:X>>>8&255,X:X&255};h.FrgC={t:"Objc",v:f.iF.Zi(X)};return["Brush Preset "+h.Brsh.v.Dmtr.v.val,h]};
bS.prototype.ON=function(){for(var d in this.nM)this.nM[d].H()};bS.prototype.pF=function(d){if(d.aOD=="showBrushOpts"){this.nM.brush.a16(d.l_.x,d.l_.y)}for(var v in d.ot){var t=d.ot[v];
if(v!="qsmode")t*=100;if(this.nM[v])this.nM[v].a(t)}};bS.prototype.sq=function(d,v){aR.prototype.sq.call(this,d,v);
this.n=d;var t=this.nM.brush;if(t==null)return;if(v==lx.Np||v==lx.nj)t.eN(d.LG);if(v==lx.FA){t.a(d.LG.fh,d.LG.Qt,d.LG.ku)}};
bS.prototype.a2f=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.Kf,Ic:lx.FA,mV:this.nM.brush.j()};this.J(d)};
bS.prototype.aa=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.Pn,T:this.T};for(var v in this.nM){if(v=="brush"||v=="redge"||v=="symm")continue;
var t=this.nM[v].j();if(["opacity","flow","smth","expo","strn"].indexOf(v)!=-1)d.data[v]=t/100;else if(v=="bmode")d.data.bmode=gL.iX[t];
else if(v=="bmode0")d.data.bmode=gL.iX[23+t];else d.data[v]=t}this.J(d)};function iS(d,v){aR.call(this);
if(d)return;this.nM={};for(var n=0;n<v.length;n++){var t=v[n],h=null;if(t=="sesu"&&!u.GU(1))continue;
if(t=="binop")h=new h5;if(t=="feat"){h=new eh([7,6],0,100,"px");h.a(0)}if(t=="redge")h=new lt([7,11],!1,null,!0);
if(t=="sesu")h=new lt("Select Subject",!1,null,!0);if(t=="wconf")h=new hf;if(t=="cstr")h=new ln;if(t=="anta"){h=new l8([12,25,1]);
h.a(!0)}if(t=="sall")h=new l8([12,25,2]);if(t=="redge"||t=="sesu")h.P("click",iS.aiX,this);else h.P(_.E.w,this.aa,this);
h.parent=this;this.body.appendChild(h._);this.nM[t]=h}}iS.prototype=new aR;iS.prototype.pF=function(d){var v=this.nM.cstr;
if(d.J9!=null)this.nM.binop.a(d.J9);else if(d.zj){for(var t in d.zj)if(this.nM[t])this.nM[t].a(d.zj[t])}else if(d.xq){if(v)v.wO(d.xq)}else{var h=iS.JA;
if(h==null){var X=c7.aIH(!0);h=iS.JA=new jr(X.items,X.fj)}h.H();h.parent=this;h.update(d.lG,d.n);var g=new eG(_.E.c,!0);
g.data={R:_.Y.Vw,UZ:h,x:d._h.eT+2,y:d._h.UF+1};this.J(g)}};iS.prototype.ON=function(){for(var d in this.nM)this.nM[d].H()};
iS.aiX=function(d){var v=d.target==this.nM.sesu,t=new eG(v?_.E.F:_.E.c,!0);if(v){t.T=A.Nf;t.data={R:"bgrm",K:2}}else t.data={R:_.Y.S8,cG:"redge"};
this.J(t)};iS.prototype.aa=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.Pn,T:this.T,zj:{}};for(var v in this.nM)d.data.zj[v]=this.nM[v].j();
this.J(d)};function hg(){bS.call(this,["brush","strn"])}hg.prototype=new bS;function ap(){bS.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}ap.prototype=new bS;
function gC(){bS.call(this,["brush","bmode0","samp","wconf"])}gC.prototype=new bS;function dG(){bS.call(this,["brush"])}dG.prototype=new bS;
function bY(){bS.call(this,"brush bmode opacity smth prsr symm".split(" "))}bY.prototype=new bS;function lr(){bS.call(this,["brush","rng","expo"])}lr.prototype=new bS;
function ll(){bS.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}ll.prototype=new bS;function ew(d){aR.call(this);
if(d==null)return;this.ik=[];this.dU=new lt("\u2026",!1,null,!0);if(!d)this.body.appendChild(this.dU._);
this.dU.P("click",this.BC,this);this.Y6=new hm;this.Y6.parent=this;var v=this.Y6._=u.q("div","floatcont form"),t=[[17,0],[17,1],[11,12,0],[17,2]];
for(var n=0;n<t.length;n++){var h=new lt(t[n],!1,null,!0);this.ik.push(h);h.P("click",this.aIg,this);
if(!d||n==1)v.appendChild(h._)}this.gD=new ln(!0);this.gD.P(_.E.w,this.Zg,this);if(!d)this.body.appendChild(this.gD._);
this.iu=new lt([15,7,6],!1,null,!0);this.iu.P("click",this.aIg,this);if(!d)this.body.appendChild(this.iu._);
this.mt=new l8([15,7,10]);this.mt.P(_.E.w,this.Zg,this);if(!d)this.body.appendChild(this.mt._);this.A3=new l8([6,48,0,3]);
this.A3.P(_.E.w,this.Zg,this);if(!d)this.body.appendChild(this.A3._);this.hp=new a2;this.hp.P("click",this.Cj,this)}ew.prototype=new aR;
ew.prototype.BC=function(d){if(u.al(this.Y6._))return;var v=this.dU._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:this.Y6,x:v.left,y:v.top+v.height+4};this.J(t)};ew.prototype.ON=function(){this.hp.H();
for(var n=0;n<this.ik.length;n++)this.ik[n].H();this.gD.H();this.mt.H();this.iu.H();this.A3.H()};ew.prototype.pF=function(d){if(d.xq){this.gD.wO(d.xq);
return}var v=this.hp._;if(d.w5)this.body.appendChild(v);else if(this.body.contains(v))this.body.removeChild(v);
if(d.gD)this.gD.a(d.gD)};ew.prototype.Cj=function(d){var v={R:_.Y.Pn,T:this.T,Cs:this.hp.j()?"commit":"cancel"},t=new eG(_.E.c,!0);
t.data=v;this.J(t)};ew.prototype.aIg=function(d){d.target._.blur();var v={R:_.Y.Pn,T:this.T,Cs:"cropby",ae$:this.ik.indexOf(d.target)};
if(d.target==this.iu)v.Cs="straighten";var t=new eG(_.E.c,!0);t.data={R:_.Y.l6,UZ:this.Y6};this.J(t);
t.data=v;this.J(t)};ew.prototype.Zg=function(d){var v={R:_.Y.Pn,T:this.T,Cs:"config",zj:{bO:this.gD.j(),za:this.mt.j(),H3:this.A3.j()},ai6:d.target==this.gD},t=new eG(_.E.c,!0);
t.data=v;this.J(t)};function lv(){ew.call(this,!1)}lv.prototype=new ew;function eX(){ew.call(this,!0)}eX.prototype=new ew;
function fa(){bS.call(this,["brush","rng","expo"])}fa.prototype=new bS;function b2(){bS.call(this,"brush emode opacity flow smth prsr symm".split(" "))}b2.prototype=new bS;
function fE(){bS.call(this,["brush","samp","wconf"])}fE.prototype=new bS;function fx(){iS.call(this,!1,["binop","feat","anta","redge","cstr"])}fx.prototype=new iS(!0);
function lz(){aR.call(this);var d=this.nM=[new e8([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new e8([12,70],[[17,1],[17,3],[17,0]]),new l8([12,20,1]),new l8([8,0])];
d[1].a(2);d[2].a(!0);for(var n=0;n<d.length;n++){var v=d[n];v.P(_.E.w,this.aa,this);this.body.appendChild(v._)}}lz.prototype=new aR;
lz.prototype.aa=function(d){var v=this.nM,t=[];for(var n=0;n<v.length;n++)t[n]=v[n].j();var h=new eG(_.E.c,!0);
h.data={R:_.Y.Pn,T:this.T,zj:t};this.J(h)};lz.prototype.ON=function(){for(var n=0;n<this.nM.length;n++)this.nM[n].H()};
function g_(){aR.call(this);this.BX=!1;this.IN=new bL("GrFl",!0);this.IN.parent=this;this.IN.update(null,JSON.parse(kV.v0[6]));
this.IN.P(_.E.w,this.nh,this);var d="Grad Type Md Opct Rvrs Dthr".split(" ");for(var n=0;n<d.length;
n++)this.body.appendChild(this.IN.vE[d[n]]._);this.IN.vE.Grad.aqi=!1;this.Qa=new lt([6,48,1],!1,null,!0);
this.Qa.P("click",this.nh,this);this.body.appendChild(this.Qa._)}g_.prototype=new aR;g_.prototype.ON=function(d){var d=this.BX;
this.body.children[2].style.display=d?"none":"";this.body.children[3].style.display=d?"none":"";this.IN.H();
this.Qa.H()};g_.prototype.sq=function(d,v){aR.prototype.sq.call(this,d,v);var t=v==lx.bX,h=this.IN.vE.Grad;
h.D$(d.Sw,d.dL);if(t||v==lx.t0||v==lx.Np)h.eN(d.tZ)};g_.prototype.nh=function(d){if(d.target==this.Qa){var v=new eG(_.E.U0,!0);
v.data=A.N4.Ak(1);this.J(v);return}this.H();var v=new eG(_.E.c,!0);v.data={R:_.Y.Pn,T:this.T,Ic:this.IN.j()};
this.J(v)};g_.prototype.pF=function(d){this.BX=d.t;this.H();this.IN.update(null,d.Ic);this.H()};function cp(){aR.call(this);
this.P5=new l8([8,7,1]);this.body.appendChild(this.P5._);this.P5.P(_.E.w,this.aa,this)}cp.prototype=new aR;
cp.prototype.aa=function(){var d={R:_.Y.Pn,T:this.T,pa:this.P5.j()},v=new eG(_.E.c,!0);v.data=d;this.J(v)};
function eD(){aR.call(this);var d=u.q("span","fitem");this.body.appendChild(d);this._W=[new eh([12,15],-180,180,"\xB0"),new lt([1,12,2],null,null,!0)];
for(var n=0;n<this._W.length;n++){var v=this._W[n];v.parent=this;d.appendChild(v._);v.P(n==1?"click":_.E.w,this.d1,this)}}eD.prototype=new aR;
eD.prototype.ON=function(){for(var n=0;n<this._W.length;n++)this._W[n].H()};eD.prototype.pF=function(d){var v=d.WD*180/Math.PI;
v=(36e5+180+v)%360-180;this._W[0].a(v)};eD.prototype.d1=function(d){var v=this._W.indexOf(d.target),t=new eG(_.E.c,!0);
t.data={R:_.Y.Pn,T:this.T,WD:v==1?0:d.target.j()*Math.PI/180};this.J(t)};function iK(){bS.call(this,["brush","algnd","sfrom","alt"])}iK.prototype=new bS;
function g1(){aR.call(this);this.n=null;this.yD=new cs;this.yD.parent=this;this.body.appendChild(this.yD.W2._);
this.body.appendChild(this.yD.yW._);this.body.appendChild(this.yD.kA._);this.body.appendChild(this.yD.GG._);
var d=u.q("span","fitem");this.body.appendChild(d);d.appendChild(this.yD.aeC._);d.appendChild(this.yD.aHN._);
d.appendChild(this.yD.aL7._);this.j2=new e8("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.j2.P(_.E.w,this.Cj,this);this.body.appendChild(this.j2._);this.m0=new e8(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.m0.P(_.E.w,this.Cj,this);this.body.appendChild(this.m0._);this.oI=new lt([11,9],!1,null,!0);this.oI.P("click",this.aIM,this);
this.body.appendChild(this.oI._);this.hp=new a2;this.hp.P("click",this.Cj,this)}g1.prototype=new aR;
g1.prototype.lz=function(d,v){d=d[1];var t=d.textToolCharacterOptions.v.TxtS.v,h=d.textToolParagraphOptions.v.paragraphStyle.v,X=f.v(v.Jh);
jM.OL(t,X.Uy,X,72);jM.OL(h,X.eE,X,72);var g=new eG(_.E.c,!0);g.data={R:_.Y.Kf,Ic:lx.jO,Jh:X};this.J(g)};
g1.prototype.c4=function(){var d={classID:"TxtS"},v={classID:"paragraphStyle"},t=this.n.Jh;jM.sb(t.Uy,d,t,72);
jM.sb(t.eE,v,t,72);return["Horizontal Type Tool",{classID:"typeCreateOrEditTool",textToolCharacterOptions:{t:"Objc",v:{classID:"null",TxtS:{t:"Objc",v:d}}},textToolParagraphOptions:{t:"Objc",v:{classID:"null",paragraphStyle:{t:"Objc",v:v}}}}]};
g1.prototype.ON=function(){this.hp.H();this.yD.H();this.oI.H()};g1.prototype.aIM=function(d){var v={R:_.Y.Pn,T:this.T,Cs:"showwarp"},t=new eG(_.E.c,!0);
t.data=v;this.J(t)};g1.prototype.pF=function(d){if(d.Cs=="showactive")this.body.appendChild(this.hp._);
if(d.Cs=="hideactive")this.body.removeChild(this.hp._);if(d.Cs=="changeOther"){this.j2.a(d.$s);this.m0.a([0,2,1][d.ah5])}if(d.Cs=="showpan"){var v=[{name:[0,1],G0:!0}],t=[{g:_.E.F,T:A.uW,d:{R:"editCurr",r5:d.r5}}],h=d._h;
if(d.aOo){v=[{name:["VAR0: VAR1",[0,5],[7,0]],G0:!0}];t=[{g:_.E.U0,d:A.Oe.qJ(!0)}];var X=c7.az$();v=v.concat(X[0]);
t=t.concat(X[1])}v.push({name:[11,9]});t.push({g:_.E.c,d:{R:_.Y.Pn,T:this.T,Cs:"showwarp"}});var g=new jr(v,t);
g.parent=this;g.H();g.update(d.lG,d.n);var x=new eG(_.E.c,!0);x.data={R:_.Y.Vw,UZ:g,x:h.eT+2,y:h.UF+1};
this.J(x)}};g1.prototype.sq=function(d,v){this.n=d;aR.prototype.sq.call(this,d,v);if(v!=lx.Np&&v!=lx.jO&&v!=lx.IQ&&v!=lx.Iw)return;
this.yD.a(d.Jh,d.FP,d.KL)};g1.prototype.Cj=function(d){var v={R:_.Y.Pn,T:this.T,Cs:this.hp.j()?"commit":"cancel"};
if(d.target==this.j2||d.target==this.m0){v.Cs="changeOther";v.$s=this.j2.j();v.ah5=[0,2,1][this.m0.j()]}var t=new eG(_.E.c,!0);
t.data=v;this.J(t)};function hq(){iS.call(this,!1,["binop","feat","anta","redge"])}hq.prototype=new iS(!0);
function jk(){aR.call(this);var d=[],t="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.xK=new l8([12,85]);this.xK.a(!0);this.xK.P(_.E.w,this.aa,this);d.push(this.xK._);this.Pe=new e8(null,[[0,4],[0,3]]);
this.Pe.P(_.E.w,this.aa,this);this.Pe.a(1);d.push(this.Pe._);this.TJ=new l8([20,1]);this.TJ.P(_.E.w,this.aa,this);
d.push(this.TJ._);this.Ec=new l8([12,83]);this.Ec.P(_.E.w,this.aa,this);d.push(this.Ec._);this.Y6=new hm;
var v=this.Y6._=u.q("div","floatcont form");u.i(this.Y6._,"max-width: 200px;");this.Y6.parent=this;this.aKQ=new e8("Scale for exported files",["1x","2x","3x","4x"]);
v.appendChild(this.aKQ._);this.SO=new lt(t+" PNG",!1,"Save selected layers as PNG",!0);v.appendChild(this.SO._);
this.SO.P("click",this.Oa,this);this.aaB=new lt(t+" SVG",!1,"Save selected layers as SVG",!0);v.appendChild(this.aaB._);
this.aaB.P("click",this.Oa,this);var h=new lt(t,!1,"Save selected layers",!0);d.push(h._);h.P("click",function(U){if(u.al(this.Y6._))return;
var l=h._.getBoundingClientRect(),L=new eG(_.E.c,!0);L.data={R:_.Y.Vw,UZ:this.Y6,x:l.left,y:l.top+l.height,SK:!0};
this.J(L)},this);this.eA=new hm;var X=this.eA._=u.q("div","floatcont label6");u.i(X,"max-width: 180px;");
this.eA.parent=this;this.np=new fb("Columns",1,20);this.np.a(4);X.appendChild(this.np._);this.yd=new fb("Gap",0,200,null,2,!0);
this.yd.a(8);X.appendChild(this.yd._);this.yd.P(_.E.w,function(U){this.VW.a(this.yd.j())}.bind(this),this);
this.VW=new fb("Vertical Gap",0,200,null,2,!0);this.VW.a(8);X.appendChild(this.VW._);this.AG=new lt([2,10,1],!1,null,!0);
X.appendChild(this.AG._);this.AG.P("click",this.Oa,this);this.ay4=new hm;var g=this.ay4._=u.q("div","floatcont label6");
u.i(g,"max-width:180px");this.ay4.parent=this;this.a1C=new e8("Align to",["Selection","Canvas"]);this.a1C.a(0);
g.appendChild(this.a1C._);var x=u.q("span","fitem");d.push(x);var Z=u.q("span","fitem");d.push(Z);this.EQ=[];
for(var n=0;n<8;n++){var Y=n==3||n==7?[20,4,6]:[20,4,n<3?n:n-1],a=new lt("Hi",!1,Y);(n<4?x:Z).appendChild(a._);
a.P("click",this.Oa,this);this.EQ.push(a)}var z=this.X5=new lt("...");Z.appendChild(z._);z.P("click",function(U){if(u.al(this.eA._))return;
var l=z._.getBoundingClientRect(),L=new eG(_.E.c,!0);L.data={R:_.Y.Vw,UZ:this.ay4,x:l.left,y:l.top+l.height,SK:!0};
this.J(L)},this);var p=this.a8K=new lt("Hi",!1,"Align to a Grid");d.push(p._);p.P("click",function(U){if(u.al(this.eA._))return;
var l=p._.getBoundingClientRect(),L=new eG(_.E.c,!0);L.data={R:_.Y.Vw,UZ:this.eA,x:l.left,y:l.top+l.height,SK:!0};
this.J(L)},this);for(var n=0;n<d.length;n++)this.body.appendChild(d[n]);this.acJ=d}jk.prototype=new aR;
jk.prototype.pF=function(d){var v=d.IW,t=d.a7P;this.xK.a(v.wT);this.TJ.a(v.Xo);this.Ec.a(v.jM);if(t){u.Pl(this.body);
for(var n=0;n<t.length;n++)if(t[n]==1&&this.acJ[n])this.body.appendChild(this.acJ[n])}};jk.prototype.Oa=function(d){var v=this.EQ.indexOf(d.target),t;
if(v!=-1||d.target==this.AG){t=new eG(_.E.F,!0);t.T=A.Xc;t.data={R:"algn",K:v==-1?8:v,a3L:this.a1C.j(),cols:this.np.j(),a1o:this.yd.j(),amd:this.VW.j()}}else{t=new eG(_.E.c,!0);
t.data={R:_.Y.Pn,T:this.T,G$:d.target==this.SO?"getPNG":"getSVG",I6:this.aKQ.j()+1}}this.J(t)};jk.prototype.aa=function(d){var v=new eG(_.E.c,!0);
v.data={R:_.Y.Pn,T:this.T,G$:"prms",wT:this.xK.f2(),a9M:this.Pe.j(),Xo:this.TJ.f2(),jM:this.Ec.f2()};
this.J(v)};jk.prototype.ON=function(){this.xK.H();this.Pe.H();this.TJ.H();this.Ec.H();var d="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var n=0;n<8;n++){this.EQ[n].Ge(u.U$("align/"+d[n],null,"autoscale"))}this.a8K.Ge(u.U$("split/vh",null,"autoscale"));
this.np.H();this.yd.H();this.VW.H();this.AG.H()};function bh(){iS.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}bh.prototype=new iS(!0);
function g7(){bS.call(this,["setop","patch"])}g7.prototype=new bS;function b8(){bS.call(this,["setop"])}b8.prototype=new bS;
function le(d){var v=d==A.acy?[]:["bmode"];bS.call(this,v.concat(["opacity","wconf","sall"]))}le.prototype=new bS;
function g0(){iS.call(this,!1,["binop","feat","anta","redge"])}g0.prototype=new iS(!0);function bn(){iS.call(this,!1,["binop","feat","anta","redge"])}bn.prototype=new iS(!0);
function eZ(){iS.call(this,!1,["binop","feat","redge","cstr"])}eZ.prototype=new iS(!0);function i5(){aR.call(this);
this.n=null;this.Pv=null;this.nf=!0;this.mA=[new eR("X",null,3.2,null,!0),new eR("Y",null,3.2,null,!0),new eR("W",null,3.2,null,!0),new eR("H",null,3.2,null,!0),new eR("a","\xB0",3.7,null,!0),new eR("l",null,3.5,null,!0),new eR("l",null,3.5,null,!0),new l8("Use custom units:"),new lt("Define Unit",!1,null,!0),new lt([15,7,6],!1,null,!0),new lt([2,2],!1,null,!0)];
this.mA[7]._.style.marginRight="0px";for(var n=0;n<this.mA.length;n++){var d=this.mA[n];this.body.appendChild(d._);
if(n>6)d.P(n==7?_.E.w:"click",this.VP,this)}this.cr=0}i5.prototype=new aR;i5.prototype.VP=function(d){var v=this.mA.indexOf(d.target),t=new eG(_.E.F,!0),h=this.Pv;
if(v==7){this.pF(h);return}if(v==8){if(this.nf){alert("Draw a line for the new unit");return}this.mA[7].a(!0);
var X=new eG(_.E.c,!0);X.data={R:_.Y.S8,cG:"measscale",dK:cK.A_(h.agm,h.LH)};this.J(X);return}if(v==9){if(this.cr==0)return;
t.T=A.Oi;t.data={R:"rot",qq:[2,5],K:-this.cr}}if(v==10){t.T=A.Kx;t.data={R:"reset"};this.nf=!0;for(var n=0;
n<6;n++)this.mA[n].a(null)}this.J(t)};i5.prototype.pF=function(d){function v(a,z,p){var U=cK.A_(a,z),l=cK.A_(z,p),L=cK.A_(a,p);
return Math.acos((l*l+U*U-L*L)/(2*l*U))}if(d==null)return;this.Pv=d;var t=d.agm,h=d.LH,X=h.x-t.x,g=h.y-t.y;
this.cr=-Math.atan2(g,X);if(d.ma)this.cr=v(h,t,d.ma);var x=this.mA;x[0].a(this.WZ(d,t.x));x[1].a(this.WZ(d,t.y));
x[2].a(this.WZ(d,X));x[3].a(this.WZ(d,g));x[4].a((this.cr*180/Math.PI).toFixed(2));x[5].a(this.WZ(d,cK.A_(t,h)));
this.nf=t.fE(h);if(d.ma){x[6].a(this.WZ(d,cK.A_(t,d.ma)))}else x[6].a("");x[8].Ge("Define");var Z=d.ZR;
if(Z){var Y=Z.T.v;x[8].Ge(Y.logicalUnits.v)}};i5.prototype.WZ=function(d,v){var t=this.Pv.ZR,h;if(t&&this.mA[7].j()){var X=t.T.v;
h=v*X.logicalLength.v/X.pixelLength.v}else h=f.rd.Zm(v,d.u3,this.n,d.aaW,!1);return parseFloat(h).toFixed(2)};
i5.prototype.sq=function(d,v){this.n=d;this.pF(this.Pv)};i5.prototype.ON=function(){var d=this.mA;for(var n=0;
n<d.length;n++)d[n].H();d[4].Ge(f7.get([12,15]).slice(0,1)+":");var v=f7.get([12,80,0]).slice(0,1);d[5].Ge(v+"1:");
d[6].Ge(v+"2:");u.Tw(d[2],d[3])};function f3(){bS.call(this,["brush","strn","pdetail"])}f3.prototype=new bS;
function d$(){bS.call(this,["brush","sfrom"]);this.aIQ=[];var d=[[7,12]];for(var n=0;n<d.length;n++){var v=new lt(d[n],!1,null,!0);
this.aIQ.push(v);v.parent=this;this.body.appendChild(v._);v.P("click",this.a2q,this)}}d$.prototype=new bS;
d$.prototype.a2q=function(d){var v=new eG(_.E.U0,!0);v.data=A.mE.Ak("contentAware");this.J(v)};function ej(){bS.call(this,["brush","strn"])}ej.prototype=new bS;
function ae(){bS.call(this,["brush","flow","smode"])}ae.prototype=new bS;function jB(){aR.call(this);
this.zJ=!1;var d=u.q("span","fitem");this.body.appendChild(d);this.wz=new a0(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
d.appendChild(this.wz._);this.wz.P(_.E.w,this.aa,this);this.GO=new lt([20,2]);this.body.appendChild(this.GO._);
this.GO.P("click",this.a22,this);this.aeR=new lt([20,3]);this.body.appendChild(this.aeR._);this.aeR.P("click",this.a22,this);
this.P5=new l8([8,7,1]);this.body.appendChild(this.P5._);this.P5.P(_.E.w,this.aa,this)}jB.prototype=new aR;
jB.prototype.ON=function(){this.GO.H();this.aeR.H()};jB.prototype.aa=function(){var d={R:_.Y.Pn,T:this.T,JR:this.wz.j()==0,pa:this.P5.j()},v=new eG(_.E.c,!0);
v.data=d;this.J(v)};jB.prototype.pF=function(d){if(this.zJ!=d.zJ)this.wz.a(1-this.wz.j());this.zJ=d.zJ};
jB.prototype.a22=function(d){var v=new eG(_.E.F,!0);v.T=A.CK;v.data={R:"adapt",K:d.target==this.GO?"pixel":"fitscr"};
this.J(v)};function hj(d,v){aR.call(this);if(d==null)return;this.Ut=d;this.sx={};this.a3W=v;for(var n=0;
n<d.length;n++){var t=d[n],h=null;if(t=="vmode"||t=="pmode"){h=new e8(null,[[12,76,1],[12,76,0],[12,76,2]]);
h.a(t=="vmode"?0:1);if(v)h.acO(2)}if(t=="make"){h=new a0("Make",[[17,2],[12,76,1]],null,!0)}if(t=="anta"){h=new l8([12,25,1]);
h.a(!0)}if(t=="binop"){h=new e8(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(t=="pshape")h=new e8(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if(t=="shape")h=new fQ([12,76,1]);if(t=="crad"){h=new eh([12,94,0],0,50,"px");h.a(0)}if(t=="cstr"){h=new ln}if(t=="irad"){h=new eh([12,94,1],0,100,"%");
h.a(40)}if(t=="length"){h=new eh([12,80,0],4,40);h.a(4)}if(t=="sides"){h=new eh([12,78],3,30);h.a(5)}if(t=="width"){h=new eh([12,41],0,100,"px");
h.a(5)}if(t=="tolr"){h=new eh([12,24],0,100);h.a(5)}if(t=="fstyle"){h=new lw([12,26])}if(t=="sstyle"){h=new cJ}if(t=="psnap"){h=new l8([8,10])}if(t=="crnr"){h=new lt("\u2312",!1,[12,94,0],!0)}if(t=="aopts"){h=new dd;
h.a([!1,!1,50,60,0])}if(t=="smplp"){h=new lt([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if(t=="rows"){h=new eh("Rows",1,20);
h.a(3)}if(t=="cols"){h=new eh("Columns",1,20);h.a(4)}if(t=="brdr"){h=new eh([7,9],1,20);h.a(8)}h.parent=this;
this.body.appendChild(h._);this.sx[t]=h;h.P(t=="crnr"||t=="smplp"?"click":_.E.w,this.aa,this)}}hj.prototype=new aR;
hj.prototype.pF=function(d){var v=this.sx.cstr;if(d.J9!=null)this.sx.binop.a(d.J9);else if(d.G$=="vals")for(var t in d.ac_)this.sx[t].a(d.ac_[t]);
else if(d.xq){if(v)v.wO(d.xq)}else{var h=hj.JA,X=function(x){return{f:x!=null&&x.fi(!1)}};if(h==null)h=hj.JA=new jr([{name:"Remove Anchor Point",f:function(x){var Z=x?x.V9():null;
return{f:x&&Z[1].length!=0&&Z[0][Z[1][0]].add.vmsk.aD.length!=0}}},{name:"Remove Path",f:function(x){var Z=x?x.V9():null;
return{f:x&&Z[1].length!=0&&Z[0][Z[1][0]].add.vmsk.l.length!=0}},G0:!0},{name:"Make Selection"},{name:[2,3],f:X},{name:[14,9],f:X}],[{g:_.E.F,T:A.qN,d:{R:"remove",k_:!0}},{g:_.E.F,T:A.Z4,d:{R:"remove"}},{g:_.E.c,d:{R:_.Y.S8,cG:"makesel"}},{g:_.E.U0,d:A.fL.iz(null)},{g:_.E.c,d:{R:_.Y.S8,cG:"strokepath"}}]);
h.parent=this;h.update(d.lG,d.n);var g=new eG(_.E.c,!0);g.data={R:_.Y.Vw,UZ:h,x:d._h.eT+2,y:d._h.UF+1};
this.J(g)}};hj.prototype.aLD=function(n){return null};hj.prototype.ON=function(){for(var d in this.sx){this.sx[d].H()}};
hj.prototype.aa=function(d){var v=new eG(_.E.c,!0),t=this.sx;if(d.target==t.crnr){v=new eG(_.E.F,!0);
v.T=A.qN;v.data={R:"crnr"}}else if(d.target==t.smplp){v=new eG(_.E.F,!0);v.T=A.Z4;v.data={R:"smplp"}}else if(d.target==t.make){var n=d.target.j();
console.log(n);if(n==0)v.data={R:_.Y.S8,cG:"makesel"};else{v=new eG(_.E.F,!0);v.T=A.wS;v.data={R:"newfill",tJ:0}}}else if(d.target==t.fstyle){v.data={R:_.Y.Kf,Ic:lx.Ih,K:t.fstyle.j()}}else if(d.target==t.sstyle){v.data={R:_.Y.Kf,Ic:lx.XN,K:t.sstyle.j()}}else if(d.target==t.vmode||d.target==t.pmode){v.data={R:_.Y.Kf,Ic:d.target==t.vmode?lx.xY:lx.LO,K:d.target.j()}}else{if(t.pshape)this.jA();
v.data={R:_.Y.Pn,T:this.T};for(var h in t)v.data[h]=t[h].j()}this.J(v)};hj.prototype.jA=function(){var d=this.sx,v=(d.vmode?d.vmode:d.pmode).j(),t=d.pshape?this.aLD(d.pshape.j()):this.Ut,h;
if(v==0)h=["anta","make"];if(v==1)h=["anta","fstyle","sstyle"];if(v==2)h=["make","binop","fstyle","sstyle"];
var X=d.binop;if(X){var g=X.j();if(v==0){X.alK(0)}else{X.acO(0);if(g==0){X.a(1);this.aa({target:X})}}}u.Pl(this.body);
for(var n=0;n<t.length;n++){var x=t[n];if(h.indexOf(x)!=-1)continue;this.body.appendChild(d[x]._)}};
hj.prototype.sq=function(d,v){aR.prototype.sq.call(this,d,v);var t=this.sx.fstyle,h=this.sx.sstyle,X=this.sx.vmode,g=this.sx.pmode;
if(t)t.sq(d,v);if(h)h.sq(d,v);if(v==lx.Np||v==lx.C4)if(d.qI.length!=0&&this.sx.shape){this.sx.shape.eN(d.qI)}if(v==lx.Np||v==lx.Ih)if(t)t.a(null,d.my,d.aD3);
if(v==lx.Np||v==lx.XN)if(h)h.a(null,d.jj,d.a4T);if(v==lx.Np||v==lx.xY||v==lx.LO){var x=d.Co,Z=d.S0;if(this.a3W&&Z==2)Z=0;
if(X){X.a(x);this.jA()}if(g){g.a(Z);this.jA()}}};function iY(){hj.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}iY.prototype=new hj;
function bB(){hj.call(this,"pmode make anta fstyle sstyle binop".split(" "))}bB.prototype=new hj;function da(){hj.call(this,["fstyle","sstyle","smplp"]);
this.aqM=null;this.al2=null;this.acZ=null;this.vI=new e8([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.GN=new lt("\u25BC");this.GN.sW();this.au2=new lt("\u25B2");this.au2.sW();this.a2Q=[this.vI,this.GN,this.au2];
for(var n=0;n<this.a2Q.length;n++){var d=this.a2Q[n];this.body.appendChild(d._);d.parent=this;d.P(n==0?_.E.w:"click",this.wj,this)}}da.prototype=new hj;
da.prototype.pF=function(d){if(d.Cs=="main"){var v=this.a2Q,t=d.gi;if(t){this.al2=t.b();this.acZ=JSON.stringify(d._5);
var h=t.l.slice(0),X=h.length;for(var n=0;n<h.length;n++)h[n]++;h.sort(function(Y,a){return Y-a});v[0].Wu();
v[1].$e(X!=0);v[2].$e(X!=0);v[0].Ge(X==0?"No Paths":X==1?"Path "+h[0]:"Paths "+h.slice(0,3).join(",")+(X>3?"..":""));
if(X!=0){var g=t.l[0],x=f.t.fn(t.D,g),Z=t.D[x];this.vI.a([3,0,1,2][Z.qG])}}else for(var n=0;n<v.length;
n++)v[n].$A()}else hj.prototype.pF.call(this,d)};da.prototype.ON=function(){hj.prototype.ON.call(this);
this.vI.H()};da.prototype.wj=function(d){if(d.target==this.vI||d.target==this.GN||d.target==this.au2){var v={},t=this.al2,h=t.D,X=t.l,g=f.t.HR(h),x=JSON.parse(this.acZ);
X.sort(function(i,$){return i-$});if(d.target==this.vI){var Z=this.vI.j();if(Z<4)for(var n=0;n<X.length;
n++)h[f.t.fn(h,X[n])].qG=[1,2,3,0][Z];else{if(g<=1)return;t.D=f.t.T3(h);t.l=t.D.length==2?[]:[0];t.aD=[];
x=[f._5.sS()]}}else{var Y=d.target==this.GN?-1:1,a=[];for(var n=0;n<g;n++){var z=f.t.fn(h,n),p=z+1+h[z].length;
a.push(h.slice(z,p))}var U=X.slice(0);for(var n=0;n<X.length;n++)U[n]=Math.max(n,Math.min(g-1-(X.length-1-n),U[n]+Y));
if(X.join(",")==U.join(","))return;var l=f.v(x);for(var n=0;n<X.length;n++){var L=Y==-1?n:X.length-1-n,z=X[L],p=U[L];
if(z!=p){var j=a[z];a[z]=a[p];a[p]=j;j=l[z];l[z]=l[p];l[p]=j}}var O=h.slice(0,2);for(var n=0;n<a.length;
n++)O=O.concat(a[n]);t.D=O;t.l=U;x=l}v.gi=t;v._5=x;var F=new eG(_.E.c,!0);F.data={R:_.Y.Pn,T:this.T,HW:v};
this.J(F)}};function ib(){hj.call(this,["fstyle","sstyle","crnr","psnap"])}ib.prototype=new hj;function fg(){hj.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}fg.prototype=new hj;
function l2(){hj.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}l2.prototype=new hj;
function eY(){hj.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.sx.aopts.a([!1,!0,50,60,0])}eY.prototype=new hj;eY.prototype.aLD=function(n){var d=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(d[n])};function jX(){hj.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}jX.prototype=new hj;
function j0(){hj.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}j0.prototype=new hj;
function ez(){iS.call(this,!1,["binop","feat","redge","sesu"])}ez.prototype=new iS(!0);function a$(){bS.call(this,["brush","qsmode","redge","sesu"])}a$.prototype=new bS;
function cw(){aR.call(this);this.Is=[new ln,new lt([8,11,3],null,null,!0),new lt(["VAR0...",[15,10,22]],null,null,!0)];
for(var n=0;n<3;n++){var d=this.Is[n];d.P(n==0?_.E.w:"click",this.wj,this);this.body.appendChild(d._)}}cw.prototype=new aR;
cw.prototype.wj=function(d){var v=new eG(_.E.c,!0),t=this.Is.indexOf(d.target);if(t==0){v.data={R:_.Y.Pn,T:this.T,gD:d.target.j()}}else if(t==1){v=new eG(_.E.U0,!0);
v.data={oN:"make",mQ:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{v.data={R:_.Y.S8,cG:"divslice"}}this.J(v)};
cw.prototype.ON=function(d){for(var n=0;n<this.Is.length;n++)this.Is[n].H()};function iq(){aR.call(this);
var d=this.ng=[new lt("\u25BC",null,null,!0),new lt("\u25B2",null,null,!0),new lt([5,4],null,null,!0),new lt(["VAR0...",[15,10,22]],null,null,!0)];
for(var n=0;n<4;n++){var v=d[n];this.body.appendChild(v._);v.P("click",this.wj,this)}}iq.prototype=new aR;
iq.prototype.wj=function(d){var v=this.ng.indexOf(d.target),t;if(v==3){t=new eG(_.E.c,!0);t.data={R:_.Y.S8,cG:"divslice"}}else{t=new eG(_.E.F,!0);
t.T=A.sE;t.data={R:v==2?"delete":"reorder",dir:v==0?-1:1}}this.J(t)};iq.prototype.H=function(){aR.prototype.H.call(this);
for(var n=0;n<4;n++)this.ng[n].H()};function j$(d,v){aR.call(this);if(window.Typr==null||d)return;this.a2_=v;
this.pR=null;this.ayI=u.q("span","");this.aDv=u.q("span","");var t=1,h=this.oU={_Y:new ho(null,24),U9:new eh("X",0,0,"px",0,!1,!0,4),SC:new eh("Y",0,0,"px",0,!1,!0,4),G5:new eh("W",0,0,["%","px"],2,!1,!0,5),mb:new lt("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Q2:new eh("H",0,0,["%","px"],2,!1,!0,5),aA6:new eh("\u2221",0,0,"\xB0",t,!1,!0),ady:new eh("\u25B1 H",-85,85,"\xB0",t,!1,!0),ajc:new eh("\u25B1 V",-85,85,"\xB0",t,!1,!0),fR:new e8(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),a10:new e8("Protect",[])};
h.fR.a(1);h.mb.a(!0);for(var X in h){var g=h[X],x=!0;if(v&&(g==h.aA6||g==h.ady||g==h.ajc||g==h.fR))x=!1;
if(!v&&g==h.a10)x=!1;if(x)this.ayI.appendChild(g._);var Z=g==h.mb?"click":_.E.w;g.P(Z,this.a54,this)}this.kl=new a0("Split",a0.VG(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.kl.a(-1);this.kl.P(_.E.w,this.ajd,this);this.Md=new kQ(!0,!0,!0);this.Md.P(_.E.w,this.ajd,this);
this.Md.parent=this;var Y=this.aDv,a=this.Md;Y.appendChild(this.kl._);Y.appendChild(a.Qf._);Y.appendChild(a.Xx._);
Y.appendChild(a.TU._);Y.appendChild(a.$V._);Y.appendChild(a.M7._);this.oI=new lt([11,9]);this.oI.P("click",this.aih,this);
this.hp=new a2;this.hp.P("click",this.Cj,this)}j$.prototype=new aR;j$.prototype.pF=function(d){if(d._h){var v=j$,t=this.JA;
if(t==null)t=this.JA=new jr(v.LR(),v.xS(this.T));t.H();t.parent=this;t.update(d.lG,d.n);var h=new eG(_.E.c,!0);
h.data={R:_.Y.Vw,UZ:t,x:d._h.eT+2,y:d._h.UF+1};this.J(h);return}u.Pl(this.body);this.pR=d;var X=this.oU;
if(d.oU){var g=d.oU.BS,x=d.oU.AC.b(),Z=-Math.atan2(-x.X,x.aX),Y=new gi;Y.rotate(Z);x.concat(Y);X._Y.a(d.oU.a8a);
X.U9.a(d.oU.h4.x);X.SC.a(d.oU.h4.y);X.G5.a(x.aX*(X.G5.yA()=="%"?100:g.r));X.Q2.a(x.r7*(X.Q2.yA()=="%"?100:g.$));
X.aA6.a(Z*180/Math.PI);X.ady.a(Math.atan(x.Wp/x.r7)*180/Math.PI);X.ajc.a(0*180/Math.PI);this.body.appendChild(this.ayI);
this.oI._7();if(d.oU.h6!=null)X.mb.a(d.oU.h6)}if(d.ow){if(d.a4W)this.kl.a(-1);this.Md.a(d.ow);this.body.appendChild(this.aDv);
this.oI.sW()}if(d.gM)X.a10.Cw(d.gM);if(d.aEG&&!this.a2_)this.body.appendChild(this.oI._);this.body.appendChild(this.hp._);
X.fR._.style.display=d.aNk?"":"none"};j$.prototype.a54=function(d){var v=this.oU,t=this.pR.oU.BS,h=v._Y.j();
if(d.target==v.mb)v.mb.a(!v.mb.j());else if(v.mb.f2()){var X=v.Q2,g=v.G5,x=t.$,Z=t.r;if(d.target==v.G5){X=v.G5;
g=v.Q2;x=t.r;Z=t.$}var Y=X.j()/(X.yA()=="%"?100:x);Y*=g.yA()=="%"?100:Z;g.a(Y)}var a=[];for(var z in v)if(v[z]!=v.mb&&v[z]!=v._Y){var Y=v[z].j();
if((v[z]==v.G5||v[z]==v.Q2)&&Y==0){Y=.1;v[z].a(Y)}if(v[z]==v.G5&&v[z].yA()=="px")Y/=t.r/100;if(v[z]==v.Q2&&v[z].yA()=="px")Y/=t.$/100;
a.push(Y)}var p=new cK(a[0],a[1]);if(d.target==v._Y){this.Zn({Cs:"ctyp",a8a:h})}else if(d.target==v.U9||d.target==v.SC){this.Zn({Cs:"cen",h4:p})}else{var U=this.pR.oU.AC.b(),l=Math.atan2(-U.X,U.aX);
U.translate(-p.x,-p.y);U.rotate(-l);var L=new gi(U.aX,U.X,U.Wp,U.r7,0,0);L.zJ();U.concat(L);var j=a[2]/100,O=a[3]/100;
U.concat(new gi(j,j*Math.tan(a[6]*Math.PI/180),O*Math.tan(a[5]*Math.PI/180),O,0,0));U.rotate(-a[4]*Math.PI/180);
U.translate(p.x,p.y);this.pR.oU.AC=U;this.Zn({Cs:"trn",oU:U,ae:v.fR.j(),sm:v.a10.j(),h6:v.mb.j()})}};
j$.prototype.ajd=function(d){var v=this.kl;this.Zn(d.target==v?{Cs:"splt",K:v.j()}:{Cs:"wrp",ow:this.Md.j()})};
j$.prototype.aih=function(d){this.Zn({Cs:"switchWarp"})};j$.prototype.Cj=function(d){this.Zn({Cs:this.hp.j()?"commit":"cancel"})};
j$.prototype.Zn=function(d){d.R=_.Y.Pn;d.T=this.T;var v=new eG(_.E.c,!0);v.data=d;this.J(v)};j$.prototype.ON=function(){var d=this.oU;
for(var v in d)d[v].H();u.Tw(d.G5,d.Q2);this.hp.H();this.kl.H();this.Md.H();this.oI.H()};j$.LR=function(){var d=function(v){var t=!0;
if(v==null||v.l.length==0)t=!1;else{var h=v.l;for(var n=0;n<h.length;n++){if(v.U[h[n]].add.TySh)t=!1}}return{f:t}};
return[{name:[5,9],aM:"Shift+Alt+Ctrl + T",G0:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],f:d},{name:[2,9],f:d,G0:!0},{name:[11,9],f:function(v){if(v==null||v.l.length!=1)return{f:!1};
var t=v.U[v.l[0]];return{f:t.add.TySh==null&&!t.h5()}},G0:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
j$.xS=function(d){if(d==null)d=A.Oi;return[{g:_.E.F,T:d,d:{R:"again"}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:3}}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:4}}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:5}}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:2}}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:1}}},{g:_.E.c,d:{R:_.Y.H_,T:d,IW:{y1:-1}}},{g:_.E.U0,d:A.hZ.GB(!0,90,!0)},{g:_.E.U0,d:A.hZ.GB(!0,-90,!0)},{g:_.E.U0,d:A.hZ.GB(!0,-180,!0)},{g:_.E.U0,d:A.hZ.GB(!1,"Hrzn",!0)},{g:_.E.U0,d:A.hZ.GB(!1,"Vrtc",!0)}]};
function aD(){j$.call(this)}aD.prototype=new j$(!0);function en(){j$.call(this)}en.prototype=new j$(!0);
function gX(){j$.call(this,!1,!0)}gX.prototype=new j$(!0);function aA(){aR.call(this);var d=this.Ut=[new e8([12,36],["Rigid",[15,10,0],[24,4]]),new e8([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new eh([7,4],0,100,"px"),new l8("Show Mesh"),new lt("\u25BC",null,null,!0),new lt("\u25B2",null,null,!0)];
for(var n=0;n<d.length;n++){var v=d[n];v.parent=this;this.body.appendChild(v._);v.P(n<4?_.E.w:"click",this.Ot,this)}this.hp=new a2;
this.hp.P("click",this.Cj,this);this.body.appendChild(this.hp._)}aA.prototype=new aR;aA.prototype.ON=function(){var d=this.Ut;
for(var n=0;n<4;n++)d[n].H();this.hp.H()};aA.prototype.pF=function(d){var d=d.Ic;for(var n=0;n<4;n++)this.Ut[n].a(d[n])};
aA.prototype.Ot=function(d){var v=[];for(var n=0;n<4;n++)v[n]=this.Ut[n].j();var t=this.Ut.indexOf(d.target);
if(t<4)this.Zn({Cs:"prm",Ic:v});else this.Zn({Cs:"moveDepth",a0C:t==5})};aA.prototype.Cj=function(d){this.Zn({Cs:this.hp.j()?"commit":"cancel"})};
aA.prototype.Zn=function(d){d.R=_.Y.Pn;d.T=this.T;var v=new eG(_.E.c,!0);v.data=d;this.J(v)};function cP(){aR.call(this);
this.hC=new a0(null,["Layout","Warp"]);this.hC.P(_.E.w,this.Ot,this);this.body.appendChild(this.hC._);
this.LQ=new lt([5,4]);this.LQ.P("click",this.Ot,this);this.body.appendChild(this.LQ._);this.hp=new a2;
this.hp.P("click",this.Cj,this);this.body.appendChild(this.hp._)}cP.prototype=new aR;cP.prototype.ON=function(){var d=this.Ut;
this.LQ.H();this.hp.H()};cP.prototype.pF=function(d){this.hC.a(d.Ic)};cP.prototype.Ot=function(d){this.Zn(d.target==this.LQ?{Cs:"delete"}:{Ic:this.hC.j()})};
cP.prototype.Cj=function(d){this.Zn({Cs:this.hp.j()?"commit":"cancel"})};cP.prototype.Zn=function(d){d.R=_.Y.Pn;
d.T=this.T;var v=new eG(_.E.c,!0);v.data=d;this.J(v)};function l4(){aR.call(this);this.Ut=null;this.aR=new e8([12,44],["","","","",""]);
this.aR.P(_.E.w,this.aa,this);this.body.appendChild(this.aR._);this.LF=new l8("ON");this.LF.P(_.E.w,this.aa,this);
this.body.appendChild(this.LF._);var d=eh;this.b4=[[new d([24,2],0,500)],[new d([24,2],0,500)],[],[new d([24,2],0,500)],[new d("Speed",0,500,"%"),new d("Point Speed",0,500,"px")],[new d([12,15],0,360,"\xB0",null,!0)]];
for(var n=0;n<6;n++)for(var v=0;v<this.b4[n].length;v++){var t=this.b4[n][v];t.parent=this;t.P(_.E.w,this.aa,this)}this.hp=new a2;
this.hp.P("click",this.aa,this)}l4.prototype=new aR;l4.prototype.pF=function(d){var v=this.Ut=d.Ic,t=v[0];
this.asU();this.H()};l4.prototype.aa=function(d){var v=this.Ut,t=v[0],h=d.target,X=h.j();if(h==this.hp){}else if(h==this.aR){t=v[0]=X<2?X:X+1;
this.asU(t);v[2]=null}else if(h==this.LF){v[1][t]=X;v[2]=null;this.H()}else{var g=this.b4[t];for(var x=0;
x<g.length;x++)v[2][x]=g[x].j()}var Z=new eG(_.E.c,!0);Z.data={R:_.Y.Pn,T:this.T,Ic:v};if(h==this.hp)Z.data.Cs=X?"commit":"cancel";
this.J(Z)};l4.prototype.asU=function(){var d=this.body,v=this.Ut,t=v[0];this.aR.a(t<2?t:t-1);this.LF.a(v[1][t]);
while(d.children.length>2)d.removeChild(d.lastChild);var h=this.b4[t];for(var n=0;n<h.length;n++){h[n].$e(v[2]!=null);
if(v[2]!=null)h[n].a(v[2][n]);d.appendChild(h[n]._)}d.appendChild(this.hp._)};l4.prototype.H=function(){var d=[],v=this.Ut,t=this.aR;
for(var n=0;n<5;n++){var h=[24,3,12,n];if(v)h=(v[1][n<2?n:n+1]?"\u2713 ":"\u2002\u2002")+f7.get(h);d.push(h)}var X=t.j();
t.Cw(d);t.a(X);var g=this.b4;for(var n=0;n<6;n++){var x=g[n];for(var Z=0;Z<x.length;Z++)x[Z].H()}};function a9(){aR.call(this);
var d=this.nM=[new e8([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var n=0;n<d.length;n++){var v=d[n];
v.P(_.E.w,this.aa,this);this.body.appendChild(v._)}}a9.prototype=new aR;a9.prototype.aa=function(d){var v=this.nM,t=[];
for(var n=0;n<v.length;n++)t[n]=v[n].j();var h=new eG(_.E.c,!0);h.data={R:_.Y.Pn,T:this.T,zj:t};this.J(h)};
a9.prototype.ON=function(){for(var n=0;n<this.nM.length;n++)this.nM[n].H()};function ki(){iS.call(this,!1,["binop"]);
this.od=new lt("Remove",!1,null,!0);this.od.P("click",this.hk,this);this.od._.style.marginRight="2em";
this.YU=new eR("New content");this.NF=new h$;this.NF.parent=this;this.Bh=new lt([18,0],!1,null,!0);this.Bh.P("click",this.hk,this);
this.aAr=new lt("Undo",!1,null,!0);this.aAr.P("click",this.hk,this);this.azo=new lt("?",!1,null,!0);
this.azo.P("click",this.hk,this);this.body.appendChild(this.YU._);this.body.appendChild(this.NF._);this.body.appendChild(this.Bh._);
this.body.appendChild(this.od._);this.body.appendChild(this.aAr._);this.body.appendChild(this.azo._)}ki.prototype=new iS(!0);
ki.prototype.H=function(){aR.prototype.H.call(this);this.Bh.H();this.NF.H()};ki.prototype.hk=function(d){if(d.target==this.aAr){var v=new eG(_.E.F,!0);
v.T=A.Hh;v.data={R:"h_stepbck"};this.J(v);return}if(d.target==this.azo){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var t=d.target==this.od,h=t?"empty background":this.YU.j();this.NF.ax5(h)};function gu(){hm.call(this);
this._=u.q("div","cmanager");window.alert=function(h,X){this.aAm(h,X);console.log("Alert: "+h)}.bind(this);
window.onblur=function(h){var X=this;X.ym()}.bind(this);this.F0=0;this.uV=0;this.c1=[];this.a1t={};this.jn=u.q("div","alertcont");
u.i(this.jn,"pointer-events:none");this._.appendChild(this.jn);this.amb=u.q("div","alertcont");this._.appendChild(this.amb);
this.xh=u.q("div","alertcont");this.aM0=0;this.SV=-1;this.aGX=null;this.Is=null;var d=this.a9P=u.q("div","alertpanel");
u.i(d,"padding:0.7em 1em 0.1em 1em;");this.xh.appendChild(d);var v=this.JC=u.q("input");v.setAttribute("type","text");
u.BR(v);u.i(v,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");v.addEventListener("input",this.auN.bind(this),!1);
v.addEventListener("keydown",this.aaA.bind(this),!1);d.appendChild(v);var t=this.tl=u.q("div","contextpanel scrollable");
u.i(t,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");t.addEventListener("click",this.aCq.bind(this),!1);
d.appendChild(t);u.We(document.body,this.aCS.bind(this))}gu.prototype=new hm;gu.prototype.eH=function(){if(u.al(this.xh))this._.removeChild(this.xh)};
gu.prototype.aND=function(d,v){var t=this.aGX=[],h=v.avi;for(var n=0;n<c7.data.length;n++){var X=c7.data[n],g=[f7.get(X.name)],x=[n];
gu.zM(X.items,g,x,t,d,v,h==null?null:h[n]==null?0:h[n])}var Z=v.B5;for(var n=0;n<Z.uJ.length;n++){var Y=Z.uJ[n],a=Z.keys[n];
for(var z=0;z<Y.length;z++)t.push([["Tools",f7.get(Y[z].T.name)],[-1,Y[z].T.id],a?a.ze:null])}this._.appendChild(this.xh);
var p=this.JC;p.focus();p.select();this.iq()};gu.prototype.auN=function(d){this.SV=-1;this.iq()};gu.prototype.iq=function(){var d=this.JC.value.toLowerCase().trim().replace(/  +/g," "),v=this.aGX,t=[],h=[],X=d.split(" ");
if(d!="")for(var n=0;n<v.length;n++){var g=v[n][0],x=[],Z=0;for(var Y=0;Y<g.length;Y++)x[Y]=-1;for(var a=0;
a<X.length;a++)for(var Y=0;Y<g.length;Y++){var z=g[Y].toLowerCase().indexOf(X[a]);if(z!=-1){x[Y]=[z,z+X[a].length];
Z++;break}}if(Z==X.length){t.push(v[n]);h.push(x)}}var p=[],U=this.tl;u.Pl(U);for(var n=0;n<t.length;
n++){var l=t[n],L=l[0],z=h[n],j="enab",F="";if(n==this.SV)j+=" active";var O=u.q("div",j);p.push(O);
U.appendChild(O);for(var Y=0;Y<L.length;Y++){var i=z[Y],$=X[Y],H=L[Y];if(i!=-1)H=H.slice(0,i[0])+"<span style=\"color:black\">"+H.slice(i[0],i[1])+"</span>"+H.slice(i[1]);
F+=H;if(Y<L.length-1)F+=" \uFE65 "}if(l[2]&&(typeof l[2]!="string"||l[2].length==1))F+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+cQ.R3(l[2])+"</span>";
O.innerHTML=F}this.Is=[t,p]};gu.prototype.aaA=function(d){var v=cQ.L9,t=d.code;if(v(t,cQ.l5))this.eH();
var h=v(t,cQ.fP),X=v(t,cQ.eq),g=v(t,cQ.u0);if(h||X){this.SV=Math.max(0,Math.min(this.Is[0].length-1,this.SV+(h?-1:1)));
this.iq()}if(g&&this.SV!=-1)this.acs(this.SV)};gu.zM=function(d,v,t,h,X,g,x){if(typeof x=="number"){if(x==0)return;
if(x==1)x=null}for(var n=0;n<d.length;n++){if(x!=null&&(x[n]==0||x[n]==null))continue;var Z=d[n],Y=v.slice(0),a=t.slice(0),z=f7.get(Z.name);
if(Z.f){var p=Z.f(X,g,n);if(p.DZ)z=p.DZ;if(p.f==!1)continue}Y.push(z);a.push(n);if(Z.sub)gu.zM(Z.sub,Y,a,h,X,g,x?x[n]:null);
else h.push([Y,a,Z.aM])}};gu.prototype.aCq=function(d){var v=d.target;if(v.tagName.toLowerCase()=="span")v=v.parentNode;
var t=this.Is[1].indexOf(v);if(t!=-1)this.acs(t)};gu.prototype.acs=function(d){var v=this.Is[0][d][1];
if(v[0]==-1){var t=new eG(_.E.c,!0);t.data={R:_.Y.H_,T:v[1]};this.J(t)}else{var h=c7.data[v[0]].fj[v[1]];
for(var n=2;n<v.length;n++)h=h.sub[v[n]];var X=new eG(h.g,!0);X.T=h.T;X.data=h.d;this.J(X)}this.eH()};
gu.prototype.K$=function(d,v){this.F0=d;this.uV=v;this.tl.style["max-height"]=v-120+"px"};gu.prototype.aOA=function(d){var v=u.q("div","alertpanel");
v.textContent=f7.get(d);this.jn.appendChild(v);this.a1t[JSON.stringify(d)]=v};gu.prototype.abI=function(d){var v=this.a1t[JSON.stringify(d)];
this.jn.removeChild(v);delete this.a1t[JSON.stringify(d)]};gu.prototype.aAm=function(d,v){var t=this.amb;
for(var n=0;n<t.children.length;n++)if(t.children[n].textContent==d)return;var h=u.q("div","alertpanel tpanel");
h.textContent=d;u.i(h,"opacity:0.5; transform:scale(0.9)\t");t.appendChild(h);if(v==null)v=1500;var X=v,g=Math.max(Date.now()+X,this.aM0+X);
setTimeout(function(){u.i(h,"transform:scale(1); opacity:1;")},10);setTimeout(function(){u.i(t,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},g-Date.now()-30);
setTimeout(function(){t.removeChild(t.firstChild);u.i(t,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},g-Date.now());
this.aM0=g};gu.prototype.aCS=function(d){var v=this.c1;for(var n=v.length-1;n>=0;n--){var t=v[n],h=d.target;
while(h!=null){if(h==t._){this.ym(t);return}h=h.parentNode}}this.ym();var X=d.target;while(X!=this.xh&&X!=document.body)X=X.parentNode;
if(X!=this.xh)this.eH()};gu.prototype.ym=function(d){var v=this.c1;for(var n=0;n<v.length;n++){if(d&&d.ahc(v[n]))continue;
var t=v[n]._;if(!(v[n]instanceof jr))u.KI(v[n],this._);else this._.removeChild(t);t.style.height="auto";
u.Ag(t,"scrollable");v.splice(n,1);n--}};gu.prototype.aiA=function(d){this.ym(d.UZ);var v=d.UZ,t=v._;
if(this.c1.indexOf(v)!=-1)return;this.c1.push(v);this._.appendChild(t);var h=this.F0,X=this.uV,g=d.x,x=d.y,Z=this._.getBoundingClientRect(),Y=v instanceof jr,a=-1,z=X-2;
if(Y||d.SK){var p=v.KM(),U=v.jN();if(Y)p=Math.min(p,200);var l=h-p-2,L=X-U-2;if(x<L)a=2;else if(g<l)a=1;
else if(0<x-U-2)a=0;else a=3;if(d.aEC)a=0;if(d.aEV)a=2;if(a==2){g=Math.min(g,l)}else if(a==1){x=Math.min(x,L)}else if(a==0){x=x-U-2;
g=Math.min(g,l);z=d.y}else if(a==3){g=g-p-2;x=Math.min(x,L)}}x=Math.max(2,x);var top=Math.round(x-Z.y+this._.offsetTop);
t.style.position="absolute";t.style["z-index"]=10;if(x+v.jN()>z){t.style.height=z-x+"px";u.M3(t,"scrollable");
if(a==3)g-=10}t.style.left=Math.round(g)+"px";t.style.top=top+"px";if(!(v instanceof jr))u.Qg(v)};gu.prototype.aCA=function(d){var v=d.UZ,t=this.c1.indexOf(v);
if(t==-1)return;this.c1.splice(t,1);var h=v._;if(!(v instanceof jr))u.KI(v,this._);else this._.removeChild(v._)};
gu.prototype.d4=function(){var d=this.c1;return d.length==0?null:d[d.length-1]};gu.prototype.aC_=function(){this.aCA({UZ:this.d4()})};
function h1(){hm.call(this);this._=u.q("div","confbar")}h1.prototype=new hm;h1.prototype.anK=function(d){d.parent=this;
u.Pl(this._);this._.appendChild(d._)};function fk(){hm.call(this);var d=this._=u.q("div","toolconf");
d.style.marginLeft="40px";this.dF=null;this.h8=null;var v=this.amK=[u.q("span"),u.q("span"),u.q("span")];
for(var n=0;n<3;n++)d.appendChild(v[n]);this.eS=[new h_(0),new h_(1),new eh([14,9],0,100,"px"),new eE(!0)];
for(var n=0;n<this.eS.length;n++){var t=this.eS[n];t.parent=this;t.P(_.E.w,this.a9u,this);v[0].appendChild(t._)}var h=this.UW=new cs;
this.UW.parent=this;this.aF9=new i9("Tt:");v[1].appendChild(this.aF9._);v[1].appendChild(h.W2._);v[1].appendChild(h.yW._);
v[1].appendChild(h.kA._);this.vf=new lt([11,11,0],null,null,!0);this.vf._.style.marginBottom="-8px";
this.vf._.style.verticalAlign="middle";this.vf.P("click",function(X){var g=new eG(_.E.c,!0);g.data={R:_.Y.S8,cG:"vbitmap"};
this.J(g)},this);v[2].appendChild(this.vf._);this.qR=new eh([12,0],0,100,"%",0);this.qR._.style.marginLeft="10px";
this.qR.P(_.E.w,this.a9u,this);d.appendChild(this.qR._)}fk.prototype=new hm;fk.prototype.a9u=function(d){var v=this.eS.indexOf(d.target),t=d.target.j();
if(d.target==this.qR){var h=new eG(_.E.F,!0);h.T=A.EM;h.data={R:jn.Q3,VE:Math.round(255*t/100)};this.J(h);
return}var X=f.v(this.dF.J1);if(v<2){var g,x=t;if(v==0){g=X.W4;X.W4=x}else{g=X.rA;X.rA=x}if(g&&g.length!=x.length){var Z=[1,0,0,1,0,0];
if(g.length==4){Z=g[3].slice(0);Z[1]*=-1;Z[2]*=-1}if(g.length==2){Z=g[1][1].slice(0)}if(x.length==4){x[2]=[0,0,0,1,1,0,0];
x[3]=Z;Z[1]*=-1;Z[2]*=-1}if(x.length==2){x[1]=[[0,0,1,1,0,0,0,0,0],Z]}}}if(v==2)X.O8=t;if(v==3)X=t;var h=new eG(_.E.c,!0);
h.data={R:_.Y.Kf,Ic:lx.py,K:X};this.J(h)};fk.prototype.H=function(){for(var n=0;n<this.eS.length;n++)this.eS[n].H();
this.UW.H();this.qR.H();this.vf.H()};fk.prototype.ih=function(d,v){this.h8=d;this.eS[0].eN(d);this.eS[1].eN(d)};
fk.prototype.dn=function(d){if(d.l.length==0)return;var v=d.U[d.l[0]],t=this.amK;this.qR.a(Math.round(v.JS*100/255));
var h=[v.add.vmsk,v.add.TySh,v.add.SoLd];for(var n=0;n<3;n++)u.i(t[n],"line-height:1.5em; display:"+(h[n]?"":"none"))};
fk.prototype.sq=function(d,v){this.dF=d;var t=d.J1,h=this.h8;this.eS[0].a(t.W4,h);this.eS[1].a(t.rA,h);
if(t.O8!=null)this.eS[2].a(t.O8);this.eS[3].a(t);this.UW.a(d.Jh,d.FP,d.KL)};function hw(){hm.call(this);
this._=u.q("div","toolconf");var d=u.q("div","body");this._.appendChild(d);d.style.marginLeft="8px";
this.dF=null;this.h8=null;this.iH=new lt("\u25B6",!1,null,!0);this.iH._.style.width="26px";this.Y6=new hm;
this.Y6.parent=this;var v=this.Y6._=u.q("div","floatcont form label6");v.style.width="270px";this.vP=new bP("BPM",1,300,null);
this.vP.parent=this;this.Y6._.appendChild(this.vP._);this.dt=new eR("Time Sign",null,3);this.Y6._.appendChild(this.dt._);
this.vP.P(_.E.w,this.aa,this);this.dt.P(_.E.w,this.aa,this);this.b4=new lt("...",!1,null,!0);this.b4.P("click",function(h){if(u.al(this.Y6._))return;
var X=this.b4._.getBoundingClientRect(),g=new eG(_.E.c,!0);g.data={R:_.Y.Vw,UZ:this.Y6,x:X.left,y:X.top+X.height+4,SK:!0};
this.J(g)},this);this.RB=new a0(null,["Piano","Sheet"]);this.RB.P(_.E.w,function(h){if(this.h8.add.prvw==this.RB.j())return;
var X=new eG(_.E.F,!0);X.T=A.CK;X.data={R:"prvw"};this.J(X)},this);d.appendChild(this.iH._);d.appendChild(this.b4._);
d.appendChild(this.RB._);this.iH.P("click",function(h){var X=new eG(_.E.c,!0);X.data={R:_.Y.sc};this.J(X);
this.iH.Ge(this.h8.Y.Nn?"\u23F8":"\u25B6")},this);this.$K=u.q("span");d.appendChild(this.$K);this.jc=[new eh("Velocity",0,127),new eR("Text",null,10),new eh("BPM",1,1e3),new eR("Time Signature",null,3)];
for(var n=0;n<this.jc.length;n++){var t=this.jc[n];t.parent=this;t.P(_.E.w,this.a3z,this)}}hw.prototype=new hm;
hw.prototype.sq=function(d,v){this.dF=d};hw.prototype.ih=function(d,v){this.h8=d};hw.prototype.H=function(){this.iH.H();
this.vP.H();for(var n=0;n<this.jc.length;n++)this.jc[n].H()};hw.prototype.aa=function(d){var v=this.vP.j(),t=this.dt.j().split("/").map(parseFloat),h=new eG(_.E.F,!0);
h.T=A.EM;h.data={R:jn.YJ,VE:{VC:v,AV:t}};this.J(h)};hw.prototype.a3z=function(d){var v=this.jc.indexOf(d.target),t=d.target.j();
if(v==3)t=t.split("/").map(parseFloat);console.log(t);var h=new eG(_.E.F,!0);h.T=A.Xc;h.data={R:"nprop",VE:t};
this.J(h)};hw.prototype.dn=function(d){this.RB.a(d.add.prvw==1?1:0);this.vP.a(d.Y.VC);this.dt.a(d.Y.AV[0]+"/"+d.Y.AV[1]);
var v=this.$K,X=0;u.Pl(v);if(d.l.length!=1)return;var t=d.U[d.l[0]];if(t.Y.l.length==0)return;var h=t.Y.list[t.Y.l[0]],g=h[3];
if(t.Y.jJ<=200){X=0}if(t.Y.jJ==300){X=1}if(t.Y.jJ==500){X=2}if(t.Y.jJ==501){X=3;g=h[3][0]+"/"+h[3][1]}var x=this.jc[X];
x.a(g);v.appendChild(x._)};function dY(d){hm.call(this);dY.sU=this;dY.o_=d;this.n=null;this.sL=u.q("input","");
this.sL.setAttribute("type","file");this.sL.setAttribute("multiple","");this.sL.addEventListener("change",function(v){this.Bc(v.target.files,null,this.pp,null);
this.pp=null}.bind(this),!1);document.body.appendChild(this.sL);u.i(this.sL,"display:none");this.aFA=[];
this.axW=!1;this.apY=[];this.ab5=!1;this.aAI={};this.pp=null}dY.prototype=new hm;dY.o_=null;dY.xy=function(d){try{var v={};
v[d.type]=d;navigator.clipboard.write([new ClipboardItem(v)])}catch(cQ){console.error(cQ,cQ.message)}};
dY.TO=function(d,v){navigator.clipboard.read().then(function(t){for(var n=0;n<t.length;n++){try{var h=t[n],X={},g=0,x=0;
for(var Z=0;Z<h.types.length;Z++){var Y=h.types[Z];g++;h.getType(Y).then(function(a){var z=Y;new Response(a).arrayBuffer().then(function(p){X[this.tJ]=p;
x++;if(x==g)dY.aBd(X,d,v)}.bind({tJ:this.tJ}))}.bind({tJ:Y}))}}catch(cQ){console.error(cQ,cQ.message)}}}).catch(function(t){alert("Please, give us permissions to access your clipboard.")})};
dY.aEA=function(d){navigator.permissions.query({name:"clipboard-read"}).then(function(v){d(v.state)})};
dY.aBd=function(d,v,t){var h=["text/plain","image/png","text/html","text/plain"];for(var X in d)console.log(X,X.startsWith("text")?B.I$(new Uint8Array(d[X])).slice(0,100)+"...":d[X]);
for(var g=0;g<h.length;g++){var x=h[g],Z=d[x];if(Z==null)continue;if(x=="image/png"){dY.o_({name:"image.png"},Z,v,t);
return}if(x=="text/plain"){var Y=B.I$(new Uint8Array(Z));if(g==0)if(!Y.startsWith("<!--")&&!Y.startsWith("<svg"))continue;
if(t&&Y.startsWith("<svg"))continue;var a=new eG(_.E.c,!0);a.data={R:_.Y.aaZ,K:Y};v.J(a);return}if(x=="text/html"){var Y=B.I$(new Uint8Array(Z)),z=Y.indexOf("src=\"");
if(z!=-1){var p=z+10;while(Y[p]!="\"")p++;var U=Y.slice(z+5,p);if(U.startsWith("http")){var a=new eG(_.E.c,!0);
a.data={R:_.Y.PE,Ic:{url:U,N7:!0}};v.J(a);return}else{dY.o_({name:"chart.png"},b3.z3(U).buffer,v,t);
return}}}}};dY.prototype.i2=function(d){if(d==null)d=[23,5];var v=JSON.stringify(d),t=this.aAI;if(t[v]==null)t[v]=0;
if(t[v]==0){var h=new eG(_.E.c,!0);h.data={R:_.Y.Wq,jH:d};this.J(h)}t[v]++};dY.prototype.Uk=function(d){if(d==null)d=[23,5];
var v=JSON.stringify(d),t=this.aAI;if(t[v]==null)t[v]=0;t[v]--;if(t[v]==0){var h=new eG(_.E.c,!0);h.data={R:_.Y.DQ,jH:d};
this.J(h)}};dY.prototype.apa=function(d,v,t){this.pp=d;var h=window.showOpenFilePicker;if(t)h=null;if(h&&window.self==window.top){var X=this;
h({multiple:!0}).then(function(Z){var Y=[];function a(z){Y.push(z);if(Y.length==Z.length){X.Bc(Y,null,X.pp,null,Z);
X.pp=null}else Z[Y.length].getFile().then(a)}Z[Y.length].getFile().then(a)});return}var g=this.sL;if(v)g.setAttribute("accept",v);
else g.removeAttribute("accept");var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
g.dispatchEvent(x)};dY.prototype.W7=function(d){if(d.url.indexOf("photopea.com#i")!=-1||d.url.indexOf("photopea.com/#i")!=-1){this.vL(d.url.split("#i").pop());
return}this.aFA.push(d);this.aOE()};dY.prototype.aOE=function(){var d=this.aFA;if(d.length==0||this.axW)return;
this.axW=!0;var v=d.shift();this.i2();if(v.QS==null)v.QS={};var t=new XMLHttpRequest;t.mT=v;var h=v.url;
if(v.N7&&!h.startsWith("data:image"))h="mirror.php?url="+encodeURIComponent(h);t.open("GET",h);if(v.adr)for(var X in v.adr)t.setRequestHeader(X,v.adr[X]);
t.responseType="arraybuffer";t.onload=this.anO.bind(this);t.send()};dY.prototype.Bc=function(d,v,t,h,X){for(var n=0;
n<d.length;n++){this.i2();var g=d[n],x=new FileReader;x.mT=g;x.mT.e$=t;x.mT.C0=h==null?null:h+n;x.awQ=v;
if(X)x.mT.l2=X[n];x.onload=this.anO.bind(this);x.onerror=function(Z){this.Uk()}.bind(this);this.apY.push([x,g])}this.sL.value=null;
this.aDN()};dY.prototype.aDN=function(){var d=this.apY;if(d.length==0||this.ab5)return;this.ab5=!0;var v=d.shift();
v[0].readAsArrayBuffer(v[1])};dY.prototype.a4C=function(d,v,t){this.i2("Saving ...");this.n=v;setTimeout(t.bind({Wt:d,caller:this}),50)};
dY.VD=function(d){var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(d),h=t.length,X=h%3,g=h-X,x=[],Z=0,Y=0,a=0;
for(var n=0;n<g;n+=3){Z=t[n];Y=t[n+1];a=t[n+2];x.push(v[Z>>2]+v[(Z&3)<<4|Y>>4]+v[(Y&15)<<2|a>>6]+v[a&63])}if(X==1){Z=t[g];
x.push(v[Z>>2]+v[(Z&3)<<4]+"==")}if(X==2){Z=t[g];Y=t[g+1];x.push(v[Z>>2]+v[(Z&3)<<4|Y>>4]+v[(Y&15)<<2]+"=")}var z=x.join("");
return z};dY.ajT=function(d,v){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(64),Z=0,Y=0,a=0,p=0;
for(var n=0;n<64;n++)h[n]=t.charCodeAt(n);var X=new Uint8Array(d),g=v%3,x=v-g,z=new Uint8Array(Math.floor(v/3)*4+(g==0?0:4));
for(var n=0;n<x;n+=3){Z=X[n];Y=X[n+1];a=X[n+2];z[p]=h[Z>>>2];z[p+1]=h[(Z&3)<<4|Y>>>4];z[p+2]=h[(Y&15)<<2|a>>>6];
z[p+3]=h[a&63];p+=4}if(g==1){Z=X[x];z[p]=h[Z>>2];z[p+1]=h[(Z&3)<<4];z[p+2]=61;z[p+3]=61}if(g==2){Z=X[x];
Y=X[x+1];z[p]=h[Z>>2];z[p+1]=h[(Z&3)<<4|Y>>4];z[p+2]=h[(Y&15)<<2];z[p+3]=61}return z};dY.prototype.anO=function(d){var v,t=d.target.mT;
if(d.target instanceof XMLHttpRequest)v=d.target.response;else v=d.target.result;dY.o_(t,v,this,d.target.awQ);
this.Uk();if(d.target instanceof XMLHttpRequest){this.axW=!1;this.aOE()}else{this.ab5=!1;this.aDN()}};
dY.az6=function(d,v){var t=new XMLHttpRequest;t.open("POST","https://api.imgur.com/3/image",!0);t.SM=v;
var h=["59e11a2fac9b1ed","09fbce0ad11eea8"],X=24*60*6e4/h.length,g=Math.floor(Date.now()/X)%h.length;
console.log(g);iP.event("imgur_req-"+g);t.setRequestHeader("Authorization","Client-ID "+h[g]);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");
t.setRequestHeader("Accept","application/json");t.addEventListener("load",dY.av7);t.addEventListener("progress",function(x){var Z=x.target.status;
if(Z==429)alert("Too many uploads, try it a bit later.");else if(400<=Z)alert("Error. Status code: "+Z)});
t.send("type=base64&image="+encodeURIComponent(dY.VD(d)));alert("Saving to Imgur ...",4e3)};dY.av7=function(d){var v=JSON.parse(d.target.response);
if(v.success){if(d.target.SM)d.target.SM(v.data.link);else window.open(v.data.link,"Imgur")}};dY.prototype.vL=function(d,v){this.i2();
var t=new XMLHttpRequest;t.responseType="arraybuffer";t.open("GET","https://f000.backblazeb2.com/file/"+(v?"pp-resources":"psdshared")+"/"+d);
t.onload=this.a6Q.bind(this);t.send();t.Pv=[Date.now(),d,v]};dY.prototype.a6Q=function(d){var v=d.target.Pv,t=new Uint8Array(d.target.response);
console.log(t.length+" B,",Date.now()-v[0]+" ms");for(var n=0;n<t.length;n++)t[n]=255-t[n];t=pako.inflateRaw(t);
var h=JSON.parse(B.I$(t,0,2e3));dY.o_({name:h.name,pM:v[1]},t.slice(2e3).buffer,this);this.Uk();if(!v[2])dY._J("act=0&id="+v[1])};
dY.prototype.ag8=function(d,v,t,h){if(!(d instanceof ArrayBuffer))throw"e";d=new Uint8Array(d);var X=new Uint8Array(d.length+2e3),U="";
for(var n=0;n<2e3;n++)X[n]=32;B.HN(JSON.stringify({name:v}),X,0);X.set(d,2e3);d=X;d=pako.deflateRaw(d);
for(var n=0;n<d.length;n++)d[n]=255-d[n];d=d.buffer;var g=d.byteLength,x=hi.Hb(g),Z=~~(609e5/2),Y=~~(209e5/2);
if(g>Z){confirm("Your file is "+x+". Our limit is "+hi.Hb(Z)+". Delete some layers and try again.");
return}if(g>Y){var a=confirm("Your file is quite large ("+x+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}var z=sha1(d),p=[];for(var n=0;n<20;n++){var l=parseInt(z.slice(n*2,n*2+2),16);p.push(l);
U+=String.fromCharCode(l)}var L=btoa(U).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(dY.aGr(L,h)){console.log("file already exists");
if(t)t(L);else window.open("https://www.photopea.com#i"+L+".psd");return}this.i2("Publishing ...");var j=new XMLHttpRequest;
j.Pv=[d,z,L,t,h];j.open("GET",iP.$j("papi/img/publish.php?rnd="+Math.random()+"&id="+L+"&size="+g+"&bname="+h));
j.onload=this.apf.bind(this);j.send()};dY.aGr=function(d,v){try{var t=new XMLHttpRequest;t.open("HEAD","https://f000.backblazeb2.com/file/"+v+"/"+d,!1);
t.send();if(t.status==200)return!0}catch(cQ){return!1}return!1};dY.prototype.apf=function(d){console.log(d.target.response);
var v=JSON.parse(d.target.response),t=d.target.Pv,h=new XMLHttpRequest;h.open("POST",v.uploadUrl);h.setRequestHeader("Authorization",v.authorizationToken);
h.setRequestHeader("X-Bz-File-Name",t[2]);h.setRequestHeader("Content-Type","b2/x-auto");h.setRequestHeader("X-Bz-Content-Sha1",t[1]);
h.send(new Blob([t[0]]));h.onload=this.a1I.bind({u$:this,Pv:t})};dY.prototype.a1I=function(d){this.u$.Uk("Publishing ...");
if(this.Pv[3])this.Pv[3](this.Pv[2]);else window.open("https://www.photopea.com#i"+this.Pv[2]+".psd");
if(this.Pv[4]=="psdshared")dY._J("act=2&id="+this.Pv[2]+"&fileId="+JSON.parse(d.target.response).fileId)};
dY._J=function(d){var v=new XMLHttpRequest;v.open("GET","/papi/img/update.php?"+d+"&rnd="+Math.random());
v.send()};dY.save=function(d,v){var t=new Uint8Array(d),h=document.createElement("a");if(typeof h.download=="string"){var X=new Blob([t]),g=window.URL.createObjectURL(X);
h.href=g;h.download=v;document.body.appendChild(h);h.click();document.body.removeChild(h)}else{var x="data:application/octet-stream;base64,"+dY.VD(d);
window.open(x)}};function fe(){this.size=16;this.data=f.m(16)}fe.prototype.fK=function(d,v){if(d+v<=this.size)return;
var t=this.size;while(d+v>this.size)this.size*=2;var h=f.m(this.size);for(var n=0;n<t;n++)h[n]=this.data[n];
this.data=h};var jN={};jN.ap=function(d,v,t,h){var X=v.split(":"),g=X[0];if(X.length==2){if(g=="jpg")h={qual:Math.round(100*parseFloat(X[1])),mtdt:!0};
if(g=="webp")h={qual:Math.round(100*parseFloat(X[1])),mtdt:!0};if(g=="psd")h=[!0,!0,!1,!1,!1];if(g=="svg"){var x=["arst","ahid","vtxt","rtxt","mini"],Z=X[1].split(",");
h={};for(var n=0;n<Z.length;n++)h[x[n]]=Z[n]=="true"}if(g=="jpg"||g=="webp")if(d.yr())h.srgb=!1}var Y=b3.vg(d,g.toUpperCase(),null,null,h,t);
return Y};jN.aES=function(d,v,t){var h=d.jP(),X=v[0];return jN.ap(d,X,t)};jN.afb=function(){var d=this.Wt,v=this.caller,t=d.QS.aH,h=t.formats,X,g;
d.jP();var x=Date.now();if(t.version==1){var Z=[],Y=0,z=0;for(var n=0;n<h.length;n++){var a=jN.ap(d,h[n],v.n);
Z.push(a);Y+=a.byteLength}X=new Uint8Array(2e3+Y);var p="{ \"source\": "+JSON.stringify(d.UI)+", \"versions\": [\n";
for(var n=0;n<h.length;n++){var U=new Uint8Array(Z[n]);p+="\t{\"format\": \""+h[n].split(":")[0]+"\", \"start\": "+z+", \"size\": "+U.length+" }"+(n+1<h.length?", ":"")+"\n";
X.set(U,2e3+z);z+=Z[n].byteLength}p+="] }";var l=B.HN(p,X,0);for(var n=l;n<2e3;n++)X[n]=32;g="application/octet-stream"}else{var L=new fe,j=0,O="",F=encodeURIComponent;
O="p="+F("{ \"source\": "+JSON.stringify(d.UI)+", \"versions\": [");B.Er(L,j,O);j+=O.length;for(var n=0;
n<h.length;n++){O=F(" {\"format\": \""+h[n].split(":")[0]+"\", \"data\": \"");B.Er(L,j,O);j+=O.length;
var a=jN.ap(d,h[n],v.n),i=dY.ajT(a,a.byteLength),l=i.length;L.fK(j,l);for(var $=0;$<l;$++){L.fK(j,3);
var H=i[$];if(H==43){L.data[j]=37;L.data[j+1]=50;L.data[j+2]=66;j+=3}else if(H==47){L.data[j]=37;L.data[j+1]=50;
L.data[j+2]=70;j+=3}else if(H==61){L.data[j]=37;L.data[j+1]=51;L.data[j+2]=68;j+=3}else{L.data[j]=H;
j++}}O=F("\" }"+(n+1<h.length?", ":""));B.Er(L,j,O);j+=O.length}O=F("] }");B.Er(L,j,O);j+=O.length;X=L.data.slice(0,j);
g="application/x-www-form-urlencoded"}var b=new XMLHttpRequest;b.open("POST",t.url,!0);if(g)b.setRequestHeader("Content-Type",g);
b.addEventListener("load",jN.ahp.bind(this));b.send(new Blob([X.buffer]))};jN.ahp=function(d){this.caller.Uk("Saving ...");
var v=d.target.response;if(v.charAt(0)=="{"){v=JSON.parse(v);if(v.newSource)this.Wt.UI=v.newSource;if(v.message)alert(v.message,2e3);
if(v.script){var t=new eG(_.E.c,!0);t.data={R:_.Y.z7,uq:v.script};this.caller.J(t)}}else alert("Saved. Response: "+v,1500)};
jN.aeV=function(d){var v=d._4,t=v[1].split(".").pop(),h=jN.ap(d,t,null,t=="psd"&&v[0]==1?[!0,!1,!0,!1]:null),X=Storage.Cp(v[0]);
return X.ar3(v[1],h)};jN.afy=function(d,v){var t=d.S3.nF;if(v==null)v=jN.ap(d,t);je.tK(function(){var h=new XMLHttpRequest,X="https://www.googleapis.com/upload/drive/v3/files/"+d.S3.file.id+"?uploadType=media"+"&"+je.a4c();
h.open("PATCH",X,!0);h.addEventListener("load",function(g){var x=JSON.parse(g.target.response);alert(x.name+" updated")});
h.send(v);alert("Saving \""+d.S3.file.name+"\" to Google Drive ...")})};jN.o_=function(d,v,t,h,X){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)jN.ny(d,v,t,h);
else{try{jN.ny(d,v,t,h,X)}catch(cQ){if(cQ=="low_ram"){}else{var g=b3.IF(v),x="Error. Please, send your file to support@photopea.com and we will solve it.";
if(g=="psd")x="Your file is probably damaged :( If your file works well in other programs, send it to support@photopea.com";
if(b3.IF(v)=="eps")x="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(x,1e4)}}}};jN.ny=function(d,v,t,h,X){var g;if(d.name){var x=d.name.lastIndexOf(".");g=x==-1?d.name:d.name.slice(0,x);
if(d.name.slice(x+1)=="psdt")g="Untitled-1"}else{if(d.url.substring(0,5)=="data:")g="image";else{var Z=d.url.substring(d.url.lastIndexOf("/")+1).split(".");
g=Z[0];if(Z[1]=="psdt")g="Untitled-1"}g=g.slice(0,50)}var Y=d.name?d.name:d.url,a=new Uint8Array(v);
if(a[0]==31&&a[1]==139&&a[2]==8){var z=pako.inflate(a);jN.ny(d,z.buffer,t,h,X);return}var p=b3.IF(v);
if(p==null&&j8==2)p="seq";if(p==null)p=B.o3(a,0,4);if(Y&&Y.toLowerCase().endsWith(".aco"))p="aco";if(Y&&Y.toLowerCase().endsWith(".act"))p="act";
if(Y&&Y.toLowerCase().endsWith(".asv"))p="asv";if(Y&&Y.toLowerCase().endsWith(".sai"))p="sai2";if(Y&&Y.toLowerCase().endsWith(".gvdesign"))p="gvdesign";
if(Y&&Y.toLowerCase().endsWith(".sequence"))p="seq";if(p!=null&&b3.bV(p))iP.event("fmt_"+p,.1);if(Y&&Y.toLowerCase().endsWith(".raw")&&p!="tiff"){var U=new eG(_.E.c,!0);
U.data={R:_.Y.S8,cG:"importraw",Mp:v,Ps:Y.split("/").pop()};t.J(U);return}else if(p=="json"){var l="";
for(var n=0;n<a.length;n++)l+=String.fromCharCode(a[n]);l=decodeURIComponent(escape(l));var L=JSON.parse(l);
if(L.name&&L.url){L.resID=d.pM;var U=new eG(_.E.c,!0);U.data={R:_.Y.ahu,K:L};t.J(U)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(L)}return}if(p=="html"){var l=B.I$(a,0,a.length),j=new DOMParser,O=j.parseFromString(l,"text/html"),F=O.getElementsByTagName("meta");
for(var n=0;n<F.length;n++){var i=F[n],$=i.getAttribute("property"),H=i.getAttribute("content"),b=null;
if($=="og:image")b=H;if($==null&&H&&H.startsWith("0;url=/imgres?")){var Z=H.slice(14).split("&");for(var r=0;
r<Z.length;r++)if(Z[r].startsWith("imgurl"))b=decodeURIComponent(Z[r].slice(7))}if(b==null)continue;
var U=new eG(_.E.c,!0);U.data={R:_.Y.PE,Ic:{url:b,N7:!0,e$:d.e$}};t.J(U)}return}if(b3.bV(p)){if(p=="pxz"){var W=UZIP.parse(v);
for(var V in W){if(V.endsWith(".woff")||V.endsWith(".ttf")||V.endsWith(".otf"))jN.o_({name:V},W[V].buffer,t)}}var y,c,S=b3.bV(p);
if(d.e$!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(p)!=-1){var U=new eG(_.E.c,!0);if(0<=d.e$)U.data={R:_.Y.QM,target:d.e$,r5:d.C0,Vr:v,uK:g};
else{U=new eG(_.E.F,!0);U.data={R:jn.El,data:new Uint8Array(v),Ps:g+"."+p};U.T=A.EM}t.J(U);return}var C=[g,S,p,d,t,h,v];
if(S.e4){y=new hc("");S.CE(v,y,jN.Ww,C)}else{c=S.CE(v,null,jN.Ww,C,t);if(c==null||c.MS!=null)return}if(S.fd!=!0)jN.Ww(y,c,C);
else t.i2();return}var K=new eG(_.E.c,!0);K.data={R:_.Y.RA,Mp:v,cF:d.name};var T=d instanceof File&&d.a6A!=!0,U=new eG(_.E.c,!0);
U.data={R:_.Y.Kf,QS:"add",Ic:null,Mc:null,aKE:d.a6A};if(p=="zip"){var D=Date.now(),W=UZIP.parse(v),N="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var V in W){var G=!1;for(var n=0;n<N.length;n++)if(V.toLowerCase().endsWith("."+N[n]))G=!0;if(V.startsWith("__MACOSX/")||W[V].length==0)G=!0;
if(G)continue;var s=V.split("/").pop();jN.o_({name:s},W[V].buffer,t,h,!0)}}else if(p=="jsx"||Y&&Y.toLowerCase().endsWith(".jsx")){if(T)t.J(K);
var l=B.I$(new Uint8Array(v));U.data={R:_.Y.z7,uq:l};t.J(U)}else if(p=="sf2"){var Q=bp.lS(new Uint8Array(v));
U.data.Ic=lx.aDg;U.data.Mc=Q;t.J(U)}else if(p=="otf"){if(T)t.J(K);var Q=Typr.parse(v);U.data.Ic=lx.IQ;
for(var n=0;n<Q.length;n++){U.data.Mc=Q[n];t.J(U)}}else if(p=="asl"){if(T)t.J(K);var Q=cu.lS(v,Y);U.data.Ic=lx.Nt;
U.data.Mc=Q.qF;t.J(U);U.data.Ic=lx._0;U.data.Mc=Q.st;t.J(U)}else if(p=="tpl"){if(T)t.J(K);var Q=l6.lS(v);
U.data.Ic=lx.nj;U.data.Mc={Qt:Q.Qt,ku:Q.ku,list:[]};t.J(U);if(Q.aba.length!=0){U.data.Ic=lx.C4;U.data.Mc=Q.aba;
t.J(U)}if(Q.st.length!=0){U.data.Ic=lx._0;U.data.Mc=Q.st;t.J(U)}U.data.Ic=lx.nx;U.data.Mc=Q.list;t.J(U)}else{var q="";
for(var R in lx.HL)if(lx.HL[R][0]==p)q=R;if(q!=""){if(T&&!lx.dC[q])t.J(K);U.data.Mc=lx.HL[q][2].lS(v,Y);
U.data.Ic=q;t.J(U)}else if(v.byteLength==0)alert("Empty file (0 Bytes)");else{var m=b3.IF(v),E;if(m==null)m=Y.split(".").pop().split("?")[0];
var e="eot fntdata csv py txt js json html htm css scss mp3".split(" ");if(e.indexOf(m)!=-1)E=m+" | ...";
else E=m+" | "+new Uint8Array(v).slice(0,4).join(",");if(m.length<=10&&X!=!0)iP.event("ufmt_"+E);alert("Unknown file format: "+JSON.stringify(p))}}};
jN.Ww=function(d,v,t){var h=t[0],X=t[1],g=t[2],x=t[3],Z=t[4],Y=t[5],a=t[6];if(X.fd)Z.Uk();if(!X.e4){if(v.length==0)return;
if(v[0].t33421||v[0].t50706){f.raw.normalize(v[0],a);console.log(v[0]);var z=new eG(_.E.c,!0);z.data={R:_.Y.S8,cG:"rawpea",MP:v[0]};
Z.J(z);return}if(Y){Y(new Uint8Array(v[0].data),v[0]._S);return}d=b3.Kv(h,v)}var p=["psd","ai","mid"][j8];
if(j8==0&&b3.ji.indexOf(g)!=-1)p=g;d.name=h+"."+p;d.pM=x.pM;d.P8=g;d.QS=x.QS;d.UI=x.url;d.II=x.II;d.S3=x.S3;
d.l2=x.l2;d._4=x._4;if(x.l2&&x.l2.name.endsWith(".psdt"))d.l2=null;if(d.S3)d.S3.nF=g;if(d.U.length!=0){var z=new eG(_.E.c,!0);
z.data={R:x.e$==null?_.Y.cJ:_.Y.QM,target:x.e$,r5:x.C0,Vr:d};Z.J(z)}};function ex(d,v){hm.call(this);
this.xZ=ex.xZ++;this.cg=d;this.akC=this.anj.bind(this);this.aGM=this.aBW.bind(this);this.aE_=this.EL.bind(this);
this.arP=v;this.aiY=this.aOz.bind(this);this.aq3=this.aGf.bind(this);this.afa=this.aH1.bind(this);this.fA=0;
this.avl=0;this.a6e=0;this._=u.q("div","panelblock");this.$O=u.q("div","block");this.MI=u.q("div","collapsed");
this._.appendChild(this.$O);this.Y2=-1;this.sC=!0;this.t$=u.q("div","panelhead");this.$O.appendChild(this.t$);
this.Y1(this.t$);this.afZ=new lt("\u2261");u.i(this.afZ._,"position:absolute; right:4px;");this.afZ.P("click",this.avI,this);
this.Ma=u.q("div","body");this.$O.appendChild(this.Ma);this.dQ=[];this.vM=null;this.aS=null}ex.xZ=0;
ex.prototype=new hm;ex.pu=26.1;ex.prototype.avI=function(d){var v=this.dQ[this.Y2].s3(),t=d.currentTarget._.getBoundingClientRect();
v.H();v.update();v.parent=this;var h=new eG(_.E.c,!0);h.data={R:_.Y.Vw,UZ:v,x:t.left,y:t.top+t.height+2};
this.J(h)};ex.prototype.pV=function(d){var v=this.$O,t=this.t$,h=this.Ma;if(u.al(t))v.removeChild(t);
if(u.al(h))v.removeChild(h);if(d==0)v.appendChild(t);v.appendChild(h);this.a6e=d};ex.ns=function(d){d.stopPropagation();
d.preventDefault()};ex.prototype.anj=function(d){var v=d.dataTransfer.types;if(v[1]!=null&&v[1]!=this.xZ+"")return;
ex.ns(d);var bW=d.currentTarget;if(d.target==bW)u.M3(bW,"highlight")};ex.prototype.aBW=function(d){ex.ns(d);
var bW=d.currentTarget;if(d.target==bW)u.Ag(bW,"highlight")};ex.prototype.Y1=function(d){d.addEventListener("dragenter",this.akC,!1);
d.addEventListener("dragleave",this.aGM,!1);d.addEventListener("dragover",ex.ns,!1);d.addEventListener("drop",this.aE_,!1);
d.addEventListener("dragstart",function(v){v.dataTransfer.setData("Text","--panel");v.dataTransfer.setData(this.xZ+"","")}.bind(this),!1)};
ex.prototype.EL=function(d){this.aGM(d);var v=null,bW=d.currentTarget,t=this.ahM(bW);if(bW==this.Ma&&this.Y2!=-1)v=this.Y2;
else if(bW==this.t$)v=null;else if(t!=-1)v=t;var h=d.dataTransfer.getData("Text");if(h==""||h.startsWith("http")||h.startsWith("data:image/"))u.H6(d,this,v);
else if(h=="--panel"){var X=u.cN(d,bW),g=this.dQ,x=g.slice(0),n=this.Y2,Z=t==-1?g.length:X.x<bW.getBoundingClientRect().width/2?t:t+1;
if(n==Z||n+1==Z||bW==this.Ma)return;var Y=n<Z?Z-1:Z,a=g[n];g.splice(n,1);g.splice(Y,0,a);u.Pl(this.t$);
for(var z=0;z<g.length;z++)this.t$.appendChild(g[z].Fu);this._g(Y);var p=[];for(var n=0;n<g.length;n++)p[n]=x.indexOf(g[n]);
var U=new eG("shuffleItems",!1);U.data={aCo:p};this.J(U)}else if(v!=null&&this instanceof f0){var U=new eG(_.E.c,!0);
U.data={R:_.Y.aG$,am9:v};this.J(U)}};ex.prototype.De=function(){return null};ex.prototype.aiN=function(){if(this.De()){this.t$.style.padding="0px";
this.aS=this.De();this.Ma.appendChild(this.aS);this.ZF.$e(!1);var d=new eG(_.E.c,!0);d.data={R:_.Y.oL,K:1};
this.J(d)}};ex.prototype.aM1=function(){if(this.aS){this.t$.style.padding="";this.Ma.removeChild(this.aS);
this.aS=null;this.ZF.$e(!0);var d=new eG(_.E.c,!0);d.data={R:_.Y.oL,K:0};this.J(d)}};ex.prototype.ahM=function(d){var v=this.dQ;
for(var n=0;n<v.length;n++)if(v[n].Fu==d)return n;return-1};ex.prototype.aG=function(){for(var n=0;n<this.dQ.length;
n++)this.dQ[n].ut._7()};ex.prototype.dV=function(){return this.Y2};ex.prototype.QB=function(){if(this.sC)return;
this.sC=!0;this._.removeChild(this.MI);this._.appendChild(this.$O)};ex.prototype.collapse=function(){if(!this.sC)return;
this.sC=!1;this._.appendChild(this.MI);this._.removeChild(this.$O)};ex.prototype.pu=function(){var d=0;
if(this.a6e==0){d=this.t$.getBoundingClientRect().height+1;d=Math.max(d,ex.pu)}return d};ex.prototype.alx=function(){return this.pu()+this.Ma.getBoundingClientRect().height};
ex.prototype.K$=function(d,v,t){this.t$.style.maxWidth=d+"px";var h=this.pu();if(this.Y2!=-1)this.dQ[this.Y2].K$(d,v-h,t);
return v-h};ex.prototype.sq=function(d,v){if(this.Y2!=-1)this.dQ[this.Y2].sq(d,v)};ex.prototype.dn=function(d,v,t){this.dQ[this.Y2].dn(d,v,t)};
ex.prototype.hS=function(d){this.aM1();if(this.dQ.indexOf(d)!=-1){this._g(this.dQ.indexOf(d));return}d.parent=this;
this.dQ.push(d);this.t$.appendChild(d.Fu);d.Fu.addEventListener("mouseover",this.aiY,!1);this.Y1(d.Fu);
this.MI.appendChild(d.ut._);d.ut.P("click",this.az7,this);d.P("select",this.ahT,this);d.P(_.E.EO,this.aes,this);
this._g(this.dQ.length-1)};ex.prototype.aOz=function(d){if(d.buttons==0)return;var v=d.currentTarget,t=v,n=0;
while((t=t.previousSibling)!=null)n++;this.avl=n;v.addEventListener("mouseout",this.aq3,!1);this.fA=setTimeout(this.afa,700)};
ex.prototype.aGf=function(d){var v=d.currentTarget,t=v,n=0;while((t=t.previousSibling)!=null)n++;v.removeEventListener("mouseout",this.aq3);
clearTimeout(this.fA)};ex.prototype.aH1=function(d){this.J(new eG(_.E.ad1,!1))};ex.prototype.aww=function(d){return this.avl};
ex.prototype.Sl=function(n){var d=new eG(_.E.EO,!1);d.data={d3:n};this.J(d);var v=this.dQ[n];v.re();
this.dQ.splice(n,1);this.t$.removeChild(v.Fu);this.MI.removeChild(v.ut._);v.Fu.className="";v.ut.removeEventListener("click",this.az7,this);
v.ut._7();v.removeEventListener("activate",this.ahT);v.removeEventListener(_.E.EO,this.aes);var t=this.Y2;
if(n<t)t--;else if(n==t&&n==this.dQ.length)t--;if(this.sC)this._g(t);if(this.dQ.length==0)this.aiN()};
ex.prototype.aMX=function(){return this.dQ.length};ex.prototype.vd=function(){if(this.dQ.length!=0)this.dQ[this.Y2].vd()};
ex.prototype._g=function(d,v){if(v==null)v=!0;for(var n=0;n<this.dQ.length;n++)this.dQ[n].Fu.className="";
if(this.vM)this.Ma.removeChild(this.vM);this.vM=null;this.Y2=d;if(d==-1)return;var t=this.dQ[this.Y2];
this.vM=t.jz;this.Ma.appendChild(t.jz);t.Fu.className="active";if(!this.sC){this.J(new eG("showFloat"));
this.dQ[d].ut.sW()}if(v)this.J(new eG(_.E.w,!1));t.dh();var h=this.afZ._;if(h.parentNode)this.t$.removeChild(h);
if(t.s3())this.t$.appendChild(h);var X=new eG(_.E.c,!0);X.data={R:_.Y.$Z};this.J(X)};ex.prototype.ahT=function(d){if(this.cg&&!this.cg.a3D())return;
var n=this.dQ.indexOf(d.currentTarget);this._g(n)};ex.prototype.aes=function(d){var v=this.dQ.indexOf(d.currentTarget);
if(d.data!=null){for(var n=this.dQ.length-1;n>=0;n--){var t=this.dQ[n];if(d.data==1&&n==v)continue;t.vd()}return}if(this.cg&&!this.cg.a3D())return;
this.Sl(v)};ex.prototype.az7=function(d){var v=this.dQ.indexOf(d.currentTarget.parent);if(this.dQ[v].ut.f2())this.J(new eG("hideFloat"));
else this._g(v)};ex.prototype.ati=function(d){this.J(d)};function f0(d){ex.call(this,d);this.F0=0;this.uV=0;
u.KP(this.t$,this.apC.bind(this));this.sV=0;this.mP=-2;this.aGj=this.avx.bind(this);this.Y1(this.Ma);
this.yq=["default;"];this.ZF=new u.CR(this.Ma);this.Y8=new aX(!0);this.Y8.parent=this;this.p5=this.Y8._;
aX.e7(this.Y8)}f0.prototype=new ex;f0.prototype.apC=function(d){if(d.target!=this.t$)return;var v=Date.now()-this.sV<300&&this.mP==-1;
this.sV=Date.now();this.mP=-1;if(!v)return;var t=new eG(_.E.c,!0);t.data={R:_.Y.S8,cG:"newproject"};
this.J(t)};f0.prototype.a$=function(d,v){if(v)this.yq.push(d);else{var t=this.yq.length-1;if(this.yq[t]==d)return;
this.yq[t]=d}this.lC()};f0.prototype.al5=function(){this.yq.pop();this.lC()};f0.prototype.lC=function(){var d=this.yq[this.yq.length-1];
this.ZF.dn(d,this.ef)};f0.prototype.sq=function(d,v){ex.prototype.sq.call(this,d,v);this.Y8.sq(d,v);
if(!d.PS){}};f0.prototype.H=function(){ex.prototype.H.call(this);this.Y8.H()};f0.prototype.dn=function(d,v){for(var n=0;
n<v.length;n++){var t=v[n];this.dQ[n].vJ(t.name+(t.depth==8?"":" (RGB/"+t.depth+")")+(t.IY()?" *":""))}ex.prototype.dn.call(this,d,v)};
f0.prototype.De=function(){return this.p5};f0.prototype.K$=function(d,v){if(this.dQ.length==0)v+=ex.pu-1;
this.F0=d;this.uV=v;v=ex.prototype.K$.call(this,d,v);this.ef="height:"+v+"px; width:"+d+"px; overflow:hidden; position:relative;";
this.lC();this.Y8.K$(d,v)};f0.prototype.hS=function(d){ex.prototype.hS.call(this,d);d.Fu.addEventListener("click",this.aGj,!1)};
f0.prototype.Sl=function(n){var d=this.dQ[n];u.mc(d.Fu,this.aGj);ex.prototype.Sl.call(this,n)};f0.prototype.avx=function(d){var v=this.ahM(d.currentTarget),t=Date.now()-this.sV<300&&this.mP==v;
this.sV=Date.now();this.mP=v;if(!t)return;var h=this.dQ[v].Vr.name,X=new eG(_.E.c,!0),g={g:_.E.F,T:A.EM,d:{R:jn.Rm}};
X.data={R:_.Y.S8,cG:"namewindow",Mo:h.slice(0,h.length-4),H5:g};this.J(X)};function ct(d){hm.call(this);
if(d)return;fW.a7i(1);this._=u.q("div","flexrow app");this.iR=u.q("div");this._.appendChild(this.iR);
setTimeout(function(){var t=window.hideCap;if(t)t()},25e3);this.Xs=new cQ;window.addEventListener("blur",function(t){this.Xs.reset()}.bind(this),!1);
window.addEventListener("resize",this.jh.bind(this),!1);var v=this.iR;this.Rf=new kX;this.Rf.parent=this;
v.appendChild(this.Rf._);this.uv=new gu;this.uv.parent=this;v.appendChild(this.uv._);this.$0=new ht(!0);
this.$0.parent=this;v.appendChild(this.$0._);this.P(_.E.c,this.vo,this);this.Xb=this.fr.bind(this);window.requestAnimationFrame(this.Xb)}ct.prototype=new hm;
ct.prototype.fr=function(d){this.ju();window.requestAnimationFrame(this.Xb)};ct.prototype.H=function(){};
ct.prototype.jh=function(d){var v=window.innerWidth,t=window.innerHeight;this.K$(v,t)};ct.prototype.K$=function(d,v){this.uv.K$(d,v);
this.Rf.K$(d,v)};ct.prototype.vo=function(d){var v=d.data.R;if(v==_.Y.Vw)this.uv.aiA(d.data);if(v==_.Y.l6)this.uv.aCA(d.data);
if(v==_.Y.Wq)this.uv.aOA(d.data.jH);if(v==_.Y.DQ)this.uv.abI(d.data.jH);if(v==_.Y.NK)this.uv.ym()};function az(){ct.call(this);
this.NT={x:0,y:0,n2:!1};this.WA=!1;this.E0=!1;this.axR=null;this.auL=0;this.aiH=!1;this.lI=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(U){if(Storage.agJ(U.source))return;if(U.data instanceof ArrayBuffer){var l=b3.IF(U.data),L=b3.bV(l);
dY.o_({url:"file"},U.data,this);if(L==null)this.bI()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var j=U.data.split(" ").pop();
j=j.length==0?[]:j.split(",");var O=new eG(_.E.c,!0);O.data={R:_.Y.Kf,Ic:lx.gp,VE:j};this.J(O)}else if(U.data.startsWith("--ot ")){if(this.Rf.d4())this.Rf.d4().close();
this.M_.vL(U.data.split(" ").pop())}else if(U.data.startsWith("--et ")){}else{var O=new eG(_.E.c,!0);
O.data={R:_.Y.z7,uq:U.data};this.J(O);this.bI()}}.bind(this);window.onbeforeunload=function(U){this.afq();
for(var n=0;n<this.n0.length;n++)if(this.n0[n].IY()){return this.n0[n].name}}.bind(this);if(j8==0&&!li.IO())window.setInterval(this.azI.bind(this),5*60*1e3);
var d=this;if(window.indexedDB){var v={fK:window.indexedDB.open("pp",1)};v.fK.onupgradeneeded=function(U){var l=U.target.result,L=l.createObjectStore("rsrc",{keyPath:"k"})};
v.fK.onsuccess=function(U){var l=d.n.pP._v=U.target.result,L=l.transaction(["rsrc"],"readwrite").objectStore("rsrc"),j=L.get("fs0");
j.onsuccess=function(U){if(U.target.result){var i=d.n.pP.Y0=U.target.result.fset;for(var $ in i){if(!$.endsWith(".jsx")&&!$.endsWith(".p"+"sd"))dY.o_({url:$,a6A:!0},i[$],d);
var H=$.split(".").pop(),b="";for(var r in lx.HL)if(lx.HL[r][0]==H)b=r;if(lx.dC[b]&&!$.startsWith("_all_"))delete i[$]}}};
var O=new BroadcastChannel("pp-tabs"),F=[];O.onmessage=function(U){if(U.data=="id")O.postMessage(d.n.pP.id);
else F.push(U.data)};O.postMessage("id");setTimeout(function(){var L=l.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=L.getAllKeys();
i.onsuccess=function(){var $=i.result,H=[],b=0;for(var n=0;n<$.length;n++){if($[n]=="fs0")continue;if(F.indexOf($[n])!=-1)continue;
H.push($[n])}for(var n=0;n<H.length;n++){var j=L.get(H[n]);j.onsuccess=function(U){if(U.target.result){var r=U.target.result.fset;
for(var W in r){try{dY.o_({url:W,a6A:!0},r[W],d);var V=d.c6();V.QJ=V.aoC=-1;alert("We have recovered an unsaved document.",5e3)}catch(U){console.log(U)}}b++;
if(b==H.length)for(var n=0;n<H.length;n++){var j=L.delete(H[n])}}}}}},200)}}var t="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr x$')61Q9? x$')61Q6899A;".split(" "),h=u.hm[f4.OU][f4.awT];
if(h==null)h=[u.hm[f4.rK][f4.gv]];for(var X=0;X<h.length;X++){var g=h[X];for(var n=0;n<t.length;n++){var x=u.RI(t[n]);
if(g.indexOf(x)!=-1){var Z=u.hm[f4.rK][f4.Ma],Y=f4.Rb("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
u.Pl(Z);Z[f4.aNR]=Y;return}}}this.B5=az.aKY();this.n={B5:this.B5,au1:!1,tN:null,mB:0,LG:{ku:[],Qt:[],list:[],fh:null},i5:[],aN:[],auR:[],tZ:[],ff:[],tQ:[],Da:[],aiL:[],a7C:[],aMv:[],tQ:[],qI:[g4.yu()],Fw:[],TK:[],tx:null,Co:0,S0:1-j8,J1:kV.J1.yu(),aFi:kV.J1.yu(),my:{Ci:1,hn:f.v(kV.Em[0])},jj:kV.UY.yu(),aD3:[null].concat(kV.Em),a4T:[null].concat(kV.Em),FP:new fy(function(U){var l=new eG(_.E.c,!0);
l.data={R:_.Y.PE,Ic:{url:iP.nv("rsrc/fonts/"+U)}};this.J(l)}.bind(this)),Jh:{_G:[],Uy:null,eE:null},font:null,KL:[],Mc:[],aEZ:{},Sw:0,dL:16777215,Na:!1,N$:!0,rp:{MQ:!0,iN:!1,Oc:!0,S5:!0,Nz:!0,Wc:!0,H9:20,vX:0,Tr:1,d6:0,fs:0,iV:0,M0:8421504,tF:65535,rs:33023},lX:!0,Hs:[!0,!0,!1,!0,!0],NL:f1.Te(),O5:1,wQ:!0,cE:{},PS:!0,aeY:!1,compact:!1,ah6:1,WP:0,p5:!0,sJ:{},VZ:null,pP:{id:"ts"+Math.round(Math.random()*16777215),ax7:!1,aBM:!1,Y0:{},h3:{},_v:null},asR:0,aEu:null,H4:null,ap$:null,JP:null};
fy.nL.B3(this);this.agZ={BS:new iW,jX:new cK};this.n.Jh=jM.apm();this.iv=new c7;this.H$=new h1;this.My=new fk;
this.Bx=new hw;this.SG=new iM(this.B5,!0);this.WN=new kS;this.XI=new f0(this);this.uQ=u.q("div");this.Re=!1;
this.aGc=this.abP.bind(this);u.M3(this.XI._,"mainblock");this.$0.parent=this.iv.parent=this.H$.parent=this.SG.parent=this.WN.parent=this.XI.parent=this;
this.XI.P(_.E.w,this.rq,this);this.XI.P(_.E.EO,this.a0A,this);this.XI.P("shuffleItems",this.aps,this);
this.XI.P(_.E.ad1,this.aqp,this);this.P("mouse",this.aJ3,this);this.P(_.E.F,this.Oh,this);this.P(_.E.U0,this.aEe,this);
document.body.addEventListener("keydown",this.f8.bind(this),!1);window.addEventListener("keyup",this.o0.bind(this),!1);
window.addEventListener("paste",this.aMA.bind(this),!1);window.addEventListener("copy",this.a1N.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.n.VZ=U}.bind(this));this.a5J=0;this.n0=[];this.M_=new dY(jN.o_);this.M_.parent=this;var a=this.iR,z=this.eK=u.q("div");
z.appendChild(this.iv._);z.appendChild(this.H$._);this.$0.aGw(z);var p=this.atB=u.q("div","flexrow");
a.appendChild(p);p.appendChild(this.SG._);p.appendChild(this.XI._);p.appendChild(this.WN._);if(j8==0||j8==1)this.M_.W7({url:iP.$j("rsrc/basic/basic.zip")});
if(j8==2)this.M_.W7({url:iP.nv("rsrc/sf2/MagicSF.zip")});this.qn(j8==0?A.Xc:A.Xc);iP.B3(this.aE$.bind(this));
if(this.jp())return;if(j8==0){iP.event("web_PPea",.01);var g=u.hm[f4.rK][f4.gv];if(g=="")g="di"+"rect";
g=g.split("//").pop();if(g.startsWith("w"+"ww."))g=g.slice(4);if(g.endsWith("/"))g=g.slice(0,-1);if(g.startsWith("go"+"ogle."))g="go"+"ogle.com";
if(g.startsWith("baidu.com"))g="baidu.com";if(g.startsWith("photopea.com/templates"))g="photopea.com/templates";
if(g.startsWith("photopea.com/tuts"))g="photopea.com/tuts";if(g.endsWith("search.yahoo.com"))g="search.yahoo.com";
if(g.endsWith("gradio.live"))g="gradio.live";if(g.endsWith("proxy.ru"))g="proxy.ru";if(g.length>28&&g.indexOf("/")!=-1)g=g.split("/")[0];
if(g.length>28)g=g.split(".").slice(1).join(".");if(g.length>28)g=g.split(".").slice(1).join(".");if(g.length>28)g=g.slice(g.length-28);
if(li.IO()){iP.event("i"+"fr_"+g,.01,1)}else iP.event("r"+"ef_"+g,.01,1)}if(j8==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea");
if(j8==2)fetch("//www.photopea.com/papi/event.php?id=web_JPea")}az.prototype=new ct(!0);az.prototype.bI=function(d){var v=new eG(_.E.c);
v.data={R:_.Y.hy,Ic:d?d:"done"};this.J(v)};az.prototype.azI=function(){var d=this.n.pP,t=!1;if(d._v==null)return;
var v=this.n0;for(var n=0;n<v.length;n++){var h=v[n];if(h.aoC!=h.UG&&h.depth==8){var X=Date.now(),g=b3.vg(h,"psd",0,0,[!0,!1,!0,!1,!0]);
h.aoC=h.UG;d.h3[h.name]=g;t=!0;console.log(Date.now()-X,"saving "+h.name,g.byteLength)}}if(t){var x=new eG(_.E.c);
x.data={R:_.Y.Kf,Ic:lx.$f,aDY:!0};this.J(x)}};az.prototype.aE$=function(){u.hm[f4.kC](this.a2F.bind(this),Math.pow(Math.PI,8)+u.hm[f4.aFR][f4.a8A]()*1e4);
var d=iP.Yp();if(d!=null&&d.globals!=null&&j8<2)this.xk(d.globals);else{this.aiH=!0;var v=f7.aGE();if(v&&v.length!=0){var t=v[0];
f7.aMM(t,this.aGc)}}if(!this.jp()){var h=u.aGT();if(h==0)this.aeY=!0;if(h==2)this.n.PS=!1;if(h!=1&&Math.random()<.002)u.aIR()}if(!li.IO()||!this.n.PS){this.axw();
this.sv()}else{var X=u.lZ(u.hm[f4.dd]);X[f4.Au](f4.rj,this.apj.bind(this));var g=u.Rb("_MYOqDLGJa;A:6");
if(j8!=0)g=f4.RI("@C/25N4/9A?C;:iBQRv")+g;X[f4.aK](u.Rb("61="),g);X[f4.wJ]()}this.WA=!0;this.bI();var x=new eG(_.E.c);
x.data={R:_.Y.S8,cG:"peamark",Cm:4,index:[10,0]}};az.prototype.apj=function(d){var v=JSON.parse(d.target[f4.KX]),t=u.hm[f4.afK][f4.aq4]()/1e3,h=u.hm[f4.rK][f4.gv],X=!1;
for(var g in v)if(g.indexOf(".")!=-1&&h.indexOf(g)!=-1&&parseInt(v[g])>t)X=!0;if(X)this.n.PS=!1;this.axw();
this.sv();if(h==""){if(this.n.PS){alert(f4.Rb("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};az.prototype.sv=function(d){this.E0=!0;
if(!this.n.p5)this.XI.p5=null;else if(this.n0.length==0)this.XI.aiN();this.HV(lx.Np);this.H();this.jh();
this.WN.dn(this.c6(),this.n0,this.n)};az.prototype.xk=function(d){var v=this.n;if(d.fc!=null){v.Sw=d.fc;
var t=v.Jh.Uy.FillColor;if(t){var h=f.le(v.Sw);t.Values=[1,h.C/255,h.L/255,h.X/255]}}if(d.bc!=null)v.dL=d.bc;
if(d.ru!=null)v.Na=d.ru==1;if(d.ex!=null)v.N$=d.ex==1;if(d.favFam!=null)v.KL=d.favFam;if(d.ff!=null)v.KL=d.ff.split(",");
if(d.rsrc!=null)v.Mc=d.rsrc;if(d.rs!=null)v.Mc=d.rs.split(",");if(d.fo!=null)v.Jh._G[0].Name=d.fo;if(d.panels!=null)v.NL=d.panels;
if(d.pd!=null)v.NL=f1.aMm(d.pd);if(d.as!=null)v.ah6=d.as;if(d.co!=null){v.WP=d.co;if(v.WP!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var X=d.ep?d.ep:d.eparams;
if(X){var g=v.rp;if(X.guides!=null)g.MQ=X.guides;if(X.grid!=null)g.iN=X.grid;if(X.gsize!=null)g.H9=X.gsize;
if(X.gunits!=null)g.d6=X.gunits;if(X.gtype!=null)g.fs=X.gtype;if(X.runits!=null)g.iV=X.runits;if(X.gcol!=null)g.M0=X.gcol;
if(X.gucol!=null)g.tF=X.gucol;if(X.glcol!=null)g.rs=X.glcol;if(X.sels!=null)g.Oc=X.sels;if(X.paths!=null)g.S5=X.paths;
if(X.pgrid!=null)g.Nz=X.pgrid;if(X.slices!=null)g.Wc=X.slices;if(X.gc!=null)g.M0=X.gc;if(X.uc!=null)g.tF=X.uc;
if(X.lc!=null)g.rs=X.lc;if(X.gs!=null)g.H9=X.gs;if(X.gv!=null)g.vX=X.gv;if(X.gn!=null)g.Tr=X.gn;if(X.gu!=null)g.d6=X.gu;
if(X.gt!=null)g.fs=X.gt;if(X.ru!=null)g.iV=X.ru;if(X.gr!=null)g.iN=X.gr==1;if(X.gd!=null)g.MQ=X.gd==1;
if(X.se!=null)g.Oc=X.se==1;if(X.pa!=null)g.S5=X.pa==1;if(X.pg!=null)g.Nz=X.pg==1;if(X.sl!=null)g.Wc=X.sl==1}if(d.lang!=null)f7.aMM(d.lang,this.aGc);
if(d.theme!=null)v.O5=d.theme;if(d.to){var x=d.to;for(var n=0;n<x.length;n+=2){var Z=this.B5.map[x[n]];
if(Z)Z.T.Ad(x[n+1],null,this)}}if(d.topt||v.a1k){var Y=d.topt?d.topt:{},a=v.a1k?v.a1k:{};for(var z in this.B5.map){if(z>=103)continue;
var p="t"+z;if(Y[p]||a[p])this.B5.map[z].T.Ad(Y[p],a[p],this)}}};az.prototype.axw=function(){if(this.n.au1)return;
this.n.au1=!0;var d=null,v=window.location.href,t=v.indexOf("="),h=v.indexOf("#");if(t!=-1)d=v.substring(v.indexOf("?")+1,t);
if(h!=-1&&h!=v.length-1){d="p";t=h}if(h!=-1&&v[h+1]=="i"){this.M_.vL(v.slice(h+2,h+10))}else if(h!=-1&&v[h+1]=="m"){var X=b3.CP(v.slice(h+2)),g=new hc;
g.name="song.mid";b3.aP.CE(X,g);this.Ac(g)}else if(h!=-1&&v[h+1]=="o"){var x=new eG(_.E.c,!0),v="https://onlinesequencer.net/app/api/get_proto.php?id="+v.slice(h+3);
x.data={R:_.Y.PE,Ic:{url:v,N7:!0}};this.J(x)}else if(v.slice(h+1).startsWith("audit")){}else if(v.slice(h+1).startsWith("aifrw")){}else if(v.slice(h+1).startsWith("nocdn")){}else if(v.slice(h+1).startsWith("goog_rewarded")){}else if(h!=-1&&v[h+1]=="t"){this.M_.vL(v.slice(h+2,h+10).split("").reverse().join(""))}else if(d=="p"||d=="state"){var Z=v.substring(t+1,v.length);
Z=JSON.parse(decodeURIComponent(Z));if(d=="p"){var Y=Z.apis,a=this.n;if(Y){if(Y.rmbg)a.sJ.aGn=Y.rmbg;
if(Y.dezgo)a.sJ.aG8=Y.dezgo}if(Z.script=="alert(73)")this.n.PS=!1;if(Z.script)cl.azl(this);if(Z.server)this.axR=Z.server;
if(Z.resources)for(var n=0;n<Z.resources.length;n++)this.M_.W7({url:Z.resources[n]});if(Z.files)for(var n=0;
n<Z.files.length;n++)this.M_.W7({url:Z.files[n],QS:{aH:Z.server,ap0:Z.script}});var z=Z.environment;
if(z==null)z={};if(z.plugins!=null)this.WN.af_(z.plugins);if(z.localsave!=null)this.n.wQ=z.localsave;
if(z.customIO!=null)this.n.cE=z.customIO;if(z.vmode!=null){var p=z.vmode;if(p==1)this.n.compact=!0;if(p==2)this.aDo=!0}if(z.intro!=null&&!this.n.PS)this.n.p5=z.intro;
if(z.menus!=null)this.n.avi=z.menus;if(z.tmnu!=null)this.n.a1k=z.tmnu;if(z.panels!=null)this.n.NL=z.panels;
if(z.showtools!=null){var U=z.showtools,l=U.indexOf(this.n.tN);this.n.X_=U;if(l==-1)this.qn(U[0])}if(z.phrases!=null)f7.as3(z.phrases);
if(z.autosave!=null){this.n.ah6=0;window.setInterval(function(){var O=new eG(_.E.c);O.data={R:_.Y.Qk};
this.J(O)}.bind(this),z.autosave*1e3)}if(z.icons!=null){for(var L in z.icons)if(z.icons[L].indexOf("\"")==-1){if((L==f4.ard||L==f4.aEJ)&&this.n.PS)continue;
PIMG[L]=z.icons[L];PIMG["__"+L]=!0}}this.xk(z);if(Z.files==null&&Z.script){c1.JG(Z.script,this);this.bI()}}else if(d=="state"){var j=this.M_;
if(Z.action=="create"){var O=new eG(_.E.c);O.data={R:_.Y.S8,cG:"newproject",aOe:Z.folderId};this.J(O)}if(Z.action=="open"){for(var n=0;
n<Z.ids.length;n++)je.tK(function(){var i="https://www.googleapis.com/drive/v3/files/"+this.acb,$=new XMLHttpRequest;
$.open("GET",i);$.setRequestHeader("Authorization",je.afY());$.send();$.onload=function(H){var b=JSON.parse(H.target.response);
j.W7({url:i+"?alt=media",name:b.name,S3:{file:b,nF:""},adr:{Authorization:je.afY()}})}}.bind({acb:Z.ids[n]}));
alert("Loading files from Google Drive ...")}}}else{var F=window.launchQueue;if(F){var j=this.M_;F.setConsumer(function(i){var $=i.files,H=[];
for(var n=0;n<$.length;n++){var b=$[n];b.getFile().then(function(r){H.push(r);if(H.length==$.length)j.Bc(H,null,null,null,$)})}})}}};
az.prototype.H=function(){var d=null;if(d){var v=!1,t=d.getElementsByTagName("h1")[0],g=0,Z=0,Y=0;t.textContent="Free Online Photo Editor";
var h=d.getElementsByTagName("p"),X="Photopea: "+u.NW(f7.get([0,17,1])),x=["PSD","AI","PDF","SVG","CDR"];
for(var n=0;n<x.length;n++)X=X.replace(x[n],"<b>"+x[n]+"</b>");if(!v)X+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
h[0].innerHTML=X;X=f7.get([0,17,2])+" "+f7.get([0,17,3]);for(var n=0;n<X.length;n++){var a=X[n];if(a=="<")Z++;
if(a==">")Y++}if(!v&&Z*Y==9){var z=["//github.com/photopea/"+["photo","vector"][j8]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var n=0;n<3;n++){var p=X.indexOf("<",g),U=X.indexOf(">",g),l=X.slice(0,p)+"<a href=\""+z[n]+"\" target=\"_blank\">"+X.slice(p+1,U)+"</a>";
g=l.length;X=l+X.slice(U+1)}h[1].innerHTML=X}else h[1].innerHTML=f7.get([0,17,2])}this.$0.H();this.iv.H();
this.My.H();this.Bx.H();this.WN.H();this.SG.H();this.Rf.H();this.XI.H();for(var L in this.B5.map)if(this.B5.map[L].Dc)this.B5.map[L].Dc.H()};
az.prototype.jp=function(){if(li.Oy())return!0;if(window.location.href.indexOf("aifrw")!=-1)return!1;
return!0};az.prototype.K$=function(d,v){d=Math.floor(d);v=Math.floor(v);var t=u.Rb("WUMK&AM"),h=f4.RG,X=u.hm[f4.rK],g=Math.max(d,window.screen.width),x=Math.max(v,window.screen.height),l=0;
if(li.fS==null){li.fS=Math.min(g,x)<500||g<750?0:g<1500?1:2}var Z=li.fS,Y=!this.E0||this.jp()||!this.n.PS||iP.yU()||u.Ld()==f4.Rb("eQLZRRM?8a4=8")||u.Ld()==f4.Rb("YMVVHAj=FA");
if(!Y&&li.IO()){if(this.aI0==null)this.aI0=Math.random()<.5;Y=this.aI0}if(li.IO()){var a=window.location.ancestorOrigins;
if(a==null)a=[document.referrer];console.log(a)}if(Y){if(Z!=0&&u.hm[t]&&this.E0)u.hm[t]()}else{if(Z==0)v-=84;
else d-=Z==1?180:320}ct.prototype.K$.call(this,d,v);if(Y&&this.Re){var z=Z==0?X[f4.Ma]:this._;z[f4.aJl](this.uQ);
u.Pl(this.uQ);this.Re=!1}if(!Y&&!this.Re){var p=function(O){u.hm[f4.kC](function(){var F=new eG(_.E.c);
F.data={R:_.Y.S8,cG:f4.Rb("QZXZLFV")};if(j8==0&&li.x4()&&!iP.yU())this.J(F)}.bind(this),14720+Math.random()*46351);
if(Math.random()<.002){if(j8==0&&li.x4())iP.event("gota_0")}if(j8==0&&O)u.hm.___a=!0;this.aa4(d,v);var z=Z==0?X[f4.Ma]:this._;
z.appendChild(this.uQ);this.uQ[f4.V1](h,u.Rb("_MMJLNDfKCAg")+(Z==0?10:10)+u.Rb("_d$ebOS?I:==Ba-+# }$M"));
this.uQ[h][u.Rb("_MMJLND&<:E")]=(Z==0?0:19)+u.Rb("_d");this.uQ[h][u.Rb("i5WJHX")]=Z==0?0:1}.bind(this);
function U(){li.a0R(p)}setTimeout(U,2800);this.Re=!0}if(u.al(this.iv._))l+=31;if(u.al(this.H$._))l+=32;
this.$0.a3O=this.n.PS&&this.E0;this.$0.K$(d,l);var L=v-l,j=u.Rb("_d");this.uQ[h][f4.aqg]=(Z==0?100>>>1:v-11)+j;
this.uQ[h][f4.a5E]=(Z==0?d:6*Math.pow(10,2))+j;if(u.al(this.SG._))this.SG.K$(d,L);this.WN.K$(d,L);this.XI.K$(d-this.SG.KM()-this.WN.KM(),L)};
az.prototype.aa4=function(d,v){var t=function(){var h=new eG(_.E.c);h.data={R:_.Y.S8,cG:"account"};this.J(h)}.bind(this);
li.aK0(d,v,this.uQ,t)};az.prototype.a1N=function(d){console.log("systemCopy")};az.prototype.aMA=function(d){if(u.bk())return;
console.log("systemPaste");if(!d.clipboardData)return;var v=d.target.tagName.toLowerCase(),t=d.clipboardData.items;
if(t==null)return;var h=this.a6E.bind(this);for(var n=0;n<t.length;n++){var X=t[n],g=X.getAsFile();if(X.type.indexOf("image")!=-1){if(g.size==this.n.asR)return;
this.n.asR=g.size;if(g){g.name="image.png";this.M_.Bc([g],h)}}}};az.prototype.a6E=function(d,v){var t={buffer:d,S:v},h=this.n;
if(u.bk()){var X=this.agZ,g=X.BS;if(g.r==v.r&&g.$==v.$){t.S=g;t.jX=X.jX}}else{if(h.H4){var x=new eG(_.E.F,!0);
x.T=A.Hh;x.data={R:"h_stepbck"};this.J(x)}}h.H4=t;var x=new eG(_.E.c,!0);x.data={R:_.Y.me,apJ:!0};this.J(x)};
az.prototype.aIF=function(){if(this.Rf.d4()!=null)alert(f7.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
az.prototype.Oh=function(d){var v=this.c6();if(v==null){alert(f7.get([15,7,7]));return}var t=d.T==A.MD||d.T==A.CK;
if(this.Rf.Ht()&&d.Mw!=!0&&!t){this.aIF();return}var h=this.B5,X=this.n.tN,g=d.T;if(g==A.uW&&X==A.TH)g=A.TH;
if(X!=g&&h.map[X].T.Ht()&&!t&&!((X==A.IH||X==A.w0||X==A.rX)&&g==A.bH)){console.log("disabling",X);h.map[X].T.disable(v,this,this.n,this.Xs)}if(g!=A.MD&&g!=A.CK)v.qi(!0);
var x=this.B5.map[g].T;x.Oh(d.data,this,v,this.Xs,this.n)};az.prototype.aEe=function(d){var v=this.n;
if(d.data._n!=!0)kl.aqQ({oN:d.data.oN,mQ:d.data.mQ},this,v,this.c6());var t=v.tx,h=v.TK;if(t==null||d.data.a8y)return;
var X={an$:!1,Ry:"Step",apo:0,f:!0,exp:!1,oN:d.data.oN};if(t[2]==null)t[2]=h[t[0]].Yx[t[1]].Yx.length-1;
if(d.data.mQ)X.mQ=d.data.mQ;h[t[0]].Yx[t[1]].Yx.splice(t[2]+1,0,X);t[2]++;this.HV(lx.F)};az.prototype.vo=function(d){if(this.aeY){d.data=0;
return d.e}var v=d.data&&d.data.R==_.Y.S8&&d.data.cG==f4.alO,t=d.data&&(d.data.R==_.Y.Vw||d.data.R==_.Y.kZ);
if(u.hm.__csrf&&!iP.yU()&&!v&&!t){var h=f4.Rb("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(h,5e3);return}ct.prototype.vo.call(this,d);var X=d.data.R;if(X==_.Y.sc){var g=this.c6();jy.Ad(g,this.n.i5[0]);
if(g.Y.Nn)jy.pause();else{var x=g.z.HB();jy.play(g.add.prvw==1?g.Y.Uf:jG.iE(-g.z.h.x*x.aX,g))}g.Y.Nn=!g.Y.Nn;
g.QW=!0}if(X==_.Y.Ee){var g=this.c6();jy.Ad(g,this.n.i5[0]);jy.aNm(d.data.K,g.U[g.l[0]].Y.jJ)}if(X==_.Y.j4)kl.aop(this.c6(),this.n.TK,d.data.HW[0],d.data.HW[1],this);
if(X==_.Y.aG$){this.akM(d.data.am9)}if(X==_.Y.avd){this.H();this.jh()}if(X==_.Y.$Z)this.jh();if(X==_.Y.Jq)if(this.n.VZ){this.n.VZ.prompt();
this.n.VZ=null}if(X==_.Y.TG)this.XI.a$(d.data.Cn,d.data.push);if(X==_.Y.a26)this.XI.al5();if(X==_.Y.awE)this.rq(null,d.data.dir);
if(X==_.Y.bC)this.XI.Sl(this.n0.indexOf(d.data.Wt?d.data.Wt:this.c6()));if(X==_.Y.oL){var Z=navigator.keyboard;
if(d.data.GH&&Z)Z.lock(["Escape"]);if(d.data.GH&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(d.data.GH)document.body.webkitRequestFullScreen();if(d.data.K!=null)this.pV(d.data.K)}if(X==_.Y.a2e){if(d.data.n2)this.Xs.V8(d.data.atN);
else this.Xs.pS(d.data.atN);this.M6(d.data.n2?"down":"up")}if(X==_.Y.ahu){var Y=d.data.K;this.WN.af_([Y]);
this.H()}if(X==_.Y.m5){var g=this.c6(),a=g.U[g.l[0]],z=new iW(0,0,g.r,g.$),p=g.p?g.p.S.b():z,U=f.m(p.k()*4);
f.wH(g.jP(),z,U,p);var l=hc.HQ()+"-d71c-11e5-b1ae-a548a96e5f9f",L=new eG(_.E.c,!0);if(d.data.Ic==0){var j={name:"Default/"+g.name.split(".")[0],id:l,kv:[U,p]};
L.data={R:_.Y.Kf,QS:"add",Ic:lx.Nt,Mc:[j]};this.J(L)}if(d.data.Ic==1){var O=f.m(p.k()*4);O.fill(255);
f.V.Qe("norm",U,p,O,p,p,1);var F=f.m(p.k());f.TA(O,F);f.zJ(F);var i=f.FY(F,p);if(i.HP())i=p;var $=f.m(i.k());
f.Qb(F,p,$,i);i.x=i.y=0;var H={BS:i,id:l,kv:[$,i]},b=ip.kf(l),r=b.Brsh.v;r.Dmtr.v.val=Math.max(i.r,i.$);
r.Spcn.v.val=10;L.data={R:_.Y.Kf,QS:"add",Ic:lx.nj,Mc:{list:[{t:"Objc",v:b}],Qt:[H],ku:[]}};this.J(L);
L.data={R:_.Y.Kf,Ic:lx.FA,mV:b};this.J(L)}if(d.data.Ic==2){var W=g.V9(),V=W[0][W[1][0]],y={ar:"Default/"+a.getName(),Me:l,D:V.add.vmsk.b().D},c=f.t.ft(y.D),S=new gi(c.r,0,0,c.$,c.x,c.y);
S.zJ();f.t.kh(y.D,S);c.x=c.y=0;y.l7=c.b();L.data={R:_.Y.Kf,QS:"add",Ic:lx.C4,Mc:[y]};this.J(L)}}if(X==_.Y.PE)this.M_.W7(d.data.Ic);
if(X==_.Y.mx){var C=d.data.acK,K=d.data.iy;if(C!=!0&&K!=!0&&this.Fh("open"))return;var T=this.XI.dV();
if(K)T=-1-T;this.M_.apa(C||K?T:null,d.data.afs,d.data.Cr)}if(X==_.Y.t9){var D=lx.HL[d.data.agD],U=this.a8F(d.data.agD,d.data.Bm);
dY.save(U,D[1]+"."+D[0])}if(X==_.Y.RA){var N=this.n.pP,G=d.data.aIZ;if(N._v&&!N.ax7&&!G){N.aBM=window.confirm("Load \""+d.data.cF+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
N.ax7=!0}if((N.aBM||G)&&N._v){N.Y0[d.data.cF]=d.data.Mp;var L=new eG(_.E.c);L.data={R:_.Y.Kf,Ic:lx.$f};
this.J(L)}}if(X==_.Y.axg){var g=this.c6(),q="<!DOCTYPE HTML>";if(g==null)return;var s=b3.Zx(g.jP().buffer,g.r,g.$),Q=window.open();
q+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";q+="<body><img src=\""+s+"\" /></body>";
q+="</html>";Q.document.write(q)}if(X==_.Y.ew){if(this.Fh("publishOnline"))return;var R=d.data.Cm,m=R=="jpg"||R=="png",g=this.c6();
if(g==null)return;if(R=="mid"){var E=b3.aP.V$(g);alert(Math.round(E.byteLength*1.333)+" characters!");
var e="https://www.jampea.com#m"+b3.cq(E),L=new eG(_.E.c);L.data={R:_.Y.S8,cG:"linkview",a7H:e};this.J(L);
return}if(!m&&g.pM)return;var h="Your "+(m?"picture":"document")+" will be published at "+(m?"Imgur":["Photo","Vector"][j8]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!m)h+=" We guarantee 6+ months of storage.";var w=d.data.SM?!0:confirm(h);if(w){if(R=="psd"){var L=new eG(_.E.F,!0);
L.T=A.EM;L.data={R:jn.kt};this.J(L);var M=new iW(0,0,g.r,g.$);for(var n=0;n<g.U.length;n++){var a=g.U[n];
if(a.S.HP()||a.h5()||a._B()||a.sQ()||a.c5()||a.add.TySh||a.add.vmsk||a.add.SoLd)continue;var P=M.hL(a.S);
if(!P.fE(a.S)&&!P.HP()){var I=f.m(P.k()*4);f.wH(a.buffer,a.S,I,P);a.buffer=I;a.S=P}if(!f.p0(a.buffer,a.S.r,a.S.$))continue;
var k=a.ZC(),o=a.JS,af=a.uF,J=a.cD;a.fF(!0);a.JS=255;a.uF="norm";g.l=[n];L.data={R:jn.fD,Cm:"jpg"};this.J(L);
var at=g.U[n];a.fF(k);at.fF(k);a.JS=at.JS=o;a.uF=at.uF=af,a.cD=at.cD=J}}if(g.FV){g.Yn()}var ke=g.r,c_=g.$,ag=d.data.aux,dz;
if(ag)while(Math.max(ke,c_)>ag){ke=ke>>>1;c_=c_>>>1}console.log(ke,c_);if(R=="psd")dz=b3.vg(g,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(R=="ai")dz=b3.vg(g,"ai");else if(R=="png")dz=b3.vg(g,"png",ke,c_);else{var kL=b3.vg(g,"png",ke,c_),aq=b3.vg(g,"jpg",ke,c_);
dz=kL.byteLength<aq.byteLength?kL:aq}var dh=d.data.SM;if(dh==null)dh=function(e){var jl=m?e:"https://www."+["photo","vector"][j8]+"pea.com/#i"+e,L=new eG(_.E.c);
L.data={R:_.Y.S8,cG:"linkview",a7H:jl};this.J(L);iP.event("share_"+R)}.bind(this);if(m)dY.az6(dz,dh);
else this.M_.ag8(dz,g.name,dh,"psdshared")}}if(X==_.Y.Qk){var g=this.c6(),gK=!1;if(g==null)return;if(g.FV){g.Yn()}var ad=this.H8();
if(ad.Ht())ad.disable(g,this,this.n,this.Xs);if(d.data.ajo){if(!this.HS(g,d.data.ajo))return;var U=jN.aES(g,d.data.ajo,this.n);
this.bI(U);gK=!0}else if(g.II){if(this.n0.indexOf(g.II.tq)!=-1){var U=new Uint8Array(b3.bV("PSD").V$(g,null,null,[!0,!1])),L=new eG(_.E.F,!0);
L.data={R:jn.El,Vr:g.II.tq,data:U,id:g.II.aaz,Ps:g.name};L.T=A.EM;this.J(L);alert("Smart Object updated")}gK=!0}else if(this.Fh("save")){gK=!0;
if(li.Oy())alert("File Saved.");if(li.Oy()&&!iP.yU()){var L=new eG(_.E.c,!0),h=f4.Rb("+\\hYWYI?sU=79-Q*$% }'I>ns> j[i[Z\\w\\TRxkZsn261ds-#{+y=.nwsuh`^hrcbZWSSRDF<QD?IaQ\"&!TOr 9E[jrcwEdTYR[Pk\\SFIP1,6D] ;,*,{qF(foiii.Z\\SMWKS]XJ4B4/;`B||$u y-(mtdb6w\"~ewJSNlK@DF><.'&/*H*(q\" z325.-,$\"!~v{tlnilhb\\Ibs$)(,w/NjingoilbUmbQYJ^+'zRrxrin\\L{U4!!+}xg~pa[rQZKaMOEZs6QB@B2(\\>|&   Dpricmaisn`JXJEQvX33:,60C>$+zxL.85{.`id#aVZ\\TRD=<E@^@>(861IHJG??::6/32*'$~~z|t_x%698/Hw(0)zyx0ayvp=-\\6t,w(wV!_\\u;=GM><>.$X:*w(!6goidh1WV\\_MWc|wO?75<I:8:* T6)wo|m<7,}1rXRSNLUw<MIAiMH384\"}6  |z'evrjhaSh*%YRUO=<SD@.dF+,#G|\"p!|4pp1{vhj^P%fXH@>Ea==]Ha\\L1!xv}ID4fhr7"),dc=f4.Rb(";QJXQ_*II9"),lq=function(){L.data={R:_.Y.S8,cG:"account"};
this.J(L)}.bind(this);L.data={R:_.Y.S8,cG:f4.N1,K:h,No:lq,ay$:dc,af7:!0};this.J(L)}}else if(g.S3){jN.afy(g);
gK=!0}else if(g._4){if(g._4[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var hn=jN.aeV(g);
if(hn==1){alert("Already saving another file. Try again later.");return}gK=!0}else if(g.QS&&g.QS.aH){if(!this.HS(g,g.QS.aH.formats))return;
this.M_.a4C(g,this.n,jN.afb);gK=!0}else if(g.l2&&(j8==0&&b3.ji.indexOf(g.P8)!=-1||j8==1&&b3.ayx.indexOf(g.P8)!=-1||j8==2&&g.P8=="mid")){this.aJD();
return}if(gK){g.Ia()}else{var L=new eG(_.E.c,!0);L.data={R:_.Y.kZ};this.J(L)}}if(X==_.Y.kZ){if(!this.n.wQ){alert("function is disabled");
return}if(this.Fh("saveAsPSD"))return;var g=this.c6();if(g==null)return;if(!this.HS(g))return;var L=new eG(_.E.F,!0);
L.data={R:jn.kt};L.T=A.EM;this.J(L);var dF=g.U.length,c3="Your document has "+g.U.length+" layers.";
if(dF>1<<15){alert(c3+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(dF>8e3&&!confirm(c3+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var i8={k1:[]};g.root.a0$([],i8);var dr=i8.k1;if(dr.length>11&&!confirm("One layer is nested "+(dr.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+dr.join(" \uD83E\uDC1A ")+"."))return;
var jO=g.name.split(".");jO.pop();jO=jO.join(".")+[".psd",".ai",".mid"][j8];var d1=window.showSaveFilePicker;
if(window.parent!=window)d1=null;if(d1&&!d.data.arf){var h3={suggestedName:jO,types:[{description:["PSD","AI","MID"][j8]+" Files",accept:[{"image/psd":[".p"+"sd"]},{"application/pdf":[".ai"]},{"audio/midi":[".mid"]}].APP}]};
d1(h3).then(function(d){g.l2=d;g.name=d.name;g.zs=!0;g.P8="psd";this.aJD()}.bind(this));return}var d5=window.gtag;
if(g.s9()&&d5)d5("event",g.P8+":"+u.RI(iP.yU()?"\"'|('61":"w'| "),{event_category:"Formats"});if(g.FV){g.Yn()}var em=["PSD","AI","MID"][j8],fl=b3.bV(em);
iP.event("efmt_"+em.toLowerCase(),.1);if(d.data.arf){var U=g.P8=="psd"?fl.V$(g):jN.ap(g,g.P8,this.n);
this.ai8(U,g,this)}else{var U=fl.V$(g);dY.save(U,jO);g.Ia(!0)}}if(X==_.Y.t7)window.open(d.data.link,"_blank");
if(X==_.Y.eW){if(this.Rf.Ht()){this.aIF();return}var g=this.c6(),a=g.U[g.l[0]],Y=g.u7(a.add.SoLd.Idnt.v);
for(var n=0;n<this.n0.length;n++){var lA=this.n0[n].II;if(lA!=null&&lA.aaz==Y.tj&&lA.tq==g){this.XI._g(n);
return}}dY.o_({name:Y.Ps,II:{aaz:a.add.SoLd.Idnt.v,tq:g}},Y.raw.buffer,this)}if(X==_.Y.a3a){var g=this.c6(),a=g.U[g.l[0]],Y=g.u7(a.add.SoLd.Idnt.v);
dY.save(Y.raw.buffer,Y.Ps)}if(X==_.Y.aMD){console.log(d.data);dY.o_({name:d.data._4[1].split("/").pop(),_4:d.data._4},d.data.Gw,this)}if(X==_.Y.ai0){var g=this.c6();
g._4=d.data._4;g.name=g._4[1].split("/").pop();var L=new eG(_.E.c);L.data={R:_.Y.Qk};this.J(L)}if(X==_.Y.sO){this.a8d()}if(X==_.Y._M){this.a3U(d.data.Nx,d.data.Ew,d.data.U6)}if(X==_.Y.me){this.a3b(d.data.apJ,d.data.asj,d.data.U6)}if(X==_.Y.aaZ){var av=d.data.K;
if(this.n.tN==A.uW&&this.H8().Ht()){var L=new eG(_.E.F,!0);L.T=A.uW;L.data={R:"insertText",K:av};this.J(L);
return}if(av.startsWith("ncb;")){var L=new eG(_.E.F,!0);L.T=A.Xc;L.data={R:"append",qq:"Paste Notes",kH:JSON.parse(av.slice(4))};
this.J(L)}else if(av.startsWith("vcb;")){var ah=JSON.parse(av.slice(4));ah[0]=g4.ake(ah[0]);var L=new eG(_.E.F,!0);
L.T=A.Z4;L.data={R:"append",qq:"Paste Paths",kH:ah};this.J(L)}else if(av.startsWith("lrs;")){var gE=av.split(";"),fj=this.n0[parseInt(gE[1])];
if(fj==null)return;var bR=this.c6(),bD=fj.l;fj.l=JSON.parse(gE[2]);var e1=fj.w$(null,fj!=bR);fj.l=bD;
var L=new eG(_.E.F,!0);L.data={R:jn.h$,U:e1,tq:fj,qQ:bR};L.T=A.EM;this.J(L)}else if(av.startsWith("<!--")||av.startsWith("<svg")){var am=B.j9(av),dj=b3.bV("svg"),z=new hc("image.p"+"sd");
dj.CE(am.buffer,z);if(this.n0.length!=0){var ja=z.U;if(ja.length==3&&ja[0].getName()=="</Layer group>"&&ja[2].h5())ja=[ja[1]];
var L=new eG(_.E.F,!0);L.T=A.EM;L.data={R:jn.h$,U:ja,tq:z,qQ:this.c6()};this.J(L)}else this.Ac(z)}}if(X==_.Y.z7){c1.JG(d.data.uq,this)}if(X==_.Y.hy){if(window.parent!=window)window.parent.postMessage(d.data.Ic,"*");
this.WN.u_(d.data.Ic)}if(X==_.Y.Qu){var aj=parseFloat(d.data.cG);if(this.n.NL.indexOf(aj)==-1){var L=new eG(_.E.c,!0);
L.data={R:_.Y.Kf,Ic:lx.ph,K:aj,QS:"add"};this.J(L)}this.WN.axC(d.data.cG)}if(X==_.Y.C$){this.uv.aND(this.c6(),this.n)}if(X==_.Y.S8){var dS="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var n=0;n<dS.length;n+=2)if(d.data.cG==dS[n]&&this.Fh(dS[n+1]))return;if(!this.n.wQ&&d.data.window=="saveforweb"){alert("function is disabled");
return}this.Rf.a1P(d.data.cG,this.c6(),d.data,this,this.Xs)}if(X==_.Y.z9){var eW=this.n.cE.exportAs;
if(eW)this.bI(d.data.data);else dY.save(d.data.data,d.data.name)}if(X==_.Y.cJ){if(!this.Rf.Ht()||d.Mw)this.Ac(d.data.Vr)}if(X==_.Y.QM){if(j8!=0){var em=b3.IF(d.data.Vr);
if("jpg png tiff bmp psd tga".split(" ").indexOf(em)==-1){alert("Only raster images can be inserted into Vectorpea documents.");
return}}this.XI._g(d.data.target);var L=new eG(_.E.F,!0);L.data={R:jn.Ng,Vr:d.data.Vr,uK:d.data.uK,r5:d.data.r5};
L.T=A.EM;this.J(L);this.qn(A.Oi)}if(X==_.Y.aBP){fq.Dz=!fq.Dz;if(this.n0.length>0)this.c6().uM()}if(X==_.Y.aM5){var be=iP.Yp();
if(j8<2&&be!=null&&be.globals!=null)this.xk(be.globals);this.sv()}if(X==_.Y.Jc){this.M_.Bc(d.data.data,null,d.data.e$,d.data.C0,d.data.azd)}if(X==_.Y.H_){var cI=this.H8();
if(!this.Rf.d4()!=null)this.qn(d.data.T,d.data.IW);var kP=this.H8();if(kP!=cI&&d.data.aMO)kP.li(this.c6(),this,this.n,this.Xs,this.NT)}if(X==_.Y.ri){if(this.B5.a5L)this.qn(this.B5.a5L)}if(X==_.Y.Pn){var i0=this.B5.map[d.data.T].T,g=this.c6();
i0.Fb(d.data,this,g,this.Xs,this.n);if(g)g.Ir=!0;this.a7z()}if(X==_.Y.a0){var ac=this.B5.map[d.data.T];
this.ag5(ac);ac.Dc.pF(d.data)}if(X==_.Y.Kf){var g=this.c6(),jR,eo=!(g&&g.l.length!=0&&g.U[g.l[0]].add.TySh),eP=d.data.Ic,as=d.data.Mc,kF=this.n;
if(d.data.QS=="set"){var kP=A.qU[as[1].classID];if(kF.tN!=kP)this.qn(kP);this.B5.map[kP].Dc.lz(as,kF)}if(d.data.QS=="add"){var D=lx.HL[eP];
if(eP==lx.ph){kF.NL.push(d.data.K);kF.NL.sort(function(jl,fd){return jl-fd})}else if(eP==lx.aDg){kF.i5.push(d.data.Mc)}else if(D==null){if(as)kF.FP.avU(as,d.data.aKE);
if(g)g.QW=!0}else{var kW=this.RC(eP);if(eP==lx.nj){kW.Qt=kW.Qt.concat(as.Qt);kW.ku=kW.ku.concat(as.ku);
kW=kW.list;as=as.list}if(eP==lx._0&&g){for(var n=0;n<as.length;n++){var hs=as[n].m9.Lefx;if(hs)lb.aw3(hs,g,kF.Da)}}if(eP==lx.nx&&as==null){var z=this.B5.map[kF.tN].Dc.c4();
if(z==null)return;as=[z]}if(lx.dC[eP]&&as[0][0]=="_all_")as=as[0][2];for(var n=0;n<as.length;n++)kW.push(as[n]);
if(eP==lx.C4){var gc={};for(var n=0;n<kW.length;n++){var fK=kW[n].ar;while(gc[fK]!=null)fK=kW[n].ar=fK+"X";
gc[fK]=!0}}if(d.data.aKE!=!0)if(kW.length!=as.length||eP==lx.ly||eP==lx._0||eP==lx.Xp||eP==lx.F)alert(f7.get(D[3])+" "+f7.get([23,1])+".")}}if(d.data.QS=="del"){if(eP==lx.ph){kF.NL.splice(kF.NL.indexOf(d.data.K),1)}else{var D=lx.HL[eP],lo=d.data.Bm,kW=this.RC(eP);
if(eP==lx.nj)kW=kW.list;for(var n=0;n<lo.length;n++)kW[lo[n]]=null;for(var n=0;n<kW.length;n++)if(kW[n]==null){kW.splice(n,1);
n--}alert(f7.get(D[3])+" deleted.")}}if(d.data.QS=="rnm"){var D=lx.HL[eP],kW=this.RC(eP);if(eP==lx.nj)kW=kW.list;
if(kW[d.data.Bm[0]]==null)return;D[2].vJ(kW[d.data.Bm[0]],(d.data.a3S?d.data.a3S:"")+d.data.K)}if((d.data.QS!=null||d.data.QS=="mdf")&&lx.dC[eP]){var N=this.n.pP,D=lx.HL[eP];
if(N._v&&!li.IO()){var cR=this.RC(eP),fU=aC.Af(cR,D[2]);N.Y0["_all_."+D[0]]=fU.buffer;var L=new eG(_.E.c);
L.data={R:_.Y.Kf,Ic:lx.$f};this.J(L)}}if(eP==lx.Ih){var g8=d.data.K;kF.my=g8;kF.aD3[g8.Ci]=g8.hn}if(eP==lx.XN){var g8=d.data.K;
kF.jj=f.v(g8);var i2=kV.Wy(g8);kF.a4T[i2.Ci]=i2.hn}if(eP==lx.py){kF.J1=d.data.K;var jQ=kV.J1.yu(),eS=!0;
for(var z in jQ)if(kF.J1[z]==null)eS=!1;if(eS)kF.aFi=f.v(kF.J1)}if(eP==lx.xY){kF.Co=d.data.K}if(eP==lx.LO){kF.S0=d.data.K}if(eP==lx.jO){kF.Jh=d.data.Jh;
var ji=kF.Jh.Uy.FillColor;if(eo&&ji){var l7=ji.Values,j_={C:l7[1]*255,L:l7[2]*255,X:l7[3]*255},hb=f.Lw(j_);
if(kF.Sw!=hb){kF.Sw=hb;jR=lx.bX}}}if(eP==lx.FA){var I=f.v(d.data.mV),fL=I.useBrushSize;if(fL&&fL.v){I.Brsh.v.Dmtr.v.val=kF.LG.fh.Brsh.v.Dmtr.v.val;
fL.v=!1}kF.LG.fh=I;if(I.Nm==null)return;var dE={oN:"select",mQ:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:I.Nm.v.split("/").pop()}}]}}},ac=this.H8();
ac.u$=this;ac.track(dE)}if(eP==lx.Iw){kF.KL=d.data.VE}if(eP==lx.gp){var gF=d.data.VE,km=!0,cD=null;if(d.data.am3){gF=kF.Mc.slice(0);
gF.splice(gF.indexOf(d.data.am3),1)}var gA=gF,gP=kF.Mc;if(gP.length>gA.length){var jA=gP;gP=gA;gA=jA;
km=!1}for(var n=0;n<gA.length;n++)if(gP.indexOf(gA[n])==-1)cD=gA[n];dY._J("act=3&id="+cD+"&dif="+(km?1:-1));
alert((km?"Resource added.":"Resource removed.")+" "+cD);if(!km)if(kF.aEZ[cD])delete kF.aEZ[cD];kF.Mc=gF}if(eP==lx.bX){var dE,i4="Clrs";
if(d.data.G$<2){var dv=d.data.K,eK=d.data.G$==0,k2=f.iF.Zi(f.le(dv));if(eK)kF.Sw=dv;else kF.dL=dv;i4=eK?"FrgC":"BckC";
dE={oN:"set",mQ:{__name:"Set",classID:"setd",T:{t:"Objc",v:k2}}}}if(d.data.G$==2){var jA=kF.Sw;kF.Sw=kF.dL;
kF.dL=jA;dE={oN:"exchange",mQ:{__name:"Exchange",classID:"Exch"}}}if(d.data.G$==3){kF.Sw=0;kF.dL=16777215;
if(g!=null&&g.l.length!=0&&g.U[g.l[0]].VL==1){var jA=kF.Sw;kF.Sw=kF.dL;kF.dL=jA}dE={oN:"reset",mQ:{__name:"Reset",classID:"Rset"}}}if(dE){dE.mQ.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:i4}}]};
var ac=this.H8();ac.u$=this;ac.track(dE)}}if(eP==lx.ao){kF.Na=!kF.Na;this.jh()}if(eP==lx.b9){kF.N$=!kF.N$;
this.jh()}var gl=kF.rp;if(eP==lx.Vq){gl.Oc=!gl.Oc;this.jh()}if(eP==lx.Hv){gl.S5=!gl.S5;this.jh()}if(eP==lx.gB){gl.MQ=!gl.MQ;
this.jh()}if(eP==lx.ET){gl.iN=!gl.iN;this.jh()}if(eP==lx.tz){gl.Nz=!gl.Nz;this.jh()}if(eP==lx.lk){gl.Wc=!gl.Wc;
this.jh()}if(eP==lx.yy){kF.rp=d.data.VE;this.jh()}if(eP==lx.aFY){kF.lX=!kF.lX;this.jh()}if(eP==lx.cO){kF.Hs[d.data.Lp]=!kF.Hs[d.data.Lp];
this.jh()}if(eP==lx.x8){f7.agd(d.data.lang,this.aGc)}if(eP==lx.Jv){kF.O5=d.data.O5;this.H()}if(eP==lx.$f&&kF.pP._v){var eU=kF.pP._v.transaction(["rsrc"],"readwrite").objectStore("rsrc"),d9={k:"fs0",fset:kF.pP.Y0};
if(d.data.aDY)d9={k:kF.pP.id,fset:kF.pP.h3};var iJ=Object.keys(d9.fset).length==0?eU.delete(d9.k):eU.put(d9);
iJ.onerror=function(d){console.log(d);alert("Storing failed. Browser says: "+d.target.error.message,7e3)}}this.HV(eP);
if(jR)this.HV(jR)}};az.prototype.aJD=function(){var d=this.c6();console.log(d.OB);if(d.OB)return;d.OB=!0;
var v=new eG(_.E.c,!0);v.data={R:_.Y.Wq,jH:"Saving ..."};this.J(v);setTimeout(function(){var v=new eG(_.E.c,!0);
v.data={R:_.Y.kZ,arf:!0};this.J(v)}.bind(this),20)};az.prototype.ai8=function(d,v){v.l2.createWritable().then(function(t){t.write(d);
return t}).then(function(t){return t.close()}).then(function(t){v.Ia(v.P8=="psd");v.OB=!1;var h=new eG(_.E.c,!0);
h.data={R:_.Y.DQ,jH:"Saving ..."};this.J(h)}.bind(this)).catch(function(t){v.OB=!1;var h=new eG(_.E.c,!0);
h.data={R:_.Y.DQ,jH:"Saving ..."};this.J(h)}.bind(this))};az.prototype.aIf=function(){var d=this.n,v=d.Mc,t=d.aEZ;
for(var n=0;n<v.length;n++){var h=v[n];if(t[h])continue;t[h]=!0;this.M_.vL(h,!0)}};az.prototype.abP=function(){this.H();
this.jh()};az.prototype.Fh=function(d){var v=this.n.cE[d];if(v){var t=new eG(_.E.c,!0);t.data={R:_.Y.z7,uq:v};
this.J(t)}return v!=null};az.prototype.HS=function(d,v){var t=!0,x=15;if(v){t=!1;for(var n=0;n<v.length;
n++)if(v[n].startsWith(u.Rb("__M")))t=!0}var h=d.s9()||d.II&&d.II.tq.s9();if(this.jp())h=!1;var X=new u.hm[f4.afK],g=(X[u.RI("xy,b-66:")]()&1)*60+X[u.Rb("VQ]3LNRN<G")]();
if(h&&!iP.yU()&&g>x&&t){var Z=u.hm[u.RI("}$z{2*35")][u.RI("y'|!")],Y=u.Rb("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
Y+="\n\n"+u.Rb("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-g+120)+u.Rb("nYRTXTBMd");
if(Z.indexOf(u.RI("\"|'/-1)(W0?@"))==-1)Y=f7.get([0,11+6,3+2]);u.hm._cwY(Y);return!1}return!0};az.prototype.RC=function(d){var v=this.n,t=[lx.nj,lx.t0,lx.fJ,lx.Xp,lx.Nt,lx.C4,lx._0,lx.ly,lx.F,lx.nx,lx.Iv,lx.XV],h=[v.LG,v.tZ,v.ff,v.tQ,v.Da,v.qI,v.Fw,v.aiL,v.TK,v.aN,v.auR,v.a7C];
return h[t.indexOf(d)]};az.prototype.a8F=function(d,v){var t=this.RC(d);console.log(t);if(v){var h=d==lx.nj,X=[];
for(var n=0;n<v.length;n++)X.push((h?t.list:t)[v[n]]);t=h?{ku:t.ku,Qt:t.Qt,list:X}:X}if(d==lx._0){var g=new hc;
for(var n=0;n<t.length;n++){var x=t[n].m9.Lefx;if(x)lb.aIt(x,g,this.n.Da)}t={qF:g.add.Patt?g.add.Patt:[],st:t}}if(d==lx.nx){var Z=this.n.LG;
t={Qt:[],ku:[],list:t};console.log(t)}console.log(t);var Y=lx.HL[d];return Y[2].IT(t)};az.prototype.a8d=function(){var d=this.a3U(),v=this.c6();
if(v==null||v.l.length==0)return;var t=v.U[v.l[0]],h=new eG(_.E.F);if(j8==2){h.T=A.Xc;h.data={R:"remove",qq:"Cut Notes"}}else if(d==1){h.T=A.Z4;
h.data={R:"remove",qq:"Cut Paths"}}else{h=new eG(_.E.U0);h.data={oN:"delete"}}this.J(h)};az.prototype.a3U=function(d,v,t){if(d==null)d=!1;
var h=this.n;console.log("doCopy",d,v);var X=this.c6();if(h.tN==A.uW&&this.H8().Ht()){var g=new eG(_.E.F,!0);
g.T=A.uW;g.data={R:"copyText"};this.J(g);return}if(X.l.length==1&&j8==2){var x=X.U[X.l[0]].Y;if(x.l.length==0)return;
var Z=[];for(var n=0;n<x.l.length;n++)Z.push(x.list[x.l[n]]);dY.xy(new Blob(["ncb;"+JSON.stringify(Z)],{type:"text/plain"}));
return}if(X==null||X.l.length==0&&!d)return;var Y=X.U[v==null?X.l[0]:v],a=X.V9(),z=a[0],p=a[1],U=z[p[0]];
if(!d&&U!=null&&U.add.vmsk.l.length!=0&&j8==0){var l=A.fL.SA(U.add.vmsk,U.add.vogk);if(u.bk()){l[0]=g4.aiO(l[0]);
var L="vcb;"+JSON.stringify(l);dY.xy(new Blob([L],{type:"text/plain"}))}else h.JP=l;return 1}else if(X.p==null){if(u.bk()){var L="lrs;"+this.n0.indexOf(X)+";"+JSON.stringify(X.l);
dY.xy(new Blob([L],{type:"text/plain"}))}}else{var j,O;if(d){var F=new iW(0,0,X.r,X.$);O=F.hL(X.p.S);
j=f.m(O.k()*4,X.depth);f.wH(X.jP(),F,j,O);f.Qc(X.p.N,X.p.S,j,O)}else if(X.Cv.length!=0){O=X.p.S.b();
j=f.m(O.k()*4,X.depth);var i=X.gM[X.Cv[0]],$=i.NN(O);f.I0($,j);f.Gj(X.p.N,j,3)}else{var H=Y.DE(X,X.p);
if(H==null){alert("Copied area is empty");return}j=H.Gw;O=H.S}var b=X.z.b$,r=b[0]+b[1]+b[2];if(r==1){var W=b.indexOf(1);
for(var n=0;n<j.length;n+=4)j[n]=j[n+1]=j[n+2]=j[n+W]}var V=new cK(X.r,X.$);if(u.bk()&&t!=!0){var y=b3.bV("PNG").LN(j.buffer,O.r,O.$,X.depth);
dY.xy(new Blob([new Uint8Array(y)],{type:"image/png"}));this.agZ={BS:O,jX:V}}else h.H4={buffer:j,S:O,jX:V};
h.aEu=O.b();h.JP=null;var g=new eG(_.E.U0);g.data={oN:"copyEvent",_n:!0};this.J(g)}};az.prototype.a3b=function(d,v,t){if(v)this.a74=!0;
console.log("doPaste");var h=this.n,X=h.H4,g=this.Xs,a;if(this.n0.length==0){if(!d&&u.bk()){dY.TO(this,null);
return}if(X){var x=b3.Kv("image.p"+"sd",[{data:X.buffer.buffer,_S:X.S}]),Z=new eG(_.E.c);Z.data={R:_.Y.cJ,Vr:x};
this.J(Z)}return}var x=this.c6();if(h.tN==A.uW&&this.H8().Ht()){dY.TO(this,null);return}var Y=x.U[x.l.length==0?x.U.length-1:x.l[0]];
if(h.JP){var z=x.V9(!0),p=z[0],U=z[1];a=p[U[0]]}var Z=new eG(_.E.F,!0);if(h.JP!=null&&a!=null){Z.T=A.Z4;
Z.data={R:"append",qq:"Paste Paths",kH:h.JP}}else if(!d&&u.bk()&&t!=!0){var l=navigator.userAgent.toLowerCase();
dY.TO(this,this.a6E.bind(this));return}else{if(X==null)return;if(x.fi(!1)&&(x.z.b$.join("")!="111"||x.Cv.length!=0||Y.VL>0||Y.S.HP())){Z.T=A.nj;
Z.data={R:"draw",aCX:!0,qq:[5,2]}}else{Z.T=A.EM;Z.data={R:jn.mj,a7M:this.a74};this.a74=!1}Z.data.H4=X;
if(X.S.x==0&&X.S.y==0){var L=x.z.Yx,j=x.z.X4(x.r/2,x.$/2),O=x.r-X.S.r,F=x.$-X.S.$;if(L.QQ(j)){var i=x.Hq();
if(i==-1){X.S.x=O>>1;X.S.y=F>>1}else{var $=x.U[i].x1();X.S.x=Math.floor(($.r-X.S.r)/2);X.S.y=Math.floor(($.$-X.S.$)/2)}}else{j=x.z.tw(L.r/2,L.$/2);
console.log(j);X.S.x=Math.max(0,Math.min(O,Math.round(j.x-X.S.r/2)));X.S.y=Math.max(0,Math.min(F,Math.round(j.y-X.S.$/2)))}}}this.J(Z);
var Z=new eG(_.E.U0);Z.data={oN:"paste",_n:!0};this.J(Z)};az.prototype.ahH=function(){var d=this.n.FP;
if(d.aAT())return;for(var n=0;n<this.n0.length;n++){var v=this.n0[n];if(!ka.Or(v,d,this))continue;if(v.Um)ka.Wm(v,d,this);
var t=v.add.lnk2;if(t)for(var h=0;h<t.length;h++){var X=t[h];if(X.Um)A.OJ.ki(v,X.tj,X,X,d)}if(v.a07)continue;
v.a07=!0;if(v.QS&&v.QS.ap0)c1.JG(v.QS.ap0,this);this.bI();var g=new eG(_.E.F);g.T=A.bH;g.data={R:"start",zh:"blurbTransform"};
g.data={R:"start",zh:"rigidTransform"};g.data={R:"start",zh:"perspectiveWarpTransform"};var x=new eG(_.E.c);
x.data={R:_.Y.Qu,cG:f1.q2.aar};x.data={R:_.Y.S8,cG:"svideos",G$:2,EJ:16711935,Cm:1,index:[10,0]}}};az.prototype.HV=function(d){this.aIf();
var v=this.n,t=v.tN,Z=!1;if(d==lx.FA){if(this.B5.map[t].Dc)this.B5.map[t].Dc.sq(v,d)}else for(var h in this.B5.map)if(this.B5.map[h].Dc)this.B5.map[h].Dc.sq(v,d);
if(d==lx.IQ&&j8<2){if(t!=A.uW)this.B5.map[A.uW].T.sq(v,d);this.ahH()}this.XI.sq(v,d);this.SG.sq(v,d);
this.Rf.sq(v,d);if(j8==1&&d==lx.py){var X=new eG(_.E.F,!0);X.T=A.EM;X.data={R:jn.oX};this.J(X)}else this.H8().sq(v,d);
this.WN.sq(v,d);this.iv.sq(v,d);if(j8==1)this.My.sq(v,d);if(j8==2)this.Bx.sq(v,d);if(d==lx.Jv||d==lx.Np){fW.a7i(v.O5);
this.update(!0)}var g=v.Jh,x=g.Uy.Font;if(d==lx.jO&&x!=null&&g._G[x].Name!=v.font){v.font=g._G[x].Name;
Z=!0}if([lx.ph,lx.Iw,lx.gp,lx.bX,lx.ao,lx.b9,lx.yy,lx.gB,lx.ET,lx.Vq,lx.Hv,lx.tz,lx.lk,lx.x8,lx.Jv].indexOf(d)!=-1||Z)this.a7z()};
az.prototype.a7z=function(){if(!this.WA)return;var d=[],v=this.B5.map;for(var t in v){var h=v[t].T;if(h.K7&&h.K7()!=null)d.push(parseInt(t),h.K7())}var X=this.n,g=X.rp,x={};
if(g.M0!=8421504)x.gc=g.M0;if(g.tF!=65535)x.uc=g.tF;if(g.rs!=33023)x.lc=g.rs;if(g.H9!=20)x.gs=parseFloat(g.H9.toFixed(2));
if(g.vX!=0)x.gv=parseFloat(g.vX.toFixed(2));if(g.Tr!=1)x.gn=g.Tr;if(g.d6!=0)x.gu=g.d6;if(g.fs!=0)x.gt=g.fs;
if(g.iV!=0)x.ru=g.iV;if(g.iN!=!1)x.gr=g.iN?1:0;if(g.MQ!=!0)x.gd=g.MQ?1:0;if(g.Oc!=!0)x.se=g.Oc?1:0;if(g.S5!=!0)x.pa=g.S5?1:0;
if(g.Nz!=!0)x.pg=g.Nz?1:0;if(g.Wc!=!0)x.sl=g.Wc?1:0;var Z={};if(X.Sw!=0)Z.fc=X.Sw;if(X.dL!=16777215)Z.bc=X.dL;
if(X.Na!=!1)Z.ru=X.Na?1:0;if(X.N$!=!0)Z.ex=X.N$?1:0;if(X.KL.length!=0)Z.ff=X.KL.join(",");if(X.Mc.length!=0)Z.rs=X.Mc.join(",");
if(X.O5!=1)Z.theme=X.O5;if(X.WP!=0)Z.co=X.WP;if(X.font!=null&&X.font!="DejaVuSans")Z.fo=X.font;var Y=f1.aoh(X.NL);
if(Y.length!=0)Z.pd=Y;if(d.length!=0)Z.to=d;if(f7.Ou()!="en")Z.lang=f7.Ou();if(Object.keys(x).length!=0)Z.ep=x;
var a=iP.Yp();if(a==null)a={};a.globals=Z;iP.E6(a)};az.prototype.ix=function(d){var v=this.Xs,t=this.NT,h=this.n.tN,X=this.B5.map[h].T,g=null,x=!1;
for(var n=0;n<this.B5.a90.length;n++){var Z=this.B5.a90[n],Y=!0;for(var a=0;a<Z.aM.length;a++){var z=Z.aM[a];
if(!v.A(z))Y=!1}if(Y&&(!Z.we||!X.Ht())&&(Z.D1==null||Z.D1.indexOf(h)!=-1)){g=Z.T;x=Z.we;break}}if((!t.n2||h==A.w2||d)&&this.B5.Mx!=g&&(g!=h||!x)){var p=this.c6();
if(this.B5.Mx!=null&&g==null)this.H8().disable(p,this,this.n,v,!0);this.B5.Mx=g;this.H8().enable(p,this,this.n,v,g!=null&&g!=h)}};
az.prototype.Ow=function(d){var v=this.n.tN,t=this.c6();if(v!=null){this.B5.map[v].T.disable(t,this,this.n,this.Xs)}};
az.prototype.ag5=function(d){if(d.Dc==null){d.Dc=new d.ha(d.T.id);d.Dc.afN(d.T.id,d.T.kY);d.Dc.sq(this.n,lx.Np);
d.Dc.H()}};az.prototype.qn=function(d,v){for(var n=0;n<this.n0.length;n++)this.n0[n].qi(!0);if(d==A.Oi&&this.Rf.d4())return;
var t=this.c6(),h=this.n;if(this.B5.map[d].T.Jx(t,h,v)){this.Ow();if(d!=h.tN)this.B5.a5L=h.tN?h.tN:A.Xc;
h.tN=d;this.SG.qn(h.tN);var X=this.B5.map[d];this.B5.L_[X.W_]=X.azm;this.ag5(X);this.H$.anK(j8==0?X.Dc:j8==1?this.My:this.Bx);
var g=X.T;g.enable(t,this,this.n,this.Xs,!1,v);if(t)t.Ir=!0;this.jh();this.$0.at1()}};az.prototype.H8=function(d){var v=this.B5,t=v.Tc,h=v.Mx,X=this.n.tN;
if(t)X=t;else if(h&&d==null)X=h;return v.map[X].T};az.prototype.Ac=function(d){var v=this.n,t=this.n0.indexOf(d);
if(t!=-1){this.XI._g(t);return}if(this.axR&&(d.QS==null||d.QS.aH==null)){d.QS={aH:this.axR}}if(d.UI==null){d.UI="local,"+this.auL+","+d.name;
this.auL++}d.adb=Date.now();if(j8==1&&d.add.arts==null)d.apO();if(li.x4()!=0&&!this.aiH&&u.hm[u.RI("t$&!'31")].toString().indexOf(u.RI(" u,$4&"))==-1){alert(u.RI("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var n=0;n<d.U.length;n++){var h=d.U[n];if(h.add.SoLd!=null){}}var X=d.U.length,g=f4.ys(),x=Math.PI*(8e3<<14)+(u.jy(31)?20:10)*7e7;
if(g>x){var X=d.U.length;d.U=[];return X}if(fq.Dz){fq.eu(Math.max(d.r,d.$),d.depth);for(var n=0;n<d.U.length;
n++){var h=d.U[n];if(h.Kz())fq.eu(Math.max(h.S.r,h.S.$))}}d.nA();d.Zd();if(d.aw1)d.aOy();else d.uM();
d.aw1=!1;this.n0.push(d);this.XI.hS(new ek(d));d.Ir=!0;d.QW=!0;this.ahH();if(this.aDo)this.pV(1);var Z=new eG(_.E.F);
Z.T=A.xU;Z.data={R:"auto",a7S:2}};az.prototype.c6=function(){return this.n0[this.a5J]};az.prototype.a3D=function(){return this.Rf.d4()==null};
az.prototype.rq=function(d,v){this.Ow();var t=this.n0.length;if(v!=null)this.XI._g((this.XI.dV()+v+t)%t);
this.a5J=this.XI.dV();var h=this.c6();this.iv.ih(h,this.n);if(j8==1)this.My.ih(h,this.n);if(j8==2)this.Bx.ih(h,this.n);
this.WN.dn(h,this,this.n);this.jh();if(h)h.Ir=!0};az.prototype.a0A=function(d){this.Ow();var v=this.n0,t=v[d.data.d3];
if(t.Y.Nn){var h=new eG(_.E.c,!0);h.data={R:_.Y.sc};this.J(h)}v.splice(d.data.d3,1);if(v.length==0){this.rq(d);
var X=fq.km(),g=ek.zP.Vl;if(X.parentNode)X.parentNode.removeChild(X);if(g.parentNode)g.parentNode.removeChild(g)}this.afq(t.name)};
az.prototype.afq=function(d){var v=this.n.pP,t=!1;if(v._v==null)return;for(var h in v.h3){if(d==null||h==d){delete v.h3[h];
t=!0}}if(t){var X=new eG(_.E.c);X.data={R:_.Y.Kf,Ic:lx.$f,aDY:!0};this.J(X)}};az.prototype.aps=function(d){var v=[],t=d.data.aCo;
for(var n=0;n<t.length;n++)v[n]=this.n0[t[n]];this.n0=v;this.a5J=this.XI.dV()};az.prototype.aqp=function(d){var v=this.XI,t=v.aww(),h=this.H8(),X=this.c6();
if(t==v.dV()||!h.auC())return;this.akM(t,h)};az.prototype.akM=function(d,v){console.log("dup2doc");var t=this.n,h=this.XI,X=this.c6(),g=this.n0[d],x,Z=new eG(_.E.F,!0);
Z.T=A.EM;if(X.p==null){Z.data={R:jn.h$,U:X.w$(null,!0),tq:X,qQ:g,aCj:v==null};this.J(Z)}else x=X.U[X.l[0]].DE(X,X.p);
var Y=this.NT,a=t.Na;t.Na=!1;Y=X.z.tw(Y.x,Y.y);if(v)v.LC(X,this,t,this.Xs);h._g(d);if(X.p){Z.data={R:jn.mj,H4:{buffer:x.Gw,S:x.S}};
this.J(Z)}Y=g.z.X4(Y.x,Y.y);if(v)v.li(g,this,t,this.Xs,Y);t.Na=a};az.prototype.aJ3=function(d){var v=this.c6(),t=this.Xs,h=this.n,X=d.jI;
if(X)this.NT=X;if(X)X.y-=h.WP;if(this.aAl==null)this.aAl=0;if(d.action=="multidown"){this.t5=d.OX.length;
this.aAl=Date.now()}if(d.action=="up"&&Date.now()-this.aAl<100){var g=new eG(_.E.F);g.T=A.Hh;g.data={R:this.t5==2?"h_stepbck":"h_stepfwd"};
this.J(g)}if(d.action.startsWith("multi")){var x=new eG(_.E.F,!0);x.data={R:d.action,OX:d.OX};x.T=A.CK;
this.J(x);return}var Z=this.B5.map[A.Xc].T;if((d.action=="down"||d.action=="rdown")&&h.tN!=A.Xc&&this.B5.Mx!=A.Xc&&Z.asp(v,this,h,t,X)){this.B5.Tc=A.Xc;
Z.enable(v,this,h,t,!0)}if(d.action=="idown"){t.V8("Space");this.ix(!0);d.action="down"}var Y=this.Rf.d4(),a=Y!=null&&Y.PO()&&this.B5.Mx==null?Y:this.H8();
if(d.action=="scroll"){var z=!t.A(cQ.LE)&&d.wn,p=t.A(cQ.io);if(window.locStor.getItem("__zwh")=="1")p=!p;
var x=new eG(_.E.F,!0);x.data={R:"scroll",KJ:d.KJ.b(),jI:X,aho:z};x.T=p||z?A.CK:A.MD;this.J(x)}if(Y!=null&&a!=Y&&this.Rf.Ht()&&a.id!=A.MD&&a.id!=A.CK)return;
if(d.action=="down")a.li(v,this,h,t,X);if(d.action=="rdown")a.uO(v,this,h,t,X);if(d.action=="move")a.qw(v,this,h,t,X);
if(d.action=="up"||d.action=="iup"||d.action=="cancellast")a.QZ(v,this,h,t,X,d.action=="cancellast");
if(d.action=="rup")a.rP(v,this,h,t,X);if(d.action=="iup"){t.pS("Space");this.ix(!0)}if(d.action=="cancellast"){if(v&&v.history.length!=0&&Date.now()-v.history[v.history.length-1].aLy<200){var g=new eG(_.E.F);
g.T=A.Hh;g.data={R:"h_stepbck"};this.J(g)}}var U=this.WN;if(d.action=="down")U.li(v,this,h,t,X);if(d.action=="move")U.qw(v,this,h,t,X);
if(d.action=="up")U.QZ(v,this,h,t,X);if(d.action=="down"||d.action=="up"){this.ix()}if(d.action=="down"||d.action=="up"||d.action=="ctx"){v.Ir=!0}if((d.action=="up"||d.action=="rup")&&this.B5.Tc){this.B5.Tc=null;
Z.disable(v,this,h,t)}if(v&&h.Na)v.QW=!0};az.prototype.ju=function(d){var v=this.c6(),t=this.NT;if(v&&this.H8().pG(t,this.Xs)){var h=v.z,X=h.Yx.r,g=h.Yx.$,x=0,Z=0,Y=16;
if(t.x<Y)x=Y-t.x;if(t.x>X-Y)x=t.x-(X-Y);if(t.y<Y)Z=Y-t.y;if(t.y>g-Y)Z=t.y-(g-Y);var a=this.Xs.A(cQ.cm)?8:1;
if((x!=0||Z!=0)&&(v.r*h.OI>X||v.$*h.OI>g)){x=Math.min(5,x*.5)*a;Z=Math.min(5,Z*.5)*a;if(t.x>Y)x=-x;if(t.y>Y)Z=-Z;
h.h.x+=x;h.h.y+=Z;this.aJ3({jI:this.NT,action:"move"});v.zs=!0}}this.update()};az.prototype.update=function(d){var v=this.c6();
if(v==null)return;if(j8!=0){if(v.buffer)throw"e"}if(v.Ir){var t=this.B5.map;for(var h in t){if(t[h].T.zl)t[h].T.zl(v,this,this.n,this.Xs)}if(j8==1){t[A.as].T.zl(v,this,this.n,this.Xs,!0)}}if(v.FV&&j8==0)if(fq.Dz)fq.eu(Math.max(v.r,v.$));
if(v.FV&&j8==0){v.Yn()}if(j8==2&&v.Y.Nn){var X=v.z.HB();X.zJ();v.Y.Uf=jy.getTime();if(v.add.prvw!=1)v.z.h.x=-jG.vr(v.Y.Uf,v)*X.aX;
v.QW=!0}var g=v.z,x=this.lI,Z=this.lI=Date.now();if(v.FV||v.B6||v.QW||v.zs||d||g.eQ!=g.OI||!g.eP.fE(g.h)){var Y=g.eQ;
if(g.eQ!=g.OI){var a=A.VR.a2t(g.OI,g.eQ>g.OI),z=.12;if(g.eQ<g.OI&&g.eQ<a)g.eQ=a;if(g.eQ>g.OI&&g.eQ>a)g.eQ=a;
var p=Math.abs(g.OI-a)*(Z-x)*.001/z;if(g.eQ<g.OI)g.eQ=Math.min(g.OI,g.eQ+p);else g.eQ=Math.max(g.OI,g.eQ-p)}var U=Y==g.OI?0:(g.eQ-g.OI)/(Y-g.OI);
g.eP.x=g.h.x+U*(g.eP.x-g.h.x);g.eP.y=g.h.y+U*(g.eP.y-g.h.y);this.XI.sq(this.n,null);this.XI.dn(v,this.n0)}if((v.FV||v.zs||v.Ir)&&(!this.NT.n2||v.bU)){if(v.Ir)v.Zd();
this.WN.dn(v,this,this.n);this.SG.atQ(v,this.Xs);if(j8==1)this.My.dn(v);if(j8==2)this.Bx.dn(v);v.oZ=!1}v.bU=!1;
v.Ir=!1;v.FV=null;v.B6=v.QW=v.zs=!1};az.prototype.f8=function(d){var v=d.target.tagName.toLowerCase(),t=d.target.getAttribute("type"),h=cQ,X=h.L9(d.code,h.u0);
if(!((v=="input"||v=="select"||v=="button")&&h.L9(d.code,h.$G))){if(h.a8u(d)&&v!="select"){d.preventDefault()}this.Xs.V8(h.tC(d));
this.M6("down")}};az.prototype.o0=function(d){var v=this.Xs;if(d.key==" ")v.wX();if(cQ.L9(d.code,cQ.a5y))v.reset();
v.pS(cQ.tC(d));v.aNa(d.getModifierState("CapsLock"));var t=d.target.tagName.toLowerCase();if(cQ.a8u(d)&&t!="select"){d.preventDefault()}this.M6("up")};
az.prototype.M6=function(d){var v=this.Xs,t=this.c6(),h=t!=null&&t.l.length!=0;if(this.uv.d4()!=null){if(v.A(cQ.l5)||v.A(cQ.u0)){this.uv.aC_()}return}this.ix();
var X=this.Hk(cQ.LE),g=v.A(cQ.io),x=v.A(cQ.cm);if(X&&v.A(cQ.eG)&&d=="down"){var Z=new eG(_.E.F),Y=new eG(_.E.c);
Z.T=A.Hh;if(x){Z.data={R:"h_stepfwd"}}else{Z.data={R:"h_stepbck"}}if(this.Rf.d4()!=null&&this.Rf.d4().Ht()){}else this.J(Z)}if(X){var Z=new eG(_.E.F),a=new eG(_.E.U0),Y=new eG(_.E.c);
if(v.A(cQ.Fc)&&v.A(cQ.Yu)){Y.data={R:_.Y.S8,cG:"storwindow"};this.J(Y)}if(!g&&d=="down")for(var z in cV.keys){var p=cV.keys[z],U=!0;
for(var n=0;n<p.length;n++)if(!v.A(p[n]))U=!1;if(U){Z.T=A.xU;if(z=="hue2"&&x&&t.U[t.l[0]].add.SoLd==null)Z.data={R:"auto",a7S:3};
else Z.data={R:"start",Gm:z}}}if(v.A(cQ.Y)){if(g){a.data={oN:"selectAllLayers",mQ:{classID:"null",null:kl.hR("Lyr",!0)}}}else a.data=A.Oe.qJ(!0)}if(v.A(cQ.f9)){if(g)Y.data={R:_.Y.S8,cG:"csize"};
else if(t)Y.data={R:_.Y._M,Nx:x}}if(v.A(cQ.J4)&&(t.p||j8==2)){a.data=A.Oe.qJ()}if(v.A(cQ.E)&&d=="down"){if(x)a.data={oN:"mergeVisible"};
else if(g9.Jj(t).f)a.data={oN:"mergeLayersNew",mQ:{__name:"Merge Layers",classID:"Mrg2"}}}if(v.A(cQ.v_)){if(x&&this.n.tN!=A.Oi)Y.data={R:_.Y.S8,cG:"afw_fade"};
else if(g){Z.T=A.bH;Z.data={R:"applylast"}}else Y.data={R:_.Y.C$}}if(v.A(cQ.sK)){if(g&&t&&t._U(t.l[0])){Z.T=A.EM;
Z.data={R:jn.BV}}else{Z.T=A.EM;Z.data={R:jn.DL,lA:x}}}if(j8==1&&v.A(cQ.wD)){Z.T=A.EM;Z.data={R:jn.DL,ej:!0,lA:g}}if(v.A(cQ.sh)){Y.data={R:_.Y.Kf,Ic:lx.b9}}if(v.A(cQ.Fc)){if(x){Z.data=null;
if(g)Y.data={R:_.Y.S8,cG:"finfo"};else a.data={oN:"inverse"}}else if(g)Y.data={R:_.Y.S8,cG:"isize"}}if(v.A(cQ.vq)){if(j8==1){Z.T=A.qN;
Z.data={R:g?"average":"join"}}else a.data={oN:(x?"cut":"copy")+"ToLayer"}}if(v.A(cQ.qB)){Y.data={R:_.Y.S8,cG:"preferences"}}if(v.A(cQ.OW)){if(x){Z.T=A.EM;
Z.data={R:jn.XK}}else if(d=="down")Y.data={R:_.Y.S8,cG:"newproject"}}if(v.A(cQ.lK)){if(g)Y.data={R:_.Y.S8,cG:"storwindow",y1:0};
else{Y.data={R:_.Y.mx};v.reset()}}if(v.A(cQ._T)){Y.data={R:_.Y.S8,cG:"saveforweb",Cm:3,aGF:!0}}if(v.A(cQ.q2)){Y.data={R:_.Y.Kf,Ic:lx.ao}}if(v.A(cQ.AA)&&d=="down"){if(x){if(g)Y.data={R:_.Y.S8,cG:"saveforweb"};
else Y.data={R:_.Y.kZ}}else Y.data={R:_.Y.Qk}}if(v.A(cQ.nG)){if(x){Z.T=A.EM;Z.data={R:jn.jl};this.J(Z);
Z.T=A.Oi;Z.data={R:"again"}}else Y.data={R:_.Y.H_,T:A.Oi}}if(v.A(cQ.n6)){Y.data={R:_.Y.me}}if(v.A(cQ.aDd)){this.XI.vd()}if(v.A(cQ.Hc)&&t&&(t.ahl()||j8==2)){Y.data={R:_.Y.sO}}if(v.A(cQ.if)&&t){Z.T=A.CK;
Z.data={R:"prvw"}}if(v.A(cQ.i3)||v.A(cQ.LV)){Z.T=A.EM;Z.data={R:jn.pi,G$:0};if(v.A(cQ.i3))Z.data.G$=x?3:2;
else Z.data.G$=x?0:1}if(v.A(cQ.ep)&&t&&t.l.length!=0){var l=t.U[t.l[0]].ZC();a.data={oN:l?"hide":"show",mQ:{classID:"null",null:{t:"VlLs",v:[kl.hR("Lyr",!0)]}}}}if(v.A(cQ.u0)&&t){var L=0;
if(x)L++;if(g)L+=2;Z.T=A.Nf;Z.data={R:"frompath",HW:[null,0,L]}}if(v.A(cQ.ok)){a.data=A.Fv.dm(0)}if(v.A(cQ.$G)){var j=this.n0.length,O=v.A(cQ.cm)?-1:1;
if(j>1)this.XI._g((this.XI.dV()+j+O)%j)}if(v.A(cQ.Fr)){Y.data={R:_.Y.Kf,Ic:lx.gB}}if(v.A(cQ.ww)){Y.data={R:_.Y.Kf,Ic:lx.ET}}A.VR.azf(v,Z);
if(this.Rf.d4()!=null&&this.Rf.d4().Ht()){}else{if(Z.data)this.J(Z);if(a.data)this.J(a);if(Y.data)this.J(Y)}}if(!X&&g){var F;
if(v.A(cQ.i3))F="Bckw";if(v.A(cQ.LV))F="Frwr";if(v.A(cQ.ep))F="Back";if(v.A(cQ.ok))F="Frnt";if(F){var a=new eG(_.E.U0);
a.data={oN:"select",mQ:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:F}}]},MkVs:{t:"bool",v:!1}}};
this.J(a)}}if(t&&t.l.length!=0){var i=t.U[t.l[0]],$=i.VL;if($==1||$==3||X){var Z=new eG(_.E.F),H=$==3?i.Ip(t).AU:i._B();
if(H){var b=H.ak?t.z.b$.join("")=="111"?1:2:0;Z.T=A.CK;if(H&&v.A(cQ.l5)&&b!=0){Z.data={R:"mskView",K:0}}if(H&&v.A(cQ.aLU)){Z.data={R:"mskView",K:b==1?0:1}}if(H&&v.A(cQ.aGA)){Z.data={R:"mskView",K:b==2?0:2}}if(Z.data)this.J(Z)}}}var r=v.aC();
if(t&&X&&2<=r&&r<=5){var W=[1,1,1];if(r>2){W=[0,0,0];W[r-3]=1}var V=new eG(_.E.F,!0);V.T=A.MD;V.data={R:"setcls",b$:W};
this.J(V)}if(!v.A(cQ.LE)&&!g&&d=="down"){var Z=new eG(_.E.F),Y=new eG(_.E.c),y=this.B5.map[this.n.tN],c=-1;
for(var n=0;n<this.B5.keys.length;n++)if(this.B5.keys[n]&&this.Hk(this.B5.keys[n]))c=n;if(c!=-1){var S=null;
if(y.W_!=c)S=this.B5.L_[c];if(y.W_==c&&x)S=(y.azm+1)%this.B5.uJ[c].length;if(S!=null){var C=this.B5.uJ[c][S].T.id,K=this.n.X_;
if((K==null||K.indexOf(parseInt(C))!=-1)&&!this.NT.n2)Y.data={R:_.Y.H_,T:C}}}if(v.A(cQ.sh))Y.data={R:_.Y.H_,T:A.MD};
if(v.A(cQ.q2))Y.data={R:_.Y.H_,T:A.bY};if(v.A(cQ.Hc))Y.data={R:_.Y.Kf,Ic:lx.bX,G$:2};if(v.A(cQ.J4))Y.data={R:_.Y.Kf,Ic:lx.bX,G$:3};
if(Y.data)this.J(Y);if(v.A(cQ.amY)&&t&&t.l.length==1){var i=t.U[t.l[0]];Z.T=A.EM;var T=i.BL(0)||i.BL(1)||i.BL(2)||i.BL(31);
Z.data={R:jn.dS,VE:T?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.J(Z)}var r=v.aC();if(h&&r!=-1&&this.Hk(cQ.cf[r])){var D=t.l[0],i=t.U[D],N=cQ.aHu(Math.round(100*i.JS/255),r);
Z.T=A.EM;Z.data={R:jn.Q3,VE:Math.round(255*N/100)};this.J(Z)}var G=this.n.mB;if(v.A(cQ.$G)){Y.data={R:_.Y.oL,K:G==0?1:0};
this.J(Y)}if(v.A(cQ.v_)||v.A(cQ.l5)&&G==2){var s=document.fullscreenElement!=null==(G==2);Y.data={R:_.Y.oL,K:G==0?2:0,GH:s};
this.J(Y)}if(v.A(cQ.acc)&&!this.NT.n2){Z.T=A.Nf;Z.data={R:"qmask"};this.J(Z)}}if(!v.A(cQ.LE)&&!g&&x){var Z=new eG(_.E.F),Y=new eG(_.E.c);
if(v.A(cQ.ep))Y.data={R:_.Y.S8,cG:"shortcuts"};if(v.A(cQ.a9F))Y.data={R:_.Y.S8,cG:"fill"};if(v.A(cQ.ait))Y.data={R:_.Y.S8,cG:"sel_feather"};
if(h&&(v.A(cQ.P9)||v.A(cQ.bJ))){var D=t.l[0],i=t.U[D],Q=gL.iX,q=Q.length,R=Q.indexOf(i.uF);Z.T=A.EM;
Z.data={R:jn.cW,VE:(R+q+(v.A(cQ.P9)?1:-1))%q};this.J(Z)}if(Y.data)this.J(Y)}var Z=new eG(_.E.F),m=d=="down"&&(this.Hk(cQ.on)||this.Hk(cQ.SY));
if((X||g)&&m){Z=new eG(_.E.U0);Z.data=A.mE.Ak(X?"BckC":"FrgC");this.J(Z)}else if(this.Rf.d4()==null&&t&&m&&!this.NT.n2){if(t.p!=null){Z=new eG(_.E.U0);
Z.data={oN:"delete"}}else if(t.l.length!=0){var i=t.U[t.l[0]];if(i.VL==1)Z.data={R:jn.yf};else if(i.VL==3)Z.data={R:jn.qH};
else Z.data={R:jn.o1};Z.T=A.EM}this.J(Z)}if(this.Rf.d4()!=null){if(v.A(cQ.l5)){this.Rf.d4().ayl()}else{this.Rf.d4().M6(t,this,this.n,v)}}if(this.n.tN==null)return;
var y=this.H8();if(this.Rf.d4()==null||this.B5.Mx)y.M6(t,this,this.n,v)};az.prototype.Hk=function(d){var v=this.Xs,t=this.B5.map[this.n.tN].T,top=this.Rf.d4(),h=this.c6();
return v.A(d)&&!t.YF(d,h)&&(top==null||!top.YF(d,h))};az.prototype.pV=function(d){var v=this.atB,t=this.iR;
this.n.mB=d;var h=u.al,X=this.iv._;if(h(X))this.eK.removeChild(X);var g=this.H$._;if(h(g))this.eK.removeChild(g);
var x=this.SG._;if(h(x))v.removeChild(x);var Z=this.XI._;if(h(Z))v.removeChild(Z);var Y=this.WN._;if(h(Y))v.removeChild(Y);
if(d==0){this.eK.appendChild(X);this.eK.appendChild(g);t.appendChild(v);v.appendChild(x);v.appendChild(Z);
v.appendChild(Y)}if(d==1){this.eK.appendChild(X);v.appendChild(Z)}if(d==2){v.appendChild(Z)}this.XI.pV(d==2?1:0);
this.jh()};az.prototype.a2F=function(d){if(this.jp())return 1;if(u.aGT()==0){this.n={};this.K$=function(v,t){return Math.sqrt(v*t)}}return-1};
az.aKY=function(){var d=j8==0?[[{T:new A.jt,ha:jk},{T:new A.jr,ha:k0}],[{T:new A.L0,ha:eZ,N9:0},{T:new A.Ur,ha:fx,N9:0}],[{T:new A.xV,ha:hq,N9:0},{T:new A.rO,ha:g0,N9:0},{T:new A.u8,ha:bn,N9:0}],[{T:new A.pZ,ha:bh,N9:0},{T:new A.dR,ha:a$,N9:0},{T:new A.ZP,ha:ez,N9:0}],[{T:new A.ams,ha:lv},{T:new A.a8e,ha:eX},{T:new A.Jp,ha:cw,N9:0},{T:new A.Hg,ha:iq,N9:0}],[{T:new A.Ds,ha:lz},{T:new A.hU,ha:a9,N9:0},{T:new A.DH,ha:i5}],[{T:new A.R8,ha:d$,N9:0},{T:new A.PF,ha:iK,N9:0},{T:new A.xV(!0),ha:ki,N9:0},{T:new A.pe,ha:g7,N9:0},{T:new A.aqv,ha:b8,N9:0},{T:new A.Fm,ha:dG,N9:0}],[{T:new A.mf,ha:ap,N9:0},{T:new A.a6,ha:bY,N9:0},{T:new A.ld,ha:gC,N9:0}],[{T:new A.yY,ha:ll,N9:0}],[{T:new A.eR,ha:b2,N9:0},{T:new A.Sb,ha:fE,N9:0},{T:new A.ib(!0),ha:le,N9:0}],[{T:new A.qy,ha:g_,N9:0},{T:new A.ib,ha:le,N9:0}],[{T:new A.NH,ha:hg,N9:0},{T:new A.uT,ha:f3,N9:0},{T:new A.uA,ha:ej,N9:0}],[{T:new A.lt,ha:fa,N9:0},{T:new A.FK,ha:lr,N9:0},{T:new A.LK,ha:ae,N9:0}],[{T:new A.Gz,ha:g1},{T:new A.uX,ha:g1}],[{T:new A.KN(0),ha:iY},{T:new A.c$,ha:bB},{T:new A.KN(1),ha:iY},{T:new A.KN(2),ha:iY},{T:new A.KN(3),ha:iY},{T:new A.KN(4),ha:iY}],[{T:new A.Sd,ha:da},{T:new A.bw,ha:ib}],[{T:new A.Rect,ha:fg},{T:new A.ZH,ha:l2},{T:new A.DY,ha:jX},{T:new A.hs,ha:eY},{T:new A.wI,ha:j0}],[{T:new A.Tt,ha:cp},{T:new A.db,ha:eD}],[{T:new A.VR,ha:jB}]]:j8==1?[[{T:new A.jt,ha:jk}],[{T:new A.bw,ha:ib}],[{T:new A.KN(0),ha:iY}],[{T:new A.c$,ha:bB}],[{T:new A.Gz,ha:g1},{T:new A.uX,ha:g1}],[{T:new A.DY,ha:jX}],[{T:new A.Rect,ha:fg},{T:new A.ZH,ha:l2}],[{T:new A.QY,ha:cp}],[{T:new A.oW,ha:g_}],[{T:new A.Ds,ha:lz}],[{T:new A.Tt,ha:cp},{T:new A.db,ha:eD}],[{T:new A.VR,ha:jB}]]:[[{T:new A.A0(0),ha:jk}],[{T:new A.A0(1),ha:ap}],[{T:new A.Tt,ha:cp}],[{T:new A.VR,ha:jB}]],Z="",Y="";
if(j8==0&&!u.GU(1))d[6].splice(2,1);var v=[[cQ.n6,cQ.wr,cQ.f0,cQ.aDd,cQ.f9,cQ.Fc,cQ.vq,cQ.ST,cQ.AA,cQ.E,cQ.sK,null,cQ.lK,cQ.nG,cQ._T,cQ.Y,cQ.Yu,cQ.sh,cQ.eG],[cQ.n6,cQ.Y,cQ._T,null,cQ.nG,cQ.aLU,cQ.wr,null,cQ.sK,cQ.Fc,cQ.sh,cQ.eG],[cQ.n6,cQ.ST,cQ.sh,cQ.eG]][j8],t=[{T:A.CK,we:!1,aM:[cQ.avL,cQ.uh]},{T:A.CK,we:!1,aM:[cQ.avL],D1:[A.MD]},{T:A.MD,we:!1,aM:[cQ.uh]},{T:A.sE,we:!0,aM:[cQ.LE],D1:[A.sa]},{T:A.sa,we:!0,aM:[cQ.LE],D1:[A.sE]},{T:A.qN,we:!0,aM:[cQ.LE],D1:[A.Z4,A.as,A.mL]}];
if(j8==0)t.push({T:A.Z4,we:!0,aM:[cQ.LE],D1:[A.qN,A.wS,A.Wr,A.k8,A.LD,A.Bs]});t.push({T:A.Xc,we:!0,aM:[cQ.LE]});
var h={a90:t,uJ:d,L_:[],keys:v,jg:[{T:new A.amq,ha:aD},{T:new A.aGa,ha:en},{T:new A.am4,ha:gX},{T:new A.Ds(!0),ha:lz},{T:new A.ca,ha:aA},{T:new A.mX,ha:cP},{T:new A.JH,ha:l4}],aiT:[{T:new A.OJ},{T:new A.History},{T:new A.Qi},{T:new A.lx},{T:new A.Y$},{T:new A.yI}],map:{},a5L:null,Mx:null,Tc:null},X=h.uJ;
for(var n=0;n<X.length;n++){var g=X[n];if(f7=="---")continue;for(var x=0;x<g.length;x++)if(g[x].N9!=null&&g[x].N9!=j8){g.splice(x,1);
x--}if(g.length==0){X.splice(n,1);h.keys.splice(n,1);n--}}for(var n=0;n<h.uJ.length;n++){var a=h.uJ[n];
if(a=="---")continue;var z=h.keys[n];for(var x=0;x<a.length;x++){h.map[a[x].T.id]=a[x];a[x].W_=n;a[x].azm=x;
var p=f7.get(a[x].T.name);Y+="<li>"+a[x].T.id+": "+p+"</li>";Z+="\t"+JSON.stringify(a[x].T.name)+", "+(z?"\""+z.ze+"\"":"null")+", "+a[x].T.id+", // "+p+"\n"}h.L_[n]=0}for(var n=0;
n<h.jg.length;n++)h.map[h.jg[n].T.id]=h.jg[n];for(var n=0;n<h.aiT.length;n++)h.map[h.aiT[n].T.id]=h.aiT[n];
try{var U=window.locStor.getItem("_ltools");if(U){U=U.split(",");for(var n=0;n<U.length;n++){var l=h.map[U[n]];
if(l&&l.W_!=null)h.L_[l.W_]=l.azm}}}catch(cQ){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return h};
function jW(d){hm.call(this);if(d==null)return;this.F0=null;this.uV=null;this._=u.q("div","sbar"+" "+d);
this.S6=new u.q("div","top");this.S6.innerHTML="> <";this._.appendChild(this.S6);this.zB=1;this.S6.addEventListener("click",this.am$.bind(this),!1)}jW.prototype=new hm;
jW.prototype.am$=function(d){if(this.F0!=null&&this.F0<500&&this.zB==0)return;if(this.zB==0)this.QB(!0);
else this.collapse(!0)};jW.prototype.alb=function(d){this.zB=d;this.S6.innerHTML=this.zB==0?"< >":"> <"};
jW.prototype.aJP=function(){var d=new eG(_.E.c,!0);d.data={R:_.Y.$Z};this.J(d)};jW.prototype.QB=function(d){this.alb(1);
if(d)this.aJP()};jW.prototype.collapse=function(d){this.alb(0);if(d)this.aJP()};jW.prototype.md=function(){return this.zB==1};
function jU(d){jW.call(this,"vcolumn");this.kR=d;this.wa();this.y_=u.q("div","cont");u.i(this.y_,"cursor:default;");
this.aNz=this.aEh.bind(this);this.apl=this.aty.bind(this);this.anR=this.axm.bind(this);u.We(this._,this.aNz);
this._.appendChild(this.y_);this.a2o=u.q("div");this.y_.appendChild(this.a2o);this.xA=-1;this.axG=u.q("div","float");
var v=this.Ny=u.q("canvas","gsicon"),t=Math.round(12*u.LY());v.width=v.height=t;var h=v.getContext("2d");
h.moveTo(2,2);h.lineTo(t-2,t-2);h.moveTo(2,7);h.lineTo(t-7,t-2);h.stroke();u.i(this.Ny,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
u.G4(this.Ny);u.We(this.Ny,this.aNz);u.i7(v);this.Wj=[];this.ao4=[];this.ajY=null;this.tD=null;this.ahY=0}jU.prototype=new jW;
jU.prototype.aEh=function(d){var v=d.target==this.Ny;if(!v){if(d.target!=this._)return;if(!this.md())return}else{var t=this.Wj[this.xA].$O;
t.style.pointerEvents="none";var h=t.getBoundingClientRect();this.ajY=[h.width,h.height];this.ao4[this.xA]=[h.width,h.height]}d.stopPropagation();
this.tD=u.cN(d,document.body);this.ahY=this.kR;u.Fg(document,this.apl);u.KP(document,this.anR)};jU.prototype.aty=function(d){var v=u.cN(d,document.body);
if(this.md()){this.kR=this.ahY+this.tD.x-v.x;this.wa()}else{var t=this.ao4[this.xA],h=this.ajY;t[0]=h[0]+this.tD.x-v.x;
t[1]=h[1]+v.y-this.tD.y}var X=new eG(_.E.c,!0);X.data={R:_.Y.$Z};this.J(X)};jU.prototype.axm=function(d){if(!this.md()){var v=this.Wj[this.xA].$O;
v.style.pointerEvents="auto"}u.Ej(document,this.apl);u.mc(document,this.anR)};jU.prototype.atz=function(d){d.P("showFloat",this.aIG,this);
d.P("hideFloat",this.UP,this);this.Wj.push(d);d.parent=this;this.y_.appendChild(d._)};jU.prototype.ayA=function(n){var d=this.Wj[n];
d.removeEventListener("showFloat",this.aIG,this);d.removeEventListener("hideFloat",this.UP,this);this.Wj.splice(n,1);
d.parent=null;this.y_.removeChild(d._)};jU.prototype.a5x=function(){return this.Wj.length};jU.prototype.aG=function(){for(var n=0;
n<this.Wj.length;n++)this.Wj[n].aG()};jU.prototype.aIG=function(d){this.aG();var v=this.axG;this.a2o.appendChild(v);
this.xA=this.Wj.indexOf(d.currentTarget);var t=this.Wj[this.xA].$O;u.Pl(v);v.appendChild(t);v.appendChild(this.Ny);
this.K$(this.F0,this.uV)};jU.prototype.UP=function(d){this.aG();if(this.xA!=-1){this.a2o.removeChild(this.axG);
this.xA=-1}};jU.prototype.wa=function(){function d(v){return Math.round(v*u.LY())/u.LY()}u.i(this._,"width: "+this.kR+"px; border-left-width:"+d(4)+"px; cursor:ew-resize;")};
jU.prototype.QB=function(d){this.wa();this.UP();for(var n=0;n<this.Wj.length;n++)this.Wj[n].QB();jW.prototype.QB.call(this,d)};
jU.prototype.collapse=function(d){this._.removeAttribute("style");for(var n=0;n<this.Wj.length;n++)this.Wj[n].collapse();
jW.prototype.collapse.call(this,d)};jU.aDZ=11;jU.prototype.K$=function(d,v,t){this.F0=d;this.uV=v;v-=jU.aDZ;
var h=this.Wj.length;if(h==0)return;this.y_.style.height=v-1+"px";if(!this.md()){var X=v<400?v:400+(v-400)*.5,g=Math.max(this.kR,(window.innerWidth-350)/3);
for(var n=0;n<h;n++){var x=this.Wj[n],Z=this.ao4[n];x.K$(Z?Z[0]:x.arP?g:this.kR,Z?Z[1]:X,t)}}else{var Y=v;
for(var n=0;n<h;n++){var x=this.Wj[n],a=x.alx();if(n==h-1){a=Y;x._.style.borderBottom="none"}x.K$(this.kR,a);
Y-=a+4}}};function ht(d){hm.call(this);this._=u.q("div");this.y_=null;this.UL=0;this.wk=0;this.aCP=d;
this.ak8=this.KT.bind(this);this.ahA=this.Lg.bind(this);this.aEm=this.qz.bind(this);this.EB=null;this.Ch=null;
this.alG=null;var v=this._,h="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
u.We(v,this.ak8);v.addEventListener("touchmove",u.Gc,!1);this.a3O=!0;this.EQ=[];var t=this.ael=u.q("div");
u.i(t,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");v.appendChild(t);
var X=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",h+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",h+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",h+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var n=0;n<X.length;n++){var g=new lt(X[n]);this.EQ.push(g);u.i(g._,"margin-left:"+(n<7?4:0)+"px;cursor:pointer;");
g.P("click",this.Vc,this)}}ht.prototype=new hm;ht.prototype.H=function(){var d=this.ael;u.Pl(d);for(var n=0;
n<this.EQ.length;n++){var v=this.EQ[n];if(n<5)v.H();d.appendChild(v._)}};ht.prototype.Vc=function(d){var n=this.EQ.indexOf(d.currentTarget);
if(n==0){if(window.showCap)window.showCap();return}var v=" issues learn blog api twitter facebook".split(" "),t=["","//github.com/photopea/"+["photo","vector"][j8]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],h=window.ga;
if(h)h("send","event","Links",v[n]);var X=new eG(_.E.c,!0);X.data={R:_.Y.t7,link:t[n]};this.J(X)};ht.prototype.KT=function(d){if(d.aJ0){d.preventDefault();
d.stopPropagation()}var v=window;u.Fg(v,this.ahA);u.KP(v,this.aEm);v=this.y_;this.EB=new cK(parseInt(v.style.left),parseInt(v.style.top));
this.Ch=u.cN(d,this._);this.alG=v.getBoundingClientRect()};ht.prototype.Lg=function(d){var v=u.cN(d,this._),t=this.EB.x+v.x-this.Ch.x,h=this.EB.y+v.y-this.Ch.y,X=this.UL-this.alG.width,g=this.wk-this.alG.height;
if(this.aCP)this.y_.style.left=Math.min(0,Math.max(X,t))+"px";else this.y_.style.top=Math.min(0,Math.max(g,h))+"px";
if(t-10>0){this.Ch.x=v.x-10;this.EB.x=0}if(t+10<X){this.Ch.x=v.x+10;this.EB.x=X}};ht.prototype.qz=function(d){var v=window;
u.Ej(v,this.ahA);u.mc(v,this.aEm)};ht.prototype.aGw=function(d){if(this.y_){this._.removeChild(this.y_)}this.y_=d;
this._.appendChild(d);d.style.position="absolute";d.style.appRegion="no-drag";if(this.aCP)d.style.left=0;
else d.style.top=0};ht.prototype.K$=function(d,v){this.UL=d;this.wk=v;u.i(this._,"position:relative; width: "+d+"px; height: "+v+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var t=this.y_.firstChild,h=this.ael,X=t?t.firstChild.getBoundingClientRect().width:1e9,g=170,x=navigator.windowControlsOverlay,Z=0,Y=0;
if(x&&x.visible){var a=x.getTitlebarAreaRect();Y=a.x;Z=d-a.width-a.x;if(Z<0)Z=0;X+=a.x;g+=Z}var z=this.a3O&&d>X+g;
h[f4.RG][f4.agU]=z?"":f4.aI3;h[f4.RG][f4.gz]=Z+"px";if(t){t[f4.RG][f4.aNs]=Y+"px";t[f4.RG][f4.adE]=f4.abB}var p=this.EQ;
for(var n=0;n<p.length;n++){var U=n>4||d-X-g>330?"":f4.aI3,l=p[n];l._.style.display=U}};ht.prototype.at1=function(){this.y_.style.left="0";
this.y_.style.top="0"};function kS(){hm.call(this);this.n=null;this.La=kS._T;this.aAF="";this._=u.q("div","rightbar");
this.np=[new jU(300),new jU(268)];this.Wj=[new ex,new ex,new ex,new ex,new ex,new ex,new ex(null,!0)];
this.a4b=[]}kS.prototype=new hm;kS.prototype.H=function(){var d=this.La;for(var n=0;n<d.length;n++)d[n].UZ.H()};
kS._T=[[{UZ:new eO,NB:3},{UZ:new fA,NB:1},{UZ:new dQ,NB:4},{UZ:new ih,NB:2},{UZ:new aU(!0),NB:5},{UZ:new ix(!0),NB:5},{UZ:new hy,NB:0},{UZ:new cc,NB:5},{UZ:new jv,NB:3},{UZ:new eC,NB:0},{UZ:new lE,NB:3},{UZ:new g9,NB:2},{UZ:new bu,NB:4},{UZ:new hA,NB:3},{UZ:new h0,NB:5},{UZ:new aU(!1),NB:5},{UZ:new ha,NB:2},{UZ:new gV,NB:3},{UZ:new kU,NB:1},{UZ:new dg,NB:0},{UZ:new hQ,NB:5},{UZ:new kj,NB:4},{UZ:new ca,NB:6,Ii:!0}],[{UZ:new cm,NB:5},{UZ:new aU(!0),NB:5},{UZ:new aU(!1),NB:5},{UZ:new kj,NB:4},{UZ:new cc,NB:5},{UZ:new eC,NB:0},{UZ:new g9,NB:2},{UZ:new iA,NB:6},{UZ:new ca,NB:6,Ii:!0}],[{UZ:new eC,NB:0},{UZ:new g9,NB:2}]][j8];
if(j8<2){if(u.GU(1))kS._T.push({UZ:new cC,NB:6,Ii:!0});kS._T.push({UZ:new ee,NB:6,Ii:!0},{UZ:new aT,NB:6,Ii:!0})}(function(){var d=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
if(j8<2)for(var n=0;n<d.length;n++)kS._T.push({UZ:new iw(d[n],""+(100+n)),NB:6,Ii:!0})}());kS.prototype.af_=function(d){for(var n=0;
n<d.length;n++){var v=d[n],t=new iw(v,"plg_"+v.name);this.La.push({UZ:t,NB:6});this.a4b.push(t.MK)}this.iq()};
kS.prototype.sq=function(d,v){this.n=d;var t=this.La;for(var n=0;n<t.length;n++)t[n].UZ.sq(d,v);if(v==lx.gp||v==lx.ph||v==lx.Np)this.iq()};
kS.prototype.u_=function(d){var v=this.La;for(var n=0;n<v.length;n++)v[n].UZ.u_(d)};kS.prototype.K$=function(d,v){this.F0=d;
this.uV=v;this.iq();this.np[0].K$(d,v);this.np[1].K$(d,v)};kS.prototype.iq=function(){var d=this.n,v=this.F0,t=this.uV;
if(d==null||v==0)return;var h=this.a4b;for(var n=0;n<h.length;n++){var X=this.ke(h[n]),g=X.UZ.AE.resID;
if(g!=null&&d.Mc.indexOf(g)==-1){h.splice(n,1);n--}}var x=d.NL.concat(h),Z=v<500||v<700&&v<t,Y=JSON.stringify(x)+","+Z;
if(Y!=this.aAF){this.aAF=Y;u.Pl(this._);var a=[];for(var n=0;n<this.np.length;n++){var z=this.np[n];
a[n]=z.md();while(z.a5x()!=0)z.ayA(0);z.QB()}var p=[];for(var n=0;n<this.Wj.length;n++){var U=this.Wj[n];
U.QB();while(U.aMX()!=0)U.Sl(0);p.push(0)}for(var n=0;n<x.length;n++){var X=this.ke(x[n].toString());
if(X==null)continue;this.Wj[X.NB].hS(X.UZ);this.Wj[X.NB]._g(0);p[X.NB]++}var l=[];for(var n=0;n<p.length;
n++){if(p[n]==0)continue;var L=n<3||Z?1:0,z=this.np[L];z.parent=this;z.atz(this.Wj[n]);l[L]=!0}for(var n=0;
n<this.np.length;n++)if(l[n])this._.appendChild(this.np[n]._);this.np[0].collapse();if(v<700||this.n.compact||!a[1]){this.np[1].collapse()}var j=new eG(_.E.c,!0);
j.data={R:_.Y.$Z};this.J(j)}};kS.prototype.ke=function(d){for(var n=0;n<this.La.length;n++)if(this.La[n].UZ.MK==d)return this.La[n]};
kS.prototype.axC=function(d){var v=this.ke(d);if(v==null)return;this.Wj[v.NB].hS(v.UZ)};kS.prototype.dn=function(d,v,t){var h=this.La;
for(var n=0;n<h.length;n++)h[n].UZ.dn(d,v,t)};kS.prototype.li=function(d,v,t,h,X){var g=this.La;for(var n=0;
n<g.length;n++)g[n].UZ.li(d,v,t,h,X)};kS.prototype.qw=function(d,v,t,h,X){var g=this.La;for(var n=0;
n<g.length;n++)g[n].UZ.qw(d,v,t,h,X)};kS.prototype.QZ=function(d,v,t,h,X){var g=this.La;for(var n=0;
n<g.length;n++)g[n].UZ.QZ(d,v,t,h,X)};function iM(d,v){jW.call(this,"toolbar");this._.removeChild(this.S6);
this.Fp=u.q("div","tools");this._.appendChild(this.Fp);this.X_=null;this.tN=null;this.aEi=v;this.A8=null;
this.xa=null;this.aNJ=-1;var t=window.locStor.getItem("_ltools");this.Yy=t?t.split(","):[];this.a8i=d;
this.B5=null;this.dQ=null;this.nW=null;this.aN5=null;this.dj=new ij;this.dj._.style.marginTop="5px";
this.dj._.style.marginBottom="3px";this.dj.parent=this;this.PW=new lt(u.U$("lrs/mask"),!1,[6,6,1]);this.PW.P("click",function(x){if(Date.now()-this.lI<300){var Z=new eG(_.E.c,!0);
Z.data={R:_.Y.S8,cG:"preferences"};this.J(Z)}else{var Z=new eG(_.E.F,!0);Z.T=A.Nf;Z.data={R:"qmask"};
this.J(Z);this.lI=Date.now()}},this);var h=new eM(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
h.P(_.E.w,this.ac2,this);var X=u.q("span","rangecontFloat form padded");X.appendChild(h._);u.i(X,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var g=this._;this.amC=[!1,!1,!1,!1];this.y8=new lt(u.U$("kb"),!1,"Virtual Keys");this.y8.P("click",function(x){var Z=this.y8._.getBoundingClientRect();
X.style.top=Z.top-110+"px";X.style.left=Z.left+Z.width+8+"px";if(u.al(X)){u.KI({_:X},g)}else{g.appendChild(X);
u.Qg({_:X})}},this)}iM.prototype=new jW;iM.prototype.ac2=function(d){var v=d.target.j();this.y8.a(v[0]||v[1]||v[2]||v[3]);
var t=new eG(_.E.c,!0);for(var n=0;n<4;n++){if(v[n]!=this.amC[n]){t.data={R:_.Y.a2e,n2:v[n],atN:[cQ.DS()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][n]};
this.J(t)}}this.amC=v.slice(0)};iM.prototype.atQ=function(d,v){this.A8=v;this.xa=d?d.lW:null;if(d==null||d.l.length==0||d.U[d.l[0]]==null)return;
var t=d.PW()!=null,h=d.z.b$,X=d.U[d.l[0]].VL,g=X==1||X==3||t||h[0]+h[1]+h[2]==1;this.dj.ahy(g);this.PW.a(t)};
iM.prototype.aIJ=function(d,v){var t=d.length,h=[];for(var n=0;n<t;n++)h[n]=d[n].slice(0);d=h;var X=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],g=Math.min(X.length/2,t-v);
for(var n=0;n<g;n++){var x=X[2*n],Z=X[2*n+1];d[x]=d[x].concat(d[Z]);d[Z]=null}for(var n=0;n<d.length;
n++)if(d[n]==null){d.splice(n,1);n--}return d};iM.prototype.a0D=function(d,v){for(var n=0;n<v.length;
n++)for(var t=0;t<v[n].length;t++)if(v[n][t].T.id==d)return n};iM.prototype.avK=function(d){var v=this.a8i;
this.dQ=[];this.nW=[];this.aN5=[];this.B5=[];var t=v.uJ;if(d!=null&&this.aEi)t=this.aIJ(t,d);var h=this.X_;
if(h){var X=[];for(var n=0;n<t.length;n++){var g=[];for(var x=0;x<t[n].length;x++){var Z=t[n][x];if(h==null||h.indexOf(parseInt(Z.T.id))!=-1)g.push(Z)}if(g.length>0)X.push(g)}t=X}for(var n=0;
n<t.length;n++){var Y=[],a=this.dQ.length,z=null,p=-1;for(var x=0;x<t[n].length;x++){var Z=t[n][x].T,U=this.a0D(Z.id,v.uJ),l=v.keys[U];
if(l==cQ.sh&&x==1)l=cQ.q2;this.B5.push(Z);var L=new eu(Z.name,l,Z.kY,this.dQ.length,n,t[n].length>1);
this.dQ.push(L);var j=this.Yy.indexOf(Z.id);if(j==-1)j=0;if(j>p){p=j;z=L}L.P(_.E.w,this.hT,this);L.P("mover",this.Mb,this);
Y.push({name:Z.name,Kr:Z.kY,aM:l?l.ze:""})}this.nW.push(z);this.aN5.push(Y.length==1?null:[Y,a])}};iM.prototype.K$=function(d,v){var t=this.uV=v,h=20;
if(1<u.LY()&&u.LY()<1.5)h=20/u.LY();h+=12.7;var X=this.uV>640&&j8==0?2:1,g=34+5+3+X*(h+4),x=Math.floor((t-g)/h);
if(x!=this.aNJ){this.aNJ=x;this.avK(x);this.qn()}var Z=this.nW.length*h+g,Y=Math.min(1,t/Z);if(.75<=Y){u.i(this.Fp,"width:34px; transform-origin: top left; transform: scale("+Y+","+Y+");");
u.i(this._,"height:"+(v-2)+"px;")}else{t-=4;u.i(this.Fp,"height: "+t+"px;  width:"+Math.ceil(Z/t)*34+"px");
u.i(this._,"")}};iM.prototype.H=function(){if(this.B5==null)return;for(var n=0;n<this.dQ.length;n++)this.dQ[n].H()};
iM.prototype.hT=function(d){var v=new eG(_.E.c,!0);v.data={R:_.Y.H_,T:this.B5[d.id].id};this.J(v)};iM.prototype.apk=function(d){var v=d.target.a73+d.target.Q_()[0];
this.dQ[v].qz(null,!0)};iM.prototype.Mb=function(d){var v=this.A8,t=new eG(_.E.c,!0);t.data={R:_.Y.NK};
this.J(t);var h=d.target,X=this.aN5[h.W_];if(X==null)return;var g=new jr(X[0],null,!0);g.a73=X[1];g.W_=h.W_;
g.P("select",this.apk,this);g.parent=this;g.H();var x=h._.getBoundingClientRect(),t=new eG(_.E.c,!0);
t.data={R:_.Y.Vw,UZ:g,x:x.left+x.width+8,y:x.top};if(v==null||!(v.A(cQ.uh)||v.A(cQ.LE)))this.J(t)};iM.prototype.qn=function(d){if(d==null)d=this.tN;
this.tN=d;if(this.B5==null)return;var v=this.Yy.indexOf(d);if(v!=-1)this.Yy.splice(v,1);this.Yy.push(d);
window.locStor.setItem("_ltools",this.Yy.join(","));var t=-1;for(var n=0;n<this.B5.length;n++)if(this.B5[n].id==d)t=n;
for(var n=0;n<this.dQ.length;n++){var h=this.dQ[n];h.a4m(t==n)}if(t==-1)return;this.nW[this.dQ[t].W_]=this.dQ[t];
u.Pl(this.Fp);var X=this.nW;for(var n=0;n<X.length;n++){this.Fp.appendChild(X[n]._)}if(!this.aEi)return;
if(j8<2)this.Fp.appendChild(this.dj._);if(this.uV>640&&j8==0)this.Fp.appendChild(this.PW._);if(j8<2)this.Fp.appendChild(this.y8._)};
iM.prototype.sq=function(d,v){if(v==lx.Np&&d.X_){this.X_=d.X_;this.avK();this.qn()}this.dj.aGk(d.Sw,d.dL);
if(j8==1&&(v==lx.py||v==lx.Np)){this.dj.aNe(d,this.xa)}};function eu(d,v,t,h,X,g){hm.call(this);this.fA=0;
this.r4=this.a8h.bind(this);this.W_=X;this.xo=h;this.fI=d;this.Ro=v;this.aCG=g;this.kY=t;this._=u.q("button","");
this._.innerHTML=u.U$(this.kY);if(this.aCG){var x=u.q("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);
u.i(x,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(x)}this._.addEventListener("touchstart",u.Gc,!1);
this.H();u.We(this._,this.KT.bind(this));u.KP(this._,this.qz.bind(this));this._.addEventListener("contextmenu",this.r4,!1);
this._.addEventListener("contextmenu",eu.ns,!1)}eu.prototype=new hm;eu.ns=function(d){d.stopPropagation();
d.preventDefault();return!1};eu.prototype.H=function(){var d=this.Ro?" ("+this.Ro.ze+")":"";this._.setAttribute("title",f7.get(this.fI)+d)};
eu.prototype.KT=function(d){eu.c8=this.xo;this.fA=setTimeout(this.r4,160)};eu.prototype.qz=function(d,v){if(v==null&&eu.c8!=this.xo)return;
clearTimeout(this.fA);var t=new eG(_.E.w,!1);t.target=this;t.id=this.xo;this.J(t)};eu.prototype.a8h=function(d){var v=new eG("mover",!1);
v.target=this;v.id=this.xo;this.J(v)};eu.prototype.a4m=function(d){this._.className=d?"toolbtn active":"toolbtn"};
function c7(){hm.call(this);this._=u.q("div","topbar");this.aL8=u.q("span");this.adf=u.q("span");this.a7G=0;
this._.appendChild(this.aL8);this._.appendChild(this.adf);this.Vr=null;this.n=null;this.$o=[];this.NL=[];
var d=this.KT.bind(this);for(var n=0;n<c7.data.length;n++){var v=u.q("button");this.$o.push(v);var t=c7.data[n];
v.addEventListener("mouseover",d,!1);u.We(v,d)}this.CL=new lt([0,13,0],!1,null,!0);this.CL.P("click",this.tg,this);
this.iT=new lt(u.U$("tools/zoom",null,"autoscale"),!1,[12,86]);this.iT.P("click",this.tg,this);this.aLJ=new lt("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aLJ.P("click",this.tg,this)}c7.prototype=new hm;c7.prototype.aE5=function(){if(this.NL.length!=0)return;
for(var n=0;n<c7.data.length;n++){var d=c7.data[n],v=new jr(d.items,d.fj);v.parent=this;this.NL.push(v)}this.H()};
c7.prototype.H=function(){this.CL.H();this.iT.H();this.aLJ.H();for(var n=0;n<this.$o.length;n++)this.$o[n].textContent=f7.get(c7.data[n].name);
this.amy();for(var n=0;n<this.NL.length;n++)this.NL[n].H()};c7.prototype.tg=function(d){var v=new eG(_.E.c,!0);
if(d.target==this.CL)v.data={R:_.Y.S8,cG:"account"};else if(d.target==this.iT)v.data={R:_.Y.C$};else v.data={R:_.Y.oL,GH:!0};
this.J(v)};c7.prototype.ih=function(d,v){this.Vr=d;this.n=v};c7.prototype.sq=function(d,v){this.n=d;
if(v==lx.Np){var t=d.avi;u.Pl(this.aL8);for(var n=0;n<this.$o.length;n++){var h=c7.data[n];if(t==null||t[n]==1||t[n]instanceof Array)this.aL8.appendChild(this.$o[n]);
if(t!=null&&t[n]instanceof Array){this.aE5();this.NL[n].akk(t[n])}}var X=this.adf;u.Pl(X);if(d.PS){X.appendChild(this.CL._)}X.appendChild(this.iT._);
X.appendChild(this.aLJ._)}this.amy()};c7.prototype.amy=function(d,v){var t=this.CL,h=12255232;if(iP.qP())h=iP.yU()?43520:16755200;
u.i(t._,"color:#ffffff; background-color:#"+f.Uj(h))};c7.prototype.KT=function(d){this.aE5();var n=this.$o.indexOf(d.currentTarget),v=this.NL[n];
if(d.type=="mouseover"&&!u.al(this.NL[this.a7G]._))return;if(u.al(v._))return;d.aJ0=!0;this.a7G=n;for(var n=0;
n<c7.data.length;n++)this.NL[n].update(this.Vr,this.n);var t=d.target.getBoundingClientRect(),h=new eG(_.E.c,!0);
h.data={R:_.Y.Vw,UZ:v,x:t.left,y:t.top+t.height+2,aEV:!0};this.J(h)};c7.aIH=function(d){var v=cQ,t=v.LE,h=v.cm,X=v.io,g=function(F){return{f:F!=null}},x=function(F){return{f:F!=null&&F.p!=null}},Z=function(F){return{f:F!=null&&F.fi(!1)}},Y=function(F){return{f:F!=null&&F.fi(!1)&&F.p!=null}},a=[{name:[7,0],f:g,aM:[t,v.Y]},{name:[7,1],aM:[t,v.J4],f:j8==2?null:x},{name:[7,2],aM:[h,t,v.Fc],f:x,G0:!0},{name:"Remove BG",f:c7.BN},{name:[7,8],f:g,XG:!0},{name:[7,13],XG:!0,f:function(F){return{f:F!=null&&F.l.length!=0&&!F.U[F.l[0]].S.HP()}}},{name:[7,14],f:c7.BN,G0:!0},{name:[7,11],XG:!0,f:function(F){return{f:F!=null&&F.l.length!=0&&!F.U[F.l[0]].S.HP()}}},{name:[7,3],f:g,G0:!0,sub:[{name:[7,9],XG:!0,f:x},{name:[19,3,0],XG:!0,f:x},{name:[7,4],XG:!0,f:x},{name:[7,5],XG:!0,f:x},{name:[7,6],XG:!0,f:x,aM:"Shift+F6"}]},{name:[7,15],f:x},{name:[7,16],f:x,G0:!0},{name:[7,10],f:x,G0:!0},{name:[6,6,1],f:function(F){return{f:F!=null,BY:F!=null&&F.PW()!=null}},aM:[v.acc],G0:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],f:x}],z=[{g:_.E.U0,d:A.Oe.qJ(!0)},{g:_.E.U0,d:A.Oe.qJ()},{g:_.E.U0,d:{oN:"inverse"}},{g:_.E.F,T:A.Nf,d:{R:"bgrm",K:1}},{g:_.E.c,d:{R:_.Y.S8,cG:"crange"}},{g:_.E.c,d:{R:_.Y.S8,cG:"magiccut"}},{g:_.E.F,T:A.Nf,d:{R:"bgrm",K:2}},{g:_.E.c,d:{R:_.Y.S8,cG:"redge"}},{sub:[{g:_.E.c,d:{R:_.Y.S8,cG:"sel_border"}},{g:_.E.c,d:{R:_.Y.S8,cG:"sel_smoothness"}},{g:_.E.c,d:{R:_.Y.S8,cG:"sel_expand"}},{g:_.E.c,d:{R:_.Y.S8,cG:"sel_contract"}},{g:_.E.c,d:{R:_.Y.S8,cG:"sel_feather"}}]},{g:_.E.U0,d:{oN:"grow",mQ:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:_.E.U0,d:{oN:"similar",mQ:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:_.E.c,d:{R:_.Y.H_,T:A.Yt}},{g:_.E.F,T:A.Nf,d:{R:"qmask"}},{g:_.E.c,d:{R:_.Y.S8,cG:"loadsel"}},{g:_.E.c,d:{R:_.Y.S8,cG:"savesel"}}];
if(d){var p=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],U={a:[{name:"Make Work Path",f:x},{g:_.E.U0,d:A.Oe.amM()}],b:[{name:[6,49,0],f:x},{g:_.E.U0,d:{oN:"copyToLayer"}}],c:[{name:[6,49,1],f:Y},{g:_.E.U0,d:{oN:"cutToLayer"}}],d:[{name:[6,13]},{g:_.E.F,T:A.EM,d:{R:jn.XK}}],e:[{name:[10,16],f:g},{g:_.E.c,d:{R:_.Y.H_,T:A.Oi}}],f:[{name:[2,3],f:Y,XG:!0},{g:_.E.c,d:{R:_.Y.S8,cG:"fill"}}],g:[{name:[14,9],f:Y,XG:!0},{g:_.E.c,d:{R:_.Y.S8,cG:"stroke"}}]},l=[],L=[];
for(var n=0;n<p.length;n++){var j=p[n];if(a[j]){var O=a[j];O.G0=!1;delete O.aM;l.push(O);L.push(z[j])}else if(j==""){l[l.length-1].G0=!0}else if(U[j]){var O=U[j];
l.push(O[0]);L.push(O[1])}}z=L;a=l}return{name:[0,5],items:a,fj:z}};c7.BN=function(d){return{f:u.GU(1)&&d!=null&&d.l.length!=0&&!d.U[d.l[0]].S.HP()}};
c7.kT=function(d,v){if(d==null||d.l.length==0)return!1;var t=d.U[d.l[0]];return t.add.TySh!=null&&v.tN==A.uW};
c7.az$=function(){var d=cQ,v=d.LE,t=d.cm,h=d.io,X=function(g){return{f:g!=null}};return[[{name:[5,0],aM:[v,d.Hc],f:function(g,x){return{f:g!=null&&(g.ahl()||c7.kT(g,x))}}},{name:[5,1],aM:[v,d.f9],f:X},{name:[5,2],aM:[v,d.n6],f:function(g,x){return{f:c7.kT()||u.bk()||x.H4!=null||x.JP!=null||x.a1y!=null}}},{name:[2,2],f:function(g,x){return{f:g!=null&&(g.p!=null||c7.kT(g,x)||j8==2&&g.l.length==1&&g.U[g.l[0]].Y.l.length!=0)}},aM:"Delete",G0:!0}],[{g:_.E.c,d:{R:_.Y.sO}},{g:_.E.c,d:{R:_.Y._M}},{g:_.E.c,d:{R:_.Y.me}},j8!=2?{g:_.E.U0,d:{oN:"delete"}}:{g:_.E.F,T:A.Xc,d:{R:"remove",qq:"Clear Notes"}}]]};
c7.u7=function(d,v){var t=function(a){return{f:a!=null&&a.l.length!=0&&a.U[a.l[0]].add.SoLd!=null}},h=function(a){return{f:a!=null}},X=[],g=[],x="none maxx avrg medn minn rang stdv summ vari".split(" "),Z=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var n=0;n<x.length;n++){X.push({name:Z[n],f:function(a,z){if(a==null||a.l.length!=1)return{f:!1};
var p=a.U[a.l[0]].add.SoLd;if(p==null)return{f:!1};return{f:!0,BY:p.Impr.v.classID==this.avm}}.bind({avm:x[n]})});
g.push({g:_.E.F,T:A.EM,d:{R:jn.gC,VE:x[n]}})}var Y={name:[6,7,1],f:h,G0:!0,sub:[{name:[6,7,0]},{name:"New Smart Obj. via Copy",f:t,G0:!0},{name:"Open (Edit Contents)",f:t,XG:!0},{name:"Reset Transform",f:t},{name:"Replace Contents",f:t,XG:!0},{name:"Export Contents",f:t,XG:!0,G0:!0},{name:"Convert to Layers",f:t,XG:!0,G0:!0},{name:[6,36,4],f:t,sub:X},{name:"Turn into JPG",f:t}]};
if(!d)Y={sub:[{g:_.E.U0,d:{oN:"newPlacedLayer"}},{g:_.E.U0,d:{oN:"placedLayerMakeCopy"}},{g:_.E.U0,d:{oN:"placedLayerEditContents",mQ:{classID:"placedLayerEditContents"}}},{g:_.E.U0,d:{oN:"placedLayerResetTransforms",mQ:{classID:"placedLayerResetTransforms"}}},{g:_.E.U0,d:{oN:"placedLayerReplaceContents",mQ:{classID:"placedLayerReplaceContents"}}},{g:_.E.U0,d:{oN:"placedLayerExportContents",mQ:{classID:"placedLayerExportContents"}}},{g:_.E.U0,d:{oN:"placedLayerConvertToLayers",mQ:{classID:"placedLayerConvertToLayers"}}},{sub:g},{g:_.E.F,T:A.EM,d:{R:jn.a0_}}]};
if(v)Y.sub.splice(0,1);return Y};c7.data=function(){var d=cQ,v=d.LE,t=d.cm,h=d.io,X=function(W){return{f:W!=null&&W.l.length!=0}},g=function(W){return{f:W!=null}},x=function(W){return{f:W!=null&&W.fi(!1)}},Z=function(W){return{f:W!=null&&W.fi(!1)&&!W.U[W.l[0]].S.HP()}},Y=function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]].add.vmsk!=null}},a=c7.az$(!0),z=[],p=[],U=[],l="assignProfile",L="convertToProfile",j=function(W,V,n){return{BY:W!=null&&W.aD0()==n,f:!0}};
for(var n=0;n<hc.cB.length;n++){var O=hc.cB[n];z.push({name:O,f:j});var F={classID:l,null:kl.hR("Dcmn",!0)};
if(O!="sRGB")F.profile={t:"TEXT",v:hc.X8[n]};var i={classID:L,null:kl.hR("Dcmn",!0)};i.T={t:"TEXT",v:hc.X8[n]};
p.push({g:_.E.U0,d:{oN:l,mQ:F}});U.push({g:_.E.U0,d:{oN:L,mQ:i}})}var $=[{name:[0,0],items:[{name:[5,3],aM:[h,v,d.OW],title:[11,7],XG:!0},{name:[1,0],aM:[v,d.lK],XG:!0},{name:[1,11],XG:!0,f:g},{name:["VAR0 VAR1",[1,0],[0,14]],G0:!0,sub:[{name:"From Any Folder"},{name:[1,19,1],XG:!0,aM:[h,v,d.lK]},{name:[1,5],XG:!0},{name:[11,0],XG:!0},{name:["PSD VAR0",[25,0]],XG:!0}]},{name:[1,18],G0:!0,f:g,sub:[{name:"PNG",aM:"Imgur.com",f:function(W,V){return{f:W!=null&&V.wQ}}},{name:"JPG",aM:"Imgur.com",f:function(W,V){return{f:W!=null&&V.wQ}}},{name:j8==0?"PSD":"AI",aM:["Photo","Vector"][j8]+"pea.com",f:function(W,V){return{f:W!=null&&V.wQ&&!W.pM}}}]},{name:"Save ...",aM:[v,d.AA],f:function(W,V){var y=f7.get([1,2]),c=!0;
if(W){if(W.II)y+=" ("+f7.get([6,7,1])+")";if(W.S3)y+=" (Google Drive)";if(W._4)y+=" ("+Storage.list[W._4[0]][0]+")";
c=b3.ji.indexOf(W.P8)!=-1;if(j8==1)c=W.P8=="ai"}return{f:W!=null&&(W._4!=null||W.l2!=null&&c||W.II!=null||W.QS!=null&&W.QS.aH!=null||W.S3!=null||V.cE.save!=null),DZ:y}}},{name:[[1,3],"Save as AI","Save as MID"][j8],f:function(W,V){return{f:W!=null&&V.wQ}}},{name:["VAR0 VAR1",[1,2],[0,14]],f:g,sub:[{name:["VAR0 VAR1",j8==0?"PSD":"AI",[1,19,2]],f:function(W,V){return{f:W!=null&&V.wQ}}},{name:["VAR0 PSD/PSB",[1,2]],XG:!0,f:function(W,V){return{f:j8==0&&W!=null&&V.wQ}}}]},{name:[1,8],f:g,sub:function(){var W=b3.P0(0),V=[];
for(var n=0;n<W.length;n++)V.push({name:W[n],aM:"."+W[n].toLowerCase()});V.push({name:j8==2?"Sheet":[0,14],sub:function(){var W=b3.P0(1),V=[];
for(var n=0;n<W.length;n++)V.push({name:W[n],aM:"."+W[n].toLowerCase()});return V}()});return V}()},{name:[1,4],XG:!0,f:g,G0:!0,aM:[v,d._T]},{name:[1,9],XG:!0,f:g},{name:"Export Color Lookup",XG:!0,f:g,G0:!0},{name:[1,14],XG:!0,f:g,G0:!0},{name:[1,17],sub:[{name:"Batch",XG:!0},{name:"PDF Presentation",XG:!0},{name:"Convert Formats",XG:!0},{name:"Generate Mockups",XG:!0,f:g},{name:"Resize Images",XG:!0,G0:!0},{name:"Crop and Straighten Photos",f:g}]},{name:[1,10],XG:!0}],fj:[{g:_.E.c,d:{R:_.Y.S8,cG:"newproject"}},{g:_.E.c,d:{R:_.Y.mx}},{g:_.E.c,d:{R:_.Y.mx,acK:!0}},{sub:[{g:_.E.c,d:{R:_.Y.mx,Cr:!0}},{g:_.E.c,d:{R:_.Y.S8,cG:"storwindow",y1:0}},{g:_.E.c,d:{R:_.Y.S8,cG:"open_from_url"}},{g:_.E.c,d:{R:_.Y.S8,cG:"camera"}},{g:_.E.c,d:{R:_.Y.S8,cG:"res0"}}]},{sub:[{g:_.E.c,d:{R:_.Y.ew,Cm:"png"}},{g:_.E.c,d:{R:_.Y.ew,Cm:"jpg"}},{g:_.E.c,d:{R:_.Y.ew,Cm:j8==0?"psd":"ai"}}]},{g:_.E.c,d:{R:_.Y.Qk}},{g:_.E.c,d:{R:_.Y.kZ}},{sub:[{g:_.E.c,d:{R:_.Y.S8,cG:"storwindow",y1:1}},{g:_.E.c,d:{R:_.Y.S8,cG:"savepsb"}}]},{sub:function(){var W=b3.P0(0),V=[];
for(var n=0;n<W.length;n++)V.push({g:_.E.c,d:{R:_.Y.S8,cG:"saveforweb",Cm:n}});V.push({sub:function(){var y=b3.P0(0).length,W=b3.P0(1),V=[];
for(var n=0;n<W.length;n++)V.push({g:_.E.c,d:{R:_.Y.S8,cG:"saveforweb",Cm:y+n}});return V}()});return V}()},{g:_.E.c,d:{R:_.Y.S8,cG:"saveforweb",Cm:3,aGF:!0}},{g:_.E.c,d:{R:_.Y.S8,cG:"eassets"}},{g:_.E.c,d:{R:_.Y.S8,cG:"exlut"}},{g:_.E.c,d:{R:_.Y.S8,cG:"finfo"}},{sub:[{g:_.E.c,d:{R:_.Y.S8,cG:"batch"}},{g:_.E.c,d:{R:_.Y.S8,cG:"pdfpres"}},{g:_.E.c,d:{R:_.Y.S8,cG:"cformat"}},{g:_.E.c,d:{R:_.Y.S8,cG:"mockups"}},{g:_.E.c,d:{R:_.Y.S8,cG:"resize"}},{g:_.E.F,T:A.bl,d:{R:"cropAndStr"}}]},{g:_.E.c,d:{R:_.Y.S8,cG:"script"}}]},{name:[0,1],items:[{name:[2,8],f:g},{name:[2,0],f:g,aM:[t,v,d.eG]},{name:[2,1],f:g,aM:[v,d.eG],G0:!0},{name:[2,11],aM:[t,v,d.v_],G0:!0,XG:!0,f:function(W,V){return{f:lF.aO2(W)&&V.tN!=A.Oi}}},a[0][0],a[0][1],{name:[5,7],aM:[t,v,d.f9],f:function(W){return{f:W!=null&&W.p!=null}}},a[0][2],a[0][3],{name:[2,3],f:x,XG:!0,aM:[t,d.a9F]},{name:[14,9],f:x,XG:!0,G0:!0},{name:[10,48],f:x},{name:[10,46],f:function(W){return{f:A.mN.UX(W)}}},{name:"Perspective Warp",f:function(W){return{f:A.mN.UX(W)}}},{name:[10,16],f:g,aM:[h,v,d.nG]},{name:[2,4],f:g,sub:j$.LR()},{name:[2,10,1],f:g},{name:[2,10,0],f:g,G0:!0},{name:"Assign Profile",sub:z},{name:"Convert to Profile",sub:z,G0:!0},{name:[12,87],f:g,sub:[{name:[12,62],f:g},{name:[9,3],f:g},{name:[10,31],f:function(W){return{f:W!=null&&W.V9()[1].length!=0}}}]},{name:[1,15],XG:!0},{name:[12,79],XG:!0,aM:[v,d.qB]},{name:[1,13],XG:!0}],fj:[{g:_.E.F,T:A.Hh,d:{R:"h_undoredo"}},{g:_.E.F,T:A.Hh,d:{R:"h_stepfwd"}},{g:_.E.F,T:A.Hh,d:{R:"h_stepbck"}},{g:_.E.c,d:{R:_.Y.S8,cG:"afw_fade"}},a[1][0],a[1][1],{g:_.E.c,d:{R:_.Y._M,Nx:!0}},a[1][2],a[1][3],{g:_.E.c,d:{R:_.Y.S8,cG:"fill"}},{g:_.E.c,d:{R:_.Y.S8,cG:"stroke"}},{g:_.E.c,d:{R:_.Y.H_,T:A.ie}},{g:_.E.F,T:A.bH,d:{R:"start",zh:"rigidTransform"}},{g:_.E.F,T:A.bH,d:{R:"start",zh:"perspectiveWarpTransform"}},{g:_.E.c,d:{R:_.Y.H_,T:A.Oi}},{sub:j$.xS()},{g:_.E.U0,d:{oN:"align",mQ:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{g:_.E.F,T:A.EM,d:{R:jn.acQ}},{sub:p},{sub:U},{sub:[{g:_.E.c,d:{R:_.Y.m5,Ic:0}},{g:_.E.c,d:{R:_.Y.m5,Ic:1}},{g:_.E.c,d:{R:_.Y.m5,Ic:2}}]},{g:_.E.c,d:{R:_.Y.S8,cG:"pmanager"}},{g:_.E.c,d:{R:_.Y.S8,cG:"preferences"}},{g:_.E.c,d:{R:_.Y.S8,cG:"locstor"}}]},{name:[0,2],items:[{name:[12,36],f:g,G0:!0,sub:[{name:"RGB",f:function(W){if(W==null)return{f:!1};
return{BY:W.add.fcmy==null,f:!0}}},{name:"CMYK",G0:!0,f:function(W){if(W==null)return{f:!1};return{BY:W.add.fcmy!=null,f:W.depth!=32}}}].concat(bI?[{name:"8 Bits/Channel",f:function(W){if(W==null)return{f:!1};
return{BY:W.depth==8,f:!0}}},{name:"16 Bits/Channel",f:function(W){if(W==null)return{f:!1};return{BY:W.depth==16,f:!0}}},{name:"32 Bits/Channel",f:function(W){if(W==null)return{f:!1};
return{BY:W.depth==32,f:W.add.fcmy!=1}}}]:[])},{name:[3],f:g,G0:!0,sub:function(){var W=[];for(var V in cV.names){W.push({name:cV.names[V],XG:ds[V]!=null,aM:cV.keys[V],G0:cV.az9.indexOf(V)!=-1});
if(V=="selc"){W.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],XG:!0,G0:!0});W.push({name:[19,7,0],aM:[v,t,d.Yu],f:x});
W.push({name:[4,18],XG:!0,f:x})}}return W}()},{name:[4,16,0],f:x},{name:[4,16,1],f:x},{name:[4,16,2],f:x,G0:!0},{name:[11,11,1],f:Z,XG:!0},{name:[11,11,0],f:Z,XG:!0},{name:"Wavelet Decompose",f:Z,G0:!0},{name:[11,3],f:g,XG:!0,aM:[h,v,d.f9]},{name:[11,10],f:g,XG:!0,aM:[h,v,d.Fc]},{name:[2,4],f:g,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],f:function(W){return{f:W!=null&&W.p!=null}}},{name:[11,12,0],f:g,aM:[v,d.ok],XG:!0},{name:[11,12,2],f:g,G0:!0},{name:[12,53],f:g},{name:[2,12],f:x,XG:!0,G0:!0},{name:[2,14],f:g,XG:!0}],fj:[{sub:[{g:_.E.F,T:A.Xc,d:{R:"fcmy",K:0}},{g:_.E.F,T:A.Xc,d:{R:"fcmy",K:1}},{g:_.E.U0,d:{oN:"convertMode",mQ:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{g:_.E.U0,d:{oN:"convertMode",mQ:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{g:_.E.U0,d:{oN:"convertMode",mQ:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var W=[];
for(var V in cV.names){W.push({g:_.E.F,T:A.xU,d:{R:"start",Gm:V}});if(V=="selc"){W.push({g:_.E.F,T:A.bH,d:{R:"start",zh:"adaptCorrect"}});
W.push({g:_.E.U0,d:{oN:"desaturate"}});W.push({g:_.E.F,T:A.xU,d:{R:"start",Gm:"matc"}})}}return W}()},{g:_.E.U0,d:{oN:"levels",mQ:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{g:_.E.U0,d:{oN:"levels",mQ:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{g:_.E.U0,d:{oN:"levels",mQ:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{g:_.E.c,d:{R:_.Y.S8,cG:"rcolors"}},{g:_.E.c,d:{R:_.Y.S8,cG:"vbitmap"}},{g:_.E.F,T:A.EM,d:{R:jn.aoW}},{g:_.E.c,d:{R:_.Y.S8,cG:"csize"}},{g:_.E.c,d:{R:_.Y.S8,cG:"isize"}},{sub:[{g:_.E.U0,d:A.hZ.GB(!0,90)},{g:_.E.U0,d:A.hZ.GB(!0,-90)},{g:_.E.U0,d:A.hZ.GB(!0,-180)},{g:_.E.U0,d:A.hZ.GB(!1,"Hrzn")},{g:_.E.U0,d:A.hZ.GB(!1,"Vrtc")}]},{g:_.E.U0,d:{oN:"crop",mQ:{__name:"Crop",classID:"Crop"}}},{g:_.E.c,d:{R:_.Y.S8,cG:"trim"}},{g:_.E.U0,d:{oN:"revealAll",mQ:{classID:"RvlA"}}},{g:_.E.U0,d:{oN:"duplicate",mQ:{classID:"Dplc",null:kl.hR("Dcmn",!0)}}},{g:_.E.F,T:A.xU,d:{R:"start",Gm:"aply"}},{g:_.E.c,d:{R:_.Y.S8,cG:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],f:g,sub:[{name:[0,3],aM:[t,v,d.OW]},{name:[0,4]},{name:[1,16,0],XG:!0},{name:[1,16,3],XG:!0,G0:!0},{name:[6,49,0],aM:[v,d.vq]},{name:[6,49,1],aM:[t,v,d.vq],f:function(W){return{f:W!=null&&W.p!=null&&W.fi(!1)}}}]},{name:[6,0],f:X},{name:[11,4],f:X},{name:[5,4],f:X,G0:!0},{name:"Text",f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],f:X,G0:!0,sub:jI.RN(!0)},{name:[6,48,1],f:g,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],f:g,G0:!0,sub:jI.ayH()},{name:[6,2],f:g,sub:[{name:[6,4],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()==null}}},{name:[6,5,0],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()==null}}},{name:[6,5,1],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()==null&&W.p!=null}}},{name:[6,5,2],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()==null&&W.p!=null}}},{name:[6,5,3],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()==null}},G0:!0},{name:[5,4],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()!=null}}},{name:[5,8],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()!=null&&W.fi(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]]._B()!=null}}}]},{name:[6,3],f:g,sub:[{name:[6,4],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]].add.vmsk==null}}},{name:[6,5,0],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]].add.vmsk==null}}},{name:[12,76,7],f:function(W){return{f:W!=null&&W.l.length!=0&&W.U[W.l[0]].add.vmsk==null}},G0:!0},{name:[5,4],f:Y},{name:["VAR0/VAR1",[5,5],[5,6]],f:Y}]},g9.a7x(!0),c7.u7(!0),{name:[6,8],f:g9.afr},{name:[6,34],G0:!0,f:function(W){if(W==null||W.l.length==0)return{f:!1};
var V=W.U[W.l[0]];return{f:V.add.lmfx!=null&&!V.h5()}}},{name:[6,9],f:g,G0:!0,aM:[v,d.sK]},{name:[6,55],f:g,sub:[{name:[6,56,0],aM:[t,v,d.LV]},{name:[6,56,1],aM:[v,d.LV]},{name:[6,56,2],aM:[v,d.i3]},{name:[6,56,3],aM:[t,v,d.i3]}]},{name:"Combine Shapes",f:g,G0:!0,sub:[{name:[18,1],Kr:"set/union"},{name:[18,2],Kr:"set/difference"},{name:[18,3],Kr:"set/intersection"},{name:[18,4],Kr:"set/xor"}]},{name:[6,58],f:g,G0:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],aM:[v,d.E],f:g9.Jj},{name:[6,12,1],f:g},{name:[2,13],f:g}],fj:[{sub:[{g:_.E.F,T:A.EM,d:{R:jn.XK}},{g:_.E.F,T:A.EM,d:{R:jn.yC}},{g:_.E.c,d:{R:_.Y.S8,cG:"newartb",y1:0}},{g:_.E.c,d:{R:_.Y.S8,cG:"newartb",y1:1}},{g:_.E.U0,d:{oN:"copyToLayer"}},{g:_.E.U0,d:{oN:"cutToLayer"}}]},{g:_.E.F,T:A.EM,d:{R:jn.jl}},{g:_.E.c,d:{R:_.Y.S8,cG:"duplinto"}},{g:_.E.F,T:A.EM,d:{R:jn.o1}},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.by}}]},{sub:jI.Yb(!0)},{sub:[{g:_.E.F,T:A.wS,d:{R:"newfill",tJ:0}},{g:_.E.U0,d:A.N4.Ak(1)},{g:_.E.U0,d:A.N4.Ak(2)}]},{sub:jI.GK()},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.ks,y1:"RvlA"}},{g:_.E.F,T:A.EM,d:{R:jn.ks,y1:"HdAl"}},{g:_.E.F,T:A.EM,d:{R:jn.ks,y1:"RvlS"}},{g:_.E.F,T:A.EM,d:{R:jn.ks,y1:"HdSl"}},{g:_.E.F,T:A.EM,d:{R:jn.ks,y1:"Trns"}},{g:_.E.F,T:A.EM,d:{R:jn.yf}},{g:_.E.F,T:A.EM,d:{R:jn.vz}},{g:_.E.F,T:A.EM,d:{R:jn.gu}}]},{sub:[{g:_.E.U0,d:A.fL.Vp(0)},{g:_.E.U0,d:A.fL.Vp(1)},{g:_.E.U0,d:A.fL.Vp(2)},{g:_.E.U0,d:A.fL.Vp(3)},{g:_.E.F,T:A.EM,d:{R:jn._c}}]},{g:_.E.F,T:A.EM,d:{R:jn.BV}},c7.u7(!1),{g:_.E.U0,d:{oN:"rasterizeLayer",mQ:{classID:"rasterizeLayer",null:kl.hR("Lyr",!0)}}},{g:_.E.U0,d:{oN:"rasterizeLayer",mQ:{classID:"rasterizeLayer",null:kl.hR("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:_.E.F,T:A.EM,d:{R:jn.DL}},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.pi,G$:0}},{g:_.E.F,T:A.EM,d:{R:jn.pi,G$:1}},{g:_.E.F,T:A.EM,d:{R:jn.pi,G$:2}},{g:_.E.F,T:A.EM,d:{R:jn.pi,G$:3}}]},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.AX,wR:0}},{g:_.E.F,T:A.EM,d:{R:jn.AX,wR:1}},{g:_.E.F,T:A.EM,d:{R:jn.AX,wR:2}},{g:_.E.F,T:A.EM,d:{R:jn.AX,wR:3}}]},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.Ex,G$:"makeframes"}},{g:_.E.F,T:A.EM,d:{R:jn.Ex,G$:"unmakeframes"}},{g:_.E.F,T:A.EM,d:{R:jn.Ex,G$:"merge"}}]},{g:_.E.U0,d:{oN:"mergeLayersNew",mQ:{__name:"Merge Layers",classID:"Mrg2"}}},{g:_.E.U0,d:{oN:"flattenImage"}},{g:_.E.F,T:A.bH,d:{R:"start",zh:"defr"}}]},c7.aIH(!1),function(){var W={name:[0,6],items:[{name:[24,18,4],aM:[h,v,d.v_],f:g,G0:!0}],fj:[{g:_.E.F,T:A.bH,d:{R:"applylast"}}]};
for(var n=0;n<e0.Dl.length;n++){var V=e0.Dl[n],y=V.fC;if(V.hn!=null){var c={name:e0.names[V.hn],XG:!0,G0:V.G0,f:g};
if(V.hn=="VaPo")c.f=x;W.items.push(c);W.fj.push({g:_.E.F,T:A.bH,d:{R:"start",zh:V.hn}});continue}var S={name:V.gT,sub:[],f:g};
W.items.push(S);var C={sub:[]};W.fj.push(C);for(var K=0;K<y.length;K++){var T=y[K],D=e0.names[T];if(T=="blurbTransform")D=[24,3,12,K];
var N={name:D,XG:e0.yu(T)!=null};S.sub.push(N);var G={g:_.E.F,T:A.bH,d:{R:"start",zh:T,amD:K<2?K:K+1}};
C.sub.push(G)}}return W}(),{name:[0,7],items:[{name:[8,0],f:g,aM:[v,d.P9]},{name:[8,1],f:g,aM:[v,d.bJ]},{name:[20,3],f:g,aM:[v,d.Su]},{name:[20,2],f:g,aM:[v,d.Id]},{name:[8,14],f:function(W,V){return{f:W!=null,BY:W!=null&&W.Dw}},G0:!0},{name:[12,36],G0:!0,sub:[{name:"Fullscreen",f:function(W,V){return{BY:document.fullscreenElement!=null}},G0:!0},{name:"Standard",f:function(W,V){return{BY:V.mB==0}}},{name:"Menu Bar and Canvas",f:function(W,V){return{BY:V.mB==1}}}]},{name:[8,13],aM:[v,d.sh],f:function(W,V){return{BY:V.N$}}},{name:[8,12],G0:!0,sub:[{name:[17,2],f:function(W,V){return{f:V.N$,BY:V.rp.Oc}}},{name:[8,9],f:function(W,V){return{f:V.N$,BY:V.rp.S5}}},{name:[8,2],f:function(W,V){return{f:V.N$,BY:V.rp.MQ}},aM:[v,d.Fr]},{name:[8,4],f:function(W,V){return{f:V.N$,BY:V.rp.iN}},aM:[v,d.ww]},{name:[8,8],f:function(W,V){return{f:V.N$,BY:V.rp.Nz}}},{name:[8,11,0],f:function(W,V){return{f:V.N$,BY:V.rp.Wc}}}]},{name:[8,3],f:function(W,V){return{BY:V.Na}},aM:[v,d.q2],G0:!0},{name:[8,5],f:function(W,V){return{BY:V.lX}}},{name:[8,6],G0:!0,sub:[{name:[8,2],f:function(W,V){return{BY:V.Hs[0]}}},{name:[8,4],f:function(W,V){return{BY:V.Hs[1]}}},{name:[9,1],f:function(W,V){return{BY:V.Hs[2]}}},{name:[8,11,0],f:function(W,V){return{BY:V.Hs[3]}}},{name:[8,7,0],f:function(W,V){return{BY:V.Hs[4]}}}]},{name:[11,15,2],f:function(W,V){return{f:W!=null,BY:W!=null&&W.CB}}},{name:[11,15,0],f:g},{name:[11,14],f:g,XG:!0},{name:[11,15,1],f:function(W,V){return{f:W!=null&&W.l.length!=0}},G0:!0},{name:[8,11,2],f:function(W,V){return{f:W!=null&&W.Wc.length!=0}}}],fj:[{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!0}},{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!1}},{g:_.E.F,T:A.CK,d:{R:"adapt",K:"fitscr"}},{g:_.E.F,T:A.CK,d:{R:"adapt",K:"pixel"}},{g:_.E.F,T:A.Xc,d:{R:"pview"}},{sub:[{g:_.E.c,d:{R:_.Y.oL,GH:!0}},{g:_.E.c,d:{R:_.Y.oL,K:0}},{g:_.E.c,d:{R:_.Y.oL,K:1}},{g:_.E.c,d:{R:_.Y.oL,K:2}}]},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.b9}},{sub:[{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.Vq}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.Hv}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.gB}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.ET}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.tz}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.lk}}]},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.ao}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.aFY}},{sub:[{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.cO,Lp:0}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.cO,Lp:1}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.cO,Lp:2}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.cO,Lp:3}},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.cO,Lp:4}}]},{g:_.E.F,T:A.Xc,d:{R:"lockguides"}},{g:_.E.F,T:A.Xc,d:{R:"gids",BH:[[],[]]}},{g:_.E.c,d:{R:_.Y.S8,cG:"addguides"}},{g:_.E.F,T:A.Xc,d:{R:"gidsFromLayer"}},{g:_.E.F,T:A.sE,d:{R:"deleteAll"}}]},function(){var W={name:[0,8],items:[{name:[0,14],G0:!0,sub:[]},{name:"Plugins",G0:!0}],fj:[{sub:[]},{g:_.E.c,d:{R:_.Y.S8,cG:"res1"}}]};
for(var n=0;n<kS._T.length;n++){var V=kS._T[n],y=function(){var c=V.UZ.MK;return function(S,C){return{BY:C.NL.indexOf(parseInt(c))!=-1}}}();
(V.Ii?W.items[0].sub:W.items).push({name:V.UZ.name,f:y});(V.Ii?W.fj[0].sub:W.fj).push({g:_.E.c,d:{R:_.Y.Qu,cG:V.UZ.MK}})}return W}(),function(){var W={name:[0,14],items:[],fj:[]},V={name:[0,9],sub:[]};
W.items.push(V);var y={sub:[]};W.fj.push(y);var c=f7.aeL();for(var n=0;n<c.length;n++){var S=c[n],C=S.code,K=f7.aO9(C);
V.sub.push({name:S.name,aM:C,f:function(T,D){return{BY:this.aM==f7.Ou()}}});y.sub.push({g:_.E.c,d:{R:_.Y.Kf,Ic:lx.x8,lang:K}})}V.sub.push({name:[0,12]});
y.sub.push({g:_.E.c,d:{R:_.Y.t7,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
W.items.push(V);var y={sub:[]};W.fj.push(y);for(var n=0;n<fW._w.length;n++){V.sub.push({name:fW._w[n].name,f:function(T,D){return{BY:this.name==fW._w[D.O5].name}}});
y.sub.push({g:_.E.c,d:{R:_.Y.Kf,Ic:lx.Jv,O5:n}})}W.items.push({name:j8==0?[0,17,6]:"Install Vectorpea",f:function(T,D){return{f:D.VZ!=null}}});
W.fj.push({g:_.E.c,d:{R:_.Y.Jq}});if(j8==0){W.items.push({name:[11,13]});W.fj.push({g:_.E.c,d:{R:_.Y.S8,cG:"shortcuts"}});
W.items.push({name:[0,16],f:function(T){return{BY:fq.Dz,f:fq.apB}},G0:!0});W.fj.push({g:_.E.c,d:{R:_.Y.aBP}})}W.items.push({name:"PeaMark"});
W.fj.push({g:_.E.c,d:{R:_.Y.S8,cG:"peamark"}});W.items.push({name:"",f:function(T,D){return D.PS?{DZ:"About "+["Photopea","Vectorpea"][j8],f:!0}:{DZ:"",f:!1}}});
W.fj.push({g:_.E.c,d:{R:_.Y.S8,cG:"aboutpp"}});return W}()],H=[$[0],{name:[0,1],items:[{name:[2,8],f:g},{name:[2,0],f:g,aM:[t,v,d.eG]},{name:[2,1],f:g,aM:[v,d.eG],G0:!0},a[0][0],a[0][1],{name:[5,7],aM:[t,v,d.f9],f:function(W){return{f:W!=null&&W.p!=null}}},a[0][2],a[0][3],{name:[10,16],f:g,aM:[h,v,d.nG]},{name:[2,4],f:g,sub:j$.LR()},{name:"Assign Profile",sub:z},{name:"Convert to Profile",sub:z,G0:!0},{name:[12,87],f:g,sub:[{name:[9,3],f:g},{name:[10,31],f:function(W){return{f:W!=null&&W.V9()[1].length!=0}}}]},{name:[1,15],XG:!0},{name:[12,79],XG:!0,aM:[v,d.qB]},{name:[1,13],XG:!0}],fj:[{g:_.E.F,T:A.Hh,d:{R:"h_undoredo"}},{g:_.E.F,T:A.Hh,d:{R:"h_stepfwd"}},{g:_.E.F,T:A.Hh,d:{R:"h_stepbck"}},a[1][0],a[1][1],{g:_.E.c,d:{R:_.Y._M,Nx:!0}},a[1][2],a[1][3],{g:_.E.c,d:{R:_.Y.H_,T:A.Oi}},{sub:j$.xS()},{sub:p},{sub:U},{sub:[{g:_.E.c,d:{R:_.Y.m5,Ic:1}},{g:_.E.c,d:{R:_.Y.m5,Ic:2}}]},{g:_.E.c,d:{R:_.Y.S8,cG:"pmanager"}},{g:_.E.c,d:{R:_.Y.S8,cG:"preferences"}},{g:_.E.c,d:{R:_.Y.S8,cG:"locstor"}}]},{name:"Object",items:[{name:[2,4],f:g,G0:!0,sub:[{name:[12,54]},{name:[2,5]},{name:"Reflect"},{name:[12,38]}]},{name:[6,9],f:g,G0:!0,aM:[v,d.sK]},{name:[12,76,0],G0:!0,sub:[{name:"Join",aM:[v,d.vq]},{name:[24,3,0],aM:[h,v,d.vq]}]},{name:[6,6,0],sub:[{name:[5,5],aM:[v,d.wD]},{name:[5,6],aM:[h,v,d.wD]}]},{name:"Compound Path",sub:[{name:"Make",f:Y},{name:"Release",f:Y}]},{name:[1,16,1],sub:[{name:"Fit to Artwork Bounds"}]}],fj:[{sub:[{g:_.E.c,d:{R:_.Y.S8,cG:"transform",G$:0}},{g:_.E.c,d:{R:_.Y.S8,cG:"transform",G$:1}},{g:_.E.c,d:{R:_.Y.S8,cG:"transform",G$:2}},{g:_.E.c,d:{R:_.Y.S8,cG:"transform",G$:3}},{g:_.E.c,d:{R:_.Y.S8,cG:"transform",G$:4}}]},{g:_.E.F,T:A.EM,d:{R:jn.DL}},{sub:[{g:_.E.F,T:A.qN,d:{R:"join"}},{g:_.E.F,T:A.qN,d:{R:"average"}}]},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.DL,ej:!0}},{g:_.E.F,T:A.EM,d:{R:jn.DL,ej:!0,lA:!0}}]},{sub:[{g:_.E.F,T:A.EM,d:{R:jn.AX,wR:0}},{g:_.E.F,T:A.EM,d:{R:jn.ahb}}]},{sub:[{g:_.E.F,T:A.Ob,d:{R:"adapt"}}]}]},{name:[0,7],items:[{name:"Outline View",f:function(W,V){return{BY:W&&W.add.prvw==0,f:W!=null}},G0:!0,aM:[v,d.if]},{name:[8,0],f:g,aM:[v,d.P9]},{name:[8,1],f:g,aM:[v,d.bJ]},{name:[12,36],G0:!0,sub:[{name:"Fullscreen",f:function(W,V){return{BY:document.fullscreenElement!=null}},G0:!0},{name:"Standard",f:function(W,V){return{BY:V.mB==0}}},{name:"Menu Bar and Canvas",f:function(W,V){return{BY:V.mB==1}}}]},{name:[8,3],f:function(W,V){return{BY:V.Na}},aM:[v,d.q2]}],fj:[{g:_.E.F,T:A.CK,d:{R:"prvw"}},{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!0}},{g:_.E.F,T:A.CK,d:{R:"zoom",JR:!1}},{sub:[{g:_.E.c,d:{R:_.Y.oL,GH:!0}},{g:_.E.c,d:{R:_.Y.oL,K:0}},{g:_.E.c,d:{R:_.Y.oL,K:1}}]},{g:_.E.c,d:{R:_.Y.Kf,Ic:lx.ao}}]},$[7],$[8]];
function b(W,V){var y={name:W.name,items:[],fj:[]};for(var n=0;n<V.length;n++){var c=V[n];y.items.push(W.items[c]);
y.fj.push(W.fj[c])}return y}var r=[b($[0],[0,1,6,8]),b($[1],[0,1,2,4,5,7,8]),b($[3],[0,1,2,3]),b($[4],[0,1]),b($[6],[0,1]),$[8]];
r[0].items[2].G0=!0;r[0].items.push({name:[1,18]});r[0].fj.push({g:_.E.c,d:{R:_.Y.ew,Cm:"mid"}});return j8==0?$:j8==1?H:r}();
function kX(){hm.call(this);this._=u.q("div","");this.UL=0;this.wk=0;this.n=null;this.NB=u.q("div","");
u.i(this.NB,"width:200em; height:100em; position:absolute;");this.Lu=[];this.qT=[];this.VK={}}kX.prototype=new hm;
kX.prototype.UC=function(d){var v=Date.now(),t=[];if(d=="-"){t=[new gW,new ch,new d_,new kH("pdfpres"),new kH("cformat"),new kH("batch"),new kH("mockups"),new kH("resize"),new iN,new ie,new hi,new hl,new hl(!0),new hp,new bq,new gH,new jH,new la,new it,new jT,new lB,new c$,new bz,new jI,new gq("isize"),new gq("csize"),new bK,new iZ,new fM,new f9,new a4,new gY,new g$,new hW,new j1(!1),new j1(!0),new a3(0),new a3(1),new ec,new kO,new jE,new gU,new dn,new gI,new iz(0),new iz(1),new iz(2),new iz(3),new iz(4),new iz(5),new iz(6),new iz(7),new iz(8),new bA,new ge,new ly,new kK,new l9,new gD,new ga,new eA,new cN,new kr,new bZ,new j5(0),new j5(1),new g2("border",[7,9],"px"),new g2("smoothness",[19,3,0],"px"),new g2("expand",[7,4],"px"),new g2("contract",[7,5],"px"),new g2("feather",[7,6],"px"),new f_(0,"namewindow",[12,48]),new f_(2,"billto","Bill To"),new f_(1,"cornerradius",[12,94,0],"px",!0,!0),new f_(1,"scaleeffects",[6,30,1],"%",!0),new f_(1,"doczoom","Zoom","%",!0),new f_(1,"setFPS","Set FPS","fps,120",!1),new f_(1,"simplifypath",[12,94,2],"%,100",!0,!0),new iQ];
if(j8==0){t.push(new dm)}}else t=[new lF(d.slice(4))];this.aKh(t);this.VK[d]=!0};kX.prototype.aKh=function(d){var v=this.n;
for(var n=0;n<d.length;n++){var t=d[n];t.parent=this;this.qT.push(t);this.Rl(t);t.H();if(v)t.sq(v,lx.Np);
t.P(_.E.EO,this.XZ,this);u.KI(t)}};kX.prototype.K$=function(d,v){this.UL=d;this.wk=v;for(var n=0;n<this.qT.length;
n++)this.Rl(this.qT[n])};kX.prototype.H=function(){for(var n=0;n<this.qT.length;n++)this.qT[n].H()};
kX.prototype.d4=function(){return this.Lu.length==0?null:this.Lu[this.Lu.length-1]};kX.prototype.Ht=function(){for(var n=0;
n<this.Lu.length;n++)if(this.Lu[n].Ht())return!0;return!1};kX.prototype.a1P=function(d,v,t,h,X){console.log("Show",d);
var g=d.startsWith("afw_"),x=null;if(!g&&!this.VK["-"])this.UC("-");if(g&&!this.VK[d])this.UC(d);if(typeof d=="object"){x=d;
if(!x.ak5(_.E.EO,this.XZ))x.P(_.E.EO,this.XZ,this);x.parent=this}else for(var n=0;n<this.qT.length;n++)if(this.qT[n].id==d)x=this.qT[n];
if(this.Ht()&&x.Ht()){alert("Finish the current action first");return}if(!x.Hx(v))return;if(this.Lu.indexOf(x)!=-1){if(d=="colorpicker")this.XZ(null,x);
else return}var Z=this.Lu.length-1;if(Z>=0)u.M3(this.Lu[Z]._,"wdisabled");this._.appendChild(x._);this.Lu.push(x);
this.Rl(x);u.Qg(x);x.dn(v,t,h,X)};kX.prototype.Rl=function(d){var v=this.UL,t=this.wk,h=d.M1(v,t),X;
if(h!=null){X=h}else{h=new cK(0,0);X=d.apZ();if(X==null){var g=this.Lu.indexOf(d)+1;if(v<450||t<450)X=new cK(0,0);
else X=new cK(g*150,g*150)}}d._.style.left=X.x+"px";d._.style.top=this._.offsetTop+X.y+"px";d.K$(this.UL-h.x*2,this.wk-h.y*2-34)};
kX.prototype.sq=function(d,v){this.n=d;for(var n=0;n<this.qT.length;n++)this.qT[n].sq(d,v)};kX.prototype.XZ=function(d,v){if(v==null){v=this.Lu.pop();
u.KI(v,this._)}else{this.Lu.splice(this.Lu.indexOf(v),1);this._.removeChild(v._);u.Ag(v._,"wdisabled")}var t=this.Lu.length-1;
if(t>=0)u.Ag(this.Lu[t]._,"wdisabled");if(this.NB.parentNode==this._)this._.removeChild(this.NB)};document.body.appendChild(new az()._)}())